; ModuleID = 'bench/pbrt-v4/original/aggregate.cpp.ll'
source_filename = "bench/pbrt-v4/original/aggregate.cpp.ll"
target datalayout = "e-m:e-p270:32:32-p271:32:32-p272:64:64-i64:64-i128:128-f80:128-n8:16:32:64-S128"
target triple = "x86_64-unknown-linux-gnu"

%"class.pbrt::StatRegisterer" = type { i8 }
%"class.pbrt::Primitive" = type { %"class.pbrt::TaggedPointer" }
%"class.pbrt::TaggedPointer" = type { i64 }
%"class.pbrt::CPUAggregate" = type { %"class.pbrt::WavefrontAggregate", %"class.pbrt::Primitive" }
%"class.pbrt::WavefrontAggregate" = type { ptr }
%"class.std::function.119" = type { %"class.std::_Function_base", ptr }
%"class.std::_Function_base" = type { %"union.std::_Any_data", ptr }
%"union.std::_Any_data" = type { %"union.std::_Nocopy_types" }
%"union.std::_Nocopy_types" = type { { i64, i64 } }
%"class.std::function.95" = type { %"class.std::_Function_base", ptr }
%"class.pbrt::WorkQueue" = type <{ %"struct.pbrt::SOA", %"struct.std::atomic", [4 x i8] }>
%"struct.pbrt::SOA" = type { i32, %"struct.pbrt::SOA.97", ptr, ptr, %"struct.pbrt::SOA.100", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.102", ptr, ptr, ptr }
%"struct.pbrt::SOA.97" = type { i32, %"struct.pbrt::SOA.98", %"struct.pbrt::SOA.99", ptr, ptr }
%"struct.pbrt::SOA.98" = type { i32, ptr, ptr, ptr }
%"struct.pbrt::SOA.99" = type { i32, ptr, ptr, ptr }
%"struct.pbrt::SOA.100" = type { i32, ptr, ptr, ptr, ptr }
%"struct.pbrt::SOA.101" = type { i32, ptr, ptr }
%"struct.pbrt::SOA.102" = type { i32, %"struct.pbrt::SOA.103", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105" }
%"struct.pbrt::SOA.103" = type { i32, %"struct.pbrt::SOA.104", %"struct.pbrt::SOA.104", %"struct.pbrt::SOA.104" }
%"struct.pbrt::SOA.104" = type { i32, ptr, ptr }
%"struct.pbrt::SOA.105" = type { i32, ptr, ptr, ptr }
%"struct.std::atomic" = type { %"struct.std::__atomic_base" }
%"struct.std::__atomic_base" = type { i32 }
%"class.pbrt::WorkQueue.107" = type <{ %"struct.pbrt::SOA.108", %"struct.std::atomic", [4 x i8] }>
%"struct.pbrt::SOA.108" = type { i32, %"struct.pbrt::SOA.97", ptr, %"struct.pbrt::SOA.100", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", ptr }
%"class.pbrt::WorkQueue.112" = type <{ %"struct.pbrt::SOA.113", %"struct.std::atomic", [4 x i8] }>
%"struct.pbrt::SOA.113" = type { i32, %"struct.pbrt::SOA.98", %"struct.pbrt::SOA.98", ptr, ptr, %"struct.pbrt::SOA.114", %"struct.pbrt::SOA.100", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.115", ptr, ptr, ptr, ptr, %"struct.pbrt::SOA.116" }
%"struct.pbrt::SOA.114" = type { i32, %"struct.pbrt::SOA.98", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.105", ptr, ptr, %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101" }
%"struct.pbrt::SOA.115" = type { i32, ptr, ptr }
%"struct.pbrt::SOA.116" = type { i32, %"struct.pbrt::SOA.103", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99" }
%"class.pbrt::Bounds3" = type { %"class.pbrt::Point3", %"class.pbrt::Point3" }
%"class.pbrt::Point3" = type { %"class.pbrt::Tuple3" }
%"class.pbrt::Tuple3" = type { float, float, float }
%"struct.pbrt::RayWorkItem" = type <{ %"class.pbrt::Ray", i32, %"class.pbrt::SampledWavelengths", i32, %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", %"class.pbrt::LightSampleContext", float, i32, i32, [4 x i8] }>
%"class.pbrt::Ray" = type { %"class.pbrt::Point3", %"class.pbrt::Vector3", float, %"class.pbrt::Medium" }
%"class.pbrt::Vector3" = type { %"class.pbrt::Tuple3.124" }
%"class.pbrt::Tuple3.124" = type { float, float, float }
%"class.pbrt::Medium" = type { %"class.pbrt::TaggedPointer.125" }
%"class.pbrt::TaggedPointer.125" = type { i64 }
%"class.pbrt::SampledWavelengths" = type { %"class.pstd::array", %"class.pstd::array" }
%"class.pstd::array" = type { [4 x float] }
%"class.pbrt::SampledSpectrum" = type { %"class.pstd::array" }
%"class.pbrt::LightSampleContext" = type { %"class.pbrt::Point3fi", %"class.pbrt::Normal3", %"class.pbrt::Normal3" }
%"class.pbrt::Point3fi" = type { %"class.pbrt::Point3.126" }
%"class.pbrt::Point3.126" = type { %"class.pbrt::Tuple3.127" }
%"class.pbrt::Tuple3.127" = type { %"class.pbrt::Interval", %"class.pbrt::Interval", %"class.pbrt::Interval" }
%"class.pbrt::Interval" = type { float, float }
%"class.pbrt::Normal3" = type { %"class.pbrt::Tuple3.128" }
%"class.pbrt::Tuple3.128" = type { float, float, float }
%"class.pstd::optional" = type { %"union.std::aligned_storage<256, 8>::type", i8, [7 x i8] }
%"union.std::aligned_storage<256, 8>::type" = type { [256 x i8] }
%"class.pbrt::SurfaceInteraction" = type { %"class.pbrt::Interaction", %"class.pbrt::Vector3", %"class.pbrt::Vector3", %"class.pbrt::Normal3", %"class.pbrt::Normal3", %struct.anon.129, i32, %"class.pbrt::Material", %"class.pbrt::Light", %"class.pbrt::Vector3", %"class.pbrt::Vector3", float, float, float, float }
%"class.pbrt::Interaction" = type { %"class.pbrt::Point3fi", float, %"class.pbrt::Vector3", %"class.pbrt::Normal3", %"class.pbrt::Point2", ptr, %"class.pbrt::Medium" }
%"class.pbrt::Point2" = type { %"class.pbrt::Tuple2" }
%"class.pbrt::Tuple2" = type { float, float }
%struct.anon.129 = type { %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", %"class.pbrt::Normal3", %"class.pbrt::Normal3" }
%"class.pbrt::Material" = type { %"class.pbrt::TaggedPointer.130" }
%"class.pbrt::TaggedPointer.130" = type { i64 }
%"class.pbrt::Light" = type { %"class.pbrt::TaggedPointer.131" }
%"class.pbrt::TaggedPointer.131" = type { i64 }
%class.anon.106 = type { ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr }
%"struct.pbrt::Float4" = type { [4 x float] }
%"struct.pbrt::ShapeIntersection" = type <{ %"class.pbrt::SurfaceInteraction", float, [4 x i8] }>
%"class.pbrt::WorkQueue.132" = type <{ %"struct.pbrt::SOA.133", %"struct.std::atomic", [4 x i8] }>
%"struct.pbrt::SOA.133" = type { i32, %"struct.pbrt::SOA.97", ptr, ptr, %"struct.pbrt::SOA.100", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", ptr, ptr, %"struct.pbrt::SOA.103", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.134", %"struct.pbrt::SOA.102", ptr, ptr, %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", ptr, ptr, ptr, %"struct.pbrt::SOA.115" }
%"struct.pbrt::SOA.134" = type { i32, ptr, ptr }
%"class.pbrt::WorkQueue.136" = type <{ %"struct.pbrt::SOA.137", %"struct.std::atomic", [4 x i8] }>
%"struct.pbrt::SOA.137" = type { i32, %"struct.pbrt::SOA.98", %"struct.pbrt::SOA.99", ptr, %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.100", %"struct.pbrt::SOA.102", ptr, ptr }
%"class.pbrt::BasicTextureEvaluator" = type { i8 }
%class.anon.160 = type { ptr }
%"class.pbrt::FloatTexture" = type { %"class.pbrt::TaggedPointer.139" }
%"class.pbrt::TaggedPointer.139" = type { i64 }
%"struct.pbrt::MaterialEvalContext" = type { %"struct.pbrt::TextureEvalContext", %"class.pbrt::Vector3", %"class.pbrt::Normal3", %"class.pbrt::Vector3" }
%"struct.pbrt::TextureEvalContext" = type { %"class.pbrt::Point3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", %"class.pbrt::Normal3", %"class.pbrt::Point2", float, float, float, float, i32 }
%"struct.pbrt::SOA<pbrt::MediumSampleWorkItem>::GetSetIndirector" = type { ptr, i32 }
%"struct.pbrt::MediumSampleWorkItem" = type { %"class.pbrt::Ray", i32, float, %"class.pbrt::SampledWavelengths", %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", i32, %"class.pbrt::LightSampleContext", i32, i32, float, %"class.pbrt::Light", %"class.pbrt::Point3fi", %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", %"class.pbrt::Point2", %"class.pbrt::Material", %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", %"class.pbrt::Normal3", %"class.pbrt::Normal3", i32, %"struct.pbrt::MediumInterface" }
%"struct.pbrt::MediumInterface" = type { %"class.pbrt::Medium", %"class.pbrt::Medium" }
%class.anon.144 = type { ptr, %"class.pbrt::SurfaceInteraction", %"struct.pbrt::RayWorkItem", %"struct.pbrt::MediumInterface" }
%"class.pbrt::MixMaterial" = type { %"class.pbrt::FloatTexture", [2 x %"class.pbrt::Material"] }
%"class.pbrt::WorkQueue.140" = type <{ %"struct.pbrt::SOA.141", %"struct.std::atomic", [4 x i8] }>
%"struct.pbrt::SOA.141" = type { i32, ptr, %"struct.pbrt::SOA.100", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.98", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.134", %"struct.pbrt::SOA.99", ptr, %"struct.pbrt::SOA.102", ptr, ptr }
%"class.pbrt::DielectricMaterial" = type { ptr, %"class.pbrt::FloatTexture", %"class.pbrt::FloatTexture", %"class.pbrt::FloatTexture", i8, %"class.pbrt::Spectrum" }
%"class.pbrt::Spectrum" = type { %"class.pbrt::TaggedPointer.159" }
%"class.pbrt::TaggedPointer.159" = type { i64 }
%"class.pbrt::DiffuseMaterial" = type { ptr, %"class.pbrt::FloatTexture", %"class.pbrt::SpectrumTexture" }
%"class.pbrt::SpectrumTexture" = type { %"class.pbrt::TaggedPointer.158" }
%"class.pbrt::TaggedPointer.158" = type { i64 }
%class.anon.154 = type { ptr }
%"struct.pbrt::TexCoord2D" = type { %"class.pbrt::Point2", float, float, float, float }
%"class.pbrt::ImageTextureBase" = type { %"class.pbrt::TextureMapping2D", %"class.std::__cxx11::basic_string", float, i8, ptr }
%"class.pbrt::TextureMapping2D" = type { %"class.pbrt::TaggedPointer.145" }
%"class.pbrt::TaggedPointer.145" = type { i64 }
%"class.std::__cxx11::basic_string" = type { %"struct.std::__cxx11::basic_string<char>::_Alloc_hider", i64, %union.anon.149 }
%"struct.std::__cxx11::basic_string<char>::_Alloc_hider" = type { ptr }
%union.anon.149 = type { i64, [8 x i8] }
%"class.pstd::vector" = type { %"class.pstd::pmr::polymorphic_allocator.150", ptr, i64, i64 }
%"class.pstd::pmr::polymorphic_allocator.150" = type { ptr }
%"class.pbrt::UVMapping" = type { float, float, float, float }
%"class.pbrt::PlanarMapping" = type { %"class.pbrt::Transform", %"class.pbrt::Vector3", %"class.pbrt::Vector3", float, float }
%"class.pbrt::Transform" = type { %"class.pbrt::SquareMatrix.155", %"class.pbrt::SquareMatrix.155" }
%"class.pbrt::SquareMatrix.155" = type { [4 x [4 x float]] }
%"class.std::__cxx11::basic_stringstream" = type { %"class.std::basic_iostream.base", %"class.std::__cxx11::basic_stringbuf", %"class.std::basic_ios" }
%"class.std::basic_iostream.base" = type { %"class.std::basic_istream.base", %"class.std::basic_ostream.base" }
%"class.std::basic_istream.base" = type { ptr, i64 }
%"class.std::basic_ostream.base" = type { ptr }
%"class.std::__cxx11::basic_stringbuf" = type { %"class.std::basic_streambuf", i32, %"class.std::__cxx11::basic_string" }
%"class.std::basic_streambuf" = type { ptr, ptr, ptr, ptr, ptr, ptr, ptr, %"class.std::locale" }
%"class.std::locale" = type { ptr }
%"class.std::basic_ios" = type { %"class.std::ios_base", ptr, i8, i8, ptr, ptr, ptr, ptr }
%"class.std::ios_base" = type { ptr, i64, i64, i32, i32, i32, ptr, %"struct.std::ios_base::_Words", [8 x %"struct.std::ios_base::_Words"], i32, ptr, %"class.std::locale" }
%"struct.std::ios_base::_Words" = type { ptr, i64 }
%"class.pbrt::CoatedDiffuseMaterial" = type <{ %"class.pbrt::FloatTexture", ptr, %"class.pbrt::SpectrumTexture", %"class.pbrt::SpectrumTexture", %"class.pbrt::FloatTexture", %"class.pbrt::FloatTexture", %"class.pbrt::FloatTexture", %"class.pbrt::FloatTexture", %"class.pbrt::Spectrum", i8, [3 x i8], i32, i32, [4 x i8] }>
%"class.pbrt::ConductorMaterial" = type <{ %"class.pbrt::FloatTexture", ptr, %"class.pbrt::SpectrumTexture", %"class.pbrt::SpectrumTexture", %"class.pbrt::SpectrumTexture", %"class.pbrt::FloatTexture", %"class.pbrt::FloatTexture", i8, [7 x i8] }>
%"class.pbrt::DiffuseTransmissionMaterial" = type <{ %"class.pbrt::FloatTexture", ptr, %"class.pbrt::SpectrumTexture", %"class.pbrt::SpectrumTexture", float, [4 x i8] }>
%"class.pbrt::HairMaterial" = type { %"class.pbrt::SpectrumTexture", %"class.pbrt::SpectrumTexture", %"class.pbrt::FloatTexture", %"class.pbrt::FloatTexture", %"class.pbrt::FloatTexture", %"class.pbrt::FloatTexture", %"class.pbrt::FloatTexture", %"class.pbrt::FloatTexture" }
%"class.pbrt::SubsurfaceMaterial" = type { %"class.pbrt::FloatTexture", ptr, %"class.pbrt::SpectrumTexture", %"class.pbrt::SpectrumTexture", %"class.pbrt::SpectrumTexture", %"class.pbrt::SpectrumTexture", float, float, %"class.pbrt::FloatTexture", %"class.pbrt::FloatTexture", i8, %"struct.pbrt::BSSRDFTable" }
%"struct.pbrt::BSSRDFTable" = type { %"class.pstd::vector", %"class.pstd::vector", %"class.pstd::vector", %"class.pstd::vector", %"class.pstd::vector" }
%"class.pbrt::CoatedConductorMaterial" = type <{ %"class.pbrt::FloatTexture", ptr, %"class.pbrt::FloatTexture", %"class.pbrt::FloatTexture", %"class.pbrt::FloatTexture", %"class.pbrt::Spectrum", %"class.pbrt::FloatTexture", %"class.pbrt::SpectrumTexture", %"class.pbrt::FloatTexture", %"class.pbrt::FloatTexture", %"class.pbrt::SpectrumTexture", %"class.pbrt::SpectrumTexture", %"class.pbrt::SpectrumTexture", i8, [3 x i8], i32, i32, [4 x i8] }>
%"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::MeasuredMaterial>>::GetSetIndirector" = type { ptr, i32 }
%"struct.pbrt::MaterialEvalWorkItem.211" = type { ptr, %"class.pbrt::Point3fi", %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", float, i32, %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", %"class.pbrt::Normal3", %"class.pbrt::Normal3", %"class.pbrt::Point2", i32, %"class.pbrt::SampledWavelengths", i32, i32, %"class.pbrt::Vector3", %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", float, %"struct.pbrt::MediumInterface" }
%"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::HairMaterial>>::GetSetIndirector" = type { ptr, i32 }
%"struct.pbrt::MaterialEvalWorkItem.210" = type { ptr, %"class.pbrt::Point3fi", %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", float, i32, %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", %"class.pbrt::Normal3", %"class.pbrt::Normal3", %"class.pbrt::Point2", i32, %"class.pbrt::SampledWavelengths", i32, i32, %"class.pbrt::Vector3", %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", float, %"struct.pbrt::MediumInterface" }
%"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::DiffuseTransmissionMaterial>>::GetSetIndirector" = type { ptr, i32 }
%"struct.pbrt::MaterialEvalWorkItem.209" = type { ptr, %"class.pbrt::Point3fi", %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", float, i32, %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", %"class.pbrt::Normal3", %"class.pbrt::Normal3", %"class.pbrt::Point2", i32, %"class.pbrt::SampledWavelengths", i32, i32, %"class.pbrt::Vector3", %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", float, %"struct.pbrt::MediumInterface" }
%"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::DiffuseMaterial>>::GetSetIndirector" = type { ptr, i32 }
%"struct.pbrt::MaterialEvalWorkItem.208" = type { ptr, %"class.pbrt::Point3fi", %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", float, i32, %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", %"class.pbrt::Normal3", %"class.pbrt::Normal3", %"class.pbrt::Point2", i32, %"class.pbrt::SampledWavelengths", i32, i32, %"class.pbrt::Vector3", %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", float, %"struct.pbrt::MediumInterface" }
%"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::DielectricMaterial>>::GetSetIndirector" = type { ptr, i32 }
%"struct.pbrt::MaterialEvalWorkItem.207" = type { ptr, %"class.pbrt::Point3fi", %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", float, i32, %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", %"class.pbrt::Normal3", %"class.pbrt::Normal3", %"class.pbrt::Point2", i32, %"class.pbrt::SampledWavelengths", i32, i32, %"class.pbrt::Vector3", %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", float, %"struct.pbrt::MediumInterface" }
%"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::ConductorMaterial>>::GetSetIndirector" = type { ptr, i32 }
%"struct.pbrt::MaterialEvalWorkItem.206" = type { ptr, %"class.pbrt::Point3fi", %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", float, i32, %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", %"class.pbrt::Normal3", %"class.pbrt::Normal3", %"class.pbrt::Point2", i32, %"class.pbrt::SampledWavelengths", i32, i32, %"class.pbrt::Vector3", %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", float, %"struct.pbrt::MediumInterface" }
%"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::CoatedConductorMaterial>>::GetSetIndirector" = type { ptr, i32 }
%"struct.pbrt::MaterialEvalWorkItem.205" = type { ptr, %"class.pbrt::Point3fi", %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", float, i32, %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", %"class.pbrt::Normal3", %"class.pbrt::Normal3", %"class.pbrt::Point2", i32, %"class.pbrt::SampledWavelengths", i32, i32, %"class.pbrt::Vector3", %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", float, %"struct.pbrt::MediumInterface" }
%"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::CoatedDiffuseMaterial>>::GetSetIndirector" = type { ptr, i32 }
%"struct.pbrt::MaterialEvalWorkItem" = type { ptr, %"class.pbrt::Point3fi", %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", float, i32, %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", %"class.pbrt::Normal3", %"class.pbrt::Normal3", %"class.pbrt::Point2", i32, %"class.pbrt::SampledWavelengths", i32, i32, %"class.pbrt::Vector3", %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", float, %"struct.pbrt::MediumInterface" }
%"struct.pstd::tuple" = type { %"struct.pstd::tuple.161", %"class.pbrt::WorkQueue.202" }
%"struct.pstd::tuple.161" = type { %"struct.pstd::tuple.162", %"class.pbrt::WorkQueue.199" }
%"struct.pstd::tuple.162" = type { %"struct.pstd::tuple.163", %"class.pbrt::WorkQueue.196" }
%"struct.pstd::tuple.163" = type { %"struct.pstd::tuple.164", %"class.pbrt::WorkQueue.193" }
%"struct.pstd::tuple.164" = type { %"struct.pstd::tuple.165", %"class.pbrt::WorkQueue.190" }
%"struct.pstd::tuple.165" = type { %"struct.pstd::tuple.166", %"class.pbrt::WorkQueue.187" }
%"struct.pstd::tuple.166" = type { %"struct.pstd::tuple.167", %"class.pbrt::WorkQueue.184" }
%"struct.pstd::tuple.167" = type { %"struct.pstd::tuple.168", %"class.pbrt::WorkQueue.181" }
%"struct.pstd::tuple.168" = type { %"struct.pstd::tuple.169", %"class.pbrt::WorkQueue.178" }
%"struct.pstd::tuple.169" = type { %"struct.pstd::tuple.170", %"class.pbrt::WorkQueue.175" }
%"struct.pstd::tuple.170" = type { %"class.pbrt::WorkQueue.172" }
%"class.pbrt::WorkQueue.172" = type <{ %"struct.pbrt::SOA.173", %"struct.std::atomic", [4 x i8] }>
%"struct.pbrt::SOA.173" = type { i32, ptr, %"struct.pbrt::SOA.100", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.103", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.134", ptr, ptr, ptr, ptr, ptr, %"struct.pbrt::SOA.115", ptr }
%"class.pbrt::WorkQueue.175" = type <{ %"struct.pbrt::SOA.176", %"struct.std::atomic", [4 x i8] }>
%"struct.pbrt::SOA.176" = type { i32, ptr, %"struct.pbrt::SOA.100", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.103", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.134", ptr, ptr, ptr, ptr, ptr, %"struct.pbrt::SOA.115", ptr }
%"class.pbrt::WorkQueue.178" = type <{ %"struct.pbrt::SOA.179", %"struct.std::atomic", [4 x i8] }>
%"struct.pbrt::SOA.179" = type { i32, ptr, %"struct.pbrt::SOA.100", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.103", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.134", ptr, ptr, ptr, ptr, ptr, %"struct.pbrt::SOA.115", ptr }
%"class.pbrt::WorkQueue.181" = type <{ %"struct.pbrt::SOA.182", %"struct.std::atomic", [4 x i8] }>
%"struct.pbrt::SOA.182" = type { i32, ptr, %"struct.pbrt::SOA.100", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.103", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.134", ptr, ptr, ptr, ptr, ptr, %"struct.pbrt::SOA.115", ptr }
%"class.pbrt::WorkQueue.184" = type <{ %"struct.pbrt::SOA.185", %"struct.std::atomic", [4 x i8] }>
%"struct.pbrt::SOA.185" = type { i32, ptr, %"struct.pbrt::SOA.100", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.103", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.134", ptr, ptr, ptr, ptr, ptr, %"struct.pbrt::SOA.115", ptr }
%"class.pbrt::WorkQueue.187" = type <{ %"struct.pbrt::SOA.188", %"struct.std::atomic", [4 x i8] }>
%"struct.pbrt::SOA.188" = type { i32, ptr, %"struct.pbrt::SOA.100", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.103", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.134", ptr, ptr, ptr, ptr, ptr, %"struct.pbrt::SOA.115", ptr }
%"class.pbrt::WorkQueue.190" = type <{ %"struct.pbrt::SOA.191", %"struct.std::atomic", [4 x i8] }>
%"struct.pbrt::SOA.191" = type { i32, ptr, %"struct.pbrt::SOA.100", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.103", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.134", ptr, ptr, ptr, ptr, ptr, %"struct.pbrt::SOA.115", ptr }
%"class.pbrt::WorkQueue.193" = type <{ %"struct.pbrt::SOA.194", %"struct.std::atomic", [4 x i8] }>
%"struct.pbrt::SOA.194" = type { i32, ptr, %"struct.pbrt::SOA.100", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.103", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.134", ptr, ptr, ptr, ptr, ptr, %"struct.pbrt::SOA.115", ptr }
%"class.pbrt::WorkQueue.196" = type <{ %"struct.pbrt::SOA.197", %"struct.std::atomic", [4 x i8] }>
%"struct.pbrt::SOA.197" = type { i32, ptr, %"struct.pbrt::SOA.100", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.103", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.134", ptr, ptr, ptr, ptr, ptr, %"struct.pbrt::SOA.115", ptr }
%"class.pbrt::WorkQueue.199" = type <{ %"struct.pbrt::SOA.200", %"struct.std::atomic", [4 x i8] }>
%"struct.pbrt::SOA.200" = type { i32, ptr, %"struct.pbrt::SOA.100", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.103", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.134", ptr, ptr, ptr, ptr, ptr, %"struct.pbrt::SOA.115", ptr }
%"class.pbrt::WorkQueue.202" = type <{ %"struct.pbrt::SOA.203", %"struct.std::atomic", [4 x i8] }>
%"struct.pbrt::SOA.203" = type { i32, ptr, %"struct.pbrt::SOA.100", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.103", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.134", ptr, ptr, ptr, ptr, ptr, %"struct.pbrt::SOA.115", ptr }
%"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::MixMaterial>>::GetSetIndirector" = type { ptr, i32 }
%"struct.pbrt::MaterialEvalWorkItem.214" = type { ptr, %"class.pbrt::Point3fi", %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", float, i32, %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", %"class.pbrt::Normal3", %"class.pbrt::Normal3", %"class.pbrt::Point2", i32, %"class.pbrt::SampledWavelengths", i32, i32, %"class.pbrt::Vector3", %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", float, %"struct.pbrt::MediumInterface" }
%"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::ThinDielectricMaterial>>::GetSetIndirector" = type { ptr, i32 }
%"struct.pbrt::MaterialEvalWorkItem.213" = type { ptr, %"class.pbrt::Point3fi", %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", float, i32, %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", %"class.pbrt::Normal3", %"class.pbrt::Normal3", %"class.pbrt::Point2", i32, %"class.pbrt::SampledWavelengths", i32, i32, %"class.pbrt::Vector3", %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", float, %"struct.pbrt::MediumInterface" }
%"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::SubsurfaceMaterial>>::GetSetIndirector" = type { ptr, i32 }
%"struct.pbrt::MaterialEvalWorkItem.212" = type { ptr, %"class.pbrt::Point3fi", %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", float, i32, %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", %"class.pbrt::Normal3", %"class.pbrt::Normal3", %"class.pbrt::Point2", i32, %"class.pbrt::SampledWavelengths", i32, i32, %"class.pbrt::Vector3", %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", float, %"struct.pbrt::MediumInterface" }
%"struct.pbrt::ShadowRayWorkItem" = type { %"class.pbrt::Ray", float, %"class.pbrt::SampledWavelengths", %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", i32 }
%class.anon.110 = type { ptr, ptr, ptr }
%"struct.pbrt::SOA.215" = type { i32, ptr, %"struct.pbrt::SOA.216", %"struct.pbrt::SOA.100", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.101", %"struct.pbrt::SOA.217", %"struct.pbrt::SOA.218" }
%"struct.pbrt::SOA.216" = type { i32, ptr, ptr }
%"struct.pbrt::SOA.217" = type { i32, ptr, %"struct.pbrt::SOA.98", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.105", %"struct.pbrt::SOA.134", ptr, %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.99", %"struct.pbrt::SOA.101" }
%"struct.pbrt::SOA.218" = type { ptr, ptr, ptr, ptr, ptr }
%"class.pbrt::DDAMajorantIterator" = type <{ %"class.pbrt::SampledSpectrum", float, float, ptr, [3 x float], [3 x float], [3 x i32], [3 x i32], [3 x i32], [4 x i8] }>
%"class.pstd::optional.223" = type { %"union.std::aligned_storage<24, 4>::type", i8, [3 x i8] }
%"union.std::aligned_storage<24, 4>::type" = type { [24 x i8] }
%"struct.pbrt::MediumProperties" = type { %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", %"class.pbrt::PhaseFunction", %"class.pbrt::SampledSpectrum" }
%"class.pbrt::PhaseFunction" = type { %"class.pbrt::TaggedPointer.226" }
%"class.pbrt::TaggedPointer.226" = type { i64 }
%class.anon.221 = type { ptr, ptr, ptr, ptr }
%"class.pbrt::HomogeneousMajorantIterator" = type <{ %"struct.pbrt::RayMajorantSegment", i8, [3 x i8] }>
%"struct.pbrt::RayMajorantSegment" = type { float, float, %"class.pbrt::SampledSpectrum" }
%"class.pbrt::RNG" = type { i64, i64 }
%class.anon.111 = type { ptr, ptr, ptr }
%"class.pbrt::RGBGridMedium" = type { %"class.pbrt::Bounds3", %"class.pbrt::Transform", %"class.pstd::optional.235", float, %"class.pbrt::HGPhaseFunction", %"class.pstd::optional.237", %"class.pstd::optional.237", float, [4 x i8], %"struct.pbrt::MajorantGrid" }
%"class.pstd::optional.235" = type { %"union.std::aligned_storage<48, 8>::type", i8, [7 x i8] }
%"union.std::aligned_storage<48, 8>::type" = type { [48 x i8] }
%"class.pbrt::HGPhaseFunction" = type { float }
%"class.pstd::optional.237" = type { %"union.std::aligned_storage<48, 8>::type", i8, [7 x i8] }
%"struct.pbrt::MajorantGrid" = type <{ %"class.pbrt::Bounds3", %"class.pstd::vector", %"class.pbrt::Point3.230", [4 x i8] }>
%"class.pbrt::Point3.230" = type { %"class.pbrt::Tuple3.231" }
%"class.pbrt::Tuple3.231" = type { i32, i32, i32 }
%class.anon.239 = type { %"class.pbrt::SampledWavelengths" }
%class.anon.244 = type { %"class.pbrt::SampledWavelengths" }
%"class.pbrt::DenselySampledSpectrum" = type { i32, i32, %"class.pstd::vector" }
%"class.pbrt::HomogeneousMedium" = type <{ %"class.pbrt::DenselySampledSpectrum", %"class.pbrt::DenselySampledSpectrum", %"class.pbrt::DenselySampledSpectrum", %"class.pbrt::HGPhaseFunction", [4 x i8] }>
%"class.pbrt::GridMedium" = type { %"class.pbrt::Bounds3", %"class.pbrt::Transform", %"class.pbrt::DenselySampledSpectrum", %"class.pbrt::DenselySampledSpectrum", %"class.pbrt::SampledGrid", %"class.pbrt::HGPhaseFunction", [4 x i8], %"class.pstd::optional.227", %"class.pbrt::DenselySampledSpectrum", %"class.pbrt::SampledGrid", i8, float, float, [4 x i8], %"struct.pbrt::MajorantGrid" }
%"class.pstd::optional.227" = type { %"union.std::aligned_storage<48, 8>::type", i8, [7 x i8] }
%"class.pbrt::SampledGrid" = type <{ %"class.pstd::vector", i32, i32, i32, [4 x i8] }>
%"class.pbrt::BlackbodySpectrum" = type { float, float }
%"class.pbrt::SampledGrid.240" = type <{ %"class.pstd::vector.241", i32, i32, i32, [4 x i8] }>
%"class.pstd::vector.241" = type { %"class.pstd::pmr::polymorphic_allocator.242", ptr, i64, i64 }
%"class.pstd::pmr::polymorphic_allocator.242" = type { ptr }
%"class.pbrt::RGBUnboundedSpectrum" = type { float, %"class.pbrt::RGBSigmoidPolynomial" }
%"class.pbrt::RGBSigmoidPolynomial" = type { float, float, float }
%"class.pbrt::RGBIlluminantSpectrum" = type { float, %"class.pbrt::RGBSigmoidPolynomial", ptr }
%"class.pbrt::SampledGrid.245" = type <{ %"class.pstd::vector.246", i32, i32, i32, [4 x i8] }>
%"class.pstd::vector.246" = type { %"class.pstd::pmr::polymorphic_allocator.247", ptr, i64, i64 }
%"class.pstd::pmr::polymorphic_allocator.247" = type { ptr }
%"class.pbrt::CloudMedium" = type <{ %"class.pbrt::Bounds3", %"class.pbrt::Transform", %"class.pbrt::HGPhaseFunction", [4 x i8], %"class.pbrt::DenselySampledSpectrum", %"class.pbrt::DenselySampledSpectrum", float, float, float, [4 x i8] }>
%"class.pbrt::NanoVDBMedium" = type <{ %"class.pbrt::Bounds3", %"class.pbrt::Transform", %"class.pbrt::DenselySampledSpectrum", %"class.pbrt::DenselySampledSpectrum", %"class.pbrt::HGPhaseFunction", [4 x i8], %"struct.pbrt::MajorantGrid", %"class.nanovdb::GridHandle", %"class.nanovdb::GridHandle", ptr, ptr, float, float, float, [4 x i8] }>
%"class.nanovdb::GridHandle" = type { %"class.nanovdb::GridHandleBase", %"class.pbrt::NanoVDBBuffer" }
%"class.nanovdb::GridHandleBase" = type { ptr }
%"class.pbrt::NanoVDBBuffer" = type { %"class.pstd::pmr::polymorphic_allocator.249", i64, ptr }
%"class.pstd::pmr::polymorphic_allocator.249" = type { ptr }
%"class.nanovdb::SampleFromVoxels" = type { %"class.nanovdb::TrilinearSampler" }
%"class.nanovdb::TrilinearSampler" = type { ptr }
%"struct.nanovdb::GridData" = type <{ i64, i64, %"class.nanovdb::Version", i32, i32, i32, i64, [256 x i8], %"struct.nanovdb::Map", %"struct.nanovdb::BBox", %"class.nanovdb::Vec3.250", i32, i32, i64, i32, [20 x i8] }>
%"class.nanovdb::Version" = type { i32 }
%"struct.nanovdb::Map" = type { [9 x float], [9 x float], [3 x float], float, [9 x double], [9 x double], [3 x double], double }
%"struct.nanovdb::BBox" = type { %"struct.nanovdb::BaseBBox" }
%"struct.nanovdb::BaseBBox" = type { [2 x %"class.nanovdb::Vec3.250"] }
%"class.nanovdb::Vec3.250" = type { [3 x double] }
%"class.nanovdb::Coord" = type { [3 x i32] }
%"class.nanovdb::RootNode" = type { %"struct.nanovdb::RootData.base", [16 x i8] }
%"struct.nanovdb::RootData.base" = type { %"struct.nanovdb::BBox.253", i32, float, float, float, float, float }
%"struct.nanovdb::BBox.253" = type { %"struct.nanovdb::BaseBBox.254" }
%"struct.nanovdb::BaseBBox.254" = type { [2 x %"class.nanovdb::Coord"] }
%"struct.nanovdb::RootData" = type { %"struct.nanovdb::BBox.253", i32, float, float, float, float, float, [16 x i8] }
%"struct.nanovdb::RootData<nanovdb::InternalNode<nanovdb::InternalNode<nanovdb::LeafNode<float>, 4>, 5>>::Tile" = type { i64, i64, i32, float, [8 x i8] }
%"struct.nanovdb::InternalData" = type { %"struct.nanovdb::BBox.253", i64, %"class.nanovdb::Mask", %"class.nanovdb::Mask", float, float, float, float, [16 x i8], [32768 x %"union.nanovdb::InternalData<nanovdb::InternalNode<nanovdb::LeafNode<float>, 4>, 5>::Tile"] }
%"class.nanovdb::Mask" = type { [512 x i64] }
%"union.nanovdb::InternalData<nanovdb::InternalNode<nanovdb::LeafNode<float>, 4>, 5>::Tile" = type { i64 }
%"struct.nanovdb::InternalData.256" = type { %"struct.nanovdb::BBox.253", i64, %"class.nanovdb::Mask.257", %"class.nanovdb::Mask.257", float, float, float, float, [16 x i8], [4096 x %"union.nanovdb::InternalData<nanovdb::LeafNode<float>, 4>::Tile"] }
%"class.nanovdb::Mask.257" = type { [64 x i64] }
%"union.nanovdb::InternalData<nanovdb::LeafNode<float>, 4>::Tile" = type { i64 }
%"struct.nanovdb::LeafData" = type { %"class.nanovdb::Coord", [3 x i8], i8, %"class.nanovdb::Mask.258", float, float, float, float, [512 x float] }
%"class.nanovdb::Mask.258" = type { [8 x i64] }
%"struct.pbrt::SubsurfaceScatterWorkItem" = type { %"class.pbrt::Point3", %"class.pbrt::Point3", i32, %"class.pbrt::Material", %"class.pbrt::TabulatedBSSRDF", %"class.pbrt::SampledWavelengths", %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", float, float, %"struct.pbrt::SubsurfaceInteraction", %"struct.pbrt::MediumInterface", float, i32 }
%"class.pbrt::TabulatedBSSRDF" = type { %"class.pbrt::Point3", %"class.pbrt::Vector3", %"class.pbrt::Normal3", float, %"class.pbrt::SampledSpectrum", %"class.pbrt::SampledSpectrum", ptr }
%"struct.pbrt::SubsurfaceInteraction" = type { %"class.pbrt::Point3fi", %"class.pbrt::Normal3", %"class.pbrt::Normal3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", %"class.pbrt::Vector3", %"class.pbrt::Vector3" }
%"struct.pbrt::SOA<pbrt::SubsurfaceScatterWorkItem>::GetSetIndirector" = type { ptr, i32 }
%class.anon.118 = type { ptr, ptr }

$_ZN4pbrt12CPUAggregateD2Ev = comdat any

$_ZN4pbrt12CPUAggregateD0Ev = comdat any

$_ZNK4pbrt12CPUAggregate6BoundsEv = comdat any

$_ZNSt17_Function_handlerIFvllEZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_E9_M_invokeERKSt9_Any_dataOlSA_ = comdat any

$_ZNSt17_Function_handlerIFvllEZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_E10_M_managerERSt9_Any_dataRKS7_St18_Manager_operation = comdat any

$__clang_call_terminate = comdat any

$_ZN4pbrt20EnqueueWorkAfterMissENS_11RayWorkItemEPNS_17MediumSampleQueueEPNS_15EscapedRayQueueE = comdat any

$_ZN4pbrt28EnqueueWorkAfterIntersectionENS_11RayWorkItemENS_6MediumEfNS_18SurfaceInteractionEPNS_17MediumSampleQueueEPNS_8RayQueueEPNS_9WorkQueueINS_20HitAreaLightWorkItemEEEPNS_14MultiWorkQueueINS_8TypePackIJNS_20MaterialEvalWorkItemINS_21CoatedDiffuseMaterialEEENSD_INS_23CoatedConductorMaterialEEENSD_INS_17ConductorMaterialEEENSD_INS_18DielectricMaterialEEENSD_INS_15DiffuseMaterialEEENSD_INS_27DiffuseTransmissionMaterialEEENSD_INS_12HairMaterialEEENSD_INS_16MeasuredMaterialEEENSD_INS_18SubsurfaceMaterialEEENSD_INS_22ThinDielectricMaterialEEENSD_INS_11MixMaterialEEEEEEEES12_ = comdat any

$_ZN4pbrt8RayQueue15PushIndirectRayERKNS_3RayEiRKNS_18LightSampleContextERKNS_15SampledSpectrumES9_S9_RKNS_18SampledWavelengthsEfbbi = comdat any

$_ZN4pbrt3SOAINS_20MediumSampleWorkItemEE16GetSetIndirectoraSERKS1_ = comdat any

$_ZN4pbrt21BasicTextureEvaluatorclENS_12FloatTextureENS_18TextureEvalContextE = comdat any

$_ZN4pbrt8LogFatalIJRNS_12FloatTextureEEEEvNS_8LogLevelEPKciS5_DpOT_ = comdat any

$_ZN4pbrt6detail8DispatchIRZNKS_16TextureMapping2D3MapENS_18TextureEvalContextEEUlT_E_NS_10TexCoord2DENS_9UVMappingENS_16SphericalMappingENS_18CylindricalMappingENS_13PlanarMappingEEET0_OS4_PKvi = comdat any

$_ZNK4pbrt9TransformclIfEENS_6Point3IT_EES4_ = comdat any

$_ZNK4pbrt9TransformclIfEENS_7Vector3IT_EES4_ = comdat any

$_ZN4pbrt6detail21stringPrintfRecursiveIRNS_12FloatTextureEJEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPKcOT_DpOT0_ = comdat any

$_ZN4pbrt6detail9formatOneIPKcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeES3_OS6_ = comdat any

$_ZN4pbrt8LogFatalIJPKcRS2_EEEvNS_8LogLevelES2_iS2_DpOT_ = comdat any

$_ZN4pbrt6detail21stringPrintfRecursiveIPKcJRS3_EEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEES3_OT_DpOT0_ = comdat any

$_ZN4pbrt6detail21stringPrintfRecursiveIRPKcJEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEES3_OT_DpOT0_ = comdat any

$_ZN4pbrt6detail9formatOneIRPKcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeES3_OS7_ = comdat any

$_ZN4pbrt15OffsetRayOriginENS_8Point3fiENS_7Normal3IfEENS_7Vector3IfEE = comdat any

$_ZN4pbrt6detail8DispatchIRZNKS_8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_EUlS5_E_bNS_21CoatedDiffuseMaterialENS_23CoatedConductorMaterialENS_17ConductorMaterialENS_18DielectricMaterialENS_15DiffuseMaterialENS_27DiffuseTransmissionMaterialENS_12HairMaterialENS_16MeasuredMaterialEJNS_18SubsurfaceMaterialENS_22ThinDielectricMaterialENS_11MixMaterialEEvEET0_OS5_PKvi = comdat any

$_ZN4pbrt6detail8DispatchIRZNKS_8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_EUlS5_E_bNS_18SubsurfaceMaterialENS_22ThinDielectricMaterialENS_11MixMaterialEEET0_OS5_PKvi = comdat any

$_ZNK4pbrt23CoatedConductorMaterial19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ = comdat any

$_ZN4pbrt6detail8DispatchIRZNS_28EnqueueWorkAfterIntersectionENS_11RayWorkItemENS_6MediumEfNS_18SurfaceInteractionEPNS_17MediumSampleQueueEPNS_8RayQueueEPNS_9WorkQueueINS_20HitAreaLightWorkItemEEEPNS_14MultiWorkQueueINS_8TypePackIJNS_20MaterialEvalWorkItemINS_21CoatedDiffuseMaterialEEENSF_INS_23CoatedConductorMaterialEEENSF_INS_17ConductorMaterialEEENSF_INS_18DielectricMaterialEEENSF_INS_15DiffuseMaterialEEENSF_INS_27DiffuseTransmissionMaterialEEENSF_INS_12HairMaterialEEENSF_INS_16MeasuredMaterialEEENSF_INS_18SubsurfaceMaterialEEENSF_INS_22ThinDielectricMaterialEEENSF_INS_11MixMaterialEEEEEEEES14_EUlT_E_vSG_SI_SK_SM_SO_SQ_SS_SU_JSW_SY_S10_EvEET0_OS15_Pvi = comdat any

$_ZN4pbrt6detail8DispatchIRZNS_28EnqueueWorkAfterIntersectionENS_11RayWorkItemENS_6MediumEfNS_18SurfaceInteractionEPNS_17MediumSampleQueueEPNS_8RayQueueEPNS_9WorkQueueINS_20HitAreaLightWorkItemEEEPNS_14MultiWorkQueueINS_8TypePackIJNS_20MaterialEvalWorkItemINS_21CoatedDiffuseMaterialEEENSF_INS_23CoatedConductorMaterialEEENSF_INS_17ConductorMaterialEEENSF_INS_18DielectricMaterialEEENSF_INS_15DiffuseMaterialEEENSF_INS_27DiffuseTransmissionMaterialEEENSF_INS_12HairMaterialEEENSF_INS_16MeasuredMaterialEEENSF_INS_18SubsurfaceMaterialEEENSF_INS_22ThinDielectricMaterialEEENSF_INS_11MixMaterialEEEEEEEES14_EUlT_E_vSW_SY_S10_EET0_OS15_Pvi = comdat any

$_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_21CoatedDiffuseMaterialEEEE16GetSetIndirectoraSERKS3_ = comdat any

$_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_23CoatedConductorMaterialEEEE16GetSetIndirectoraSERKS3_ = comdat any

$_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_17ConductorMaterialEEEE16GetSetIndirectoraSERKS3_ = comdat any

$_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_18DielectricMaterialEEEE16GetSetIndirectoraSERKS3_ = comdat any

$_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_15DiffuseMaterialEEEE16GetSetIndirectoraSERKS3_ = comdat any

$_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_27DiffuseTransmissionMaterialEEEE16GetSetIndirectoraSERKS3_ = comdat any

$_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_12HairMaterialEEEE16GetSetIndirectoraSERKS3_ = comdat any

$_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_16MeasuredMaterialEEEE16GetSetIndirectoraSERKS3_ = comdat any

$_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_18SubsurfaceMaterialEEEE16GetSetIndirectoraSERKS3_ = comdat any

$_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_22ThinDielectricMaterialEEEE16GetSetIndirectoraSERKS3_ = comdat any

$_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_11MixMaterialEEEE16GetSetIndirectoraSERKS3_ = comdat any

$_ZN4pbrt8LogFatalIJRA4_KcEEEvNS_8LogLevelEPS1_iS5_DpOT_ = comdat any

$_ZN4pbrt6detail21stringPrintfRecursiveIRA4_KcJEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS2_OT_DpOT0_ = comdat any

$_ZN4pbrt6detail9formatOneIRA4_KcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPS2_OS7_ = comdat any

$_ZNK4pbrt17HomogeneousMedium9SampleRayENS_3RayEfRKNS_18SampledWavelengthsE = comdat any

$_ZNK4pbrt17HomogeneousMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsE = comdat any

$_ZNK4pbrt10GridMedium9SampleRayENS_3RayEfRKNS_18SampledWavelengthsE = comdat any

$_ZN4pbrt19DDAMajorantIterator4NextEv = comdat any

$_ZNK4pbrt10GridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsE = comdat any

$_ZN4pbrt19DDAMajorantIteratorC2ENS_3RayEffPKNS_12MajorantGridENS_15SampledSpectrumE = comdat any

$_ZNK4pbrt9Transform12ApplyInverseIfEENS_7Vector3IT_EES4_ = comdat any

$_ZN4pbrt8Point3fipLIfEERS0_NS_7Vector3IT_EE = comdat any

$_ZNK4pbrt9Transform12ApplyInverseIfEENS_6Point3IT_EES4_ = comdat any

$_ZNK4pbrt11SampledGridIfE6LookupENS_6Point3IfEE = comdat any

$_ZNK4pbrt17BlackbodySpectrum6SampleERKNS_18SampledWavelengthsE = comdat any

$_ZN4pbrt8LogFatalIJRA3_KcRA2_S1_S3_RfS5_RiEEEvNS_8LogLevelEPS1_iS9_DpOT_ = comdat any

$_ZN4pbrt6detail21stringPrintfRecursiveIRA3_KcJRA2_S2_S4_RfS6_RiEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS2_OT_DpOT0_ = comdat any

$_ZN4pbrt6detail9formatOneIRA3_KcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPS2_OS7_ = comdat any

$_ZN4pbrt6detail21stringPrintfRecursiveIRA2_KcJRA3_S2_RfS4_RiEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS2_OT_DpOT0_ = comdat any

$_ZN4pbrt6detail9formatOneIRA2_KcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPS2_OS7_ = comdat any

$_ZN4pbrt6detail21stringPrintfRecursiveIRA3_KcJRfRA2_S2_RiEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS2_OT_DpOT0_ = comdat any

$_ZN4pbrt6detail21stringPrintfRecursiveIRfJRA2_KcRiEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS3_OT_DpOT0_ = comdat any

$_ZN4pbrt6detail9formatOneIRfEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPKcOS5_ = comdat any

$_ZN4pbrt6detail21stringPrintfRecursiveIRA2_KcJRiEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS2_OT_DpOT0_ = comdat any

$_ZN4pbrt6detail21stringPrintfRecursiveIRiJEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPKcOT_DpOT0_ = comdat any

$_ZN4pbrt6detail9formatOneIRiEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPKcOS5_ = comdat any

$_ZN4pbrt8LogFatalIJRA11_KcEEEvNS_8LogLevelEPS1_iS5_DpOT_ = comdat any

$_ZN4pbrt6detail21stringPrintfRecursiveIRA11_KcJEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS2_OT_DpOT0_ = comdat any

$_ZN4pbrt6detail9formatOneIRA11_KcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPS2_OS7_ = comdat any

$_ZNK4pbrt13RGBGridMedium9SampleRayENS_3RayEfRKNS_18SampledWavelengthsE = comdat any

$_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaS6_T_ = comdat any

$_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaS6_T_ = comdat any

$_ZNK4pbrt21RGBIlluminantSpectrum6SampleERKNS_18SampledWavelengthsE = comdat any

$_ZNK4pbrt11CloudMedium9SampleRayENS_3RayEfRKNS_18SampledWavelengthsE = comdat any

$_ZNK4pbrt11CloudMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsE = comdat any

$_ZNK4pbrt13NanoVDBMedium9SampleRayENS_3RayEfRKNS_18SampledWavelengthsE = comdat any

$_ZNK4pbrt13NanoVDBMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsE = comdat any

$_ZNK7nanovdb16SampleFromVoxelsINS_4TreeINS_8RootNodeINS_12InternalNodeINS3_INS_8LeafNodeIfNS_5CoordENS_4MaskELj3EEELj4EEELj5EEEEEEELi1ELb0EEclIfTtTpTyENS_4Vec3EEEfT0_IJT_EE = comdat any

$_ZNK4pbrt13NanoVDBMedium2LeENS_6Point3IfEERKNS_18SampledWavelengthsE = comdat any

$_ZNK7nanovdb8RootNodeINS_12InternalNodeINS1_INS_8LeafNodeIfNS_5CoordENS_4MaskELj3EEELj4EEELj5EEEE8getValueERKS3_ = comdat any

$_ZNK4pbrt3SOAINS_25SubsurfaceScatterWorkItemEE16GetSetIndirectorcvS1_Ev = comdat any

$_ZTSN4pbrt18WavefrontAggregateE = comdat any

$_ZTIN4pbrt18WavefrontAggregateE = comdat any

$_ZTSZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_ = comdat any

$_ZTIZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_ = comdat any

$_ZTSN4pbrt12FloatTextureE = comdat any

@_ZN4pbrtL24STATS_REGprimitiveMemoryE = internal global %"class.pbrt::StatRegisterer" zeroinitializer, align 1
@_ZN4pbrtL29STATS_REGredundantBufferBytesE = internal global %"class.pbrt::StatRegisterer" zeroinitializer, align 1
@_ZN4pbrtL25STATS_REGnBufferCacheHitsE = internal global %"class.pbrt::StatRegisterer" zeroinitializer, align 1
@_ZTVN4pbrt12CPUAggregateE = dso_local unnamed_addr constant { [9 x ptr] } { [9 x ptr] [ptr null, ptr @_ZTIN4pbrt12CPUAggregateE, ptr @_ZN4pbrt12CPUAggregateD2Ev, ptr @_ZN4pbrt12CPUAggregateD0Ev, ptr @_ZNK4pbrt12CPUAggregate6BoundsEv, ptr @_ZNK4pbrt12CPUAggregate16IntersectClosestEiPKNS_8RayQueueEPNS_15EscapedRayQueueEPNS_9WorkQueueINS_20HitAreaLightWorkItemEEEPNS_14MultiWorkQueueINS_8TypePackIJNS_20MaterialEvalWorkItemINS_21CoatedDiffuseMaterialEEENSC_INS_23CoatedConductorMaterialEEENSC_INS_17ConductorMaterialEEENSC_INS_18DielectricMaterialEEENSC_INS_15DiffuseMaterialEEENSC_INS_27DiffuseTransmissionMaterialEEENSC_INS_12HairMaterialEEENSC_INS_16MeasuredMaterialEEENSC_INS_18SubsurfaceMaterialEEENSC_INS_22ThinDielectricMaterialEEENSC_INS_11MixMaterialEEEEEEEES11_PNS_17MediumSampleQueueEPS1_, ptr @_ZNK4pbrt12CPUAggregate15IntersectShadowEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEE, ptr @_ZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEE, ptr @_ZNK4pbrt12CPUAggregate18IntersectOneRandomEiPNS_22SubsurfaceScatterQueueE] }, align 8
@_ZTVN10__cxxabiv120__si_class_type_infoE = external global [0 x ptr]
@_ZTSN4pbrt12CPUAggregateE = dso_local constant [22 x i8] c"N4pbrt12CPUAggregateE\00", align 1
@_ZTVN10__cxxabiv117__class_type_infoE = external global [0 x ptr]
@_ZTSN4pbrt18WavefrontAggregateE = linkonce_odr dso_local constant [28 x i8] c"N4pbrt18WavefrontAggregateE\00", comdat, align 1
@_ZTIN4pbrt18WavefrontAggregateE = linkonce_odr dso_local constant { ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv117__class_type_infoE, i64 2), ptr @_ZTSN4pbrt18WavefrontAggregateE }, comdat, align 8
@_ZTIN4pbrt12CPUAggregateE = dso_local constant { ptr, ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv120__si_class_type_infoE, i64 2), ptr @_ZTSN4pbrt12CPUAggregateE, ptr @_ZTIN4pbrt18WavefrontAggregateE }, align 8
@.str = private unnamed_addr constant [18 x i8] c"Memory/Primitives\00", align 1
@_ZN4pbrtL15primitiveMemoryE = internal thread_local global i64 0, align 8
@.str.5 = private unnamed_addr constant [42 x i8] c"Memory/Redundant vertex and index buffers\00", align 1
@_ZN4pbrtL20redundantBufferBytesE = internal thread_local global i64 0, align 8
@.str.6 = private unnamed_addr constant [27 x i8] c"Geometry/Buffer cache hits\00", align 1
@_ZN4pbrtL16nBufferCacheHitsE = internal thread_local global i64 0, align 8
@_ZN4pbrtL19nBufferCacheLookupsE = internal thread_local global i64 0, align 8
@_ZTSZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_ = linkonce_odr dso_local constant [48 x i8] c"ZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_\00", comdat, align 1
@_ZTIZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_ = linkonce_odr dso_local constant { ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv117__class_type_infoE, i64 2), ptr @_ZTSZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_ }, comdat, align 8
@.str.7 = private unnamed_addr constant [113 x i8] c"generated/home/dtcxzyw/WorkSpace/Projects/compilers/llvm-opt-benchmark/bench/pbrt-v4/pbrt-v4/src/pbrt/textures.h\00", align 1
@.str.8 = private unnamed_addr constant [49 x i8] c"BasicTextureEvaluator::operator() called with %s\00", align 1
@.str.9 = private unnamed_addr constant [47 x i8] c"GPUFloatImageTexture::Evaluate called from CPU\00", align 1
@.str.10 = private unnamed_addr constant [115 x i8] c"generated/home/dtcxzyw/WorkSpace/Projects/compilers/llvm-opt-benchmark/bench/pbrt-v4/pbrt-v4/src/pbrt/util/print.h\00", align 1
@.str.11 = private unnamed_addr constant [42 x i8] c"Non-integral type provided for %* format.\00", align 1
@.str.12 = private unnamed_addr constant [39 x i8] c"Non-integral type passed to %d format.\00", align 1
@.str.13 = private unnamed_addr constant [32 x i8] c"Excess values passed to Printf.\00", align 1
@.str.14 = private unnamed_addr constant [54 x i8] c"Printf: Non-basic type %s passed for format string %s\00", align 1
@_ZTSN4pbrt12FloatTextureE = linkonce_odr dso_local constant [22 x i8] c"N4pbrt12FloatTextureE\00", comdat, align 1
@.str.15 = private unnamed_addr constant [114 x i8] c"generated/home/dtcxzyw/WorkSpace/Projects/compilers/llvm-opt-benchmark/bench/pbrt-v4/pbrt-v4/src/pbrt/materials.h\00", align 1
@.str.16 = private unnamed_addr constant [20 x i8] c"Shouldn't be called\00", align 1
@.str.17 = private unnamed_addr constant [114 x i8] c"generated/home/dtcxzyw/WorkSpace/Projects/compilers/llvm-opt-benchmark/bench/pbrt-v4/pbrt-v4/src/pbrt/util/pstd.h\00", align 1
@.str.18 = private unnamed_addr constant [17 x i8] c"Check failed: %s\00", align 1
@.str.19 = private unnamed_addr constant [4 x i8] c"set\00", align 1
@"_ZTSZNK4pbrt12CPUAggregate16IntersectClosestEiPKNS_8RayQueueEPNS_15EscapedRayQueueEPNS_9WorkQueueINS_20HitAreaLightWorkItemEEEPNS_14MultiWorkQueueINS_8TypePackIJNS_20MaterialEvalWorkItemINS_21CoatedDiffuseMaterialEEENSC_INS_23CoatedConductorMaterialEEENSC_INS_17ConductorMaterialEEENSC_INS_18DielectricMaterialEEENSC_INS_15DiffuseMaterialEEENSC_INS_27DiffuseTransmissionMaterialEEENSC_INS_12HairMaterialEEENSC_INS_16MeasuredMaterialEEENSC_INS_18SubsurfaceMaterialEEENSC_INS_22ThinDielectricMaterialEEENSC_INS_11MixMaterialEEEEEEEES11_PNS_17MediumSampleQueueEPS1_E3$_0" = internal constant [564 x i8] c"ZNK4pbrt12CPUAggregate16IntersectClosestEiPKNS_8RayQueueEPNS_15EscapedRayQueueEPNS_9WorkQueueINS_20HitAreaLightWorkItemEEEPNS_14MultiWorkQueueINS_8TypePackIJNS_20MaterialEvalWorkItemINS_21CoatedDiffuseMaterialEEENSC_INS_23CoatedConductorMaterialEEENSC_INS_17ConductorMaterialEEENSC_INS_18DielectricMaterialEEENSC_INS_15DiffuseMaterialEEENSC_INS_27DiffuseTransmissionMaterialEEENSC_INS_12HairMaterialEEENSC_INS_16MeasuredMaterialEEENSC_INS_18SubsurfaceMaterialEEENSC_INS_22ThinDielectricMaterialEEENSC_INS_11MixMaterialEEEEEEEES11_PNS_17MediumSampleQueueEPS1_E3$_0\00", align 1
@"_ZTIZNK4pbrt12CPUAggregate16IntersectClosestEiPKNS_8RayQueueEPNS_15EscapedRayQueueEPNS_9WorkQueueINS_20HitAreaLightWorkItemEEEPNS_14MultiWorkQueueINS_8TypePackIJNS_20MaterialEvalWorkItemINS_21CoatedDiffuseMaterialEEENSC_INS_23CoatedConductorMaterialEEENSC_INS_17ConductorMaterialEEENSC_INS_18DielectricMaterialEEENSC_INS_15DiffuseMaterialEEENSC_INS_27DiffuseTransmissionMaterialEEENSC_INS_12HairMaterialEEENSC_INS_16MeasuredMaterialEEENSC_INS_18SubsurfaceMaterialEEENSC_INS_22ThinDielectricMaterialEEENSC_INS_11MixMaterialEEEEEEEES11_PNS_17MediumSampleQueueEPS1_E3$_0" = internal constant { ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv117__class_type_infoE, i64 2), ptr @"_ZTSZNK4pbrt12CPUAggregate16IntersectClosestEiPKNS_8RayQueueEPNS_15EscapedRayQueueEPNS_9WorkQueueINS_20HitAreaLightWorkItemEEEPNS_14MultiWorkQueueINS_8TypePackIJNS_20MaterialEvalWorkItemINS_21CoatedDiffuseMaterialEEENSC_INS_23CoatedConductorMaterialEEENSC_INS_17ConductorMaterialEEENSC_INS_18DielectricMaterialEEENSC_INS_15DiffuseMaterialEEENSC_INS_27DiffuseTransmissionMaterialEEENSC_INS_12HairMaterialEEENSC_INS_16MeasuredMaterialEEENSC_INS_18SubsurfaceMaterialEEENSC_INS_22ThinDielectricMaterialEEENSC_INS_11MixMaterialEEEEEEEES11_PNS_17MediumSampleQueueEPS1_E3$_0" }, align 8
@"_ZTSZNK4pbrt12CPUAggregate15IntersectShadowEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEE3$_0" = internal constant [120 x i8] c"ZNK4pbrt12CPUAggregate15IntersectShadowEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEE3$_0\00", align 1
@"_ZTIZNK4pbrt12CPUAggregate15IntersectShadowEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEE3$_0" = internal constant { ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv117__class_type_infoE, i64 2), ptr @"_ZTSZNK4pbrt12CPUAggregate15IntersectShadowEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEE3$_0" }, align 8
@__const._ZN4pbrt19DDAMajorantIterator4NextEv.cmpToAxis = private unnamed_addr constant [8 x i32] [i32 2, i32 1, i32 2, i32 1, i32 2, i32 2, i32 0, i32 0], align 16
@.str.20 = private unnamed_addr constant [119 x i8] c"generated/home/dtcxzyw/WorkSpace/Projects/compilers/llvm-opt-benchmark/bench/pbrt-v4/pbrt-v4/src/pbrt/util/transform.h\00", align 1
@.str.21 = private unnamed_addr constant [45 x i8] c"Check failed: %s != %s with %s = %s, %s = %s\00", align 1
@.str.22 = private unnamed_addr constant [3 x i8] c"wp\00", align 1
@.str.23 = private unnamed_addr constant [2 x i8] c"0\00", align 1
@.str.24 = private unnamed_addr constant [3 x i8] c"%f\00", align 1
@.str.25 = private unnamed_addr constant [3 x i8] c"%s\00", align 1
@.str.26 = private unnamed_addr constant [4 x i8] c"MEH\00", align 1
@.str.27 = private unnamed_addr constant [2 x i8] c"d\00", align 1
@.str.28 = private unnamed_addr constant [118 x i8] c"generated/home/dtcxzyw/WorkSpace/Projects/compilers/llvm-opt-benchmark/bench/pbrt-v4/pbrt-v4/src/pbrt/util/spectrum.h\00", align 1
@.str.29 = private unnamed_addr constant [11 x i8] c"!IsNaN(Le)\00", align 1
@"_ZTSZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEE3$_0" = internal constant [122 x i8] c"ZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEE3$_0\00", align 1
@"_ZTIZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEE3$_0" = internal constant { ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv117__class_type_infoE, i64 2), ptr @"_ZTSZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEE3$_0" }, align 8
@"_ZTSZNK4pbrt12CPUAggregate18IntersectOneRandomEiPNS_22SubsurfaceScatterQueueEE3$_0" = internal constant [79 x i8] c"ZNK4pbrt12CPUAggregate18IntersectOneRandomEiPNS_22SubsurfaceScatterQueueEE3$_0\00", align 1
@"_ZTIZNK4pbrt12CPUAggregate18IntersectOneRandomEiPNS_22SubsurfaceScatterQueueEE3$_0" = internal constant { ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv117__class_type_infoE, i64 2), ptr @"_ZTSZNK4pbrt12CPUAggregate18IntersectOneRandomEiPNS_22SubsurfaceScatterQueueEE3$_0" }, align 8
@llvm.global_ctors = appending global [1 x { i32, ptr, ptr }] [{ i32, ptr, ptr } { i32 65535, ptr @_GLOBAL__sub_I_aggregate.cpp, ptr null }]

@_ZN4pbrt12CPUAggregateC1ERNS_10BasicSceneERNS_13NamedTexturesERKSt3mapIiPN4pstd6vectorINS_5LightENS6_3pmr21polymorphic_allocatorIS8_EEEESt4lessIiESaISt4pairIKiSD_EEERKS5_INSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEENS_6MediumESE_ISS_ESaISG_IKSS_ST_EEERKS5_ISS_NS_8MaterialESU_SaISG_ISV_S11_EEERKSt6vectorIS11_SaIS11_EE = dso_local unnamed_addr alias void (ptr, ptr, ptr, ptr, ptr, ptr, ptr), ptr @_ZN4pbrt12CPUAggregateC2ERNS_10BasicSceneERNS_13NamedTexturesERKSt3mapIiPN4pstd6vectorINS_5LightENS6_3pmr21polymorphic_allocatorIS8_EEEESt4lessIiESaISt4pairIKiSD_EEERKS5_INSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEENS_6MediumESE_ISS_ESaISG_IKSS_ST_EEERKS5_ISS_NS_8MaterialESU_SaISG_ISV_S11_EEERKSt6vectorIS11_SaIS11_EE

declare void @_ZN4pbrt14StatRegistererC1EPFvRNS_16StatsAccumulatorEEPFvNS_6Point2IiEEiRNS_21PixelStatsAccumulatorEE(ptr noundef nonnull align 1 dereferenceable(1), ptr noundef, ptr noundef) unnamed_addr #0

; Function Attrs: mustprogress uwtable
define dso_local void @_ZN4pbrt12CPUAggregateC2ERNS_10BasicSceneERNS_13NamedTexturesERKSt3mapIiPN4pstd6vectorINS_5LightENS6_3pmr21polymorphic_allocatorIS8_EEEESt4lessIiESaISt4pairIKiSD_EEERKS5_INSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEENS_6MediumESE_ISS_ESaISG_IKSS_ST_EEERKS5_ISS_NS_8MaterialESU_SaISG_ISV_S11_EEERKSt6vectorIS11_SaIS11_EE(ptr nocapture noundef nonnull writeonly align 8 dereferenceable(16) %this, ptr noundef nonnull align 8 dereferenceable(1520) %scene, ptr noundef nonnull align 8 dereferenceable(192) %textures, ptr noundef nonnull align 1 %shapeIndexToAreaLights, ptr noundef nonnull align 8 dereferenceable(48) %media, ptr noundef nonnull align 1 %namedMaterials, ptr noundef nonnull align 1 %materials) unnamed_addr #1 align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp = alloca %"class.pbrt::Primitive", align 8
  store ptr getelementptr inbounds ({ [9 x ptr] }, ptr @_ZTVN4pbrt12CPUAggregateE, i64 0, inrange i32 0, i64 2), ptr %this, align 8
  %aggregate = getelementptr inbounds %"class.pbrt::CPUAggregate", ptr %this, i64 0, i32 1
  store i64 0, ptr %aggregate, align 8
  call void @_ZN4pbrt10BasicScene15CreateAggregateERKNS_13NamedTexturesERKSt3mapIiPN4pstd6vectorINS_5LightENS5_3pmr21polymorphic_allocatorIS7_EEEESt4lessIiESaISt4pairIKiSC_EEERKS4_INSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEENS_6MediumESD_ISR_ESaISF_IKSR_SS_EEERKS4_ISR_NS_8MaterialEST_SaISF_ISU_S10_EEERKSt6vectorIS10_SaIS10_EE(ptr nonnull sret(%"class.pbrt::Primitive") align 8 %ref.tmp, ptr noundef nonnull align 8 dereferenceable(1520) %scene, ptr noundef nonnull align 8 dereferenceable(192) %textures, ptr noundef nonnull align 1 %shapeIndexToAreaLights, ptr noundef nonnull align 8 dereferenceable(48) %media, ptr noundef nonnull align 1 %namedMaterials, ptr noundef nonnull align 1 %materials)
  %0 = load i64, ptr %ref.tmp, align 8
  store i64 %0, ptr %aggregate, align 8
  ret void
}

declare void @_ZN4pbrt10BasicScene15CreateAggregateERKNS_13NamedTexturesERKSt3mapIiPN4pstd6vectorINS_5LightENS5_3pmr21polymorphic_allocatorIS7_EEEESt4lessIiESaISt4pairIKiSC_EEERKS4_INSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEENS_6MediumESD_ISR_ESaISF_IKSR_SS_EEERKS4_ISR_NS_8MaterialEST_SaISF_ISU_S10_EEERKSt6vectorIS10_SaIS10_EE(ptr sret(%"class.pbrt::Primitive") align 8, ptr noundef nonnull align 8 dereferenceable(1520), ptr noundef nonnull align 8 dereferenceable(192), ptr noundef nonnull align 1, ptr noundef nonnull align 8 dereferenceable(48), ptr noundef nonnull align 1, ptr noundef nonnull align 1) local_unnamed_addr #0

declare i32 @__gxx_personality_v0(...)

; Function Attrs: mustprogress uwtable
define dso_local void @_ZNK4pbrt12CPUAggregate16IntersectClosestEiPKNS_8RayQueueEPNS_15EscapedRayQueueEPNS_9WorkQueueINS_20HitAreaLightWorkItemEEEPNS_14MultiWorkQueueINS_8TypePackIJNS_20MaterialEvalWorkItemINS_21CoatedDiffuseMaterialEEENSC_INS_23CoatedConductorMaterialEEENSC_INS_17ConductorMaterialEEENSC_INS_18DielectricMaterialEEENSC_INS_15DiffuseMaterialEEENSC_INS_27DiffuseTransmissionMaterialEEENSC_INS_12HairMaterialEEENSC_INS_16MeasuredMaterialEEENSC_INS_18SubsurfaceMaterialEEENSC_INS_22ThinDielectricMaterialEEENSC_INS_11MixMaterialEEEEEEEES11_PNS_17MediumSampleQueueEPS1_(ptr noundef nonnull align 8 dereferenceable(16) %this, i32 %maxRays, ptr noundef %rayQueue, ptr noundef %escapedRayQueue, ptr noundef %hitAreaLightQueue, ptr noundef %basicEvalMaterialQueue, ptr noundef %universalEvalMaterialQueue, ptr noundef %mediumSampleQueue, ptr noundef %nextRayQueue) unnamed_addr #1 align 2 personality ptr @__gxx_personality_v0 {
entry:
  %agg.tmp.i = alloca %"class.std::function.119", align 8
  %agg.tmp = alloca %"class.std::function.95", align 8
  %size.i = getelementptr inbounds %"class.pbrt::WorkQueue", ptr %rayQueue, i64 0, i32 1
  %0 = load atomic i32, ptr %size.i monotonic, align 4
  %conv = sext i32 %0 to i64
  %_M_manager.i.i = getelementptr inbounds %"class.std::_Function_base", ptr %agg.tmp, i64 0, i32 1
  %_M_invoker.i = getelementptr inbounds %"class.std::function.95", ptr %agg.tmp, i64 0, i32 1
  %1 = getelementptr inbounds i8, ptr %agg.tmp, i64 8
  store i64 0, ptr %1, align 8
  %call.i.i2.i = tail call noalias noundef nonnull dereferenceable(64) ptr @_Znwm(i64 noundef 64) #21
  store ptr %rayQueue, ptr %call.i.i2.i, align 16
  %ref.tmp.sroa.2.0.call.i.i2.i.sroa_idx = getelementptr inbounds i8, ptr %call.i.i2.i, i64 8
  store ptr %this, ptr %ref.tmp.sroa.2.0.call.i.i2.i.sroa_idx, align 8
  %ref.tmp.sroa.3.0.call.i.i2.i.sroa_idx = getelementptr inbounds i8, ptr %call.i.i2.i, i64 16
  store ptr %mediumSampleQueue, ptr %ref.tmp.sroa.3.0.call.i.i2.i.sroa_idx, align 16
  %ref.tmp.sroa.4.0.call.i.i2.i.sroa_idx = getelementptr inbounds i8, ptr %call.i.i2.i, i64 24
  store ptr %escapedRayQueue, ptr %ref.tmp.sroa.4.0.call.i.i2.i.sroa_idx, align 8
  %ref.tmp.sroa.5.0.call.i.i2.i.sroa_idx = getelementptr inbounds i8, ptr %call.i.i2.i, i64 32
  store ptr %nextRayQueue, ptr %ref.tmp.sroa.5.0.call.i.i2.i.sroa_idx, align 16
  %ref.tmp.sroa.6.0.call.i.i2.i.sroa_idx = getelementptr inbounds i8, ptr %call.i.i2.i, i64 40
  store ptr %hitAreaLightQueue, ptr %ref.tmp.sroa.6.0.call.i.i2.i.sroa_idx, align 8
  %ref.tmp.sroa.7.0.call.i.i2.i.sroa_idx = getelementptr inbounds i8, ptr %call.i.i2.i, i64 48
  store ptr %basicEvalMaterialQueue, ptr %ref.tmp.sroa.7.0.call.i.i2.i.sroa_idx, align 16
  %ref.tmp.sroa.8.0.call.i.i2.i.sroa_idx = getelementptr inbounds i8, ptr %call.i.i2.i, i64 56
  store ptr %universalEvalMaterialQueue, ptr %ref.tmp.sroa.8.0.call.i.i2.i.sroa_idx, align 8
  store ptr %call.i.i2.i, ptr %agg.tmp, align 8
  store ptr @"_ZNSt17_Function_handlerIFvlEZNK4pbrt12CPUAggregate16IntersectClosestEiPKNS1_8RayQueueEPNS1_15EscapedRayQueueEPNS1_9WorkQueueINS1_20HitAreaLightWorkItemEEEPNS1_14MultiWorkQueueINS1_8TypePackIJNS1_20MaterialEvalWorkItemINS1_21CoatedDiffuseMaterialEEENSE_INS1_23CoatedConductorMaterialEEENSE_INS1_17ConductorMaterialEEENSE_INS1_18DielectricMaterialEEENSE_INS1_15DiffuseMaterialEEENSE_INS1_27DiffuseTransmissionMaterialEEENSE_INS1_12HairMaterialEEENSE_INS1_16MeasuredMaterialEEENSE_INS1_18SubsurfaceMaterialEEENSE_INS1_22ThinDielectricMaterialEEENSE_INS1_11MixMaterialEEEEEEEES13_PNS1_17MediumSampleQueueEPS3_E3$_0E9_M_invokeERKSt9_Any_dataOl", ptr %_M_invoker.i, align 8
  store ptr @"_ZNSt17_Function_handlerIFvlEZNK4pbrt12CPUAggregate16IntersectClosestEiPKNS1_8RayQueueEPNS1_15EscapedRayQueueEPNS1_9WorkQueueINS1_20HitAreaLightWorkItemEEEPNS1_14MultiWorkQueueINS1_8TypePackIJNS1_20MaterialEvalWorkItemINS1_21CoatedDiffuseMaterialEEENSE_INS1_23CoatedConductorMaterialEEENSE_INS1_17ConductorMaterialEEENSE_INS1_18DielectricMaterialEEENSE_INS1_15DiffuseMaterialEEENSE_INS1_27DiffuseTransmissionMaterialEEENSE_INS1_12HairMaterialEEENSE_INS1_16MeasuredMaterialEEENSE_INS1_18SubsurfaceMaterialEEENSE_INS1_22ThinDielectricMaterialEEENSE_INS1_11MixMaterialEEEEEEEES13_PNS1_17MediumSampleQueueEPS3_E3$_0E10_M_managerERSt9_Any_dataRKS19_St18_Manager_operation", ptr %_M_manager.i.i, align 8
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp.i)
  %_M_manager.i.i.i = getelementptr inbounds %"class.std::_Function_base", ptr %agg.tmp.i, i64 0, i32 1
  %_M_invoker.i.i = getelementptr inbounds %"class.std::function.119", ptr %agg.tmp.i, i64 0, i32 1
  %2 = getelementptr inbounds i8, ptr %agg.tmp.i, i64 8
  store i64 0, ptr %2, align 8
  store ptr %agg.tmp, ptr %agg.tmp.i, align 8
  store ptr @_ZNSt17_Function_handlerIFvllEZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_E9_M_invokeERKSt9_Any_dataOlSA_, ptr %_M_invoker.i.i, align 8
  store ptr @_ZNSt17_Function_handlerIFvllEZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_E10_M_managerERSt9_Any_dataRKS7_St18_Manager_operation, ptr %_M_manager.i.i.i, align 8
  invoke void @_ZN4pbrt11ParallelForEllSt8functionIFvllEE(i64 noundef 0, i64 noundef %conv, ptr noundef nonnull %agg.tmp.i)
          to label %invoke.cont.i unwind label %lpad.i

invoke.cont.i:                                    ; preds = %entry
  %3 = load ptr, ptr %_M_manager.i.i.i, align 8
  %tobool.not.i.i.i = icmp eq ptr %3, null
  br i1 %tobool.not.i.i.i, label %invoke.cont, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %invoke.cont.i
  %call.i.i.i = invoke noundef zeroext i1 %3(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp.i, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp.i, i32 noundef 3)
          to label %invoke.cont unwind label %terminate.lpad.i.i.i

terminate.lpad.i.i.i:                             ; preds = %if.then.i.i.i
  %4 = landingpad { ptr, i32 }
          catch ptr null
  %5 = extractvalue { ptr, i32 } %4, 0
  call void @__clang_call_terminate(ptr %5) #22
  unreachable

lpad.i:                                           ; preds = %entry
  %6 = landingpad { ptr, i32 }
          cleanup
  %7 = load ptr, ptr %_M_manager.i.i.i, align 8
  %tobool.not.i.i3.i = icmp eq ptr %7, null
  br i1 %tobool.not.i.i3.i, label %lpad.body, label %if.then.i.i4.i

if.then.i.i4.i:                                   ; preds = %lpad.i
  %call.i.i5.i = invoke noundef zeroext i1 %7(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp.i, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp.i, i32 noundef 3)
          to label %lpad.body unwind label %terminate.lpad.i.i6.i

terminate.lpad.i.i6.i:                            ; preds = %if.then.i.i4.i
  %8 = landingpad { ptr, i32 }
          catch ptr null
  %9 = extractvalue { ptr, i32 } %8, 0
  call void @__clang_call_terminate(ptr %9) #22
  unreachable

invoke.cont:                                      ; preds = %if.then.i.i.i, %invoke.cont.i
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp.i)
  %10 = load ptr, ptr %_M_manager.i.i, align 8
  %tobool.not.i.i = icmp eq ptr %10, null
  br i1 %tobool.not.i.i, label %_ZNSt8functionIFvlEED2Ev.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %invoke.cont
  %call.i.i = invoke noundef zeroext i1 %10(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, i32 noundef 3)
          to label %_ZNSt8functionIFvlEED2Ev.exit unwind label %terminate.lpad.i.i

terminate.lpad.i.i:                               ; preds = %if.then.i.i
  %11 = landingpad { ptr, i32 }
          catch ptr null
  %12 = extractvalue { ptr, i32 } %11, 0
  call void @__clang_call_terminate(ptr %12) #22
  unreachable

_ZNSt8functionIFvlEED2Ev.exit:                    ; preds = %invoke.cont, %if.then.i.i
  ret void

lpad.body:                                        ; preds = %lpad.i, %if.then.i.i4.i
  %13 = load ptr, ptr %_M_manager.i.i, align 8
  %tobool.not.i.i4 = icmp eq ptr %13, null
  br i1 %tobool.not.i.i4, label %_ZNSt8functionIFvlEED2Ev.exit8, label %if.then.i.i5

if.then.i.i5:                                     ; preds = %lpad.body
  %call.i.i6 = invoke noundef zeroext i1 %13(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, i32 noundef 3)
          to label %_ZNSt8functionIFvlEED2Ev.exit8 unwind label %terminate.lpad.i.i7

terminate.lpad.i.i7:                              ; preds = %if.then.i.i5
  %14 = landingpad { ptr, i32 }
          catch ptr null
  %15 = extractvalue { ptr, i32 } %14, 0
  call void @__clang_call_terminate(ptr %15) #22
  unreachable

_ZNSt8functionIFvlEED2Ev.exit8:                   ; preds = %lpad.body, %if.then.i.i5
  resume { ptr, i32 } %6
}

; Function Attrs: mustprogress uwtable
define dso_local void @_ZNK4pbrt12CPUAggregate15IntersectShadowEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEE(ptr noundef nonnull align 8 dereferenceable(16) %this, i32 %maxRays, ptr noundef %shadowRayQueue, ptr noundef %pixelSampleState) unnamed_addr #1 align 2 personality ptr @__gxx_personality_v0 {
entry:
  %agg.tmp.i = alloca %"class.std::function.119", align 8
  %agg.tmp = alloca %"class.std::function.95", align 8
  %size.i = getelementptr inbounds %"class.pbrt::WorkQueue.107", ptr %shadowRayQueue, i64 0, i32 1
  %0 = load atomic i32, ptr %size.i monotonic, align 4
  %conv = sext i32 %0 to i64
  %_M_manager.i.i = getelementptr inbounds %"class.std::_Function_base", ptr %agg.tmp, i64 0, i32 1
  %_M_invoker.i = getelementptr inbounds %"class.std::function.95", ptr %agg.tmp, i64 0, i32 1
  %1 = getelementptr inbounds i8, ptr %agg.tmp, i64 8
  store i64 0, ptr %1, align 8
  %call.i.i2.i = tail call noalias noundef nonnull dereferenceable(24) ptr @_Znwm(i64 noundef 24) #21
  store ptr %shadowRayQueue, ptr %call.i.i2.i, align 16
  %ref.tmp.sroa.2.0.call.i.i2.i.sroa_idx = getelementptr inbounds i8, ptr %call.i.i2.i, i64 8
  store ptr %this, ptr %ref.tmp.sroa.2.0.call.i.i2.i.sroa_idx, align 8
  %ref.tmp.sroa.3.0.call.i.i2.i.sroa_idx = getelementptr inbounds i8, ptr %call.i.i2.i, i64 16
  store ptr %pixelSampleState, ptr %ref.tmp.sroa.3.0.call.i.i2.i.sroa_idx, align 16
  store ptr %call.i.i2.i, ptr %agg.tmp, align 8
  store ptr @"_ZNSt17_Function_handlerIFvlEZNK4pbrt12CPUAggregate15IntersectShadowEiPNS1_9WorkQueueINS1_17ShadowRayWorkItemEEEPNS1_3SOAINS1_16PixelSampleStateEEEE3$_0E9_M_invokeERKSt9_Any_dataOl", ptr %_M_invoker.i, align 8
  store ptr @"_ZNSt17_Function_handlerIFvlEZNK4pbrt12CPUAggregate15IntersectShadowEiPNS1_9WorkQueueINS1_17ShadowRayWorkItemEEEPNS1_3SOAINS1_16PixelSampleStateEEEE3$_0E10_M_managerERSt9_Any_dataRKSD_St18_Manager_operation", ptr %_M_manager.i.i, align 8
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp.i)
  %_M_manager.i.i.i = getelementptr inbounds %"class.std::_Function_base", ptr %agg.tmp.i, i64 0, i32 1
  %_M_invoker.i.i = getelementptr inbounds %"class.std::function.119", ptr %agg.tmp.i, i64 0, i32 1
  %2 = getelementptr inbounds i8, ptr %agg.tmp.i, i64 8
  store i64 0, ptr %2, align 8
  store ptr %agg.tmp, ptr %agg.tmp.i, align 8
  store ptr @_ZNSt17_Function_handlerIFvllEZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_E9_M_invokeERKSt9_Any_dataOlSA_, ptr %_M_invoker.i.i, align 8
  store ptr @_ZNSt17_Function_handlerIFvllEZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_E10_M_managerERSt9_Any_dataRKS7_St18_Manager_operation, ptr %_M_manager.i.i.i, align 8
  invoke void @_ZN4pbrt11ParallelForEllSt8functionIFvllEE(i64 noundef 0, i64 noundef %conv, ptr noundef nonnull %agg.tmp.i)
          to label %invoke.cont.i unwind label %lpad.i

invoke.cont.i:                                    ; preds = %entry
  %3 = load ptr, ptr %_M_manager.i.i.i, align 8
  %tobool.not.i.i.i = icmp eq ptr %3, null
  br i1 %tobool.not.i.i.i, label %invoke.cont, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %invoke.cont.i
  %call.i.i.i = invoke noundef zeroext i1 %3(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp.i, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp.i, i32 noundef 3)
          to label %invoke.cont unwind label %terminate.lpad.i.i.i

terminate.lpad.i.i.i:                             ; preds = %if.then.i.i.i
  %4 = landingpad { ptr, i32 }
          catch ptr null
  %5 = extractvalue { ptr, i32 } %4, 0
  call void @__clang_call_terminate(ptr %5) #22
  unreachable

lpad.i:                                           ; preds = %entry
  %6 = landingpad { ptr, i32 }
          cleanup
  %7 = load ptr, ptr %_M_manager.i.i.i, align 8
  %tobool.not.i.i3.i = icmp eq ptr %7, null
  br i1 %tobool.not.i.i3.i, label %lpad.body, label %if.then.i.i4.i

if.then.i.i4.i:                                   ; preds = %lpad.i
  %call.i.i5.i = invoke noundef zeroext i1 %7(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp.i, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp.i, i32 noundef 3)
          to label %lpad.body unwind label %terminate.lpad.i.i6.i

terminate.lpad.i.i6.i:                            ; preds = %if.then.i.i4.i
  %8 = landingpad { ptr, i32 }
          catch ptr null
  %9 = extractvalue { ptr, i32 } %8, 0
  call void @__clang_call_terminate(ptr %9) #22
  unreachable

invoke.cont:                                      ; preds = %if.then.i.i.i, %invoke.cont.i
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp.i)
  %10 = load ptr, ptr %_M_manager.i.i, align 8
  %tobool.not.i.i = icmp eq ptr %10, null
  br i1 %tobool.not.i.i, label %_ZNSt8functionIFvlEED2Ev.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %invoke.cont
  %call.i.i = invoke noundef zeroext i1 %10(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, i32 noundef 3)
          to label %_ZNSt8functionIFvlEED2Ev.exit unwind label %terminate.lpad.i.i

terminate.lpad.i.i:                               ; preds = %if.then.i.i
  %11 = landingpad { ptr, i32 }
          catch ptr null
  %12 = extractvalue { ptr, i32 } %11, 0
  call void @__clang_call_terminate(ptr %12) #22
  unreachable

_ZNSt8functionIFvlEED2Ev.exit:                    ; preds = %invoke.cont, %if.then.i.i
  ret void

lpad.body:                                        ; preds = %lpad.i, %if.then.i.i4.i
  %13 = load ptr, ptr %_M_manager.i.i, align 8
  %tobool.not.i.i4 = icmp eq ptr %13, null
  br i1 %tobool.not.i.i4, label %_ZNSt8functionIFvlEED2Ev.exit8, label %if.then.i.i5

if.then.i.i5:                                     ; preds = %lpad.body
  %call.i.i6 = invoke noundef zeroext i1 %13(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, i32 noundef 3)
          to label %_ZNSt8functionIFvlEED2Ev.exit8 unwind label %terminate.lpad.i.i7

terminate.lpad.i.i7:                              ; preds = %if.then.i.i5
  %14 = landingpad { ptr, i32 }
          catch ptr null
  %15 = extractvalue { ptr, i32 } %14, 0
  call void @__clang_call_terminate(ptr %15) #22
  unreachable

_ZNSt8functionIFvlEED2Ev.exit8:                   ; preds = %lpad.body, %if.then.i.i5
  resume { ptr, i32 } %6
}

; Function Attrs: mustprogress uwtable
define dso_local void @_ZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEE(ptr noundef nonnull align 8 dereferenceable(16) %this, i32 %maxRays, ptr noundef %shadowRayQueue, ptr noundef %pixelSampleState) unnamed_addr #1 align 2 personality ptr @__gxx_personality_v0 {
entry:
  %agg.tmp.i = alloca %"class.std::function.119", align 8
  %agg.tmp = alloca %"class.std::function.95", align 8
  %size.i = getelementptr inbounds %"class.pbrt::WorkQueue.107", ptr %shadowRayQueue, i64 0, i32 1
  %0 = load atomic i32, ptr %size.i monotonic, align 4
  %conv = sext i32 %0 to i64
  %_M_manager.i.i = getelementptr inbounds %"class.std::_Function_base", ptr %agg.tmp, i64 0, i32 1
  %_M_invoker.i = getelementptr inbounds %"class.std::function.95", ptr %agg.tmp, i64 0, i32 1
  %1 = getelementptr inbounds i8, ptr %agg.tmp, i64 8
  store i64 0, ptr %1, align 8
  %call.i.i2.i = tail call noalias noundef nonnull dereferenceable(24) ptr @_Znwm(i64 noundef 24) #21
  store ptr %shadowRayQueue, ptr %call.i.i2.i, align 16
  %ref.tmp.sroa.2.0.call.i.i2.i.sroa_idx = getelementptr inbounds i8, ptr %call.i.i2.i, i64 8
  store ptr %pixelSampleState, ptr %ref.tmp.sroa.2.0.call.i.i2.i.sroa_idx, align 8
  %ref.tmp.sroa.3.0.call.i.i2.i.sroa_idx = getelementptr inbounds i8, ptr %call.i.i2.i, i64 16
  store ptr %this, ptr %ref.tmp.sroa.3.0.call.i.i2.i.sroa_idx, align 16
  store ptr %call.i.i2.i, ptr %agg.tmp, align 8
  store ptr @"_ZNSt17_Function_handlerIFvlEZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS1_9WorkQueueINS1_17ShadowRayWorkItemEEEPNS1_3SOAINS1_16PixelSampleStateEEEE3$_0E9_M_invokeERKSt9_Any_dataOl", ptr %_M_invoker.i, align 8
  store ptr @"_ZNSt17_Function_handlerIFvlEZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS1_9WorkQueueINS1_17ShadowRayWorkItemEEEPNS1_3SOAINS1_16PixelSampleStateEEEE3$_0E10_M_managerERSt9_Any_dataRKSD_St18_Manager_operation", ptr %_M_manager.i.i, align 8
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp.i)
  %_M_manager.i.i.i = getelementptr inbounds %"class.std::_Function_base", ptr %agg.tmp.i, i64 0, i32 1
  %_M_invoker.i.i = getelementptr inbounds %"class.std::function.119", ptr %agg.tmp.i, i64 0, i32 1
  %2 = getelementptr inbounds i8, ptr %agg.tmp.i, i64 8
  store i64 0, ptr %2, align 8
  store ptr %agg.tmp, ptr %agg.tmp.i, align 8
  store ptr @_ZNSt17_Function_handlerIFvllEZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_E9_M_invokeERKSt9_Any_dataOlSA_, ptr %_M_invoker.i.i, align 8
  store ptr @_ZNSt17_Function_handlerIFvllEZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_E10_M_managerERSt9_Any_dataRKS7_St18_Manager_operation, ptr %_M_manager.i.i.i, align 8
  invoke void @_ZN4pbrt11ParallelForEllSt8functionIFvllEE(i64 noundef 0, i64 noundef %conv, ptr noundef nonnull %agg.tmp.i)
          to label %invoke.cont.i unwind label %lpad.i

invoke.cont.i:                                    ; preds = %entry
  %3 = load ptr, ptr %_M_manager.i.i.i, align 8
  %tobool.not.i.i.i = icmp eq ptr %3, null
  br i1 %tobool.not.i.i.i, label %invoke.cont, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %invoke.cont.i
  %call.i.i.i = invoke noundef zeroext i1 %3(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp.i, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp.i, i32 noundef 3)
          to label %invoke.cont unwind label %terminate.lpad.i.i.i

terminate.lpad.i.i.i:                             ; preds = %if.then.i.i.i
  %4 = landingpad { ptr, i32 }
          catch ptr null
  %5 = extractvalue { ptr, i32 } %4, 0
  call void @__clang_call_terminate(ptr %5) #22
  unreachable

lpad.i:                                           ; preds = %entry
  %6 = landingpad { ptr, i32 }
          cleanup
  %7 = load ptr, ptr %_M_manager.i.i.i, align 8
  %tobool.not.i.i3.i = icmp eq ptr %7, null
  br i1 %tobool.not.i.i3.i, label %lpad.body, label %if.then.i.i4.i

if.then.i.i4.i:                                   ; preds = %lpad.i
  %call.i.i5.i = invoke noundef zeroext i1 %7(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp.i, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp.i, i32 noundef 3)
          to label %lpad.body unwind label %terminate.lpad.i.i6.i

terminate.lpad.i.i6.i:                            ; preds = %if.then.i.i4.i
  %8 = landingpad { ptr, i32 }
          catch ptr null
  %9 = extractvalue { ptr, i32 } %8, 0
  call void @__clang_call_terminate(ptr %9) #22
  unreachable

invoke.cont:                                      ; preds = %if.then.i.i.i, %invoke.cont.i
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp.i)
  %10 = load ptr, ptr %_M_manager.i.i, align 8
  %tobool.not.i.i = icmp eq ptr %10, null
  br i1 %tobool.not.i.i, label %_ZNSt8functionIFvlEED2Ev.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %invoke.cont
  %call.i.i = invoke noundef zeroext i1 %10(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, i32 noundef 3)
          to label %_ZNSt8functionIFvlEED2Ev.exit unwind label %terminate.lpad.i.i

terminate.lpad.i.i:                               ; preds = %if.then.i.i
  %11 = landingpad { ptr, i32 }
          catch ptr null
  %12 = extractvalue { ptr, i32 } %11, 0
  call void @__clang_call_terminate(ptr %12) #22
  unreachable

_ZNSt8functionIFvlEED2Ev.exit:                    ; preds = %invoke.cont, %if.then.i.i
  ret void

lpad.body:                                        ; preds = %lpad.i, %if.then.i.i4.i
  %13 = load ptr, ptr %_M_manager.i.i, align 8
  %tobool.not.i.i4 = icmp eq ptr %13, null
  br i1 %tobool.not.i.i4, label %_ZNSt8functionIFvlEED2Ev.exit8, label %if.then.i.i5

if.then.i.i5:                                     ; preds = %lpad.body
  %call.i.i6 = invoke noundef zeroext i1 %13(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, i32 noundef 3)
          to label %_ZNSt8functionIFvlEED2Ev.exit8 unwind label %terminate.lpad.i.i7

terminate.lpad.i.i7:                              ; preds = %if.then.i.i5
  %14 = landingpad { ptr, i32 }
          catch ptr null
  %15 = extractvalue { ptr, i32 } %14, 0
  call void @__clang_call_terminate(ptr %15) #22
  unreachable

_ZNSt8functionIFvlEED2Ev.exit8:                   ; preds = %lpad.body, %if.then.i.i5
  resume { ptr, i32 } %6
}

; Function Attrs: mustprogress uwtable
define dso_local void @_ZNK4pbrt12CPUAggregate18IntersectOneRandomEiPNS_22SubsurfaceScatterQueueE(ptr noundef nonnull align 8 dereferenceable(16) %this, i32 %maxRays, ptr noundef %subsurfaceScatterQueue) unnamed_addr #1 align 2 personality ptr @__gxx_personality_v0 {
entry:
  %agg.tmp.i = alloca %"class.std::function.119", align 8
  %agg.tmp = alloca %"class.std::function.95", align 8
  %size.i = getelementptr inbounds %"class.pbrt::WorkQueue.112", ptr %subsurfaceScatterQueue, i64 0, i32 1
  %0 = load atomic i32, ptr %size.i monotonic, align 4
  %conv = sext i32 %0 to i64
  %_M_manager.i.i = getelementptr inbounds %"class.std::_Function_base", ptr %agg.tmp, i64 0, i32 1
  %_M_invoker.i = getelementptr inbounds %"class.std::function.95", ptr %agg.tmp, i64 0, i32 1
  store ptr %subsurfaceScatterQueue, ptr %agg.tmp, align 8
  %ref.tmp.sroa.2.0.agg.tmp.sroa_idx = getelementptr inbounds i8, ptr %agg.tmp, i64 8
  store ptr %this, ptr %ref.tmp.sroa.2.0.agg.tmp.sroa_idx, align 8
  store ptr @"_ZNSt17_Function_handlerIFvlEZNK4pbrt12CPUAggregate18IntersectOneRandomEiPNS1_22SubsurfaceScatterQueueEE3$_0E9_M_invokeERKSt9_Any_dataOl", ptr %_M_invoker.i, align 8
  store ptr @"_ZNSt17_Function_handlerIFvlEZNK4pbrt12CPUAggregate18IntersectOneRandomEiPNS1_22SubsurfaceScatterQueueEE3$_0E10_M_managerERSt9_Any_dataRKS7_St18_Manager_operation", ptr %_M_manager.i.i, align 8
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp.i)
  %_M_manager.i.i.i = getelementptr inbounds %"class.std::_Function_base", ptr %agg.tmp.i, i64 0, i32 1
  %_M_invoker.i.i = getelementptr inbounds %"class.std::function.119", ptr %agg.tmp.i, i64 0, i32 1
  %1 = getelementptr inbounds i8, ptr %agg.tmp.i, i64 8
  store i64 0, ptr %1, align 8
  store ptr %agg.tmp, ptr %agg.tmp.i, align 8
  store ptr @_ZNSt17_Function_handlerIFvllEZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_E9_M_invokeERKSt9_Any_dataOlSA_, ptr %_M_invoker.i.i, align 8
  store ptr @_ZNSt17_Function_handlerIFvllEZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_E10_M_managerERSt9_Any_dataRKS7_St18_Manager_operation, ptr %_M_manager.i.i.i, align 8
  invoke void @_ZN4pbrt11ParallelForEllSt8functionIFvllEE(i64 noundef 0, i64 noundef %conv, ptr noundef nonnull %agg.tmp.i)
          to label %invoke.cont.i unwind label %lpad.i

invoke.cont.i:                                    ; preds = %entry
  %2 = load ptr, ptr %_M_manager.i.i.i, align 8
  %tobool.not.i.i.i = icmp eq ptr %2, null
  br i1 %tobool.not.i.i.i, label %invoke.cont, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %invoke.cont.i
  %call.i.i.i = invoke noundef zeroext i1 %2(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp.i, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp.i, i32 noundef 3)
          to label %invoke.cont unwind label %terminate.lpad.i.i.i

terminate.lpad.i.i.i:                             ; preds = %if.then.i.i.i
  %3 = landingpad { ptr, i32 }
          catch ptr null
  %4 = extractvalue { ptr, i32 } %3, 0
  call void @__clang_call_terminate(ptr %4) #22
  unreachable

lpad.i:                                           ; preds = %entry
  %5 = landingpad { ptr, i32 }
          cleanup
  %6 = load ptr, ptr %_M_manager.i.i.i, align 8
  %tobool.not.i.i3.i = icmp eq ptr %6, null
  br i1 %tobool.not.i.i3.i, label %lpad.body, label %if.then.i.i4.i

if.then.i.i4.i:                                   ; preds = %lpad.i
  %call.i.i5.i = invoke noundef zeroext i1 %6(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp.i, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp.i, i32 noundef 3)
          to label %lpad.body unwind label %terminate.lpad.i.i6.i

terminate.lpad.i.i6.i:                            ; preds = %if.then.i.i4.i
  %7 = landingpad { ptr, i32 }
          catch ptr null
  %8 = extractvalue { ptr, i32 } %7, 0
  call void @__clang_call_terminate(ptr %8) #22
  unreachable

invoke.cont:                                      ; preds = %if.then.i.i.i, %invoke.cont.i
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp.i)
  %9 = load ptr, ptr %_M_manager.i.i, align 8
  %tobool.not.i.i = icmp eq ptr %9, null
  br i1 %tobool.not.i.i, label %_ZNSt8functionIFvlEED2Ev.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %invoke.cont
  %call.i.i = invoke noundef zeroext i1 %9(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, i32 noundef 3)
          to label %_ZNSt8functionIFvlEED2Ev.exit unwind label %terminate.lpad.i.i

terminate.lpad.i.i:                               ; preds = %if.then.i.i
  %10 = landingpad { ptr, i32 }
          catch ptr null
  %11 = extractvalue { ptr, i32 } %10, 0
  call void @__clang_call_terminate(ptr %11) #22
  unreachable

_ZNSt8functionIFvlEED2Ev.exit:                    ; preds = %invoke.cont, %if.then.i.i
  ret void

lpad.body:                                        ; preds = %lpad.i, %if.then.i.i4.i
  %12 = load ptr, ptr %_M_manager.i.i, align 8
  %tobool.not.i.i4 = icmp eq ptr %12, null
  br i1 %tobool.not.i.i4, label %_ZNSt8functionIFvlEED2Ev.exit8, label %if.then.i.i5

if.then.i.i5:                                     ; preds = %lpad.body
  %call.i.i6 = invoke noundef zeroext i1 %12(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, i32 noundef 3)
          to label %_ZNSt8functionIFvlEED2Ev.exit8 unwind label %terminate.lpad.i.i7

terminate.lpad.i.i7:                              ; preds = %if.then.i.i5
  %13 = landingpad { ptr, i32 }
          catch ptr null
  %14 = extractvalue { ptr, i32 } %13, 0
  call void @__clang_call_terminate(ptr %14) #22
  unreachable

_ZNSt8functionIFvlEED2Ev.exit8:                   ; preds = %lpad.body, %if.then.i.i5
  resume { ptr, i32 } %5
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr dso_local void @_ZN4pbrt12CPUAggregateD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %this) unnamed_addr #2 comdat align 2 {
entry:
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr dso_local void @_ZN4pbrt12CPUAggregateD0Ev(ptr noundef nonnull align 8 dereferenceable(16) %this) unnamed_addr #2 comdat align 2 {
entry:
  tail call void @_ZdlPv(ptr noundef nonnull %this) #23
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZNK4pbrt12CPUAggregate6BoundsEv(ptr noalias sret(%"class.pbrt::Bounds3") align 4 %agg.result, ptr noundef nonnull align 8 dereferenceable(16) %this) unnamed_addr #1 comdat align 2 {
entry:
  %aggregate = getelementptr inbounds %"class.pbrt::CPUAggregate", ptr %this, i64 0, i32 1
  %0 = load i64, ptr %aggregate, align 8
  %and.i = and i64 %0, 144115188075855871
  %cmp.i.not = icmp eq i64 %and.i, 0
  br i1 %cmp.i.not, label %cond.false, label %cond.true

cond.true:                                        ; preds = %entry
  tail call void @_ZNK4pbrt9Primitive6BoundsEv(ptr sret(%"class.pbrt::Bounds3") align 4 %agg.result, ptr noundef nonnull align 8 dereferenceable(8) %aggregate)
  br label %cond.end

cond.false:                                       ; preds = %entry
  %y.i.i5.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %agg.result, i64 0, i32 1, i32 0, i32 1
  store <4 x float> <float 0x47EFFFFFE0000000, float 0x47EFFFFFE0000000, float 0x47EFFFFFE0000000, float 0xC7EFFFFFE0000000>, ptr %agg.result, align 4
  store <2 x float> <float 0xC7EFFFFFE0000000, float 0xC7EFFFFFE0000000>, ptr %y.i.i5.i, align 4
  br label %cond.end

cond.end:                                         ; preds = %cond.false, %cond.true
  ret void
}

; Function Attrs: mustprogress uwtable
define internal void @"_ZN4pbrt3$_08__invokeERNS_16StatsAccumulatorE"(ptr noundef nonnull align 8 dereferenceable(8) %accum) #1 align 2 {
entry:
  %0 = tail call align 8 ptr @llvm.threadlocal.address.p0(ptr align 8 @_ZN4pbrtL15primitiveMemoryE)
  %1 = load i64, ptr %0, align 8
  tail call void @_ZN4pbrt16StatsAccumulator19ReportMemoryCounterEPKcl(ptr noundef nonnull align 8 dereferenceable(8) %accum, ptr noundef nonnull @.str, i64 noundef %1)
  store i64 0, ptr %0, align 8
  ret void
}

declare void @_ZN4pbrt16StatsAccumulator19ReportMemoryCounterEPKcl(ptr noundef nonnull align 8 dereferenceable(8), ptr noundef, i64 noundef) local_unnamed_addr #0

; Function Attrs: mustprogress nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare nonnull ptr @llvm.threadlocal.address.p0(ptr nonnull) #3

; Function Attrs: mustprogress uwtable
define internal void @"_ZN4pbrt3$_18__invokeERNS_16StatsAccumulatorE"(ptr noundef nonnull align 8 dereferenceable(8) %accum) #1 align 2 {
entry:
  %0 = tail call align 8 ptr @llvm.threadlocal.address.p0(ptr align 8 @_ZN4pbrtL20redundantBufferBytesE)
  %1 = load i64, ptr %0, align 8
  tail call void @_ZN4pbrt16StatsAccumulator19ReportMemoryCounterEPKcl(ptr noundef nonnull align 8 dereferenceable(8) %accum, ptr noundef nonnull @.str.5, i64 noundef %1)
  store i64 0, ptr %0, align 8
  ret void
}

; Function Attrs: mustprogress uwtable
define internal void @"_ZN4pbrt3$_28__invokeERNS_16StatsAccumulatorE"(ptr noundef nonnull align 8 dereferenceable(8) %accum) #1 align 2 {
entry:
  %0 = tail call align 8 ptr @llvm.threadlocal.address.p0(ptr align 8 @_ZN4pbrtL16nBufferCacheHitsE)
  %1 = load i64, ptr %0, align 8
  %2 = tail call align 8 ptr @llvm.threadlocal.address.p0(ptr align 8 @_ZN4pbrtL19nBufferCacheLookupsE)
  %3 = load i64, ptr %2, align 8
  tail call void @_ZN4pbrt16StatsAccumulator16ReportPercentageEPKcll(ptr noundef nonnull align 8 dereferenceable(8) %accum, ptr noundef nonnull @.str.6, i64 noundef %1, i64 noundef %3)
  store i64 0, ptr %0, align 8
  store i64 0, ptr %2, align 8
  ret void
}

declare void @_ZN4pbrt16StatsAccumulator16ReportPercentageEPKcll(ptr noundef nonnull align 8 dereferenceable(8), ptr noundef, i64 noundef, i64 noundef) local_unnamed_addr #0

declare void @_ZN4pbrt11ParallelForEllSt8functionIFvllEE(i64 noundef, i64 noundef, ptr noundef) local_unnamed_addr #0

; Function Attrs: mustprogress nocallback nofree nounwind willreturn memory(argmem: write)
declare void @llvm.memset.p0.i64(ptr nocapture writeonly, i8, i64, i1 immarg) #4

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZNSt17_Function_handlerIFvllEZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_E9_M_invokeERKSt9_Any_dataOlSA_(ptr noundef nonnull align 8 dereferenceable(16) %__functor, ptr noundef nonnull align 8 dereferenceable(8) %__args, ptr noundef nonnull align 8 dereferenceable(8) %__args1) #1 comdat align 2 {
entry:
  %__args.addr.i.i.i.i = alloca i64, align 8
  %0 = load i64, ptr %__args, align 8
  %1 = load i64, ptr %__args1, align 8
  %cmp3.i.i.i = icmp slt i64 %0, %1
  br i1 %cmp3.i.i.i, label %for.body.i.i.i, label %_ZSt10__invoke_rIvRZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_JllEENSt9enable_ifIX16is_invocable_r_vIT_T0_DpT1_EES7_E4typeEOS8_DpOS9_.exit

for.body.i.i.i:                                   ; preds = %entry, %_ZNKSt8functionIFvlEEclEl.exit.i.i.i
  %i.04.i.i.i = phi i64 [ %inc.i.i.i, %_ZNKSt8functionIFvlEEclEl.exit.i.i.i ], [ %0, %entry ]
  %2 = load ptr, ptr %__functor, align 8
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %__args.addr.i.i.i.i)
  store i64 %i.04.i.i.i, ptr %__args.addr.i.i.i.i, align 8
  %_M_manager.i.i.i.i.i = getelementptr inbounds %"class.std::_Function_base", ptr %2, i64 0, i32 1
  %3 = load ptr, ptr %_M_manager.i.i.i.i.i, align 8
  %tobool.not.i.i.i.i.i = icmp eq ptr %3, null
  br i1 %tobool.not.i.i.i.i.i, label %if.then.i.i.i.i, label %_ZNKSt8functionIFvlEEclEl.exit.i.i.i

if.then.i.i.i.i:                                  ; preds = %for.body.i.i.i
  call void @_ZSt25__throw_bad_function_callv() #24
  unreachable

_ZNKSt8functionIFvlEEclEl.exit.i.i.i:             ; preds = %for.body.i.i.i
  %_M_invoker.i.i.i.i = getelementptr inbounds %"class.std::function.95", ptr %2, i64 0, i32 1
  %4 = load ptr, ptr %_M_invoker.i.i.i.i, align 8
  call void %4(ptr noundef nonnull align 8 dereferenceable(16) %2, ptr noundef nonnull align 8 dereferenceable(8) %__args.addr.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %__args.addr.i.i.i.i)
  %inc.i.i.i = add i64 %i.04.i.i.i, 1
  %exitcond.not.i.i.i = icmp eq i64 %inc.i.i.i, %1
  br i1 %exitcond.not.i.i.i, label %_ZSt10__invoke_rIvRZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_JllEENSt9enable_ifIX16is_invocable_r_vIT_T0_DpT1_EES7_E4typeEOS8_DpOS9_.exit, label %for.body.i.i.i, !llvm.loop !5

_ZSt10__invoke_rIvRZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_JllEENSt9enable_ifIX16is_invocable_r_vIT_T0_DpT1_EES7_E4typeEOS8_DpOS9_.exit: ; preds = %_ZNKSt8functionIFvlEEclEl.exit.i.i.i, %entry
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local noundef zeroext i1 @_ZNSt17_Function_handlerIFvllEZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_E10_M_managerERSt9_Any_dataRKS7_St18_Manager_operation(ptr noundef nonnull align 8 dereferenceable(16) %__dest, ptr noundef nonnull align 8 dereferenceable(16) %__source, i32 noundef %__op) #1 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  switch i32 %__op, label %sw.epilog [
    i32 0, label %sw.bb
    i32 1, label %sw.bb1
    i32 2, label %sw.bb4.i
  ]

sw.bb:                                            ; preds = %entry
  store ptr @_ZTIZN4pbrt11ParallelForEllSt8functionIFvlEEEUlllE_, ptr %__dest, align 8
  br label %sw.epilog

sw.bb1:                                           ; preds = %entry
  store ptr %__source, ptr %__dest, align 8
  br label %sw.epilog

sw.bb4.i:                                         ; preds = %entry
  %0 = load i64, ptr %__source, align 8
  store i64 %0, ptr %__dest, align 8
  br label %sw.epilog

sw.epilog:                                        ; preds = %entry, %sw.bb4.i, %sw.bb1, %sw.bb
  ret i1 false
}

; Function Attrs: noreturn nounwind uwtable
define linkonce_odr hidden void @__clang_call_terminate(ptr noundef %0) local_unnamed_addr #5 comdat {
  %2 = tail call ptr @__cxa_begin_catch(ptr %0) #25
  tail call void @_ZSt9terminatev() #22
  unreachable
}

declare ptr @__cxa_begin_catch(ptr) local_unnamed_addr

declare void @_ZSt9terminatev() local_unnamed_addr

; Function Attrs: mustprogress nocallback nofree nounwind willreturn memory(argmem: readwrite)
declare void @llvm.memcpy.p0.p0.i64(ptr noalias nocapture writeonly, ptr noalias nocapture readonly, i64, i1 immarg) #6

; Function Attrs: noreturn
declare void @_ZSt25__throw_bad_function_callv() local_unnamed_addr #7

; Function Attrs: nobuiltin nounwind
declare void @_ZdlPv(ptr noundef) local_unnamed_addr #8

declare void @_ZNK4pbrt9Primitive6BoundsEv(ptr sret(%"class.pbrt::Bounds3") align 4, ptr noundef nonnull align 8 dereferenceable(8)) local_unnamed_addr #0

; Function Attrs: mustprogress uwtable
define internal void @"_ZNSt17_Function_handlerIFvlEZNK4pbrt12CPUAggregate16IntersectClosestEiPKNS1_8RayQueueEPNS1_15EscapedRayQueueEPNS1_9WorkQueueINS1_20HitAreaLightWorkItemEEEPNS1_14MultiWorkQueueINS1_8TypePackIJNS1_20MaterialEvalWorkItemINS1_21CoatedDiffuseMaterialEEENSE_INS1_23CoatedConductorMaterialEEENSE_INS1_17ConductorMaterialEEENSE_INS1_18DielectricMaterialEEENSE_INS1_15DiffuseMaterialEEENSE_INS1_27DiffuseTransmissionMaterialEEENSE_INS1_12HairMaterialEEENSE_INS1_16MeasuredMaterialEEENSE_INS1_18SubsurfaceMaterialEEENSE_INS1_22ThinDielectricMaterialEEENSE_INS1_11MixMaterialEEEEEEEES13_PNS1_17MediumSampleQueueEPS3_E3$_0E9_M_invokeERKSt9_Any_dataOl"(ptr nocapture noundef nonnull readonly align 8 dereferenceable(16) %__functor, ptr nocapture noundef nonnull readonly align 8 dereferenceable(8) %__args) #9 align 2 personality ptr @__gxx_personality_v0 {
entry:
  %r.i.i.i = alloca %"struct.pbrt::RayWorkItem", align 8
  %agg.tmp.i.i.i = alloca %"struct.pbrt::RayWorkItem", align 8
  %si.i.i.i = alloca %"class.pstd::optional", align 8
  %agg.tmp5.i.i.i = alloca %"struct.pbrt::RayWorkItem", align 8
  %agg.tmp8.i.i.i = alloca %"struct.pbrt::RayWorkItem", align 8
  %agg.tmp10.i.i.i = alloca %"class.pbrt::Medium", align 8
  %agg.tmp15.i.i.i = alloca %"class.pbrt::SurfaceInteraction", align 8
  %__functor.val = load ptr, ptr %__functor, align 8
  %__args.val = load i64, ptr %__args, align 8
  call void @llvm.lifetime.start.p0(i64 192, ptr nonnull %r.i.i.i)
  call void @llvm.lifetime.start.p0(i64 192, ptr nonnull %agg.tmp.i.i.i)
  call void @llvm.lifetime.start.p0(i64 264, ptr nonnull %si.i.i.i)
  call void @llvm.lifetime.start.p0(i64 192, ptr nonnull %agg.tmp5.i.i.i)
  call void @llvm.lifetime.start.p0(i64 192, ptr nonnull %agg.tmp8.i.i.i)
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %agg.tmp10.i.i.i)
  call void @llvm.lifetime.start.p0(i64 248, ptr nonnull %agg.tmp15.i.i.i)
  %0 = getelementptr inbounds %class.anon.106, ptr %__functor.val, i64 0, i32 1
  %1 = load ptr, ptr %0, align 8
  %2 = load ptr, ptr %__functor.val, align 8
  tail call void @llvm.experimental.noalias.scope.decl(metadata !7)
  %medium.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Ray", ptr %r.i.i.i, i64 0, i32 3
  %lambda.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 2
  %beta.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 4
  %x.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 1, i32 1, i32 1
  %3 = load ptr, ptr %x.i.i.i.i.i.i, align 8, !noalias !10
  %sext.i.i = shl i64 %__args.val, 32
  %idxprom.i.i.i.i.i.i = ashr exact i64 %sext.i.i, 32
  %arrayidx.i.i.i.i.i.i = getelementptr inbounds float, ptr %3, i64 %idxprom.i.i.i.i.i.i
  %4 = load float, ptr %arrayidx.i.i.i.i.i.i, align 4, !noalias !10
  %retval.sroa.0.0.vec.insert.i.i.i.i.i.i = insertelement <2 x float> poison, float %4, i64 0
  %y.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 1, i32 1, i32 2
  %5 = load ptr, ptr %y.i.i.i.i.i.i, align 8, !noalias !10
  %arrayidx4.i.i.i.i.i.i = getelementptr inbounds float, ptr %5, i64 %idxprom.i.i.i.i.i.i
  %6 = load float, ptr %arrayidx4.i.i.i.i.i.i, align 4, !noalias !10
  %retval.sroa.0.4.vec.insert.i.i.i.i.i.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i.i.i.i.i.i, float %6, i64 1
  %z.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 1, i32 1, i32 3
  %7 = load ptr, ptr %z.i.i.i.i.i.i, align 8, !noalias !10
  %arrayidx7.i.i.i.i.i.i = getelementptr inbounds float, ptr %7, i64 %idxprom.i.i.i.i.i.i
  %8 = load float, ptr %arrayidx7.i.i.i.i.i.i, align 4, !noalias !10
  %x.i4.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 1, i32 2, i32 1
  %9 = load ptr, ptr %x.i4.i.i.i.i.i, align 8, !noalias !10
  %arrayidx.i6.i.i.i.i.i = getelementptr inbounds float, ptr %9, i64 %idxprom.i.i.i.i.i.i
  %10 = load float, ptr %arrayidx.i6.i.i.i.i.i, align 4, !noalias !10
  %retval.sroa.0.0.vec.insert.i7.i.i.i.i.i = insertelement <2 x float> poison, float %10, i64 0
  %y.i8.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 1, i32 2, i32 2
  %11 = load ptr, ptr %y.i8.i.i.i.i.i, align 8, !noalias !10
  %arrayidx4.i9.i.i.i.i.i = getelementptr inbounds float, ptr %11, i64 %idxprom.i.i.i.i.i.i
  %12 = load float, ptr %arrayidx4.i9.i.i.i.i.i, align 4, !noalias !10
  %retval.sroa.0.4.vec.insert.i10.i.i.i.i.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i7.i.i.i.i.i, float %12, i64 1
  %z.i11.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 1, i32 2, i32 3
  %13 = load ptr, ptr %z.i11.i.i.i.i.i, align 8, !noalias !10
  %arrayidx7.i12.i.i.i.i.i = getelementptr inbounds float, ptr %13, i64 %idxprom.i.i.i.i.i.i
  %14 = load float, ptr %arrayidx7.i12.i.i.i.i.i, align 4, !noalias !10
  %time.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 1, i32 3
  %15 = load ptr, ptr %time.i.i.i.i.i, align 8, !noalias !10
  %arrayidx.i.i.i.i.i = getelementptr inbounds float, ptr %15, i64 %idxprom.i.i.i.i.i.i
  %16 = load float, ptr %arrayidx.i.i.i.i.i, align 4, !noalias !10
  %medium.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 1, i32 4
  %17 = load ptr, ptr %medium.i.i.i.i.i, align 8, !noalias !10
  %arrayidx10.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Medium", ptr %17, i64 %idxprom.i.i.i.i.i.i
  %18 = load i64, ptr %arrayidx10.i.i.i.i.i, align 8, !noalias !10
  store <2 x float> %retval.sroa.0.4.vec.insert.i.i.i.i.i.i, ptr %r.i.i.i, align 8, !alias.scope !7
  %ref.tmp.sroa.2.0.agg.result.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %r.i.i.i, i64 8
  store float %8, ptr %ref.tmp.sroa.2.0.agg.result.sroa_idx.i.i.i.i, align 8, !alias.scope !7
  %ref.tmp.sroa.3.0.agg.result.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %r.i.i.i, i64 12
  store <2 x float> %retval.sroa.0.4.vec.insert.i10.i.i.i.i.i, ptr %ref.tmp.sroa.3.0.agg.result.sroa_idx.i.i.i.i, align 4, !alias.scope !7
  %ref.tmp.sroa.4.0.agg.result.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %r.i.i.i, i64 20
  store float %14, ptr %ref.tmp.sroa.4.0.agg.result.sroa_idx.i.i.i.i, align 4, !alias.scope !7
  %ref.tmp.sroa.5.0.agg.result.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %r.i.i.i, i64 24
  store float %16, ptr %ref.tmp.sroa.5.0.agg.result.sroa_idx.i.i.i.i, align 8, !alias.scope !7
  store i64 %18, ptr %medium.i.i.i.i.i.i, align 8, !alias.scope !7
  %depth.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 2
  %19 = load ptr, ptr %depth.i.i.i.i, align 8, !noalias !7
  %arrayidx.i.i.i.i = getelementptr inbounds i32, ptr %19, i64 %idxprom.i.i.i.i.i.i
  %20 = load i32, ptr %arrayidx.i.i.i.i, align 4, !noalias !7
  %depth3.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 1
  store i32 %20, ptr %depth3.i.i.i.i, align 8, !alias.scope !7
  %pixelIndex.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 3
  %21 = load ptr, ptr %pixelIndex.i.i.i.i, align 8, !noalias !7
  %arrayidx5.i.i.i.i = getelementptr inbounds i32, ptr %21, i64 %idxprom.i.i.i.i.i.i
  %22 = load i32, ptr %arrayidx5.i.i.i.i, align 4, !noalias !7
  %pixelIndex6.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 3
  store i32 %22, ptr %pixelIndex6.i.i.i.i, align 4, !alias.scope !7
  %lambda4.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 4, i32 1
  %23 = load ptr, ptr %lambda4.i.i.i.i.i, align 8, !noalias !13
  %pdf4.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 4, i32 2
  %24 = load ptr, ptr %pdf4.i.i.i.i.i, align 8, !noalias !13
  %add.ptr.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %23, i64 %idxprom.i.i.i.i.i.i
  %retval.sroa.0.0.copyload.i.i.i.i.i.i = load <2 x float>, ptr %add.ptr.i.i.i.i.i, align 16, !noalias !13
  %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i.i.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i.i.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i.i.i, align 8, !noalias !13
  %add.ptr4.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %24, i64 %idxprom.i.i.i.i.i.i
  %retval.sroa.0.0.copyload.i11.i.i.i.i.i = load <2 x float>, ptr %add.ptr4.i.i.i.i.i, align 16, !noalias !13
  %retval.sroa.2.0.p.addr.0..sroa_idx.i12.i.i.i.i.i = getelementptr inbounds i8, ptr %add.ptr4.i.i.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i13.i.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i12.i.i.i.i.i, align 8, !noalias !13
  store <2 x float> %retval.sroa.0.0.copyload.i.i.i.i.i.i, ptr %lambda.i.i.i.i.i, align 4, !alias.scope !7
  %ref.tmp7.sroa.2.0.lambda8.sroa_idx.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 2, i32 0, i32 0, i64 2
  store <2 x float> %retval.sroa.2.0.copyload.i.i.i.i.i.i, ptr %ref.tmp7.sroa.2.0.lambda8.sroa_idx.i.i.i.i, align 4, !alias.scope !7
  %ref.tmp7.sroa.3.0.lambda8.sroa_idx.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 2, i32 1
  store <2 x float> %retval.sroa.0.0.copyload.i11.i.i.i.i.i, ptr %ref.tmp7.sroa.3.0.lambda8.sroa_idx.i.i.i.i, align 4, !alias.scope !7
  %ref.tmp7.sroa.4.0.lambda8.sroa_idx.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 2, i32 1, i32 0, i64 2
  store <2 x float> %retval.sroa.2.0.copyload.i13.i.i.i.i.i, ptr %ref.tmp7.sroa.4.0.lambda8.sroa_idx.i.i.i.i, align 4, !alias.scope !7
  %ptr4.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 5, i32 1
  %25 = load ptr, ptr %ptr4.i.i.i.i.i, align 8, !noalias !7
  %add.ptr.i14.i.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %25, i64 %idxprom.i.i.i.i.i.i
  %retval.sroa.0.0.copyload.i.i15.i.i.i.i = load <2 x float>, ptr %add.ptr.i14.i.i.i.i, align 16, !noalias !7
  %retval.sroa.2.0.p.addr.0..sroa_idx.i.i16.i.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i14.i.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i.i17.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i16.i.i.i.i, align 8, !noalias !7
  store <2 x float> %retval.sroa.0.0.copyload.i.i15.i.i.i.i, ptr %beta.i.i.i.i.i, align 8, !alias.scope !7
  %ref.tmp9.sroa.2.0.beta12.sroa_idx.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 4, i32 0, i32 0, i64 2
  store <2 x float> %retval.sroa.2.0.copyload.i.i17.i.i.i.i, ptr %ref.tmp9.sroa.2.0.beta12.sroa_idx.i.i.i.i, align 8, !alias.scope !7
  %ptr4.i18.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 6, i32 1
  %26 = load ptr, ptr %ptr4.i18.i.i.i.i, align 8, !noalias !7
  %add.ptr.i20.i.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %26, i64 %idxprom.i.i.i.i.i.i
  %retval.sroa.0.0.copyload.i.i21.i.i.i.i = load <2 x float>, ptr %add.ptr.i20.i.i.i.i, align 16, !noalias !7
  %retval.sroa.2.0.p.addr.0..sroa_idx.i.i22.i.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i20.i.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i.i23.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i22.i.i.i.i, align 8, !noalias !7
  %r_u17.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 5
  store <2 x float> %retval.sroa.0.0.copyload.i.i21.i.i.i.i, ptr %r_u17.i.i.i.i, align 8, !alias.scope !7
  %ref.tmp13.sroa.2.0.r_u17.sroa_idx.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 5, i32 0, i32 0, i64 2
  store <2 x float> %retval.sroa.2.0.copyload.i.i23.i.i.i.i, ptr %ref.tmp13.sroa.2.0.r_u17.sroa_idx.i.i.i.i, align 8, !alias.scope !7
  %ptr4.i26.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 7, i32 1
  %27 = load ptr, ptr %ptr4.i26.i.i.i.i, align 8, !noalias !7
  %add.ptr.i28.i.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %27, i64 %idxprom.i.i.i.i.i.i
  %retval.sroa.0.0.copyload.i.i29.i.i.i.i = load <2 x float>, ptr %add.ptr.i28.i.i.i.i, align 16, !noalias !7
  %retval.sroa.2.0.p.addr.0..sroa_idx.i.i30.i.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i28.i.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i.i31.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i30.i.i.i.i, align 8, !noalias !7
  %r_l22.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 6
  store <2 x float> %retval.sroa.0.0.copyload.i.i29.i.i.i.i, ptr %r_l22.i.i.i.i, align 8, !alias.scope !7
  %ref.tmp18.sroa.2.0.r_l22.sroa_idx.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 6, i32 0, i32 0, i64 2
  store <2 x float> %retval.sroa.2.0.copyload.i.i31.i.i.i.i, ptr %ref.tmp18.sroa.2.0.r_l22.sroa_idx.i.i.i.i, align 8, !alias.scope !7
  %low.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 8, i32 1, i32 1, i32 1
  %28 = load ptr, ptr %low.i.i.i.i.i.i.i, align 8, !noalias !16
  %arrayidx.i.i.i.i.i.i.i = getelementptr inbounds float, ptr %28, i64 %idxprom.i.i.i.i.i.i
  %29 = load float, ptr %arrayidx.i.i.i.i.i.i.i, align 4, !noalias !16
  %retval.sroa.0.0.vec.insert.i.i.i.i.i.i.i = insertelement <2 x float> poison, float %29, i64 0
  %high.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 8, i32 1, i32 1, i32 2
  %30 = load ptr, ptr %high.i.i.i.i.i.i.i, align 8, !noalias !16
  %arrayidx4.i.i.i.i.i.i.i = getelementptr inbounds float, ptr %30, i64 %idxprom.i.i.i.i.i.i
  %31 = load float, ptr %arrayidx4.i.i.i.i.i.i.i, align 4, !noalias !16
  %retval.sroa.0.4.vec.insert.i.i.i.i.i.i.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i.i.i.i.i.i.i, float %31, i64 1
  %low.i3.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 8, i32 1, i32 2, i32 1
  %32 = load ptr, ptr %low.i3.i.i.i.i.i.i, align 8, !noalias !16
  %arrayidx.i5.i.i.i.i.i.i = getelementptr inbounds float, ptr %32, i64 %idxprom.i.i.i.i.i.i
  %33 = load float, ptr %arrayidx.i5.i.i.i.i.i.i, align 4, !noalias !16
  %retval.sroa.0.0.vec.insert.i6.i.i.i.i.i.i = insertelement <2 x float> poison, float %33, i64 0
  %high.i7.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 8, i32 1, i32 2, i32 2
  %34 = load ptr, ptr %high.i7.i.i.i.i.i.i, align 8, !noalias !16
  %arrayidx4.i8.i.i.i.i.i.i = getelementptr inbounds float, ptr %34, i64 %idxprom.i.i.i.i.i.i
  %35 = load float, ptr %arrayidx4.i8.i.i.i.i.i.i, align 4, !noalias !16
  %retval.sroa.0.4.vec.insert.i9.i.i.i.i.i.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i6.i.i.i.i.i.i, float %35, i64 1
  %low.i10.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 8, i32 1, i32 3, i32 1
  %36 = load ptr, ptr %low.i10.i.i.i.i.i.i, align 8, !noalias !16
  %arrayidx.i12.i.i.i.i.i.i = getelementptr inbounds float, ptr %36, i64 %idxprom.i.i.i.i.i.i
  %37 = load float, ptr %arrayidx.i12.i.i.i.i.i.i, align 4, !noalias !16
  %retval.sroa.0.0.vec.insert.i13.i.i.i.i.i.i = insertelement <2 x float> poison, float %37, i64 0
  %high.i14.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 8, i32 1, i32 3, i32 2
  %38 = load ptr, ptr %high.i14.i.i.i.i.i.i, align 8, !noalias !16
  %arrayidx4.i15.i.i.i.i.i.i = getelementptr inbounds float, ptr %38, i64 %idxprom.i.i.i.i.i.i
  %39 = load float, ptr %arrayidx4.i15.i.i.i.i.i.i, align 4, !noalias !16
  %retval.sroa.0.4.vec.insert.i16.i.i.i.i.i.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i13.i.i.i.i.i.i, float %39, i64 1
  %x.i.i34.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 8, i32 2, i32 1
  %40 = load ptr, ptr %x.i.i34.i.i.i.i, align 8, !noalias !21
  %arrayidx.i.i35.i.i.i.i = getelementptr inbounds float, ptr %40, i64 %idxprom.i.i.i.i.i.i
  %41 = load float, ptr %arrayidx.i.i35.i.i.i.i, align 4, !noalias !21
  %retval.sroa.0.0.vec.insert.i.i36.i.i.i.i = insertelement <2 x float> poison, float %41, i64 0
  %y.i.i37.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 8, i32 2, i32 2
  %42 = load ptr, ptr %y.i.i37.i.i.i.i, align 8, !noalias !21
  %arrayidx4.i.i38.i.i.i.i = getelementptr inbounds float, ptr %42, i64 %idxprom.i.i.i.i.i.i
  %43 = load float, ptr %arrayidx4.i.i38.i.i.i.i, align 4, !noalias !21
  %retval.sroa.0.4.vec.insert.i.i39.i.i.i.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i.i36.i.i.i.i, float %43, i64 1
  %z.i.i40.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 8, i32 2, i32 3
  %44 = load ptr, ptr %z.i.i40.i.i.i.i, align 8, !noalias !21
  %arrayidx7.i.i41.i.i.i.i = getelementptr inbounds float, ptr %44, i64 %idxprom.i.i.i.i.i.i
  %45 = load float, ptr %arrayidx7.i.i41.i.i.i.i, align 4, !noalias !21
  %x.i3.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 8, i32 3, i32 1
  %46 = load ptr, ptr %x.i3.i.i.i.i.i, align 8, !noalias !21
  %arrayidx.i5.i.i.i.i.i = getelementptr inbounds float, ptr %46, i64 %idxprom.i.i.i.i.i.i
  %47 = load float, ptr %arrayidx.i5.i.i.i.i.i, align 4, !noalias !21
  %retval.sroa.0.0.vec.insert.i6.i.i.i.i.i = insertelement <2 x float> poison, float %47, i64 0
  %y.i7.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 8, i32 3, i32 2
  %48 = load ptr, ptr %y.i7.i.i.i.i.i, align 8, !noalias !21
  %arrayidx4.i8.i.i.i.i.i = getelementptr inbounds float, ptr %48, i64 %idxprom.i.i.i.i.i.i
  %49 = load float, ptr %arrayidx4.i8.i.i.i.i.i, align 4, !noalias !21
  %retval.sroa.0.4.vec.insert.i9.i.i.i.i.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i6.i.i.i.i.i, float %49, i64 1
  %z.i10.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 8, i32 3, i32 3
  %50 = load ptr, ptr %z.i10.i.i.i.i.i, align 8, !noalias !21
  %arrayidx7.i11.i.i.i.i.i = getelementptr inbounds float, ptr %50, i64 %idxprom.i.i.i.i.i.i
  %51 = load float, ptr %arrayidx7.i11.i.i.i.i.i, align 4, !noalias !21
  %prevIntrCtx24.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 7
  store <2 x float> %retval.sroa.0.4.vec.insert.i.i.i.i.i.i.i, ptr %prevIntrCtx24.i.i.i.i, align 8, !alias.scope !7
  %ref.tmp23.sroa.2.0.prevIntrCtx24.sroa_idx.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 7, i32 0, i32 0, i32 0, i32 1
  store <2 x float> %retval.sroa.0.4.vec.insert.i9.i.i.i.i.i.i, ptr %ref.tmp23.sroa.2.0.prevIntrCtx24.sroa_idx.i.i.i.i, align 8, !alias.scope !7
  %ref.tmp23.sroa.3.0.prevIntrCtx24.sroa_idx.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 7, i32 0, i32 0, i32 0, i32 2
  store <2 x float> %retval.sroa.0.4.vec.insert.i16.i.i.i.i.i.i, ptr %ref.tmp23.sroa.3.0.prevIntrCtx24.sroa_idx.i.i.i.i, align 8, !alias.scope !7
  %ref.tmp23.sroa.4.0.prevIntrCtx24.sroa_idx.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 7, i32 1
  store <2 x float> %retval.sroa.0.4.vec.insert.i.i39.i.i.i.i, ptr %ref.tmp23.sroa.4.0.prevIntrCtx24.sroa_idx.i.i.i.i, align 8, !alias.scope !7
  %ref.tmp23.sroa.5.0.prevIntrCtx24.sroa_idx.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 7, i32 1, i32 0, i32 2
  store float %45, ptr %ref.tmp23.sroa.5.0.prevIntrCtx24.sroa_idx.i.i.i.i, align 8, !alias.scope !7
  %ref.tmp23.sroa.6.0.prevIntrCtx24.sroa_idx.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 7, i32 2
  store <2 x float> %retval.sroa.0.4.vec.insert.i9.i.i.i.i.i, ptr %ref.tmp23.sroa.6.0.prevIntrCtx24.sroa_idx.i.i.i.i, align 4, !alias.scope !7
  %ref.tmp23.sroa.7.0.prevIntrCtx24.sroa_idx.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 7, i32 2, i32 0, i32 2
  store float %51, ptr %ref.tmp23.sroa.7.0.prevIntrCtx24.sroa_idx.i.i.i.i, align 4, !alias.scope !7
  %etaScale.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 9
  %52 = load ptr, ptr %etaScale.i.i.i.i, align 8, !noalias !7
  %arrayidx26.i.i.i.i = getelementptr inbounds float, ptr %52, i64 %idxprom.i.i.i.i.i.i
  %53 = load float, ptr %arrayidx26.i.i.i.i, align 4, !noalias !7
  %etaScale27.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 8
  store float %53, ptr %etaScale27.i.i.i.i, align 8, !alias.scope !7
  %specularBounce.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 10
  %54 = load ptr, ptr %specularBounce.i.i.i.i, align 8, !noalias !7
  %arrayidx29.i.i.i.i = getelementptr inbounds i32, ptr %54, i64 %idxprom.i.i.i.i.i.i
  %55 = load i32, ptr %arrayidx29.i.i.i.i, align 4, !noalias !7
  %specularBounce30.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 9
  store i32 %55, ptr %specularBounce30.i.i.i.i, align 4, !alias.scope !7
  %anyNonSpecularBounces.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %2, i64 0, i32 11
  %56 = load ptr, ptr %anyNonSpecularBounces.i.i.i.i, align 8, !noalias !7
  %arrayidx32.i.i.i.i = getelementptr inbounds i32, ptr %56, i64 %idxprom.i.i.i.i.i.i
  %57 = load i32, ptr %arrayidx32.i.i.i.i, align 4, !noalias !7
  %anyNonSpecularBounces33.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r.i.i.i, i64 0, i32 10
  store i32 %57, ptr %anyNonSpecularBounces33.i.i.i.i, align 8, !alias.scope !7
  %aggregate.i.i.i = getelementptr inbounds %"class.pbrt::CPUAggregate", ptr %1, i64 0, i32 1
  %58 = load i64, ptr %aggregate.i.i.i, align 8
  %and.i.i.i.i = and i64 %58, 144115188075855871
  %cmp.i.not.i.i.i = icmp eq i64 %and.i.i.i.i, 0
  br i1 %cmp.i.not.i.i.i, label %if.then.i.i.i, label %if.end.i.i.i

if.then.i.i.i:                                    ; preds = %entry
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(28) %agg.tmp.i.i.i, ptr noundef nonnull align 8 dereferenceable(28) %r.i.i.i, i64 28, i1 false)
  %medium.i.i1.i.i.i = getelementptr inbounds %"class.pbrt::Ray", ptr %agg.tmp.i.i.i, i64 0, i32 3
  store i64 %18, ptr %medium.i.i1.i.i.i, align 8
  %depth.i2.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %agg.tmp.i.i.i, i64 0, i32 1
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(148) %depth.i2.i.i.i, ptr noundef nonnull align 8 dereferenceable(148) %depth3.i.i.i.i, i64 148, i1 false)
  %59 = getelementptr inbounds %class.anon.106, ptr %__functor.val, i64 0, i32 2
  %60 = load ptr, ptr %59, align 8
  %61 = getelementptr inbounds %class.anon.106, ptr %__functor.val, i64 0, i32 3
  %62 = load ptr, ptr %61, align 8
  call void @_ZN4pbrt20EnqueueWorkAfterMissENS_11RayWorkItemEPNS_17MediumSampleQueueEPNS_15EscapedRayQueueE(ptr noundef nonnull %agg.tmp.i.i.i, ptr noundef %60, ptr noundef %62)
  br label %"_ZSt10__invoke_rIvRZNK4pbrt12CPUAggregate16IntersectClosestEiPKNS0_8RayQueueEPNS0_15EscapedRayQueueEPNS0_9WorkQueueINS0_20HitAreaLightWorkItemEEEPNS0_14MultiWorkQueueINS0_8TypePackIJNS0_20MaterialEvalWorkItemINS0_21CoatedDiffuseMaterialEEENSD_INS0_23CoatedConductorMaterialEEENSD_INS0_17ConductorMaterialEEENSD_INS0_18DielectricMaterialEEENSD_INS0_15DiffuseMaterialEEENSD_INS0_27DiffuseTransmissionMaterialEEENSD_INS0_12HairMaterialEEENSD_INS0_16MeasuredMaterialEEENSD_INS0_18SubsurfaceMaterialEEENSD_INS0_22ThinDielectricMaterialEEENSD_INS0_11MixMaterialEEEEEEEES12_PNS0_17MediumSampleQueueEPS2_E3$_0JlEENSt9enable_ifIX16is_invocable_r_vIT_T0_DpT1_EES19_E4typeEOS1A_DpOS1B_.exit"

if.end.i.i.i:                                     ; preds = %entry
  call void @_ZNK4pbrt9Primitive9IntersectERKNS_3RayEf(ptr nonnull sret(%"class.pstd::optional") align 8 %si.i.i.i, ptr noundef nonnull align 8 dereferenceable(8) %aggregate.i.i.i, ptr noundef nonnull align 8 dereferenceable(40) %r.i.i.i, float noundef 0x7FF0000000000000)
  %set.i.i.i.i = getelementptr inbounds %"class.pstd::optional", ptr %si.i.i.i, i64 0, i32 1
  %63 = load i8, ptr %set.i.i.i.i, align 8
  %64 = and i8 %63, 1
  %tobool.i.not.i.i.i = icmp eq i8 %64, 0
  br i1 %tobool.i.not.i.i.i, label %invoke.cont6.i.i.i, label %invoke.cont18.i.i.i

invoke.cont6.i.i.i:                               ; preds = %if.end.i.i.i
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(28) %agg.tmp5.i.i.i, ptr noundef nonnull align 8 dereferenceable(28) %r.i.i.i, i64 28, i1 false)
  %medium.i.i4.i.i.i = getelementptr inbounds %"class.pbrt::Ray", ptr %agg.tmp5.i.i.i, i64 0, i32 3
  %65 = load i64, ptr %medium.i.i.i.i.i.i, align 8
  store i64 %65, ptr %medium.i.i4.i.i.i, align 8
  %depth.i6.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %agg.tmp5.i.i.i, i64 0, i32 1
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(148) %depth.i6.i.i.i, ptr noundef nonnull align 8 dereferenceable(148) %depth3.i.i.i.i, i64 148, i1 false)
  %66 = getelementptr inbounds %class.anon.106, ptr %__functor.val, i64 0, i32 2
  %67 = load ptr, ptr %66, align 8
  %68 = getelementptr inbounds %class.anon.106, ptr %__functor.val, i64 0, i32 3
  %69 = load ptr, ptr %68, align 8
  call void @_ZN4pbrt20EnqueueWorkAfterMissENS_11RayWorkItemEPNS_17MediumSampleQueueEPNS_15EscapedRayQueueE(ptr noundef nonnull %agg.tmp5.i.i.i, ptr noundef %67, ptr noundef %69)
  br label %"_ZSt10__invoke_rIvRZNK4pbrt12CPUAggregate16IntersectClosestEiPKNS0_8RayQueueEPNS0_15EscapedRayQueueEPNS0_9WorkQueueINS0_20HitAreaLightWorkItemEEEPNS0_14MultiWorkQueueINS0_8TypePackIJNS0_20MaterialEvalWorkItemINS0_21CoatedDiffuseMaterialEEENSD_INS0_23CoatedConductorMaterialEEENSD_INS0_17ConductorMaterialEEENSD_INS0_18DielectricMaterialEEENSD_INS0_15DiffuseMaterialEEENSD_INS0_27DiffuseTransmissionMaterialEEENSD_INS0_12HairMaterialEEENSD_INS0_16MeasuredMaterialEEENSD_INS0_18SubsurfaceMaterialEEENSD_INS0_22ThinDielectricMaterialEEENSD_INS0_11MixMaterialEEEEEEEES12_PNS0_17MediumSampleQueueEPS2_E3$_0JlEENSt9enable_ifIX16is_invocable_r_vIT_T0_DpT1_EES19_E4typeEOS1A_DpOS1B_.exit"

invoke.cont18.i.i.i:                              ; preds = %if.end.i.i.i
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(28) %agg.tmp8.i.i.i, ptr noundef nonnull align 8 dereferenceable(28) %r.i.i.i, i64 28, i1 false)
  %medium.i.i8.i.i.i = getelementptr inbounds %"class.pbrt::Ray", ptr %agg.tmp8.i.i.i, i64 0, i32 3
  %70 = load i64, ptr %medium.i.i.i.i.i.i, align 8
  store i64 %70, ptr %medium.i.i8.i.i.i, align 8
  %depth.i10.i.i.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %agg.tmp8.i.i.i, i64 0, i32 1
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(148) %depth.i10.i.i.i, ptr noundef nonnull align 8 dereferenceable(148) %depth3.i.i.i.i, i64 148, i1 false)
  store i64 %70, ptr %agg.tmp10.i.i.i, align 8
  %tHit.i.i.i = getelementptr inbounds %"struct.pbrt::ShapeIntersection", ptr %si.i.i.i, i64 0, i32 1
  %71 = load float, ptr %tHit.i.i.i, align 8
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(72) %agg.tmp15.i.i.i, ptr noundef nonnull align 8 dereferenceable(72) %si.i.i.i, i64 72, i1 false)
  %medium.i.i19.i.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %agg.tmp15.i.i.i, i64 0, i32 6
  %medium3.i.i20.i.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %si.i.i.i, i64 0, i32 6
  %72 = load i64, ptr %medium3.i.i20.i.i.i, align 8
  store i64 %72, ptr %medium.i.i19.i.i.i, align 8
  %dpdu.i.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %agg.tmp15.i.i.i, i64 0, i32 1
  %dpdu2.i.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 1
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(112) %dpdu.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(112) %dpdu2.i.i.i.i, i64 112, i1 false)
  %material.i.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %agg.tmp15.i.i.i, i64 0, i32 7
  %material3.i.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 7
  %73 = load <2 x i64>, ptr %material3.i.i.i.i, align 8
  store <2 x i64> %73, ptr %material.i.i.i.i, align 8
  %dpdx.i.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %agg.tmp15.i.i.i, i64 0, i32 9
  %dpdx5.i.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 9
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(40) %dpdx.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(40) %dpdx5.i.i.i.i, i64 40, i1 false)
  %74 = getelementptr inbounds %class.anon.106, ptr %__functor.val, i64 0, i32 2
  %75 = load ptr, ptr %74, align 8
  %76 = getelementptr inbounds %class.anon.106, ptr %__functor.val, i64 0, i32 4
  %77 = load ptr, ptr %76, align 8
  %78 = getelementptr inbounds %class.anon.106, ptr %__functor.val, i64 0, i32 5
  %79 = load ptr, ptr %78, align 8
  %80 = getelementptr inbounds %class.anon.106, ptr %__functor.val, i64 0, i32 6
  %81 = load ptr, ptr %80, align 8
  %82 = getelementptr inbounds %class.anon.106, ptr %__functor.val, i64 0, i32 7
  %83 = load ptr, ptr %82, align 8
  call void @_ZN4pbrt28EnqueueWorkAfterIntersectionENS_11RayWorkItemENS_6MediumEfNS_18SurfaceInteractionEPNS_17MediumSampleQueueEPNS_8RayQueueEPNS_9WorkQueueINS_20HitAreaLightWorkItemEEEPNS_14MultiWorkQueueINS_8TypePackIJNS_20MaterialEvalWorkItemINS_21CoatedDiffuseMaterialEEENSD_INS_23CoatedConductorMaterialEEENSD_INS_17ConductorMaterialEEENSD_INS_18DielectricMaterialEEENSD_INS_15DiffuseMaterialEEENSD_INS_27DiffuseTransmissionMaterialEEENSD_INS_12HairMaterialEEENSD_INS_16MeasuredMaterialEEENSD_INS_18SubsurfaceMaterialEEENSD_INS_22ThinDielectricMaterialEEENSD_INS_11MixMaterialEEEEEEEES12_(ptr noundef nonnull %agg.tmp8.i.i.i, ptr noundef nonnull %agg.tmp10.i.i.i, float noundef %71, ptr noundef nonnull %agg.tmp15.i.i.i, ptr noundef %75, ptr noundef %77, ptr noundef %79, ptr noundef %81, ptr noundef %83)
  br label %"_ZSt10__invoke_rIvRZNK4pbrt12CPUAggregate16IntersectClosestEiPKNS0_8RayQueueEPNS0_15EscapedRayQueueEPNS0_9WorkQueueINS0_20HitAreaLightWorkItemEEEPNS0_14MultiWorkQueueINS0_8TypePackIJNS0_20MaterialEvalWorkItemINS0_21CoatedDiffuseMaterialEEENSD_INS0_23CoatedConductorMaterialEEENSD_INS0_17ConductorMaterialEEENSD_INS0_18DielectricMaterialEEENSD_INS0_15DiffuseMaterialEEENSD_INS0_27DiffuseTransmissionMaterialEEENSD_INS0_12HairMaterialEEENSD_INS0_16MeasuredMaterialEEENSD_INS0_18SubsurfaceMaterialEEENSD_INS0_22ThinDielectricMaterialEEENSD_INS0_11MixMaterialEEEEEEEES12_PNS0_17MediumSampleQueueEPS2_E3$_0JlEENSt9enable_ifIX16is_invocable_r_vIT_T0_DpT1_EES19_E4typeEOS1A_DpOS1B_.exit"

"_ZSt10__invoke_rIvRZNK4pbrt12CPUAggregate16IntersectClosestEiPKNS0_8RayQueueEPNS0_15EscapedRayQueueEPNS0_9WorkQueueINS0_20HitAreaLightWorkItemEEEPNS0_14MultiWorkQueueINS0_8TypePackIJNS0_20MaterialEvalWorkItemINS0_21CoatedDiffuseMaterialEEENSD_INS0_23CoatedConductorMaterialEEENSD_INS0_17ConductorMaterialEEENSD_INS0_18DielectricMaterialEEENSD_INS0_15DiffuseMaterialEEENSD_INS0_27DiffuseTransmissionMaterialEEENSD_INS0_12HairMaterialEEENSD_INS0_16MeasuredMaterialEEENSD_INS0_18SubsurfaceMaterialEEENSD_INS0_22ThinDielectricMaterialEEENSD_INS0_11MixMaterialEEEEEEEES12_PNS0_17MediumSampleQueueEPS2_E3$_0JlEENSt9enable_ifIX16is_invocable_r_vIT_T0_DpT1_EES19_E4typeEOS1A_DpOS1B_.exit": ; preds = %if.then.i.i.i, %invoke.cont6.i.i.i, %invoke.cont18.i.i.i
  call void @llvm.lifetime.end.p0(i64 192, ptr nonnull %r.i.i.i)
  call void @llvm.lifetime.end.p0(i64 192, ptr nonnull %agg.tmp.i.i.i)
  call void @llvm.lifetime.end.p0(i64 264, ptr nonnull %si.i.i.i)
  call void @llvm.lifetime.end.p0(i64 192, ptr nonnull %agg.tmp5.i.i.i)
  call void @llvm.lifetime.end.p0(i64 192, ptr nonnull %agg.tmp8.i.i.i)
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %agg.tmp10.i.i.i)
  call void @llvm.lifetime.end.p0(i64 248, ptr nonnull %agg.tmp15.i.i.i)
  ret void
}

; Function Attrs: mustprogress uwtable
define internal noundef zeroext i1 @"_ZNSt17_Function_handlerIFvlEZNK4pbrt12CPUAggregate16IntersectClosestEiPKNS1_8RayQueueEPNS1_15EscapedRayQueueEPNS1_9WorkQueueINS1_20HitAreaLightWorkItemEEEPNS1_14MultiWorkQueueINS1_8TypePackIJNS1_20MaterialEvalWorkItemINS1_21CoatedDiffuseMaterialEEENSE_INS1_23CoatedConductorMaterialEEENSE_INS1_17ConductorMaterialEEENSE_INS1_18DielectricMaterialEEENSE_INS1_15DiffuseMaterialEEENSE_INS1_27DiffuseTransmissionMaterialEEENSE_INS1_12HairMaterialEEENSE_INS1_16MeasuredMaterialEEENSE_INS1_18SubsurfaceMaterialEEENSE_INS1_22ThinDielectricMaterialEEENSE_INS1_11MixMaterialEEEEEEEES13_PNS1_17MediumSampleQueueEPS3_E3$_0E10_M_managerERSt9_Any_dataRKS19_St18_Manager_operation"(ptr nocapture noundef nonnull align 8 dereferenceable(16) %__dest, ptr nocapture noundef nonnull readonly align 8 dereferenceable(16) %__source, i32 noundef %__op) #1 align 2 {
entry:
  switch i32 %__op, label %sw.epilog [
    i32 0, label %sw.bb
    i32 1, label %sw.bb1
    i32 3, label %sw.bb6.i
    i32 2, label %sw.bb4.i
  ]

sw.bb:                                            ; preds = %entry
  store ptr @"_ZTIZNK4pbrt12CPUAggregate16IntersectClosestEiPKNS_8RayQueueEPNS_15EscapedRayQueueEPNS_9WorkQueueINS_20HitAreaLightWorkItemEEEPNS_14MultiWorkQueueINS_8TypePackIJNS_20MaterialEvalWorkItemINS_21CoatedDiffuseMaterialEEENSC_INS_23CoatedConductorMaterialEEENSC_INS_17ConductorMaterialEEENSC_INS_18DielectricMaterialEEENSC_INS_15DiffuseMaterialEEENSC_INS_27DiffuseTransmissionMaterialEEENSC_INS_12HairMaterialEEENSC_INS_16MeasuredMaterialEEENSC_INS_18SubsurfaceMaterialEEENSC_INS_22ThinDielectricMaterialEEENSC_INS_11MixMaterialEEEEEEEES11_PNS_17MediumSampleQueueEPS1_E3$_0", ptr %__dest, align 8
  br label %sw.epilog

sw.bb1:                                           ; preds = %entry
  %__source.val = load ptr, ptr %__source, align 8
  store ptr %__source.val, ptr %__dest, align 8
  br label %sw.epilog

sw.bb4.i:                                         ; preds = %entry
  %__source.val5 = load ptr, ptr %__source, align 8
  %call.i.i.i = tail call noalias noundef nonnull dereferenceable(64) ptr @_Znwm(i64 noundef 64) #21
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 16 dereferenceable(64) %call.i.i.i, ptr noundef nonnull align 8 dereferenceable(64) %__source.val5, i64 64, i1 false)
  store ptr %call.i.i.i, ptr %__dest, align 8
  br label %sw.epilog

sw.bb6.i:                                         ; preds = %entry
  %__dest.val.i = load ptr, ptr %__dest, align 8
  %isnull.i.i = icmp eq ptr %__dest.val.i, null
  br i1 %isnull.i.i, label %sw.epilog, label %delete.notnull.i.i

delete.notnull.i.i:                               ; preds = %sw.bb6.i
  tail call void @_ZdlPv(ptr noundef nonnull %__dest.val.i) #23
  br label %sw.epilog

sw.epilog:                                        ; preds = %entry, %delete.notnull.i.i, %sw.bb6.i, %sw.bb4.i, %sw.bb1, %sw.bb
  ret i1 false
}

; Function Attrs: nobuiltin allocsize(0)
declare noundef nonnull ptr @_Znwm(i64 noundef) local_unnamed_addr #10

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt20EnqueueWorkAfterMissENS_11RayWorkItemEPNS_17MediumSampleQueueEPNS_15EscapedRayQueueE(ptr noundef %r, ptr noundef %mediumSampleQueue, ptr noundef %escapedRayQueue) local_unnamed_addr #9 comdat {
entry:
  %agg.tmp1.sroa.11.i = alloca %"class.pbrt::SampledWavelengths", align 16
  %agg.tmp21.i = alloca %"class.pbrt::SampledWavelengths", align 16
  %agg.tmp.sroa.11 = alloca <{ i32, %"class.pbrt::SampledWavelengths" }>, align 8
  %medium = getelementptr inbounds %"class.pbrt::Ray", ptr %r, i64 0, i32 3
  %0 = load i64, ptr %medium, align 8
  %and.i = and i64 %0, 144115188075855871
  %cmp.i.not = icmp eq i64 %and.i, 0
  br i1 %cmp.i.not, label %if.else, label %if.then

if.then:                                          ; preds = %entry
  %agg.tmp.sroa.0.0.copyload = load float, ptr %r, align 8
  %agg.tmp.sroa.2.0.r.sroa_idx = getelementptr inbounds i8, ptr %r, i64 4
  %agg.tmp.sroa.2.0.copyload = load float, ptr %agg.tmp.sroa.2.0.r.sroa_idx, align 4
  %agg.tmp.sroa.3.0.r.sroa_idx = getelementptr inbounds i8, ptr %r, i64 8
  %agg.tmp.sroa.3.0.copyload = load float, ptr %agg.tmp.sroa.3.0.r.sroa_idx, align 8
  %agg.tmp.sroa.4.0.r.sroa_idx = getelementptr inbounds i8, ptr %r, i64 12
  %agg.tmp.sroa.4.0.copyload = load float, ptr %agg.tmp.sroa.4.0.r.sroa_idx, align 4
  %agg.tmp.sroa.5.0.r.sroa_idx = getelementptr inbounds i8, ptr %r, i64 16
  %agg.tmp.sroa.5.0.copyload = load float, ptr %agg.tmp.sroa.5.0.r.sroa_idx, align 8
  %agg.tmp.sroa.6.0.r.sroa_idx = getelementptr inbounds i8, ptr %r, i64 20
  %agg.tmp.sroa.6.0.copyload = load float, ptr %agg.tmp.sroa.6.0.r.sroa_idx, align 4
  %agg.tmp.sroa.7.0.r.sroa_idx = getelementptr inbounds i8, ptr %r, i64 24
  %agg.tmp.sroa.7.0.copyload = load float, ptr %agg.tmp.sroa.7.0.r.sroa_idx, align 8
  %depth3.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 1
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(36) %agg.tmp.sroa.11, ptr noundef nonnull align 8 dereferenceable(36) %depth3.i, i64 36, i1 false)
  %agg.tmp.sroa.13.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 3
  %agg.tmp.sroa.13.40.copyload = load i32, ptr %agg.tmp.sroa.13.40.depth3.i.sroa_idx, align 4
  %agg.tmp.sroa.14.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 4
  %agg.tmp.sroa.14.40.copyload = load <2 x float>, ptr %agg.tmp.sroa.14.40.depth3.i.sroa_idx, align 8
  %agg.tmp.sroa.15.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 4, i32 0, i32 0, i64 2
  %agg.tmp.sroa.15.40.copyload = load <2 x float>, ptr %agg.tmp.sroa.15.40.depth3.i.sroa_idx, align 8
  %agg.tmp.sroa.16.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 5
  %agg.tmp.sroa.16.40.copyload = load <2 x float>, ptr %agg.tmp.sroa.16.40.depth3.i.sroa_idx, align 8
  %agg.tmp.sroa.17.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 5, i32 0, i32 0, i64 2
  %agg.tmp.sroa.17.40.copyload = load <2 x float>, ptr %agg.tmp.sroa.17.40.depth3.i.sroa_idx, align 8
  %agg.tmp.sroa.18.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 6
  %agg.tmp.sroa.18.40.copyload = load <2 x float>, ptr %agg.tmp.sroa.18.40.depth3.i.sroa_idx, align 8
  %agg.tmp.sroa.19.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 6, i32 0, i32 0, i64 2
  %agg.tmp.sroa.19.40.copyload = load <2 x float>, ptr %agg.tmp.sroa.19.40.depth3.i.sroa_idx, align 8
  %agg.tmp.sroa.20.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7
  %agg.tmp.sroa.20.40.copyload = load float, ptr %agg.tmp.sroa.20.40.depth3.i.sroa_idx, align 8
  %agg.tmp.sroa.21.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 0, i32 0, i32 0, i32 0, i32 1
  %agg.tmp.sroa.21.40.copyload = load float, ptr %agg.tmp.sroa.21.40.depth3.i.sroa_idx, align 4
  %agg.tmp.sroa.22.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 0, i32 0, i32 0, i32 1
  %agg.tmp.sroa.22.40.copyload = load float, ptr %agg.tmp.sroa.22.40.depth3.i.sroa_idx, align 8
  %agg.tmp.sroa.23.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 0, i32 0, i32 0, i32 1, i32 1
  %agg.tmp.sroa.23.40.copyload = load float, ptr %agg.tmp.sroa.23.40.depth3.i.sroa_idx, align 4
  %agg.tmp.sroa.24.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 0, i32 0, i32 0, i32 2
  %agg.tmp.sroa.24.40.copyload = load float, ptr %agg.tmp.sroa.24.40.depth3.i.sroa_idx, align 8
  %agg.tmp.sroa.25.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 0, i32 0, i32 0, i32 2, i32 1
  %agg.tmp.sroa.25.40.copyload = load float, ptr %agg.tmp.sroa.25.40.depth3.i.sroa_idx, align 4
  %agg.tmp.sroa.26.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 1
  %agg.tmp.sroa.26.40.copyload = load float, ptr %agg.tmp.sroa.26.40.depth3.i.sroa_idx, align 8
  %agg.tmp.sroa.27.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 1, i32 0, i32 1
  %agg.tmp.sroa.27.40.copyload = load float, ptr %agg.tmp.sroa.27.40.depth3.i.sroa_idx, align 4
  %agg.tmp.sroa.28.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 1, i32 0, i32 2
  %agg.tmp.sroa.28.40.copyload = load float, ptr %agg.tmp.sroa.28.40.depth3.i.sroa_idx, align 8
  %agg.tmp.sroa.29.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 2
  %agg.tmp.sroa.29.40.copyload = load float, ptr %agg.tmp.sroa.29.40.depth3.i.sroa_idx, align 4
  %agg.tmp.sroa.30.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 2, i32 0, i32 1
  %agg.tmp.sroa.30.40.copyload = load float, ptr %agg.tmp.sroa.30.40.depth3.i.sroa_idx, align 8
  %agg.tmp.sroa.31.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 2, i32 0, i32 2
  %agg.tmp.sroa.31.40.copyload = load float, ptr %agg.tmp.sroa.31.40.depth3.i.sroa_idx, align 4
  %agg.tmp.sroa.32.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 8
  %agg.tmp.sroa.32.40.copyload = load float, ptr %agg.tmp.sroa.32.40.depth3.i.sroa_idx, align 8
  %agg.tmp.sroa.33.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 9
  %agg.tmp.sroa.33.40.copyload = load i32, ptr %agg.tmp.sroa.33.40.depth3.i.sroa_idx, align 4
  %agg.tmp.sroa.34.40.depth3.i.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 10
  %agg.tmp.sroa.34.40.copyload = load i32, ptr %agg.tmp.sroa.34.40.depth3.i.sroa_idx, align 8
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp21.i)
  %agg.tmp.sroa.11.44.lambda.i.sroa_idx = getelementptr inbounds i8, ptr %agg.tmp.sroa.11, i64 4
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 16 dereferenceable(32) %agg.tmp21.i, ptr noundef nonnull align 4 dereferenceable(32) %agg.tmp.sroa.11.44.lambda.i.sroa_idx, i64 32, i1 false)
  %size.i.i.i = getelementptr inbounds %"class.pbrt::WorkQueue.132", ptr %mediumSampleQueue, i64 0, i32 1
  %1 = atomicrmw add ptr %size.i.i.i, i32 1 monotonic, align 4
  %x2.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 1, i32 1, i32 1
  %2 = load ptr, ptr %x2.i.i.i.i, align 8
  %idxprom.i.i.i.i = sext i32 %1 to i64
  %arrayidx.i.i.i.i = getelementptr inbounds float, ptr %2, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.0.0.copyload, ptr %arrayidx.i.i.i.i, align 4
  %y4.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 1, i32 1, i32 2
  %3 = load ptr, ptr %y4.i.i.i.i, align 8
  %arrayidx7.i.i.i.i = getelementptr inbounds float, ptr %3, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.2.0.copyload, ptr %arrayidx7.i.i.i.i, align 4
  %z9.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 1, i32 1, i32 3
  %4 = load ptr, ptr %z9.i.i.i.i, align 8
  %arrayidx12.i.i.i.i = getelementptr inbounds float, ptr %4, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.3.0.copyload, ptr %arrayidx12.i.i.i.i, align 4
  %x2.i6.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 1, i32 2, i32 1
  %5 = load ptr, ptr %x2.i6.i.i.i, align 8
  %arrayidx.i9.i.i.i = getelementptr inbounds float, ptr %5, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.4.0.copyload, ptr %arrayidx.i9.i.i.i, align 4
  %y4.i11.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 1, i32 2, i32 2
  %6 = load ptr, ptr %y4.i11.i.i.i, align 8
  %arrayidx7.i13.i.i.i = getelementptr inbounds float, ptr %6, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.5.0.copyload, ptr %arrayidx7.i13.i.i.i, align 4
  %z9.i15.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 1, i32 2, i32 3
  %7 = load ptr, ptr %z9.i15.i.i.i, align 8
  %arrayidx12.i17.i.i.i = getelementptr inbounds float, ptr %7, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.6.0.copyload, ptr %arrayidx12.i17.i.i.i, align 4
  %time9.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 1, i32 3
  %8 = load ptr, ptr %time9.i.i.i, align 8
  %arrayidx.i.i.i = getelementptr inbounds float, ptr %8, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.7.0.copyload, ptr %arrayidx.i.i.i, align 4
  %medium12.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 1, i32 4
  %9 = load ptr, ptr %medium12.i.i.i, align 8
  %arrayidx15.i.i.i = getelementptr inbounds %"class.pbrt::Medium", ptr %9, i64 %idxprom.i.i.i.i
  store i64 %0, ptr %arrayidx15.i.i.i, align 8
  %tMax4.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 3
  %10 = load ptr, ptr %tMax4.i.i, align 8
  %arrayidx.i.i = getelementptr inbounds float, ptr %10, i64 %idxprom.i.i.i.i
  store float 0x7FF0000000000000, ptr %arrayidx.i.i, align 4
  %lambda4.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 4, i32 1
  %11 = load ptr, ptr %lambda4.i.i.i, align 8
  %add.ptr.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %11, i64 %idxprom.i.i.i.i
  %agg.tmp21.i.0.agg.tmp21.i.0.agg.tmp21.i.0.agg.tmp21.0.agg.tmp21.0..i = load <4 x float>, ptr %agg.tmp21.i, align 16
  %agg.tmp.sroa.0.4.vec.insert.i.i.i = shufflevector <4 x float> %agg.tmp21.i.0.agg.tmp21.i.0.agg.tmp21.i.0.agg.tmp21.0.agg.tmp21.0..i, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp21.i.8.agg.tmp21.i.8.agg.tmp21.i.8.agg.tmp21.8.agg.tmp21.8.arrayidx.i23.i.i.sroa_idx = getelementptr inbounds i8, ptr %agg.tmp21.i, i64 8
  %agg.tmp21.i.8.agg.tmp21.i.8.agg.tmp21.i.8.agg.tmp21.8.agg.tmp21.8..i = load <4 x float>, ptr %agg.tmp21.i.8.agg.tmp21.i.8.agg.tmp21.i.8.agg.tmp21.8.agg.tmp21.8.arrayidx.i23.i.i.sroa_idx, align 8
  %agg.tmp.sroa.3.12.vec.insert.i.i.i = shufflevector <4 x float> %agg.tmp21.i.8.agg.tmp21.i.8.agg.tmp21.i.8.agg.tmp21.8.agg.tmp21.8..i, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i.i.i, ptr %add.ptr.i.i.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i.i.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i.i.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i, align 8
  %pdf4.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 4, i32 2
  %12 = load ptr, ptr %pdf4.i.i.i, align 8
  %add.ptr21.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %12, i64 %idxprom.i.i.i.i
  %agg.tmp21.i.16.agg.tmp21.i.16.agg.tmp21.i.16.agg.tmp21.16.agg.tmp21.16.pdf.i.i.sroa_idx = getelementptr inbounds i8, ptr %agg.tmp21.i, i64 16
  %agg.tmp21.i.16.agg.tmp21.i.16.agg.tmp21.i.16.agg.tmp21.16.agg.tmp21.16..i = load <4 x float>, ptr %agg.tmp21.i.16.agg.tmp21.i.16.agg.tmp21.i.16.agg.tmp21.16.agg.tmp21.16.pdf.i.i.sroa_idx, align 16
  %agg.tmp22.sroa.0.4.vec.insert.i.i.i = shufflevector <4 x float> %agg.tmp21.i.16.agg.tmp21.i.16.agg.tmp21.i.16.agg.tmp21.16.agg.tmp21.16..i, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp22.sroa.3.12.vec.insert.i.i.i = shufflevector <4 x float> %agg.tmp21.i.16.agg.tmp21.i.16.agg.tmp21.i.16.agg.tmp21.16.agg.tmp21.16..i, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp22.sroa.0.4.vec.insert.i.i.i, ptr %add.ptr21.i.i.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i28.i.i.i = getelementptr inbounds i8, ptr %add.ptr21.i.i.i, i64 8
  store <2 x float> %agg.tmp22.sroa.3.12.vec.insert.i.i.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i28.i.i.i, align 8
  %ptr4.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 5, i32 1
  %13 = load ptr, ptr %ptr4.i.i.i, align 8
  %add.ptr.i18.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %13, i64 %idxprom.i.i.i.i
  store <2 x float> %agg.tmp.sroa.14.40.copyload, ptr %add.ptr.i18.i.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i21.i.i = getelementptr inbounds i8, ptr %add.ptr.i18.i.i, i64 8
  store <2 x float> %agg.tmp.sroa.15.40.copyload, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i21.i.i, align 8
  %ptr4.i25.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 6, i32 1
  %14 = load ptr, ptr %ptr4.i25.i.i, align 8
  %add.ptr.i27.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %14, i64 %idxprom.i.i.i.i
  store <2 x float> %agg.tmp.sroa.16.40.copyload, ptr %add.ptr.i27.i.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i30.i.i = getelementptr inbounds i8, ptr %add.ptr.i27.i.i, i64 8
  store <2 x float> %agg.tmp.sroa.17.40.copyload, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i30.i.i, align 8
  %ptr4.i34.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 7, i32 1
  %15 = load ptr, ptr %ptr4.i34.i.i, align 8
  %add.ptr.i36.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %15, i64 %idxprom.i.i.i.i
  store <2 x float> %agg.tmp.sroa.18.40.copyload, ptr %add.ptr.i36.i.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i39.i.i = getelementptr inbounds i8, ptr %add.ptr.i36.i.i, i64 8
  store <2 x float> %agg.tmp.sroa.19.40.copyload, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i39.i.i, align 8
  %pixelIndex17.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 8
  %16 = load ptr, ptr %pixelIndex17.i.i, align 8
  %arrayidx19.i.i = getelementptr inbounds i32, ptr %16, i64 %idxprom.i.i.i.i
  store i32 %agg.tmp.sroa.13.40.copyload, ptr %arrayidx19.i.i, align 4
  %low2.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 16, i32 1, i32 1, i32 1
  %17 = load ptr, ptr %low2.i.i.i.i.i, align 8
  %arrayidx.i.i.i.i.i = getelementptr inbounds float, ptr %17, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.20.40.copyload, ptr %arrayidx.i.i.i.i.i, align 4
  %high4.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 16, i32 1, i32 1, i32 2
  %18 = load ptr, ptr %high4.i.i.i.i.i, align 8
  %arrayidx7.i.i.i.i.i = getelementptr inbounds float, ptr %18, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.21.40.copyload, ptr %arrayidx7.i.i.i.i.i, align 4
  %low2.i5.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 16, i32 1, i32 2, i32 1
  %19 = load ptr, ptr %low2.i5.i.i.i.i, align 8
  %arrayidx.i8.i.i.i.i = getelementptr inbounds float, ptr %19, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.22.40.copyload, ptr %arrayidx.i8.i.i.i.i, align 4
  %high4.i10.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 16, i32 1, i32 2, i32 2
  %20 = load ptr, ptr %high4.i10.i.i.i.i, align 8
  %arrayidx7.i12.i.i.i.i = getelementptr inbounds float, ptr %20, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.23.40.copyload, ptr %arrayidx7.i12.i.i.i.i, align 4
  %low2.i15.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 16, i32 1, i32 3, i32 1
  %21 = load ptr, ptr %low2.i15.i.i.i.i, align 8
  %arrayidx.i18.i.i.i.i = getelementptr inbounds float, ptr %21, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.24.40.copyload, ptr %arrayidx.i18.i.i.i.i, align 4
  %high4.i20.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 16, i32 1, i32 3, i32 2
  %22 = load ptr, ptr %high4.i20.i.i.i.i, align 8
  %arrayidx7.i22.i.i.i.i = getelementptr inbounds float, ptr %22, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.25.40.copyload, ptr %arrayidx7.i22.i.i.i.i, align 4
  %x2.i.i45.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 16, i32 2, i32 1
  %23 = load ptr, ptr %x2.i.i45.i.i, align 8
  %arrayidx.i.i47.i.i = getelementptr inbounds float, ptr %23, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.26.40.copyload, ptr %arrayidx.i.i47.i.i, align 4
  %y4.i.i48.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 16, i32 2, i32 2
  %24 = load ptr, ptr %y4.i.i48.i.i, align 8
  %arrayidx7.i.i49.i.i = getelementptr inbounds float, ptr %24, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.27.40.copyload, ptr %arrayidx7.i.i49.i.i, align 4
  %z9.i.i50.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 16, i32 2, i32 3
  %25 = load ptr, ptr %z9.i.i50.i.i, align 8
  %arrayidx12.i.i51.i.i = getelementptr inbounds float, ptr %25, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.28.40.copyload, ptr %arrayidx12.i.i51.i.i, align 4
  %x2.i10.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 16, i32 3, i32 1
  %26 = load ptr, ptr %x2.i10.i.i.i, align 8
  %arrayidx.i13.i.i.i = getelementptr inbounds float, ptr %26, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.29.40.copyload, ptr %arrayidx.i13.i.i.i, align 4
  %y4.i15.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 16, i32 3, i32 2
  %27 = load ptr, ptr %y4.i15.i.i.i, align 8
  %arrayidx7.i17.i.i.i = getelementptr inbounds float, ptr %27, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.30.40.copyload, ptr %arrayidx7.i17.i.i.i, align 4
  %z9.i19.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 16, i32 3, i32 3
  %28 = load ptr, ptr %z9.i19.i.i.i, align 8
  %arrayidx12.i21.i.i.i = getelementptr inbounds float, ptr %28, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.31.40.copyload, ptr %arrayidx12.i21.i.i.i, align 4
  %specularBounce23.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 17
  %29 = load ptr, ptr %specularBounce23.i.i, align 8
  %arrayidx25.i.i = getelementptr inbounds i32, ptr %29, i64 %idxprom.i.i.i.i
  store i32 %agg.tmp.sroa.33.40.copyload, ptr %arrayidx25.i.i, align 4
  %anyNonSpecularBounces26.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 25
  %30 = load ptr, ptr %anyNonSpecularBounces26.i.i, align 8
  %arrayidx28.i.i = getelementptr inbounds i32, ptr %30, i64 %idxprom.i.i.i.i
  store i32 %agg.tmp.sroa.34.40.copyload, ptr %arrayidx28.i.i, align 4
  %etaScale29.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %mediumSampleQueue, i64 0, i32 26
  %31 = load ptr, ptr %etaScale29.i.i, align 8
  %arrayidx31.i.i = getelementptr inbounds float, ptr %31, i64 %idxprom.i.i.i.i
  store float %agg.tmp.sroa.32.40.copyload, ptr %arrayidx31.i.i, align 4
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp21.i)
  br label %if.end5

if.else:                                          ; preds = %entry
  %tobool.not = icmp eq ptr %escapedRayQueue, null
  br i1 %tobool.not, label %if.end5, label %if.then2

if.then2:                                         ; preds = %if.else
  %agg.tmp3.sroa.0.0.copyload = load float, ptr %r, align 8
  %agg.tmp3.sroa.2.0.r.sroa_idx = getelementptr inbounds i8, ptr %r, i64 4
  %agg.tmp3.sroa.2.0.copyload = load float, ptr %agg.tmp3.sroa.2.0.r.sroa_idx, align 4
  %agg.tmp3.sroa.3.0.r.sroa_idx = getelementptr inbounds i8, ptr %r, i64 8
  %agg.tmp3.sroa.3.0.copyload = load float, ptr %agg.tmp3.sroa.3.0.r.sroa_idx, align 8
  %agg.tmp3.sroa.4.0.r.sroa_idx = getelementptr inbounds i8, ptr %r, i64 12
  %agg.tmp3.sroa.4.0.copyload = load float, ptr %agg.tmp3.sroa.4.0.r.sroa_idx, align 4
  %agg.tmp3.sroa.5.0.r.sroa_idx = getelementptr inbounds i8, ptr %r, i64 16
  %agg.tmp3.sroa.5.0.copyload = load float, ptr %agg.tmp3.sroa.5.0.r.sroa_idx, align 8
  %agg.tmp3.sroa.6.0.r.sroa_idx = getelementptr inbounds i8, ptr %r, i64 20
  %agg.tmp3.sroa.6.0.copyload = load float, ptr %agg.tmp3.sroa.6.0.r.sroa_idx, align 4
  %depth3.i6 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 1
  %agg.tmp3.sroa.9.40.copyload = load i32, ptr %depth3.i6, align 8
  %agg.tmp3.sroa.11.40.depth3.i6.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 2
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp1.sroa.11.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 16 dereferenceable(32) %agg.tmp1.sroa.11.i, ptr noundef nonnull align 4 dereferenceable(32) %agg.tmp3.sroa.11.40.depth3.i6.sroa_idx, i64 32, i1 false)
  %agg.tmp3.sroa.12.40.depth3.i6.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 3
  %agg.tmp3.sroa.12.40.copyload = load i32, ptr %agg.tmp3.sroa.12.40.depth3.i6.sroa_idx, align 4
  %agg.tmp3.sroa.13.40.depth3.i6.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 4
  %agg.tmp3.sroa.13.40.copyload = load <4 x float>, ptr %agg.tmp3.sroa.13.40.depth3.i6.sroa_idx, align 8
  %agg.tmp3.sroa.14.40.depth3.i6.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 5
  %agg.tmp3.sroa.14.40.copyload = load <4 x float>, ptr %agg.tmp3.sroa.14.40.depth3.i6.sroa_idx, align 8
  %agg.tmp3.sroa.15.40.depth3.i6.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 6
  %agg.tmp3.sroa.15.40.copyload = load <4 x float>, ptr %agg.tmp3.sroa.15.40.depth3.i6.sroa_idx, align 8
  %agg.tmp3.sroa.16.40.depth3.i6.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7
  %agg.tmp3.sroa.16.40.copyload = load float, ptr %agg.tmp3.sroa.16.40.depth3.i6.sroa_idx, align 8
  %agg.tmp3.sroa.17.40.depth3.i6.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 0, i32 0, i32 0, i32 0, i32 1
  %agg.tmp3.sroa.17.40.copyload = load float, ptr %agg.tmp3.sroa.17.40.depth3.i6.sroa_idx, align 4
  %agg.tmp3.sroa.18.40.depth3.i6.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 0, i32 0, i32 0, i32 1
  %agg.tmp3.sroa.18.40.copyload = load float, ptr %agg.tmp3.sroa.18.40.depth3.i6.sroa_idx, align 8
  %agg.tmp3.sroa.19.40.depth3.i6.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 0, i32 0, i32 0, i32 1, i32 1
  %agg.tmp3.sroa.19.40.copyload = load float, ptr %agg.tmp3.sroa.19.40.depth3.i6.sroa_idx, align 4
  %agg.tmp3.sroa.20.40.depth3.i6.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 0, i32 0, i32 0, i32 2
  %agg.tmp3.sroa.20.40.copyload = load float, ptr %agg.tmp3.sroa.20.40.depth3.i6.sroa_idx, align 8
  %agg.tmp3.sroa.21.40.depth3.i6.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 0, i32 0, i32 0, i32 2, i32 1
  %agg.tmp3.sroa.21.40.copyload = load float, ptr %agg.tmp3.sroa.21.40.depth3.i6.sroa_idx, align 4
  %agg.tmp3.sroa.22.40.depth3.i6.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 1
  %agg.tmp3.sroa.22.40.copyload = load float, ptr %agg.tmp3.sroa.22.40.depth3.i6.sroa_idx, align 8
  %agg.tmp3.sroa.23.40.depth3.i6.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 1, i32 0, i32 1
  %agg.tmp3.sroa.23.40.copyload = load float, ptr %agg.tmp3.sroa.23.40.depth3.i6.sroa_idx, align 4
  %agg.tmp3.sroa.24.40.depth3.i6.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 1, i32 0, i32 2
  %agg.tmp3.sroa.24.40.copyload = load float, ptr %agg.tmp3.sroa.24.40.depth3.i6.sroa_idx, align 8
  %agg.tmp3.sroa.25.40.depth3.i6.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 2
  %agg.tmp3.sroa.25.40.copyload = load float, ptr %agg.tmp3.sroa.25.40.depth3.i6.sroa_idx, align 4
  %agg.tmp3.sroa.26.40.depth3.i6.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 2, i32 0, i32 1
  %agg.tmp3.sroa.26.40.copyload = load float, ptr %agg.tmp3.sroa.26.40.depth3.i6.sroa_idx, align 8
  %agg.tmp3.sroa.27.40.depth3.i6.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 2, i32 0, i32 2
  %agg.tmp3.sroa.27.40.copyload = load float, ptr %agg.tmp3.sroa.27.40.depth3.i6.sroa_idx, align 4
  %agg.tmp3.sroa.2847.40.depth3.i6.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 9
  %agg.tmp3.sroa.2847.40.copyload = load i32, ptr %agg.tmp3.sroa.2847.40.depth3.i6.sroa_idx, align 4
  %size.i.i.i8 = getelementptr inbounds %"class.pbrt::WorkQueue.136", ptr %escapedRayQueue, i64 0, i32 1
  %32 = atomicrmw add ptr %size.i.i.i8, i32 1 monotonic, align 4
  %x2.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 1, i32 1
  %33 = load ptr, ptr %x2.i.i.i, align 8
  %idxprom.i.i.i = sext i32 %32 to i64
  %arrayidx.i.i.i9 = getelementptr inbounds float, ptr %33, i64 %idxprom.i.i.i
  store float %agg.tmp3.sroa.0.0.copyload, ptr %arrayidx.i.i.i9, align 4
  %y4.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 1, i32 2
  %34 = load ptr, ptr %y4.i.i.i, align 8
  %arrayidx7.i.i.i = getelementptr inbounds float, ptr %34, i64 %idxprom.i.i.i
  store float %agg.tmp3.sroa.2.0.copyload, ptr %arrayidx7.i.i.i, align 4
  %z9.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 1, i32 3
  %35 = load ptr, ptr %z9.i.i.i, align 8
  %arrayidx12.i.i.i = getelementptr inbounds float, ptr %35, i64 %idxprom.i.i.i
  store float %agg.tmp3.sroa.3.0.copyload, ptr %arrayidx12.i.i.i, align 4
  %x2.i12.i.i = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 2, i32 1
  %36 = load ptr, ptr %x2.i12.i.i, align 8
  %arrayidx.i15.i.i = getelementptr inbounds float, ptr %36, i64 %idxprom.i.i.i
  store float %agg.tmp3.sroa.4.0.copyload, ptr %arrayidx.i15.i.i, align 4
  %y4.i17.i.i = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 2, i32 2
  %37 = load ptr, ptr %y4.i17.i.i, align 8
  %arrayidx7.i19.i.i = getelementptr inbounds float, ptr %37, i64 %idxprom.i.i.i
  store float %agg.tmp3.sroa.5.0.copyload, ptr %arrayidx7.i19.i.i, align 4
  %z9.i21.i.i = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 2, i32 3
  %38 = load ptr, ptr %z9.i21.i.i, align 8
  %arrayidx12.i23.i.i = getelementptr inbounds float, ptr %38, i64 %idxprom.i.i.i
  store float %agg.tmp3.sroa.6.0.copyload, ptr %arrayidx12.i23.i.i, align 4
  %depth9.i.i = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 3
  %39 = load ptr, ptr %depth9.i.i, align 8
  %arrayidx.i.i10 = getelementptr inbounds i32, ptr %39, i64 %idxprom.i.i.i
  store i32 %agg.tmp3.sroa.9.40.copyload, ptr %arrayidx.i.i10, align 4
  %ptr4.i.i.i11 = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 4, i32 1
  %40 = load ptr, ptr %ptr4.i.i.i11, align 8
  %add.ptr.i.i.i12 = getelementptr inbounds %"struct.pbrt::Float4", ptr %40, i64 %idxprom.i.i.i
  %agg.tmp.sroa.0.4.vec.insert.i.i.i13 = shufflevector <4 x float> %agg.tmp3.sroa.13.40.copyload, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i.i.i14 = shufflevector <4 x float> %agg.tmp3.sroa.13.40.copyload, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i.i.i13, ptr %add.ptr.i.i.i12, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i15 = getelementptr inbounds i8, ptr %add.ptr.i.i.i12, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i.i.i14, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i15, align 8
  %ptr4.i29.i.i = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 5, i32 1
  %41 = load ptr, ptr %ptr4.i29.i.i, align 8
  %add.ptr.i31.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %41, i64 %idxprom.i.i.i
  %agg.tmp.sroa.0.4.vec.insert.i32.i.i = shufflevector <4 x float> %agg.tmp3.sroa.14.40.copyload, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i33.i.i = shufflevector <4 x float> %agg.tmp3.sroa.14.40.copyload, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i32.i.i, ptr %add.ptr.i31.i.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i34.i.i = getelementptr inbounds i8, ptr %add.ptr.i31.i.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i33.i.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i34.i.i, align 8
  %ptr4.i38.i.i = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 6, i32 1
  %42 = load ptr, ptr %ptr4.i38.i.i, align 8
  %add.ptr.i40.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %42, i64 %idxprom.i.i.i
  %agg.tmp.sroa.0.4.vec.insert.i41.i.i = shufflevector <4 x float> %agg.tmp3.sroa.15.40.copyload, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i42.i.i = shufflevector <4 x float> %agg.tmp3.sroa.15.40.copyload, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i41.i.i, ptr %add.ptr.i40.i.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i43.i.i = getelementptr inbounds i8, ptr %add.ptr.i40.i.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i42.i.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i43.i.i, align 8
  %lambda4.i.i.i16 = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 7, i32 1
  %43 = load ptr, ptr %lambda4.i.i.i16, align 8
  %add.ptr.i48.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %43, i64 %idxprom.i.i.i
  %agg.tmp1.sroa.11.i.0.agg.tmp1.sroa.11.i.0.agg.tmp1.sroa.11.i.0.agg.tmp1.sroa.11.0.agg.tmp1.sroa.11.0.agg.tmp1.sroa.11.28..i = load <4 x float>, ptr %agg.tmp1.sroa.11.i, align 16
  %agg.tmp.sroa.0.4.vec.insert.i49.i.i = shufflevector <4 x float> %agg.tmp1.sroa.11.i.0.agg.tmp1.sroa.11.i.0.agg.tmp1.sroa.11.i.0.agg.tmp1.sroa.11.0.agg.tmp1.sroa.11.0.agg.tmp1.sroa.11.28..i, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp1.sroa.11.i.8.i.8.i.8.arrayidx.i23.i.i.sroa_idx = getelementptr inbounds i8, ptr %agg.tmp1.sroa.11.i, i64 8
  %agg.tmp1.sroa.11.i.8.agg.tmp1.sroa.11.i.8.agg.tmp1.sroa.11.i.8.agg.tmp1.sroa.11.8.agg.tmp1.sroa.11.8.agg.tmp1.sroa.11.36..i = load <4 x float>, ptr %agg.tmp1.sroa.11.i.8.i.8.i.8.arrayidx.i23.i.i.sroa_idx, align 8
  %agg.tmp.sroa.3.12.vec.insert.i50.i.i = shufflevector <4 x float> %agg.tmp1.sroa.11.i.8.agg.tmp1.sroa.11.i.8.agg.tmp1.sroa.11.i.8.agg.tmp1.sroa.11.8.agg.tmp1.sroa.11.8.agg.tmp1.sroa.11.36..i, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i49.i.i, ptr %add.ptr.i48.i.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i51.i.i = getelementptr inbounds i8, ptr %add.ptr.i48.i.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i50.i.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i51.i.i, align 8
  %pdf4.i.i.i17 = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 7, i32 2
  %44 = load ptr, ptr %pdf4.i.i.i17, align 8
  %add.ptr21.i.i.i18 = getelementptr inbounds %"struct.pbrt::Float4", ptr %44, i64 %idxprom.i.i.i
  %agg.tmp1.sroa.11.i.16.i.16.i.16.pdf.i.i.sroa_idx = getelementptr inbounds i8, ptr %agg.tmp1.sroa.11.i, i64 16
  %agg.tmp1.sroa.11.i.16.agg.tmp1.sroa.11.i.16.agg.tmp1.sroa.11.i.16.agg.tmp1.sroa.11.16.agg.tmp1.sroa.11.16.agg.tmp1.sroa.11.44..i = load <4 x float>, ptr %agg.tmp1.sroa.11.i.16.i.16.i.16.pdf.i.i.sroa_idx, align 16
  %agg.tmp22.sroa.0.4.vec.insert.i.i.i19 = shufflevector <4 x float> %agg.tmp1.sroa.11.i.16.agg.tmp1.sroa.11.i.16.agg.tmp1.sroa.11.i.16.agg.tmp1.sroa.11.16.agg.tmp1.sroa.11.16.agg.tmp1.sroa.11.44..i, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp22.sroa.3.12.vec.insert.i.i.i20 = shufflevector <4 x float> %agg.tmp1.sroa.11.i.16.agg.tmp1.sroa.11.i.16.agg.tmp1.sroa.11.i.16.agg.tmp1.sroa.11.16.agg.tmp1.sroa.11.16.agg.tmp1.sroa.11.44..i, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp22.sroa.0.4.vec.insert.i.i.i19, ptr %add.ptr21.i.i.i18, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i28.i.i.i21 = getelementptr inbounds i8, ptr %add.ptr21.i.i.i18, i64 8
  store <2 x float> %agg.tmp22.sroa.3.12.vec.insert.i.i.i20, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i28.i.i.i21, align 8
  %low2.i.i.i.i.i22 = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 8, i32 1, i32 1, i32 1
  %45 = load ptr, ptr %low2.i.i.i.i.i22, align 8
  %arrayidx.i.i.i.i.i23 = getelementptr inbounds float, ptr %45, i64 %idxprom.i.i.i
  store float %agg.tmp3.sroa.16.40.copyload, ptr %arrayidx.i.i.i.i.i23, align 4
  %high4.i.i.i.i.i24 = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 8, i32 1, i32 1, i32 2
  %46 = load ptr, ptr %high4.i.i.i.i.i24, align 8
  %arrayidx7.i.i.i.i.i25 = getelementptr inbounds float, ptr %46, i64 %idxprom.i.i.i
  store float %agg.tmp3.sroa.17.40.copyload, ptr %arrayidx7.i.i.i.i.i25, align 4
  %low2.i5.i.i.i.i26 = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 8, i32 1, i32 2, i32 1
  %47 = load ptr, ptr %low2.i5.i.i.i.i26, align 8
  %arrayidx.i8.i.i.i.i27 = getelementptr inbounds float, ptr %47, i64 %idxprom.i.i.i
  store float %agg.tmp3.sroa.18.40.copyload, ptr %arrayidx.i8.i.i.i.i27, align 4
  %high4.i10.i.i.i.i28 = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 8, i32 1, i32 2, i32 2
  %48 = load ptr, ptr %high4.i10.i.i.i.i28, align 8
  %arrayidx7.i12.i.i.i.i29 = getelementptr inbounds float, ptr %48, i64 %idxprom.i.i.i
  store float %agg.tmp3.sroa.19.40.copyload, ptr %arrayidx7.i12.i.i.i.i29, align 4
  %low2.i15.i.i.i.i30 = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 8, i32 1, i32 3, i32 1
  %49 = load ptr, ptr %low2.i15.i.i.i.i30, align 8
  %arrayidx.i18.i.i.i.i31 = getelementptr inbounds float, ptr %49, i64 %idxprom.i.i.i
  store float %agg.tmp3.sroa.20.40.copyload, ptr %arrayidx.i18.i.i.i.i31, align 4
  %high4.i20.i.i.i.i32 = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 8, i32 1, i32 3, i32 2
  %50 = load ptr, ptr %high4.i20.i.i.i.i32, align 8
  %arrayidx7.i22.i.i.i.i33 = getelementptr inbounds float, ptr %50, i64 %idxprom.i.i.i
  store float %agg.tmp3.sroa.21.40.copyload, ptr %arrayidx7.i22.i.i.i.i33, align 4
  %x2.i.i.i.i34 = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 8, i32 2, i32 1
  %51 = load ptr, ptr %x2.i.i.i.i34, align 8
  %arrayidx.i.i.i.i35 = getelementptr inbounds float, ptr %51, i64 %idxprom.i.i.i
  store float %agg.tmp3.sroa.22.40.copyload, ptr %arrayidx.i.i.i.i35, align 4
  %y4.i.i.i.i36 = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 8, i32 2, i32 2
  %52 = load ptr, ptr %y4.i.i.i.i36, align 8
  %arrayidx7.i.i.i.i37 = getelementptr inbounds float, ptr %52, i64 %idxprom.i.i.i
  store float %agg.tmp3.sroa.23.40.copyload, ptr %arrayidx7.i.i.i.i37, align 4
  %z9.i.i.i.i38 = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 8, i32 2, i32 3
  %53 = load ptr, ptr %z9.i.i.i.i38, align 8
  %arrayidx12.i.i.i.i39 = getelementptr inbounds float, ptr %53, i64 %idxprom.i.i.i
  store float %agg.tmp3.sroa.24.40.copyload, ptr %arrayidx12.i.i.i.i39, align 4
  %x2.i10.i.i.i40 = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 8, i32 3, i32 1
  %54 = load ptr, ptr %x2.i10.i.i.i40, align 8
  %arrayidx.i13.i.i.i41 = getelementptr inbounds float, ptr %54, i64 %idxprom.i.i.i
  store float %agg.tmp3.sroa.25.40.copyload, ptr %arrayidx.i13.i.i.i41, align 4
  %y4.i15.i.i.i42 = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 8, i32 3, i32 2
  %55 = load ptr, ptr %y4.i15.i.i.i42, align 8
  %arrayidx7.i17.i.i.i43 = getelementptr inbounds float, ptr %55, i64 %idxprom.i.i.i
  store float %agg.tmp3.sroa.26.40.copyload, ptr %arrayidx7.i17.i.i.i43, align 4
  %z9.i19.i.i.i44 = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 8, i32 3, i32 3
  %56 = load ptr, ptr %z9.i19.i.i.i44, align 8
  %arrayidx12.i21.i.i.i45 = getelementptr inbounds float, ptr %56, i64 %idxprom.i.i.i
  store float %agg.tmp3.sroa.27.40.copyload, ptr %arrayidx12.i21.i.i.i45, align 4
  %specularBounce37.i.i = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 9
  %57 = load ptr, ptr %specularBounce37.i.i, align 8
  %arrayidx40.i.i = getelementptr inbounds i32, ptr %57, i64 %idxprom.i.i.i
  store i32 %agg.tmp3.sroa.2847.40.copyload, ptr %arrayidx40.i.i, align 4
  %pixelIndex42.i.i = getelementptr inbounds %"struct.pbrt::SOA.137", ptr %escapedRayQueue, i64 0, i32 10
  %58 = load ptr, ptr %pixelIndex42.i.i, align 8
  %arrayidx45.i.i = getelementptr inbounds i32, ptr %58, i64 %idxprom.i.i.i
  store i32 %agg.tmp3.sroa.12.40.copyload, ptr %arrayidx45.i.i, align 4
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp1.sroa.11.i)
  br label %if.end5

if.end5:                                          ; preds = %if.else, %if.then2, %if.then
  ret void
}

declare void @_ZNK4pbrt9Primitive9IntersectERKNS_3RayEf(ptr sret(%"class.pstd::optional") align 8, ptr noundef nonnull align 8 dereferenceable(8), ptr noundef nonnull align 8 dereferenceable(40), float noundef) local_unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt28EnqueueWorkAfterIntersectionENS_11RayWorkItemENS_6MediumEfNS_18SurfaceInteractionEPNS_17MediumSampleQueueEPNS_8RayQueueEPNS_9WorkQueueINS_20HitAreaLightWorkItemEEEPNS_14MultiWorkQueueINS_8TypePackIJNS_20MaterialEvalWorkItemINS_21CoatedDiffuseMaterialEEENSD_INS_23CoatedConductorMaterialEEENSD_INS_17ConductorMaterialEEENSD_INS_18DielectricMaterialEEENSD_INS_15DiffuseMaterialEEENSD_INS_27DiffuseTransmissionMaterialEEENSD_INS_12HairMaterialEEENSD_INS_16MeasuredMaterialEEENSD_INS_18SubsurfaceMaterialEEENSD_INS_22ThinDielectricMaterialEEENSD_INS_11MixMaterialEEEEEEEES12_(ptr noundef %r, ptr noundef %rayMedium, float noundef %tMax, ptr noundef %intr, ptr noundef %mediumSampleQueue, ptr noundef %nextRayQueue, ptr noundef %hitAreaLightQueue, ptr noundef %basicEvalMaterialQueue, ptr noundef %universalEvalMaterialQueue) local_unnamed_addr #9 comdat {
entry:
  %texEval.i27 = alloca %"class.pbrt::BasicTextureEvaluator", align 1
  %eval.i = alloca %class.anon.160, align 8
  %buf.i.i.i = alloca [5 x i64], align 16
  %texEval.i = alloca %"class.pbrt::BasicTextureEvaluator", align 1
  %agg.tmp.i = alloca %"class.pbrt::FloatTexture", align 8
  %agg.tmp405 = alloca %"struct.pbrt::MaterialEvalContext", align 8
  %ref.tmp.i = alloca %"struct.pbrt::SOA<pbrt::MediumSampleWorkItem>::GetSetIndirector", align 8
  %agg.tmp3 = alloca %"struct.pbrt::MediumSampleWorkItem", align 8
  %newRay = alloca %"class.pbrt::Ray", align 8
  %agg.tmp66.sroa.20 = alloca %"class.pbrt::SampledWavelengths", align 16
  %enqueue = alloca %class.anon.144, align 8
  %mediumInterface1 = getelementptr inbounds %"class.pbrt::Interaction", ptr %intr, i64 0, i32 5
  %0 = load ptr, ptr %mediumInterface1, align 8
  %tobool.not = icmp eq ptr %0, null
  br i1 %tobool.not, label %cond.false, label %cond.true

cond.true:                                        ; preds = %entry
  %1 = load i64, ptr %0, align 8
  %outside3.i = getelementptr inbounds %"struct.pbrt::MediumInterface", ptr %0, i64 0, i32 1
  %2 = load i64, ptr %outside3.i, align 8
  %.pre = load i64, ptr %rayMedium, align 8
  br label %cond.end

cond.false:                                       ; preds = %entry
  %3 = load i64, ptr %rayMedium, align 8
  br label %cond.end

cond.end:                                         ; preds = %cond.false, %cond.true
  %4 = phi i64 [ %3, %cond.false ], [ %.pre, %cond.true ]
  %mediumInterface.sroa.0.0 = phi i64 [ %3, %cond.false ], [ %1, %cond.true ]
  %mediumInterface.sroa.6.0 = phi i64 [ %3, %cond.false ], [ %2, %cond.true ]
  %and.i = and i64 %4, 144115188075855871
  %cmp.i.not = icmp eq i64 %and.i, 0
  br i1 %cmp.i.not, label %if.end, label %if.then

if.then:                                          ; preds = %cond.end
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(28) %agg.tmp3, ptr noundef nonnull align 8 dereferenceable(28) %r, i64 28, i1 false)
  %medium.i = getelementptr inbounds %"class.pbrt::Ray", ptr %agg.tmp3, i64 0, i32 3
  %medium3.i = getelementptr inbounds %"class.pbrt::Ray", ptr %r, i64 0, i32 3
  %5 = load i64, ptr %medium3.i, align 8
  store i64 %5, ptr %medium.i, align 8
  %depth = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 1
  %depth5 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 1
  %6 = load i32, ptr %depth5, align 8
  store i32 %6, ptr %depth, align 8
  %tMax6 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 2
  store float %tMax, ptr %tMax6, align 4
  %lambda = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 3
  %lambda7 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 2
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %lambda, ptr noundef nonnull align 4 dereferenceable(32) %lambda7, i64 32, i1 false)
  %beta = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 4
  %beta8 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 4
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %beta, ptr noundef nonnull align 8 dereferenceable(16) %beta8, i64 16, i1 false)
  %r_u = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 5
  %r_u9 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 5
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %r_u, ptr noundef nonnull align 8 dereferenceable(16) %r_u9, i64 16, i1 false)
  %r_l = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 6
  %r_l10 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 6
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %r_l, ptr noundef nonnull align 8 dereferenceable(16) %r_l10, i64 16, i1 false)
  %pixelIndex = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 7
  %pixelIndex11 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 3
  %7 = load i32, ptr %pixelIndex11, align 4
  store i32 %7, ptr %pixelIndex, align 8
  %prevIntrCtx = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 8
  %prevIntrCtx12 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(48) %prevIntrCtx, ptr noundef nonnull align 8 dereferenceable(48) %prevIntrCtx12, i64 48, i1 false)
  %specularBounce = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 9
  %specularBounce13 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 9
  %8 = load <2 x i32>, ptr %specularBounce13, align 4
  store <2 x i32> %8, ptr %specularBounce, align 4
  %etaScale = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 11
  %etaScale15 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 8
  %9 = load float, ptr %etaScale15, align 8
  store float %9, ptr %etaScale, align 4
  %areaLight = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 12
  %areaLight16 = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 8
  %10 = load i64, ptr %areaLight16, align 8
  store i64 %10, ptr %areaLight, align 8
  %pi = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 13
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %pi, ptr noundef nonnull align 8 dereferenceable(24) %intr, i64 24, i1 false)
  %n = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 14
  %n18 = getelementptr inbounds %"class.pbrt::Interaction", ptr %intr, i64 0, i32 3
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %n, ptr noundef nonnull align 8 dereferenceable(12) %n18, i64 12, i1 false)
  %dpdu = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 15
  %dpdu19 = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 1
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %dpdu, ptr noundef nonnull align 8 dereferenceable(12) %dpdu19, i64 12, i1 false)
  %dpdv = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 16
  %dpdv20 = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 2
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %dpdv, ptr noundef nonnull align 4 dereferenceable(12) %dpdv20, i64 12, i1 false)
  %wo = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 17
  %d = getelementptr inbounds %"class.pbrt::Ray", ptr %r, i64 0, i32 1
  %11 = load <2 x float>, ptr %d, align 4
  %12 = fneg <2 x float> %11
  %z.i = getelementptr inbounds %"class.pbrt::Ray", ptr %r, i64 0, i32 1, i32 0, i32 2
  %13 = load float, ptr %z.i, align 4
  %fneg3.i = fneg float %13
  store <2 x float> %12, ptr %wo, align 4
  %tmp.coerce.sroa.2.0.coerce.dive.sroa_idx = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 17, i32 0, i32 2
  store float %fneg3.i, ptr %tmp.coerce.sroa.2.0.coerce.dive.sroa_idx, align 4
  %uv = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 18
  %uv23 = getelementptr inbounds %"class.pbrt::Interaction", ptr %intr, i64 0, i32 4
  %14 = load i64, ptr %uv23, align 4
  store i64 %14, ptr %uv, align 8
  %material = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 19
  %material24 = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 7
  %15 = load i64, ptr %material24, align 8
  store i64 %15, ptr %material, align 8
  %ns = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 20
  %shading = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 5
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ns, ptr noundef nonnull align 8 dereferenceable(12) %shading, i64 12, i1 false)
  %dpdus = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 21
  %dpdu27 = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 5, i32 1
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %dpdus, ptr noundef nonnull align 4 dereferenceable(12) %dpdu27, i64 12, i1 false)
  %dpdvs = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 22
  %dpdv29 = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 5, i32 2
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %dpdvs, ptr noundef nonnull align 8 dereferenceable(12) %dpdv29, i64 12, i1 false)
  %dndus = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 23
  %dndu = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 5, i32 3
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %dndus, ptr noundef nonnull align 4 dereferenceable(12) %dndu, i64 12, i1 false)
  %dndvs = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 24
  %dndv = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 5, i32 4
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %dndvs, ptr noundef nonnull align 8 dereferenceable(12) %dndv, i64 12, i1 false)
  %faceIndex = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 25
  %faceIndex32 = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 6
  %16 = load i32, ptr %faceIndex32, align 4
  store i32 %16, ptr %faceIndex, align 4
  %mediumInterface33 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 26
  store i64 %mediumInterface.sroa.0.0, ptr %mediumInterface33, align 8
  %outside.i3 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %agg.tmp3, i64 0, i32 26, i32 1
  store i64 %mediumInterface.sroa.6.0, ptr %outside.i3, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp.i)
  %size.i.i = getelementptr inbounds %"class.pbrt::WorkQueue.132", ptr %mediumSampleQueue, i64 0, i32 1
  %17 = atomicrmw add ptr %size.i.i, i32 1 monotonic, align 4
  store ptr %mediumSampleQueue, ptr %ref.tmp.i, align 8
  %18 = getelementptr inbounds { ptr, i32 }, ptr %ref.tmp.i, i64 0, i32 1
  store i32 %17, ptr %18, align 8
  call void @_ZN4pbrt3SOAINS_20MediumSampleWorkItemEE16GetSetIndirectoraSERKS1_(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.i, ptr noundef nonnull align 8 dereferenceable(368) %agg.tmp3)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp.i)
  br label %return

if.end:                                           ; preds = %cond.end
  %material36 = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 7
  %19 = load i64, ptr %material36, align 8
  %shr.i.mask.i.i = and i64 %19, -144115188075855872
  %cmp.i.i = icmp ne i64 %shr.i.mask.i.i, 1585267068834414592
  %and.i.i = and i64 %19, 144115188075855871
  %tobool38.not8587 = icmp eq i64 %and.i.i, 0
  %tobool38.not85 = or i1 %cmp.i.i, %tobool38.not8587
  br i1 %tobool38.not85, label %while.end, label %while.body.lr.ph

while.body.lr.ph:                                 ; preds = %if.end
  %agg.tmp.sroa.0.sroa.2.0.this.sroa_idx.i.i.i = getelementptr inbounds i8, ptr %intr, i64 4
  %agg.tmp.sroa.0.sroa.4.0.this.sroa_idx.i.i.i = getelementptr inbounds i8, ptr %intr, i64 12
  %agg.tmp.sroa.0.sroa.5.0.this.sroa_idx.i.i.i = getelementptr inbounds i8, ptr %intr, i64 16
  %agg.tmp.sroa.0.sroa.6.0.this.sroa_idx.i.i.i = getelementptr inbounds i8, ptr %intr, i64 20
  %dpdx2.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 9
  %dpdy3.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 10
  %n4.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %intr, i64 0, i32 3
  %uv5.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %intr, i64 0, i32 4
  %dudx6.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 11
  %faceIndex10.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 6
  %wo2.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %intr, i64 0, i32 2
  %shading.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 5
  %dpdu.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 5, i32 1
  %agg.tmp40.sroa.2.0.agg.tmp405.sroa_idx = getelementptr inbounds i8, ptr %agg.tmp405, i64 8
  %agg.tmp40.sroa.3.0.agg.tmp405.sroa_idx = getelementptr inbounds i8, ptr %agg.tmp405, i64 12
  %agg.tmp40.sroa.4.0.agg.tmp405.sroa_idx = getelementptr inbounds i8, ptr %agg.tmp405, i64 24
  %agg.tmp40.sroa.5.0.agg.tmp405.sroa_idx = getelementptr inbounds i8, ptr %agg.tmp405, i64 36
  %agg.tmp40.sroa.6.0.agg.tmp405.sroa_idx = getelementptr inbounds i8, ptr %agg.tmp405, i64 48
  %agg.tmp40.sroa.7.0.agg.tmp405.sroa_idx = getelementptr inbounds i8, ptr %agg.tmp405, i64 56
  %agg.tmp40.sroa.11.0.agg.tmp405.sroa_idx = getelementptr inbounds i8, ptr %agg.tmp405, i64 72
  %agg.tmp40.sroa.12.0.agg.tmp405.sroa_idx = getelementptr inbounds i8, ptr %agg.tmp405, i64 76
  %agg.tmp40.sroa.13.0.agg.tmp405.sroa_idx = getelementptr inbounds i8, ptr %agg.tmp405, i64 88
  %agg.tmp40.sroa.14.0.agg.tmp405.sroa_idx = getelementptr inbounds i8, ptr %agg.tmp405, i64 100
  %agg.tmp9.sroa.2.0.wo.sroa_idx.i = getelementptr inbounds %"struct.pbrt::MaterialEvalContext", ptr %agg.tmp405, i64 0, i32 1, i32 0, i32 2
  %v.sroa.2.0.buf.addr.0..sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %buf.i.i.i, i64 8
  %add.ptr.i.i.i.i = getelementptr inbounds i8, ptr %buf.i.i.i, i64 12
  %v.sroa.2.0.buf.addr.0..sroa_idx.i.i.i.i.i = getelementptr inbounds i8, ptr %buf.i.i.i, i64 20
  %add.ptr.i.i.i.i.i = getelementptr inbounds i8, ptr %buf.i.i.i, i64 24
  %add.ptr.i.i.i.i.i.i = getelementptr inbounds i8, ptr %buf.i.i.i, i64 32
  br label %while.body

while.body:                                       ; preds = %while.body.lr.ph, %_ZNK4pbrt11MixMaterial14ChooseMaterialINS_21BasicTextureEvaluatorEEENS_8MaterialET_NS_19MaterialEvalContextE.exit
  %mix.086.in = phi i64 [ %and.i.i, %while.body.lr.ph ], [ %and.i.i10, %_ZNK4pbrt11MixMaterial14ChooseMaterialINS_21BasicTextureEvaluatorEEENS_8MaterialET_NS_19MaterialEvalContextE.exit ]
  %mix.086 = inttoptr i64 %mix.086.in to ptr
  %agg.tmp.sroa.0.sroa.0.0.copyload.i.i.i = load float, ptr %intr, align 8
  %agg.tmp.sroa.0.sroa.4.0.copyload.i.i.i = load float, ptr %agg.tmp.sroa.0.sroa.4.0.this.sroa_idx.i.i.i, align 4
  %agg.tmp.sroa.0.sroa.5.0.copyload.i.i.i = load float, ptr %agg.tmp.sroa.0.sroa.5.0.this.sroa_idx.i.i.i, align 8
  %agg.tmp.sroa.0.sroa.6.0.copyload.i.i.i = load float, ptr %agg.tmp.sroa.0.sroa.6.0.this.sroa_idx.i.i.i, align 4
  %20 = load <2 x float>, ptr %agg.tmp.sroa.0.sroa.2.0.this.sroa_idx.i.i.i, align 4
  %21 = insertelement <2 x float> poison, float %agg.tmp.sroa.0.sroa.0.0.copyload.i.i.i, i64 0
  %22 = insertelement <2 x float> %21, float %agg.tmp.sroa.0.sroa.4.0.copyload.i.i.i, i64 1
  %23 = fadd <2 x float> %20, %22
  %24 = fmul <2 x float> %23, <float 5.000000e-01, float 5.000000e-01>
  %add.i.i5.i.i.i.i = fadd float %agg.tmp.sroa.0.sroa.5.0.copyload.i.i.i, %agg.tmp.sroa.0.sroa.6.0.copyload.i.i.i
  %div.i.i6.i.i.i.i = fmul float %add.i.i5.i.i.i.i, 5.000000e-01
  call void @llvm.lifetime.start.p0(i64 112, ptr nonnull %agg.tmp405)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %agg.tmp40.sroa.4.0.agg.tmp405.sroa_idx, ptr noundef nonnull align 4 dereferenceable(12) %dpdy3.i.i, i64 12, i1 false)
  %25 = load i64, ptr %uv5.i.i, align 4
  %26 = load i32, ptr %faceIndex10.i.i, align 4
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %agg.tmp40.sroa.13.0.agg.tmp405.sroa_idx, ptr noundef nonnull align 8 dereferenceable(12) %shading.i, i64 12, i1 false)
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %texEval.i)
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %agg.tmp.i)
  store <2 x float> %24, ptr %agg.tmp405, align 8
  store float %div.i.i6.i.i.i.i, ptr %agg.tmp40.sroa.2.0.agg.tmp405.sroa_idx, align 8
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %agg.tmp40.sroa.3.0.agg.tmp405.sroa_idx, ptr noundef nonnull align 8 dereferenceable(12) %dpdx2.i.i, i64 12, i1 false)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %agg.tmp40.sroa.5.0.agg.tmp405.sroa_idx, ptr noundef nonnull align 8 dereferenceable(12) %n4.i.i, i64 12, i1 false)
  store i64 %25, ptr %agg.tmp40.sroa.6.0.agg.tmp405.sroa_idx, align 8
  %27 = load <4 x float>, ptr %dudx6.i.i, align 8
  %28 = shufflevector <4 x float> %27, <4 x float> poison, <4 x i32> <i32 0, i32 2, i32 1, i32 3>
  store <4 x float> %28, ptr %agg.tmp40.sroa.7.0.agg.tmp405.sroa_idx, align 8
  store i32 %26, ptr %agg.tmp40.sroa.11.0.agg.tmp405.sroa_idx, align 8
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %agg.tmp40.sroa.12.0.agg.tmp405.sroa_idx, ptr noundef nonnull align 4 dereferenceable(12) %wo2.i, i64 12, i1 false)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %agg.tmp40.sroa.14.0.agg.tmp405.sroa_idx, ptr noundef nonnull align 4 dereferenceable(12) %dpdu.i, i64 12, i1 false)
  %29 = load i64, ptr %mix.086, align 8, !noalias !22
  store i64 %29, ptr %agg.tmp.i, align 8, !noalias !22
  %call.i = call noundef float @_ZN4pbrt21BasicTextureEvaluatorclENS_12FloatTextureENS_18TextureEvalContextE(ptr noundef nonnull align 1 dereferenceable(1) %texEval.i, ptr noundef nonnull %agg.tmp.i, ptr noundef nonnull byval(%"struct.pbrt::TextureEvalContext") align 8 %agg.tmp405), !noalias !22
  %cmp.i6 = fcmp ugt float %call.i, 0.000000e+00
  br i1 %cmp.i6, label %if.end.i, label %if.then.i

if.then.i:                                        ; preds = %while.body
  %materials.i = getelementptr inbounds %"class.pbrt::MixMaterial", ptr %mix.086, i64 0, i32 1
  %30 = load i64, ptr %materials.i, align 8, !noalias !22
  br label %_ZNK4pbrt11MixMaterial14ChooseMaterialINS_21BasicTextureEvaluatorEEENS_8MaterialET_NS_19MaterialEvalContextE.exit

if.end.i:                                         ; preds = %while.body
  %cmp3.i = fcmp ult float %call.i, 1.000000e+00
  br i1 %cmp3.i, label %if.end7.i, label %if.then4.i

if.then4.i:                                       ; preds = %if.end.i
  %arrayidx6.i = getelementptr inbounds %"class.pbrt::MixMaterial", ptr %mix.086, i64 0, i32 1, i64 1
  %31 = load i64, ptr %arrayidx6.i, align 8, !noalias !22
  br label %_ZNK4pbrt11MixMaterial14ChooseMaterialINS_21BasicTextureEvaluatorEEENS_8MaterialET_NS_19MaterialEvalContextE.exit

if.end7.i:                                        ; preds = %if.end.i
  %agg.tmp8.sroa.0.0.copyload.i = load <2 x float>, ptr %agg.tmp405, align 8, !noalias !22
  %agg.tmp8.sroa.2.0.copyload.i = load float, ptr %agg.tmp40.sroa.2.0.agg.tmp405.sroa_idx, align 8, !noalias !22
  %agg.tmp9.sroa.0.0.copyload.i = load <2 x float>, ptr %agg.tmp40.sroa.12.0.agg.tmp405.sroa_idx, align 4, !noalias !22
  %agg.tmp9.sroa.2.0.copyload.i = load float, ptr %agg.tmp9.sroa.2.0.wo.sroa_idx.i, align 4, !noalias !22
  %materials11.i = getelementptr inbounds %"class.pbrt::MixMaterial", ptr %mix.086, i64 0, i32 1
  %32 = load i64, ptr %materials11.i, align 8, !noalias !22
  %arrayidx15.i = getelementptr inbounds %"class.pbrt::MixMaterial", ptr %mix.086, i64 0, i32 1, i64 1
  %33 = load i64, ptr %arrayidx15.i, align 8, !noalias !22
  call void @llvm.lifetime.start.p0(i64 40, ptr nonnull %buf.i.i.i), !noalias !22
  store <2 x float> %agg.tmp8.sroa.0.0.copyload.i, ptr %buf.i.i.i, align 16, !noalias !22
  store float %agg.tmp8.sroa.2.0.copyload.i, ptr %v.sroa.2.0.buf.addr.0..sroa_idx.i.i.i.i, align 8, !noalias !22
  store <2 x float> %agg.tmp9.sroa.0.0.copyload.i, ptr %add.ptr.i.i.i.i, align 4, !noalias !22
  store float %agg.tmp9.sroa.2.0.copyload.i, ptr %v.sroa.2.0.buf.addr.0..sroa_idx.i.i.i.i.i, align 4, !noalias !22
  store i64 %32, ptr %add.ptr.i.i.i.i.i, align 8, !noalias !22
  store i64 %33, ptr %add.ptr.i.i.i.i.i.i, align 16, !noalias !22
  br label %while.body.i.i.i.i

while.body.i.i.i.i:                               ; preds = %while.body.i.i.i.i, %if.end7.i
  %key.addr.035.i.idx.i.i.i = phi i64 [ %key.addr.035.i.add.i.i.i, %while.body.i.i.i.i ], [ 0, %if.end7.i ]
  %h.034.i.i.i.i = phi i64 [ %mul7.i.i.i.i, %while.body.i.i.i.i ], [ 700924396315639624, %if.end7.i ]
  %key.addr.035.i.ptr.i.i.i = getelementptr inbounds i8, ptr %buf.i.i.i, i64 %key.addr.035.i.idx.i.i.i
  %k.0.copyload.i.i.i.i = load i64, ptr %key.addr.035.i.ptr.i.i.i, align 8, !noalias !22
  %key.addr.035.i.add.i.i.i = add nuw nsw i64 %key.addr.035.i.idx.i.i.i, 8
  %mul3.i.i.i.i = mul i64 %k.0.copyload.i.i.i.i, -4132994306676758123
  %shr.i.i.i.i = lshr i64 %mul3.i.i.i.i, 47
  %xor4.i.i.i.i = xor i64 %shr.i.i.i.i, %mul3.i.i.i.i
  %mul5.i.i.i.i = mul i64 %xor4.i.i.i.i, -4132994306676758123
  %xor6.i.i.i.i = xor i64 %mul5.i.i.i.i, %h.034.i.i.i.i
  %mul7.i.i.i.i = mul i64 %xor6.i.i.i.i, -4132994306676758123
  %cmp.not.i.i.i.i = icmp eq i64 %key.addr.035.i.add.i.i.i, 40
  br i1 %cmp.not.i.i.i.i, label %_ZN4pbrt9HashFloatIJNS_6Point3IfEENS_7Vector3IfEENS_8MaterialES5_EEEfDpT_.exit.i, label %while.body.i.i.i.i, !llvm.loop !25

_ZN4pbrt9HashFloatIJNS_6Point3IfEENS_7Vector3IfEENS_8MaterialES5_EEEfDpT_.exit.i: ; preds = %while.body.i.i.i.i
  %shr39.i.i.i.i = lshr i64 %mul7.i.i.i.i, 47
  %xor40.i.i.i.i = xor i64 %shr39.i.i.i.i, %mul7.i.i.i.i
  %mul41.i.i.i.i = mul i64 %xor40.i.i.i.i, -4132994306676758123
  %shr42.i.i.i.i = lshr i64 %mul41.i.i.i.i, 47
  %xor43.i.i.i.i = xor i64 %shr42.i.i.i.i, %mul41.i.i.i.i
  call void @llvm.lifetime.end.p0(i64 40, ptr nonnull %buf.i.i.i), !noalias !22
  %conv.i.i = trunc i64 %xor43.i.i.i.i to i32
  %conv12.i.i = uitofp i32 %conv.i.i to float
  %mul.i.i = fmul float %conv12.i.i, 0x3DF0000000000000
  %cmp17.i = fcmp olt float %call.i, %mul.i.i
  %34 = select i1 %cmp17.i, i64 %32, i64 %33
  br label %_ZNK4pbrt11MixMaterial14ChooseMaterialINS_21BasicTextureEvaluatorEEENS_8MaterialET_NS_19MaterialEvalContextE.exit

_ZNK4pbrt11MixMaterial14ChooseMaterialINS_21BasicTextureEvaluatorEEENS_8MaterialET_NS_19MaterialEvalContextE.exit: ; preds = %if.then.i, %if.then4.i, %_ZN4pbrt9HashFloatIJNS_6Point3IfEENS_7Vector3IfEENS_8MaterialES5_EEEfDpT_.exit.i
  %.sink.i = phi i64 [ %34, %_ZN4pbrt9HashFloatIJNS_6Point3IfEENS_7Vector3IfEENS_8MaterialES5_EEEfDpT_.exit.i ], [ %31, %if.then4.i ], [ %30, %if.then.i ]
  call void @llvm.lifetime.end.p0(i64 112, ptr nonnull %agg.tmp405)
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %texEval.i)
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %agg.tmp.i)
  %shr.i.mask.i.i8 = and i64 %.sink.i, -144115188075855872
  %cmp.i.i9 = icmp ne i64 %shr.i.mask.i.i8, 1585267068834414592
  %and.i.i10 = and i64 %.sink.i, 144115188075855871
  %tobool38.not90 = icmp eq i64 %and.i.i10, 0
  %tobool38.not = or i1 %cmp.i.i9, %tobool38.not90
  br i1 %tobool38.not, label %while.end, label %while.body

while.end:                                        ; preds = %_ZNK4pbrt11MixMaterial14ChooseMaterialINS_21BasicTextureEvaluatorEEENS_8MaterialET_NS_19MaterialEvalContextE.exit, %if.end
  %material35.sroa.0.0.lcssa = phi i64 [ %19, %if.end ], [ %.sink.i, %_ZNK4pbrt11MixMaterial14ChooseMaterialINS_21BasicTextureEvaluatorEEENS_8MaterialET_NS_19MaterialEvalContextE.exit ]
  %and.i12 = and i64 %material35.sroa.0.0.lcssa, 144115188075855871
  %cmp.i13.not = icmp eq i64 %and.i12, 0
  br i1 %cmp.i13.not, label %if.then44, label %if.end62

if.then44:                                        ; preds = %while.end
  %d48 = getelementptr inbounds %"class.pbrt::Ray", ptr %r, i64 0, i32 1
  %agg.tmp46.sroa.0.0.copyload = load <2 x float>, ptr %d48, align 4
  %agg.tmp46.sroa.2.0.d48.sroa_idx = getelementptr inbounds %"class.pbrt::Ray", ptr %r, i64 0, i32 1, i32 0, i32 2
  %agg.tmp46.sroa.2.0.copyload = load float, ptr %agg.tmp46.sroa.2.0.d48.sroa_idx, align 4
  %n.i.i14 = getelementptr inbounds %"class.pbrt::Interaction", ptr %intr, i64 0, i32 3
  %agg.tmp2.sroa.0.0.copyload.i.i = load <2 x float>, ptr %n.i.i14, align 8, !noalias !26
  %agg.tmp2.sroa.2.0.n.sroa_idx.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %intr, i64 0, i32 3, i32 0, i32 2
  %agg.tmp2.sroa.2.0.copyload.i.i = load float, ptr %agg.tmp2.sroa.2.0.n.sroa_idx.i.i, align 8, !noalias !26
  %call.i.i = call { <2 x float>, float } @_ZN4pbrt15OffsetRayOriginENS_8Point3fiENS_7Normal3IfEENS_7Vector3IfEE(ptr noundef nonnull byval(%"class.pbrt::Point3fi") align 8 %intr, <2 x float> %agg.tmp2.sroa.0.0.copyload.i.i, float %agg.tmp2.sroa.2.0.copyload.i.i, <2 x float> %agg.tmp46.sroa.0.0.copyload, float %agg.tmp46.sroa.2.0.copyload), !noalias !26
  %time.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %intr, i64 0, i32 1
  %35 = load float, ptr %time.i, align 8, !noalias !26
  %36 = load ptr, ptr %mediumInterface1, align 8, !noalias !29
  %tobool.not.i.i = icmp eq ptr %36, null
  br i1 %tobool.not.i.i, label %if.end.i.i, label %if.then.i.i

if.then.i.i:                                      ; preds = %if.then44
  %agg.tmp2.sroa.0.0.copyload.i4.i = load <2 x float>, ptr %n.i.i14, align 8, !noalias !29
  %agg.tmp2.sroa.2.0.copyload.i6.i = load float, ptr %agg.tmp2.sroa.2.0.n.sroa_idx.i.i, align 8, !noalias !29
  %n.sroa.0.0.vec.extract.i.i.i = extractelement <2 x float> %agg.tmp2.sroa.0.0.copyload.i4.i, i64 0
  %v.sroa.0.0.vec.extract.i.i.i = extractelement <2 x float> %agg.tmp46.sroa.0.0.copyload, i64 0
  %n.sroa.0.4.vec.extract.i.i.i = extractelement <2 x float> %agg.tmp2.sroa.0.0.copyload.i4.i, i64 1
  %v.sroa.0.4.vec.extract.i.i.i = extractelement <2 x float> %agg.tmp46.sroa.0.0.copyload, i64 1
  %mul.i.i.i.i = fmul float %agg.tmp46.sroa.2.0.copyload, %agg.tmp2.sroa.2.0.copyload.i6.i
  %37 = call noundef float @llvm.fma.f32(float %n.sroa.0.4.vec.extract.i.i.i, float %v.sroa.0.4.vec.extract.i.i.i, float %mul.i.i.i.i)
  %fneg.i.i.i.i = fneg float %mul.i.i.i.i
  %38 = call noundef float @llvm.fma.f32(float %agg.tmp2.sroa.2.0.copyload.i6.i, float %agg.tmp46.sroa.2.0.copyload, float %fneg.i.i.i.i)
  %add.i.i.i.i = fadd float %37, %38
  %39 = call noundef float @llvm.fma.f32(float %n.sroa.0.0.vec.extract.i.i.i, float %v.sroa.0.0.vec.extract.i.i.i, float %add.i.i.i.i)
  %cmp.i.i15 = fcmp ogt float %39, 0.000000e+00
  %outside.i.i = getelementptr inbounds %"struct.pbrt::MediumInterface", ptr %36, i64 0, i32 1
  %cond-lvalue.i.i = select i1 %cmp.i.i15, ptr %outside.i.i, ptr %36
  br label %_ZNK4pbrt11Interaction8SpawnRayENS_7Vector3IfEE.exit

if.end.i.i:                                       ; preds = %if.then44
  %medium.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %intr, i64 0, i32 6
  br label %_ZNK4pbrt11Interaction8SpawnRayENS_7Vector3IfEE.exit

_ZNK4pbrt11Interaction8SpawnRayENS_7Vector3IfEE.exit: ; preds = %if.then.i.i, %if.end.i.i
  %storemerge.in.i.i = phi ptr [ %cond-lvalue.i.i, %if.then.i.i ], [ %medium.i.i, %if.end.i.i ]
  %call.fca.1.extract.i = extractvalue { <2 x float>, float } %call.i.i, 1
  %call.fca.0.extract.i = extractvalue { <2 x float>, float } %call.i.i, 0
  %storemerge.i.i = load i64, ptr %storemerge.in.i.i, align 8, !noalias !29
  store <2 x float> %call.fca.0.extract.i, ptr %newRay, align 8
  %ref.tmp45.sroa.2.0.newRay.sroa_idx = getelementptr inbounds i8, ptr %newRay, i64 8
  store float %call.fca.1.extract.i, ptr %ref.tmp45.sroa.2.0.newRay.sroa_idx, align 8
  %ref.tmp45.sroa.3.0.newRay.sroa_idx = getelementptr inbounds i8, ptr %newRay, i64 12
  store <2 x float> %agg.tmp46.sroa.0.0.copyload, ptr %ref.tmp45.sroa.3.0.newRay.sroa_idx, align 4
  %ref.tmp45.sroa.4.0.newRay.sroa_idx = getelementptr inbounds i8, ptr %newRay, i64 20
  store float %agg.tmp46.sroa.2.0.copyload, ptr %ref.tmp45.sroa.4.0.newRay.sroa_idx, align 4
  %ref.tmp45.sroa.5.0.newRay.sroa_idx = getelementptr inbounds i8, ptr %newRay, i64 24
  store float %35, ptr %ref.tmp45.sroa.5.0.newRay.sroa_idx, align 8
  %medium.i16 = getelementptr inbounds %"class.pbrt::Ray", ptr %newRay, i64 0, i32 3
  store i64 %storemerge.i.i, ptr %medium.i16, align 8
  %depth49 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 1
  %40 = load i32, ptr %depth49, align 8
  %prevIntrCtx50 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7
  %beta51 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 4
  %r_u52 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 5
  %r_l53 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 6
  %lambda54 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 2
  %etaScale55 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 8
  %41 = load float, ptr %etaScale55, align 8
  %specularBounce56 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 9
  %42 = load i32, ptr %specularBounce56, align 4
  %tobool57 = icmp ne i32 %42, 0
  %anyNonSpecularBounces58 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 10
  %43 = load i32, ptr %anyNonSpecularBounces58, align 8
  %tobool59 = icmp ne i32 %43, 0
  %pixelIndex60 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 3
  %44 = load i32, ptr %pixelIndex60, align 4
  %call61 = call noundef i32 @_ZN4pbrt8RayQueue15PushIndirectRayERKNS_3RayEiRKNS_18LightSampleContextERKNS_15SampledSpectrumES9_S9_RKNS_18SampledWavelengthsEfbbi(ptr noundef nonnull align 8 dereferenceable(404) %nextRayQueue, ptr noundef nonnull align 8 dereferenceable(40) %newRay, i32 noundef %40, ptr noundef nonnull align 4 dereferenceable(48) %prevIntrCtx50, ptr noundef nonnull align 4 dereferenceable(16) %beta51, ptr noundef nonnull align 4 dereferenceable(16) %r_u52, ptr noundef nonnull align 4 dereferenceable(16) %r_l53, ptr noundef nonnull align 4 dereferenceable(32) %lambda54, float noundef %41, i1 noundef zeroext %tobool57, i1 noundef zeroext %tobool59, i32 noundef %44)
  br label %return

if.end62:                                         ; preds = %while.end
  %areaLight63 = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 8
  %45 = load i64, ptr %areaLight63, align 8
  %and.i18 = and i64 %45, 144115188075855871
  %cmp.i19.not = icmp eq i64 %and.i18, 0
  br i1 %cmp.i19.not, label %if.end95, label %if.then65

if.then65:                                        ; preds = %if.end62
  %agg.tmp.sroa.0.sroa.0.0.copyload.i = load float, ptr %intr, align 8
  %agg.tmp.sroa.0.sroa.2.0.this.sroa_idx.i = getelementptr inbounds i8, ptr %intr, i64 4
  %agg.tmp.sroa.0.sroa.2.0.copyload.i = load float, ptr %agg.tmp.sroa.0.sroa.2.0.this.sroa_idx.i, align 4
  %agg.tmp.sroa.0.sroa.3.0.this.sroa_idx.i = getelementptr inbounds i8, ptr %intr, i64 8
  %agg.tmp.sroa.0.sroa.3.0.copyload.i = load float, ptr %agg.tmp.sroa.0.sroa.3.0.this.sroa_idx.i, align 8
  %agg.tmp.sroa.0.sroa.4.0.this.sroa_idx.i = getelementptr inbounds i8, ptr %intr, i64 12
  %agg.tmp.sroa.0.sroa.4.0.copyload.i = load float, ptr %agg.tmp.sroa.0.sroa.4.0.this.sroa_idx.i, align 4
  %agg.tmp.sroa.0.sroa.5.0.this.sroa_idx.i = getelementptr inbounds i8, ptr %intr, i64 16
  %agg.tmp.sroa.0.sroa.5.0.copyload.i = load float, ptr %agg.tmp.sroa.0.sroa.5.0.this.sroa_idx.i, align 8
  %agg.tmp.sroa.0.sroa.6.0.this.sroa_idx.i = getelementptr inbounds i8, ptr %intr, i64 20
  %agg.tmp.sroa.0.sroa.6.0.copyload.i = load float, ptr %agg.tmp.sroa.0.sroa.6.0.this.sroa_idx.i, align 4
  %add.i.i.i.i20 = fadd float %agg.tmp.sroa.0.sroa.0.0.copyload.i, %agg.tmp.sroa.0.sroa.2.0.copyload.i
  %div.i.i.i.i = fmul float %add.i.i.i.i20, 5.000000e-01
  %add.i.i2.i.i = fadd float %agg.tmp.sroa.0.sroa.3.0.copyload.i, %agg.tmp.sroa.0.sroa.4.0.copyload.i
  %div.i.i3.i.i = fmul float %add.i.i2.i.i, 5.000000e-01
  %add.i.i5.i.i = fadd float %agg.tmp.sroa.0.sroa.5.0.copyload.i, %agg.tmp.sroa.0.sroa.6.0.copyload.i
  %div.i.i6.i.i = fmul float %add.i.i5.i.i, 5.000000e-01
  %n73 = getelementptr inbounds %"class.pbrt::Interaction", ptr %intr, i64 0, i32 3
  %agg.tmp66.sroa.8.20.copyload = load float, ptr %n73, align 8
  %agg.tmp66.sroa.10.20.n73.sroa_idx = getelementptr inbounds %"class.pbrt::Interaction", ptr %intr, i64 0, i32 3, i32 0, i32 1
  %agg.tmp66.sroa.10.20.copyload = load float, ptr %agg.tmp66.sroa.10.20.n73.sroa_idx, align 4
  %agg.tmp66.sroa.11.20.n73.sroa_idx = getelementptr inbounds %"class.pbrt::Interaction", ptr %intr, i64 0, i32 3, i32 0, i32 2
  %agg.tmp66.sroa.11.20.copyload = load float, ptr %agg.tmp66.sroa.11.20.n73.sroa_idx, align 8
  %uv75 = getelementptr inbounds %"class.pbrt::Interaction", ptr %intr, i64 0, i32 4
  %46 = load float, ptr %uv75, align 4
  %uv75.sroa_idx = getelementptr inbounds %"class.pbrt::Interaction", ptr %intr, i64 0, i32 4, i32 0, i32 1
  %47 = load float, ptr %uv75.sroa_idx, align 4
  %wo77 = getelementptr inbounds %"class.pbrt::Interaction", ptr %intr, i64 0, i32 2
  %agg.tmp66.sroa.16.40.copyload = load float, ptr %wo77, align 4
  %agg.tmp66.sroa.18.40.wo77.sroa_idx = getelementptr inbounds %"class.pbrt::Interaction", ptr %intr, i64 0, i32 2, i32 0, i32 1
  %agg.tmp66.sroa.18.40.copyload = load float, ptr %agg.tmp66.sroa.18.40.wo77.sroa_idx, align 4
  %agg.tmp66.sroa.19.40.wo77.sroa_idx = getelementptr inbounds %"class.pbrt::Interaction", ptr %intr, i64 0, i32 2, i32 0, i32 2
  %agg.tmp66.sroa.19.40.copyload = load float, ptr %agg.tmp66.sroa.19.40.wo77.sroa_idx, align 4
  %lambda79 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 2
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 16 dereferenceable(32) %agg.tmp66.sroa.20, ptr noundef nonnull align 4 dereferenceable(32) %lambda79, i64 32, i1 false)
  %depth81 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 1
  %48 = load i32, ptr %depth81, align 8
  %beta83 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 4
  %agg.tmp66.sroa.26.88.copyload = load <4 x float>, ptr %beta83, align 8
  %r_u85 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 5
  %agg.tmp66.sroa.28.104.copyload = load <4 x float>, ptr %r_u85, align 8
  %r_l87 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 6
  %agg.tmp66.sroa.30.120.copyload = load <4 x float>, ptr %r_l87, align 8
  %prevIntrCtx89 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7
  %agg.tmp66.sroa.32.136.copyload = load float, ptr %prevIntrCtx89, align 8
  %agg.tmp66.sroa.34.136.prevIntrCtx89.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 0, i32 0, i32 0, i32 0, i32 1
  %agg.tmp66.sroa.34.136.copyload = load float, ptr %agg.tmp66.sroa.34.136.prevIntrCtx89.sroa_idx, align 4
  %agg.tmp66.sroa.35.136.prevIntrCtx89.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 0, i32 0, i32 0, i32 1
  %agg.tmp66.sroa.35.136.copyload = load float, ptr %agg.tmp66.sroa.35.136.prevIntrCtx89.sroa_idx, align 8
  %agg.tmp66.sroa.36.136.prevIntrCtx89.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 0, i32 0, i32 0, i32 1, i32 1
  %agg.tmp66.sroa.36.136.copyload = load float, ptr %agg.tmp66.sroa.36.136.prevIntrCtx89.sroa_idx, align 4
  %agg.tmp66.sroa.37.136.prevIntrCtx89.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 0, i32 0, i32 0, i32 2
  %agg.tmp66.sroa.37.136.copyload = load float, ptr %agg.tmp66.sroa.37.136.prevIntrCtx89.sroa_idx, align 8
  %agg.tmp66.sroa.38.136.prevIntrCtx89.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 0, i32 0, i32 0, i32 2, i32 1
  %agg.tmp66.sroa.38.136.copyload = load float, ptr %agg.tmp66.sroa.38.136.prevIntrCtx89.sroa_idx, align 4
  %agg.tmp66.sroa.39.136.prevIntrCtx89.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 1
  %agg.tmp66.sroa.39.136.copyload = load float, ptr %agg.tmp66.sroa.39.136.prevIntrCtx89.sroa_idx, align 8
  %agg.tmp66.sroa.40.136.prevIntrCtx89.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 1, i32 0, i32 1
  %agg.tmp66.sroa.40.136.copyload = load float, ptr %agg.tmp66.sroa.40.136.prevIntrCtx89.sroa_idx, align 4
  %agg.tmp66.sroa.41.136.prevIntrCtx89.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 1, i32 0, i32 2
  %agg.tmp66.sroa.41.136.copyload = load float, ptr %agg.tmp66.sroa.41.136.prevIntrCtx89.sroa_idx, align 8
  %agg.tmp66.sroa.42.136.prevIntrCtx89.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 2
  %agg.tmp66.sroa.42.136.copyload = load float, ptr %agg.tmp66.sroa.42.136.prevIntrCtx89.sroa_idx, align 4
  %agg.tmp66.sroa.43.136.prevIntrCtx89.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 2, i32 0, i32 1
  %agg.tmp66.sroa.43.136.copyload = load float, ptr %agg.tmp66.sroa.43.136.prevIntrCtx89.sroa_idx, align 8
  %agg.tmp66.sroa.44.136.prevIntrCtx89.sroa_idx = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 7, i32 2, i32 0, i32 2
  %agg.tmp66.sroa.44.136.copyload = load float, ptr %agg.tmp66.sroa.44.136.prevIntrCtx89.sroa_idx, align 4
  %specularBounce91 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 9
  %49 = load i32, ptr %specularBounce91, align 4
  %pixelIndex93 = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 3
  %50 = load i32, ptr %pixelIndex93, align 4
  %size.i.i26 = getelementptr inbounds %"class.pbrt::WorkQueue.140", ptr %hitAreaLightQueue, i64 0, i32 1
  %51 = atomicrmw add ptr %size.i.i26, i32 1 monotonic, align 4
  %areaLight2.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 1
  %52 = load ptr, ptr %areaLight2.i, align 8
  %idxprom.i = sext i32 %51 to i64
  %arrayidx.i = getelementptr inbounds %"class.pbrt::Light", ptr %52, i64 %idxprom.i
  store i64 %45, ptr %arrayidx.i, align 8
  %lambda4.i.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 2, i32 1
  %53 = load ptr, ptr %lambda4.i.i, align 8
  %add.ptr.i.i45 = getelementptr inbounds %"struct.pbrt::Float4", ptr %53, i64 %idxprom.i
  %agg.tmp66.sroa.20.0.agg.tmp66.sroa.20.0.agg.tmp66.sroa.20.0.agg.tmp66.sroa.20.52. = load <4 x float>, ptr %agg.tmp66.sroa.20, align 16
  %agg.tmp.sroa.0.4.vec.insert.i.i = shufflevector <4 x float> %agg.tmp66.sroa.20.0.agg.tmp66.sroa.20.0.agg.tmp66.sroa.20.0.agg.tmp66.sroa.20.52., <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp66.sroa.20.8.arrayidx.i23.i.i.sroa_idx = getelementptr inbounds i8, ptr %agg.tmp66.sroa.20, i64 8
  %agg.tmp66.sroa.20.8.agg.tmp66.sroa.20.8.agg.tmp66.sroa.20.8.agg.tmp66.sroa.20.60. = load <4 x float>, ptr %agg.tmp66.sroa.20.8.arrayidx.i23.i.i.sroa_idx, align 8
  %agg.tmp.sroa.3.12.vec.insert.i.i = shufflevector <4 x float> %agg.tmp66.sroa.20.8.agg.tmp66.sroa.20.8.agg.tmp66.sroa.20.8.agg.tmp66.sroa.20.60., <4 x float> poison, <2 x i32> <i32 0, i32 1>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i.i, ptr %add.ptr.i.i45, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i.i45, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i.i, align 8
  %pdf4.i.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 2, i32 2
  %54 = load ptr, ptr %pdf4.i.i, align 8
  %add.ptr21.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %54, i64 %idxprom.i
  %agg.tmp66.sroa.20.16.pdf.i.i.sroa_idx = getelementptr inbounds i8, ptr %agg.tmp66.sroa.20, i64 16
  %agg.tmp66.sroa.20.16.agg.tmp66.sroa.20.16.agg.tmp66.sroa.20.16.agg.tmp66.sroa.20.68. = load <4 x float>, ptr %agg.tmp66.sroa.20.16.pdf.i.i.sroa_idx, align 16
  %agg.tmp22.sroa.0.4.vec.insert.i.i = shufflevector <4 x float> %agg.tmp66.sroa.20.16.agg.tmp66.sroa.20.16.agg.tmp66.sroa.20.16.agg.tmp66.sroa.20.68., <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp22.sroa.3.12.vec.insert.i.i = shufflevector <4 x float> %agg.tmp66.sroa.20.16.agg.tmp66.sroa.20.16.agg.tmp66.sroa.20.16.agg.tmp66.sroa.20.68., <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp22.sroa.0.4.vec.insert.i.i, ptr %add.ptr21.i.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i28.i.i = getelementptr inbounds i8, ptr %add.ptr21.i.i, i64 8
  store <2 x float> %agg.tmp22.sroa.3.12.vec.insert.i.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i28.i.i, align 8
  %ptr4.i.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 3, i32 1
  %55 = load ptr, ptr %ptr4.i.i, align 8
  %add.ptr.i17.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %55, i64 %idxprom.i
  %agg.tmp.sroa.0.4.vec.insert.i18.i = shufflevector <4 x float> %agg.tmp66.sroa.26.88.copyload, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i19.i = shufflevector <4 x float> %agg.tmp66.sroa.26.88.copyload, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i18.i, ptr %add.ptr.i17.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i20.i = getelementptr inbounds i8, ptr %add.ptr.i17.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i19.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i20.i, align 8
  %ptr4.i24.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 4, i32 1
  %56 = load ptr, ptr %ptr4.i24.i, align 8
  %add.ptr.i26.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %56, i64 %idxprom.i
  %agg.tmp.sroa.0.4.vec.insert.i27.i = shufflevector <4 x float> %agg.tmp66.sroa.28.104.copyload, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i28.i = shufflevector <4 x float> %agg.tmp66.sroa.28.104.copyload, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i27.i, ptr %add.ptr.i26.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i29.i = getelementptr inbounds i8, ptr %add.ptr.i26.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i28.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i29.i, align 8
  %ptr4.i33.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 5, i32 1
  %57 = load ptr, ptr %ptr4.i33.i, align 8
  %add.ptr.i35.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %57, i64 %idxprom.i
  %agg.tmp.sroa.0.4.vec.insert.i36.i = shufflevector <4 x float> %agg.tmp66.sroa.30.120.copyload, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i37.i = shufflevector <4 x float> %agg.tmp66.sroa.30.120.copyload, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i36.i, ptr %add.ptr.i35.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i38.i = getelementptr inbounds i8, ptr %add.ptr.i35.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i37.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i38.i, align 8
  %x2.i.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 6, i32 1
  %58 = load ptr, ptr %x2.i.i, align 8
  %arrayidx.i.i = getelementptr inbounds float, ptr %58, i64 %idxprom.i
  store float %div.i.i.i.i, ptr %arrayidx.i.i, align 4
  %y4.i.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 6, i32 2
  %59 = load ptr, ptr %y4.i.i, align 8
  %arrayidx7.i.i = getelementptr inbounds float, ptr %59, i64 %idxprom.i
  store float %div.i.i3.i.i, ptr %arrayidx7.i.i, align 4
  %z9.i.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 6, i32 3
  %60 = load ptr, ptr %z9.i.i, align 8
  %arrayidx12.i.i = getelementptr inbounds float, ptr %60, i64 %idxprom.i
  store float %div.i.i6.i.i, ptr %arrayidx12.i.i, align 4
  %x2.i43.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 7, i32 1
  %61 = load ptr, ptr %x2.i43.i, align 8
  %arrayidx.i46.i = getelementptr inbounds float, ptr %61, i64 %idxprom.i
  store float %agg.tmp66.sroa.8.20.copyload, ptr %arrayidx.i46.i, align 4
  %y4.i48.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 7, i32 2
  %62 = load ptr, ptr %y4.i48.i, align 8
  %arrayidx7.i50.i = getelementptr inbounds float, ptr %62, i64 %idxprom.i
  store float %agg.tmp66.sroa.10.20.copyload, ptr %arrayidx7.i50.i, align 4
  %z9.i52.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 7, i32 3
  %63 = load ptr, ptr %z9.i52.i, align 8
  %arrayidx12.i54.i = getelementptr inbounds float, ptr %63, i64 %idxprom.i
  store float %agg.tmp66.sroa.11.20.copyload, ptr %arrayidx12.i54.i, align 4
  %x2.i57.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 8, i32 1
  %64 = load ptr, ptr %x2.i57.i, align 8
  %arrayidx.i60.i = getelementptr inbounds float, ptr %64, i64 %idxprom.i
  store float %46, ptr %arrayidx.i60.i, align 4
  %y4.i62.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 8, i32 2
  %65 = load ptr, ptr %y4.i62.i, align 8
  %arrayidx7.i64.i = getelementptr inbounds float, ptr %65, i64 %idxprom.i
  store float %47, ptr %arrayidx7.i64.i, align 4
  %x2.i67.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 9, i32 1
  %66 = load ptr, ptr %x2.i67.i, align 8
  %arrayidx.i70.i = getelementptr inbounds float, ptr %66, i64 %idxprom.i
  store float %agg.tmp66.sroa.16.40.copyload, ptr %arrayidx.i70.i, align 4
  %y4.i72.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 9, i32 2
  %67 = load ptr, ptr %y4.i72.i, align 8
  %arrayidx7.i74.i = getelementptr inbounds float, ptr %67, i64 %idxprom.i
  store float %agg.tmp66.sroa.18.40.copyload, ptr %arrayidx7.i74.i, align 4
  %z9.i76.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 9, i32 3
  %68 = load ptr, ptr %z9.i76.i, align 8
  %arrayidx12.i78.i = getelementptr inbounds float, ptr %68, i64 %idxprom.i
  store float %agg.tmp66.sroa.19.40.copyload, ptr %arrayidx12.i78.i, align 4
  %depth43.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 10
  %69 = load ptr, ptr %depth43.i, align 8
  %arrayidx46.i = getelementptr inbounds i32, ptr %69, i64 %idxprom.i
  store i32 %48, ptr %arrayidx46.i, align 4
  %low2.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 11, i32 1, i32 1, i32 1
  %70 = load ptr, ptr %low2.i.i.i.i, align 8
  %arrayidx.i.i.i.i = getelementptr inbounds float, ptr %70, i64 %idxprom.i
  store float %agg.tmp66.sroa.32.136.copyload, ptr %arrayidx.i.i.i.i, align 4
  %high4.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 11, i32 1, i32 1, i32 2
  %71 = load ptr, ptr %high4.i.i.i.i, align 8
  %arrayidx7.i.i.i.i = getelementptr inbounds float, ptr %71, i64 %idxprom.i
  store float %agg.tmp66.sroa.34.136.copyload, ptr %arrayidx7.i.i.i.i, align 4
  %low2.i5.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 11, i32 1, i32 2, i32 1
  %72 = load ptr, ptr %low2.i5.i.i.i, align 8
  %arrayidx.i8.i.i.i = getelementptr inbounds float, ptr %72, i64 %idxprom.i
  store float %agg.tmp66.sroa.35.136.copyload, ptr %arrayidx.i8.i.i.i, align 4
  %high4.i10.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 11, i32 1, i32 2, i32 2
  %73 = load ptr, ptr %high4.i10.i.i.i, align 8
  %arrayidx7.i12.i.i.i = getelementptr inbounds float, ptr %73, i64 %idxprom.i
  store float %agg.tmp66.sroa.36.136.copyload, ptr %arrayidx7.i12.i.i.i, align 4
  %low2.i15.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 11, i32 1, i32 3, i32 1
  %74 = load ptr, ptr %low2.i15.i.i.i, align 8
  %arrayidx.i18.i.i.i = getelementptr inbounds float, ptr %74, i64 %idxprom.i
  store float %agg.tmp66.sroa.37.136.copyload, ptr %arrayidx.i18.i.i.i, align 4
  %high4.i20.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 11, i32 1, i32 3, i32 2
  %75 = load ptr, ptr %high4.i20.i.i.i, align 8
  %arrayidx7.i22.i.i.i = getelementptr inbounds float, ptr %75, i64 %idxprom.i
  store float %agg.tmp66.sroa.38.136.copyload, ptr %arrayidx7.i22.i.i.i, align 4
  %x2.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 11, i32 2, i32 1
  %76 = load ptr, ptr %x2.i.i.i, align 8
  %arrayidx.i.i.i = getelementptr inbounds float, ptr %76, i64 %idxprom.i
  store float %agg.tmp66.sroa.39.136.copyload, ptr %arrayidx.i.i.i, align 4
  %y4.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 11, i32 2, i32 2
  %77 = load ptr, ptr %y4.i.i.i, align 8
  %arrayidx7.i.i.i = getelementptr inbounds float, ptr %77, i64 %idxprom.i
  store float %agg.tmp66.sroa.40.136.copyload, ptr %arrayidx7.i.i.i, align 4
  %z9.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 11, i32 2, i32 3
  %78 = load ptr, ptr %z9.i.i.i, align 8
  %arrayidx12.i.i.i = getelementptr inbounds float, ptr %78, i64 %idxprom.i
  store float %agg.tmp66.sroa.41.136.copyload, ptr %arrayidx12.i.i.i, align 4
  %x2.i10.i.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 11, i32 3, i32 1
  %79 = load ptr, ptr %x2.i10.i.i, align 8
  %arrayidx.i13.i.i = getelementptr inbounds float, ptr %79, i64 %idxprom.i
  store float %agg.tmp66.sroa.42.136.copyload, ptr %arrayidx.i13.i.i, align 4
  %y4.i15.i.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 11, i32 3, i32 2
  %80 = load ptr, ptr %y4.i15.i.i, align 8
  %arrayidx7.i17.i.i = getelementptr inbounds float, ptr %80, i64 %idxprom.i
  store float %agg.tmp66.sroa.43.136.copyload, ptr %arrayidx7.i17.i.i, align 4
  %z9.i19.i.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 11, i32 3, i32 3
  %81 = load ptr, ptr %z9.i19.i.i, align 8
  %arrayidx12.i21.i.i = getelementptr inbounds float, ptr %81, i64 %idxprom.i
  store float %agg.tmp66.sroa.44.136.copyload, ptr %arrayidx12.i21.i.i, align 4
  %specularBounce53.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 12
  %82 = load ptr, ptr %specularBounce53.i, align 8
  %arrayidx56.i = getelementptr inbounds i32, ptr %82, i64 %idxprom.i
  store i32 %49, ptr %arrayidx56.i, align 4
  %pixelIndex58.i = getelementptr inbounds %"struct.pbrt::SOA.141", ptr %hitAreaLightQueue, i64 0, i32 13
  %83 = load ptr, ptr %pixelIndex58.i, align 8
  %arrayidx61.i = getelementptr inbounds i32, ptr %83, i64 %idxprom.i
  store i32 %50, ptr %arrayidx61.i, align 4
  br label %if.end95

if.end95:                                         ; preds = %if.then65, %if.end62
  %84 = inttoptr i64 %and.i12 to ptr
  %shr.i.i.i = lshr i64 %material35.sroa.0.0.lcssa, 57
  %conv.i.i.i = trunc i64 %shr.i.i.i to i32
  switch i32 %conv.i.i.i, label %sw.default.i.i.i [
    i32 1, label %return.sink.split.i.i.i
    i32 2, label %return.sink.split.i.i.i
    i32 3, label %return.sink.split.i.i.i
    i32 4, label %sw.bb3.i.i.i
    i32 5, label %sw.bb4.i.i.i
    i32 6, label %return.sink.split.i.i.i
    i32 7, label %_ZNK4pbrt8Material15GetDisplacementEv.exit
    i32 8, label %return.sink.split.i.i.i
  ]

sw.bb3.i.i.i:                                     ; preds = %if.end95
  %displacement.i.i.i.i.i = getelementptr inbounds %"class.pbrt::DielectricMaterial", ptr %84, i64 0, i32 1
  br label %return.sink.split.i.i.i

sw.bb4.i.i.i:                                     ; preds = %if.end95
  %displacement.i.i18.i.i.i = getelementptr inbounds %"class.pbrt::DiffuseMaterial", ptr %84, i64 0, i32 1
  br label %return.sink.split.i.i.i

sw.default.i.i.i:                                 ; preds = %if.end95
  %sub.i.i = add nsw i32 %conv.i.i.i, -1
  %85 = and i32 %sub.i.i, -2
  %switch.i.i.i.i = icmp eq i32 %85, 8
  br i1 %switch.i.i.i.i, label %return.sink.split.i.i.i, label %sw.default.i.i.i.i

sw.default.i.i.i.i:                               ; preds = %sw.default.i.i.i
  call void @_ZN4pbrt8LogFatalENS_8LogLevelEPKciS2_(i32 noundef 2, ptr noundef nonnull @.str.15, i32 noundef 304, ptr noundef nonnull @.str.16) #24, !noalias !32
  unreachable

return.sink.split.i.i.i:                          ; preds = %sw.default.i.i.i, %sw.bb4.i.i.i, %sw.bb3.i.i.i, %if.end95, %if.end95, %if.end95, %if.end95, %if.end95
  %ptr.sink.i.i.i = phi ptr [ %displacement.i.i18.i.i.i, %sw.bb4.i.i.i ], [ %displacement.i.i.i.i.i, %sw.bb3.i.i.i ], [ %84, %sw.default.i.i.i ], [ %84, %if.end95 ], [ %84, %if.end95 ], [ %84, %if.end95 ], [ %84, %if.end95 ], [ %84, %if.end95 ]
  %storemerge.i.i.i.i = load i64, ptr %ptr.sink.i.i.i, align 8, !noalias !41
  br label %_ZNK4pbrt8Material15GetDisplacementEv.exit

_ZNK4pbrt8Material15GetDisplacementEv.exit:       ; preds = %if.end95, %return.sink.split.i.i.i
  %storemerge.i.sink.i.i.i = phi i64 [ 0, %if.end95 ], [ %storemerge.i.i.i.i, %return.sink.split.i.i.i ]
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %texEval.i27)
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %eval.i)
  store ptr %texEval.i27, ptr %eval.i, align 8
  %sub.i.i31 = add nsw i32 %conv.i.i.i, -1
  %call3.i.i = call noundef zeroext i1 @_ZN4pbrt6detail8DispatchIRZNKS_8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_EUlS5_E_bNS_21CoatedDiffuseMaterialENS_23CoatedConductorMaterialENS_17ConductorMaterialENS_18DielectricMaterialENS_15DiffuseMaterialENS_27DiffuseTransmissionMaterialENS_12HairMaterialENS_16MeasuredMaterialEJNS_18SubsurfaceMaterialENS_22ThinDielectricMaterialENS_11MixMaterialEEvEET0_OS5_PKvi(ptr noundef nonnull align 8 dereferenceable(8) %eval.i, ptr noundef nonnull %84, i32 noundef %sub.i.i31)
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %texEval.i27)
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %eval.i)
  br i1 %call3.i.i, label %land.lhs.true, label %cond.end106

land.lhs.true:                                    ; preds = %_ZNK4pbrt8Material15GetDisplacementEv.exit
  %and.i32 = and i64 %storemerge.i.sink.i.i.i, 144115188075855871
  %cmp.i33.not = icmp eq i64 %and.i32, 0
  br i1 %cmp.i33.not, label %cond.end106, label %land.lhs.true.i

land.lhs.true.i:                                  ; preds = %land.lhs.true
  %shr.i.mask.i.i35 = and i64 %storemerge.i.sink.i.i.i, -144115188075855872
  switch i64 %shr.i.mask.i.i35, label %cond.end106 [
    i64 864691128455135232, label %for.inc.i
    i64 144115188075855872, label %for.inc.i
    i64 1729382256910270464, label %for.inc.i
    i64 288230376151711744, label %for.inc.i
  ]

for.inc.i:                                        ; preds = %land.lhs.true.i, %land.lhs.true.i, %land.lhs.true.i, %land.lhs.true.i
  br label %cond.end106

cond.end106:                                      ; preds = %land.lhs.true.i, %for.inc.i, %_ZNK4pbrt8Material15GetDisplacementEv.exit, %land.lhs.true
  %cond = phi ptr [ %basicEvalMaterialQueue, %land.lhs.true ], [ %universalEvalMaterialQueue, %_ZNK4pbrt8Material15GetDisplacementEv.exit ], [ %basicEvalMaterialQueue, %for.inc.i ], [ %universalEvalMaterialQueue, %land.lhs.true.i ]
  store ptr %cond, ptr %enqueue, align 8
  %86 = getelementptr inbounds %class.anon.144, ptr %enqueue, i64 0, i32 1
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(72) %86, ptr noundef nonnull align 8 dereferenceable(72) %intr, i64 72, i1 false)
  %medium.i.i37 = getelementptr inbounds %class.anon.144, ptr %enqueue, i64 0, i32 1, i32 0, i32 6
  %medium3.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %intr, i64 0, i32 6
  %87 = load i64, ptr %medium3.i.i, align 8
  store i64 %87, ptr %medium.i.i37, align 8
  %dpdu.i38 = getelementptr inbounds %class.anon.144, ptr %enqueue, i64 0, i32 1, i32 1
  %dpdu2.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 1
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(112) %dpdu.i38, ptr noundef nonnull align 8 dereferenceable(112) %dpdu2.i, i64 112, i1 false)
  %material.i = getelementptr inbounds %class.anon.144, ptr %enqueue, i64 0, i32 1, i32 7
  %88 = load <2 x i64>, ptr %material36, align 8
  store <2 x i64> %88, ptr %material.i, align 8
  %dpdx.i = getelementptr inbounds %class.anon.144, ptr %enqueue, i64 0, i32 1, i32 9
  %dpdx5.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %intr, i64 0, i32 9
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(40) %dpdx.i, ptr noundef nonnull align 8 dereferenceable(40) %dpdx5.i, i64 40, i1 false)
  %89 = getelementptr inbounds %class.anon.144, ptr %enqueue, i64 0, i32 2
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(28) %89, ptr noundef nonnull align 8 dereferenceable(28) %r, i64 28, i1 false)
  %medium.i.i39 = getelementptr inbounds %class.anon.144, ptr %enqueue, i64 0, i32 2, i32 0, i32 3
  %medium3.i.i40 = getelementptr inbounds %"class.pbrt::Ray", ptr %r, i64 0, i32 3
  %90 = load i64, ptr %medium3.i.i40, align 8
  store i64 %90, ptr %medium.i.i39, align 8
  %depth.i = getelementptr inbounds %class.anon.144, ptr %enqueue, i64 0, i32 2, i32 1
  %depth3.i = getelementptr inbounds %"struct.pbrt::RayWorkItem", ptr %r, i64 0, i32 1
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(148) %depth.i, ptr noundef nonnull align 8 dereferenceable(148) %depth3.i, i64 148, i1 false)
  %91 = getelementptr inbounds %class.anon.144, ptr %enqueue, i64 0, i32 3
  store i64 %mediumInterface.sroa.0.0, ptr %91, align 8
  %outside.i41 = getelementptr inbounds %class.anon.144, ptr %enqueue, i64 0, i32 3, i32 1
  store i64 %mediumInterface.sroa.6.0, ptr %outside.i41, align 8
  call void @_ZN4pbrt6detail8DispatchIRZNS_28EnqueueWorkAfterIntersectionENS_11RayWorkItemENS_6MediumEfNS_18SurfaceInteractionEPNS_17MediumSampleQueueEPNS_8RayQueueEPNS_9WorkQueueINS_20HitAreaLightWorkItemEEEPNS_14MultiWorkQueueINS_8TypePackIJNS_20MaterialEvalWorkItemINS_21CoatedDiffuseMaterialEEENSF_INS_23CoatedConductorMaterialEEENSF_INS_17ConductorMaterialEEENSF_INS_18DielectricMaterialEEENSF_INS_15DiffuseMaterialEEENSF_INS_27DiffuseTransmissionMaterialEEENSF_INS_12HairMaterialEEENSF_INS_16MeasuredMaterialEEENSF_INS_18SubsurfaceMaterialEEENSF_INS_22ThinDielectricMaterialEEENSF_INS_11MixMaterialEEEEEEEES14_EUlT_E_vSG_SI_SK_SM_SO_SQ_SS_SU_JSW_SY_S10_EvEET0_OS15_Pvi(ptr noundef nonnull align 8 dereferenceable(464) %enqueue, ptr noundef nonnull %84, i32 noundef %sub.i.i31)
  br label %return

return:                                           ; preds = %cond.end106, %_ZNK4pbrt11Interaction8SpawnRayENS_7Vector3IfEE.exit, %if.then
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local noundef i32 @_ZN4pbrt8RayQueue15PushIndirectRayERKNS_3RayEiRKNS_18LightSampleContextERKNS_15SampledSpectrumES9_S9_RKNS_18SampledWavelengthsEfbbi(ptr noundef nonnull align 8 dereferenceable(404) %this, ptr noundef nonnull align 8 dereferenceable(40) %ray, i32 noundef %depth, ptr noundef nonnull align 4 dereferenceable(48) %prevIntrCtx, ptr noundef nonnull align 4 dereferenceable(16) %beta, ptr noundef nonnull align 4 dereferenceable(16) %r_u, ptr noundef nonnull align 4 dereferenceable(16) %r_l, ptr noundef nonnull align 4 dereferenceable(32) %lambda, float noundef %etaScale, i1 noundef zeroext %specularBounce, i1 noundef zeroext %anyNonSpecularBounces, i32 noundef %pixelIndex) local_unnamed_addr #9 comdat align 2 {
entry:
  %size.i = getelementptr inbounds %"class.pbrt::WorkQueue", ptr %this, i64 0, i32 1
  %0 = atomicrmw add ptr %size.i, i32 1 monotonic, align 4
  %1 = load float, ptr %ray, align 8
  %x2.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 1, i32 1, i32 1
  %2 = load ptr, ptr %x2.i.i, align 8
  %idxprom.i.i = sext i32 %0 to i64
  %arrayidx.i.i = getelementptr inbounds float, ptr %2, i64 %idxprom.i.i
  store float %1, ptr %arrayidx.i.i, align 4
  %y.i.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %ray, i64 0, i32 1
  %3 = load float, ptr %y.i.i, align 4
  %y4.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 1, i32 1, i32 2
  %4 = load ptr, ptr %y4.i.i, align 8
  %arrayidx7.i.i = getelementptr inbounds float, ptr %4, i64 %idxprom.i.i
  store float %3, ptr %arrayidx7.i.i, align 4
  %z.i.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %ray, i64 0, i32 2
  %5 = load float, ptr %z.i.i, align 8
  %z9.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 1, i32 1, i32 3
  %6 = load ptr, ptr %z9.i.i, align 8
  %arrayidx12.i.i = getelementptr inbounds float, ptr %6, i64 %idxprom.i.i
  store float %5, ptr %arrayidx12.i.i, align 4
  %d.i = getelementptr inbounds %"class.pbrt::Ray", ptr %ray, i64 0, i32 1
  %7 = load float, ptr %d.i, align 4
  %x2.i6.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 1, i32 2, i32 1
  %8 = load ptr, ptr %x2.i6.i, align 8
  %arrayidx.i9.i = getelementptr inbounds float, ptr %8, i64 %idxprom.i.i
  store float %7, ptr %arrayidx.i9.i, align 4
  %y.i10.i = getelementptr inbounds %"class.pbrt::Ray", ptr %ray, i64 0, i32 1, i32 0, i32 1
  %9 = load float, ptr %y.i10.i, align 8
  %y4.i11.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 1, i32 2, i32 2
  %10 = load ptr, ptr %y4.i11.i, align 8
  %arrayidx7.i13.i = getelementptr inbounds float, ptr %10, i64 %idxprom.i.i
  store float %9, ptr %arrayidx7.i13.i, align 4
  %z.i14.i = getelementptr inbounds %"class.pbrt::Ray", ptr %ray, i64 0, i32 1, i32 0, i32 2
  %11 = load float, ptr %z.i14.i, align 4
  %z9.i15.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 1, i32 2, i32 3
  %12 = load ptr, ptr %z9.i15.i, align 8
  %arrayidx12.i17.i = getelementptr inbounds float, ptr %12, i64 %idxprom.i.i
  store float %11, ptr %arrayidx12.i17.i, align 4
  %time.i = getelementptr inbounds %"class.pbrt::Ray", ptr %ray, i64 0, i32 2
  %13 = load float, ptr %time.i, align 8
  %time9.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 1, i32 3
  %14 = load ptr, ptr %time9.i, align 8
  %arrayidx.i = getelementptr inbounds float, ptr %14, i64 %idxprom.i.i
  store float %13, ptr %arrayidx.i, align 4
  %medium.i = getelementptr inbounds %"class.pbrt::Ray", ptr %ray, i64 0, i32 3
  %medium12.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 1, i32 4
  %15 = load ptr, ptr %medium12.i, align 8
  %arrayidx15.i = getelementptr inbounds %"class.pbrt::Medium", ptr %15, i64 %idxprom.i.i
  %16 = load i64, ptr %medium.i, align 8
  store i64 %16, ptr %arrayidx15.i, align 8
  %depth5 = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 2
  %17 = load ptr, ptr %depth5, align 8
  %arrayidx = getelementptr inbounds i32, ptr %17, i64 %idxprom.i.i
  store i32 %depth, ptr %arrayidx, align 4
  %pixelIndex6 = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 3
  %18 = load ptr, ptr %pixelIndex6, align 8
  %arrayidx8 = getelementptr inbounds i32, ptr %18, i64 %idxprom.i.i
  store i32 %pixelIndex, ptr %arrayidx8, align 4
  %19 = load float, ptr %prevIntrCtx, align 4
  %low2.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 8, i32 1, i32 1, i32 1
  %20 = load ptr, ptr %low2.i.i.i, align 8
  %arrayidx.i.i.i = getelementptr inbounds float, ptr %20, i64 %idxprom.i.i
  store float %19, ptr %arrayidx.i.i.i, align 4
  %high.i.i.i = getelementptr inbounds %"class.pbrt::Interval", ptr %prevIntrCtx, i64 0, i32 1
  %21 = load float, ptr %high.i.i.i, align 4
  %high4.i.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 8, i32 1, i32 1, i32 2
  %22 = load ptr, ptr %high4.i.i.i, align 8
  %arrayidx7.i.i.i = getelementptr inbounds float, ptr %22, i64 %idxprom.i.i
  store float %21, ptr %arrayidx7.i.i.i, align 4
  %y.i.i15 = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %prevIntrCtx, i64 0, i32 1
  %23 = load float, ptr %y.i.i15, align 4
  %low2.i5.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 8, i32 1, i32 2, i32 1
  %24 = load ptr, ptr %low2.i5.i.i, align 8
  %arrayidx.i8.i.i = getelementptr inbounds float, ptr %24, i64 %idxprom.i.i
  store float %23, ptr %arrayidx.i8.i.i, align 4
  %high.i9.i.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %prevIntrCtx, i64 0, i32 1, i32 1
  %25 = load float, ptr %high.i9.i.i, align 4
  %high4.i10.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 8, i32 1, i32 2, i32 2
  %26 = load ptr, ptr %high4.i10.i.i, align 8
  %arrayidx7.i12.i.i = getelementptr inbounds float, ptr %26, i64 %idxprom.i.i
  store float %25, ptr %arrayidx7.i12.i.i, align 4
  %z.i.i16 = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %prevIntrCtx, i64 0, i32 2
  %27 = load float, ptr %z.i.i16, align 4
  %low2.i15.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 8, i32 1, i32 3, i32 1
  %28 = load ptr, ptr %low2.i15.i.i, align 8
  %arrayidx.i18.i.i = getelementptr inbounds float, ptr %28, i64 %idxprom.i.i
  store float %27, ptr %arrayidx.i18.i.i, align 4
  %high.i19.i.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %prevIntrCtx, i64 0, i32 2, i32 1
  %29 = load float, ptr %high.i19.i.i, align 4
  %high4.i20.i.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 8, i32 1, i32 3, i32 2
  %30 = load ptr, ptr %high4.i20.i.i, align 8
  %arrayidx7.i22.i.i = getelementptr inbounds float, ptr %30, i64 %idxprom.i.i
  store float %29, ptr %arrayidx7.i22.i.i, align 4
  %n.i = getelementptr inbounds %"class.pbrt::LightSampleContext", ptr %prevIntrCtx, i64 0, i32 1
  %31 = load float, ptr %n.i, align 4
  %x2.i.i17 = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 8, i32 2, i32 1
  %32 = load ptr, ptr %x2.i.i17, align 8
  %arrayidx.i.i19 = getelementptr inbounds float, ptr %32, i64 %idxprom.i.i
  store float %31, ptr %arrayidx.i.i19, align 4
  %y.i6.i = getelementptr inbounds %"class.pbrt::LightSampleContext", ptr %prevIntrCtx, i64 0, i32 1, i32 0, i32 1
  %33 = load float, ptr %y.i6.i, align 4
  %y4.i.i20 = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 8, i32 2, i32 2
  %34 = load ptr, ptr %y4.i.i20, align 8
  %arrayidx7.i.i21 = getelementptr inbounds float, ptr %34, i64 %idxprom.i.i
  store float %33, ptr %arrayidx7.i.i21, align 4
  %z.i7.i = getelementptr inbounds %"class.pbrt::LightSampleContext", ptr %prevIntrCtx, i64 0, i32 1, i32 0, i32 2
  %35 = load float, ptr %z.i7.i, align 4
  %z9.i.i22 = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 8, i32 2, i32 3
  %36 = load ptr, ptr %z9.i.i22, align 8
  %arrayidx12.i.i23 = getelementptr inbounds float, ptr %36, i64 %idxprom.i.i
  store float %35, ptr %arrayidx12.i.i23, align 4
  %ns.i = getelementptr inbounds %"class.pbrt::LightSampleContext", ptr %prevIntrCtx, i64 0, i32 2
  %37 = load float, ptr %ns.i, align 4
  %x2.i10.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 8, i32 3, i32 1
  %38 = load ptr, ptr %x2.i10.i, align 8
  %arrayidx.i13.i = getelementptr inbounds float, ptr %38, i64 %idxprom.i.i
  store float %37, ptr %arrayidx.i13.i, align 4
  %y.i14.i = getelementptr inbounds %"class.pbrt::LightSampleContext", ptr %prevIntrCtx, i64 0, i32 2, i32 0, i32 1
  %39 = load float, ptr %y.i14.i, align 4
  %y4.i15.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 8, i32 3, i32 2
  %40 = load ptr, ptr %y4.i15.i, align 8
  %arrayidx7.i17.i = getelementptr inbounds float, ptr %40, i64 %idxprom.i.i
  store float %39, ptr %arrayidx7.i17.i, align 4
  %z.i18.i = getelementptr inbounds %"class.pbrt::LightSampleContext", ptr %prevIntrCtx, i64 0, i32 2, i32 0, i32 2
  %41 = load float, ptr %z.i18.i, align 4
  %z9.i19.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 8, i32 3, i32 3
  %42 = load ptr, ptr %z9.i19.i, align 8
  %arrayidx12.i21.i = getelementptr inbounds float, ptr %42, i64 %idxprom.i.i
  store float %41, ptr %arrayidx12.i21.i, align 4
  %ptr4.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 5, i32 1
  %43 = load ptr, ptr %ptr4.i, align 8
  %add.ptr.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %43, i64 %idxprom.i.i
  %44 = load <4 x float>, ptr %beta, align 4
  %agg.tmp.sroa.0.4.vec.insert.i = shufflevector <4 x float> %44, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i = shufflevector <4 x float> %44, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i, ptr %add.ptr.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %add.ptr.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i, align 8
  %ptr4.i29 = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 6, i32 1
  %45 = load ptr, ptr %ptr4.i29, align 8
  %add.ptr.i31 = getelementptr inbounds %"struct.pbrt::Float4", ptr %45, i64 %idxprom.i.i
  %46 = load <4 x float>, ptr %r_u, align 4
  %agg.tmp.sroa.0.4.vec.insert.i32 = shufflevector <4 x float> %46, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i33 = shufflevector <4 x float> %46, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i32, ptr %add.ptr.i31, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i34 = getelementptr inbounds i8, ptr %add.ptr.i31, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i33, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i34, align 8
  %ptr4.i38 = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 7, i32 1
  %47 = load ptr, ptr %ptr4.i38, align 8
  %add.ptr.i40 = getelementptr inbounds %"struct.pbrt::Float4", ptr %47, i64 %idxprom.i.i
  %48 = load <4 x float>, ptr %r_l, align 4
  %agg.tmp.sroa.0.4.vec.insert.i41 = shufflevector <4 x float> %48, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i42 = shufflevector <4 x float> %48, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i41, ptr %add.ptr.i40, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i43 = getelementptr inbounds i8, ptr %add.ptr.i40, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i42, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i43, align 8
  %arrayidx.i23.i = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 2
  %pdf.i = getelementptr inbounds %"class.pbrt::SampledWavelengths", ptr %lambda, i64 0, i32 1
  %lambda4.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 4, i32 1
  %49 = load ptr, ptr %lambda4.i, align 8
  %add.ptr.i48 = getelementptr inbounds %"struct.pbrt::Float4", ptr %49, i64 %idxprom.i.i
  %50 = load <4 x float>, ptr %lambda, align 4
  %agg.tmp.sroa.0.4.vec.insert.i49 = shufflevector <4 x float> %50, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %51 = load <4 x float>, ptr %arrayidx.i23.i, align 4
  %agg.tmp.sroa.3.12.vec.insert.i50 = shufflevector <4 x float> %51, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i49, ptr %add.ptr.i48, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i51 = getelementptr inbounds i8, ptr %add.ptr.i48, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i50, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i51, align 8
  %pdf4.i = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 4, i32 2
  %52 = load ptr, ptr %pdf4.i, align 8
  %add.ptr21.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %52, i64 %idxprom.i.i
  %53 = load <4 x float>, ptr %pdf.i, align 4
  %agg.tmp22.sroa.0.4.vec.insert.i = shufflevector <4 x float> %53, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp22.sroa.3.12.vec.insert.i = shufflevector <4 x float> %53, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp22.sroa.0.4.vec.insert.i, ptr %add.ptr21.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i28.i = getelementptr inbounds i8, ptr %add.ptr21.i, i64 8
  store <2 x float> %agg.tmp22.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i28.i, align 8
  %conv = zext i1 %anyNonSpecularBounces to i32
  %anyNonSpecularBounces24 = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 11
  %54 = load ptr, ptr %anyNonSpecularBounces24, align 8
  %arrayidx26 = getelementptr inbounds i32, ptr %54, i64 %idxprom.i.i
  store i32 %conv, ptr %arrayidx26, align 4
  %conv28 = zext i1 %specularBounce to i32
  %specularBounce29 = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 10
  %55 = load ptr, ptr %specularBounce29, align 8
  %arrayidx31 = getelementptr inbounds i32, ptr %55, i64 %idxprom.i.i
  store i32 %conv28, ptr %arrayidx31, align 4
  %etaScale32 = getelementptr inbounds %"struct.pbrt::SOA", ptr %this, i64 0, i32 9
  %56 = load ptr, ptr %etaScale32, align 8
  %arrayidx34 = getelementptr inbounds float, ptr %56, i64 %idxprom.i.i
  store float %etaScale, ptr %arrayidx34, align 4
  ret i32 %0
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt3SOAINS_20MediumSampleWorkItemEE16GetSetIndirectoraSERKS1_(ptr noundef nonnull align 8 dereferenceable(16) %this, ptr noundef nonnull align 8 dereferenceable(368) %a) local_unnamed_addr #9 comdat align 2 {
entry:
  %0 = load ptr, ptr %this, align 8
  %i = getelementptr inbounds %"struct.pbrt::SOA<pbrt::MediumSampleWorkItem>::GetSetIndirector", ptr %this, i64 0, i32 1
  %1 = load i32, ptr %i, align 8
  %2 = load float, ptr %a, align 8
  %x2.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %0, i64 0, i32 1, i32 1, i32 1
  %3 = load ptr, ptr %x2.i.i, align 8
  %idxprom.i.i = sext i32 %1 to i64
  %arrayidx.i.i = getelementptr inbounds float, ptr %3, i64 %idxprom.i.i
  store float %2, ptr %arrayidx.i.i, align 4
  %y.i.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %a, i64 0, i32 1
  %4 = load float, ptr %y.i.i, align 4
  %y4.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %0, i64 0, i32 1, i32 1, i32 2
  %5 = load ptr, ptr %y4.i.i, align 8
  %arrayidx7.i.i = getelementptr inbounds float, ptr %5, i64 %idxprom.i.i
  store float %4, ptr %arrayidx7.i.i, align 4
  %z.i.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %a, i64 0, i32 2
  %6 = load float, ptr %z.i.i, align 8
  %z9.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %0, i64 0, i32 1, i32 1, i32 3
  %7 = load ptr, ptr %z9.i.i, align 8
  %arrayidx12.i.i = getelementptr inbounds float, ptr %7, i64 %idxprom.i.i
  store float %6, ptr %arrayidx12.i.i, align 4
  %d.i = getelementptr inbounds %"class.pbrt::Ray", ptr %a, i64 0, i32 1
  %8 = load float, ptr %d.i, align 4
  %x2.i6.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %0, i64 0, i32 1, i32 2, i32 1
  %9 = load ptr, ptr %x2.i6.i, align 8
  %arrayidx.i9.i = getelementptr inbounds float, ptr %9, i64 %idxprom.i.i
  store float %8, ptr %arrayidx.i9.i, align 4
  %y.i10.i = getelementptr inbounds %"class.pbrt::Ray", ptr %a, i64 0, i32 1, i32 0, i32 1
  %10 = load float, ptr %y.i10.i, align 8
  %y4.i11.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %0, i64 0, i32 1, i32 2, i32 2
  %11 = load ptr, ptr %y4.i11.i, align 8
  %arrayidx7.i13.i = getelementptr inbounds float, ptr %11, i64 %idxprom.i.i
  store float %10, ptr %arrayidx7.i13.i, align 4
  %z.i14.i = getelementptr inbounds %"class.pbrt::Ray", ptr %a, i64 0, i32 1, i32 0, i32 2
  %12 = load float, ptr %z.i14.i, align 4
  %z9.i15.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %0, i64 0, i32 1, i32 2, i32 3
  %13 = load ptr, ptr %z9.i15.i, align 8
  %arrayidx12.i17.i = getelementptr inbounds float, ptr %13, i64 %idxprom.i.i
  store float %12, ptr %arrayidx12.i17.i, align 4
  %time.i = getelementptr inbounds %"class.pbrt::Ray", ptr %a, i64 0, i32 2
  %14 = load float, ptr %time.i, align 8
  %time9.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %0, i64 0, i32 1, i32 3
  %15 = load ptr, ptr %time9.i, align 8
  %arrayidx.i = getelementptr inbounds float, ptr %15, i64 %idxprom.i.i
  store float %14, ptr %arrayidx.i, align 4
  %medium.i = getelementptr inbounds %"class.pbrt::Ray", ptr %a, i64 0, i32 3
  %medium12.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %0, i64 0, i32 1, i32 4
  %16 = load ptr, ptr %medium12.i, align 8
  %arrayidx15.i = getelementptr inbounds %"class.pbrt::Medium", ptr %16, i64 %idxprom.i.i
  %17 = load i64, ptr %medium.i, align 8
  store i64 %17, ptr %arrayidx15.i, align 8
  %depth = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 1
  %18 = load i32, ptr %depth, align 8
  %19 = load ptr, ptr %this, align 8
  %depth4 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %19, i64 0, i32 2
  %20 = load ptr, ptr %depth4, align 8
  %21 = load i32, ptr %i, align 8
  %idxprom = sext i32 %21 to i64
  %arrayidx = getelementptr inbounds i32, ptr %20, i64 %idxprom
  store i32 %18, ptr %arrayidx, align 4
  %tMax = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 2
  %22 = load float, ptr %tMax, align 4
  %23 = load ptr, ptr %this, align 8
  %tMax7 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %23, i64 0, i32 3
  %24 = load ptr, ptr %tMax7, align 8
  %25 = load i32, ptr %i, align 8
  %idxprom9 = sext i32 %25 to i64
  %arrayidx10 = getelementptr inbounds float, ptr %24, i64 %idxprom9
  store float %22, ptr %arrayidx10, align 4
  %lambda = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 3
  %26 = load ptr, ptr %this, align 8
  %27 = load i32, ptr %i, align 8
  %arrayidx.i23.i = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 3, i32 0, i32 0, i64 2
  %pdf.i = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 3, i32 1
  %lambda4.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %26, i64 0, i32 4, i32 1
  %28 = load ptr, ptr %lambda4.i, align 8
  %idx.ext.i = sext i32 %27 to i64
  %add.ptr.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %28, i64 %idx.ext.i
  %29 = load <4 x float>, ptr %lambda, align 8
  %agg.tmp.sroa.0.4.vec.insert.i = shufflevector <4 x float> %29, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %30 = load <4 x float>, ptr %arrayidx.i23.i, align 8
  %agg.tmp.sroa.3.12.vec.insert.i = shufflevector <4 x float> %30, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i, ptr %add.ptr.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %add.ptr.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i, align 8
  %pdf4.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %26, i64 0, i32 4, i32 2
  %31 = load ptr, ptr %pdf4.i, align 8
  %add.ptr21.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %31, i64 %idx.ext.i
  %32 = load <4 x float>, ptr %pdf.i, align 8
  %agg.tmp22.sroa.0.4.vec.insert.i = shufflevector <4 x float> %32, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp22.sroa.3.12.vec.insert.i = shufflevector <4 x float> %32, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp22.sroa.0.4.vec.insert.i, ptr %add.ptr21.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i28.i = getelementptr inbounds i8, ptr %add.ptr21.i, i64 8
  store <2 x float> %agg.tmp22.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i28.i, align 8
  %beta = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 4
  %33 = load ptr, ptr %this, align 8
  %34 = load i32, ptr %i, align 8
  %ptr4.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %33, i64 0, i32 5, i32 1
  %35 = load ptr, ptr %ptr4.i, align 8
  %idx.ext.i32 = sext i32 %34 to i64
  %add.ptr.i33 = getelementptr inbounds %"struct.pbrt::Float4", ptr %35, i64 %idx.ext.i32
  %36 = load <4 x float>, ptr %beta, align 8
  %agg.tmp.sroa.0.4.vec.insert.i34 = shufflevector <4 x float> %36, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i35 = shufflevector <4 x float> %36, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i34, ptr %add.ptr.i33, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i36 = getelementptr inbounds i8, ptr %add.ptr.i33, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i35, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i36, align 8
  %r_u = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 5
  %37 = load ptr, ptr %this, align 8
  %38 = load i32, ptr %i, align 8
  %ptr4.i40 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %37, i64 0, i32 6, i32 1
  %39 = load ptr, ptr %ptr4.i40, align 8
  %idx.ext.i41 = sext i32 %38 to i64
  %add.ptr.i42 = getelementptr inbounds %"struct.pbrt::Float4", ptr %39, i64 %idx.ext.i41
  %40 = load <4 x float>, ptr %r_u, align 8
  %agg.tmp.sroa.0.4.vec.insert.i43 = shufflevector <4 x float> %40, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i44 = shufflevector <4 x float> %40, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i43, ptr %add.ptr.i42, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i45 = getelementptr inbounds i8, ptr %add.ptr.i42, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i44, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i45, align 8
  %r_l = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 6
  %41 = load ptr, ptr %this, align 8
  %42 = load i32, ptr %i, align 8
  %ptr4.i49 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %41, i64 0, i32 7, i32 1
  %43 = load ptr, ptr %ptr4.i49, align 8
  %idx.ext.i50 = sext i32 %42 to i64
  %add.ptr.i51 = getelementptr inbounds %"struct.pbrt::Float4", ptr %43, i64 %idx.ext.i50
  %44 = load <4 x float>, ptr %r_l, align 8
  %agg.tmp.sroa.0.4.vec.insert.i52 = shufflevector <4 x float> %44, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i53 = shufflevector <4 x float> %44, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i52, ptr %add.ptr.i51, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i54 = getelementptr inbounds i8, ptr %add.ptr.i51, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i53, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i54, align 8
  %pixelIndex = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 7
  %45 = load i32, ptr %pixelIndex, align 8
  %46 = load ptr, ptr %this, align 8
  %pixelIndex32 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %46, i64 0, i32 8
  %47 = load ptr, ptr %pixelIndex32, align 8
  %48 = load i32, ptr %i, align 8
  %idxprom34 = sext i32 %48 to i64
  %arrayidx35 = getelementptr inbounds i32, ptr %47, i64 %idxprom34
  store i32 %45, ptr %arrayidx35, align 4
  %areaLight = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 12
  %49 = load ptr, ptr %this, align 8
  %areaLight37 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %49, i64 0, i32 9
  %50 = load ptr, ptr %areaLight37, align 8
  %51 = load i32, ptr %i, align 8
  %idxprom39 = sext i32 %51 to i64
  %arrayidx40 = getelementptr inbounds %"class.pbrt::Light", ptr %50, i64 %idxprom39
  %52 = load i64, ptr %areaLight, align 8
  store i64 %52, ptr %arrayidx40, align 8
  %pi = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 13
  %53 = load ptr, ptr %this, align 8
  %54 = load i32, ptr %i, align 8
  %55 = load float, ptr %pi, align 8
  %low2.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %53, i64 0, i32 10, i32 1, i32 1
  %56 = load ptr, ptr %low2.i.i, align 8
  %idxprom.i.i58 = sext i32 %54 to i64
  %arrayidx.i.i59 = getelementptr inbounds float, ptr %56, i64 %idxprom.i.i58
  store float %55, ptr %arrayidx.i.i59, align 4
  %high.i.i = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 13, i32 0, i32 0, i32 0, i32 1
  %57 = load float, ptr %high.i.i, align 4
  %high4.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %53, i64 0, i32 10, i32 1, i32 2
  %58 = load ptr, ptr %high4.i.i, align 8
  %arrayidx7.i.i60 = getelementptr inbounds float, ptr %58, i64 %idxprom.i.i58
  store float %57, ptr %arrayidx7.i.i60, align 4
  %y.i = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 13, i32 0, i32 0, i32 1
  %59 = load float, ptr %y.i, align 8
  %low2.i5.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %53, i64 0, i32 10, i32 2, i32 1
  %60 = load ptr, ptr %low2.i5.i, align 8
  %arrayidx.i8.i = getelementptr inbounds float, ptr %60, i64 %idxprom.i.i58
  store float %59, ptr %arrayidx.i8.i, align 4
  %high.i9.i = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 13, i32 0, i32 0, i32 1, i32 1
  %61 = load float, ptr %high.i9.i, align 4
  %high4.i10.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %53, i64 0, i32 10, i32 2, i32 2
  %62 = load ptr, ptr %high4.i10.i, align 8
  %arrayidx7.i12.i = getelementptr inbounds float, ptr %62, i64 %idxprom.i.i58
  store float %61, ptr %arrayidx7.i12.i, align 4
  %z.i = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 13, i32 0, i32 0, i32 2
  %63 = load float, ptr %z.i, align 8
  %low2.i15.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %53, i64 0, i32 10, i32 3, i32 1
  %64 = load ptr, ptr %low2.i15.i, align 8
  %arrayidx.i18.i = getelementptr inbounds float, ptr %64, i64 %idxprom.i.i58
  store float %63, ptr %arrayidx.i18.i, align 4
  %high.i19.i = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 13, i32 0, i32 0, i32 2, i32 1
  %65 = load float, ptr %high.i19.i, align 4
  %high4.i20.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %53, i64 0, i32 10, i32 3, i32 2
  %66 = load ptr, ptr %high4.i20.i, align 8
  %arrayidx7.i22.i = getelementptr inbounds float, ptr %66, i64 %idxprom.i.i58
  store float %65, ptr %arrayidx7.i22.i, align 4
  %n = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 14
  %67 = load ptr, ptr %this, align 8
  %68 = load i32, ptr %i, align 8
  %69 = load float, ptr %n, align 8
  %x2.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %67, i64 0, i32 11, i32 1
  %70 = load ptr, ptr %x2.i, align 8
  %idxprom.i64 = sext i32 %68 to i64
  %arrayidx.i65 = getelementptr inbounds float, ptr %70, i64 %idxprom.i64
  store float %69, ptr %arrayidx.i65, align 4
  %y.i66 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 14, i32 0, i32 1
  %71 = load float, ptr %y.i66, align 4
  %y4.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %67, i64 0, i32 11, i32 2
  %72 = load ptr, ptr %y4.i, align 8
  %arrayidx7.i = getelementptr inbounds float, ptr %72, i64 %idxprom.i64
  store float %71, ptr %arrayidx7.i, align 4
  %z.i67 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 14, i32 0, i32 2
  %73 = load float, ptr %z.i67, align 8
  %z9.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %67, i64 0, i32 11, i32 3
  %74 = load ptr, ptr %z9.i, align 8
  %arrayidx12.i = getelementptr inbounds float, ptr %74, i64 %idxprom.i64
  store float %73, ptr %arrayidx12.i, align 4
  %dpdu = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 15
  %75 = load ptr, ptr %this, align 8
  %76 = load i32, ptr %i, align 8
  %77 = load float, ptr %dpdu, align 4
  %x2.i70 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %75, i64 0, i32 12, i32 1
  %78 = load ptr, ptr %x2.i70, align 8
  %idxprom.i72 = sext i32 %76 to i64
  %arrayidx.i73 = getelementptr inbounds float, ptr %78, i64 %idxprom.i72
  store float %77, ptr %arrayidx.i73, align 4
  %y.i74 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 15, i32 0, i32 1
  %79 = load float, ptr %y.i74, align 8
  %y4.i75 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %75, i64 0, i32 12, i32 2
  %80 = load ptr, ptr %y4.i75, align 8
  %arrayidx7.i77 = getelementptr inbounds float, ptr %80, i64 %idxprom.i72
  store float %79, ptr %arrayidx7.i77, align 4
  %z.i78 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 15, i32 0, i32 2
  %81 = load float, ptr %z.i78, align 4
  %z9.i79 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %75, i64 0, i32 12, i32 3
  %82 = load ptr, ptr %z9.i79, align 8
  %arrayidx12.i81 = getelementptr inbounds float, ptr %82, i64 %idxprom.i72
  store float %81, ptr %arrayidx12.i81, align 4
  %dpdv = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 16
  %83 = load ptr, ptr %this, align 8
  %84 = load i32, ptr %i, align 8
  %85 = load float, ptr %dpdv, align 8
  %x2.i84 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %83, i64 0, i32 13, i32 1
  %86 = load ptr, ptr %x2.i84, align 8
  %idxprom.i86 = sext i32 %84 to i64
  %arrayidx.i87 = getelementptr inbounds float, ptr %86, i64 %idxprom.i86
  store float %85, ptr %arrayidx.i87, align 4
  %y.i88 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 16, i32 0, i32 1
  %87 = load float, ptr %y.i88, align 4
  %y4.i89 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %83, i64 0, i32 13, i32 2
  %88 = load ptr, ptr %y4.i89, align 8
  %arrayidx7.i91 = getelementptr inbounds float, ptr %88, i64 %idxprom.i86
  store float %87, ptr %arrayidx7.i91, align 4
  %z.i92 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 16, i32 0, i32 2
  %89 = load float, ptr %z.i92, align 8
  %z9.i93 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %83, i64 0, i32 13, i32 3
  %90 = load ptr, ptr %z9.i93, align 8
  %arrayidx12.i95 = getelementptr inbounds float, ptr %90, i64 %idxprom.i86
  store float %89, ptr %arrayidx12.i95, align 4
  %wo = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 17
  %91 = load ptr, ptr %this, align 8
  %92 = load i32, ptr %i, align 8
  %93 = load float, ptr %wo, align 4
  %x2.i98 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %91, i64 0, i32 14, i32 1
  %94 = load ptr, ptr %x2.i98, align 8
  %idxprom.i100 = sext i32 %92 to i64
  %arrayidx.i101 = getelementptr inbounds float, ptr %94, i64 %idxprom.i100
  store float %93, ptr %arrayidx.i101, align 4
  %y.i102 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 17, i32 0, i32 1
  %95 = load float, ptr %y.i102, align 8
  %y4.i103 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %91, i64 0, i32 14, i32 2
  %96 = load ptr, ptr %y4.i103, align 8
  %arrayidx7.i105 = getelementptr inbounds float, ptr %96, i64 %idxprom.i100
  store float %95, ptr %arrayidx7.i105, align 4
  %z.i106 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 17, i32 0, i32 2
  %97 = load float, ptr %z.i106, align 4
  %z9.i107 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %91, i64 0, i32 14, i32 3
  %98 = load ptr, ptr %z9.i107, align 8
  %arrayidx12.i109 = getelementptr inbounds float, ptr %98, i64 %idxprom.i100
  store float %97, ptr %arrayidx12.i109, align 4
  %uv = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 18
  %99 = load ptr, ptr %this, align 8
  %100 = load i32, ptr %i, align 8
  %101 = load float, ptr %uv, align 8
  %x2.i112 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %99, i64 0, i32 15, i32 1
  %102 = load ptr, ptr %x2.i112, align 8
  %idxprom.i114 = sext i32 %100 to i64
  %arrayidx.i115 = getelementptr inbounds float, ptr %102, i64 %idxprom.i114
  store float %101, ptr %arrayidx.i115, align 4
  %y.i116 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 18, i32 0, i32 1
  %103 = load float, ptr %y.i116, align 4
  %y4.i117 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %99, i64 0, i32 15, i32 2
  %104 = load ptr, ptr %y4.i117, align 8
  %arrayidx7.i119 = getelementptr inbounds float, ptr %104, i64 %idxprom.i114
  store float %103, ptr %arrayidx7.i119, align 4
  %prevIntrCtx = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 8
  %105 = load ptr, ptr %this, align 8
  %106 = load i32, ptr %i, align 8
  %107 = load float, ptr %prevIntrCtx, align 4
  %low2.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %105, i64 0, i32 16, i32 1, i32 1, i32 1
  %108 = load ptr, ptr %low2.i.i.i, align 8
  %idxprom.i.i.i = sext i32 %106 to i64
  %arrayidx.i.i.i = getelementptr inbounds float, ptr %108, i64 %idxprom.i.i.i
  store float %107, ptr %arrayidx.i.i.i, align 4
  %high.i.i.i = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 8, i32 0, i32 0, i32 0, i32 0, i32 1
  %109 = load float, ptr %high.i.i.i, align 8
  %high4.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %105, i64 0, i32 16, i32 1, i32 1, i32 2
  %110 = load ptr, ptr %high4.i.i.i, align 8
  %arrayidx7.i.i.i = getelementptr inbounds float, ptr %110, i64 %idxprom.i.i.i
  store float %109, ptr %arrayidx7.i.i.i, align 4
  %y.i.i123 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 8, i32 0, i32 0, i32 0, i32 1
  %111 = load float, ptr %y.i.i123, align 4
  %low2.i5.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %105, i64 0, i32 16, i32 1, i32 2, i32 1
  %112 = load ptr, ptr %low2.i5.i.i, align 8
  %arrayidx.i8.i.i = getelementptr inbounds float, ptr %112, i64 %idxprom.i.i.i
  store float %111, ptr %arrayidx.i8.i.i, align 4
  %high.i9.i.i = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 8, i32 0, i32 0, i32 0, i32 1, i32 1
  %113 = load float, ptr %high.i9.i.i, align 8
  %high4.i10.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %105, i64 0, i32 16, i32 1, i32 2, i32 2
  %114 = load ptr, ptr %high4.i10.i.i, align 8
  %arrayidx7.i12.i.i = getelementptr inbounds float, ptr %114, i64 %idxprom.i.i.i
  store float %113, ptr %arrayidx7.i12.i.i, align 4
  %z.i.i124 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 8, i32 0, i32 0, i32 0, i32 2
  %115 = load float, ptr %z.i.i124, align 4
  %low2.i15.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %105, i64 0, i32 16, i32 1, i32 3, i32 1
  %116 = load ptr, ptr %low2.i15.i.i, align 8
  %arrayidx.i18.i.i = getelementptr inbounds float, ptr %116, i64 %idxprom.i.i.i
  store float %115, ptr %arrayidx.i18.i.i, align 4
  %high.i19.i.i = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 8, i32 0, i32 0, i32 0, i32 2, i32 1
  %117 = load float, ptr %high.i19.i.i, align 8
  %high4.i20.i.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %105, i64 0, i32 16, i32 1, i32 3, i32 2
  %118 = load ptr, ptr %high4.i20.i.i, align 8
  %arrayidx7.i22.i.i = getelementptr inbounds float, ptr %118, i64 %idxprom.i.i.i
  store float %117, ptr %arrayidx7.i22.i.i, align 4
  %n.i = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 8, i32 1
  %119 = load float, ptr %n.i, align 4
  %x2.i.i125 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %105, i64 0, i32 16, i32 2, i32 1
  %120 = load ptr, ptr %x2.i.i125, align 8
  %arrayidx.i.i127 = getelementptr inbounds float, ptr %120, i64 %idxprom.i.i.i
  store float %119, ptr %arrayidx.i.i127, align 4
  %y.i6.i = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 8, i32 1, i32 0, i32 1
  %121 = load float, ptr %y.i6.i, align 8
  %y4.i.i128 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %105, i64 0, i32 16, i32 2, i32 2
  %122 = load ptr, ptr %y4.i.i128, align 8
  %arrayidx7.i.i129 = getelementptr inbounds float, ptr %122, i64 %idxprom.i.i.i
  store float %121, ptr %arrayidx7.i.i129, align 4
  %z.i7.i = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 8, i32 1, i32 0, i32 2
  %123 = load float, ptr %z.i7.i, align 4
  %z9.i.i130 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %105, i64 0, i32 16, i32 2, i32 3
  %124 = load ptr, ptr %z9.i.i130, align 8
  %arrayidx12.i.i131 = getelementptr inbounds float, ptr %124, i64 %idxprom.i.i.i
  store float %123, ptr %arrayidx12.i.i131, align 4
  %ns.i = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 8, i32 2
  %125 = load float, ptr %ns.i, align 8
  %x2.i10.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %105, i64 0, i32 16, i32 3, i32 1
  %126 = load ptr, ptr %x2.i10.i, align 8
  %arrayidx.i13.i = getelementptr inbounds float, ptr %126, i64 %idxprom.i.i.i
  store float %125, ptr %arrayidx.i13.i, align 4
  %y.i14.i = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 8, i32 2, i32 0, i32 1
  %127 = load float, ptr %y.i14.i, align 4
  %y4.i15.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %105, i64 0, i32 16, i32 3, i32 2
  %128 = load ptr, ptr %y4.i15.i, align 8
  %arrayidx7.i17.i = getelementptr inbounds float, ptr %128, i64 %idxprom.i.i.i
  store float %127, ptr %arrayidx7.i17.i, align 4
  %z.i18.i = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 8, i32 2, i32 0, i32 2
  %129 = load float, ptr %z.i18.i, align 8
  %z9.i19.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %105, i64 0, i32 16, i32 3, i32 3
  %130 = load ptr, ptr %z9.i19.i, align 8
  %arrayidx12.i21.i = getelementptr inbounds float, ptr %130, i64 %idxprom.i.i.i
  store float %129, ptr %arrayidx12.i21.i, align 4
  %specularBounce = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 9
  %131 = load i32, ptr %specularBounce, align 4
  %132 = load ptr, ptr %this, align 8
  %specularBounce78 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %132, i64 0, i32 17
  %133 = load ptr, ptr %specularBounce78, align 8
  %134 = load i32, ptr %i, align 8
  %idxprom80 = sext i32 %134 to i64
  %arrayidx81 = getelementptr inbounds i32, ptr %133, i64 %idxprom80
  store i32 %131, ptr %arrayidx81, align 4
  %material = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 19
  %135 = load ptr, ptr %this, align 8
  %material83 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %135, i64 0, i32 18
  %136 = load ptr, ptr %material83, align 8
  %137 = load i32, ptr %i, align 8
  %idxprom85 = sext i32 %137 to i64
  %arrayidx86 = getelementptr inbounds %"class.pbrt::Material", ptr %136, i64 %idxprom85
  %138 = load i64, ptr %material, align 8
  store i64 %138, ptr %arrayidx86, align 8
  %ns = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 20
  %139 = load ptr, ptr %this, align 8
  %140 = load i32, ptr %i, align 8
  %141 = load float, ptr %ns, align 8
  %x2.i134 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %139, i64 0, i32 19, i32 1
  %142 = load ptr, ptr %x2.i134, align 8
  %idxprom.i136 = sext i32 %140 to i64
  %arrayidx.i137 = getelementptr inbounds float, ptr %142, i64 %idxprom.i136
  store float %141, ptr %arrayidx.i137, align 4
  %y.i138 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 20, i32 0, i32 1
  %143 = load float, ptr %y.i138, align 4
  %y4.i139 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %139, i64 0, i32 19, i32 2
  %144 = load ptr, ptr %y4.i139, align 8
  %arrayidx7.i141 = getelementptr inbounds float, ptr %144, i64 %idxprom.i136
  store float %143, ptr %arrayidx7.i141, align 4
  %z.i142 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 20, i32 0, i32 2
  %145 = load float, ptr %z.i142, align 8
  %z9.i143 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %139, i64 0, i32 19, i32 3
  %146 = load ptr, ptr %z9.i143, align 8
  %arrayidx12.i145 = getelementptr inbounds float, ptr %146, i64 %idxprom.i136
  store float %145, ptr %arrayidx12.i145, align 4
  %dpdus = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 21
  %147 = load ptr, ptr %this, align 8
  %148 = load i32, ptr %i, align 8
  %149 = load float, ptr %dpdus, align 4
  %x2.i148 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %147, i64 0, i32 20, i32 1
  %150 = load ptr, ptr %x2.i148, align 8
  %idxprom.i150 = sext i32 %148 to i64
  %arrayidx.i151 = getelementptr inbounds float, ptr %150, i64 %idxprom.i150
  store float %149, ptr %arrayidx.i151, align 4
  %y.i152 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 21, i32 0, i32 1
  %151 = load float, ptr %y.i152, align 8
  %y4.i153 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %147, i64 0, i32 20, i32 2
  %152 = load ptr, ptr %y4.i153, align 8
  %arrayidx7.i155 = getelementptr inbounds float, ptr %152, i64 %idxprom.i150
  store float %151, ptr %arrayidx7.i155, align 4
  %z.i156 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 21, i32 0, i32 2
  %153 = load float, ptr %z.i156, align 4
  %z9.i157 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %147, i64 0, i32 20, i32 3
  %154 = load ptr, ptr %z9.i157, align 8
  %arrayidx12.i159 = getelementptr inbounds float, ptr %154, i64 %idxprom.i150
  store float %153, ptr %arrayidx12.i159, align 4
  %dpdvs = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 22
  %155 = load ptr, ptr %this, align 8
  %156 = load i32, ptr %i, align 8
  %157 = load float, ptr %dpdvs, align 8
  %x2.i162 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %155, i64 0, i32 21, i32 1
  %158 = load ptr, ptr %x2.i162, align 8
  %idxprom.i164 = sext i32 %156 to i64
  %arrayidx.i165 = getelementptr inbounds float, ptr %158, i64 %idxprom.i164
  store float %157, ptr %arrayidx.i165, align 4
  %y.i166 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 22, i32 0, i32 1
  %159 = load float, ptr %y.i166, align 4
  %y4.i167 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %155, i64 0, i32 21, i32 2
  %160 = load ptr, ptr %y4.i167, align 8
  %arrayidx7.i169 = getelementptr inbounds float, ptr %160, i64 %idxprom.i164
  store float %159, ptr %arrayidx7.i169, align 4
  %z.i170 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 22, i32 0, i32 2
  %161 = load float, ptr %z.i170, align 8
  %z9.i171 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %155, i64 0, i32 21, i32 3
  %162 = load ptr, ptr %z9.i171, align 8
  %arrayidx12.i173 = getelementptr inbounds float, ptr %162, i64 %idxprom.i164
  store float %161, ptr %arrayidx12.i173, align 4
  %dndus = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 23
  %163 = load ptr, ptr %this, align 8
  %164 = load i32, ptr %i, align 8
  %165 = load float, ptr %dndus, align 4
  %x2.i176 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %163, i64 0, i32 22, i32 1
  %166 = load ptr, ptr %x2.i176, align 8
  %idxprom.i178 = sext i32 %164 to i64
  %arrayidx.i179 = getelementptr inbounds float, ptr %166, i64 %idxprom.i178
  store float %165, ptr %arrayidx.i179, align 4
  %y.i180 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 23, i32 0, i32 1
  %167 = load float, ptr %y.i180, align 8
  %y4.i181 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %163, i64 0, i32 22, i32 2
  %168 = load ptr, ptr %y4.i181, align 8
  %arrayidx7.i183 = getelementptr inbounds float, ptr %168, i64 %idxprom.i178
  store float %167, ptr %arrayidx7.i183, align 4
  %z.i184 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 23, i32 0, i32 2
  %169 = load float, ptr %z.i184, align 4
  %z9.i185 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %163, i64 0, i32 22, i32 3
  %170 = load ptr, ptr %z9.i185, align 8
  %arrayidx12.i187 = getelementptr inbounds float, ptr %170, i64 %idxprom.i178
  store float %169, ptr %arrayidx12.i187, align 4
  %dndvs = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 24
  %171 = load ptr, ptr %this, align 8
  %172 = load i32, ptr %i, align 8
  %173 = load float, ptr %dndvs, align 8
  %x2.i190 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %171, i64 0, i32 23, i32 1
  %174 = load ptr, ptr %x2.i190, align 8
  %idxprom.i192 = sext i32 %172 to i64
  %arrayidx.i193 = getelementptr inbounds float, ptr %174, i64 %idxprom.i192
  store float %173, ptr %arrayidx.i193, align 4
  %y.i194 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 24, i32 0, i32 1
  %175 = load float, ptr %y.i194, align 4
  %y4.i195 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %171, i64 0, i32 23, i32 2
  %176 = load ptr, ptr %y4.i195, align 8
  %arrayidx7.i197 = getelementptr inbounds float, ptr %176, i64 %idxprom.i192
  store float %175, ptr %arrayidx7.i197, align 4
  %z.i198 = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 24, i32 0, i32 2
  %177 = load float, ptr %z.i198, align 8
  %z9.i199 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %171, i64 0, i32 23, i32 3
  %178 = load ptr, ptr %z9.i199, align 8
  %arrayidx12.i201 = getelementptr inbounds float, ptr %178, i64 %idxprom.i192
  store float %177, ptr %arrayidx12.i201, align 4
  %faceIndex = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 25
  %179 = load i32, ptr %faceIndex, align 4
  %180 = load ptr, ptr %this, align 8
  %faceIndex114 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %180, i64 0, i32 24
  %181 = load ptr, ptr %faceIndex114, align 8
  %182 = load i32, ptr %i, align 8
  %idxprom116 = sext i32 %182 to i64
  %arrayidx117 = getelementptr inbounds i32, ptr %181, i64 %idxprom116
  store i32 %179, ptr %arrayidx117, align 4
  %anyNonSpecularBounces = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 10
  %183 = load i32, ptr %anyNonSpecularBounces, align 8
  %184 = load ptr, ptr %this, align 8
  %anyNonSpecularBounces119 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %184, i64 0, i32 25
  %185 = load ptr, ptr %anyNonSpecularBounces119, align 8
  %186 = load i32, ptr %i, align 8
  %idxprom121 = sext i32 %186 to i64
  %arrayidx122 = getelementptr inbounds i32, ptr %185, i64 %idxprom121
  store i32 %183, ptr %arrayidx122, align 4
  %etaScale = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 11
  %187 = load float, ptr %etaScale, align 4
  %188 = load ptr, ptr %this, align 8
  %etaScale124 = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %188, i64 0, i32 26
  %189 = load ptr, ptr %etaScale124, align 8
  %190 = load i32, ptr %i, align 8
  %idxprom126 = sext i32 %190 to i64
  %arrayidx127 = getelementptr inbounds float, ptr %189, i64 %idxprom126
  store float %187, ptr %arrayidx127, align 4
  %mediumInterface = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 26
  %191 = load ptr, ptr %this, align 8
  %192 = load i32, ptr %i, align 8
  %inside2.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %191, i64 0, i32 27, i32 1
  %193 = load ptr, ptr %inside2.i, align 8
  %idxprom.i205 = sext i32 %192 to i64
  %arrayidx.i206 = getelementptr inbounds %"class.pbrt::Medium", ptr %193, i64 %idxprom.i205
  %194 = load i64, ptr %mediumInterface, align 8
  store i64 %194, ptr %arrayidx.i206, align 8
  %outside.i = getelementptr inbounds %"struct.pbrt::MediumSampleWorkItem", ptr %a, i64 0, i32 26, i32 1
  %outside4.i = getelementptr inbounds %"struct.pbrt::SOA.133", ptr %191, i64 0, i32 27, i32 2
  %195 = load ptr, ptr %outside4.i, align 8
  %arrayidx7.i208 = getelementptr inbounds %"class.pbrt::Medium", ptr %195, i64 %idxprom.i205
  %196 = load i64, ptr %outside.i, align 8
  store i64 %196, ptr %arrayidx7.i208, align 8
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local noundef float @_ZN4pbrt21BasicTextureEvaluatorclENS_12FloatTextureENS_18TextureEvalContextE(ptr noundef nonnull align 1 dereferenceable(1) %this, ptr noundef %tex, ptr noundef byval(%"struct.pbrt::TextureEvalContext") align 8 %ctx) local_unnamed_addr #9 comdat align 2 {
entry:
  %map.i.i = alloca %class.anon.154, align 8
  %agg.tmp2.i = alloca %"struct.pbrt::TextureEvalContext", align 8
  %c.i = alloca %"struct.pbrt::TexCoord2D", align 8
  %0 = load i64, ptr %tex, align 8
  %shr.i.mask.i = and i64 %0, -144115188075855872
  switch i64 %shr.i.mask.i, label %if.else20 [
    i64 864691128455135232, label %if.then
    i64 144115188075855872, label %if.then5
    i64 288230376151711744, label %if.then11
    i64 1729382256910270464, label %if.then16
  ]

if.then:                                          ; preds = %entry
  %and.i.i = and i64 %0, 144115188075855871
  %1 = inttoptr i64 %and.i.i to ptr
  %2 = load float, ptr %1, align 4
  br label %return

if.then5:                                         ; preds = %entry
  %and.i.i4 = and i64 %0, 144115188075855871
  %3 = inttoptr i64 %and.i.i4 to ptr
  call void @llvm.lifetime.start.p0(i64 76, ptr nonnull %agg.tmp2.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(76) %agg.tmp2.i, ptr noundef nonnull align 8 dereferenceable(76) %ctx, i64 76, i1 false)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %c.i)
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %map.i.i)
  store ptr %agg.tmp2.i, ptr %map.i.i, align 8, !noalias !42
  %4 = load i64, ptr %3, align 8, !noalias !45
  %and.i.i.i.i = and i64 %4, 144115188075855871
  %5 = inttoptr i64 %and.i.i.i.i to ptr
  %shr.i.i.i.i = lshr i64 %4, 57
  %conv.i.i.i.i = trunc i64 %shr.i.i.i.i to i32
  %sub.i.i.i = add nsw i32 %conv.i.i.i.i, -1
  call void @_ZN4pbrt6detail8DispatchIRZNKS_16TextureMapping2D3MapENS_18TextureEvalContextEEUlT_E_NS_10TexCoord2DENS_9UVMappingENS_16SphericalMappingENS_18CylindricalMappingENS_13PlanarMappingEEET0_OS4_PKvi(ptr nonnull sret(%"struct.pbrt::TexCoord2D") align 4 %c.i, ptr noundef nonnull align 8 dereferenceable(8) %map.i.i, ptr noundef %5, i32 noundef %sub.i.i.i)
  call void @llvm.lifetime.end.p0(i64 76, ptr nonnull %agg.tmp2.i)
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %map.i.i)
  %y.i.i = getelementptr inbounds %"class.pbrt::Tuple2", ptr %c.i, i64 0, i32 1
  %6 = load float, ptr %y.i.i, align 4
  %sub.i = fsub float 1.000000e+00, %6
  store float %sub.i, ptr %y.i.i, align 4
  %scale.i = getelementptr inbounds %"class.pbrt::ImageTextureBase", ptr %3, i64 0, i32 2
  %7 = load float, ptr %scale.i, align 8
  %mipmap.i = getelementptr inbounds %"class.pbrt::ImageTextureBase", ptr %3, i64 0, i32 4
  %8 = load ptr, ptr %mipmap.i, align 8
  %agg.tmp4.sroa.0.0.copyload.i = load <2 x float>, ptr %c.i, align 8
  %dsdx.i = getelementptr inbounds %"struct.pbrt::TexCoord2D", ptr %c.i, i64 0, i32 1
  %9 = load <4 x float>, ptr %dsdx.i, align 8
  %agg.tmp6.sroa.0.0.vec.insert.i = shufflevector <4 x float> %9, <4 x float> poison, <2 x i32> <i32 0, i32 poison>
  %10 = extractelement <4 x float> %9, i64 2
  %agg.tmp6.sroa.0.4.vec.insert.i = insertelement <2 x float> %agg.tmp6.sroa.0.0.vec.insert.i, float %10, i64 1
  %agg.tmp7.sroa.0.4.vec.insert.i = shufflevector <4 x float> %9, <4 x float> poison, <2 x i32> <i32 1, i32 3>
  %call10.i = call noundef float @_ZNK4pbrt6MIPMap6FilterIfEET_NS_6Point2IfEENS_7Vector2IfEES6_(ptr noundef nonnull align 8 dereferenceable(52) %8, <2 x float> %agg.tmp4.sroa.0.0.copyload.i, <2 x float> %agg.tmp6.sroa.0.4.vec.insert.i, <2 x float> %agg.tmp7.sroa.0.4.vec.insert.i)
  %mul.i = fmul float %7, %call10.i
  %invert.i = getelementptr inbounds %"class.pbrt::ImageTextureBase", ptr %3, i64 0, i32 3
  %11 = load i8, ptr %invert.i, align 4
  %12 = and i8 %11, 1
  %tobool.not.i = icmp eq i8 %12, 0
  %sub12.i = fsub float 1.000000e+00, %mul.i
  %cmp.i.i = fcmp ogt float %sub12.i, 0.000000e+00
  %.sroa.speculated.i = select i1 %cmp.i.i, float %sub12.i, float 0.000000e+00
  %cond.i = select i1 %tobool.not.i, float %mul.i, float %.sroa.speculated.i
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %c.i)
  br label %return

if.then11:                                        ; preds = %entry
  tail call void @_ZN4pbrt8LogFatalENS_8LogLevelEPKciS2_(i32 noundef 2, ptr noundef nonnull @.str.7, i32 noundef 758, ptr noundef nonnull @.str.9) #24
  unreachable

if.then16:                                        ; preds = %entry
  %and.i.i11 = and i64 %0, 144115188075855871
  %13 = inttoptr i64 %and.i.i11 to ptr
  %agg.tmp18.sroa.2.0.ctx.sroa_idx = getelementptr inbounds i8, ptr %ctx, i64 72
  %agg.tmp18.sroa.2.0.copyload = load i32, ptr %agg.tmp18.sroa.2.0.ctx.sroa_idx, align 8
  %conv.i = sext i32 %agg.tmp18.sroa.2.0.copyload to i64
  %ptr.i.i = getelementptr inbounds %"class.pstd::vector", ptr %13, i64 0, i32 1
  %14 = load ptr, ptr %ptr.i.i, align 8
  %arrayidx.i.i = getelementptr inbounds float, ptr %14, i64 %conv.i
  %15 = load float, ptr %arrayidx.i.i, align 4
  br label %return

if.else20:                                        ; preds = %entry
  %and.i = and i64 %0, 144115188075855871
  %cmp.i13.not = icmp eq i64 %and.i, 0
  br i1 %cmp.i13.not, label %return, label %if.then22

if.then22:                                        ; preds = %if.else20
  tail call void @_ZN4pbrt8LogFatalIJRNS_12FloatTextureEEEEvNS_8LogLevelEPKciS5_DpOT_(i32 noundef 2, ptr noundef nonnull @.str.7, i32 noundef 1191, ptr noundef nonnull @.str.8, ptr noundef nonnull align 8 dereferenceable(8) %tex) #24
  unreachable

return:                                           ; preds = %if.else20, %if.then16, %if.then5, %if.then
  %retval.0 = phi float [ %2, %if.then ], [ %cond.i, %if.then5 ], [ %15, %if.then16 ], [ 0.000000e+00, %if.else20 ]
  ret float %retval.0
}

; Function Attrs: mustprogress noreturn uwtable
define linkonce_odr dso_local void @_ZN4pbrt8LogFatalIJRNS_12FloatTextureEEEEvNS_8LogLevelEPKciS5_DpOT_(i32 noundef %level, ptr noundef %file, i32 noundef %line, ptr noundef %fmt, ptr noundef nonnull align 8 dereferenceable(8) %args) local_unnamed_addr #11 comdat personality ptr @__gxx_personality_v0 {
entry:
  %s = alloca %"class.std::__cxx11::basic_string", align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(32) %s) #25
  invoke void @_ZN4pbrt6detail21stringPrintfRecursiveIRNS_12FloatTextureEJEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPKcOT_DpOT0_(ptr noundef nonnull %s, ptr noundef %fmt, ptr noundef nonnull align 8 dereferenceable(8) %args)
          to label %_ZN4pbrt12StringPrintfIJRNS_12FloatTextureEEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPKcDpOT_.exit unwind label %lpad.i

common.resume:                                    ; preds = %lpad, %lpad.i
  %common.resume.op = phi { ptr, i32 } [ %0, %lpad.i ], [ %1, %lpad ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %s) #25
  resume { ptr, i32 } %common.resume.op

lpad.i:                                           ; preds = %entry
  %0 = landingpad { ptr, i32 }
          cleanup
  br label %common.resume

_ZN4pbrt12StringPrintfIJRNS_12FloatTextureEEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPKcDpOT_.exit: ; preds = %entry
  %call = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %s) #25
  invoke void @_ZN4pbrt8LogFatalENS_8LogLevelEPKciS2_(i32 noundef %level, ptr noundef %file, i32 noundef %line, ptr noundef %call) #24
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %_ZN4pbrt12StringPrintfIJRNS_12FloatTextureEEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPKcDpOT_.exit
  unreachable

lpad:                                             ; preds = %_ZN4pbrt12StringPrintfIJRNS_12FloatTextureEEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPKcDpOT_.exit
  %1 = landingpad { ptr, i32 }
          cleanup
  br label %common.resume
}

declare noundef float @_ZNK4pbrt6MIPMap6FilterIfEET_NS_6Point2IfEENS_7Vector2IfEES6_(ptr noundef nonnull align 8 dereferenceable(52), <2 x float>, <2 x float>, <2 x float>) local_unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail8DispatchIRZNKS_16TextureMapping2D3MapENS_18TextureEvalContextEEUlT_E_NS_10TexCoord2DENS_9UVMappingENS_16SphericalMappingENS_18CylindricalMappingENS_13PlanarMappingEEET0_OS4_PKvi(ptr noalias sret(%"struct.pbrt::TexCoord2D") align 4 %agg.result, ptr noundef nonnull align 8 dereferenceable(8) %func, ptr noundef %ptr, i32 noundef %index) local_unnamed_addr #9 comdat {
entry:
  %0 = load ptr, ptr %func, align 8, !noalias !48
  switch i32 %index, label %sw.default [
    i32 0, label %sw.bb
    i32 1, label %sw.bb3
    i32 2, label %sw.bb4
  ]

sw.bb:                                            ; preds = %entry
  %agg.tmp.sroa.2.0..sroa_idx.i = getelementptr inbounds i8, ptr %0, i64 48
  %agg.tmp.sroa.4.0..sroa_idx.i = getelementptr inbounds i8, ptr %0, i64 56
  %1 = load <4 x float>, ptr %agg.tmp.sroa.4.0..sroa_idx.i, align 4, !noalias !49
  %2 = load <2 x float>, ptr %ptr, align 4, !noalias !52
  %3 = shufflevector <2 x float> %2, <2 x float> poison, <4 x i32> <i32 0, i32 0, i32 1, i32 1>
  %4 = fmul <4 x float> %1, %3
  %du.i.i = getelementptr inbounds %"class.pbrt::UVMapping", ptr %ptr, i64 0, i32 2
  %5 = load <2 x float>, ptr %agg.tmp.sroa.2.0..sroa_idx.i, align 4, !noalias !49
  %6 = fmul <2 x float> %5, %2
  %7 = load <2 x float>, ptr %du.i.i, align 4, !noalias !52
  %8 = fadd <2 x float> %6, %7
  br label %return

sw.bb3:                                           ; preds = %entry
  %agg.tmp.sroa.0.0.copyload.i = load <2 x float>, ptr %0, align 4, !noalias !55
  %agg.tmp.sroa.2.0..sroa_idx.i7 = getelementptr inbounds i8, ptr %0, i64 8
  %agg.tmp.sroa.2.0.copyload.i8 = load float, ptr %agg.tmp.sroa.2.0..sroa_idx.i7, align 4, !noalias !55
  %agg.tmp.sroa.3.0..sroa_idx.i9 = getelementptr inbounds i8, ptr %0, i64 12
  %agg.tmp.sroa.3.0.copyload.i10 = load <2 x float>, ptr %agg.tmp.sroa.3.0..sroa_idx.i9, align 4, !noalias !55
  %agg.tmp.sroa.4.0..sroa_idx.i11 = getelementptr inbounds i8, ptr %0, i64 20
  %agg.tmp.sroa.4.0.copyload.i12 = load float, ptr %agg.tmp.sroa.4.0..sroa_idx.i11, align 4, !noalias !55
  %agg.tmp.sroa.5.0..sroa_idx.i13 = getelementptr inbounds i8, ptr %0, i64 24
  %agg.tmp.sroa.5.0.copyload.i14 = load <2 x float>, ptr %agg.tmp.sroa.5.0..sroa_idx.i13, align 4, !noalias !55
  %agg.tmp.sroa.6.0..sroa_idx.i15 = getelementptr inbounds i8, ptr %0, i64 32
  %agg.tmp.sroa.6.0.copyload.i16 = load float, ptr %agg.tmp.sroa.6.0..sroa_idx.i15, align 4, !noalias !55
  %call.i.i = tail call { <2 x float>, float } @_ZNK4pbrt9TransformclIfEENS_6Point3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %ptr, <2 x float> %agg.tmp.sroa.0.0.copyload.i, float %agg.tmp.sroa.2.0.copyload.i8), !noalias !58
  %call.fca.0.extract.i.i = extractvalue { <2 x float>, float } %call.i.i, 0
  %call.fca.1.extract.i.i = extractvalue { <2 x float>, float } %call.i.i, 1
  %9 = extractelement <2 x float> %call.fca.0.extract.i.i, i64 0
  %10 = fmul <2 x float> %call.fca.0.extract.i.i, %call.fca.0.extract.i.i
  %mul.i.i.i = extractelement <2 x float> %10, i64 0
  %11 = extractelement <2 x float> %call.fca.0.extract.i.i, i64 1
  %mul.i10.i.i = fmul float %11, %11
  %add.i.i17 = fadd float %mul.i.i.i, %mul.i10.i.i
  %sqrt.i.i = tail call float @llvm.sqrt.f32(float %add.i.i17)
  %fneg.i.i = fneg float %11
  %mul.i11.i.i = fmul float %call.fca.1.extract.i.i, %call.fca.1.extract.i.i
  %add11.i.i = fadd float %mul.i11.i.i, %add.i.i17
  %mul12.i.i19 = fmul float %add11.i.i, 0x400921FB60000000
  %12 = insertelement <2 x float> poison, float %call.fca.1.extract.i.i, i64 0
  %13 = shufflevector <2 x float> %12, <2 x float> poison, <2 x i32> zeroinitializer
  %14 = fmul <2 x float> %13, %call.fca.0.extract.i.i
  %15 = insertelement <2 x float> poison, float %sqrt.i.i, i64 0
  %16 = shufflevector <2 x float> %15, <2 x float> poison, <2 x i32> zeroinitializer
  %17 = fdiv <2 x float> %14, %16
  %fneg23.i.i = fneg float %sqrt.i.i
  %call30.i.i = tail call { <2 x float>, float } @_ZNK4pbrt9TransformclIfEENS_7Vector3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %ptr, <2 x float> %agg.tmp.sroa.3.0.copyload.i10, float %agg.tmp.sroa.4.0.copyload.i12), !noalias !58
  %call30.fca.0.extract.i.i = extractvalue { <2 x float>, float } %call30.i.i, 0
  %call30.fca.1.extract.i.i = extractvalue { <2 x float>, float } %call30.i.i, 1
  %call36.i.i = tail call { <2 x float>, float } @_ZNK4pbrt9TransformclIfEENS_7Vector3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %ptr, <2 x float> %agg.tmp.sroa.5.0.copyload.i14, float %agg.tmp.sroa.6.0.copyload.i16), !noalias !58
  %call36.fca.0.extract.i.i = extractvalue { <2 x float>, float } %call36.i.i, 0
  %call36.fca.1.extract.i.i = extractvalue { <2 x float>, float } %call36.i.i, 1
  %18 = insertelement <2 x float> poison, float %add.i.i17, i64 0
  %19 = insertelement <2 x float> %18, float %mul12.i.i19, i64 1
  %20 = fmul <2 x float> %19, <float 0x401921FB60000000, float poison>
  %21 = fdiv <2 x float> <float poison, float 1.000000e+00>, %19
  %22 = shufflevector <2 x float> %20, <2 x float> %21, <2 x i32> <i32 0, i32 3>
  %23 = shufflevector <2 x float> %call.fca.0.extract.i.i, <2 x float> %22, <4 x i32> <i32 0, i32 poison, i32 3, i32 3>
  %24 = insertelement <4 x float> %23, float %fneg.i.i, i64 1
  %25 = shufflevector <2 x float> %20, <2 x float> poison, <4 x i32> <i32 0, i32 0, i32 poison, i32 poison>
  %26 = shufflevector <2 x float> %17, <2 x float> poison, <4 x i32> <i32 1, i32 0, i32 poison, i32 poison>
  %27 = shufflevector <4 x float> %25, <4 x float> %26, <4 x i32> <i32 0, i32 1, i32 4, i32 5>
  %28 = fdiv <4 x float> %24, %27
  %29 = fmul <4 x float> %24, %27
  %30 = shufflevector <4 x float> %28, <4 x float> %29, <4 x i32> <i32 0, i32 1, i32 6, i32 7>
  %31 = insertelement <2 x float> <float 0.000000e+00, float poison>, float %fneg23.i.i, i64 1
  %32 = fdiv <2 x float> %31, %22
  %33 = fmul <2 x float> %31, %22
  %34 = shufflevector <2 x float> %32, <2 x float> %33, <4 x i32> <i32 0, i32 0, i32 3, i32 3>
  %35 = shufflevector <2 x float> %call30.fca.0.extract.i.i, <2 x float> %call36.fca.0.extract.i.i, <4 x i32> <i32 1, i32 2, i32 1, i32 2>
  %36 = fmul <4 x float> %35, %30
  %37 = shufflevector <2 x float> %call30.fca.0.extract.i.i, <2 x float> %call36.fca.0.extract.i.i, <4 x i32> <i32 0, i32 3, i32 0, i32 3>
  %38 = shufflevector <4 x float> %30, <4 x float> poison, <4 x i32> <i32 1, i32 0, i32 3, i32 2>
  %39 = fmul <4 x float> %37, %38
  %40 = fadd <4 x float> %36, %39
  %41 = insertelement <4 x float> poison, float %call30.fca.1.extract.i.i, i64 0
  %42 = insertelement <4 x float> %41, float %call36.fca.1.extract.i.i, i64 1
  %43 = shufflevector <4 x float> %42, <4 x float> poison, <4 x i32> <i32 0, i32 1, i32 0, i32 1>
  %44 = fmul <4 x float> %43, %34
  %45 = fadd <4 x float> %44, %40
  %sqrt.i.i.i.i = tail call noundef float @llvm.sqrt.f32(float %add11.i.i)
  %div.i.i.i.i = fdiv float %9, %sqrt.i.i.i.i
  %div2.i.i.i.i = fdiv float %11, %sqrt.i.i.i.i
  %div3.i.i.i.i = fdiv float %call.fca.1.extract.i.i, %sqrt.i.i.i.i
  %cmp.i.i.i.i.i = fcmp olt float %div3.i.i.i.i, -1.000000e+00
  %cmp3.i.i.i.i.i = fcmp ogt float %div3.i.i.i.i, 1.000000e+00
  %conv2.val.i.i.i.i.i = select i1 %cmp3.i.i.i.i.i, float 1.000000e+00, float %div3.i.i.i.i
  %retval.0.i.i.i.i.i = select i1 %cmp.i.i.i.i.i, float -1.000000e+00, float %conv2.val.i.i.i.i.i
  %call.i.i.i.i.i = tail call noundef float @acosf(float noundef %retval.0.i.i.i.i.i) #25, !noalias !58
  %call.i.i.i.i = tail call noundef float @atan2f(float noundef %div2.i.i.i.i, float noundef %div.i.i.i.i) #25, !noalias !58
  %cmp.i.i.i = fcmp olt float %call.i.i.i.i, 0.000000e+00
  %add.i56.i.i = fadd float %call.i.i.i.i, 0x401921FB60000000
  %cond.i.i.i = select i1 %cmp.i.i.i, float %add.i56.i.i, float %call.i.i.i.i
  %46 = insertelement <2 x float> poison, float %call.i.i.i.i.i, i64 0
  %47 = insertelement <2 x float> %46, float %cond.i.i.i, i64 1
  %48 = fmul <2 x float> %47, <float 0x3FD45F3060000000, float 0x3FC45F3060000000>
  br label %return

sw.bb4:                                           ; preds = %entry
  %agg.tmp.sroa.0.0.copyload.i21 = load <2 x float>, ptr %0, align 4, !noalias !61
  %agg.tmp.sroa.2.0..sroa_idx.i22 = getelementptr inbounds i8, ptr %0, i64 8
  %agg.tmp.sroa.2.0.copyload.i23 = load float, ptr %agg.tmp.sroa.2.0..sroa_idx.i22, align 4, !noalias !61
  %agg.tmp.sroa.3.0..sroa_idx.i24 = getelementptr inbounds i8, ptr %0, i64 12
  %agg.tmp.sroa.3.0.copyload.i25 = load <2 x float>, ptr %agg.tmp.sroa.3.0..sroa_idx.i24, align 4, !noalias !61
  %agg.tmp.sroa.4.0..sroa_idx.i26 = getelementptr inbounds i8, ptr %0, i64 20
  %agg.tmp.sroa.4.0.copyload.i27 = load float, ptr %agg.tmp.sroa.4.0..sroa_idx.i26, align 4, !noalias !61
  %agg.tmp.sroa.5.0..sroa_idx.i28 = getelementptr inbounds i8, ptr %0, i64 24
  %agg.tmp.sroa.5.0.copyload.i29 = load <2 x float>, ptr %agg.tmp.sroa.5.0..sroa_idx.i28, align 4, !noalias !61
  %agg.tmp.sroa.6.0..sroa_idx.i30 = getelementptr inbounds i8, ptr %0, i64 32
  %agg.tmp.sroa.6.0.copyload.i31 = load float, ptr %agg.tmp.sroa.6.0..sroa_idx.i30, align 4, !noalias !61
  %call.i.i32 = tail call { <2 x float>, float } @_ZNK4pbrt9TransformclIfEENS_6Point3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %ptr, <2 x float> %agg.tmp.sroa.0.0.copyload.i21, float %agg.tmp.sroa.2.0.copyload.i23), !noalias !64
  %call.fca.0.extract.i.i33 = extractvalue { <2 x float>, float } %call.i.i32, 0
  %call.fca.1.extract.i.i34 = extractvalue { <2 x float>, float } %call.i.i32, 1
  %pt.sroa.0.0.vec.extract.i.i35 = extractelement <2 x float> %call.fca.0.extract.i.i33, i64 0
  %49 = fmul <2 x float> %call.fca.0.extract.i.i33, %call.fca.0.extract.i.i33
  %mul.i.i.i36 = extractelement <2 x float> %49, i64 0
  %pt.sroa.0.4.vec.extract.i.i37 = extractelement <2 x float> %call.fca.0.extract.i.i33, i64 1
  %mul.i12.i.i = fmul float %pt.sroa.0.4.vec.extract.i.i37, %pt.sroa.0.4.vec.extract.i.i37
  %add.i.i38 = fadd float %mul.i.i.i36, %mul.i12.i.i
  %mul.i.i40 = fmul float %add.i.i38, 0x401921FB60000000
  %50 = fneg <2 x float> %call.fca.0.extract.i.i33
  %51 = shufflevector <2 x float> %call.fca.0.extract.i.i33, <2 x float> %50, <2 x i32> <i32 0, i32 3>
  %52 = insertelement <2 x float> poison, float %mul.i.i40, i64 0
  %53 = shufflevector <2 x float> %52, <2 x float> poison, <2 x i32> zeroinitializer
  %54 = fdiv <2 x float> %51, %53
  %div3.i.i.i43 = fdiv float 0.000000e+00, %mul.i.i40
  %call12.i.i = tail call { <2 x float>, float } @_ZNK4pbrt9TransformclIfEENS_7Vector3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %ptr, <2 x float> %agg.tmp.sroa.3.0.copyload.i25, float %agg.tmp.sroa.4.0.copyload.i27), !noalias !64
  %call12.fca.0.extract.i.i = extractvalue { <2 x float>, float } %call12.i.i, 0
  %call12.fca.1.extract.i.i = extractvalue { <2 x float>, float } %call12.i.i, 1
  %call18.i.i = tail call { <2 x float>, float } @_ZNK4pbrt9TransformclIfEENS_7Vector3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %ptr, <2 x float> %agg.tmp.sroa.5.0.copyload.i29, float %agg.tmp.sroa.6.0.copyload.i31), !noalias !64
  %call18.fca.0.extract.i.i = extractvalue { <2 x float>, float } %call18.i.i, 0
  %call18.fca.1.extract.i.i = extractvalue { <2 x float>, float } %call18.i.i, 1
  %mul6.i.i.i48 = fmul float %call12.fca.1.extract.i.i, %div3.i.i.i43
  %mul6.i23.i.i = fmul float %call18.fca.1.extract.i.i, %div3.i.i.i43
  %55 = shufflevector <2 x float> %call12.fca.0.extract.i.i, <2 x float> %call18.fca.0.extract.i.i, <4 x i32> <i32 1, i32 2, i32 0, i32 2>
  %56 = shufflevector <2 x float> %54, <2 x float> poison, <4 x i32> <i32 0, i32 1, i32 poison, i32 poison>
  %57 = shufflevector <4 x float> %56, <4 x float> <float poison, float poison, float 0.000000e+00, float 0.000000e+00>, <4 x i32> <i32 0, i32 1, i32 6, i32 7>
  %58 = fmul <4 x float> %55, %57
  %59 = shufflevector <2 x float> %call12.fca.0.extract.i.i, <2 x float> %call18.fca.0.extract.i.i, <4 x i32> <i32 0, i32 3, i32 1, i32 3>
  %60 = shufflevector <4 x float> %57, <4 x float> <float poison, float poison, float 0.000000e+00, float 0.000000e+00>, <4 x i32> <i32 1, i32 0, i32 6, i32 7>
  %61 = fmul <4 x float> %59, %60
  %62 = fadd <4 x float> %58, %61
  %63 = insertelement <4 x float> poison, float %mul6.i.i.i48, i64 0
  %64 = insertelement <4 x float> %63, float %mul6.i23.i.i, i64 1
  %65 = insertelement <4 x float> %64, float %call12.fca.1.extract.i.i, i64 2
  %66 = insertelement <4 x float> %65, float %call18.fca.1.extract.i.i, i64 3
  %67 = fadd <4 x float> %66, %62
  %call.i.i.i = tail call noundef float @atan2f(float noundef %pt.sroa.0.4.vec.extract.i.i37, float noundef %pt.sroa.0.0.vec.extract.i.i35) #25, !noalias !64
  %add36.i.i = fadd float %call.i.i.i, 0x400921FB60000000
  %mul37.i.i = fmul float %add36.i.i, 0x3FC45F3060000000
  %68 = insertelement <2 x float> poison, float %mul37.i.i, i64 0
  %69 = insertelement <2 x float> %68, float %call.fca.1.extract.i.i34, i64 1
  br label %return

sw.default:                                       ; preds = %entry
  %agg.tmp.sroa.0.0.copyload.i51 = load <2 x float>, ptr %0, align 4, !noalias !67
  %agg.tmp.sroa.2.0..sroa_idx.i52 = getelementptr inbounds i8, ptr %0, i64 8
  %agg.tmp.sroa.2.0.copyload.i53 = load float, ptr %agg.tmp.sroa.2.0..sroa_idx.i52, align 4, !noalias !67
  %agg.tmp.sroa.3.0..sroa_idx.i54 = getelementptr inbounds i8, ptr %0, i64 12
  %agg.tmp.sroa.3.0.copyload.i55 = load <2 x float>, ptr %agg.tmp.sroa.3.0..sroa_idx.i54, align 4, !noalias !67
  %agg.tmp.sroa.4.0..sroa_idx.i56 = getelementptr inbounds i8, ptr %0, i64 20
  %agg.tmp.sroa.4.0.copyload.i57 = load float, ptr %agg.tmp.sroa.4.0..sroa_idx.i56, align 4, !noalias !67
  %agg.tmp.sroa.5.0..sroa_idx.i58 = getelementptr inbounds i8, ptr %0, i64 24
  %agg.tmp.sroa.5.0.copyload.i59 = load <2 x float>, ptr %agg.tmp.sroa.5.0..sroa_idx.i58, align 4, !noalias !67
  %agg.tmp.sroa.6.0..sroa_idx.i60 = getelementptr inbounds i8, ptr %0, i64 32
  %agg.tmp.sroa.6.0.copyload.i61 = load float, ptr %agg.tmp.sroa.6.0..sroa_idx.i60, align 4, !noalias !67
  %call.i.i62 = tail call { <2 x float>, float } @_ZNK4pbrt9TransformclIfEENS_6Point3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %ptr, <2 x float> %agg.tmp.sroa.0.0.copyload.i51, float %agg.tmp.sroa.2.0.copyload.i53), !noalias !70
  %call.fca.0.extract.i.i63 = extractvalue { <2 x float>, float } %call.i.i62, 0
  %call.fca.1.extract.i.i64 = extractvalue { <2 x float>, float } %call.i.i62, 1
  %call6.i.i = tail call { <2 x float>, float } @_ZNK4pbrt9TransformclIfEENS_7Vector3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %ptr, <2 x float> %agg.tmp.sroa.3.0.copyload.i55, float %agg.tmp.sroa.4.0.copyload.i57), !noalias !70
  %call6.fca.0.extract.i.i = extractvalue { <2 x float>, float } %call6.i.i, 0
  %call6.fca.1.extract.i.i = extractvalue { <2 x float>, float } %call6.i.i, 1
  %call12.i.i65 = tail call { <2 x float>, float } @_ZNK4pbrt9TransformclIfEENS_7Vector3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %ptr, <2 x float> %agg.tmp.sroa.5.0.copyload.i59, float %agg.tmp.sroa.6.0.copyload.i61), !noalias !70
  %call12.fca.0.extract.i.i66 = extractvalue { <2 x float>, float } %call12.i.i65, 0
  %70 = shufflevector <2 x float> %call12.fca.0.extract.i.i66, <2 x float> poison, <4 x i32> <i32 poison, i32 1, i32 poison, i32 poison>
  %71 = shufflevector <2 x float> %call12.fca.0.extract.i.i66, <2 x float> poison, <4 x i32> <i32 poison, i32 1, i32 poison, i32 poison>
  %72 = shufflevector <2 x float> %call12.fca.0.extract.i.i66, <2 x float> poison, <4 x i32> <i32 0, i32 poison, i32 poison, i32 poison>
  %73 = shufflevector <2 x float> %call12.fca.0.extract.i.i66, <2 x float> poison, <4 x i32> <i32 0, i32 poison, i32 poison, i32 poison>
  %call12.fca.1.extract.i.i67 = extractvalue { <2 x float>, float } %call12.i.i65, 1
  %vs.i.i = getelementptr inbounds %"class.pbrt::PlanarMapping", ptr %ptr, i64 0, i32 1
  %agg.tmp15.sroa.0.0.copyload.i.i = load <2 x float>, ptr %vs.i.i, align 4, !noalias !70
  %agg.tmp15.sroa.2.0.vs.sroa_idx.i.i = getelementptr inbounds %"class.pbrt::PlanarMapping", ptr %ptr, i64 0, i32 1, i32 0, i32 2
  %agg.tmp15.sroa.2.0.copyload.i.i = load float, ptr %agg.tmp15.sroa.2.0.vs.sroa_idx.i.i, align 4, !noalias !70
  %vt.i.i = getelementptr inbounds %"class.pbrt::PlanarMapping", ptr %ptr, i64 0, i32 2
  %agg.tmp22.sroa.0.0.copyload.i.i = load <2 x float>, ptr %vt.i.i, align 4, !noalias !70
  %agg.tmp22.sroa.2.0.vt.sroa_idx.i.i = getelementptr inbounds %"class.pbrt::PlanarMapping", ptr %ptr, i64 0, i32 2, i32 0, i32 2
  %agg.tmp22.sroa.2.0.copyload.i.i = load float, ptr %agg.tmp22.sroa.2.0.vt.sroa_idx.i.i, align 4, !noalias !70
  %74 = shufflevector <2 x float> %call6.fca.0.extract.i.i, <2 x float> %agg.tmp15.sroa.0.0.copyload.i.i, <4 x i32> <i32 0, i32 2, i32 1, i32 poison>
  %75 = shufflevector <4 x float> %74, <4 x float> %73, <4 x i32> <i32 0, i32 1, i32 2, i32 4>
  %76 = shufflevector <2 x float> %agg.tmp15.sroa.0.0.copyload.i.i, <2 x float> %agg.tmp22.sroa.0.0.copyload.i.i, <4 x i32> <i32 0, i32 poison, i32 3, i32 2>
  %77 = shufflevector <4 x float> %76, <4 x float> %72, <4 x i32> <i32 0, i32 4, i32 2, i32 3>
  %78 = fmul <4 x float> %75, %77
  %79 = shufflevector <2 x float> %call6.fca.0.extract.i.i, <2 x float> %agg.tmp15.sroa.0.0.copyload.i.i, <4 x i32> <i32 1, i32 3, i32 0, i32 poison>
  %80 = shufflevector <4 x float> %79, <4 x float> %71, <4 x i32> <i32 0, i32 1, i32 2, i32 5>
  %81 = shufflevector <2 x float> %agg.tmp15.sroa.0.0.copyload.i.i, <2 x float> %agg.tmp22.sroa.0.0.copyload.i.i, <4 x i32> <i32 1, i32 poison, i32 2, i32 3>
  %82 = shufflevector <4 x float> %81, <4 x float> %70, <4 x i32> <i32 0, i32 5, i32 2, i32 3>
  %83 = fmul <4 x float> %80, %82
  %84 = fadd <4 x float> %78, %83
  %85 = insertelement <4 x float> poison, float %call6.fca.1.extract.i.i, i64 0
  %86 = insertelement <4 x float> %85, float %call12.fca.1.extract.i.i67, i64 1
  %87 = shufflevector <4 x float> %86, <4 x float> poison, <4 x i32> <i32 0, i32 1, i32 0, i32 1>
  %88 = insertelement <4 x float> poison, float %agg.tmp15.sroa.2.0.copyload.i.i, i64 0
  %89 = insertelement <4 x float> %88, float %agg.tmp22.sroa.2.0.copyload.i.i, i64 1
  %90 = shufflevector <4 x float> %89, <4 x float> poison, <4 x i32> <i32 0, i32 0, i32 1, i32 1>
  %91 = fmul <4 x float> %87, %90
  %92 = fadd <4 x float> %91, %84
  %ds.i.i = getelementptr inbounds %"class.pbrt::PlanarMapping", ptr %ptr, i64 0, i32 3
  %93 = load <2 x float>, ptr %ds.i.i, align 4, !noalias !70
  %94 = shufflevector <2 x float> %agg.tmp22.sroa.0.0.copyload.i.i, <2 x float> %agg.tmp15.sroa.0.0.copyload.i.i, <2 x i32> <i32 0, i32 3>
  %95 = fmul <2 x float> %call.fca.0.extract.i.i63, %94
  %96 = shufflevector <2 x float> %95, <2 x float> poison, <2 x i32> <i32 1, i32 0>
  %97 = shufflevector <2 x float> %agg.tmp15.sroa.0.0.copyload.i.i, <2 x float> %agg.tmp22.sroa.0.0.copyload.i.i, <2 x i32> <i32 0, i32 3>
  %98 = fmul <2 x float> %call.fca.0.extract.i.i63, %97
  %99 = fadd <2 x float> %96, %98
  %100 = insertelement <2 x float> poison, float %call.fca.1.extract.i.i64, i64 0
  %101 = shufflevector <2 x float> %100, <2 x float> poison, <2 x i32> zeroinitializer
  %102 = insertelement <2 x float> poison, float %agg.tmp15.sroa.2.0.copyload.i.i, i64 0
  %103 = insertelement <2 x float> %102, float %agg.tmp22.sroa.2.0.copyload.i.i, i64 1
  %104 = fmul <2 x float> %101, %103
  %105 = fadd <2 x float> %104, %99
  %106 = fadd <2 x float> %93, %105
  br label %return

return:                                           ; preds = %sw.default, %sw.bb4, %sw.bb3, %sw.bb
  %107 = phi <4 x float> [ %92, %sw.default ], [ %67, %sw.bb4 ], [ %45, %sw.bb3 ], [ %4, %sw.bb ]
  %108 = phi <2 x float> [ %106, %sw.default ], [ %69, %sw.bb4 ], [ %48, %sw.bb3 ], [ %8, %sw.bb ]
  store <2 x float> %108, ptr %agg.result, align 4
  %dsdx39.i.i78 = getelementptr inbounds %"struct.pbrt::TexCoord2D", ptr %agg.result, i64 0, i32 1
  store <4 x float> %107, ptr %dsdx39.i.i78, align 4
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local { <2 x float>, float } @_ZNK4pbrt9TransformclIfEENS_6Point3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %this, <2 x float> %p.coerce0, float %p.coerce1) local_unnamed_addr #9 comdat align 2 {
entry:
  %0 = extractelement <2 x float> %p.coerce0, i64 1
  %1 = extractelement <2 x float> %p.coerce0, i64 0
  %call = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 0)
  %2 = extractvalue { ptr, i64 } %call, 0
  %3 = load float, ptr %2, align 4
  %call5 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 0)
  %4 = extractvalue { ptr, i64 } %call5, 0
  %arrayidx.i = getelementptr inbounds float, ptr %4, i64 1
  %5 = load float, ptr %arrayidx.i, align 4
  %call10 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 0)
  %6 = extractvalue { ptr, i64 } %call10, 0
  %arrayidx.i20 = getelementptr inbounds float, ptr %6, i64 2
  %7 = load float, ptr %arrayidx.i20, align 4
  %call16 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 0)
  %8 = extractvalue { ptr, i64 } %call16, 0
  %arrayidx.i21 = getelementptr inbounds float, ptr %8, i64 3
  %9 = load float, ptr %arrayidx.i21, align 4
  %call21 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 1)
  %10 = extractvalue { ptr, i64 } %call21, 0
  %11 = load float, ptr %10, align 4
  %call27 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 1)
  %12 = extractvalue { ptr, i64 } %call27, 0
  %arrayidx.i22 = getelementptr inbounds float, ptr %12, i64 1
  %13 = load float, ptr %arrayidx.i22, align 4
  %call34 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 1)
  %14 = extractvalue { ptr, i64 } %call34, 0
  %arrayidx.i23 = getelementptr inbounds float, ptr %14, i64 2
  %15 = load float, ptr %arrayidx.i23, align 4
  %call41 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 1)
  %16 = extractvalue { ptr, i64 } %call41, 0
  %arrayidx.i24 = getelementptr inbounds float, ptr %16, i64 3
  %17 = load float, ptr %arrayidx.i24, align 4
  %call46 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 2)
  %18 = extractvalue { ptr, i64 } %call46, 0
  %19 = load float, ptr %18, align 4
  %mul49 = fmul float %1, %19
  %call52 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 2)
  %20 = extractvalue { ptr, i64 } %call52, 0
  %arrayidx.i25 = getelementptr inbounds float, ptr %20, i64 1
  %21 = load float, ptr %arrayidx.i25, align 4
  %mul55 = fmul float %0, %21
  %add56 = fadd float %mul49, %mul55
  %call59 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 2)
  %22 = extractvalue { ptr, i64 } %call59, 0
  %arrayidx.i26 = getelementptr inbounds float, ptr %22, i64 2
  %23 = load float, ptr %arrayidx.i26, align 4
  %mul62 = fmul float %23, %p.coerce1
  %add63 = fadd float %add56, %mul62
  %call66 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 2)
  %24 = extractvalue { ptr, i64 } %call66, 0
  %arrayidx.i27 = getelementptr inbounds float, ptr %24, i64 3
  %25 = load float, ptr %arrayidx.i27, align 4
  %add68 = fadd float %add63, %25
  %call71 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 3)
  %26 = extractvalue { ptr, i64 } %call71, 0
  %27 = load float, ptr %26, align 4
  %mul74 = fmul float %1, %27
  %call77 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 3)
  %28 = extractvalue { ptr, i64 } %call77, 0
  %arrayidx.i28 = getelementptr inbounds float, ptr %28, i64 1
  %29 = load float, ptr %arrayidx.i28, align 4
  %mul80 = fmul float %0, %29
  %add81 = fadd float %mul74, %mul80
  %call84 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 3)
  %30 = extractvalue { ptr, i64 } %call84, 0
  %arrayidx.i29 = getelementptr inbounds float, ptr %30, i64 2
  %31 = load float, ptr %arrayidx.i29, align 4
  %mul87 = fmul float %31, %p.coerce1
  %add88 = fadd float %add81, %mul87
  %call91 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 3)
  %32 = extractvalue { ptr, i64 } %call91, 0
  %arrayidx.i30 = getelementptr inbounds float, ptr %32, i64 3
  %33 = load float, ptr %arrayidx.i30, align 4
  %add93 = fadd float %add88, %33
  %34 = insertelement <2 x float> poison, float %11, i64 0
  %35 = insertelement <2 x float> %34, float %5, i64 1
  %36 = fmul <2 x float> %35, %p.coerce0
  %37 = shufflevector <2 x float> %36, <2 x float> poison, <2 x i32> <i32 1, i32 0>
  %38 = insertelement <2 x float> poison, float %3, i64 0
  %39 = insertelement <2 x float> %38, float %13, i64 1
  %40 = fmul <2 x float> %39, %p.coerce0
  %41 = fadd <2 x float> %37, %40
  %42 = insertelement <2 x float> poison, float %7, i64 0
  %43 = insertelement <2 x float> %42, float %15, i64 1
  %44 = insertelement <2 x float> poison, float %p.coerce1, i64 0
  %45 = shufflevector <2 x float> %44, <2 x float> poison, <2 x i32> zeroinitializer
  %46 = fmul <2 x float> %43, %45
  %47 = fadd <2 x float> %41, %46
  %48 = insertelement <2 x float> poison, float %9, i64 0
  %49 = insertelement <2 x float> %48, float %17, i64 1
  %50 = fadd <2 x float> %47, %49
  %51 = insertelement <2 x float> poison, float %add93, i64 0
  %52 = shufflevector <2 x float> %51, <2 x float> poison, <2 x i32> zeroinitializer
  %53 = fdiv <2 x float> %50, %52
  %retval.sroa.4.0 = fdiv float %add68, %add93
  %.fca.0.insert = insertvalue { <2 x float>, float } poison, <2 x float> %53, 0
  %.fca.1.insert = insertvalue { <2 x float>, float } %.fca.0.insert, float %retval.sroa.4.0, 1
  ret { <2 x float>, float } %.fca.1.insert
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local { <2 x float>, float } @_ZNK4pbrt9TransformclIfEENS_7Vector3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %this, <2 x float> %v.coerce0, float %v.coerce1) local_unnamed_addr #9 comdat align 2 {
entry:
  %0 = extractelement <2 x float> %v.coerce0, i64 1
  %1 = extractelement <2 x float> %v.coerce0, i64 0
  %call = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 0)
  %2 = extractvalue { ptr, i64 } %call, 0
  %3 = load float, ptr %2, align 4
  %call5 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 0)
  %4 = extractvalue { ptr, i64 } %call5, 0
  %arrayidx.i = getelementptr inbounds float, ptr %4, i64 1
  %5 = load float, ptr %arrayidx.i, align 4
  %call10 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 0)
  %6 = extractvalue { ptr, i64 } %call10, 0
  %arrayidx.i11 = getelementptr inbounds float, ptr %6, i64 2
  %7 = load float, ptr %arrayidx.i11, align 4
  %call16 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 1)
  %8 = extractvalue { ptr, i64 } %call16, 0
  %9 = load float, ptr %8, align 4
  %call22 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 1)
  %10 = extractvalue { ptr, i64 } %call22, 0
  %arrayidx.i12 = getelementptr inbounds float, ptr %10, i64 1
  %11 = load float, ptr %arrayidx.i12, align 4
  %call29 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 1)
  %12 = extractvalue { ptr, i64 } %call29, 0
  %arrayidx.i13 = getelementptr inbounds float, ptr %12, i64 2
  %13 = load float, ptr %arrayidx.i13, align 4
  %14 = insertelement <2 x float> poison, float %9, i64 0
  %15 = insertelement <2 x float> %14, float %5, i64 1
  %16 = fmul <2 x float> %15, %v.coerce0
  %17 = shufflevector <2 x float> %16, <2 x float> poison, <2 x i32> <i32 1, i32 0>
  %18 = insertelement <2 x float> poison, float %3, i64 0
  %19 = insertelement <2 x float> %18, float %11, i64 1
  %20 = fmul <2 x float> %19, %v.coerce0
  %21 = fadd <2 x float> %17, %20
  %22 = insertelement <2 x float> poison, float %7, i64 0
  %23 = insertelement <2 x float> %22, float %13, i64 1
  %24 = insertelement <2 x float> poison, float %v.coerce1, i64 0
  %25 = shufflevector <2 x float> %24, <2 x float> poison, <2 x i32> zeroinitializer
  %26 = fmul <2 x float> %23, %25
  %27 = fadd <2 x float> %21, %26
  %call36 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 2)
  %28 = extractvalue { ptr, i64 } %call36, 0
  %29 = load float, ptr %28, align 4
  %mul39 = fmul float %1, %29
  %call42 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 2)
  %30 = extractvalue { ptr, i64 } %call42, 0
  %arrayidx.i14 = getelementptr inbounds float, ptr %30, i64 1
  %31 = load float, ptr %arrayidx.i14, align 4
  %mul45 = fmul float %0, %31
  %add46 = fadd float %mul39, %mul45
  %call49 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %this, i32 noundef 2)
  %32 = extractvalue { ptr, i64 } %call49, 0
  %arrayidx.i15 = getelementptr inbounds float, ptr %32, i64 2
  %33 = load float, ptr %arrayidx.i15, align 4
  %mul52 = fmul float %33, %v.coerce1
  %add53 = fadd float %add46, %mul52
  %.fca.0.insert = insertvalue { <2 x float>, float } poison, <2 x float> %27, 0
  %.fca.1.insert = insertvalue { <2 x float>, float } %.fca.0.insert, float %add53, 1
  ret { <2 x float>, float } %.fca.1.insert
}

declare { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64), i32 noundef) local_unnamed_addr #0

; Function Attrs: mustprogress nofree nounwind willreturn memory(write)
declare float @acosf(float noundef) local_unnamed_addr #12

; Function Attrs: mustprogress nofree nounwind willreturn memory(write)
declare float @atan2f(float noundef, float noundef) local_unnamed_addr #12

; Function Attrs: noreturn
declare void @_ZN4pbrt8LogFatalENS_8LogLevelEPKciS2_(i32 noundef, ptr noundef, i32 noundef, ptr noundef) local_unnamed_addr #7

; Function Attrs: nounwind
declare noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32)) local_unnamed_addr #13

; Function Attrs: nounwind
declare void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32)) unnamed_addr #13

; Function Attrs: nounwind
declare void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(32)) unnamed_addr #13

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail21stringPrintfRecursiveIRNS_12FloatTextureEJEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPKcOT_DpOT0_(ptr noundef %s, ptr noundef %fmt, ptr noundef nonnull align 8 dereferenceable(8) %v) local_unnamed_addr #1 comdat personality ptr @__gxx_personality_v0 {
entry:
  %fmt.addr.i = alloca ptr, align 8
  %ref.tmp.i9 = alloca ptr, align 8
  %ref.tmp.i = alloca %"class.std::__cxx11::basic_string", align 8
  %fmt.addr = alloca ptr, align 8
  %nextFmt = alloca %"class.std::__cxx11::basic_string", align 8
  %ss = alloca %"class.std::__cxx11::basic_stringstream", align 8
  %ref.tmp = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp18 = alloca ptr, align 8
  %ref.tmp19 = alloca %"class.std::__cxx11::basic_string", align 8
  store ptr %fmt, ptr %fmt.addr, align 8
  call void @_ZN4pbrt6detail18copyToFormatStringEPPKcPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %nextFmt, ptr noundef nonnull %fmt.addr, ptr noundef %s)
  %call = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 42, i64 noundef 0) #25
  %cmp.not = icmp eq i64 %call, -1
  %call1 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 115, i64 noundef 0) #25
  %cmp2.not = icmp eq i64 %call1, -1
  %call4 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 100, i64 noundef 0) #25
  br i1 %cmp.not, label %if.end, label %if.else37.invoke

lpad:                                             ; preds = %if.else37.invoke, %if.then29, %invoke.cont25, %if.then12
  %0 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup42

if.end:                                           ; preds = %entry
  %cmp5.not = icmp eq i64 %call4, -1
  br i1 %cmp5.not, label %if.end10, label %if.else37.invoke

if.end10:                                         ; preds = %if.end
  br i1 %cmp2.not, label %if.else, label %if.then12

if.then12:                                        ; preds = %if.end10
  invoke void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont13 unwind label %lpad

invoke.cont13:                                    ; preds = %if.then12
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %ref.tmp.i)
  invoke void @_ZNK4pbrt12FloatTexture8ToStringB5cxx11Ev(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp.i, ptr noundef nonnull align 8 dereferenceable(8) %v)
          to label %.noexc unwind label %lpad14

.noexc:                                           ; preds = %invoke.cont13
  %add.ptr = getelementptr inbounds i8, ptr %ss, i64 16
  %call.i = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZStlsIcSt11char_traitsIcESaIcEERSt13basic_ostreamIT_T0_ES7_RKNSt7__cxx1112basic_stringIS4_S5_T1_EE(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i)
          to label %invoke.cont15 unwind label %lpad.i

lpad.i:                                           ; preds = %.noexc
  %1 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #25
  br label %ehcleanup27

invoke.cont15:                                    ; preds = %.noexc
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #25
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %ref.tmp.i)
  %call17 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZNKSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEE3strEv(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp19, ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont20 unwind label %lpad14

invoke.cont20:                                    ; preds = %invoke.cont15
  %call21 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp19) #25
  store ptr %call21, ptr %ref.tmp18, align 8
  invoke void @_ZN4pbrt6detail9formatOneIPKcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeES3_OS6_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp, ptr noundef %call17, ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp18)
          to label %invoke.cont23 unwind label %lpad22

invoke.cont23:                                    ; preds = %invoke.cont20
  %call26 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp)
          to label %invoke.cont25 unwind label %lpad24

invoke.cont25:                                    ; preds = %invoke.cont23
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp19) #25
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  %2 = load ptr, ptr %fmt.addr, align 8
  invoke void @_ZN4pbrt6detail21stringPrintfRecursiveEPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPKc(ptr noundef nonnull %s, ptr noundef %2)
          to label %invoke.cont41 unwind label %lpad

lpad14:                                           ; preds = %invoke.cont13, %invoke.cont15
  %3 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup27

lpad22:                                           ; preds = %invoke.cont20
  %4 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad24:                                           ; preds = %invoke.cont23
  %5 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad24, %lpad22
  %.pn = phi { ptr, i32 } [ %5, %lpad24 ], [ %4, %lpad22 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp19) #25
  br label %ehcleanup27

ehcleanup27:                                      ; preds = %lpad14, %lpad.i, %ehcleanup
  %.pn.pn = phi { ptr, i32 } [ %.pn, %ehcleanup ], [ %3, %lpad14 ], [ %1, %lpad.i ]
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %ehcleanup42

if.else:                                          ; preds = %if.end10
  %call28 = call noundef zeroext i1 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5emptyEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  br i1 %call28, label %if.else37.invoke, label %if.then29

if.then29:                                        ; preds = %if.else
  %call31 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %fmt.addr.i)
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %ref.tmp.i9)
  store ptr %call31, ptr %fmt.addr.i, align 8
  store ptr @_ZTSN4pbrt12FloatTextureE, ptr %ref.tmp.i9, align 8
  invoke void @_ZN4pbrt8LogFatalIJPKcRS2_EEEvNS_8LogLevelES2_iS2_DpOT_(i32 noundef 2, ptr noundef nonnull @.str.10, i32 noundef 176, ptr noundef nonnull @.str.14, ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp.i9, ptr noundef nonnull align 8 dereferenceable(8) %fmt.addr.i) #24
          to label %.noexc10 unwind label %lpad

.noexc10:                                         ; preds = %if.then29
  unreachable

if.else37.invoke:                                 ; preds = %entry, %if.else, %if.end
  %6 = phi i32 [ 257, %if.end ], [ 266, %if.else ], [ 229, %entry ]
  %7 = phi ptr [ @.str.12, %if.end ], [ @.str.13, %if.else ], [ @.str.11, %entry ]
  invoke void @_ZN4pbrt8LogFatalENS_8LogLevelEPKciS2_(i32 noundef 2, ptr noundef nonnull @.str.10, i32 noundef %6, ptr noundef nonnull %7) #24
          to label %if.else37.cont unwind label %lpad

if.else37.cont:                                   ; preds = %if.else37.invoke
  unreachable

invoke.cont41:                                    ; preds = %invoke.cont25
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  ret void

ehcleanup42:                                      ; preds = %ehcleanup27, %lpad
  %.pn7 = phi { ptr, i32 } [ %0, %lpad ], [ %.pn.pn, %ehcleanup27 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  resume { ptr, i32 } %.pn7
}

declare void @_ZN4pbrt6detail18copyToFormatStringEPPKcPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr sret(%"class.std::__cxx11::basic_string") align 8, ptr noundef, ptr noundef) local_unnamed_addr #0

; Function Attrs: nounwind
declare noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32), i8 noundef signext, i64 noundef) local_unnamed_addr #13

declare void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(128)) unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail9formatOneIPKcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeES3_OS6_(ptr noalias sret(%"class.std::__cxx11::basic_string") align 8 %agg.result, ptr noundef %fmt, ptr noundef nonnull align 8 dereferenceable(8) %v) local_unnamed_addr #1 comdat personality ptr @__gxx_personality_v0 {
entry:
  %0 = load ptr, ptr %v, align 8
  %call = tail call i32 (ptr, i64, ptr, ...) @snprintf(ptr noundef null, i64 noundef 0, ptr noundef %fmt, ptr noundef %0) #25
  %add = add nsw i32 %call, 1
  %conv = sext i32 %add to i64
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE6resizeEm(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, i64 noundef %conv)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  %call2 = invoke noundef nonnull align 1 dereferenceable(1) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEixEm(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, i64 noundef 0)
          to label %invoke.cont1 unwind label %lpad

invoke.cont1:                                     ; preds = %invoke.cont
  %1 = load ptr, ptr %v, align 8
  %call3 = tail call i32 (ptr, i64, ptr, ...) @snprintf(ptr noundef nonnull %call2, i64 noundef %conv, ptr noundef %fmt, ptr noundef %1) #25
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE8pop_backEv(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  ret void

lpad:                                             ; preds = %invoke.cont, %entry
  %2 = landingpad { ptr, i32 }
          cleanup
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  resume { ptr, i32 } %2
}

declare void @_ZNKSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEE3strEv(ptr sret(%"class.std::__cxx11::basic_string") align 8, ptr noundef nonnull align 8 dereferenceable(128)) local_unnamed_addr #0

declare noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32), ptr noundef nonnull align 8 dereferenceable(32)) local_unnamed_addr #0

; Function Attrs: nounwind
declare void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128)) unnamed_addr #13

; Function Attrs: nounwind
declare noundef zeroext i1 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5emptyEv(ptr noundef nonnull align 8 dereferenceable(32)) local_unnamed_addr #13

declare void @_ZN4pbrt6detail21stringPrintfRecursiveEPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPKc(ptr noundef, ptr noundef) local_unnamed_addr #0

declare noundef nonnull align 8 dereferenceable(8) ptr @_ZStlsIcSt11char_traitsIcESaIcEERSt13basic_ostreamIT_T0_ES7_RKNSt7__cxx1112basic_stringIS4_S5_T1_EE(ptr noundef nonnull align 8 dereferenceable(8), ptr noundef nonnull align 8 dereferenceable(32)) local_unnamed_addr #0

declare void @_ZNK4pbrt12FloatTexture8ToStringB5cxx11Ev(ptr sret(%"class.std::__cxx11::basic_string") align 8, ptr noundef nonnull align 8 dereferenceable(8)) local_unnamed_addr #0

; Function Attrs: nofree nounwind
declare noundef i32 @snprintf(ptr noalias nocapture noundef writeonly, i64 noundef, ptr nocapture noundef readonly, ...) local_unnamed_addr #14

declare void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE6resizeEm(ptr noundef nonnull align 8 dereferenceable(32), i64 noundef) local_unnamed_addr #0

declare noundef nonnull align 1 dereferenceable(1) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEixEm(ptr noundef nonnull align 8 dereferenceable(32), i64 noundef) local_unnamed_addr #0

; Function Attrs: nounwind
declare void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE8pop_backEv(ptr noundef nonnull align 8 dereferenceable(32)) local_unnamed_addr #13

; Function Attrs: mustprogress noreturn uwtable
define linkonce_odr dso_local void @_ZN4pbrt8LogFatalIJPKcRS2_EEEvNS_8LogLevelES2_iS2_DpOT_(i32 noundef %level, ptr noundef %file, i32 noundef %line, ptr noundef %fmt, ptr noundef nonnull align 8 dereferenceable(8) %args, ptr noundef nonnull align 8 dereferenceable(8) %args1) local_unnamed_addr #11 comdat personality ptr @__gxx_personality_v0 {
entry:
  %s = alloca %"class.std::__cxx11::basic_string", align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(32) %s) #25
  invoke void @_ZN4pbrt6detail21stringPrintfRecursiveIPKcJRS3_EEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEES3_OT_DpOT0_(ptr noundef nonnull %s, ptr noundef %fmt, ptr noundef nonnull align 8 dereferenceable(8) %args, ptr noundef nonnull align 8 dereferenceable(8) %args1)
          to label %_ZN4pbrt12StringPrintfIJPKcRS2_EEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEES2_DpOT_.exit unwind label %lpad.i

common.resume:                                    ; preds = %lpad, %lpad.i
  %common.resume.op = phi { ptr, i32 } [ %0, %lpad.i ], [ %1, %lpad ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %s) #25
  resume { ptr, i32 } %common.resume.op

lpad.i:                                           ; preds = %entry
  %0 = landingpad { ptr, i32 }
          cleanup
  br label %common.resume

_ZN4pbrt12StringPrintfIJPKcRS2_EEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEES2_DpOT_.exit: ; preds = %entry
  %call = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %s) #25
  invoke void @_ZN4pbrt8LogFatalENS_8LogLevelEPKciS2_(i32 noundef %level, ptr noundef %file, i32 noundef %line, ptr noundef %call) #24
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %_ZN4pbrt12StringPrintfIJPKcRS2_EEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEES2_DpOT_.exit
  unreachable

lpad:                                             ; preds = %_ZN4pbrt12StringPrintfIJPKcRS2_EEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEES2_DpOT_.exit
  %1 = landingpad { ptr, i32 }
          cleanup
  br label %common.resume
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail21stringPrintfRecursiveIPKcJRS3_EEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEES3_OT_DpOT0_(ptr noundef %s, ptr noundef %fmt, ptr noundef nonnull align 8 dereferenceable(8) %v, ptr noundef nonnull align 8 dereferenceable(8) %args) local_unnamed_addr #1 comdat personality ptr @__gxx_personality_v0 {
entry:
  %fmt.addr = alloca ptr, align 8
  %nextFmt = alloca %"class.std::__cxx11::basic_string", align 8
  %ss = alloca %"class.std::__cxx11::basic_stringstream", align 8
  %ref.tmp = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp18 = alloca ptr, align 8
  %ref.tmp19 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp30 = alloca %"class.std::__cxx11::basic_string", align 8
  store ptr %fmt, ptr %fmt.addr, align 8
  call void @_ZN4pbrt6detail18copyToFormatStringEPPKcPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %nextFmt, ptr noundef nonnull %fmt.addr, ptr noundef %s)
  %call = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 42, i64 noundef 0) #25
  %cmp.not = icmp eq i64 %call, -1
  %call1 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 115, i64 noundef 0) #25
  %cmp2.not = icmp eq i64 %call1, -1
  %call4 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 100, i64 noundef 0) #25
  br i1 %cmp.not, label %if.end, label %if.else37.invoke

lpad:                                             ; preds = %if.else37.invoke, %done, %if.then29, %if.then12
  %0 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup42

if.end:                                           ; preds = %entry
  %cmp5.not = icmp eq i64 %call4, -1
  br i1 %cmp5.not, label %if.end10, label %if.else37.invoke

if.end10:                                         ; preds = %if.end
  br i1 %cmp2.not, label %if.else, label %if.then12

if.then12:                                        ; preds = %if.end10
  invoke void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont13 unwind label %lpad

invoke.cont13:                                    ; preds = %if.then12
  %add.ptr = getelementptr inbounds i8, ptr %ss, i64 16
  %1 = load ptr, ptr %v, align 8
  %call16 = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr, ptr noundef %1)
          to label %invoke.cont15 unwind label %lpad14

invoke.cont15:                                    ; preds = %invoke.cont13
  %call17 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZNKSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEE3strEv(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp19, ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont20 unwind label %lpad14

invoke.cont20:                                    ; preds = %invoke.cont15
  %call21 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp19) #25
  store ptr %call21, ptr %ref.tmp18, align 8
  invoke void @_ZN4pbrt6detail9formatOneIPKcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeES3_OS6_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp, ptr noundef %call17, ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp18)
          to label %invoke.cont23 unwind label %lpad22

invoke.cont23:                                    ; preds = %invoke.cont20
  %call26 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp)
          to label %invoke.cont25 unwind label %lpad24

invoke.cont25:                                    ; preds = %invoke.cont23
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp19) #25
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %done

lpad14:                                           ; preds = %invoke.cont15, %invoke.cont13
  %2 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup27

lpad22:                                           ; preds = %invoke.cont20
  %3 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad24:                                           ; preds = %invoke.cont23
  %4 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad24, %lpad22
  %.pn = phi { ptr, i32 } [ %4, %lpad24 ], [ %3, %lpad22 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp19) #25
  br label %ehcleanup27

ehcleanup27:                                      ; preds = %ehcleanup, %lpad14
  %.pn.pn = phi { ptr, i32 } [ %.pn, %ehcleanup ], [ %2, %lpad14 ]
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %ehcleanup42

if.else:                                          ; preds = %if.end10
  %call28 = call noundef zeroext i1 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5emptyEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  br i1 %call28, label %if.else37.invoke, label %if.then29

if.then29:                                        ; preds = %if.else
  %call31 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZN4pbrt6detail9formatOneIPKcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeES3_OS6_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp30, ptr noundef %call31, ptr noundef nonnull align 8 dereferenceable(8) %v)
          to label %invoke.cont32 unwind label %lpad

invoke.cont32:                                    ; preds = %if.then29
  %call35 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp30)
          to label %invoke.cont34 unwind label %lpad33

invoke.cont34:                                    ; preds = %invoke.cont32
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp30) #25
  br label %done

lpad33:                                           ; preds = %invoke.cont32
  %5 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp30) #25
  br label %ehcleanup42

if.else37.invoke:                                 ; preds = %entry, %if.else, %if.end
  %6 = phi i32 [ 257, %if.end ], [ 266, %if.else ], [ 229, %entry ]
  %7 = phi ptr [ @.str.12, %if.end ], [ @.str.13, %if.else ], [ @.str.11, %entry ]
  invoke void @_ZN4pbrt8LogFatalENS_8LogLevelEPKciS2_(i32 noundef 2, ptr noundef nonnull @.str.10, i32 noundef %6, ptr noundef nonnull %7) #24
          to label %if.else37.cont unwind label %lpad

if.else37.cont:                                   ; preds = %if.else37.invoke
  unreachable

done:                                             ; preds = %invoke.cont25, %invoke.cont34
  %8 = load ptr, ptr %fmt.addr, align 8
  invoke void @_ZN4pbrt6detail21stringPrintfRecursiveIRPKcJEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEES3_OT_DpOT0_(ptr noundef %s, ptr noundef %8, ptr noundef nonnull align 8 dereferenceable(8) %args)
          to label %invoke.cont41 unwind label %lpad

invoke.cont41:                                    ; preds = %done
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  ret void

ehcleanup42:                                      ; preds = %lpad33, %ehcleanup27, %lpad
  %.pn7 = phi { ptr, i32 } [ %0, %lpad ], [ %.pn.pn, %ehcleanup27 ], [ %5, %lpad33 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  resume { ptr, i32 } %.pn7
}

declare noundef nonnull align 8 dereferenceable(8) ptr @_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(ptr noundef nonnull align 8 dereferenceable(8), ptr noundef) local_unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail21stringPrintfRecursiveIRPKcJEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEES3_OT_DpOT0_(ptr noundef %s, ptr noundef %fmt, ptr noundef nonnull align 8 dereferenceable(8) %v) local_unnamed_addr #1 comdat personality ptr @__gxx_personality_v0 {
entry:
  %fmt.addr = alloca ptr, align 8
  %nextFmt = alloca %"class.std::__cxx11::basic_string", align 8
  %ss = alloca %"class.std::__cxx11::basic_stringstream", align 8
  %ref.tmp = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp18 = alloca ptr, align 8
  %ref.tmp19 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp30 = alloca %"class.std::__cxx11::basic_string", align 8
  store ptr %fmt, ptr %fmt.addr, align 8
  call void @_ZN4pbrt6detail18copyToFormatStringEPPKcPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %nextFmt, ptr noundef nonnull %fmt.addr, ptr noundef %s)
  %call = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 42, i64 noundef 0) #25
  %cmp.not = icmp eq i64 %call, -1
  %call1 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 115, i64 noundef 0) #25
  %cmp2.not = icmp eq i64 %call1, -1
  %call4 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 100, i64 noundef 0) #25
  br i1 %cmp.not, label %if.end, label %if.else37.invoke

lpad:                                             ; preds = %if.else37.invoke, %done, %if.then29, %if.then12
  %0 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup42

if.end:                                           ; preds = %entry
  %cmp5.not = icmp eq i64 %call4, -1
  br i1 %cmp5.not, label %if.end10, label %if.else37.invoke

if.end10:                                         ; preds = %if.end
  br i1 %cmp2.not, label %if.else, label %if.then12

if.then12:                                        ; preds = %if.end10
  invoke void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont13 unwind label %lpad

invoke.cont13:                                    ; preds = %if.then12
  %add.ptr = getelementptr inbounds i8, ptr %ss, i64 16
  %1 = load ptr, ptr %v, align 8
  %call16 = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr, ptr noundef %1)
          to label %invoke.cont15 unwind label %lpad14

invoke.cont15:                                    ; preds = %invoke.cont13
  %call17 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZNKSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEE3strEv(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp19, ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont20 unwind label %lpad14

invoke.cont20:                                    ; preds = %invoke.cont15
  %call21 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp19) #25
  store ptr %call21, ptr %ref.tmp18, align 8
  invoke void @_ZN4pbrt6detail9formatOneIPKcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeES3_OS6_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp, ptr noundef %call17, ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp18)
          to label %invoke.cont23 unwind label %lpad22

invoke.cont23:                                    ; preds = %invoke.cont20
  %call26 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp)
          to label %invoke.cont25 unwind label %lpad24

invoke.cont25:                                    ; preds = %invoke.cont23
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp19) #25
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %done

lpad14:                                           ; preds = %invoke.cont15, %invoke.cont13
  %2 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup27

lpad22:                                           ; preds = %invoke.cont20
  %3 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad24:                                           ; preds = %invoke.cont23
  %4 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad24, %lpad22
  %.pn = phi { ptr, i32 } [ %4, %lpad24 ], [ %3, %lpad22 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp19) #25
  br label %ehcleanup27

ehcleanup27:                                      ; preds = %ehcleanup, %lpad14
  %.pn.pn = phi { ptr, i32 } [ %.pn, %ehcleanup ], [ %2, %lpad14 ]
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %ehcleanup42

if.else:                                          ; preds = %if.end10
  %call28 = call noundef zeroext i1 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5emptyEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  br i1 %call28, label %if.else37.invoke, label %if.then29

if.then29:                                        ; preds = %if.else
  %call31 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZN4pbrt6detail9formatOneIRPKcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeES3_OS7_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp30, ptr noundef %call31, ptr noundef nonnull align 8 dereferenceable(8) %v)
          to label %invoke.cont32 unwind label %lpad

invoke.cont32:                                    ; preds = %if.then29
  %call35 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp30)
          to label %invoke.cont34 unwind label %lpad33

invoke.cont34:                                    ; preds = %invoke.cont32
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp30) #25
  br label %done

lpad33:                                           ; preds = %invoke.cont32
  %5 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp30) #25
  br label %ehcleanup42

if.else37.invoke:                                 ; preds = %entry, %if.else, %if.end
  %6 = phi i32 [ 257, %if.end ], [ 266, %if.else ], [ 229, %entry ]
  %7 = phi ptr [ @.str.12, %if.end ], [ @.str.13, %if.else ], [ @.str.11, %entry ]
  invoke void @_ZN4pbrt8LogFatalENS_8LogLevelEPKciS2_(i32 noundef 2, ptr noundef nonnull @.str.10, i32 noundef %6, ptr noundef nonnull %7) #24
          to label %if.else37.cont unwind label %lpad

if.else37.cont:                                   ; preds = %if.else37.invoke
  unreachable

done:                                             ; preds = %invoke.cont25, %invoke.cont34
  %8 = load ptr, ptr %fmt.addr, align 8
  invoke void @_ZN4pbrt6detail21stringPrintfRecursiveEPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPKc(ptr noundef %s, ptr noundef %8)
          to label %invoke.cont41 unwind label %lpad

invoke.cont41:                                    ; preds = %done
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  ret void

ehcleanup42:                                      ; preds = %lpad33, %ehcleanup27, %lpad
  %.pn7 = phi { ptr, i32 } [ %0, %lpad ], [ %.pn.pn, %ehcleanup27 ], [ %5, %lpad33 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  resume { ptr, i32 } %.pn7
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail9formatOneIRPKcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeES3_OS7_(ptr noalias sret(%"class.std::__cxx11::basic_string") align 8 %agg.result, ptr noundef %fmt, ptr noundef nonnull align 8 dereferenceable(8) %v) local_unnamed_addr #1 comdat personality ptr @__gxx_personality_v0 {
entry:
  %0 = load ptr, ptr %v, align 8
  %call = tail call i32 (ptr, i64, ptr, ...) @snprintf(ptr noundef null, i64 noundef 0, ptr noundef %fmt, ptr noundef %0) #25
  %add = add nsw i32 %call, 1
  %conv = sext i32 %add to i64
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE6resizeEm(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, i64 noundef %conv)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  %call2 = invoke noundef nonnull align 1 dereferenceable(1) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEixEm(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, i64 noundef 0)
          to label %invoke.cont1 unwind label %lpad

invoke.cont1:                                     ; preds = %invoke.cont
  %1 = load ptr, ptr %v, align 8
  %call3 = tail call i32 (ptr, i64, ptr, ...) @snprintf(ptr noundef nonnull %call2, i64 noundef %conv, ptr noundef %fmt, ptr noundef %1) #25
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE8pop_backEv(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  ret void

lpad:                                             ; preds = %invoke.cont, %entry
  %2 = landingpad { ptr, i32 }
          cleanup
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  resume { ptr, i32 } %2
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local { <2 x float>, float } @_ZN4pbrt15OffsetRayOriginENS_8Point3fiENS_7Normal3IfEENS_7Vector3IfEE(ptr noundef byval(%"class.pbrt::Point3fi") align 8 %pi, <2 x float> %n.coerce0, float %n.coerce1, <2 x float> %w.coerce0, float %w.coerce1) local_unnamed_addr #9 comdat {
entry:
  %0 = extractelement <2 x float> %n.coerce0, i64 1
  %1 = extractelement <2 x float> %n.coerce0, i64 0
  %retval.sroa.0 = alloca <2 x float>, align 8
  %retval.sroa.10 = alloca float, align 4
  %2 = tail call noundef float @llvm.fabs.f32(float %1)
  %3 = tail call noundef float @llvm.fabs.f32(float %0)
  %4 = tail call noundef float @llvm.fabs.f32(float %n.coerce1)
  %high.i.i = getelementptr inbounds %"class.pbrt::Interval", ptr %pi, i64 0, i32 1
  %5 = load float, ptr %high.i.i, align 4
  %6 = load float, ptr %pi, align 8
  %sub.i.i = fsub float %5, %6
  %div.i = fmul float %sub.i.i, 5.000000e-01
  %y.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %pi, i64 0, i32 1
  %high.i1.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %pi, i64 0, i32 1, i32 1
  %7 = load float, ptr %high.i1.i, align 4
  %8 = load float, ptr %y.i, align 8
  %sub.i2.i = fsub float %7, %8
  %div3.i = fmul float %sub.i2.i, 5.000000e-01
  %z.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %pi, i64 0, i32 2
  %high.i3.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %pi, i64 0, i32 2, i32 1
  %9 = load float, ptr %high.i3.i, align 4
  %10 = load float, ptr %z.i, align 8
  %sub.i4.i = fsub float %9, %10
  %div5.i = fmul float %sub.i4.i, 5.000000e-01
  %mul.i.i = fmul float %4, %div5.i
  %11 = tail call noundef float @llvm.fma.f32(float %3, float %div3.i, float %mul.i.i)
  %fneg.i.i = fneg float %mul.i.i
  %12 = tail call noundef float @llvm.fma.f32(float %4, float %div5.i, float %fneg.i.i)
  %add.i.i = fadd float %11, %12
  %13 = tail call noundef float @llvm.fma.f32(float %2, float %div.i, float %add.i.i)
  %mul3.i.i = fmul float %13, %n.coerce1
  %v.sroa.0.0.vec.extract.i20 = extractelement <2 x float> %w.coerce0, i64 0
  %v.sroa.0.4.vec.extract.i22 = extractelement <2 x float> %w.coerce0, i64 1
  %mul.i.i23 = fmul float %n.coerce1, %w.coerce1
  %14 = tail call noundef float @llvm.fma.f32(float %0, float %v.sroa.0.4.vec.extract.i22, float %mul.i.i23)
  %fneg.i.i24 = fneg float %mul.i.i23
  %15 = tail call noundef float @llvm.fma.f32(float %n.coerce1, float %w.coerce1, float %fneg.i.i24)
  %add.i.i25 = fadd float %14, %15
  %16 = tail call noundef float @llvm.fma.f32(float %1, float %v.sroa.0.0.vec.extract.i20, float %add.i.i25)
  %cmp = fcmp olt float %16, 0.000000e+00
  %17 = insertelement <2 x float> poison, float %13, i64 0
  %18 = shufflevector <2 x float> %17, <2 x float> poison, <2 x i32> zeroinitializer
  %19 = fmul <2 x float> %18, %n.coerce0
  %20 = fneg <2 x float> %19
  %fneg3.i = fneg float %mul3.i.i
  %offset.sroa.9.0 = select i1 %cmp, float %fneg3.i, float %mul3.i.i
  %offset.sroa.0.0 = select i1 %cmp, <2 x float> %20, <2 x float> %19
  %add.i.i5.i = fadd float %9, %10
  %div.i.i6.i = fmul float %add.i.i5.i, 5.000000e-01
  %21 = insertelement <2 x float> poison, float %5, i64 0
  %22 = insertelement <2 x float> %21, float %7, i64 1
  %23 = insertelement <2 x float> poison, float %6, i64 0
  %24 = insertelement <2 x float> %23, float %8, i64 1
  %25 = fadd <2 x float> %22, %24
  %26 = fmul <2 x float> %25, <float 5.000000e-01, float 5.000000e-01>
  %27 = fadd <2 x float> %26, %offset.sroa.0.0
  %add6.i = fadd float %div.i.i6.i, %offset.sroa.9.0
  store <2 x float> %27, ptr %retval.sroa.0, align 8
  store float %add6.i, ptr %retval.sroa.10, align 4
  %retval.sroa.0.4.y.i66.sroa_idx100 = getelementptr inbounds i8, ptr %retval.sroa.0, i64 4
  %retval.sroa.0.4.y.i66.sroa_idx101 = getelementptr inbounds i8, ptr %retval.sroa.0, i64 4
  %retval.sroa.0.4.y.i66.sroa_idx102 = getelementptr inbounds i8, ptr %retval.sroa.0, i64 4
  %retval.sroa.0.4.y.i66.sroa_idx103 = getelementptr inbounds i8, ptr %retval.sroa.0, i64 4
  %28 = extractelement <2 x float> %offset.sroa.0.0, i64 0
  %29 = extractelement <2 x float> %offset.sroa.0.0, i64 1
  br label %for.body

for.body:                                         ; preds = %entry, %for.inc
  %i.099 = phi i32 [ 0, %entry ], [ %inc, %for.inc ]
  switch i32 %i.099, label %if.end4.i [
    i32 0, label %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit
    i32 1, label %if.then3.i
  ]

if.then3.i:                                       ; preds = %for.body
  br label %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit

if.end4.i:                                        ; preds = %for.body
  br label %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit

_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit:          ; preds = %for.body, %if.then3.i, %if.end4.i
  %retval.0.i.sroa.speculated = phi float [ %29, %if.then3.i ], [ %offset.sroa.9.0, %if.end4.i ], [ %28, %for.body ]
  %cmp28 = fcmp ogt float %retval.0.i.sroa.speculated, 0.000000e+00
  br i1 %cmp28, label %if.then29, label %if.else

if.then29:                                        ; preds = %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit
  switch i32 %i.099, label %if.end4.i50 [
    i32 0, label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit
    i32 1, label %if.then3.i47
  ]

if.then3.i47:                                     ; preds = %if.then29
  br label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit

if.end4.i50:                                      ; preds = %if.then29
  br label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit

_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit:           ; preds = %if.then29, %if.then3.i47, %if.end4.i50
  %retval.0.i49 = phi ptr [ %retval.sroa.0.4.y.i66.sroa_idx102, %if.then3.i47 ], [ %retval.sroa.10, %if.end4.i50 ], [ %retval.sroa.0, %if.then29 ]
  %30 = load float, ptr %retval.0.i49, align 4
  %or.cond.i = fcmp oeq float %30, 0x7FF0000000000000
  br i1 %or.cond.i, label %_ZN4pbrt11NextFloatUpEf.exit, label %if.end.i

if.end.i:                                         ; preds = %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit
  %cmp1.i = fcmp oeq float %30, 0.000000e+00
  %v.addr.0.i = select i1 %cmp1.i, float 0.000000e+00, float %30
  %31 = bitcast float %v.addr.0.i to i32
  %cmp5.i = fcmp ult float %v.addr.0.i, 0.000000e+00
  %ui.0.v.i = select i1 %cmp5.i, i32 -1, i32 1
  %ui.0.i = add i32 %ui.0.v.i, %31
  %32 = bitcast i32 %ui.0.i to float
  br label %_ZN4pbrt11NextFloatUpEf.exit

_ZN4pbrt11NextFloatUpEf.exit:                     ; preds = %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit, %if.end.i
  %retval.0.i52 = phi float [ %32, %if.end.i ], [ 0x7FF0000000000000, %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit ]
  switch i32 %i.099, label %if.end4.i56 [
    i32 0, label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit58
    i32 1, label %if.then3.i53
  ]

if.then3.i53:                                     ; preds = %_ZN4pbrt11NextFloatUpEf.exit
  br label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit58

if.end4.i56:                                      ; preds = %_ZN4pbrt11NextFloatUpEf.exit
  br label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit58

_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit58:         ; preds = %_ZN4pbrt11NextFloatUpEf.exit, %if.then3.i53, %if.end4.i56
  %retval.0.i55 = phi ptr [ %retval.sroa.0.4.y.i66.sroa_idx103, %if.then3.i53 ], [ %retval.sroa.10, %if.end4.i56 ], [ %retval.sroa.0, %_ZN4pbrt11NextFloatUpEf.exit ]
  store float %retval.0.i52, ptr %retval.0.i55, align 4
  br label %for.inc

if.else:                                          ; preds = %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit
  switch i32 %i.099, label %if.end4.i62 [
    i32 0, label %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit64
    i32 1, label %if.then3.i59
  ]

if.then3.i59:                                     ; preds = %if.else
  br label %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit64

if.end4.i62:                                      ; preds = %if.else
  br label %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit64

_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit64:        ; preds = %if.else, %if.then3.i59, %if.end4.i62
  %retval.0.i61.sroa.speculated = phi float [ %29, %if.then3.i59 ], [ %offset.sroa.9.0, %if.end4.i62 ], [ %28, %if.else ]
  %cmp34 = fcmp olt float %retval.0.i61.sroa.speculated, 0.000000e+00
  br i1 %cmp34, label %if.then35, label %for.inc

if.then35:                                        ; preds = %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit64
  switch i32 %i.099, label %if.end4.i68 [
    i32 0, label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit70
    i32 1, label %if.then3.i65
  ]

if.then3.i65:                                     ; preds = %if.then35
  br label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit70

if.end4.i68:                                      ; preds = %if.then35
  br label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit70

_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit70:         ; preds = %if.then35, %if.then3.i65, %if.end4.i68
  %retval.0.i67 = phi ptr [ %retval.sroa.0.4.y.i66.sroa_idx100, %if.then3.i65 ], [ %retval.sroa.10, %if.end4.i68 ], [ %retval.sroa.0, %if.then35 ]
  %33 = load float, ptr %retval.0.i67, align 4
  %or.cond.i71 = fcmp oeq float %33, 0xFFF0000000000000
  br i1 %or.cond.i71, label %_ZN4pbrt13NextFloatDownEf.exit, label %if.end.i72

if.end.i72:                                       ; preds = %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit70
  %cmp1.i73 = fcmp oeq float %33, 0.000000e+00
  %v.addr.0.i74 = select i1 %cmp1.i73, float -0.000000e+00, float %33
  %34 = bitcast float %v.addr.0.i74 to i32
  %cmp5.i75 = fcmp ogt float %v.addr.0.i74, 0.000000e+00
  %ui.0.v.i76 = select i1 %cmp5.i75, i32 -1, i32 1
  %ui.0.i77 = add i32 %ui.0.v.i76, %34
  %35 = bitcast i32 %ui.0.i77 to float
  br label %_ZN4pbrt13NextFloatDownEf.exit

_ZN4pbrt13NextFloatDownEf.exit:                   ; preds = %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit70, %if.end.i72
  %retval.0.i78 = phi float [ %35, %if.end.i72 ], [ 0xFFF0000000000000, %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit70 ]
  switch i32 %i.099, label %if.end4.i82 [
    i32 0, label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit84
    i32 1, label %if.then3.i79
  ]

if.then3.i79:                                     ; preds = %_ZN4pbrt13NextFloatDownEf.exit
  br label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit84

if.end4.i82:                                      ; preds = %_ZN4pbrt13NextFloatDownEf.exit
  br label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit84

_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit84:         ; preds = %_ZN4pbrt13NextFloatDownEf.exit, %if.then3.i79, %if.end4.i82
  %retval.0.i81 = phi ptr [ %retval.sroa.0.4.y.i66.sroa_idx101, %if.then3.i79 ], [ %retval.sroa.10, %if.end4.i82 ], [ %retval.sroa.0, %_ZN4pbrt13NextFloatDownEf.exit ]
  store float %retval.0.i78, ptr %retval.0.i81, align 4
  br label %for.inc

for.inc:                                          ; preds = %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit58, %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit84, %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit64
  %inc = add nuw nsw i32 %i.099, 1
  %exitcond.not = icmp eq i32 %inc, 3
  br i1 %exitcond.not, label %for.end, label %for.body, !llvm.loop !73

for.end:                                          ; preds = %for.inc
  %retval.sroa.0.0.retval.sroa.0.0.retval.sroa.0.0.retval.sroa.0.0.coerce.dive41.coerce.sroa.0.0.copyload = load <2 x float>, ptr %retval.sroa.0, align 8
  %retval.sroa.10.0.retval.sroa.10.0.retval.sroa.10.0.retval.sroa.10.8.coerce.dive41.coerce.sroa.2.0.copyload = load float, ptr %retval.sroa.10, align 4
  %.fca.0.insert = insertvalue { <2 x float>, float } poison, <2 x float> %retval.sroa.0.0.retval.sroa.0.0.retval.sroa.0.0.retval.sroa.0.0.coerce.dive41.coerce.sroa.0.0.copyload, 0
  %.fca.1.insert = insertvalue { <2 x float>, float } %.fca.0.insert, float %retval.sroa.10.0.retval.sroa.10.0.retval.sroa.10.0.retval.sroa.10.8.coerce.dive41.coerce.sroa.2.0.copyload, 1
  ret { <2 x float>, float } %.fca.1.insert
}

; Function Attrs: mustprogress nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare float @llvm.fma.f32(float, float, float) #3

; Function Attrs: mustprogress nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare float @llvm.fabs.f32(float) #3

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local noundef zeroext i1 @_ZN4pbrt6detail8DispatchIRZNKS_8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_EUlS5_E_bNS_21CoatedDiffuseMaterialENS_23CoatedConductorMaterialENS_17ConductorMaterialENS_18DielectricMaterialENS_15DiffuseMaterialENS_27DiffuseTransmissionMaterialENS_12HairMaterialENS_16MeasuredMaterialEJNS_18SubsurfaceMaterialENS_22ThinDielectricMaterialENS_11MixMaterialEEvEET0_OS5_PKvi(ptr noundef nonnull align 8 dereferenceable(8) %func, ptr noundef %ptr, i32 noundef %index) local_unnamed_addr #1 comdat {
entry:
  %ref.tmp.i.i80 = alloca [6 x %"class.pbrt::FloatTexture"], align 8
  %ref.tmp7.i.i = alloca [2 x %"class.pbrt::SpectrumTexture"], align 16
  %ref.tmp.i.i66 = alloca [2 x %"class.pbrt::SpectrumTexture"], align 16
  %ref.tmp.i.i44 = alloca [2 x %"class.pbrt::FloatTexture"], align 16
  %ref.tmp.i.i18 = alloca [2 x %"class.pbrt::FloatTexture"], align 16
  %ref.tmp3.i.i = alloca [3 x %"class.pbrt::SpectrumTexture"], align 16
  %ref.tmp.i.i = alloca [4 x %"class.pbrt::FloatTexture"], align 8
  %ref.tmp5.i.i = alloca [2 x %"class.pbrt::SpectrumTexture"], align 16
  switch i32 %index, label %sw.default [
    i32 0, label %sw.bb
    i32 1, label %sw.bb1
    i32 2, label %sw.bb3
    i32 3, label %sw.bb5
    i32 4, label %sw.bb7
    i32 5, label %sw.bb9
    i32 6, label %sw.bb11
    i32 7, label %return
  ]

sw.bb:                                            ; preds = %entry
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %ref.tmp.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp5.i.i)
  %uRoughness.i.i = getelementptr inbounds %"class.pbrt::CoatedDiffuseMaterial", ptr %ptr, i64 0, i32 4
  %0 = load <4 x i64>, ptr %uRoughness.i.i, align 8
  store <4 x i64> %0, ptr %ref.tmp.i.i, align 8
  %reflectance.i.i = getelementptr inbounds %"class.pbrt::CoatedDiffuseMaterial", ptr %ptr, i64 0, i32 2
  %1 = load <2 x i64>, ptr %reflectance.i.i, align 8
  store <2 x i64> %1, ptr %ref.tmp5.i.i, align 16
  br label %for.body.i.i.i

for.body.i.i.i:                                   ; preds = %for.inc.i.i.i, %sw.bb
  %__begin2.038.i.idx.i.i = phi i64 [ %__begin2.038.i.add.i.i, %for.inc.i.i.i ], [ 0, %sw.bb ]
  %__begin2.038.i.ptr.i.i = getelementptr inbounds i8, ptr %ref.tmp.i.i, i64 %__begin2.038.i.idx.i.i
  %2 = load i64, ptr %__begin2.038.i.ptr.i.i, align 8
  %and.i.i.i.i = and i64 %2, 144115188075855871
  %cmp.i.not.i.i.i = icmp eq i64 %and.i.i.i.i, 0
  br i1 %cmp.i.not.i.i.i, label %for.inc.i.i.i, label %land.lhs.true.i.i.i

land.lhs.true.i.i.i:                              ; preds = %for.body.i.i.i
  %shr.i.mask.i.i.i.i = and i64 %2, -144115188075855872
  switch i64 %shr.i.mask.i.i.i.i, label %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_21CoatedDiffuseMaterialEEEDaS3_.exit [
    i64 864691128455135232, label %for.inc.i.i.i
    i64 144115188075855872, label %for.inc.i.i.i
    i64 1729382256910270464, label %for.inc.i.i.i
    i64 288230376151711744, label %for.inc.i.i.i
  ]

for.inc.i.i.i:                                    ; preds = %land.lhs.true.i.i.i, %land.lhs.true.i.i.i, %land.lhs.true.i.i.i, %land.lhs.true.i.i.i, %for.body.i.i.i
  %__begin2.038.i.add.i.i = add nuw nsw i64 %__begin2.038.i.idx.i.i, 8
  %cmp.not.i.i.i = icmp eq i64 %__begin2.038.i.add.i.i, 32
  br i1 %cmp.not.i.i.i, label %for.body18.i.i.i, label %for.body.i.i.i

for.body18.i.i.i:                                 ; preds = %for.inc.i.i.i, %for.inc30.i.i.i
  %__begin212.040.i.idx.i.i = phi i64 [ %__begin212.040.i.add.i.i, %for.inc30.i.i.i ], [ 0, %for.inc.i.i.i ]
  %__begin212.040.i.ptr.i.i = getelementptr inbounds i8, ptr %ref.tmp5.i.i, i64 %__begin212.040.i.idx.i.i
  %3 = load i64, ptr %__begin212.040.i.ptr.i.i, align 8
  %and.i16.i.i.i = and i64 %3, 144115188075855871
  %cmp.i17.not.i.i.i = icmp eq i64 %and.i16.i.i.i, 0
  br i1 %cmp.i17.not.i.i.i, label %for.inc30.i.i.i, label %land.lhs.true20.i.i.i

land.lhs.true20.i.i.i:                            ; preds = %for.body18.i.i.i
  %shr.i.mask.i18.i.i.i = and i64 %3, -144115188075855872
  switch i64 %shr.i.mask.i18.i.i.i, label %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_21CoatedDiffuseMaterialEEEDaS3_.exit [
    i64 864691128455135232, label %for.inc30.i.i.i
    i64 144115188075855872, label %for.inc30.i.i.i
    i64 1729382256910270464, label %for.inc30.i.i.i
    i64 288230376151711744, label %for.inc30.i.i.i
  ]

for.inc30.i.i.i:                                  ; preds = %land.lhs.true20.i.i.i, %land.lhs.true20.i.i.i, %land.lhs.true20.i.i.i, %land.lhs.true20.i.i.i, %for.body18.i.i.i
  %__begin212.040.i.add.i.i = add nuw nsw i64 %__begin212.040.i.idx.i.i, 8
  %cmp17.not.i.i.i = icmp eq i64 %__begin212.040.i.add.i.i, 16
  br i1 %cmp17.not.i.i.i, label %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_21CoatedDiffuseMaterialEEEDaS3_.exit, label %for.body18.i.i.i

_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_21CoatedDiffuseMaterialEEEDaS3_.exit: ; preds = %land.lhs.true.i.i.i, %land.lhs.true20.i.i.i, %for.inc30.i.i.i
  %retval.0.i.i.i = phi i1 [ false, %land.lhs.true20.i.i.i ], [ true, %for.inc30.i.i.i ], [ false, %land.lhs.true.i.i.i ]
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %ref.tmp.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp5.i.i)
  br label %return

sw.bb1:                                           ; preds = %entry
  %call.i = tail call noundef zeroext i1 @_ZNK4pbrt23CoatedConductorMaterial19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_(ptr noundef nonnull align 8 dereferenceable(116) %ptr)
  br label %return

sw.bb3:                                           ; preds = %entry
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp.i.i18)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %ref.tmp3.i.i)
  %uRoughness.i.i19 = getelementptr inbounds %"class.pbrt::ConductorMaterial", ptr %ptr, i64 0, i32 5
  %4 = load <2 x i64>, ptr %uRoughness.i.i19, align 8
  store <2 x i64> %4, ptr %ref.tmp.i.i18, align 16
  %eta.i.i = getelementptr inbounds %"class.pbrt::ConductorMaterial", ptr %ptr, i64 0, i32 2
  %5 = load <2 x i64>, ptr %eta.i.i, align 8
  store <2 x i64> %5, ptr %ref.tmp3.i.i, align 16
  %arrayinit.element6.i.i = getelementptr inbounds %"class.pbrt::SpectrumTexture", ptr %ref.tmp3.i.i, i64 2
  %reflectance.i.i22 = getelementptr inbounds %"class.pbrt::ConductorMaterial", ptr %ptr, i64 0, i32 4
  %6 = load i64, ptr %reflectance.i.i22, align 8
  store i64 %6, ptr %arrayinit.element6.i.i, align 16
  br label %for.body.i.i.i23

for.body.i.i.i23:                                 ; preds = %for.inc.i.i.i30, %sw.bb3
  %__begin2.038.i.idx.i.i24 = phi i64 [ %__begin2.038.i.add.i.i31, %for.inc.i.i.i30 ], [ 0, %sw.bb3 ]
  %__begin2.038.i.ptr.i.i25 = getelementptr inbounds i8, ptr %ref.tmp.i.i18, i64 %__begin2.038.i.idx.i.i24
  %7 = load i64, ptr %__begin2.038.i.ptr.i.i25, align 8
  %and.i.i.i.i26 = and i64 %7, 144115188075855871
  %cmp.i.not.i.i.i27 = icmp eq i64 %and.i.i.i.i26, 0
  br i1 %cmp.i.not.i.i.i27, label %for.inc.i.i.i30, label %land.lhs.true.i.i.i28

land.lhs.true.i.i.i28:                            ; preds = %for.body.i.i.i23
  %shr.i.mask.i.i.i.i29 = and i64 %7, -144115188075855872
  switch i64 %shr.i.mask.i.i.i.i29, label %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_17ConductorMaterialEEEDaS3_.exit [
    i64 864691128455135232, label %for.inc.i.i.i30
    i64 144115188075855872, label %for.inc.i.i.i30
    i64 1729382256910270464, label %for.inc.i.i.i30
    i64 288230376151711744, label %for.inc.i.i.i30
  ]

for.inc.i.i.i30:                                  ; preds = %land.lhs.true.i.i.i28, %land.lhs.true.i.i.i28, %land.lhs.true.i.i.i28, %land.lhs.true.i.i.i28, %for.body.i.i.i23
  %__begin2.038.i.add.i.i31 = add nuw nsw i64 %__begin2.038.i.idx.i.i24, 8
  %cmp.not.i.i.i32 = icmp eq i64 %__begin2.038.i.add.i.i31, 16
  br i1 %cmp.not.i.i.i32, label %for.body18.i.i.i33, label %for.body.i.i.i23

for.body18.i.i.i33:                               ; preds = %for.inc.i.i.i30, %for.inc30.i.i.i40
  %__begin212.040.i.idx.i.i34 = phi i64 [ %__begin212.040.i.add.i.i41, %for.inc30.i.i.i40 ], [ 0, %for.inc.i.i.i30 ]
  %__begin212.040.i.ptr.i.i35 = getelementptr inbounds i8, ptr %ref.tmp3.i.i, i64 %__begin212.040.i.idx.i.i34
  %8 = load i64, ptr %__begin212.040.i.ptr.i.i35, align 8
  %and.i16.i.i.i36 = and i64 %8, 144115188075855871
  %cmp.i17.not.i.i.i37 = icmp eq i64 %and.i16.i.i.i36, 0
  br i1 %cmp.i17.not.i.i.i37, label %for.inc30.i.i.i40, label %land.lhs.true20.i.i.i38

land.lhs.true20.i.i.i38:                          ; preds = %for.body18.i.i.i33
  %shr.i.mask.i18.i.i.i39 = and i64 %8, -144115188075855872
  switch i64 %shr.i.mask.i18.i.i.i39, label %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_17ConductorMaterialEEEDaS3_.exit [
    i64 864691128455135232, label %for.inc30.i.i.i40
    i64 144115188075855872, label %for.inc30.i.i.i40
    i64 1729382256910270464, label %for.inc30.i.i.i40
    i64 288230376151711744, label %for.inc30.i.i.i40
  ]

for.inc30.i.i.i40:                                ; preds = %land.lhs.true20.i.i.i38, %land.lhs.true20.i.i.i38, %land.lhs.true20.i.i.i38, %land.lhs.true20.i.i.i38, %for.body18.i.i.i33
  %__begin212.040.i.add.i.i41 = add nuw nsw i64 %__begin212.040.i.idx.i.i34, 8
  %cmp17.not.i.i.i42 = icmp eq i64 %__begin212.040.i.add.i.i41, 24
  br i1 %cmp17.not.i.i.i42, label %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_17ConductorMaterialEEEDaS3_.exit, label %for.body18.i.i.i33

_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_17ConductorMaterialEEEDaS3_.exit: ; preds = %land.lhs.true.i.i.i28, %land.lhs.true20.i.i.i38, %for.inc30.i.i.i40
  %retval.0.i.i.i43 = phi i1 [ false, %land.lhs.true20.i.i.i38 ], [ true, %for.inc30.i.i.i40 ], [ false, %land.lhs.true.i.i.i28 ]
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp.i.i18)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %ref.tmp3.i.i)
  br label %return

sw.bb5:                                           ; preds = %entry
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp.i.i44)
  %uRoughness.i.i45 = getelementptr inbounds %"class.pbrt::DielectricMaterial", ptr %ptr, i64 0, i32 2
  %9 = load <2 x i64>, ptr %uRoughness.i.i45, align 8
  store <2 x i64> %9, ptr %ref.tmp.i.i44, align 16
  br label %for.body.i.i.i48

for.body.i.i.i48:                                 ; preds = %for.inc.i.i.i55, %sw.bb5
  %__begin2.038.i.idx.i.i49 = phi i64 [ %__begin2.038.i.add.i.i56, %for.inc.i.i.i55 ], [ 0, %sw.bb5 ]
  %__begin2.038.i.ptr.i.i50 = getelementptr inbounds i8, ptr %ref.tmp.i.i44, i64 %__begin2.038.i.idx.i.i49
  %10 = load i64, ptr %__begin2.038.i.ptr.i.i50, align 8
  %and.i.i.i.i51 = and i64 %10, 144115188075855871
  %cmp.i.not.i.i.i52 = icmp eq i64 %and.i.i.i.i51, 0
  br i1 %cmp.i.not.i.i.i52, label %for.inc.i.i.i55, label %land.lhs.true.i.i.i53

land.lhs.true.i.i.i53:                            ; preds = %for.body.i.i.i48
  %shr.i.mask.i.i.i.i54 = and i64 %10, -144115188075855872
  switch i64 %shr.i.mask.i.i.i.i54, label %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_18DielectricMaterialEEEDaS3_.exit [
    i64 864691128455135232, label %for.inc.i.i.i55
    i64 144115188075855872, label %for.inc.i.i.i55
    i64 1729382256910270464, label %for.inc.i.i.i55
    i64 288230376151711744, label %for.inc.i.i.i55
  ]

for.inc.i.i.i55:                                  ; preds = %land.lhs.true.i.i.i53, %land.lhs.true.i.i.i53, %land.lhs.true.i.i.i53, %land.lhs.true.i.i.i53, %for.body.i.i.i48
  %__begin2.038.i.add.i.i56 = add nuw nsw i64 %__begin2.038.i.idx.i.i49, 8
  %cmp.not.i.i.i57 = icmp eq i64 %__begin2.038.i.add.i.i56, 16
  br i1 %cmp.not.i.i.i57, label %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_18DielectricMaterialEEEDaS3_.exit, label %for.body.i.i.i48

_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_18DielectricMaterialEEEDaS3_.exit: ; preds = %land.lhs.true.i.i.i53, %for.inc.i.i.i55
  %retval.0.i.i.i58 = phi i1 [ false, %land.lhs.true.i.i.i53 ], [ true, %for.inc.i.i.i55 ]
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp.i.i44)
  br label %return

sw.bb7:                                           ; preds = %entry
  %reflectance.i.i59 = getelementptr inbounds %"class.pbrt::DiffuseMaterial", ptr %ptr, i64 0, i32 2
  %11 = load i64, ptr %reflectance.i.i59, align 8
  %and.i16.i.i.i60 = and i64 %11, 144115188075855871
  %cmp.i17.not.i.i.i61 = icmp eq i64 %and.i16.i.i.i60, 0
  br i1 %cmp.i17.not.i.i.i61, label %for.inc30.i.i.i64, label %land.lhs.true20.i.i.i62

land.lhs.true20.i.i.i62:                          ; preds = %sw.bb7
  %shr.i.mask.i18.i.i.i63 = and i64 %11, -144115188075855872
  switch i64 %shr.i.mask.i18.i.i.i63, label %return [
    i64 864691128455135232, label %for.inc30.i.i.i64
    i64 144115188075855872, label %for.inc30.i.i.i64
    i64 1729382256910270464, label %for.inc30.i.i.i64
    i64 288230376151711744, label %for.inc30.i.i.i64
  ]

for.inc30.i.i.i64:                                ; preds = %land.lhs.true20.i.i.i62, %land.lhs.true20.i.i.i62, %land.lhs.true20.i.i.i62, %land.lhs.true20.i.i.i62, %sw.bb7
  br label %return

sw.bb9:                                           ; preds = %entry
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp.i.i66)
  %reflectance.i.i67 = getelementptr inbounds %"class.pbrt::DiffuseTransmissionMaterial", ptr %ptr, i64 0, i32 2
  %12 = load <2 x i64>, ptr %reflectance.i.i67, align 8
  store <2 x i64> %12, ptr %ref.tmp.i.i66, align 16
  br label %for.body18.i.i.i69

for.body18.i.i.i69:                               ; preds = %for.inc30.i.i.i76, %sw.bb9
  %__begin212.040.i.idx.i.i70 = phi i64 [ %__begin212.040.i.add.i.i77, %for.inc30.i.i.i76 ], [ 0, %sw.bb9 ]
  %__begin212.040.i.ptr.i.i71 = getelementptr inbounds i8, ptr %ref.tmp.i.i66, i64 %__begin212.040.i.idx.i.i70
  %13 = load i64, ptr %__begin212.040.i.ptr.i.i71, align 8
  %and.i16.i.i.i72 = and i64 %13, 144115188075855871
  %cmp.i17.not.i.i.i73 = icmp eq i64 %and.i16.i.i.i72, 0
  br i1 %cmp.i17.not.i.i.i73, label %for.inc30.i.i.i76, label %land.lhs.true20.i.i.i74

land.lhs.true20.i.i.i74:                          ; preds = %for.body18.i.i.i69
  %shr.i.mask.i18.i.i.i75 = and i64 %13, -144115188075855872
  switch i64 %shr.i.mask.i18.i.i.i75, label %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_27DiffuseTransmissionMaterialEEEDaS3_.exit [
    i64 864691128455135232, label %for.inc30.i.i.i76
    i64 144115188075855872, label %for.inc30.i.i.i76
    i64 1729382256910270464, label %for.inc30.i.i.i76
    i64 288230376151711744, label %for.inc30.i.i.i76
  ]

for.inc30.i.i.i76:                                ; preds = %land.lhs.true20.i.i.i74, %land.lhs.true20.i.i.i74, %land.lhs.true20.i.i.i74, %land.lhs.true20.i.i.i74, %for.body18.i.i.i69
  %__begin212.040.i.add.i.i77 = add nuw nsw i64 %__begin212.040.i.idx.i.i70, 8
  %cmp17.not.i.i.i78 = icmp eq i64 %__begin212.040.i.add.i.i77, 16
  br i1 %cmp17.not.i.i.i78, label %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_27DiffuseTransmissionMaterialEEEDaS3_.exit, label %for.body18.i.i.i69

_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_27DiffuseTransmissionMaterialEEEDaS3_.exit: ; preds = %land.lhs.true20.i.i.i74, %for.inc30.i.i.i76
  %retval.0.i.i.i79 = phi i1 [ true, %for.inc30.i.i.i76 ], [ false, %land.lhs.true20.i.i.i74 ]
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp.i.i66)
  br label %return

sw.bb11:                                          ; preds = %entry
  call void @llvm.lifetime.start.p0(i64 48, ptr nonnull %ref.tmp.i.i80)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp7.i.i)
  %eumelanin.i.i = getelementptr inbounds %"class.pbrt::HairMaterial", ptr %ptr, i64 0, i32 2
  %14 = load <4 x i64>, ptr %eumelanin.i.i, align 8
  store <4 x i64> %14, ptr %ref.tmp.i.i80, align 8
  %arrayinit.element4.i.i = getelementptr inbounds %"class.pbrt::FloatTexture", ptr %ref.tmp.i.i80, i64 4
  %beta_n.i.i = getelementptr inbounds %"class.pbrt::HairMaterial", ptr %ptr, i64 0, i32 6
  %15 = load <2 x i64>, ptr %beta_n.i.i, align 8
  store <2 x i64> %15, ptr %arrayinit.element4.i.i, align 8
  %16 = load <2 x i64>, ptr %ptr, align 8
  store <2 x i64> %16, ptr %ref.tmp7.i.i, align 16
  br label %for.body.i.i.i86

for.body.i.i.i86:                                 ; preds = %for.inc.i.i.i93, %sw.bb11
  %__begin2.038.i.idx.i.i87 = phi i64 [ %__begin2.038.i.add.i.i94, %for.inc.i.i.i93 ], [ 0, %sw.bb11 ]
  %__begin2.038.i.ptr.i.i88 = getelementptr inbounds i8, ptr %ref.tmp.i.i80, i64 %__begin2.038.i.idx.i.i87
  %17 = load i64, ptr %__begin2.038.i.ptr.i.i88, align 8
  %and.i.i.i.i89 = and i64 %17, 144115188075855871
  %cmp.i.not.i.i.i90 = icmp eq i64 %and.i.i.i.i89, 0
  br i1 %cmp.i.not.i.i.i90, label %for.inc.i.i.i93, label %land.lhs.true.i.i.i91

land.lhs.true.i.i.i91:                            ; preds = %for.body.i.i.i86
  %shr.i.mask.i.i.i.i92 = and i64 %17, -144115188075855872
  switch i64 %shr.i.mask.i.i.i.i92, label %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_12HairMaterialEEEDaS3_.exit [
    i64 864691128455135232, label %for.inc.i.i.i93
    i64 144115188075855872, label %for.inc.i.i.i93
    i64 1729382256910270464, label %for.inc.i.i.i93
    i64 288230376151711744, label %for.inc.i.i.i93
  ]

for.inc.i.i.i93:                                  ; preds = %land.lhs.true.i.i.i91, %land.lhs.true.i.i.i91, %land.lhs.true.i.i.i91, %land.lhs.true.i.i.i91, %for.body.i.i.i86
  %__begin2.038.i.add.i.i94 = add nuw nsw i64 %__begin2.038.i.idx.i.i87, 8
  %cmp.not.i.i.i95 = icmp eq i64 %__begin2.038.i.add.i.i94, 48
  br i1 %cmp.not.i.i.i95, label %for.body18.i.i.i96, label %for.body.i.i.i86

for.body18.i.i.i96:                               ; preds = %for.inc.i.i.i93, %for.inc30.i.i.i103
  %__begin212.040.i.idx.i.i97 = phi i64 [ %__begin212.040.i.add.i.i104, %for.inc30.i.i.i103 ], [ 0, %for.inc.i.i.i93 ]
  %__begin212.040.i.ptr.i.i98 = getelementptr inbounds i8, ptr %ref.tmp7.i.i, i64 %__begin212.040.i.idx.i.i97
  %18 = load i64, ptr %__begin212.040.i.ptr.i.i98, align 8
  %and.i16.i.i.i99 = and i64 %18, 144115188075855871
  %cmp.i17.not.i.i.i100 = icmp eq i64 %and.i16.i.i.i99, 0
  br i1 %cmp.i17.not.i.i.i100, label %for.inc30.i.i.i103, label %land.lhs.true20.i.i.i101

land.lhs.true20.i.i.i101:                         ; preds = %for.body18.i.i.i96
  %shr.i.mask.i18.i.i.i102 = and i64 %18, -144115188075855872
  switch i64 %shr.i.mask.i18.i.i.i102, label %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_12HairMaterialEEEDaS3_.exit [
    i64 864691128455135232, label %for.inc30.i.i.i103
    i64 144115188075855872, label %for.inc30.i.i.i103
    i64 1729382256910270464, label %for.inc30.i.i.i103
    i64 288230376151711744, label %for.inc30.i.i.i103
  ]

for.inc30.i.i.i103:                               ; preds = %land.lhs.true20.i.i.i101, %land.lhs.true20.i.i.i101, %land.lhs.true20.i.i.i101, %land.lhs.true20.i.i.i101, %for.body18.i.i.i96
  %__begin212.040.i.add.i.i104 = add nuw nsw i64 %__begin212.040.i.idx.i.i97, 8
  %cmp17.not.i.i.i105 = icmp eq i64 %__begin212.040.i.add.i.i104, 16
  br i1 %cmp17.not.i.i.i105, label %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_12HairMaterialEEEDaS3_.exit, label %for.body18.i.i.i96

_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_12HairMaterialEEEDaS3_.exit: ; preds = %land.lhs.true.i.i.i91, %land.lhs.true20.i.i.i101, %for.inc30.i.i.i103
  %retval.0.i.i.i106 = phi i1 [ false, %land.lhs.true20.i.i.i101 ], [ true, %for.inc30.i.i.i103 ], [ false, %land.lhs.true.i.i.i91 ]
  call void @llvm.lifetime.end.p0(i64 48, ptr nonnull %ref.tmp.i.i80)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp7.i.i)
  br label %return

sw.default:                                       ; preds = %entry
  %sub = add nsw i32 %index, -8
  %call15 = tail call noundef zeroext i1 @_ZN4pbrt6detail8DispatchIRZNKS_8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_EUlS5_E_bNS_18SubsurfaceMaterialENS_22ThinDielectricMaterialENS_11MixMaterialEEET0_OS5_PKvi(ptr noundef nonnull align 8 dereferenceable(8) %func, ptr noundef %ptr, i32 noundef %sub)
  br label %return

return:                                           ; preds = %entry, %for.inc30.i.i.i64, %land.lhs.true20.i.i.i62, %sw.default, %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_12HairMaterialEEEDaS3_.exit, %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_27DiffuseTransmissionMaterialEEEDaS3_.exit, %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_18DielectricMaterialEEEDaS3_.exit, %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_17ConductorMaterialEEEDaS3_.exit, %sw.bb1, %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_21CoatedDiffuseMaterialEEEDaS3_.exit
  %retval.0 = phi i1 [ %call15, %sw.default ], [ %retval.0.i.i.i106, %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_12HairMaterialEEEDaS3_.exit ], [ %retval.0.i.i.i79, %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_27DiffuseTransmissionMaterialEEEDaS3_.exit ], [ %retval.0.i.i.i58, %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_18DielectricMaterialEEEDaS3_.exit ], [ %retval.0.i.i.i43, %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_17ConductorMaterialEEEDaS3_.exit ], [ %call.i, %sw.bb1 ], [ %retval.0.i.i.i, %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_21CoatedDiffuseMaterialEEEDaS3_.exit ], [ true, %for.inc30.i.i.i64 ], [ false, %land.lhs.true20.i.i.i62 ], [ true, %entry ]
  ret i1 %retval.0
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local noundef zeroext i1 @_ZN4pbrt6detail8DispatchIRZNKS_8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_EUlS5_E_bNS_18SubsurfaceMaterialENS_22ThinDielectricMaterialENS_11MixMaterialEEET0_OS5_PKvi(ptr noundef nonnull align 8 dereferenceable(8) %func, ptr noundef %ptr, i32 noundef %index) local_unnamed_addr #1 comdat {
entry:
  %ref.tmp.i.i = alloca [2 x %"class.pbrt::FloatTexture"], align 16
  %ref.tmp3.i.i = alloca [2 x %"class.pbrt::SpectrumTexture"], align 16
  switch i32 %index, label %sw.default [
    i32 0, label %sw.bb
    i32 1, label %return
  ]

sw.bb:                                            ; preds = %entry
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp3.i.i)
  %uRoughness.i.i = getelementptr inbounds %"class.pbrt::SubsurfaceMaterial", ptr %ptr, i64 0, i32 8
  %0 = load <2 x i64>, ptr %uRoughness.i.i, align 8
  store <2 x i64> %0, ptr %ref.tmp.i.i, align 16
  %sigma_a.i.i = getelementptr inbounds %"class.pbrt::SubsurfaceMaterial", ptr %ptr, i64 0, i32 2
  %1 = load <2 x i64>, ptr %sigma_a.i.i, align 8
  store <2 x i64> %1, ptr %ref.tmp3.i.i, align 16
  br label %for.body.i.i.i

for.body.i.i.i:                                   ; preds = %for.inc.i.i.i, %sw.bb
  %__begin2.038.i.idx.i.i = phi i64 [ %__begin2.038.i.add.i.i, %for.inc.i.i.i ], [ 0, %sw.bb ]
  %__begin2.038.i.ptr.i.i = getelementptr inbounds i8, ptr %ref.tmp.i.i, i64 %__begin2.038.i.idx.i.i
  %2 = load i64, ptr %__begin2.038.i.ptr.i.i, align 8
  %and.i.i.i.i = and i64 %2, 144115188075855871
  %cmp.i.not.i.i.i = icmp eq i64 %and.i.i.i.i, 0
  br i1 %cmp.i.not.i.i.i, label %for.inc.i.i.i, label %land.lhs.true.i.i.i

land.lhs.true.i.i.i:                              ; preds = %for.body.i.i.i
  %shr.i.mask.i.i.i.i = and i64 %2, -144115188075855872
  switch i64 %shr.i.mask.i.i.i.i, label %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_18SubsurfaceMaterialEEEDaS3_.exit [
    i64 864691128455135232, label %for.inc.i.i.i
    i64 144115188075855872, label %for.inc.i.i.i
    i64 1729382256910270464, label %for.inc.i.i.i
    i64 288230376151711744, label %for.inc.i.i.i
  ]

for.inc.i.i.i:                                    ; preds = %land.lhs.true.i.i.i, %land.lhs.true.i.i.i, %land.lhs.true.i.i.i, %land.lhs.true.i.i.i, %for.body.i.i.i
  %__begin2.038.i.add.i.i = add nuw nsw i64 %__begin2.038.i.idx.i.i, 8
  %cmp.not.i.i.i = icmp eq i64 %__begin2.038.i.add.i.i, 16
  br i1 %cmp.not.i.i.i, label %for.body18.i.i.i, label %for.body.i.i.i

for.body18.i.i.i:                                 ; preds = %for.inc.i.i.i, %for.inc30.i.i.i
  %__begin212.040.i.idx.i.i = phi i64 [ %__begin212.040.i.add.i.i, %for.inc30.i.i.i ], [ 0, %for.inc.i.i.i ]
  %__begin212.040.i.ptr.i.i = getelementptr inbounds i8, ptr %ref.tmp3.i.i, i64 %__begin212.040.i.idx.i.i
  %3 = load i64, ptr %__begin212.040.i.ptr.i.i, align 8
  %and.i16.i.i.i = and i64 %3, 144115188075855871
  %cmp.i17.not.i.i.i = icmp eq i64 %and.i16.i.i.i, 0
  br i1 %cmp.i17.not.i.i.i, label %for.inc30.i.i.i, label %land.lhs.true20.i.i.i

land.lhs.true20.i.i.i:                            ; preds = %for.body18.i.i.i
  %shr.i.mask.i18.i.i.i = and i64 %3, -144115188075855872
  switch i64 %shr.i.mask.i18.i.i.i, label %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_18SubsurfaceMaterialEEEDaS3_.exit [
    i64 864691128455135232, label %for.inc30.i.i.i
    i64 144115188075855872, label %for.inc30.i.i.i
    i64 1729382256910270464, label %for.inc30.i.i.i
    i64 288230376151711744, label %for.inc30.i.i.i
  ]

for.inc30.i.i.i:                                  ; preds = %land.lhs.true20.i.i.i, %land.lhs.true20.i.i.i, %land.lhs.true20.i.i.i, %land.lhs.true20.i.i.i, %for.body18.i.i.i
  %__begin212.040.i.add.i.i = add nuw nsw i64 %__begin212.040.i.idx.i.i, 8
  %cmp17.not.i.i.i = icmp eq i64 %__begin212.040.i.add.i.i, 16
  br i1 %cmp17.not.i.i.i, label %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_18SubsurfaceMaterialEEEDaS3_.exit, label %for.body18.i.i.i

_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_18SubsurfaceMaterialEEEDaS3_.exit: ; preds = %land.lhs.true.i.i.i, %land.lhs.true20.i.i.i, %for.inc30.i.i.i
  %retval.0.i.i.i = phi i1 [ false, %land.lhs.true20.i.i.i ], [ true, %for.inc30.i.i.i ], [ false, %land.lhs.true.i.i.i ]
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp3.i.i)
  br label %return

sw.default:                                       ; preds = %entry
  %4 = load i64, ptr %ptr, align 8
  %and.i.i.i.i5 = and i64 %4, 144115188075855871
  %cmp.i.not.i.i.i6 = icmp eq i64 %and.i.i.i.i5, 0
  br i1 %cmp.i.not.i.i.i6, label %for.inc.i.i.i9, label %land.lhs.true.i.i.i7

land.lhs.true.i.i.i7:                             ; preds = %sw.default
  %shr.i.mask.i.i.i.i8 = and i64 %4, -144115188075855872
  switch i64 %shr.i.mask.i.i.i.i8, label %return [
    i64 864691128455135232, label %for.inc.i.i.i9
    i64 144115188075855872, label %for.inc.i.i.i9
    i64 1729382256910270464, label %for.inc.i.i.i9
    i64 288230376151711744, label %for.inc.i.i.i9
  ]

for.inc.i.i.i9:                                   ; preds = %land.lhs.true.i.i.i7, %land.lhs.true.i.i.i7, %land.lhs.true.i.i.i7, %land.lhs.true.i.i.i7, %sw.default
  br label %return

return:                                           ; preds = %for.inc.i.i.i9, %land.lhs.true.i.i.i7, %entry, %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_18SubsurfaceMaterialEEEDaS3_.exit
  %retval.0 = phi i1 [ %retval.0.i.i.i, %_ZZNK4pbrt8Material19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_ENKUlS3_E_clIPKNS_18SubsurfaceMaterialEEEDaS3_.exit ], [ true, %entry ], [ false, %land.lhs.true.i.i.i7 ], [ true, %for.inc.i.i.i9 ]
  ret i1 %retval.0
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local noundef zeroext i1 @_ZNK4pbrt23CoatedConductorMaterial19CanEvaluateTexturesINS_21BasicTextureEvaluatorEEEbT_(ptr noundef nonnull align 8 dereferenceable(116) %this) local_unnamed_addr #1 comdat align 2 {
entry:
  %ref.tmp = alloca [6 x %"class.pbrt::FloatTexture"], align 16
  %ref.tmp7 = alloca [4 x %"class.pbrt::SpectrumTexture"], align 16
  %interfaceURoughness = getelementptr inbounds %"class.pbrt::CoatedConductorMaterial", ptr %this, i64 0, i32 2
  %0 = load <2 x i64>, ptr %interfaceURoughness, align 8
  store <2 x i64> %0, ptr %ref.tmp, align 16
  %arrayinit.element2 = getelementptr inbounds %"class.pbrt::FloatTexture", ptr %ref.tmp, i64 2
  %thickness = getelementptr inbounds %"class.pbrt::CoatedConductorMaterial", ptr %this, i64 0, i32 4
  %1 = load i64, ptr %thickness, align 8
  store i64 %1, ptr %arrayinit.element2, align 16
  %arrayinit.element3 = getelementptr inbounds %"class.pbrt::FloatTexture", ptr %ref.tmp, i64 3
  %g = getelementptr inbounds %"class.pbrt::CoatedConductorMaterial", ptr %this, i64 0, i32 6
  %2 = load i64, ptr %g, align 8
  store i64 %2, ptr %arrayinit.element3, align 8
  %arrayinit.element4 = getelementptr inbounds %"class.pbrt::FloatTexture", ptr %ref.tmp, i64 4
  %conductorURoughness = getelementptr inbounds %"class.pbrt::CoatedConductorMaterial", ptr %this, i64 0, i32 8
  %3 = load <2 x i64>, ptr %conductorURoughness, align 8
  store <2 x i64> %3, ptr %arrayinit.element4, align 16
  %conductorEta = getelementptr inbounds %"class.pbrt::CoatedConductorMaterial", ptr %this, i64 0, i32 10
  %4 = load <2 x i64>, ptr %conductorEta, align 8
  store <2 x i64> %4, ptr %ref.tmp7, align 16
  %arrayinit.element10 = getelementptr inbounds %"class.pbrt::SpectrumTexture", ptr %ref.tmp7, i64 2
  %reflectance = getelementptr inbounds %"class.pbrt::CoatedConductorMaterial", ptr %this, i64 0, i32 12
  %5 = load i64, ptr %reflectance, align 8
  store i64 %5, ptr %arrayinit.element10, align 16
  %arrayinit.element11 = getelementptr inbounds %"class.pbrt::SpectrumTexture", ptr %ref.tmp7, i64 3
  %albedo = getelementptr inbounds %"class.pbrt::CoatedConductorMaterial", ptr %this, i64 0, i32 7
  %6 = load i64, ptr %albedo, align 8
  store i64 %6, ptr %arrayinit.element11, align 8
  br label %for.body.i

for.body.i:                                       ; preds = %for.inc.i, %entry
  %__begin2.038.i.idx = phi i64 [ %__begin2.038.i.add, %for.inc.i ], [ 0, %entry ]
  %__begin2.038.i.ptr = getelementptr inbounds i8, ptr %ref.tmp, i64 %__begin2.038.i.idx
  %7 = load i64, ptr %__begin2.038.i.ptr, align 8
  %and.i.i = and i64 %7, 144115188075855871
  %cmp.i.not.i = icmp eq i64 %and.i.i, 0
  br i1 %cmp.i.not.i, label %for.inc.i, label %land.lhs.true.i

land.lhs.true.i:                                  ; preds = %for.body.i
  %shr.i.mask.i.i = and i64 %7, -144115188075855872
  switch i64 %shr.i.mask.i.i, label %_ZNK4pbrt21BasicTextureEvaluator11CanEvaluateESt16initializer_listINS_12FloatTextureEES1_INS_15SpectrumTextureEE.exit [
    i64 864691128455135232, label %for.inc.i
    i64 144115188075855872, label %for.inc.i
    i64 1729382256910270464, label %for.inc.i
    i64 288230376151711744, label %for.inc.i
  ]

for.inc.i:                                        ; preds = %land.lhs.true.i, %land.lhs.true.i, %land.lhs.true.i, %land.lhs.true.i, %for.body.i
  %__begin2.038.i.add = add nuw nsw i64 %__begin2.038.i.idx, 8
  %cmp.not.i = icmp eq i64 %__begin2.038.i.add, 48
  br i1 %cmp.not.i, label %for.body18.i, label %for.body.i

for.body18.i:                                     ; preds = %for.inc.i, %for.inc30.i
  %__begin212.040.i.idx = phi i64 [ %__begin212.040.i.add, %for.inc30.i ], [ 0, %for.inc.i ]
  %__begin212.040.i.ptr = getelementptr inbounds i8, ptr %ref.tmp7, i64 %__begin212.040.i.idx
  %8 = load i64, ptr %__begin212.040.i.ptr, align 8
  %and.i16.i = and i64 %8, 144115188075855871
  %cmp.i17.not.i = icmp eq i64 %and.i16.i, 0
  br i1 %cmp.i17.not.i, label %for.inc30.i, label %land.lhs.true20.i

land.lhs.true20.i:                                ; preds = %for.body18.i
  %shr.i.mask.i18.i = and i64 %8, -144115188075855872
  switch i64 %shr.i.mask.i18.i, label %_ZNK4pbrt21BasicTextureEvaluator11CanEvaluateESt16initializer_listINS_12FloatTextureEES1_INS_15SpectrumTextureEE.exit [
    i64 864691128455135232, label %for.inc30.i
    i64 144115188075855872, label %for.inc30.i
    i64 1729382256910270464, label %for.inc30.i
    i64 288230376151711744, label %for.inc30.i
  ]

for.inc30.i:                                      ; preds = %land.lhs.true20.i, %land.lhs.true20.i, %land.lhs.true20.i, %land.lhs.true20.i, %for.body18.i
  %__begin212.040.i.add = add nuw nsw i64 %__begin212.040.i.idx, 8
  %cmp17.not.i = icmp eq i64 %__begin212.040.i.add, 32
  br i1 %cmp17.not.i, label %_ZNK4pbrt21BasicTextureEvaluator11CanEvaluateESt16initializer_listINS_12FloatTextureEES1_INS_15SpectrumTextureEE.exit, label %for.body18.i

_ZNK4pbrt21BasicTextureEvaluator11CanEvaluateESt16initializer_listINS_12FloatTextureEES1_INS_15SpectrumTextureEE.exit: ; preds = %land.lhs.true.i, %land.lhs.true20.i, %for.inc30.i
  %retval.0.i = phi i1 [ false, %land.lhs.true20.i ], [ true, %for.inc30.i ], [ false, %land.lhs.true.i ]
  ret i1 %retval.0.i
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail8DispatchIRZNS_28EnqueueWorkAfterIntersectionENS_11RayWorkItemENS_6MediumEfNS_18SurfaceInteractionEPNS_17MediumSampleQueueEPNS_8RayQueueEPNS_9WorkQueueINS_20HitAreaLightWorkItemEEEPNS_14MultiWorkQueueINS_8TypePackIJNS_20MaterialEvalWorkItemINS_21CoatedDiffuseMaterialEEENSF_INS_23CoatedConductorMaterialEEENSF_INS_17ConductorMaterialEEENSF_INS_18DielectricMaterialEEENSF_INS_15DiffuseMaterialEEENSF_INS_27DiffuseTransmissionMaterialEEENSF_INS_12HairMaterialEEENSF_INS_16MeasuredMaterialEEENSF_INS_18SubsurfaceMaterialEEENSF_INS_22ThinDielectricMaterialEEENSF_INS_11MixMaterialEEEEEEEES14_EUlT_E_vSG_SI_SK_SM_SO_SQ_SS_SU_JSW_SY_S10_EvEET0_OS15_Pvi(ptr noundef nonnull align 8 dereferenceable(464) %func, ptr noundef %ptr, i32 noundef %index) local_unnamed_addr #1 comdat {
entry:
  %ref.tmp.i.i.i288 = alloca %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::MeasuredMaterial>>::GetSetIndirector", align 8
  %agg.tmp.i.i289 = alloca %"struct.pbrt::MaterialEvalWorkItem.211", align 8
  %ref.tmp.i.i.i243 = alloca %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::HairMaterial>>::GetSetIndirector", align 8
  %agg.tmp.i.i244 = alloca %"struct.pbrt::MaterialEvalWorkItem.210", align 8
  %ref.tmp.i.i.i198 = alloca %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::DiffuseTransmissionMaterial>>::GetSetIndirector", align 8
  %agg.tmp.i.i199 = alloca %"struct.pbrt::MaterialEvalWorkItem.209", align 8
  %ref.tmp.i.i.i153 = alloca %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::DiffuseMaterial>>::GetSetIndirector", align 8
  %agg.tmp.i.i154 = alloca %"struct.pbrt::MaterialEvalWorkItem.208", align 8
  %ref.tmp.i.i.i108 = alloca %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::DielectricMaterial>>::GetSetIndirector", align 8
  %agg.tmp.i.i109 = alloca %"struct.pbrt::MaterialEvalWorkItem.207", align 8
  %ref.tmp.i.i.i63 = alloca %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::ConductorMaterial>>::GetSetIndirector", align 8
  %agg.tmp.i.i64 = alloca %"struct.pbrt::MaterialEvalWorkItem.206", align 8
  %ref.tmp.i.i.i18 = alloca %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::CoatedConductorMaterial>>::GetSetIndirector", align 8
  %agg.tmp.i.i19 = alloca %"struct.pbrt::MaterialEvalWorkItem.205", align 8
  %ref.tmp.i.i.i = alloca %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::CoatedDiffuseMaterial>>::GetSetIndirector", align 8
  %agg.tmp.i.i = alloca %"struct.pbrt::MaterialEvalWorkItem", align 8
  switch i32 %index, label %sw.default [
    i32 0, label %sw.bb
    i32 1, label %sw.bb1
    i32 2, label %sw.bb2
    i32 3, label %sw.bb3
    i32 4, label %sw.bb4
    i32 5, label %sw.bb5
    i32 6, label %sw.bb6
    i32 7, label %sw.bb7
  ]

sw.bb:                                            ; preds = %entry
  %0 = load ptr, ptr %func, align 8
  %1 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1
  %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 8
  call void @llvm.lifetime.start.p0(i64 256, ptr nonnull %agg.tmp.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 8 dereferenceable(24) %1, i64 24, i1 false)
  %n3.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 3
  %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 32
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 8 dereferenceable(12) %n3.i, i64 12, i1 false)
  %dpdu4.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 1
  %dpdv5.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 2
  %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 56
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 4 dereferenceable(12) %dpdv5.i, i64 12, i1 false)
  %time6.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 1
  %2 = load float, ptr %time6.i, align 8
  %depth7.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 1
  %3 = load i32, ptr %depth7.i, align 8
  %shading.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5
  %dpdu10.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 1
  %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 88
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 4 dereferenceable(12) %dpdu10.i, i64 12, i1 false)
  %dpdv12.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 2
  %dndu.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 3
  %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 112
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 4 dereferenceable(12) %dndu.i, i64 12, i1 false)
  %dndv.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 4
  %uv15.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 4
  %4 = load i64, ptr %uv15.i, align 4
  %faceIndex16.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 6
  %5 = load i32, ptr %faceIndex16.i, align 4
  %lambda17.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 2
  %pixelIndex18.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 3
  %6 = load i32, ptr %pixelIndex18.i, align 4
  %anyNonSpecularBounces19.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 10
  %7 = load i32, ptr %anyNonSpecularBounces19.i, align 8
  %wo20.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 2
  %beta21.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 4
  %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 200
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 8 dereferenceable(16) %beta21.i, i64 16, i1 false)
  %r_u22.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 5
  %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 216
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 8 dereferenceable(16) %r_u22.i, i64 16, i1 false)
  %etaScale23.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 8
  %8 = load float, ptr %etaScale23.i, align 8
  %9 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 3
  %value.i.i.i.i = getelementptr inbounds %"struct.pstd::tuple", ptr %0, i64 0, i32 1
  store ptr %ptr, ptr %agg.tmp.i.i, align 8
  %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 44
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 8 dereferenceable(12) %dpdu4.i, i64 12, i1 false)
  %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 68
  store float %2, ptr %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i, align 4
  %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 72
  store i32 %3, ptr %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i, align 8
  %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 76
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 8 dereferenceable(12) %shading.i, i64 12, i1 false)
  %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 100
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 8 dereferenceable(12) %dpdv12.i, i64 12, i1 false)
  %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 124
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 8 dereferenceable(12) %dndv.i, i64 12, i1 false)
  %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 136
  store i64 %4, ptr %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i, align 8
  %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 144
  store i32 %5, ptr %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i, align 8
  %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 148
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(32) %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 4 dereferenceable(32) %lambda17.i, i64 32, i1 false)
  %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 180
  store i32 %6, ptr %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i, align 4
  %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 184
  store i32 %7, ptr %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i, align 8
  %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 188
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 4 dereferenceable(12) %wo20.i, i64 12, i1 false)
  %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 232
  store float %8, ptr %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i, align 8
  %mediumInterface.i.i.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %agg.tmp.i.i, i64 0, i32 21
  %10 = load <2 x i64>, ptr %9, align 8
  store <2 x i64> %10, ptr %mediumInterface.i.i.i, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp.i.i.i)
  %size.i.i.i.i = getelementptr inbounds %"struct.pstd::tuple", ptr %0, i64 0, i32 1, i32 1
  %11 = atomicrmw add ptr %size.i.i.i.i, i32 1 monotonic, align 4
  store ptr %value.i.i.i.i, ptr %ref.tmp.i.i.i, align 8
  %12 = getelementptr inbounds { ptr, i32 }, ptr %ref.tmp.i.i.i, i64 0, i32 1
  store i32 %11, ptr %12, align 8
  call void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_21CoatedDiffuseMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.i.i.i, ptr noundef nonnull align 8 dereferenceable(256) %agg.tmp.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp.i.i.i)
  call void @llvm.lifetime.end.p0(i64 256, ptr nonnull %agg.tmp.i.i)
  br label %return

sw.bb1:                                           ; preds = %entry
  %13 = load ptr, ptr %func, align 8
  %14 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1
  %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i20 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 8
  call void @llvm.lifetime.start.p0(i64 256, ptr nonnull %agg.tmp.i.i19)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i20, ptr noundef nonnull align 8 dereferenceable(24) %14, i64 24, i1 false)
  %n3.i21 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 3
  %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i22 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 32
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i22, ptr noundef nonnull align 8 dereferenceable(12) %n3.i21, i64 12, i1 false)
  %dpdu4.i23 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 1
  %dpdv5.i24 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 2
  %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i25 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 56
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i25, ptr noundef nonnull align 4 dereferenceable(12) %dpdv5.i24, i64 12, i1 false)
  %time6.i26 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 1
  %15 = load float, ptr %time6.i26, align 8
  %depth7.i27 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 1
  %16 = load i32, ptr %depth7.i27, align 8
  %shading.i28 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5
  %dpdu10.i29 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 1
  %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i30 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 88
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i30, ptr noundef nonnull align 4 dereferenceable(12) %dpdu10.i29, i64 12, i1 false)
  %dpdv12.i31 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 2
  %dndu.i32 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 3
  %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i33 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 112
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i33, ptr noundef nonnull align 4 dereferenceable(12) %dndu.i32, i64 12, i1 false)
  %dndv.i34 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 4
  %uv15.i35 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 4
  %17 = load i64, ptr %uv15.i35, align 4
  %faceIndex16.i36 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 6
  %18 = load i32, ptr %faceIndex16.i36, align 4
  %lambda17.i37 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 2
  %pixelIndex18.i38 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 3
  %19 = load i32, ptr %pixelIndex18.i38, align 4
  %anyNonSpecularBounces19.i39 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 10
  %20 = load i32, ptr %anyNonSpecularBounces19.i39, align 8
  %wo20.i40 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 2
  %beta21.i41 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 4
  %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i42 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 200
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i42, ptr noundef nonnull align 8 dereferenceable(16) %beta21.i41, i64 16, i1 false)
  %r_u22.i43 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 5
  %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i44 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 216
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i44, ptr noundef nonnull align 8 dereferenceable(16) %r_u22.i43, i64 16, i1 false)
  %etaScale23.i45 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 8
  %21 = load float, ptr %etaScale23.i45, align 8
  %22 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 3
  %value.i.i.i.i.i = getelementptr inbounds %"struct.pstd::tuple.161", ptr %13, i64 0, i32 1
  store ptr %ptr, ptr %agg.tmp.i.i19, align 8
  %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i47 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 44
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i47, ptr noundef nonnull align 8 dereferenceable(12) %dpdu4.i23, i64 12, i1 false)
  %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i48 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 68
  store float %15, ptr %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i48, align 4
  %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i49 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 72
  store i32 %16, ptr %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i49, align 8
  %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i50 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 76
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i50, ptr noundef nonnull align 8 dereferenceable(12) %shading.i28, i64 12, i1 false)
  %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i51 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 100
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i51, ptr noundef nonnull align 8 dereferenceable(12) %dpdv12.i31, i64 12, i1 false)
  %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i52 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 124
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i52, ptr noundef nonnull align 8 dereferenceable(12) %dndv.i34, i64 12, i1 false)
  %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i53 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 136
  store i64 %17, ptr %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i53, align 8
  %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i54 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 144
  store i32 %18, ptr %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i54, align 8
  %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i55 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 148
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(32) %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i55, ptr noundef nonnull align 4 dereferenceable(32) %lambda17.i37, i64 32, i1 false)
  %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i56 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 180
  store i32 %19, ptr %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i56, align 4
  %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i57 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 184
  store i32 %20, ptr %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i57, align 8
  %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i58 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 188
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i58, ptr noundef nonnull align 4 dereferenceable(12) %wo20.i40, i64 12, i1 false)
  %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i59 = getelementptr inbounds i8, ptr %agg.tmp.i.i19, i64 232
  store float %21, ptr %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i59, align 8
  %mediumInterface.i.i.i60 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %agg.tmp.i.i19, i64 0, i32 21
  %23 = load <2 x i64>, ptr %22, align 8
  store <2 x i64> %23, ptr %mediumInterface.i.i.i60, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp.i.i.i18)
  %size.i.i.i.i62 = getelementptr inbounds %"struct.pstd::tuple.161", ptr %13, i64 0, i32 1, i32 1
  %24 = atomicrmw add ptr %size.i.i.i.i62, i32 1 monotonic, align 4
  store ptr %value.i.i.i.i.i, ptr %ref.tmp.i.i.i18, align 8
  %25 = getelementptr inbounds { ptr, i32 }, ptr %ref.tmp.i.i.i18, i64 0, i32 1
  store i32 %24, ptr %25, align 8
  call void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_23CoatedConductorMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.i.i.i18, ptr noundef nonnull align 8 dereferenceable(256) %agg.tmp.i.i19)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp.i.i.i18)
  call void @llvm.lifetime.end.p0(i64 256, ptr nonnull %agg.tmp.i.i19)
  br label %return

sw.bb2:                                           ; preds = %entry
  %26 = load ptr, ptr %func, align 8
  %27 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1
  %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i65 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 8
  call void @llvm.lifetime.start.p0(i64 256, ptr nonnull %agg.tmp.i.i64)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i65, ptr noundef nonnull align 8 dereferenceable(24) %27, i64 24, i1 false)
  %n3.i66 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 3
  %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i67 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 32
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i67, ptr noundef nonnull align 8 dereferenceable(12) %n3.i66, i64 12, i1 false)
  %dpdu4.i68 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 1
  %dpdv5.i69 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 2
  %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i70 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 56
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i70, ptr noundef nonnull align 4 dereferenceable(12) %dpdv5.i69, i64 12, i1 false)
  %time6.i71 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 1
  %28 = load float, ptr %time6.i71, align 8
  %depth7.i72 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 1
  %29 = load i32, ptr %depth7.i72, align 8
  %shading.i73 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5
  %dpdu10.i74 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 1
  %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i75 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 88
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i75, ptr noundef nonnull align 4 dereferenceable(12) %dpdu10.i74, i64 12, i1 false)
  %dpdv12.i76 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 2
  %dndu.i77 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 3
  %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i78 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 112
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i78, ptr noundef nonnull align 4 dereferenceable(12) %dndu.i77, i64 12, i1 false)
  %dndv.i79 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 4
  %uv15.i80 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 4
  %30 = load i64, ptr %uv15.i80, align 4
  %faceIndex16.i81 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 6
  %31 = load i32, ptr %faceIndex16.i81, align 4
  %lambda17.i82 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 2
  %pixelIndex18.i83 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 3
  %32 = load i32, ptr %pixelIndex18.i83, align 4
  %anyNonSpecularBounces19.i84 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 10
  %33 = load i32, ptr %anyNonSpecularBounces19.i84, align 8
  %wo20.i85 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 2
  %beta21.i86 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 4
  %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i87 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 200
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i87, ptr noundef nonnull align 8 dereferenceable(16) %beta21.i86, i64 16, i1 false)
  %r_u22.i88 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 5
  %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i89 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 216
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i89, ptr noundef nonnull align 8 dereferenceable(16) %r_u22.i88, i64 16, i1 false)
  %etaScale23.i90 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 8
  %34 = load float, ptr %etaScale23.i90, align 8
  %35 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 3
  %value.i.i.i.i.i.i = getelementptr inbounds %"struct.pstd::tuple.162", ptr %26, i64 0, i32 1
  store ptr %ptr, ptr %agg.tmp.i.i64, align 8
  %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i92 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 44
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i92, ptr noundef nonnull align 8 dereferenceable(12) %dpdu4.i68, i64 12, i1 false)
  %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i93 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 68
  store float %28, ptr %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i93, align 4
  %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i94 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 72
  store i32 %29, ptr %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i94, align 8
  %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i95 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 76
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i95, ptr noundef nonnull align 8 dereferenceable(12) %shading.i73, i64 12, i1 false)
  %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i96 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 100
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i96, ptr noundef nonnull align 8 dereferenceable(12) %dpdv12.i76, i64 12, i1 false)
  %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i97 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 124
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i97, ptr noundef nonnull align 8 dereferenceable(12) %dndv.i79, i64 12, i1 false)
  %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i98 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 136
  store i64 %30, ptr %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i98, align 8
  %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i99 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 144
  store i32 %31, ptr %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i99, align 8
  %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i100 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 148
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(32) %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i100, ptr noundef nonnull align 4 dereferenceable(32) %lambda17.i82, i64 32, i1 false)
  %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i101 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 180
  store i32 %32, ptr %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i101, align 4
  %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i102 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 184
  store i32 %33, ptr %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i102, align 8
  %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i103 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 188
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i103, ptr noundef nonnull align 4 dereferenceable(12) %wo20.i85, i64 12, i1 false)
  %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i104 = getelementptr inbounds i8, ptr %agg.tmp.i.i64, i64 232
  store float %34, ptr %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i104, align 8
  %mediumInterface.i.i.i105 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %agg.tmp.i.i64, i64 0, i32 21
  %36 = load <2 x i64>, ptr %35, align 8
  store <2 x i64> %36, ptr %mediumInterface.i.i.i105, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp.i.i.i63)
  %size.i.i.i.i107 = getelementptr inbounds %"struct.pstd::tuple.162", ptr %26, i64 0, i32 1, i32 1
  %37 = atomicrmw add ptr %size.i.i.i.i107, i32 1 monotonic, align 4
  store ptr %value.i.i.i.i.i.i, ptr %ref.tmp.i.i.i63, align 8
  %38 = getelementptr inbounds { ptr, i32 }, ptr %ref.tmp.i.i.i63, i64 0, i32 1
  store i32 %37, ptr %38, align 8
  call void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_17ConductorMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.i.i.i63, ptr noundef nonnull align 8 dereferenceable(256) %agg.tmp.i.i64)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp.i.i.i63)
  call void @llvm.lifetime.end.p0(i64 256, ptr nonnull %agg.tmp.i.i64)
  br label %return

sw.bb3:                                           ; preds = %entry
  %39 = load ptr, ptr %func, align 8
  %40 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1
  %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i110 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 8
  call void @llvm.lifetime.start.p0(i64 256, ptr nonnull %agg.tmp.i.i109)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i110, ptr noundef nonnull align 8 dereferenceable(24) %40, i64 24, i1 false)
  %n3.i111 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 3
  %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i112 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 32
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i112, ptr noundef nonnull align 8 dereferenceable(12) %n3.i111, i64 12, i1 false)
  %dpdu4.i113 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 1
  %dpdv5.i114 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 2
  %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i115 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 56
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i115, ptr noundef nonnull align 4 dereferenceable(12) %dpdv5.i114, i64 12, i1 false)
  %time6.i116 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 1
  %41 = load float, ptr %time6.i116, align 8
  %depth7.i117 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 1
  %42 = load i32, ptr %depth7.i117, align 8
  %shading.i118 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5
  %dpdu10.i119 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 1
  %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i120 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 88
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i120, ptr noundef nonnull align 4 dereferenceable(12) %dpdu10.i119, i64 12, i1 false)
  %dpdv12.i121 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 2
  %dndu.i122 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 3
  %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i123 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 112
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i123, ptr noundef nonnull align 4 dereferenceable(12) %dndu.i122, i64 12, i1 false)
  %dndv.i124 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 4
  %uv15.i125 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 4
  %43 = load i64, ptr %uv15.i125, align 4
  %faceIndex16.i126 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 6
  %44 = load i32, ptr %faceIndex16.i126, align 4
  %lambda17.i127 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 2
  %pixelIndex18.i128 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 3
  %45 = load i32, ptr %pixelIndex18.i128, align 4
  %anyNonSpecularBounces19.i129 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 10
  %46 = load i32, ptr %anyNonSpecularBounces19.i129, align 8
  %wo20.i130 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 2
  %beta21.i131 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 4
  %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i132 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 200
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i132, ptr noundef nonnull align 8 dereferenceable(16) %beta21.i131, i64 16, i1 false)
  %r_u22.i133 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 5
  %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i134 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 216
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i134, ptr noundef nonnull align 8 dereferenceable(16) %r_u22.i133, i64 16, i1 false)
  %etaScale23.i135 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 8
  %47 = load float, ptr %etaScale23.i135, align 8
  %48 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 3
  %value.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pstd::tuple.163", ptr %39, i64 0, i32 1
  store ptr %ptr, ptr %agg.tmp.i.i109, align 8
  %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i137 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 44
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i137, ptr noundef nonnull align 8 dereferenceable(12) %dpdu4.i113, i64 12, i1 false)
  %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i138 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 68
  store float %41, ptr %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i138, align 4
  %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i139 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 72
  store i32 %42, ptr %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i139, align 8
  %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i140 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 76
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i140, ptr noundef nonnull align 8 dereferenceable(12) %shading.i118, i64 12, i1 false)
  %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i141 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 100
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i141, ptr noundef nonnull align 8 dereferenceable(12) %dpdv12.i121, i64 12, i1 false)
  %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i142 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 124
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i142, ptr noundef nonnull align 8 dereferenceable(12) %dndv.i124, i64 12, i1 false)
  %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i143 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 136
  store i64 %43, ptr %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i143, align 8
  %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i144 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 144
  store i32 %44, ptr %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i144, align 8
  %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i145 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 148
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(32) %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i145, ptr noundef nonnull align 4 dereferenceable(32) %lambda17.i127, i64 32, i1 false)
  %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i146 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 180
  store i32 %45, ptr %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i146, align 4
  %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i147 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 184
  store i32 %46, ptr %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i147, align 8
  %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i148 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 188
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i148, ptr noundef nonnull align 4 dereferenceable(12) %wo20.i130, i64 12, i1 false)
  %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i149 = getelementptr inbounds i8, ptr %agg.tmp.i.i109, i64 232
  store float %47, ptr %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i149, align 8
  %mediumInterface.i.i.i150 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %agg.tmp.i.i109, i64 0, i32 21
  %49 = load <2 x i64>, ptr %48, align 8
  store <2 x i64> %49, ptr %mediumInterface.i.i.i150, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp.i.i.i108)
  %size.i.i.i.i152 = getelementptr inbounds %"struct.pstd::tuple.163", ptr %39, i64 0, i32 1, i32 1
  %50 = atomicrmw add ptr %size.i.i.i.i152, i32 1 monotonic, align 4
  store ptr %value.i.i.i.i.i.i.i, ptr %ref.tmp.i.i.i108, align 8
  %51 = getelementptr inbounds { ptr, i32 }, ptr %ref.tmp.i.i.i108, i64 0, i32 1
  store i32 %50, ptr %51, align 8
  call void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_18DielectricMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.i.i.i108, ptr noundef nonnull align 8 dereferenceable(256) %agg.tmp.i.i109)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp.i.i.i108)
  call void @llvm.lifetime.end.p0(i64 256, ptr nonnull %agg.tmp.i.i109)
  br label %return

sw.bb4:                                           ; preds = %entry
  %52 = load ptr, ptr %func, align 8
  %53 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1
  %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i155 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 8
  call void @llvm.lifetime.start.p0(i64 256, ptr nonnull %agg.tmp.i.i154)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i155, ptr noundef nonnull align 8 dereferenceable(24) %53, i64 24, i1 false)
  %n3.i156 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 3
  %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i157 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 32
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i157, ptr noundef nonnull align 8 dereferenceable(12) %n3.i156, i64 12, i1 false)
  %dpdu4.i158 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 1
  %dpdv5.i159 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 2
  %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i160 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 56
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i160, ptr noundef nonnull align 4 dereferenceable(12) %dpdv5.i159, i64 12, i1 false)
  %time6.i161 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 1
  %54 = load float, ptr %time6.i161, align 8
  %depth7.i162 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 1
  %55 = load i32, ptr %depth7.i162, align 8
  %shading.i163 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5
  %dpdu10.i164 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 1
  %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i165 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 88
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i165, ptr noundef nonnull align 4 dereferenceable(12) %dpdu10.i164, i64 12, i1 false)
  %dpdv12.i166 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 2
  %dndu.i167 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 3
  %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i168 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 112
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i168, ptr noundef nonnull align 4 dereferenceable(12) %dndu.i167, i64 12, i1 false)
  %dndv.i169 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 4
  %uv15.i170 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 4
  %56 = load i64, ptr %uv15.i170, align 4
  %faceIndex16.i171 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 6
  %57 = load i32, ptr %faceIndex16.i171, align 4
  %lambda17.i172 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 2
  %pixelIndex18.i173 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 3
  %58 = load i32, ptr %pixelIndex18.i173, align 4
  %anyNonSpecularBounces19.i174 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 10
  %59 = load i32, ptr %anyNonSpecularBounces19.i174, align 8
  %wo20.i175 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 2
  %beta21.i176 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 4
  %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i177 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 200
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i177, ptr noundef nonnull align 8 dereferenceable(16) %beta21.i176, i64 16, i1 false)
  %r_u22.i178 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 5
  %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i179 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 216
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i179, ptr noundef nonnull align 8 dereferenceable(16) %r_u22.i178, i64 16, i1 false)
  %etaScale23.i180 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 8
  %60 = load float, ptr %etaScale23.i180, align 8
  %61 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 3
  %value.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pstd::tuple.164", ptr %52, i64 0, i32 1
  store ptr %ptr, ptr %agg.tmp.i.i154, align 8
  %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i182 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 44
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i182, ptr noundef nonnull align 8 dereferenceable(12) %dpdu4.i158, i64 12, i1 false)
  %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i183 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 68
  store float %54, ptr %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i183, align 4
  %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i184 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 72
  store i32 %55, ptr %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i184, align 8
  %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i185 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 76
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i185, ptr noundef nonnull align 8 dereferenceable(12) %shading.i163, i64 12, i1 false)
  %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i186 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 100
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i186, ptr noundef nonnull align 8 dereferenceable(12) %dpdv12.i166, i64 12, i1 false)
  %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i187 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 124
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i187, ptr noundef nonnull align 8 dereferenceable(12) %dndv.i169, i64 12, i1 false)
  %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i188 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 136
  store i64 %56, ptr %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i188, align 8
  %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i189 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 144
  store i32 %57, ptr %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i189, align 8
  %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i190 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 148
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(32) %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i190, ptr noundef nonnull align 4 dereferenceable(32) %lambda17.i172, i64 32, i1 false)
  %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i191 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 180
  store i32 %58, ptr %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i191, align 4
  %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i192 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 184
  store i32 %59, ptr %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i192, align 8
  %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i193 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 188
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i193, ptr noundef nonnull align 4 dereferenceable(12) %wo20.i175, i64 12, i1 false)
  %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i194 = getelementptr inbounds i8, ptr %agg.tmp.i.i154, i64 232
  store float %60, ptr %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i194, align 8
  %mediumInterface.i.i.i195 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %agg.tmp.i.i154, i64 0, i32 21
  %62 = load <2 x i64>, ptr %61, align 8
  store <2 x i64> %62, ptr %mediumInterface.i.i.i195, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp.i.i.i153)
  %size.i.i.i.i197 = getelementptr inbounds %"struct.pstd::tuple.164", ptr %52, i64 0, i32 1, i32 1
  %63 = atomicrmw add ptr %size.i.i.i.i197, i32 1 monotonic, align 4
  store ptr %value.i.i.i.i.i.i.i.i, ptr %ref.tmp.i.i.i153, align 8
  %64 = getelementptr inbounds { ptr, i32 }, ptr %ref.tmp.i.i.i153, i64 0, i32 1
  store i32 %63, ptr %64, align 8
  call void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_15DiffuseMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.i.i.i153, ptr noundef nonnull align 8 dereferenceable(256) %agg.tmp.i.i154)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp.i.i.i153)
  call void @llvm.lifetime.end.p0(i64 256, ptr nonnull %agg.tmp.i.i154)
  br label %return

sw.bb5:                                           ; preds = %entry
  %65 = load ptr, ptr %func, align 8
  %66 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1
  %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i200 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 8
  call void @llvm.lifetime.start.p0(i64 256, ptr nonnull %agg.tmp.i.i199)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i200, ptr noundef nonnull align 8 dereferenceable(24) %66, i64 24, i1 false)
  %n3.i201 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 3
  %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i202 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 32
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i202, ptr noundef nonnull align 8 dereferenceable(12) %n3.i201, i64 12, i1 false)
  %dpdu4.i203 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 1
  %dpdv5.i204 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 2
  %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i205 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 56
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i205, ptr noundef nonnull align 4 dereferenceable(12) %dpdv5.i204, i64 12, i1 false)
  %time6.i206 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 1
  %67 = load float, ptr %time6.i206, align 8
  %depth7.i207 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 1
  %68 = load i32, ptr %depth7.i207, align 8
  %shading.i208 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5
  %dpdu10.i209 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 1
  %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i210 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 88
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i210, ptr noundef nonnull align 4 dereferenceable(12) %dpdu10.i209, i64 12, i1 false)
  %dpdv12.i211 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 2
  %dndu.i212 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 3
  %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i213 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 112
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i213, ptr noundef nonnull align 4 dereferenceable(12) %dndu.i212, i64 12, i1 false)
  %dndv.i214 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 4
  %uv15.i215 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 4
  %69 = load i64, ptr %uv15.i215, align 4
  %faceIndex16.i216 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 6
  %70 = load i32, ptr %faceIndex16.i216, align 4
  %lambda17.i217 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 2
  %pixelIndex18.i218 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 3
  %71 = load i32, ptr %pixelIndex18.i218, align 4
  %anyNonSpecularBounces19.i219 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 10
  %72 = load i32, ptr %anyNonSpecularBounces19.i219, align 8
  %wo20.i220 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 2
  %beta21.i221 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 4
  %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i222 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 200
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i222, ptr noundef nonnull align 8 dereferenceable(16) %beta21.i221, i64 16, i1 false)
  %r_u22.i223 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 5
  %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i224 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 216
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i224, ptr noundef nonnull align 8 dereferenceable(16) %r_u22.i223, i64 16, i1 false)
  %etaScale23.i225 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 8
  %73 = load float, ptr %etaScale23.i225, align 8
  %74 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 3
  %value.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pstd::tuple.165", ptr %65, i64 0, i32 1
  store ptr %ptr, ptr %agg.tmp.i.i199, align 8
  %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i227 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 44
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i227, ptr noundef nonnull align 8 dereferenceable(12) %dpdu4.i203, i64 12, i1 false)
  %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i228 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 68
  store float %67, ptr %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i228, align 4
  %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i229 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 72
  store i32 %68, ptr %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i229, align 8
  %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i230 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 76
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i230, ptr noundef nonnull align 8 dereferenceable(12) %shading.i208, i64 12, i1 false)
  %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i231 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 100
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i231, ptr noundef nonnull align 8 dereferenceable(12) %dpdv12.i211, i64 12, i1 false)
  %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i232 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 124
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i232, ptr noundef nonnull align 8 dereferenceable(12) %dndv.i214, i64 12, i1 false)
  %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i233 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 136
  store i64 %69, ptr %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i233, align 8
  %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i234 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 144
  store i32 %70, ptr %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i234, align 8
  %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i235 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 148
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(32) %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i235, ptr noundef nonnull align 4 dereferenceable(32) %lambda17.i217, i64 32, i1 false)
  %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i236 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 180
  store i32 %71, ptr %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i236, align 4
  %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i237 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 184
  store i32 %72, ptr %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i237, align 8
  %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i238 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 188
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i238, ptr noundef nonnull align 4 dereferenceable(12) %wo20.i220, i64 12, i1 false)
  %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i239 = getelementptr inbounds i8, ptr %agg.tmp.i.i199, i64 232
  store float %73, ptr %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i239, align 8
  %mediumInterface.i.i.i240 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %agg.tmp.i.i199, i64 0, i32 21
  %75 = load <2 x i64>, ptr %74, align 8
  store <2 x i64> %75, ptr %mediumInterface.i.i.i240, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp.i.i.i198)
  %size.i.i.i.i242 = getelementptr inbounds %"struct.pstd::tuple.165", ptr %65, i64 0, i32 1, i32 1
  %76 = atomicrmw add ptr %size.i.i.i.i242, i32 1 monotonic, align 4
  store ptr %value.i.i.i.i.i.i.i.i.i, ptr %ref.tmp.i.i.i198, align 8
  %77 = getelementptr inbounds { ptr, i32 }, ptr %ref.tmp.i.i.i198, i64 0, i32 1
  store i32 %76, ptr %77, align 8
  call void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_27DiffuseTransmissionMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.i.i.i198, ptr noundef nonnull align 8 dereferenceable(256) %agg.tmp.i.i199)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp.i.i.i198)
  call void @llvm.lifetime.end.p0(i64 256, ptr nonnull %agg.tmp.i.i199)
  br label %return

sw.bb6:                                           ; preds = %entry
  %78 = load ptr, ptr %func, align 8
  %79 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1
  %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i245 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 8
  call void @llvm.lifetime.start.p0(i64 256, ptr nonnull %agg.tmp.i.i244)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i245, ptr noundef nonnull align 8 dereferenceable(24) %79, i64 24, i1 false)
  %n3.i246 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 3
  %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i247 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 32
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i247, ptr noundef nonnull align 8 dereferenceable(12) %n3.i246, i64 12, i1 false)
  %dpdu4.i248 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 1
  %dpdv5.i249 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 2
  %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i250 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 56
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i250, ptr noundef nonnull align 4 dereferenceable(12) %dpdv5.i249, i64 12, i1 false)
  %time6.i251 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 1
  %80 = load float, ptr %time6.i251, align 8
  %depth7.i252 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 1
  %81 = load i32, ptr %depth7.i252, align 8
  %shading.i253 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5
  %dpdu10.i254 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 1
  %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i255 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 88
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i255, ptr noundef nonnull align 4 dereferenceable(12) %dpdu10.i254, i64 12, i1 false)
  %dpdv12.i256 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 2
  %dndu.i257 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 3
  %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i258 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 112
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i258, ptr noundef nonnull align 4 dereferenceable(12) %dndu.i257, i64 12, i1 false)
  %dndv.i259 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 4
  %uv15.i260 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 4
  %82 = load i64, ptr %uv15.i260, align 4
  %faceIndex16.i261 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 6
  %83 = load i32, ptr %faceIndex16.i261, align 4
  %lambda17.i262 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 2
  %pixelIndex18.i263 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 3
  %84 = load i32, ptr %pixelIndex18.i263, align 4
  %anyNonSpecularBounces19.i264 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 10
  %85 = load i32, ptr %anyNonSpecularBounces19.i264, align 8
  %wo20.i265 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 2
  %beta21.i266 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 4
  %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i267 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 200
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i267, ptr noundef nonnull align 8 dereferenceable(16) %beta21.i266, i64 16, i1 false)
  %r_u22.i268 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 5
  %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i269 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 216
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i269, ptr noundef nonnull align 8 dereferenceable(16) %r_u22.i268, i64 16, i1 false)
  %etaScale23.i270 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 8
  %86 = load float, ptr %etaScale23.i270, align 8
  %87 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 3
  %value.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pstd::tuple.166", ptr %78, i64 0, i32 1
  store ptr %ptr, ptr %agg.tmp.i.i244, align 8
  %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i272 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 44
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i272, ptr noundef nonnull align 8 dereferenceable(12) %dpdu4.i248, i64 12, i1 false)
  %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i273 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 68
  store float %80, ptr %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i273, align 4
  %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i274 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 72
  store i32 %81, ptr %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i274, align 8
  %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i275 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 76
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i275, ptr noundef nonnull align 8 dereferenceable(12) %shading.i253, i64 12, i1 false)
  %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i276 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 100
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i276, ptr noundef nonnull align 8 dereferenceable(12) %dpdv12.i256, i64 12, i1 false)
  %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i277 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 124
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i277, ptr noundef nonnull align 8 dereferenceable(12) %dndv.i259, i64 12, i1 false)
  %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i278 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 136
  store i64 %82, ptr %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i278, align 8
  %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i279 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 144
  store i32 %83, ptr %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i279, align 8
  %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i280 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 148
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(32) %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i280, ptr noundef nonnull align 4 dereferenceable(32) %lambda17.i262, i64 32, i1 false)
  %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i281 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 180
  store i32 %84, ptr %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i281, align 4
  %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i282 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 184
  store i32 %85, ptr %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i282, align 8
  %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i283 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 188
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i283, ptr noundef nonnull align 4 dereferenceable(12) %wo20.i265, i64 12, i1 false)
  %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i284 = getelementptr inbounds i8, ptr %agg.tmp.i.i244, i64 232
  store float %86, ptr %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i284, align 8
  %mediumInterface.i.i.i285 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %agg.tmp.i.i244, i64 0, i32 21
  %88 = load <2 x i64>, ptr %87, align 8
  store <2 x i64> %88, ptr %mediumInterface.i.i.i285, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp.i.i.i243)
  %size.i.i.i.i287 = getelementptr inbounds %"struct.pstd::tuple.166", ptr %78, i64 0, i32 1, i32 1
  %89 = atomicrmw add ptr %size.i.i.i.i287, i32 1 monotonic, align 4
  store ptr %value.i.i.i.i.i.i.i.i.i.i, ptr %ref.tmp.i.i.i243, align 8
  %90 = getelementptr inbounds { ptr, i32 }, ptr %ref.tmp.i.i.i243, i64 0, i32 1
  store i32 %89, ptr %90, align 8
  call void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_12HairMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.i.i.i243, ptr noundef nonnull align 8 dereferenceable(256) %agg.tmp.i.i244)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp.i.i.i243)
  call void @llvm.lifetime.end.p0(i64 256, ptr nonnull %agg.tmp.i.i244)
  br label %return

sw.bb7:                                           ; preds = %entry
  %91 = load ptr, ptr %func, align 8
  %92 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1
  %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i290 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 8
  call void @llvm.lifetime.start.p0(i64 256, ptr nonnull %agg.tmp.i.i289)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i290, ptr noundef nonnull align 8 dereferenceable(24) %92, i64 24, i1 false)
  %n3.i291 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 3
  %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i292 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 32
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i292, ptr noundef nonnull align 8 dereferenceable(12) %n3.i291, i64 12, i1 false)
  %dpdu4.i293 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 1
  %dpdv5.i294 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 2
  %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i295 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 56
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i295, ptr noundef nonnull align 4 dereferenceable(12) %dpdv5.i294, i64 12, i1 false)
  %time6.i296 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 1
  %93 = load float, ptr %time6.i296, align 8
  %depth7.i297 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 1
  %94 = load i32, ptr %depth7.i297, align 8
  %shading.i298 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5
  %dpdu10.i299 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 1
  %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i300 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 88
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i300, ptr noundef nonnull align 4 dereferenceable(12) %dpdu10.i299, i64 12, i1 false)
  %dpdv12.i301 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 2
  %dndu.i302 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 3
  %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i303 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 112
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i303, ptr noundef nonnull align 4 dereferenceable(12) %dndu.i302, i64 12, i1 false)
  %dndv.i304 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 4
  %uv15.i305 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 4
  %95 = load i64, ptr %uv15.i305, align 4
  %faceIndex16.i306 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 6
  %96 = load i32, ptr %faceIndex16.i306, align 4
  %lambda17.i307 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 2
  %pixelIndex18.i308 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 3
  %97 = load i32, ptr %pixelIndex18.i308, align 4
  %anyNonSpecularBounces19.i309 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 10
  %98 = load i32, ptr %anyNonSpecularBounces19.i309, align 8
  %wo20.i310 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 2
  %beta21.i311 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 4
  %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i312 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 200
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i312, ptr noundef nonnull align 8 dereferenceable(16) %beta21.i311, i64 16, i1 false)
  %r_u22.i313 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 5
  %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i314 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 216
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i314, ptr noundef nonnull align 8 dereferenceable(16) %r_u22.i313, i64 16, i1 false)
  %etaScale23.i315 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 8
  %99 = load float, ptr %etaScale23.i315, align 8
  %100 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 3
  %value.i.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pstd::tuple.167", ptr %91, i64 0, i32 1
  store ptr %ptr, ptr %agg.tmp.i.i289, align 8
  %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i317 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 44
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i317, ptr noundef nonnull align 8 dereferenceable(12) %dpdu4.i293, i64 12, i1 false)
  %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i318 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 68
  store float %93, ptr %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i318, align 4
  %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i319 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 72
  store i32 %94, ptr %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i319, align 8
  %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i320 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 76
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i320, ptr noundef nonnull align 8 dereferenceable(12) %shading.i298, i64 12, i1 false)
  %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i321 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 100
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i321, ptr noundef nonnull align 8 dereferenceable(12) %dpdv12.i301, i64 12, i1 false)
  %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i322 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 124
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i322, ptr noundef nonnull align 8 dereferenceable(12) %dndv.i304, i64 12, i1 false)
  %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i323 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 136
  store i64 %95, ptr %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i323, align 8
  %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i324 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 144
  store i32 %96, ptr %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i324, align 8
  %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i325 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 148
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(32) %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i325, ptr noundef nonnull align 4 dereferenceable(32) %lambda17.i307, i64 32, i1 false)
  %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i326 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 180
  store i32 %97, ptr %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i326, align 4
  %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i327 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 184
  store i32 %98, ptr %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i327, align 8
  %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i328 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 188
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i328, ptr noundef nonnull align 4 dereferenceable(12) %wo20.i310, i64 12, i1 false)
  %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i329 = getelementptr inbounds i8, ptr %agg.tmp.i.i289, i64 232
  store float %99, ptr %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i329, align 8
  %mediumInterface.i.i.i330 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %agg.tmp.i.i289, i64 0, i32 21
  %101 = load <2 x i64>, ptr %100, align 8
  store <2 x i64> %101, ptr %mediumInterface.i.i.i330, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp.i.i.i288)
  %size.i.i.i.i332 = getelementptr inbounds %"struct.pstd::tuple.167", ptr %91, i64 0, i32 1, i32 1
  %102 = atomicrmw add ptr %size.i.i.i.i332, i32 1 monotonic, align 4
  store ptr %value.i.i.i.i.i.i.i.i.i.i.i, ptr %ref.tmp.i.i.i288, align 8
  %103 = getelementptr inbounds { ptr, i32 }, ptr %ref.tmp.i.i.i288, i64 0, i32 1
  store i32 %102, ptr %103, align 8
  call void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_16MeasuredMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.i.i.i288, ptr noundef nonnull align 8 dereferenceable(256) %agg.tmp.i.i289)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp.i.i.i288)
  call void @llvm.lifetime.end.p0(i64 256, ptr nonnull %agg.tmp.i.i289)
  br label %return

sw.default:                                       ; preds = %entry
  %sub = add nsw i32 %index, -8
  tail call void @_ZN4pbrt6detail8DispatchIRZNS_28EnqueueWorkAfterIntersectionENS_11RayWorkItemENS_6MediumEfNS_18SurfaceInteractionEPNS_17MediumSampleQueueEPNS_8RayQueueEPNS_9WorkQueueINS_20HitAreaLightWorkItemEEEPNS_14MultiWorkQueueINS_8TypePackIJNS_20MaterialEvalWorkItemINS_21CoatedDiffuseMaterialEEENSF_INS_23CoatedConductorMaterialEEENSF_INS_17ConductorMaterialEEENSF_INS_18DielectricMaterialEEENSF_INS_15DiffuseMaterialEEENSF_INS_27DiffuseTransmissionMaterialEEENSF_INS_12HairMaterialEEENSF_INS_16MeasuredMaterialEEENSF_INS_18SubsurfaceMaterialEEENSF_INS_22ThinDielectricMaterialEEENSF_INS_11MixMaterialEEEEEEEES14_EUlT_E_vSW_SY_S10_EET0_OS15_Pvi(ptr noundef nonnull align 8 dereferenceable(464) %func, ptr noundef %ptr, i32 noundef %sub)
  br label %return

return:                                           ; preds = %sw.default, %sw.bb7, %sw.bb6, %sw.bb5, %sw.bb4, %sw.bb3, %sw.bb2, %sw.bb1, %sw.bb
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail8DispatchIRZNS_28EnqueueWorkAfterIntersectionENS_11RayWorkItemENS_6MediumEfNS_18SurfaceInteractionEPNS_17MediumSampleQueueEPNS_8RayQueueEPNS_9WorkQueueINS_20HitAreaLightWorkItemEEEPNS_14MultiWorkQueueINS_8TypePackIJNS_20MaterialEvalWorkItemINS_21CoatedDiffuseMaterialEEENSF_INS_23CoatedConductorMaterialEEENSF_INS_17ConductorMaterialEEENSF_INS_18DielectricMaterialEEENSF_INS_15DiffuseMaterialEEENSF_INS_27DiffuseTransmissionMaterialEEENSF_INS_12HairMaterialEEENSF_INS_16MeasuredMaterialEEENSF_INS_18SubsurfaceMaterialEEENSF_INS_22ThinDielectricMaterialEEENSF_INS_11MixMaterialEEEEEEEES14_EUlT_E_vSW_SY_S10_EET0_OS15_Pvi(ptr noundef nonnull align 8 dereferenceable(464) %func, ptr noundef %ptr, i32 noundef %index) local_unnamed_addr #1 comdat {
entry:
  %ref.tmp.i.i.i50 = alloca %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::MixMaterial>>::GetSetIndirector", align 8
  %agg.tmp.i.i51 = alloca %"struct.pbrt::MaterialEvalWorkItem.214", align 8
  %ref.tmp.i.i.i5 = alloca %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::ThinDielectricMaterial>>::GetSetIndirector", align 8
  %agg.tmp.i.i6 = alloca %"struct.pbrt::MaterialEvalWorkItem.213", align 8
  %ref.tmp.i.i.i = alloca %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::SubsurfaceMaterial>>::GetSetIndirector", align 8
  %agg.tmp.i.i = alloca %"struct.pbrt::MaterialEvalWorkItem.212", align 8
  %0 = load ptr, ptr %func, align 8
  %1 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1
  %n3.i53 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 3
  %dpdu4.i55 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 1
  %dpdv5.i56 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 2
  %time6.i58 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 1
  %depth7.i59 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 1
  %shading.i60 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5
  %dpdu10.i61 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 1
  %dpdv12.i63 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 2
  %dndu.i64 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 3
  %dndv.i66 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 5, i32 4
  %uv15.i67 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 4
  %faceIndex16.i68 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 6
  %lambda17.i69 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 2
  %pixelIndex18.i70 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 3
  %anyNonSpecularBounces19.i71 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 10
  %wo20.i72 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 1, i32 0, i32 2
  %beta21.i73 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 4
  %r_u22.i75 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 5
  switch i32 %index, label %sw.default [
    i32 0, label %sw.bb
    i32 1, label %sw.bb3
  ]

sw.bb:                                            ; preds = %entry
  %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 8
  call void @llvm.lifetime.start.p0(i64 256, ptr nonnull %agg.tmp.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 8 dereferenceable(24) %1, i64 24, i1 false)
  %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 32
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 8 dereferenceable(12) %n3.i53, i64 12, i1 false)
  %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 56
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 4 dereferenceable(12) %dpdv5.i56, i64 12, i1 false)
  %2 = load float, ptr %time6.i58, align 8
  %3 = load i32, ptr %depth7.i59, align 8
  %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 88
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 4 dereferenceable(12) %dpdu10.i61, i64 12, i1 false)
  %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 112
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 4 dereferenceable(12) %dndu.i64, i64 12, i1 false)
  %4 = load i64, ptr %uv15.i67, align 4
  %5 = load i32, ptr %faceIndex16.i68, align 4
  %6 = load i32, ptr %pixelIndex18.i70, align 4
  %7 = load i32, ptr %anyNonSpecularBounces19.i71, align 8
  %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 200
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 8 dereferenceable(16) %beta21.i73, i64 16, i1 false)
  %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 216
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 8 dereferenceable(16) %r_u22.i75, i64 16, i1 false)
  %etaScale23.i = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 8
  %8 = load float, ptr %etaScale23.i, align 8
  %9 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 3
  %value.i.i.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pstd::tuple.168", ptr %0, i64 0, i32 1
  store ptr %ptr, ptr %agg.tmp.i.i, align 8
  %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 44
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 8 dereferenceable(12) %dpdu4.i55, i64 12, i1 false)
  %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 68
  store float %2, ptr %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i, align 4
  %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 72
  store i32 %3, ptr %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i, align 8
  %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 76
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 8 dereferenceable(12) %shading.i60, i64 12, i1 false)
  %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 100
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 8 dereferenceable(12) %dpdv12.i63, i64 12, i1 false)
  %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 124
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 8 dereferenceable(12) %dndv.i66, i64 12, i1 false)
  %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 136
  store i64 %4, ptr %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i, align 8
  %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 144
  store i32 %5, ptr %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i, align 8
  %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 148
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(32) %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 4 dereferenceable(32) %lambda17.i69, i64 32, i1 false)
  %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 180
  store i32 %6, ptr %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i, align 4
  %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 184
  store i32 %7, ptr %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i, align 8
  %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 188
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i, ptr noundef nonnull align 4 dereferenceable(12) %wo20.i72, i64 12, i1 false)
  %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i = getelementptr inbounds i8, ptr %agg.tmp.i.i, i64 232
  store float %8, ptr %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i, align 8
  %mediumInterface.i.i.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %agg.tmp.i.i, i64 0, i32 21
  %10 = load <2 x i64>, ptr %9, align 8
  store <2 x i64> %10, ptr %mediumInterface.i.i.i, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp.i.i.i)
  %size.i.i.i.i = getelementptr inbounds %"struct.pstd::tuple.168", ptr %0, i64 0, i32 1, i32 1
  %11 = atomicrmw add ptr %size.i.i.i.i, i32 1 monotonic, align 4
  store ptr %value.i.i.i.i.i.i.i.i.i.i.i.i, ptr %ref.tmp.i.i.i, align 8
  %12 = getelementptr inbounds { ptr, i32 }, ptr %ref.tmp.i.i.i, i64 0, i32 1
  store i32 %11, ptr %12, align 8
  call void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_18SubsurfaceMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.i.i.i, ptr noundef nonnull align 8 dereferenceable(256) %agg.tmp.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp.i.i.i)
  call void @llvm.lifetime.end.p0(i64 256, ptr nonnull %agg.tmp.i.i)
  br label %return

sw.bb3:                                           ; preds = %entry
  %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i7 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 8
  call void @llvm.lifetime.start.p0(i64 256, ptr nonnull %agg.tmp.i.i6)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i7, ptr noundef nonnull align 8 dereferenceable(24) %1, i64 24, i1 false)
  %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i9 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 32
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i9, ptr noundef nonnull align 8 dereferenceable(12) %n3.i53, i64 12, i1 false)
  %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i12 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 56
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i12, ptr noundef nonnull align 4 dereferenceable(12) %dpdv5.i56, i64 12, i1 false)
  %13 = load float, ptr %time6.i58, align 8
  %14 = load i32, ptr %depth7.i59, align 8
  %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i17 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 88
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i17, ptr noundef nonnull align 4 dereferenceable(12) %dpdu10.i61, i64 12, i1 false)
  %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i20 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 112
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i20, ptr noundef nonnull align 4 dereferenceable(12) %dndu.i64, i64 12, i1 false)
  %15 = load i64, ptr %uv15.i67, align 4
  %16 = load i32, ptr %faceIndex16.i68, align 4
  %17 = load i32, ptr %pixelIndex18.i70, align 4
  %18 = load i32, ptr %anyNonSpecularBounces19.i71, align 8
  %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i29 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 200
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i29, ptr noundef nonnull align 8 dereferenceable(16) %beta21.i73, i64 16, i1 false)
  %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i31 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 216
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i31, ptr noundef nonnull align 8 dereferenceable(16) %r_u22.i75, i64 16, i1 false)
  %etaScale23.i32 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 8
  %19 = load float, ptr %etaScale23.i32, align 8
  %20 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 3
  %value.i.i.i.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pstd::tuple.169", ptr %0, i64 0, i32 1
  store ptr %ptr, ptr %agg.tmp.i.i6, align 8
  %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i34 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 44
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i34, ptr noundef nonnull align 8 dereferenceable(12) %dpdu4.i55, i64 12, i1 false)
  %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i35 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 68
  store float %13, ptr %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i35, align 4
  %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i36 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 72
  store i32 %14, ptr %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i36, align 8
  %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i37 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 76
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i37, ptr noundef nonnull align 8 dereferenceable(12) %shading.i60, i64 12, i1 false)
  %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i38 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 100
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i38, ptr noundef nonnull align 8 dereferenceable(12) %dpdv12.i63, i64 12, i1 false)
  %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i39 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 124
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i39, ptr noundef nonnull align 8 dereferenceable(12) %dndv.i66, i64 12, i1 false)
  %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i40 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 136
  store i64 %15, ptr %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i40, align 8
  %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i41 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 144
  store i32 %16, ptr %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i41, align 8
  %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i42 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 148
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(32) %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i42, ptr noundef nonnull align 4 dereferenceable(32) %lambda17.i69, i64 32, i1 false)
  %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i43 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 180
  store i32 %17, ptr %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i43, align 4
  %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i44 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 184
  store i32 %18, ptr %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i44, align 8
  %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i45 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 188
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i45, ptr noundef nonnull align 4 dereferenceable(12) %wo20.i72, i64 12, i1 false)
  %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i46 = getelementptr inbounds i8, ptr %agg.tmp.i.i6, i64 232
  store float %19, ptr %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i46, align 8
  %mediumInterface.i.i.i47 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %agg.tmp.i.i6, i64 0, i32 21
  %21 = load <2 x i64>, ptr %20, align 8
  store <2 x i64> %21, ptr %mediumInterface.i.i.i47, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp.i.i.i5)
  %size.i.i.i.i49 = getelementptr inbounds %"struct.pstd::tuple.169", ptr %0, i64 0, i32 1, i32 1
  %22 = atomicrmw add ptr %size.i.i.i.i49, i32 1 monotonic, align 4
  store ptr %value.i.i.i.i.i.i.i.i.i.i.i.i.i, ptr %ref.tmp.i.i.i5, align 8
  %23 = getelementptr inbounds { ptr, i32 }, ptr %ref.tmp.i.i.i5, i64 0, i32 1
  store i32 %22, ptr %23, align 8
  call void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_22ThinDielectricMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.i.i.i5, ptr noundef nonnull align 8 dereferenceable(256) %agg.tmp.i.i6)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp.i.i.i5)
  call void @llvm.lifetime.end.p0(i64 256, ptr nonnull %agg.tmp.i.i6)
  br label %return

sw.default:                                       ; preds = %entry
  %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i52 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 8
  call void @llvm.lifetime.start.p0(i64 256, ptr nonnull %agg.tmp.i.i51)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp.sroa.2.0.agg.tmp.i.sroa_idx.i52, ptr noundef nonnull align 8 dereferenceable(24) %1, i64 24, i1 false)
  %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i54 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 32
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.3.0.agg.tmp.i.sroa_idx.i54, ptr noundef nonnull align 8 dereferenceable(12) %n3.i53, i64 12, i1 false)
  %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i57 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 56
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.5.0.agg.tmp.i.sroa_idx.i57, ptr noundef nonnull align 4 dereferenceable(12) %dpdv5.i56, i64 12, i1 false)
  %24 = load float, ptr %time6.i58, align 8
  %25 = load i32, ptr %depth7.i59, align 8
  %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i62 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 88
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.9.0.agg.tmp.i.sroa_idx.i62, ptr noundef nonnull align 4 dereferenceable(12) %dpdu10.i61, i64 12, i1 false)
  %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i65 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 112
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %ref.tmp.sroa.11.0.agg.tmp.i.sroa_idx.i65, ptr noundef nonnull align 4 dereferenceable(12) %dndu.i64, i64 12, i1 false)
  %26 = load i64, ptr %uv15.i67, align 4
  %27 = load i32, ptr %faceIndex16.i68, align 4
  %28 = load i32, ptr %pixelIndex18.i70, align 4
  %29 = load i32, ptr %anyNonSpecularBounces19.i71, align 8
  %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i74 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 200
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.19.0.agg.tmp.i.sroa_idx.i74, ptr noundef nonnull align 8 dereferenceable(16) %beta21.i73, i64 16, i1 false)
  %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i76 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 216
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.sroa.20.0.agg.tmp.i.sroa_idx.i76, ptr noundef nonnull align 8 dereferenceable(16) %r_u22.i75, i64 16, i1 false)
  %etaScale23.i77 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 2, i32 8
  %30 = load float, ptr %etaScale23.i77, align 8
  %31 = getelementptr inbounds %class.anon.144, ptr %func, i64 0, i32 3
  store ptr %ptr, ptr %agg.tmp.i.i51, align 8
  %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i79 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 44
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.4.0.agg.tmp.i.sroa_idx.i79, ptr noundef nonnull align 8 dereferenceable(12) %dpdu4.i55, i64 12, i1 false)
  %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i80 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 68
  store float %24, ptr %ref.tmp.sroa.6.0.agg.tmp.i.sroa_idx.i80, align 4
  %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i81 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 72
  store i32 %25, ptr %ref.tmp.sroa.7.0.agg.tmp.i.sroa_idx.i81, align 8
  %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i82 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 76
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.8.0.agg.tmp.i.sroa_idx.i82, ptr noundef nonnull align 8 dereferenceable(12) %shading.i60, i64 12, i1 false)
  %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i83 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 100
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.10.0.agg.tmp.i.sroa_idx.i83, ptr noundef nonnull align 8 dereferenceable(12) %dpdv12.i63, i64 12, i1 false)
  %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i84 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 124
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.12.0.agg.tmp.i.sroa_idx.i84, ptr noundef nonnull align 8 dereferenceable(12) %dndv.i66, i64 12, i1 false)
  %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i85 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 136
  store i64 %26, ptr %ref.tmp.sroa.13.0.agg.tmp.i.sroa_idx.i85, align 8
  %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i86 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 144
  store i32 %27, ptr %ref.tmp.sroa.14.0.agg.tmp.i.sroa_idx.i86, align 8
  %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i87 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 148
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(32) %ref.tmp.sroa.15.0.agg.tmp.i.sroa_idx.i87, ptr noundef nonnull align 4 dereferenceable(32) %lambda17.i69, i64 32, i1 false)
  %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i88 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 180
  store i32 %28, ptr %ref.tmp.sroa.16.0.agg.tmp.i.sroa_idx.i88, align 4
  %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i89 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 184
  store i32 %29, ptr %ref.tmp.sroa.17.0.agg.tmp.i.sroa_idx.i89, align 8
  %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i90 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 188
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(12) %ref.tmp.sroa.18.0.agg.tmp.i.sroa_idx.i90, ptr noundef nonnull align 4 dereferenceable(12) %wo20.i72, i64 12, i1 false)
  %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i91 = getelementptr inbounds i8, ptr %agg.tmp.i.i51, i64 232
  store float %30, ptr %ref.tmp.sroa.21.0.agg.tmp.i.sroa_idx.i91, align 8
  %mediumInterface.i.i.i92 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %agg.tmp.i.i51, i64 0, i32 21
  %32 = load <2 x i64>, ptr %31, align 8
  store <2 x i64> %32, ptr %mediumInterface.i.i.i92, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp.i.i.i50)
  %size.i.i.i.i94 = getelementptr inbounds %"class.pbrt::WorkQueue.172", ptr %0, i64 0, i32 1
  %33 = atomicrmw add ptr %size.i.i.i.i94, i32 1 monotonic, align 4
  store ptr %0, ptr %ref.tmp.i.i.i50, align 8
  %34 = getelementptr inbounds { ptr, i32 }, ptr %ref.tmp.i.i.i50, i64 0, i32 1
  store i32 %33, ptr %34, align 8
  call void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_11MixMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp.i.i.i50, ptr noundef nonnull align 8 dereferenceable(256) %agg.tmp.i.i51)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp.i.i.i50)
  call void @llvm.lifetime.end.p0(i64 256, ptr nonnull %agg.tmp.i.i51)
  br label %return

return:                                           ; preds = %sw.default, %sw.bb3, %sw.bb
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_21CoatedDiffuseMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %this, ptr noundef nonnull align 8 dereferenceable(256) %a) local_unnamed_addr #9 comdat align 2 {
entry:
  %0 = load ptr, ptr %a, align 8
  %1 = load ptr, ptr %this, align 8
  %material2 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %1, i64 0, i32 1
  %2 = load ptr, ptr %material2, align 8
  %i = getelementptr inbounds %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::CoatedDiffuseMaterial>>::GetSetIndirector", ptr %this, i64 0, i32 1
  %3 = load i32, ptr %i, align 8
  %idxprom = sext i32 %3 to i64
  %arrayidx = getelementptr inbounds ptr, ptr %2, i64 %idxprom
  store ptr %0, ptr %arrayidx, align 8
  %lambda = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 14
  %4 = load ptr, ptr %this, align 8
  %5 = load i32, ptr %i, align 8
  %arrayidx.i23.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 14, i32 0, i32 0, i64 2
  %pdf.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 14, i32 1
  %lambda4.i = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %4, i64 0, i32 2, i32 1
  %6 = load ptr, ptr %lambda4.i, align 8
  %idx.ext.i = sext i32 %5 to i64
  %add.ptr.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %6, i64 %idx.ext.i
  %7 = load <4 x float>, ptr %lambda, align 4
  %agg.tmp.sroa.0.4.vec.insert.i = shufflevector <4 x float> %7, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %8 = load <4 x float>, ptr %arrayidx.i23.i, align 4
  %agg.tmp.sroa.3.12.vec.insert.i = shufflevector <4 x float> %8, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i, ptr %add.ptr.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %add.ptr.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i, align 8
  %pdf4.i = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %4, i64 0, i32 2, i32 2
  %9 = load ptr, ptr %pdf4.i, align 8
  %add.ptr21.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %9, i64 %idx.ext.i
  %10 = load <4 x float>, ptr %pdf.i, align 4
  %agg.tmp22.sroa.0.4.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp22.sroa.3.12.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp22.sroa.0.4.vec.insert.i, ptr %add.ptr21.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i28.i = getelementptr inbounds i8, ptr %add.ptr21.i, i64 8
  store <2 x float> %agg.tmp22.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i28.i, align 8
  %beta = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 18
  %11 = load ptr, ptr %this, align 8
  %12 = load i32, ptr %i, align 8
  %ptr4.i = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %11, i64 0, i32 3, i32 1
  %13 = load ptr, ptr %ptr4.i, align 8
  %idx.ext.i25 = sext i32 %12 to i64
  %add.ptr.i26 = getelementptr inbounds %"struct.pbrt::Float4", ptr %13, i64 %idx.ext.i25
  %14 = load <4 x float>, ptr %beta, align 8
  %agg.tmp.sroa.0.4.vec.insert.i27 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i28 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i27, ptr %add.ptr.i26, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i29 = getelementptr inbounds i8, ptr %add.ptr.i26, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i28, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i29, align 8
  %r_u = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 19
  %15 = load ptr, ptr %this, align 8
  %16 = load i32, ptr %i, align 8
  %ptr4.i33 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %15, i64 0, i32 4, i32 1
  %17 = load ptr, ptr %ptr4.i33, align 8
  %idx.ext.i34 = sext i32 %16 to i64
  %add.ptr.i35 = getelementptr inbounds %"struct.pbrt::Float4", ptr %17, i64 %idx.ext.i34
  %18 = load <4 x float>, ptr %r_u, align 8
  %agg.tmp.sroa.0.4.vec.insert.i36 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i37 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i36, ptr %add.ptr.i35, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i38 = getelementptr inbounds i8, ptr %add.ptr.i35, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i37, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i38, align 8
  %pi = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 1
  %19 = load ptr, ptr %this, align 8
  %20 = load i32, ptr %i, align 8
  %21 = load float, ptr %pi, align 8
  %low2.i.i = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %19, i64 0, i32 5, i32 1, i32 1
  %22 = load ptr, ptr %low2.i.i, align 8
  %idxprom.i.i = sext i32 %20 to i64
  %arrayidx.i.i = getelementptr inbounds float, ptr %22, i64 %idxprom.i.i
  store float %21, ptr %arrayidx.i.i, align 4
  %high.i.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 0, i32 1
  %23 = load float, ptr %high.i.i, align 4
  %high4.i.i = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %19, i64 0, i32 5, i32 1, i32 2
  %24 = load ptr, ptr %high4.i.i, align 8
  %arrayidx7.i.i = getelementptr inbounds float, ptr %24, i64 %idxprom.i.i
  store float %23, ptr %arrayidx7.i.i, align 4
  %y.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1
  %25 = load float, ptr %y.i, align 8
  %low2.i5.i = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %19, i64 0, i32 5, i32 2, i32 1
  %26 = load ptr, ptr %low2.i5.i, align 8
  %arrayidx.i8.i = getelementptr inbounds float, ptr %26, i64 %idxprom.i.i
  store float %25, ptr %arrayidx.i8.i, align 4
  %high.i9.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1, i32 1
  %27 = load float, ptr %high.i9.i, align 4
  %high4.i10.i = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %19, i64 0, i32 5, i32 2, i32 2
  %28 = load ptr, ptr %high4.i10.i, align 8
  %arrayidx7.i12.i = getelementptr inbounds float, ptr %28, i64 %idxprom.i.i
  store float %27, ptr %arrayidx7.i12.i, align 4
  %z.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2
  %29 = load float, ptr %z.i, align 8
  %low2.i15.i = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %19, i64 0, i32 5, i32 3, i32 1
  %30 = load ptr, ptr %low2.i15.i, align 8
  %arrayidx.i18.i = getelementptr inbounds float, ptr %30, i64 %idxprom.i.i
  store float %29, ptr %arrayidx.i18.i, align 4
  %high.i19.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2, i32 1
  %31 = load float, ptr %high.i19.i, align 4
  %high4.i20.i = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %19, i64 0, i32 5, i32 3, i32 2
  %32 = load ptr, ptr %high4.i20.i, align 8
  %arrayidx7.i22.i = getelementptr inbounds float, ptr %32, i64 %idxprom.i.i
  store float %31, ptr %arrayidx7.i22.i, align 4
  %n = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 2
  %33 = load ptr, ptr %this, align 8
  %34 = load i32, ptr %i, align 8
  %35 = load float, ptr %n, align 8
  %x2.i = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %33, i64 0, i32 6, i32 1
  %36 = load ptr, ptr %x2.i, align 8
  %idxprom.i = sext i32 %34 to i64
  %arrayidx.i = getelementptr inbounds float, ptr %36, i64 %idxprom.i
  store float %35, ptr %arrayidx.i, align 4
  %y.i44 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 2, i32 0, i32 1
  %37 = load float, ptr %y.i44, align 4
  %y4.i = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %33, i64 0, i32 6, i32 2
  %38 = load ptr, ptr %y4.i, align 8
  %arrayidx7.i = getelementptr inbounds float, ptr %38, i64 %idxprom.i
  store float %37, ptr %arrayidx7.i, align 4
  %z.i45 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 2, i32 0, i32 2
  %39 = load float, ptr %z.i45, align 8
  %z9.i = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %33, i64 0, i32 6, i32 3
  %40 = load ptr, ptr %z9.i, align 8
  %arrayidx12.i = getelementptr inbounds float, ptr %40, i64 %idxprom.i
  store float %39, ptr %arrayidx12.i, align 4
  %ns = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 7
  %41 = load ptr, ptr %this, align 8
  %42 = load i32, ptr %i, align 8
  %43 = load float, ptr %ns, align 4
  %x2.i48 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %41, i64 0, i32 7, i32 1
  %44 = load ptr, ptr %x2.i48, align 8
  %idxprom.i50 = sext i32 %42 to i64
  %arrayidx.i51 = getelementptr inbounds float, ptr %44, i64 %idxprom.i50
  store float %43, ptr %arrayidx.i51, align 4
  %y.i52 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 7, i32 0, i32 1
  %45 = load float, ptr %y.i52, align 8
  %y4.i53 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %41, i64 0, i32 7, i32 2
  %46 = load ptr, ptr %y4.i53, align 8
  %arrayidx7.i55 = getelementptr inbounds float, ptr %46, i64 %idxprom.i50
  store float %45, ptr %arrayidx7.i55, align 4
  %z.i56 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 7, i32 0, i32 2
  %47 = load float, ptr %z.i56, align 4
  %z9.i57 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %41, i64 0, i32 7, i32 3
  %48 = load ptr, ptr %z9.i57, align 8
  %arrayidx12.i59 = getelementptr inbounds float, ptr %48, i64 %idxprom.i50
  store float %47, ptr %arrayidx12.i59, align 4
  %dpdu = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 3
  %49 = load ptr, ptr %this, align 8
  %50 = load i32, ptr %i, align 8
  %51 = load float, ptr %dpdu, align 4
  %x2.i62 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %49, i64 0, i32 8, i32 1
  %52 = load ptr, ptr %x2.i62, align 8
  %idxprom.i64 = sext i32 %50 to i64
  %arrayidx.i65 = getelementptr inbounds float, ptr %52, i64 %idxprom.i64
  store float %51, ptr %arrayidx.i65, align 4
  %y.i66 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 3, i32 0, i32 1
  %53 = load float, ptr %y.i66, align 8
  %y4.i67 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %49, i64 0, i32 8, i32 2
  %54 = load ptr, ptr %y4.i67, align 8
  %arrayidx7.i69 = getelementptr inbounds float, ptr %54, i64 %idxprom.i64
  store float %53, ptr %arrayidx7.i69, align 4
  %z.i70 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 3, i32 0, i32 2
  %55 = load float, ptr %z.i70, align 4
  %z9.i71 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %49, i64 0, i32 8, i32 3
  %56 = load ptr, ptr %z9.i71, align 8
  %arrayidx12.i73 = getelementptr inbounds float, ptr %56, i64 %idxprom.i64
  store float %55, ptr %arrayidx12.i73, align 4
  %dpdv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 4
  %57 = load ptr, ptr %this, align 8
  %58 = load i32, ptr %i, align 8
  %59 = load float, ptr %dpdv, align 8
  %x2.i76 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %57, i64 0, i32 9, i32 1
  %60 = load ptr, ptr %x2.i76, align 8
  %idxprom.i78 = sext i32 %58 to i64
  %arrayidx.i79 = getelementptr inbounds float, ptr %60, i64 %idxprom.i78
  store float %59, ptr %arrayidx.i79, align 4
  %y.i80 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 4, i32 0, i32 1
  %61 = load float, ptr %y.i80, align 4
  %y4.i81 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %57, i64 0, i32 9, i32 2
  %62 = load ptr, ptr %y4.i81, align 8
  %arrayidx7.i83 = getelementptr inbounds float, ptr %62, i64 %idxprom.i78
  store float %61, ptr %arrayidx7.i83, align 4
  %z.i84 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 4, i32 0, i32 2
  %63 = load float, ptr %z.i84, align 8
  %z9.i85 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %57, i64 0, i32 9, i32 3
  %64 = load ptr, ptr %z9.i85, align 8
  %arrayidx12.i87 = getelementptr inbounds float, ptr %64, i64 %idxprom.i78
  store float %63, ptr %arrayidx12.i87, align 4
  %dpdus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 8
  %65 = load ptr, ptr %this, align 8
  %66 = load i32, ptr %i, align 8
  %67 = load float, ptr %dpdus, align 8
  %x2.i90 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %65, i64 0, i32 10, i32 1
  %68 = load ptr, ptr %x2.i90, align 8
  %idxprom.i92 = sext i32 %66 to i64
  %arrayidx.i93 = getelementptr inbounds float, ptr %68, i64 %idxprom.i92
  store float %67, ptr %arrayidx.i93, align 4
  %y.i94 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 8, i32 0, i32 1
  %69 = load float, ptr %y.i94, align 4
  %y4.i95 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %65, i64 0, i32 10, i32 2
  %70 = load ptr, ptr %y4.i95, align 8
  %arrayidx7.i97 = getelementptr inbounds float, ptr %70, i64 %idxprom.i92
  store float %69, ptr %arrayidx7.i97, align 4
  %z.i98 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 8, i32 0, i32 2
  %71 = load float, ptr %z.i98, align 8
  %z9.i99 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %65, i64 0, i32 10, i32 3
  %72 = load ptr, ptr %z9.i99, align 8
  %arrayidx12.i101 = getelementptr inbounds float, ptr %72, i64 %idxprom.i92
  store float %71, ptr %arrayidx12.i101, align 4
  %dpdvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 9
  %73 = load ptr, ptr %this, align 8
  %74 = load i32, ptr %i, align 8
  %75 = load float, ptr %dpdvs, align 4
  %x2.i104 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %73, i64 0, i32 11, i32 1
  %76 = load ptr, ptr %x2.i104, align 8
  %idxprom.i106 = sext i32 %74 to i64
  %arrayidx.i107 = getelementptr inbounds float, ptr %76, i64 %idxprom.i106
  store float %75, ptr %arrayidx.i107, align 4
  %y.i108 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 9, i32 0, i32 1
  %77 = load float, ptr %y.i108, align 8
  %y4.i109 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %73, i64 0, i32 11, i32 2
  %78 = load ptr, ptr %y4.i109, align 8
  %arrayidx7.i111 = getelementptr inbounds float, ptr %78, i64 %idxprom.i106
  store float %77, ptr %arrayidx7.i111, align 4
  %z.i112 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 9, i32 0, i32 2
  %79 = load float, ptr %z.i112, align 4
  %z9.i113 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %73, i64 0, i32 11, i32 3
  %80 = load ptr, ptr %z9.i113, align 8
  %arrayidx12.i115 = getelementptr inbounds float, ptr %80, i64 %idxprom.i106
  store float %79, ptr %arrayidx12.i115, align 4
  %dndus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 10
  %81 = load ptr, ptr %this, align 8
  %82 = load i32, ptr %i, align 8
  %83 = load float, ptr %dndus, align 8
  %x2.i118 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %81, i64 0, i32 12, i32 1
  %84 = load ptr, ptr %x2.i118, align 8
  %idxprom.i120 = sext i32 %82 to i64
  %arrayidx.i121 = getelementptr inbounds float, ptr %84, i64 %idxprom.i120
  store float %83, ptr %arrayidx.i121, align 4
  %y.i122 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 10, i32 0, i32 1
  %85 = load float, ptr %y.i122, align 4
  %y4.i123 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %81, i64 0, i32 12, i32 2
  %86 = load ptr, ptr %y4.i123, align 8
  %arrayidx7.i125 = getelementptr inbounds float, ptr %86, i64 %idxprom.i120
  store float %85, ptr %arrayidx7.i125, align 4
  %z.i126 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 10, i32 0, i32 2
  %87 = load float, ptr %z.i126, align 8
  %z9.i127 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %81, i64 0, i32 12, i32 3
  %88 = load ptr, ptr %z9.i127, align 8
  %arrayidx12.i129 = getelementptr inbounds float, ptr %88, i64 %idxprom.i120
  store float %87, ptr %arrayidx12.i129, align 4
  %dndvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 11
  %89 = load ptr, ptr %this, align 8
  %90 = load i32, ptr %i, align 8
  %91 = load float, ptr %dndvs, align 4
  %x2.i132 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %89, i64 0, i32 13, i32 1
  %92 = load ptr, ptr %x2.i132, align 8
  %idxprom.i134 = sext i32 %90 to i64
  %arrayidx.i135 = getelementptr inbounds float, ptr %92, i64 %idxprom.i134
  store float %91, ptr %arrayidx.i135, align 4
  %y.i136 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 11, i32 0, i32 1
  %93 = load float, ptr %y.i136, align 8
  %y4.i137 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %89, i64 0, i32 13, i32 2
  %94 = load ptr, ptr %y4.i137, align 8
  %arrayidx7.i139 = getelementptr inbounds float, ptr %94, i64 %idxprom.i134
  store float %93, ptr %arrayidx7.i139, align 4
  %z.i140 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 11, i32 0, i32 2
  %95 = load float, ptr %z.i140, align 4
  %z9.i141 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %89, i64 0, i32 13, i32 3
  %96 = load ptr, ptr %z9.i141, align 8
  %arrayidx12.i143 = getelementptr inbounds float, ptr %96, i64 %idxprom.i134
  store float %95, ptr %arrayidx12.i143, align 4
  %wo = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 17
  %97 = load ptr, ptr %this, align 8
  %98 = load i32, ptr %i, align 8
  %99 = load float, ptr %wo, align 4
  %x2.i146 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %97, i64 0, i32 14, i32 1
  %100 = load ptr, ptr %x2.i146, align 8
  %idxprom.i148 = sext i32 %98 to i64
  %arrayidx.i149 = getelementptr inbounds float, ptr %100, i64 %idxprom.i148
  store float %99, ptr %arrayidx.i149, align 4
  %y.i150 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 17, i32 0, i32 1
  %101 = load float, ptr %y.i150, align 8
  %y4.i151 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %97, i64 0, i32 14, i32 2
  %102 = load ptr, ptr %y4.i151, align 8
  %arrayidx7.i153 = getelementptr inbounds float, ptr %102, i64 %idxprom.i148
  store float %101, ptr %arrayidx7.i153, align 4
  %z.i154 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 17, i32 0, i32 2
  %103 = load float, ptr %z.i154, align 4
  %z9.i155 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %97, i64 0, i32 14, i32 3
  %104 = load ptr, ptr %z9.i155, align 8
  %arrayidx12.i157 = getelementptr inbounds float, ptr %104, i64 %idxprom.i148
  store float %103, ptr %arrayidx12.i157, align 4
  %uv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 12
  %105 = load ptr, ptr %this, align 8
  %106 = load i32, ptr %i, align 8
  %107 = load float, ptr %uv, align 8
  %x2.i160 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %105, i64 0, i32 15, i32 1
  %108 = load ptr, ptr %x2.i160, align 8
  %idxprom.i162 = sext i32 %106 to i64
  %arrayidx.i163 = getelementptr inbounds float, ptr %108, i64 %idxprom.i162
  store float %107, ptr %arrayidx.i163, align 4
  %y.i164 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 12, i32 0, i32 1
  %109 = load float, ptr %y.i164, align 4
  %y4.i165 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %105, i64 0, i32 15, i32 2
  %110 = load ptr, ptr %y4.i165, align 8
  %arrayidx7.i167 = getelementptr inbounds float, ptr %110, i64 %idxprom.i162
  store float %109, ptr %arrayidx7.i167, align 4
  %depth = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 6
  %111 = load i32, ptr %depth, align 8
  %112 = load ptr, ptr %this, align 8
  %depth72 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %112, i64 0, i32 16
  %113 = load ptr, ptr %depth72, align 8
  %114 = load i32, ptr %i, align 8
  %idxprom74 = sext i32 %114 to i64
  %arrayidx75 = getelementptr inbounds i32, ptr %113, i64 %idxprom74
  store i32 %111, ptr %arrayidx75, align 4
  %faceIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 13
  %115 = load i32, ptr %faceIndex, align 8
  %116 = load ptr, ptr %this, align 8
  %faceIndex77 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %116, i64 0, i32 17
  %117 = load ptr, ptr %faceIndex77, align 8
  %118 = load i32, ptr %i, align 8
  %idxprom79 = sext i32 %118 to i64
  %arrayidx80 = getelementptr inbounds i32, ptr %117, i64 %idxprom79
  store i32 %115, ptr %arrayidx80, align 4
  %time = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 5
  %119 = load float, ptr %time, align 4
  %120 = load ptr, ptr %this, align 8
  %time82 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %120, i64 0, i32 18
  %121 = load ptr, ptr %time82, align 8
  %122 = load i32, ptr %i, align 8
  %idxprom84 = sext i32 %122 to i64
  %arrayidx85 = getelementptr inbounds float, ptr %121, i64 %idxprom84
  store float %119, ptr %arrayidx85, align 4
  %anyNonSpecularBounces = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 16
  %123 = load i32, ptr %anyNonSpecularBounces, align 8
  %124 = load ptr, ptr %this, align 8
  %anyNonSpecularBounces87 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %124, i64 0, i32 19
  %125 = load ptr, ptr %anyNonSpecularBounces87, align 8
  %126 = load i32, ptr %i, align 8
  %idxprom89 = sext i32 %126 to i64
  %arrayidx90 = getelementptr inbounds i32, ptr %125, i64 %idxprom89
  store i32 %123, ptr %arrayidx90, align 4
  %etaScale = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 20
  %127 = load float, ptr %etaScale, align 8
  %128 = load ptr, ptr %this, align 8
  %etaScale92 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %128, i64 0, i32 20
  %129 = load ptr, ptr %etaScale92, align 8
  %130 = load i32, ptr %i, align 8
  %idxprom94 = sext i32 %130 to i64
  %arrayidx95 = getelementptr inbounds float, ptr %129, i64 %idxprom94
  store float %127, ptr %arrayidx95, align 4
  %mediumInterface = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 21
  %131 = load ptr, ptr %this, align 8
  %132 = load i32, ptr %i, align 8
  %inside2.i = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %131, i64 0, i32 21, i32 1
  %133 = load ptr, ptr %inside2.i, align 8
  %idxprom.i171 = sext i32 %132 to i64
  %arrayidx.i172 = getelementptr inbounds %"class.pbrt::Medium", ptr %133, i64 %idxprom.i171
  %134 = load i64, ptr %mediumInterface, align 8
  store i64 %134, ptr %arrayidx.i172, align 8
  %outside.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 21, i32 1
  %outside4.i = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %131, i64 0, i32 21, i32 2
  %135 = load ptr, ptr %outside4.i, align 8
  %arrayidx7.i174 = getelementptr inbounds %"class.pbrt::Medium", ptr %135, i64 %idxprom.i171
  %136 = load i64, ptr %outside.i, align 8
  store i64 %136, ptr %arrayidx7.i174, align 8
  %pixelIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem", ptr %a, i64 0, i32 15
  %137 = load i32, ptr %pixelIndex, align 4
  %138 = load ptr, ptr %this, align 8
  %pixelIndex102 = getelementptr inbounds %"struct.pbrt::SOA.203", ptr %138, i64 0, i32 22
  %139 = load ptr, ptr %pixelIndex102, align 8
  %140 = load i32, ptr %i, align 8
  %idxprom104 = sext i32 %140 to i64
  %arrayidx105 = getelementptr inbounds i32, ptr %139, i64 %idxprom104
  store i32 %137, ptr %arrayidx105, align 4
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_23CoatedConductorMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %this, ptr noundef nonnull align 8 dereferenceable(256) %a) local_unnamed_addr #9 comdat align 2 {
entry:
  %0 = load ptr, ptr %a, align 8
  %1 = load ptr, ptr %this, align 8
  %material2 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %1, i64 0, i32 1
  %2 = load ptr, ptr %material2, align 8
  %i = getelementptr inbounds %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::CoatedConductorMaterial>>::GetSetIndirector", ptr %this, i64 0, i32 1
  %3 = load i32, ptr %i, align 8
  %idxprom = sext i32 %3 to i64
  %arrayidx = getelementptr inbounds ptr, ptr %2, i64 %idxprom
  store ptr %0, ptr %arrayidx, align 8
  %lambda = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 14
  %4 = load ptr, ptr %this, align 8
  %5 = load i32, ptr %i, align 8
  %arrayidx.i23.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 14, i32 0, i32 0, i64 2
  %pdf.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 14, i32 1
  %lambda4.i = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %4, i64 0, i32 2, i32 1
  %6 = load ptr, ptr %lambda4.i, align 8
  %idx.ext.i = sext i32 %5 to i64
  %add.ptr.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %6, i64 %idx.ext.i
  %7 = load <4 x float>, ptr %lambda, align 4
  %agg.tmp.sroa.0.4.vec.insert.i = shufflevector <4 x float> %7, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %8 = load <4 x float>, ptr %arrayidx.i23.i, align 4
  %agg.tmp.sroa.3.12.vec.insert.i = shufflevector <4 x float> %8, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i, ptr %add.ptr.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %add.ptr.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i, align 8
  %pdf4.i = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %4, i64 0, i32 2, i32 2
  %9 = load ptr, ptr %pdf4.i, align 8
  %add.ptr21.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %9, i64 %idx.ext.i
  %10 = load <4 x float>, ptr %pdf.i, align 4
  %agg.tmp22.sroa.0.4.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp22.sroa.3.12.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp22.sroa.0.4.vec.insert.i, ptr %add.ptr21.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i28.i = getelementptr inbounds i8, ptr %add.ptr21.i, i64 8
  store <2 x float> %agg.tmp22.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i28.i, align 8
  %beta = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 18
  %11 = load ptr, ptr %this, align 8
  %12 = load i32, ptr %i, align 8
  %ptr4.i = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %11, i64 0, i32 3, i32 1
  %13 = load ptr, ptr %ptr4.i, align 8
  %idx.ext.i25 = sext i32 %12 to i64
  %add.ptr.i26 = getelementptr inbounds %"struct.pbrt::Float4", ptr %13, i64 %idx.ext.i25
  %14 = load <4 x float>, ptr %beta, align 8
  %agg.tmp.sroa.0.4.vec.insert.i27 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i28 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i27, ptr %add.ptr.i26, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i29 = getelementptr inbounds i8, ptr %add.ptr.i26, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i28, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i29, align 8
  %r_u = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 19
  %15 = load ptr, ptr %this, align 8
  %16 = load i32, ptr %i, align 8
  %ptr4.i33 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %15, i64 0, i32 4, i32 1
  %17 = load ptr, ptr %ptr4.i33, align 8
  %idx.ext.i34 = sext i32 %16 to i64
  %add.ptr.i35 = getelementptr inbounds %"struct.pbrt::Float4", ptr %17, i64 %idx.ext.i34
  %18 = load <4 x float>, ptr %r_u, align 8
  %agg.tmp.sroa.0.4.vec.insert.i36 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i37 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i36, ptr %add.ptr.i35, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i38 = getelementptr inbounds i8, ptr %add.ptr.i35, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i37, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i38, align 8
  %pi = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 1
  %19 = load ptr, ptr %this, align 8
  %20 = load i32, ptr %i, align 8
  %21 = load float, ptr %pi, align 8
  %low2.i.i = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %19, i64 0, i32 5, i32 1, i32 1
  %22 = load ptr, ptr %low2.i.i, align 8
  %idxprom.i.i = sext i32 %20 to i64
  %arrayidx.i.i = getelementptr inbounds float, ptr %22, i64 %idxprom.i.i
  store float %21, ptr %arrayidx.i.i, align 4
  %high.i.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 0, i32 1
  %23 = load float, ptr %high.i.i, align 4
  %high4.i.i = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %19, i64 0, i32 5, i32 1, i32 2
  %24 = load ptr, ptr %high4.i.i, align 8
  %arrayidx7.i.i = getelementptr inbounds float, ptr %24, i64 %idxprom.i.i
  store float %23, ptr %arrayidx7.i.i, align 4
  %y.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1
  %25 = load float, ptr %y.i, align 8
  %low2.i5.i = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %19, i64 0, i32 5, i32 2, i32 1
  %26 = load ptr, ptr %low2.i5.i, align 8
  %arrayidx.i8.i = getelementptr inbounds float, ptr %26, i64 %idxprom.i.i
  store float %25, ptr %arrayidx.i8.i, align 4
  %high.i9.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1, i32 1
  %27 = load float, ptr %high.i9.i, align 4
  %high4.i10.i = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %19, i64 0, i32 5, i32 2, i32 2
  %28 = load ptr, ptr %high4.i10.i, align 8
  %arrayidx7.i12.i = getelementptr inbounds float, ptr %28, i64 %idxprom.i.i
  store float %27, ptr %arrayidx7.i12.i, align 4
  %z.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2
  %29 = load float, ptr %z.i, align 8
  %low2.i15.i = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %19, i64 0, i32 5, i32 3, i32 1
  %30 = load ptr, ptr %low2.i15.i, align 8
  %arrayidx.i18.i = getelementptr inbounds float, ptr %30, i64 %idxprom.i.i
  store float %29, ptr %arrayidx.i18.i, align 4
  %high.i19.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2, i32 1
  %31 = load float, ptr %high.i19.i, align 4
  %high4.i20.i = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %19, i64 0, i32 5, i32 3, i32 2
  %32 = load ptr, ptr %high4.i20.i, align 8
  %arrayidx7.i22.i = getelementptr inbounds float, ptr %32, i64 %idxprom.i.i
  store float %31, ptr %arrayidx7.i22.i, align 4
  %n = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 2
  %33 = load ptr, ptr %this, align 8
  %34 = load i32, ptr %i, align 8
  %35 = load float, ptr %n, align 8
  %x2.i = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %33, i64 0, i32 6, i32 1
  %36 = load ptr, ptr %x2.i, align 8
  %idxprom.i = sext i32 %34 to i64
  %arrayidx.i = getelementptr inbounds float, ptr %36, i64 %idxprom.i
  store float %35, ptr %arrayidx.i, align 4
  %y.i44 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 2, i32 0, i32 1
  %37 = load float, ptr %y.i44, align 4
  %y4.i = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %33, i64 0, i32 6, i32 2
  %38 = load ptr, ptr %y4.i, align 8
  %arrayidx7.i = getelementptr inbounds float, ptr %38, i64 %idxprom.i
  store float %37, ptr %arrayidx7.i, align 4
  %z.i45 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 2, i32 0, i32 2
  %39 = load float, ptr %z.i45, align 8
  %z9.i = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %33, i64 0, i32 6, i32 3
  %40 = load ptr, ptr %z9.i, align 8
  %arrayidx12.i = getelementptr inbounds float, ptr %40, i64 %idxprom.i
  store float %39, ptr %arrayidx12.i, align 4
  %ns = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 7
  %41 = load ptr, ptr %this, align 8
  %42 = load i32, ptr %i, align 8
  %43 = load float, ptr %ns, align 4
  %x2.i48 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %41, i64 0, i32 7, i32 1
  %44 = load ptr, ptr %x2.i48, align 8
  %idxprom.i50 = sext i32 %42 to i64
  %arrayidx.i51 = getelementptr inbounds float, ptr %44, i64 %idxprom.i50
  store float %43, ptr %arrayidx.i51, align 4
  %y.i52 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 7, i32 0, i32 1
  %45 = load float, ptr %y.i52, align 8
  %y4.i53 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %41, i64 0, i32 7, i32 2
  %46 = load ptr, ptr %y4.i53, align 8
  %arrayidx7.i55 = getelementptr inbounds float, ptr %46, i64 %idxprom.i50
  store float %45, ptr %arrayidx7.i55, align 4
  %z.i56 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 7, i32 0, i32 2
  %47 = load float, ptr %z.i56, align 4
  %z9.i57 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %41, i64 0, i32 7, i32 3
  %48 = load ptr, ptr %z9.i57, align 8
  %arrayidx12.i59 = getelementptr inbounds float, ptr %48, i64 %idxprom.i50
  store float %47, ptr %arrayidx12.i59, align 4
  %dpdu = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 3
  %49 = load ptr, ptr %this, align 8
  %50 = load i32, ptr %i, align 8
  %51 = load float, ptr %dpdu, align 4
  %x2.i62 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %49, i64 0, i32 8, i32 1
  %52 = load ptr, ptr %x2.i62, align 8
  %idxprom.i64 = sext i32 %50 to i64
  %arrayidx.i65 = getelementptr inbounds float, ptr %52, i64 %idxprom.i64
  store float %51, ptr %arrayidx.i65, align 4
  %y.i66 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 3, i32 0, i32 1
  %53 = load float, ptr %y.i66, align 8
  %y4.i67 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %49, i64 0, i32 8, i32 2
  %54 = load ptr, ptr %y4.i67, align 8
  %arrayidx7.i69 = getelementptr inbounds float, ptr %54, i64 %idxprom.i64
  store float %53, ptr %arrayidx7.i69, align 4
  %z.i70 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 3, i32 0, i32 2
  %55 = load float, ptr %z.i70, align 4
  %z9.i71 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %49, i64 0, i32 8, i32 3
  %56 = load ptr, ptr %z9.i71, align 8
  %arrayidx12.i73 = getelementptr inbounds float, ptr %56, i64 %idxprom.i64
  store float %55, ptr %arrayidx12.i73, align 4
  %dpdv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 4
  %57 = load ptr, ptr %this, align 8
  %58 = load i32, ptr %i, align 8
  %59 = load float, ptr %dpdv, align 8
  %x2.i76 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %57, i64 0, i32 9, i32 1
  %60 = load ptr, ptr %x2.i76, align 8
  %idxprom.i78 = sext i32 %58 to i64
  %arrayidx.i79 = getelementptr inbounds float, ptr %60, i64 %idxprom.i78
  store float %59, ptr %arrayidx.i79, align 4
  %y.i80 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 4, i32 0, i32 1
  %61 = load float, ptr %y.i80, align 4
  %y4.i81 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %57, i64 0, i32 9, i32 2
  %62 = load ptr, ptr %y4.i81, align 8
  %arrayidx7.i83 = getelementptr inbounds float, ptr %62, i64 %idxprom.i78
  store float %61, ptr %arrayidx7.i83, align 4
  %z.i84 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 4, i32 0, i32 2
  %63 = load float, ptr %z.i84, align 8
  %z9.i85 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %57, i64 0, i32 9, i32 3
  %64 = load ptr, ptr %z9.i85, align 8
  %arrayidx12.i87 = getelementptr inbounds float, ptr %64, i64 %idxprom.i78
  store float %63, ptr %arrayidx12.i87, align 4
  %dpdus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 8
  %65 = load ptr, ptr %this, align 8
  %66 = load i32, ptr %i, align 8
  %67 = load float, ptr %dpdus, align 8
  %x2.i90 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %65, i64 0, i32 10, i32 1
  %68 = load ptr, ptr %x2.i90, align 8
  %idxprom.i92 = sext i32 %66 to i64
  %arrayidx.i93 = getelementptr inbounds float, ptr %68, i64 %idxprom.i92
  store float %67, ptr %arrayidx.i93, align 4
  %y.i94 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 8, i32 0, i32 1
  %69 = load float, ptr %y.i94, align 4
  %y4.i95 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %65, i64 0, i32 10, i32 2
  %70 = load ptr, ptr %y4.i95, align 8
  %arrayidx7.i97 = getelementptr inbounds float, ptr %70, i64 %idxprom.i92
  store float %69, ptr %arrayidx7.i97, align 4
  %z.i98 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 8, i32 0, i32 2
  %71 = load float, ptr %z.i98, align 8
  %z9.i99 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %65, i64 0, i32 10, i32 3
  %72 = load ptr, ptr %z9.i99, align 8
  %arrayidx12.i101 = getelementptr inbounds float, ptr %72, i64 %idxprom.i92
  store float %71, ptr %arrayidx12.i101, align 4
  %dpdvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 9
  %73 = load ptr, ptr %this, align 8
  %74 = load i32, ptr %i, align 8
  %75 = load float, ptr %dpdvs, align 4
  %x2.i104 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %73, i64 0, i32 11, i32 1
  %76 = load ptr, ptr %x2.i104, align 8
  %idxprom.i106 = sext i32 %74 to i64
  %arrayidx.i107 = getelementptr inbounds float, ptr %76, i64 %idxprom.i106
  store float %75, ptr %arrayidx.i107, align 4
  %y.i108 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 9, i32 0, i32 1
  %77 = load float, ptr %y.i108, align 8
  %y4.i109 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %73, i64 0, i32 11, i32 2
  %78 = load ptr, ptr %y4.i109, align 8
  %arrayidx7.i111 = getelementptr inbounds float, ptr %78, i64 %idxprom.i106
  store float %77, ptr %arrayidx7.i111, align 4
  %z.i112 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 9, i32 0, i32 2
  %79 = load float, ptr %z.i112, align 4
  %z9.i113 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %73, i64 0, i32 11, i32 3
  %80 = load ptr, ptr %z9.i113, align 8
  %arrayidx12.i115 = getelementptr inbounds float, ptr %80, i64 %idxprom.i106
  store float %79, ptr %arrayidx12.i115, align 4
  %dndus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 10
  %81 = load ptr, ptr %this, align 8
  %82 = load i32, ptr %i, align 8
  %83 = load float, ptr %dndus, align 8
  %x2.i118 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %81, i64 0, i32 12, i32 1
  %84 = load ptr, ptr %x2.i118, align 8
  %idxprom.i120 = sext i32 %82 to i64
  %arrayidx.i121 = getelementptr inbounds float, ptr %84, i64 %idxprom.i120
  store float %83, ptr %arrayidx.i121, align 4
  %y.i122 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 10, i32 0, i32 1
  %85 = load float, ptr %y.i122, align 4
  %y4.i123 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %81, i64 0, i32 12, i32 2
  %86 = load ptr, ptr %y4.i123, align 8
  %arrayidx7.i125 = getelementptr inbounds float, ptr %86, i64 %idxprom.i120
  store float %85, ptr %arrayidx7.i125, align 4
  %z.i126 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 10, i32 0, i32 2
  %87 = load float, ptr %z.i126, align 8
  %z9.i127 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %81, i64 0, i32 12, i32 3
  %88 = load ptr, ptr %z9.i127, align 8
  %arrayidx12.i129 = getelementptr inbounds float, ptr %88, i64 %idxprom.i120
  store float %87, ptr %arrayidx12.i129, align 4
  %dndvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 11
  %89 = load ptr, ptr %this, align 8
  %90 = load i32, ptr %i, align 8
  %91 = load float, ptr %dndvs, align 4
  %x2.i132 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %89, i64 0, i32 13, i32 1
  %92 = load ptr, ptr %x2.i132, align 8
  %idxprom.i134 = sext i32 %90 to i64
  %arrayidx.i135 = getelementptr inbounds float, ptr %92, i64 %idxprom.i134
  store float %91, ptr %arrayidx.i135, align 4
  %y.i136 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 11, i32 0, i32 1
  %93 = load float, ptr %y.i136, align 8
  %y4.i137 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %89, i64 0, i32 13, i32 2
  %94 = load ptr, ptr %y4.i137, align 8
  %arrayidx7.i139 = getelementptr inbounds float, ptr %94, i64 %idxprom.i134
  store float %93, ptr %arrayidx7.i139, align 4
  %z.i140 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 11, i32 0, i32 2
  %95 = load float, ptr %z.i140, align 4
  %z9.i141 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %89, i64 0, i32 13, i32 3
  %96 = load ptr, ptr %z9.i141, align 8
  %arrayidx12.i143 = getelementptr inbounds float, ptr %96, i64 %idxprom.i134
  store float %95, ptr %arrayidx12.i143, align 4
  %wo = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 17
  %97 = load ptr, ptr %this, align 8
  %98 = load i32, ptr %i, align 8
  %99 = load float, ptr %wo, align 4
  %x2.i146 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %97, i64 0, i32 14, i32 1
  %100 = load ptr, ptr %x2.i146, align 8
  %idxprom.i148 = sext i32 %98 to i64
  %arrayidx.i149 = getelementptr inbounds float, ptr %100, i64 %idxprom.i148
  store float %99, ptr %arrayidx.i149, align 4
  %y.i150 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 17, i32 0, i32 1
  %101 = load float, ptr %y.i150, align 8
  %y4.i151 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %97, i64 0, i32 14, i32 2
  %102 = load ptr, ptr %y4.i151, align 8
  %arrayidx7.i153 = getelementptr inbounds float, ptr %102, i64 %idxprom.i148
  store float %101, ptr %arrayidx7.i153, align 4
  %z.i154 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 17, i32 0, i32 2
  %103 = load float, ptr %z.i154, align 4
  %z9.i155 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %97, i64 0, i32 14, i32 3
  %104 = load ptr, ptr %z9.i155, align 8
  %arrayidx12.i157 = getelementptr inbounds float, ptr %104, i64 %idxprom.i148
  store float %103, ptr %arrayidx12.i157, align 4
  %uv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 12
  %105 = load ptr, ptr %this, align 8
  %106 = load i32, ptr %i, align 8
  %107 = load float, ptr %uv, align 8
  %x2.i160 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %105, i64 0, i32 15, i32 1
  %108 = load ptr, ptr %x2.i160, align 8
  %idxprom.i162 = sext i32 %106 to i64
  %arrayidx.i163 = getelementptr inbounds float, ptr %108, i64 %idxprom.i162
  store float %107, ptr %arrayidx.i163, align 4
  %y.i164 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 12, i32 0, i32 1
  %109 = load float, ptr %y.i164, align 4
  %y4.i165 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %105, i64 0, i32 15, i32 2
  %110 = load ptr, ptr %y4.i165, align 8
  %arrayidx7.i167 = getelementptr inbounds float, ptr %110, i64 %idxprom.i162
  store float %109, ptr %arrayidx7.i167, align 4
  %depth = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 6
  %111 = load i32, ptr %depth, align 8
  %112 = load ptr, ptr %this, align 8
  %depth72 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %112, i64 0, i32 16
  %113 = load ptr, ptr %depth72, align 8
  %114 = load i32, ptr %i, align 8
  %idxprom74 = sext i32 %114 to i64
  %arrayidx75 = getelementptr inbounds i32, ptr %113, i64 %idxprom74
  store i32 %111, ptr %arrayidx75, align 4
  %faceIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 13
  %115 = load i32, ptr %faceIndex, align 8
  %116 = load ptr, ptr %this, align 8
  %faceIndex77 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %116, i64 0, i32 17
  %117 = load ptr, ptr %faceIndex77, align 8
  %118 = load i32, ptr %i, align 8
  %idxprom79 = sext i32 %118 to i64
  %arrayidx80 = getelementptr inbounds i32, ptr %117, i64 %idxprom79
  store i32 %115, ptr %arrayidx80, align 4
  %time = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 5
  %119 = load float, ptr %time, align 4
  %120 = load ptr, ptr %this, align 8
  %time82 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %120, i64 0, i32 18
  %121 = load ptr, ptr %time82, align 8
  %122 = load i32, ptr %i, align 8
  %idxprom84 = sext i32 %122 to i64
  %arrayidx85 = getelementptr inbounds float, ptr %121, i64 %idxprom84
  store float %119, ptr %arrayidx85, align 4
  %anyNonSpecularBounces = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 16
  %123 = load i32, ptr %anyNonSpecularBounces, align 8
  %124 = load ptr, ptr %this, align 8
  %anyNonSpecularBounces87 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %124, i64 0, i32 19
  %125 = load ptr, ptr %anyNonSpecularBounces87, align 8
  %126 = load i32, ptr %i, align 8
  %idxprom89 = sext i32 %126 to i64
  %arrayidx90 = getelementptr inbounds i32, ptr %125, i64 %idxprom89
  store i32 %123, ptr %arrayidx90, align 4
  %etaScale = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 20
  %127 = load float, ptr %etaScale, align 8
  %128 = load ptr, ptr %this, align 8
  %etaScale92 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %128, i64 0, i32 20
  %129 = load ptr, ptr %etaScale92, align 8
  %130 = load i32, ptr %i, align 8
  %idxprom94 = sext i32 %130 to i64
  %arrayidx95 = getelementptr inbounds float, ptr %129, i64 %idxprom94
  store float %127, ptr %arrayidx95, align 4
  %mediumInterface = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 21
  %131 = load ptr, ptr %this, align 8
  %132 = load i32, ptr %i, align 8
  %inside2.i = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %131, i64 0, i32 21, i32 1
  %133 = load ptr, ptr %inside2.i, align 8
  %idxprom.i171 = sext i32 %132 to i64
  %arrayidx.i172 = getelementptr inbounds %"class.pbrt::Medium", ptr %133, i64 %idxprom.i171
  %134 = load i64, ptr %mediumInterface, align 8
  store i64 %134, ptr %arrayidx.i172, align 8
  %outside.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 21, i32 1
  %outside4.i = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %131, i64 0, i32 21, i32 2
  %135 = load ptr, ptr %outside4.i, align 8
  %arrayidx7.i174 = getelementptr inbounds %"class.pbrt::Medium", ptr %135, i64 %idxprom.i171
  %136 = load i64, ptr %outside.i, align 8
  store i64 %136, ptr %arrayidx7.i174, align 8
  %pixelIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.205", ptr %a, i64 0, i32 15
  %137 = load i32, ptr %pixelIndex, align 4
  %138 = load ptr, ptr %this, align 8
  %pixelIndex102 = getelementptr inbounds %"struct.pbrt::SOA.200", ptr %138, i64 0, i32 22
  %139 = load ptr, ptr %pixelIndex102, align 8
  %140 = load i32, ptr %i, align 8
  %idxprom104 = sext i32 %140 to i64
  %arrayidx105 = getelementptr inbounds i32, ptr %139, i64 %idxprom104
  store i32 %137, ptr %arrayidx105, align 4
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_17ConductorMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %this, ptr noundef nonnull align 8 dereferenceable(256) %a) local_unnamed_addr #9 comdat align 2 {
entry:
  %0 = load ptr, ptr %a, align 8
  %1 = load ptr, ptr %this, align 8
  %material2 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %1, i64 0, i32 1
  %2 = load ptr, ptr %material2, align 8
  %i = getelementptr inbounds %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::ConductorMaterial>>::GetSetIndirector", ptr %this, i64 0, i32 1
  %3 = load i32, ptr %i, align 8
  %idxprom = sext i32 %3 to i64
  %arrayidx = getelementptr inbounds ptr, ptr %2, i64 %idxprom
  store ptr %0, ptr %arrayidx, align 8
  %lambda = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 14
  %4 = load ptr, ptr %this, align 8
  %5 = load i32, ptr %i, align 8
  %arrayidx.i23.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 14, i32 0, i32 0, i64 2
  %pdf.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 14, i32 1
  %lambda4.i = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %4, i64 0, i32 2, i32 1
  %6 = load ptr, ptr %lambda4.i, align 8
  %idx.ext.i = sext i32 %5 to i64
  %add.ptr.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %6, i64 %idx.ext.i
  %7 = load <4 x float>, ptr %lambda, align 4
  %agg.tmp.sroa.0.4.vec.insert.i = shufflevector <4 x float> %7, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %8 = load <4 x float>, ptr %arrayidx.i23.i, align 4
  %agg.tmp.sroa.3.12.vec.insert.i = shufflevector <4 x float> %8, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i, ptr %add.ptr.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %add.ptr.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i, align 8
  %pdf4.i = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %4, i64 0, i32 2, i32 2
  %9 = load ptr, ptr %pdf4.i, align 8
  %add.ptr21.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %9, i64 %idx.ext.i
  %10 = load <4 x float>, ptr %pdf.i, align 4
  %agg.tmp22.sroa.0.4.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp22.sroa.3.12.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp22.sroa.0.4.vec.insert.i, ptr %add.ptr21.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i28.i = getelementptr inbounds i8, ptr %add.ptr21.i, i64 8
  store <2 x float> %agg.tmp22.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i28.i, align 8
  %beta = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 18
  %11 = load ptr, ptr %this, align 8
  %12 = load i32, ptr %i, align 8
  %ptr4.i = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %11, i64 0, i32 3, i32 1
  %13 = load ptr, ptr %ptr4.i, align 8
  %idx.ext.i25 = sext i32 %12 to i64
  %add.ptr.i26 = getelementptr inbounds %"struct.pbrt::Float4", ptr %13, i64 %idx.ext.i25
  %14 = load <4 x float>, ptr %beta, align 8
  %agg.tmp.sroa.0.4.vec.insert.i27 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i28 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i27, ptr %add.ptr.i26, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i29 = getelementptr inbounds i8, ptr %add.ptr.i26, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i28, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i29, align 8
  %r_u = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 19
  %15 = load ptr, ptr %this, align 8
  %16 = load i32, ptr %i, align 8
  %ptr4.i33 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %15, i64 0, i32 4, i32 1
  %17 = load ptr, ptr %ptr4.i33, align 8
  %idx.ext.i34 = sext i32 %16 to i64
  %add.ptr.i35 = getelementptr inbounds %"struct.pbrt::Float4", ptr %17, i64 %idx.ext.i34
  %18 = load <4 x float>, ptr %r_u, align 8
  %agg.tmp.sroa.0.4.vec.insert.i36 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i37 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i36, ptr %add.ptr.i35, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i38 = getelementptr inbounds i8, ptr %add.ptr.i35, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i37, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i38, align 8
  %pi = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 1
  %19 = load ptr, ptr %this, align 8
  %20 = load i32, ptr %i, align 8
  %21 = load float, ptr %pi, align 8
  %low2.i.i = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %19, i64 0, i32 5, i32 1, i32 1
  %22 = load ptr, ptr %low2.i.i, align 8
  %idxprom.i.i = sext i32 %20 to i64
  %arrayidx.i.i = getelementptr inbounds float, ptr %22, i64 %idxprom.i.i
  store float %21, ptr %arrayidx.i.i, align 4
  %high.i.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 0, i32 1
  %23 = load float, ptr %high.i.i, align 4
  %high4.i.i = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %19, i64 0, i32 5, i32 1, i32 2
  %24 = load ptr, ptr %high4.i.i, align 8
  %arrayidx7.i.i = getelementptr inbounds float, ptr %24, i64 %idxprom.i.i
  store float %23, ptr %arrayidx7.i.i, align 4
  %y.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1
  %25 = load float, ptr %y.i, align 8
  %low2.i5.i = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %19, i64 0, i32 5, i32 2, i32 1
  %26 = load ptr, ptr %low2.i5.i, align 8
  %arrayidx.i8.i = getelementptr inbounds float, ptr %26, i64 %idxprom.i.i
  store float %25, ptr %arrayidx.i8.i, align 4
  %high.i9.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1, i32 1
  %27 = load float, ptr %high.i9.i, align 4
  %high4.i10.i = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %19, i64 0, i32 5, i32 2, i32 2
  %28 = load ptr, ptr %high4.i10.i, align 8
  %arrayidx7.i12.i = getelementptr inbounds float, ptr %28, i64 %idxprom.i.i
  store float %27, ptr %arrayidx7.i12.i, align 4
  %z.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2
  %29 = load float, ptr %z.i, align 8
  %low2.i15.i = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %19, i64 0, i32 5, i32 3, i32 1
  %30 = load ptr, ptr %low2.i15.i, align 8
  %arrayidx.i18.i = getelementptr inbounds float, ptr %30, i64 %idxprom.i.i
  store float %29, ptr %arrayidx.i18.i, align 4
  %high.i19.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2, i32 1
  %31 = load float, ptr %high.i19.i, align 4
  %high4.i20.i = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %19, i64 0, i32 5, i32 3, i32 2
  %32 = load ptr, ptr %high4.i20.i, align 8
  %arrayidx7.i22.i = getelementptr inbounds float, ptr %32, i64 %idxprom.i.i
  store float %31, ptr %arrayidx7.i22.i, align 4
  %n = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 2
  %33 = load ptr, ptr %this, align 8
  %34 = load i32, ptr %i, align 8
  %35 = load float, ptr %n, align 8
  %x2.i = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %33, i64 0, i32 6, i32 1
  %36 = load ptr, ptr %x2.i, align 8
  %idxprom.i = sext i32 %34 to i64
  %arrayidx.i = getelementptr inbounds float, ptr %36, i64 %idxprom.i
  store float %35, ptr %arrayidx.i, align 4
  %y.i44 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 2, i32 0, i32 1
  %37 = load float, ptr %y.i44, align 4
  %y4.i = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %33, i64 0, i32 6, i32 2
  %38 = load ptr, ptr %y4.i, align 8
  %arrayidx7.i = getelementptr inbounds float, ptr %38, i64 %idxprom.i
  store float %37, ptr %arrayidx7.i, align 4
  %z.i45 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 2, i32 0, i32 2
  %39 = load float, ptr %z.i45, align 8
  %z9.i = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %33, i64 0, i32 6, i32 3
  %40 = load ptr, ptr %z9.i, align 8
  %arrayidx12.i = getelementptr inbounds float, ptr %40, i64 %idxprom.i
  store float %39, ptr %arrayidx12.i, align 4
  %ns = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 7
  %41 = load ptr, ptr %this, align 8
  %42 = load i32, ptr %i, align 8
  %43 = load float, ptr %ns, align 4
  %x2.i48 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %41, i64 0, i32 7, i32 1
  %44 = load ptr, ptr %x2.i48, align 8
  %idxprom.i50 = sext i32 %42 to i64
  %arrayidx.i51 = getelementptr inbounds float, ptr %44, i64 %idxprom.i50
  store float %43, ptr %arrayidx.i51, align 4
  %y.i52 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 7, i32 0, i32 1
  %45 = load float, ptr %y.i52, align 8
  %y4.i53 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %41, i64 0, i32 7, i32 2
  %46 = load ptr, ptr %y4.i53, align 8
  %arrayidx7.i55 = getelementptr inbounds float, ptr %46, i64 %idxprom.i50
  store float %45, ptr %arrayidx7.i55, align 4
  %z.i56 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 7, i32 0, i32 2
  %47 = load float, ptr %z.i56, align 4
  %z9.i57 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %41, i64 0, i32 7, i32 3
  %48 = load ptr, ptr %z9.i57, align 8
  %arrayidx12.i59 = getelementptr inbounds float, ptr %48, i64 %idxprom.i50
  store float %47, ptr %arrayidx12.i59, align 4
  %dpdu = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 3
  %49 = load ptr, ptr %this, align 8
  %50 = load i32, ptr %i, align 8
  %51 = load float, ptr %dpdu, align 4
  %x2.i62 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %49, i64 0, i32 8, i32 1
  %52 = load ptr, ptr %x2.i62, align 8
  %idxprom.i64 = sext i32 %50 to i64
  %arrayidx.i65 = getelementptr inbounds float, ptr %52, i64 %idxprom.i64
  store float %51, ptr %arrayidx.i65, align 4
  %y.i66 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 3, i32 0, i32 1
  %53 = load float, ptr %y.i66, align 8
  %y4.i67 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %49, i64 0, i32 8, i32 2
  %54 = load ptr, ptr %y4.i67, align 8
  %arrayidx7.i69 = getelementptr inbounds float, ptr %54, i64 %idxprom.i64
  store float %53, ptr %arrayidx7.i69, align 4
  %z.i70 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 3, i32 0, i32 2
  %55 = load float, ptr %z.i70, align 4
  %z9.i71 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %49, i64 0, i32 8, i32 3
  %56 = load ptr, ptr %z9.i71, align 8
  %arrayidx12.i73 = getelementptr inbounds float, ptr %56, i64 %idxprom.i64
  store float %55, ptr %arrayidx12.i73, align 4
  %dpdv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 4
  %57 = load ptr, ptr %this, align 8
  %58 = load i32, ptr %i, align 8
  %59 = load float, ptr %dpdv, align 8
  %x2.i76 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %57, i64 0, i32 9, i32 1
  %60 = load ptr, ptr %x2.i76, align 8
  %idxprom.i78 = sext i32 %58 to i64
  %arrayidx.i79 = getelementptr inbounds float, ptr %60, i64 %idxprom.i78
  store float %59, ptr %arrayidx.i79, align 4
  %y.i80 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 4, i32 0, i32 1
  %61 = load float, ptr %y.i80, align 4
  %y4.i81 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %57, i64 0, i32 9, i32 2
  %62 = load ptr, ptr %y4.i81, align 8
  %arrayidx7.i83 = getelementptr inbounds float, ptr %62, i64 %idxprom.i78
  store float %61, ptr %arrayidx7.i83, align 4
  %z.i84 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 4, i32 0, i32 2
  %63 = load float, ptr %z.i84, align 8
  %z9.i85 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %57, i64 0, i32 9, i32 3
  %64 = load ptr, ptr %z9.i85, align 8
  %arrayidx12.i87 = getelementptr inbounds float, ptr %64, i64 %idxprom.i78
  store float %63, ptr %arrayidx12.i87, align 4
  %dpdus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 8
  %65 = load ptr, ptr %this, align 8
  %66 = load i32, ptr %i, align 8
  %67 = load float, ptr %dpdus, align 8
  %x2.i90 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %65, i64 0, i32 10, i32 1
  %68 = load ptr, ptr %x2.i90, align 8
  %idxprom.i92 = sext i32 %66 to i64
  %arrayidx.i93 = getelementptr inbounds float, ptr %68, i64 %idxprom.i92
  store float %67, ptr %arrayidx.i93, align 4
  %y.i94 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 8, i32 0, i32 1
  %69 = load float, ptr %y.i94, align 4
  %y4.i95 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %65, i64 0, i32 10, i32 2
  %70 = load ptr, ptr %y4.i95, align 8
  %arrayidx7.i97 = getelementptr inbounds float, ptr %70, i64 %idxprom.i92
  store float %69, ptr %arrayidx7.i97, align 4
  %z.i98 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 8, i32 0, i32 2
  %71 = load float, ptr %z.i98, align 8
  %z9.i99 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %65, i64 0, i32 10, i32 3
  %72 = load ptr, ptr %z9.i99, align 8
  %arrayidx12.i101 = getelementptr inbounds float, ptr %72, i64 %idxprom.i92
  store float %71, ptr %arrayidx12.i101, align 4
  %dpdvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 9
  %73 = load ptr, ptr %this, align 8
  %74 = load i32, ptr %i, align 8
  %75 = load float, ptr %dpdvs, align 4
  %x2.i104 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %73, i64 0, i32 11, i32 1
  %76 = load ptr, ptr %x2.i104, align 8
  %idxprom.i106 = sext i32 %74 to i64
  %arrayidx.i107 = getelementptr inbounds float, ptr %76, i64 %idxprom.i106
  store float %75, ptr %arrayidx.i107, align 4
  %y.i108 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 9, i32 0, i32 1
  %77 = load float, ptr %y.i108, align 8
  %y4.i109 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %73, i64 0, i32 11, i32 2
  %78 = load ptr, ptr %y4.i109, align 8
  %arrayidx7.i111 = getelementptr inbounds float, ptr %78, i64 %idxprom.i106
  store float %77, ptr %arrayidx7.i111, align 4
  %z.i112 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 9, i32 0, i32 2
  %79 = load float, ptr %z.i112, align 4
  %z9.i113 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %73, i64 0, i32 11, i32 3
  %80 = load ptr, ptr %z9.i113, align 8
  %arrayidx12.i115 = getelementptr inbounds float, ptr %80, i64 %idxprom.i106
  store float %79, ptr %arrayidx12.i115, align 4
  %dndus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 10
  %81 = load ptr, ptr %this, align 8
  %82 = load i32, ptr %i, align 8
  %83 = load float, ptr %dndus, align 8
  %x2.i118 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %81, i64 0, i32 12, i32 1
  %84 = load ptr, ptr %x2.i118, align 8
  %idxprom.i120 = sext i32 %82 to i64
  %arrayidx.i121 = getelementptr inbounds float, ptr %84, i64 %idxprom.i120
  store float %83, ptr %arrayidx.i121, align 4
  %y.i122 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 10, i32 0, i32 1
  %85 = load float, ptr %y.i122, align 4
  %y4.i123 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %81, i64 0, i32 12, i32 2
  %86 = load ptr, ptr %y4.i123, align 8
  %arrayidx7.i125 = getelementptr inbounds float, ptr %86, i64 %idxprom.i120
  store float %85, ptr %arrayidx7.i125, align 4
  %z.i126 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 10, i32 0, i32 2
  %87 = load float, ptr %z.i126, align 8
  %z9.i127 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %81, i64 0, i32 12, i32 3
  %88 = load ptr, ptr %z9.i127, align 8
  %arrayidx12.i129 = getelementptr inbounds float, ptr %88, i64 %idxprom.i120
  store float %87, ptr %arrayidx12.i129, align 4
  %dndvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 11
  %89 = load ptr, ptr %this, align 8
  %90 = load i32, ptr %i, align 8
  %91 = load float, ptr %dndvs, align 4
  %x2.i132 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %89, i64 0, i32 13, i32 1
  %92 = load ptr, ptr %x2.i132, align 8
  %idxprom.i134 = sext i32 %90 to i64
  %arrayidx.i135 = getelementptr inbounds float, ptr %92, i64 %idxprom.i134
  store float %91, ptr %arrayidx.i135, align 4
  %y.i136 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 11, i32 0, i32 1
  %93 = load float, ptr %y.i136, align 8
  %y4.i137 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %89, i64 0, i32 13, i32 2
  %94 = load ptr, ptr %y4.i137, align 8
  %arrayidx7.i139 = getelementptr inbounds float, ptr %94, i64 %idxprom.i134
  store float %93, ptr %arrayidx7.i139, align 4
  %z.i140 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 11, i32 0, i32 2
  %95 = load float, ptr %z.i140, align 4
  %z9.i141 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %89, i64 0, i32 13, i32 3
  %96 = load ptr, ptr %z9.i141, align 8
  %arrayidx12.i143 = getelementptr inbounds float, ptr %96, i64 %idxprom.i134
  store float %95, ptr %arrayidx12.i143, align 4
  %wo = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 17
  %97 = load ptr, ptr %this, align 8
  %98 = load i32, ptr %i, align 8
  %99 = load float, ptr %wo, align 4
  %x2.i146 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %97, i64 0, i32 14, i32 1
  %100 = load ptr, ptr %x2.i146, align 8
  %idxprom.i148 = sext i32 %98 to i64
  %arrayidx.i149 = getelementptr inbounds float, ptr %100, i64 %idxprom.i148
  store float %99, ptr %arrayidx.i149, align 4
  %y.i150 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 17, i32 0, i32 1
  %101 = load float, ptr %y.i150, align 8
  %y4.i151 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %97, i64 0, i32 14, i32 2
  %102 = load ptr, ptr %y4.i151, align 8
  %arrayidx7.i153 = getelementptr inbounds float, ptr %102, i64 %idxprom.i148
  store float %101, ptr %arrayidx7.i153, align 4
  %z.i154 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 17, i32 0, i32 2
  %103 = load float, ptr %z.i154, align 4
  %z9.i155 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %97, i64 0, i32 14, i32 3
  %104 = load ptr, ptr %z9.i155, align 8
  %arrayidx12.i157 = getelementptr inbounds float, ptr %104, i64 %idxprom.i148
  store float %103, ptr %arrayidx12.i157, align 4
  %uv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 12
  %105 = load ptr, ptr %this, align 8
  %106 = load i32, ptr %i, align 8
  %107 = load float, ptr %uv, align 8
  %x2.i160 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %105, i64 0, i32 15, i32 1
  %108 = load ptr, ptr %x2.i160, align 8
  %idxprom.i162 = sext i32 %106 to i64
  %arrayidx.i163 = getelementptr inbounds float, ptr %108, i64 %idxprom.i162
  store float %107, ptr %arrayidx.i163, align 4
  %y.i164 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 12, i32 0, i32 1
  %109 = load float, ptr %y.i164, align 4
  %y4.i165 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %105, i64 0, i32 15, i32 2
  %110 = load ptr, ptr %y4.i165, align 8
  %arrayidx7.i167 = getelementptr inbounds float, ptr %110, i64 %idxprom.i162
  store float %109, ptr %arrayidx7.i167, align 4
  %depth = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 6
  %111 = load i32, ptr %depth, align 8
  %112 = load ptr, ptr %this, align 8
  %depth72 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %112, i64 0, i32 16
  %113 = load ptr, ptr %depth72, align 8
  %114 = load i32, ptr %i, align 8
  %idxprom74 = sext i32 %114 to i64
  %arrayidx75 = getelementptr inbounds i32, ptr %113, i64 %idxprom74
  store i32 %111, ptr %arrayidx75, align 4
  %faceIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 13
  %115 = load i32, ptr %faceIndex, align 8
  %116 = load ptr, ptr %this, align 8
  %faceIndex77 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %116, i64 0, i32 17
  %117 = load ptr, ptr %faceIndex77, align 8
  %118 = load i32, ptr %i, align 8
  %idxprom79 = sext i32 %118 to i64
  %arrayidx80 = getelementptr inbounds i32, ptr %117, i64 %idxprom79
  store i32 %115, ptr %arrayidx80, align 4
  %time = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 5
  %119 = load float, ptr %time, align 4
  %120 = load ptr, ptr %this, align 8
  %time82 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %120, i64 0, i32 18
  %121 = load ptr, ptr %time82, align 8
  %122 = load i32, ptr %i, align 8
  %idxprom84 = sext i32 %122 to i64
  %arrayidx85 = getelementptr inbounds float, ptr %121, i64 %idxprom84
  store float %119, ptr %arrayidx85, align 4
  %anyNonSpecularBounces = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 16
  %123 = load i32, ptr %anyNonSpecularBounces, align 8
  %124 = load ptr, ptr %this, align 8
  %anyNonSpecularBounces87 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %124, i64 0, i32 19
  %125 = load ptr, ptr %anyNonSpecularBounces87, align 8
  %126 = load i32, ptr %i, align 8
  %idxprom89 = sext i32 %126 to i64
  %arrayidx90 = getelementptr inbounds i32, ptr %125, i64 %idxprom89
  store i32 %123, ptr %arrayidx90, align 4
  %etaScale = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 20
  %127 = load float, ptr %etaScale, align 8
  %128 = load ptr, ptr %this, align 8
  %etaScale92 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %128, i64 0, i32 20
  %129 = load ptr, ptr %etaScale92, align 8
  %130 = load i32, ptr %i, align 8
  %idxprom94 = sext i32 %130 to i64
  %arrayidx95 = getelementptr inbounds float, ptr %129, i64 %idxprom94
  store float %127, ptr %arrayidx95, align 4
  %mediumInterface = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 21
  %131 = load ptr, ptr %this, align 8
  %132 = load i32, ptr %i, align 8
  %inside2.i = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %131, i64 0, i32 21, i32 1
  %133 = load ptr, ptr %inside2.i, align 8
  %idxprom.i171 = sext i32 %132 to i64
  %arrayidx.i172 = getelementptr inbounds %"class.pbrt::Medium", ptr %133, i64 %idxprom.i171
  %134 = load i64, ptr %mediumInterface, align 8
  store i64 %134, ptr %arrayidx.i172, align 8
  %outside.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 21, i32 1
  %outside4.i = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %131, i64 0, i32 21, i32 2
  %135 = load ptr, ptr %outside4.i, align 8
  %arrayidx7.i174 = getelementptr inbounds %"class.pbrt::Medium", ptr %135, i64 %idxprom.i171
  %136 = load i64, ptr %outside.i, align 8
  store i64 %136, ptr %arrayidx7.i174, align 8
  %pixelIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.206", ptr %a, i64 0, i32 15
  %137 = load i32, ptr %pixelIndex, align 4
  %138 = load ptr, ptr %this, align 8
  %pixelIndex102 = getelementptr inbounds %"struct.pbrt::SOA.197", ptr %138, i64 0, i32 22
  %139 = load ptr, ptr %pixelIndex102, align 8
  %140 = load i32, ptr %i, align 8
  %idxprom104 = sext i32 %140 to i64
  %arrayidx105 = getelementptr inbounds i32, ptr %139, i64 %idxprom104
  store i32 %137, ptr %arrayidx105, align 4
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_18DielectricMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %this, ptr noundef nonnull align 8 dereferenceable(256) %a) local_unnamed_addr #9 comdat align 2 {
entry:
  %0 = load ptr, ptr %a, align 8
  %1 = load ptr, ptr %this, align 8
  %material2 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %1, i64 0, i32 1
  %2 = load ptr, ptr %material2, align 8
  %i = getelementptr inbounds %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::DielectricMaterial>>::GetSetIndirector", ptr %this, i64 0, i32 1
  %3 = load i32, ptr %i, align 8
  %idxprom = sext i32 %3 to i64
  %arrayidx = getelementptr inbounds ptr, ptr %2, i64 %idxprom
  store ptr %0, ptr %arrayidx, align 8
  %lambda = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 14
  %4 = load ptr, ptr %this, align 8
  %5 = load i32, ptr %i, align 8
  %arrayidx.i23.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 14, i32 0, i32 0, i64 2
  %pdf.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 14, i32 1
  %lambda4.i = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %4, i64 0, i32 2, i32 1
  %6 = load ptr, ptr %lambda4.i, align 8
  %idx.ext.i = sext i32 %5 to i64
  %add.ptr.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %6, i64 %idx.ext.i
  %7 = load <4 x float>, ptr %lambda, align 4
  %agg.tmp.sroa.0.4.vec.insert.i = shufflevector <4 x float> %7, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %8 = load <4 x float>, ptr %arrayidx.i23.i, align 4
  %agg.tmp.sroa.3.12.vec.insert.i = shufflevector <4 x float> %8, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i, ptr %add.ptr.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %add.ptr.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i, align 8
  %pdf4.i = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %4, i64 0, i32 2, i32 2
  %9 = load ptr, ptr %pdf4.i, align 8
  %add.ptr21.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %9, i64 %idx.ext.i
  %10 = load <4 x float>, ptr %pdf.i, align 4
  %agg.tmp22.sroa.0.4.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp22.sroa.3.12.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp22.sroa.0.4.vec.insert.i, ptr %add.ptr21.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i28.i = getelementptr inbounds i8, ptr %add.ptr21.i, i64 8
  store <2 x float> %agg.tmp22.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i28.i, align 8
  %beta = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 18
  %11 = load ptr, ptr %this, align 8
  %12 = load i32, ptr %i, align 8
  %ptr4.i = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %11, i64 0, i32 3, i32 1
  %13 = load ptr, ptr %ptr4.i, align 8
  %idx.ext.i25 = sext i32 %12 to i64
  %add.ptr.i26 = getelementptr inbounds %"struct.pbrt::Float4", ptr %13, i64 %idx.ext.i25
  %14 = load <4 x float>, ptr %beta, align 8
  %agg.tmp.sroa.0.4.vec.insert.i27 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i28 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i27, ptr %add.ptr.i26, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i29 = getelementptr inbounds i8, ptr %add.ptr.i26, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i28, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i29, align 8
  %r_u = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 19
  %15 = load ptr, ptr %this, align 8
  %16 = load i32, ptr %i, align 8
  %ptr4.i33 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %15, i64 0, i32 4, i32 1
  %17 = load ptr, ptr %ptr4.i33, align 8
  %idx.ext.i34 = sext i32 %16 to i64
  %add.ptr.i35 = getelementptr inbounds %"struct.pbrt::Float4", ptr %17, i64 %idx.ext.i34
  %18 = load <4 x float>, ptr %r_u, align 8
  %agg.tmp.sroa.0.4.vec.insert.i36 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i37 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i36, ptr %add.ptr.i35, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i38 = getelementptr inbounds i8, ptr %add.ptr.i35, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i37, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i38, align 8
  %pi = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 1
  %19 = load ptr, ptr %this, align 8
  %20 = load i32, ptr %i, align 8
  %21 = load float, ptr %pi, align 8
  %low2.i.i = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %19, i64 0, i32 5, i32 1, i32 1
  %22 = load ptr, ptr %low2.i.i, align 8
  %idxprom.i.i = sext i32 %20 to i64
  %arrayidx.i.i = getelementptr inbounds float, ptr %22, i64 %idxprom.i.i
  store float %21, ptr %arrayidx.i.i, align 4
  %high.i.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 0, i32 1
  %23 = load float, ptr %high.i.i, align 4
  %high4.i.i = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %19, i64 0, i32 5, i32 1, i32 2
  %24 = load ptr, ptr %high4.i.i, align 8
  %arrayidx7.i.i = getelementptr inbounds float, ptr %24, i64 %idxprom.i.i
  store float %23, ptr %arrayidx7.i.i, align 4
  %y.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1
  %25 = load float, ptr %y.i, align 8
  %low2.i5.i = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %19, i64 0, i32 5, i32 2, i32 1
  %26 = load ptr, ptr %low2.i5.i, align 8
  %arrayidx.i8.i = getelementptr inbounds float, ptr %26, i64 %idxprom.i.i
  store float %25, ptr %arrayidx.i8.i, align 4
  %high.i9.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1, i32 1
  %27 = load float, ptr %high.i9.i, align 4
  %high4.i10.i = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %19, i64 0, i32 5, i32 2, i32 2
  %28 = load ptr, ptr %high4.i10.i, align 8
  %arrayidx7.i12.i = getelementptr inbounds float, ptr %28, i64 %idxprom.i.i
  store float %27, ptr %arrayidx7.i12.i, align 4
  %z.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2
  %29 = load float, ptr %z.i, align 8
  %low2.i15.i = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %19, i64 0, i32 5, i32 3, i32 1
  %30 = load ptr, ptr %low2.i15.i, align 8
  %arrayidx.i18.i = getelementptr inbounds float, ptr %30, i64 %idxprom.i.i
  store float %29, ptr %arrayidx.i18.i, align 4
  %high.i19.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2, i32 1
  %31 = load float, ptr %high.i19.i, align 4
  %high4.i20.i = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %19, i64 0, i32 5, i32 3, i32 2
  %32 = load ptr, ptr %high4.i20.i, align 8
  %arrayidx7.i22.i = getelementptr inbounds float, ptr %32, i64 %idxprom.i.i
  store float %31, ptr %arrayidx7.i22.i, align 4
  %n = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 2
  %33 = load ptr, ptr %this, align 8
  %34 = load i32, ptr %i, align 8
  %35 = load float, ptr %n, align 8
  %x2.i = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %33, i64 0, i32 6, i32 1
  %36 = load ptr, ptr %x2.i, align 8
  %idxprom.i = sext i32 %34 to i64
  %arrayidx.i = getelementptr inbounds float, ptr %36, i64 %idxprom.i
  store float %35, ptr %arrayidx.i, align 4
  %y.i44 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 2, i32 0, i32 1
  %37 = load float, ptr %y.i44, align 4
  %y4.i = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %33, i64 0, i32 6, i32 2
  %38 = load ptr, ptr %y4.i, align 8
  %arrayidx7.i = getelementptr inbounds float, ptr %38, i64 %idxprom.i
  store float %37, ptr %arrayidx7.i, align 4
  %z.i45 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 2, i32 0, i32 2
  %39 = load float, ptr %z.i45, align 8
  %z9.i = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %33, i64 0, i32 6, i32 3
  %40 = load ptr, ptr %z9.i, align 8
  %arrayidx12.i = getelementptr inbounds float, ptr %40, i64 %idxprom.i
  store float %39, ptr %arrayidx12.i, align 4
  %ns = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 7
  %41 = load ptr, ptr %this, align 8
  %42 = load i32, ptr %i, align 8
  %43 = load float, ptr %ns, align 4
  %x2.i48 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %41, i64 0, i32 7, i32 1
  %44 = load ptr, ptr %x2.i48, align 8
  %idxprom.i50 = sext i32 %42 to i64
  %arrayidx.i51 = getelementptr inbounds float, ptr %44, i64 %idxprom.i50
  store float %43, ptr %arrayidx.i51, align 4
  %y.i52 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 7, i32 0, i32 1
  %45 = load float, ptr %y.i52, align 8
  %y4.i53 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %41, i64 0, i32 7, i32 2
  %46 = load ptr, ptr %y4.i53, align 8
  %arrayidx7.i55 = getelementptr inbounds float, ptr %46, i64 %idxprom.i50
  store float %45, ptr %arrayidx7.i55, align 4
  %z.i56 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 7, i32 0, i32 2
  %47 = load float, ptr %z.i56, align 4
  %z9.i57 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %41, i64 0, i32 7, i32 3
  %48 = load ptr, ptr %z9.i57, align 8
  %arrayidx12.i59 = getelementptr inbounds float, ptr %48, i64 %idxprom.i50
  store float %47, ptr %arrayidx12.i59, align 4
  %dpdu = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 3
  %49 = load ptr, ptr %this, align 8
  %50 = load i32, ptr %i, align 8
  %51 = load float, ptr %dpdu, align 4
  %x2.i62 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %49, i64 0, i32 8, i32 1
  %52 = load ptr, ptr %x2.i62, align 8
  %idxprom.i64 = sext i32 %50 to i64
  %arrayidx.i65 = getelementptr inbounds float, ptr %52, i64 %idxprom.i64
  store float %51, ptr %arrayidx.i65, align 4
  %y.i66 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 3, i32 0, i32 1
  %53 = load float, ptr %y.i66, align 8
  %y4.i67 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %49, i64 0, i32 8, i32 2
  %54 = load ptr, ptr %y4.i67, align 8
  %arrayidx7.i69 = getelementptr inbounds float, ptr %54, i64 %idxprom.i64
  store float %53, ptr %arrayidx7.i69, align 4
  %z.i70 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 3, i32 0, i32 2
  %55 = load float, ptr %z.i70, align 4
  %z9.i71 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %49, i64 0, i32 8, i32 3
  %56 = load ptr, ptr %z9.i71, align 8
  %arrayidx12.i73 = getelementptr inbounds float, ptr %56, i64 %idxprom.i64
  store float %55, ptr %arrayidx12.i73, align 4
  %dpdv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 4
  %57 = load ptr, ptr %this, align 8
  %58 = load i32, ptr %i, align 8
  %59 = load float, ptr %dpdv, align 8
  %x2.i76 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %57, i64 0, i32 9, i32 1
  %60 = load ptr, ptr %x2.i76, align 8
  %idxprom.i78 = sext i32 %58 to i64
  %arrayidx.i79 = getelementptr inbounds float, ptr %60, i64 %idxprom.i78
  store float %59, ptr %arrayidx.i79, align 4
  %y.i80 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 4, i32 0, i32 1
  %61 = load float, ptr %y.i80, align 4
  %y4.i81 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %57, i64 0, i32 9, i32 2
  %62 = load ptr, ptr %y4.i81, align 8
  %arrayidx7.i83 = getelementptr inbounds float, ptr %62, i64 %idxprom.i78
  store float %61, ptr %arrayidx7.i83, align 4
  %z.i84 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 4, i32 0, i32 2
  %63 = load float, ptr %z.i84, align 8
  %z9.i85 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %57, i64 0, i32 9, i32 3
  %64 = load ptr, ptr %z9.i85, align 8
  %arrayidx12.i87 = getelementptr inbounds float, ptr %64, i64 %idxprom.i78
  store float %63, ptr %arrayidx12.i87, align 4
  %dpdus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 8
  %65 = load ptr, ptr %this, align 8
  %66 = load i32, ptr %i, align 8
  %67 = load float, ptr %dpdus, align 8
  %x2.i90 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %65, i64 0, i32 10, i32 1
  %68 = load ptr, ptr %x2.i90, align 8
  %idxprom.i92 = sext i32 %66 to i64
  %arrayidx.i93 = getelementptr inbounds float, ptr %68, i64 %idxprom.i92
  store float %67, ptr %arrayidx.i93, align 4
  %y.i94 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 8, i32 0, i32 1
  %69 = load float, ptr %y.i94, align 4
  %y4.i95 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %65, i64 0, i32 10, i32 2
  %70 = load ptr, ptr %y4.i95, align 8
  %arrayidx7.i97 = getelementptr inbounds float, ptr %70, i64 %idxprom.i92
  store float %69, ptr %arrayidx7.i97, align 4
  %z.i98 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 8, i32 0, i32 2
  %71 = load float, ptr %z.i98, align 8
  %z9.i99 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %65, i64 0, i32 10, i32 3
  %72 = load ptr, ptr %z9.i99, align 8
  %arrayidx12.i101 = getelementptr inbounds float, ptr %72, i64 %idxprom.i92
  store float %71, ptr %arrayidx12.i101, align 4
  %dpdvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 9
  %73 = load ptr, ptr %this, align 8
  %74 = load i32, ptr %i, align 8
  %75 = load float, ptr %dpdvs, align 4
  %x2.i104 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %73, i64 0, i32 11, i32 1
  %76 = load ptr, ptr %x2.i104, align 8
  %idxprom.i106 = sext i32 %74 to i64
  %arrayidx.i107 = getelementptr inbounds float, ptr %76, i64 %idxprom.i106
  store float %75, ptr %arrayidx.i107, align 4
  %y.i108 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 9, i32 0, i32 1
  %77 = load float, ptr %y.i108, align 8
  %y4.i109 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %73, i64 0, i32 11, i32 2
  %78 = load ptr, ptr %y4.i109, align 8
  %arrayidx7.i111 = getelementptr inbounds float, ptr %78, i64 %idxprom.i106
  store float %77, ptr %arrayidx7.i111, align 4
  %z.i112 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 9, i32 0, i32 2
  %79 = load float, ptr %z.i112, align 4
  %z9.i113 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %73, i64 0, i32 11, i32 3
  %80 = load ptr, ptr %z9.i113, align 8
  %arrayidx12.i115 = getelementptr inbounds float, ptr %80, i64 %idxprom.i106
  store float %79, ptr %arrayidx12.i115, align 4
  %dndus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 10
  %81 = load ptr, ptr %this, align 8
  %82 = load i32, ptr %i, align 8
  %83 = load float, ptr %dndus, align 8
  %x2.i118 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %81, i64 0, i32 12, i32 1
  %84 = load ptr, ptr %x2.i118, align 8
  %idxprom.i120 = sext i32 %82 to i64
  %arrayidx.i121 = getelementptr inbounds float, ptr %84, i64 %idxprom.i120
  store float %83, ptr %arrayidx.i121, align 4
  %y.i122 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 10, i32 0, i32 1
  %85 = load float, ptr %y.i122, align 4
  %y4.i123 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %81, i64 0, i32 12, i32 2
  %86 = load ptr, ptr %y4.i123, align 8
  %arrayidx7.i125 = getelementptr inbounds float, ptr %86, i64 %idxprom.i120
  store float %85, ptr %arrayidx7.i125, align 4
  %z.i126 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 10, i32 0, i32 2
  %87 = load float, ptr %z.i126, align 8
  %z9.i127 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %81, i64 0, i32 12, i32 3
  %88 = load ptr, ptr %z9.i127, align 8
  %arrayidx12.i129 = getelementptr inbounds float, ptr %88, i64 %idxprom.i120
  store float %87, ptr %arrayidx12.i129, align 4
  %dndvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 11
  %89 = load ptr, ptr %this, align 8
  %90 = load i32, ptr %i, align 8
  %91 = load float, ptr %dndvs, align 4
  %x2.i132 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %89, i64 0, i32 13, i32 1
  %92 = load ptr, ptr %x2.i132, align 8
  %idxprom.i134 = sext i32 %90 to i64
  %arrayidx.i135 = getelementptr inbounds float, ptr %92, i64 %idxprom.i134
  store float %91, ptr %arrayidx.i135, align 4
  %y.i136 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 11, i32 0, i32 1
  %93 = load float, ptr %y.i136, align 8
  %y4.i137 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %89, i64 0, i32 13, i32 2
  %94 = load ptr, ptr %y4.i137, align 8
  %arrayidx7.i139 = getelementptr inbounds float, ptr %94, i64 %idxprom.i134
  store float %93, ptr %arrayidx7.i139, align 4
  %z.i140 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 11, i32 0, i32 2
  %95 = load float, ptr %z.i140, align 4
  %z9.i141 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %89, i64 0, i32 13, i32 3
  %96 = load ptr, ptr %z9.i141, align 8
  %arrayidx12.i143 = getelementptr inbounds float, ptr %96, i64 %idxprom.i134
  store float %95, ptr %arrayidx12.i143, align 4
  %wo = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 17
  %97 = load ptr, ptr %this, align 8
  %98 = load i32, ptr %i, align 8
  %99 = load float, ptr %wo, align 4
  %x2.i146 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %97, i64 0, i32 14, i32 1
  %100 = load ptr, ptr %x2.i146, align 8
  %idxprom.i148 = sext i32 %98 to i64
  %arrayidx.i149 = getelementptr inbounds float, ptr %100, i64 %idxprom.i148
  store float %99, ptr %arrayidx.i149, align 4
  %y.i150 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 17, i32 0, i32 1
  %101 = load float, ptr %y.i150, align 8
  %y4.i151 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %97, i64 0, i32 14, i32 2
  %102 = load ptr, ptr %y4.i151, align 8
  %arrayidx7.i153 = getelementptr inbounds float, ptr %102, i64 %idxprom.i148
  store float %101, ptr %arrayidx7.i153, align 4
  %z.i154 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 17, i32 0, i32 2
  %103 = load float, ptr %z.i154, align 4
  %z9.i155 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %97, i64 0, i32 14, i32 3
  %104 = load ptr, ptr %z9.i155, align 8
  %arrayidx12.i157 = getelementptr inbounds float, ptr %104, i64 %idxprom.i148
  store float %103, ptr %arrayidx12.i157, align 4
  %uv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 12
  %105 = load ptr, ptr %this, align 8
  %106 = load i32, ptr %i, align 8
  %107 = load float, ptr %uv, align 8
  %x2.i160 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %105, i64 0, i32 15, i32 1
  %108 = load ptr, ptr %x2.i160, align 8
  %idxprom.i162 = sext i32 %106 to i64
  %arrayidx.i163 = getelementptr inbounds float, ptr %108, i64 %idxprom.i162
  store float %107, ptr %arrayidx.i163, align 4
  %y.i164 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 12, i32 0, i32 1
  %109 = load float, ptr %y.i164, align 4
  %y4.i165 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %105, i64 0, i32 15, i32 2
  %110 = load ptr, ptr %y4.i165, align 8
  %arrayidx7.i167 = getelementptr inbounds float, ptr %110, i64 %idxprom.i162
  store float %109, ptr %arrayidx7.i167, align 4
  %depth = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 6
  %111 = load i32, ptr %depth, align 8
  %112 = load ptr, ptr %this, align 8
  %depth72 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %112, i64 0, i32 16
  %113 = load ptr, ptr %depth72, align 8
  %114 = load i32, ptr %i, align 8
  %idxprom74 = sext i32 %114 to i64
  %arrayidx75 = getelementptr inbounds i32, ptr %113, i64 %idxprom74
  store i32 %111, ptr %arrayidx75, align 4
  %faceIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 13
  %115 = load i32, ptr %faceIndex, align 8
  %116 = load ptr, ptr %this, align 8
  %faceIndex77 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %116, i64 0, i32 17
  %117 = load ptr, ptr %faceIndex77, align 8
  %118 = load i32, ptr %i, align 8
  %idxprom79 = sext i32 %118 to i64
  %arrayidx80 = getelementptr inbounds i32, ptr %117, i64 %idxprom79
  store i32 %115, ptr %arrayidx80, align 4
  %time = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 5
  %119 = load float, ptr %time, align 4
  %120 = load ptr, ptr %this, align 8
  %time82 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %120, i64 0, i32 18
  %121 = load ptr, ptr %time82, align 8
  %122 = load i32, ptr %i, align 8
  %idxprom84 = sext i32 %122 to i64
  %arrayidx85 = getelementptr inbounds float, ptr %121, i64 %idxprom84
  store float %119, ptr %arrayidx85, align 4
  %anyNonSpecularBounces = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 16
  %123 = load i32, ptr %anyNonSpecularBounces, align 8
  %124 = load ptr, ptr %this, align 8
  %anyNonSpecularBounces87 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %124, i64 0, i32 19
  %125 = load ptr, ptr %anyNonSpecularBounces87, align 8
  %126 = load i32, ptr %i, align 8
  %idxprom89 = sext i32 %126 to i64
  %arrayidx90 = getelementptr inbounds i32, ptr %125, i64 %idxprom89
  store i32 %123, ptr %arrayidx90, align 4
  %etaScale = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 20
  %127 = load float, ptr %etaScale, align 8
  %128 = load ptr, ptr %this, align 8
  %etaScale92 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %128, i64 0, i32 20
  %129 = load ptr, ptr %etaScale92, align 8
  %130 = load i32, ptr %i, align 8
  %idxprom94 = sext i32 %130 to i64
  %arrayidx95 = getelementptr inbounds float, ptr %129, i64 %idxprom94
  store float %127, ptr %arrayidx95, align 4
  %mediumInterface = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 21
  %131 = load ptr, ptr %this, align 8
  %132 = load i32, ptr %i, align 8
  %inside2.i = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %131, i64 0, i32 21, i32 1
  %133 = load ptr, ptr %inside2.i, align 8
  %idxprom.i171 = sext i32 %132 to i64
  %arrayidx.i172 = getelementptr inbounds %"class.pbrt::Medium", ptr %133, i64 %idxprom.i171
  %134 = load i64, ptr %mediumInterface, align 8
  store i64 %134, ptr %arrayidx.i172, align 8
  %outside.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 21, i32 1
  %outside4.i = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %131, i64 0, i32 21, i32 2
  %135 = load ptr, ptr %outside4.i, align 8
  %arrayidx7.i174 = getelementptr inbounds %"class.pbrt::Medium", ptr %135, i64 %idxprom.i171
  %136 = load i64, ptr %outside.i, align 8
  store i64 %136, ptr %arrayidx7.i174, align 8
  %pixelIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.207", ptr %a, i64 0, i32 15
  %137 = load i32, ptr %pixelIndex, align 4
  %138 = load ptr, ptr %this, align 8
  %pixelIndex102 = getelementptr inbounds %"struct.pbrt::SOA.194", ptr %138, i64 0, i32 22
  %139 = load ptr, ptr %pixelIndex102, align 8
  %140 = load i32, ptr %i, align 8
  %idxprom104 = sext i32 %140 to i64
  %arrayidx105 = getelementptr inbounds i32, ptr %139, i64 %idxprom104
  store i32 %137, ptr %arrayidx105, align 4
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_15DiffuseMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %this, ptr noundef nonnull align 8 dereferenceable(256) %a) local_unnamed_addr #9 comdat align 2 {
entry:
  %0 = load ptr, ptr %a, align 8
  %1 = load ptr, ptr %this, align 8
  %material2 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %1, i64 0, i32 1
  %2 = load ptr, ptr %material2, align 8
  %i = getelementptr inbounds %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::DiffuseMaterial>>::GetSetIndirector", ptr %this, i64 0, i32 1
  %3 = load i32, ptr %i, align 8
  %idxprom = sext i32 %3 to i64
  %arrayidx = getelementptr inbounds ptr, ptr %2, i64 %idxprom
  store ptr %0, ptr %arrayidx, align 8
  %lambda = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 14
  %4 = load ptr, ptr %this, align 8
  %5 = load i32, ptr %i, align 8
  %arrayidx.i23.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 14, i32 0, i32 0, i64 2
  %pdf.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 14, i32 1
  %lambda4.i = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %4, i64 0, i32 2, i32 1
  %6 = load ptr, ptr %lambda4.i, align 8
  %idx.ext.i = sext i32 %5 to i64
  %add.ptr.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %6, i64 %idx.ext.i
  %7 = load <4 x float>, ptr %lambda, align 4
  %agg.tmp.sroa.0.4.vec.insert.i = shufflevector <4 x float> %7, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %8 = load <4 x float>, ptr %arrayidx.i23.i, align 4
  %agg.tmp.sroa.3.12.vec.insert.i = shufflevector <4 x float> %8, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i, ptr %add.ptr.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %add.ptr.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i, align 8
  %pdf4.i = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %4, i64 0, i32 2, i32 2
  %9 = load ptr, ptr %pdf4.i, align 8
  %add.ptr21.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %9, i64 %idx.ext.i
  %10 = load <4 x float>, ptr %pdf.i, align 4
  %agg.tmp22.sroa.0.4.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp22.sroa.3.12.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp22.sroa.0.4.vec.insert.i, ptr %add.ptr21.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i28.i = getelementptr inbounds i8, ptr %add.ptr21.i, i64 8
  store <2 x float> %agg.tmp22.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i28.i, align 8
  %beta = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 18
  %11 = load ptr, ptr %this, align 8
  %12 = load i32, ptr %i, align 8
  %ptr4.i = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %11, i64 0, i32 3, i32 1
  %13 = load ptr, ptr %ptr4.i, align 8
  %idx.ext.i25 = sext i32 %12 to i64
  %add.ptr.i26 = getelementptr inbounds %"struct.pbrt::Float4", ptr %13, i64 %idx.ext.i25
  %14 = load <4 x float>, ptr %beta, align 8
  %agg.tmp.sroa.0.4.vec.insert.i27 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i28 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i27, ptr %add.ptr.i26, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i29 = getelementptr inbounds i8, ptr %add.ptr.i26, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i28, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i29, align 8
  %r_u = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 19
  %15 = load ptr, ptr %this, align 8
  %16 = load i32, ptr %i, align 8
  %ptr4.i33 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %15, i64 0, i32 4, i32 1
  %17 = load ptr, ptr %ptr4.i33, align 8
  %idx.ext.i34 = sext i32 %16 to i64
  %add.ptr.i35 = getelementptr inbounds %"struct.pbrt::Float4", ptr %17, i64 %idx.ext.i34
  %18 = load <4 x float>, ptr %r_u, align 8
  %agg.tmp.sroa.0.4.vec.insert.i36 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i37 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i36, ptr %add.ptr.i35, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i38 = getelementptr inbounds i8, ptr %add.ptr.i35, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i37, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i38, align 8
  %pi = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 1
  %19 = load ptr, ptr %this, align 8
  %20 = load i32, ptr %i, align 8
  %21 = load float, ptr %pi, align 8
  %low2.i.i = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %19, i64 0, i32 5, i32 1, i32 1
  %22 = load ptr, ptr %low2.i.i, align 8
  %idxprom.i.i = sext i32 %20 to i64
  %arrayidx.i.i = getelementptr inbounds float, ptr %22, i64 %idxprom.i.i
  store float %21, ptr %arrayidx.i.i, align 4
  %high.i.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 0, i32 1
  %23 = load float, ptr %high.i.i, align 4
  %high4.i.i = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %19, i64 0, i32 5, i32 1, i32 2
  %24 = load ptr, ptr %high4.i.i, align 8
  %arrayidx7.i.i = getelementptr inbounds float, ptr %24, i64 %idxprom.i.i
  store float %23, ptr %arrayidx7.i.i, align 4
  %y.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1
  %25 = load float, ptr %y.i, align 8
  %low2.i5.i = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %19, i64 0, i32 5, i32 2, i32 1
  %26 = load ptr, ptr %low2.i5.i, align 8
  %arrayidx.i8.i = getelementptr inbounds float, ptr %26, i64 %idxprom.i.i
  store float %25, ptr %arrayidx.i8.i, align 4
  %high.i9.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1, i32 1
  %27 = load float, ptr %high.i9.i, align 4
  %high4.i10.i = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %19, i64 0, i32 5, i32 2, i32 2
  %28 = load ptr, ptr %high4.i10.i, align 8
  %arrayidx7.i12.i = getelementptr inbounds float, ptr %28, i64 %idxprom.i.i
  store float %27, ptr %arrayidx7.i12.i, align 4
  %z.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2
  %29 = load float, ptr %z.i, align 8
  %low2.i15.i = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %19, i64 0, i32 5, i32 3, i32 1
  %30 = load ptr, ptr %low2.i15.i, align 8
  %arrayidx.i18.i = getelementptr inbounds float, ptr %30, i64 %idxprom.i.i
  store float %29, ptr %arrayidx.i18.i, align 4
  %high.i19.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2, i32 1
  %31 = load float, ptr %high.i19.i, align 4
  %high4.i20.i = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %19, i64 0, i32 5, i32 3, i32 2
  %32 = load ptr, ptr %high4.i20.i, align 8
  %arrayidx7.i22.i = getelementptr inbounds float, ptr %32, i64 %idxprom.i.i
  store float %31, ptr %arrayidx7.i22.i, align 4
  %n = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 2
  %33 = load ptr, ptr %this, align 8
  %34 = load i32, ptr %i, align 8
  %35 = load float, ptr %n, align 8
  %x2.i = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %33, i64 0, i32 6, i32 1
  %36 = load ptr, ptr %x2.i, align 8
  %idxprom.i = sext i32 %34 to i64
  %arrayidx.i = getelementptr inbounds float, ptr %36, i64 %idxprom.i
  store float %35, ptr %arrayidx.i, align 4
  %y.i44 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 2, i32 0, i32 1
  %37 = load float, ptr %y.i44, align 4
  %y4.i = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %33, i64 0, i32 6, i32 2
  %38 = load ptr, ptr %y4.i, align 8
  %arrayidx7.i = getelementptr inbounds float, ptr %38, i64 %idxprom.i
  store float %37, ptr %arrayidx7.i, align 4
  %z.i45 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 2, i32 0, i32 2
  %39 = load float, ptr %z.i45, align 8
  %z9.i = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %33, i64 0, i32 6, i32 3
  %40 = load ptr, ptr %z9.i, align 8
  %arrayidx12.i = getelementptr inbounds float, ptr %40, i64 %idxprom.i
  store float %39, ptr %arrayidx12.i, align 4
  %ns = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 7
  %41 = load ptr, ptr %this, align 8
  %42 = load i32, ptr %i, align 8
  %43 = load float, ptr %ns, align 4
  %x2.i48 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %41, i64 0, i32 7, i32 1
  %44 = load ptr, ptr %x2.i48, align 8
  %idxprom.i50 = sext i32 %42 to i64
  %arrayidx.i51 = getelementptr inbounds float, ptr %44, i64 %idxprom.i50
  store float %43, ptr %arrayidx.i51, align 4
  %y.i52 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 7, i32 0, i32 1
  %45 = load float, ptr %y.i52, align 8
  %y4.i53 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %41, i64 0, i32 7, i32 2
  %46 = load ptr, ptr %y4.i53, align 8
  %arrayidx7.i55 = getelementptr inbounds float, ptr %46, i64 %idxprom.i50
  store float %45, ptr %arrayidx7.i55, align 4
  %z.i56 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 7, i32 0, i32 2
  %47 = load float, ptr %z.i56, align 4
  %z9.i57 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %41, i64 0, i32 7, i32 3
  %48 = load ptr, ptr %z9.i57, align 8
  %arrayidx12.i59 = getelementptr inbounds float, ptr %48, i64 %idxprom.i50
  store float %47, ptr %arrayidx12.i59, align 4
  %dpdu = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 3
  %49 = load ptr, ptr %this, align 8
  %50 = load i32, ptr %i, align 8
  %51 = load float, ptr %dpdu, align 4
  %x2.i62 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %49, i64 0, i32 8, i32 1
  %52 = load ptr, ptr %x2.i62, align 8
  %idxprom.i64 = sext i32 %50 to i64
  %arrayidx.i65 = getelementptr inbounds float, ptr %52, i64 %idxprom.i64
  store float %51, ptr %arrayidx.i65, align 4
  %y.i66 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 3, i32 0, i32 1
  %53 = load float, ptr %y.i66, align 8
  %y4.i67 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %49, i64 0, i32 8, i32 2
  %54 = load ptr, ptr %y4.i67, align 8
  %arrayidx7.i69 = getelementptr inbounds float, ptr %54, i64 %idxprom.i64
  store float %53, ptr %arrayidx7.i69, align 4
  %z.i70 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 3, i32 0, i32 2
  %55 = load float, ptr %z.i70, align 4
  %z9.i71 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %49, i64 0, i32 8, i32 3
  %56 = load ptr, ptr %z9.i71, align 8
  %arrayidx12.i73 = getelementptr inbounds float, ptr %56, i64 %idxprom.i64
  store float %55, ptr %arrayidx12.i73, align 4
  %dpdv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 4
  %57 = load ptr, ptr %this, align 8
  %58 = load i32, ptr %i, align 8
  %59 = load float, ptr %dpdv, align 8
  %x2.i76 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %57, i64 0, i32 9, i32 1
  %60 = load ptr, ptr %x2.i76, align 8
  %idxprom.i78 = sext i32 %58 to i64
  %arrayidx.i79 = getelementptr inbounds float, ptr %60, i64 %idxprom.i78
  store float %59, ptr %arrayidx.i79, align 4
  %y.i80 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 4, i32 0, i32 1
  %61 = load float, ptr %y.i80, align 4
  %y4.i81 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %57, i64 0, i32 9, i32 2
  %62 = load ptr, ptr %y4.i81, align 8
  %arrayidx7.i83 = getelementptr inbounds float, ptr %62, i64 %idxprom.i78
  store float %61, ptr %arrayidx7.i83, align 4
  %z.i84 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 4, i32 0, i32 2
  %63 = load float, ptr %z.i84, align 8
  %z9.i85 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %57, i64 0, i32 9, i32 3
  %64 = load ptr, ptr %z9.i85, align 8
  %arrayidx12.i87 = getelementptr inbounds float, ptr %64, i64 %idxprom.i78
  store float %63, ptr %arrayidx12.i87, align 4
  %dpdus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 8
  %65 = load ptr, ptr %this, align 8
  %66 = load i32, ptr %i, align 8
  %67 = load float, ptr %dpdus, align 8
  %x2.i90 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %65, i64 0, i32 10, i32 1
  %68 = load ptr, ptr %x2.i90, align 8
  %idxprom.i92 = sext i32 %66 to i64
  %arrayidx.i93 = getelementptr inbounds float, ptr %68, i64 %idxprom.i92
  store float %67, ptr %arrayidx.i93, align 4
  %y.i94 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 8, i32 0, i32 1
  %69 = load float, ptr %y.i94, align 4
  %y4.i95 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %65, i64 0, i32 10, i32 2
  %70 = load ptr, ptr %y4.i95, align 8
  %arrayidx7.i97 = getelementptr inbounds float, ptr %70, i64 %idxprom.i92
  store float %69, ptr %arrayidx7.i97, align 4
  %z.i98 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 8, i32 0, i32 2
  %71 = load float, ptr %z.i98, align 8
  %z9.i99 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %65, i64 0, i32 10, i32 3
  %72 = load ptr, ptr %z9.i99, align 8
  %arrayidx12.i101 = getelementptr inbounds float, ptr %72, i64 %idxprom.i92
  store float %71, ptr %arrayidx12.i101, align 4
  %dpdvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 9
  %73 = load ptr, ptr %this, align 8
  %74 = load i32, ptr %i, align 8
  %75 = load float, ptr %dpdvs, align 4
  %x2.i104 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %73, i64 0, i32 11, i32 1
  %76 = load ptr, ptr %x2.i104, align 8
  %idxprom.i106 = sext i32 %74 to i64
  %arrayidx.i107 = getelementptr inbounds float, ptr %76, i64 %idxprom.i106
  store float %75, ptr %arrayidx.i107, align 4
  %y.i108 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 9, i32 0, i32 1
  %77 = load float, ptr %y.i108, align 8
  %y4.i109 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %73, i64 0, i32 11, i32 2
  %78 = load ptr, ptr %y4.i109, align 8
  %arrayidx7.i111 = getelementptr inbounds float, ptr %78, i64 %idxprom.i106
  store float %77, ptr %arrayidx7.i111, align 4
  %z.i112 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 9, i32 0, i32 2
  %79 = load float, ptr %z.i112, align 4
  %z9.i113 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %73, i64 0, i32 11, i32 3
  %80 = load ptr, ptr %z9.i113, align 8
  %arrayidx12.i115 = getelementptr inbounds float, ptr %80, i64 %idxprom.i106
  store float %79, ptr %arrayidx12.i115, align 4
  %dndus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 10
  %81 = load ptr, ptr %this, align 8
  %82 = load i32, ptr %i, align 8
  %83 = load float, ptr %dndus, align 8
  %x2.i118 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %81, i64 0, i32 12, i32 1
  %84 = load ptr, ptr %x2.i118, align 8
  %idxprom.i120 = sext i32 %82 to i64
  %arrayidx.i121 = getelementptr inbounds float, ptr %84, i64 %idxprom.i120
  store float %83, ptr %arrayidx.i121, align 4
  %y.i122 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 10, i32 0, i32 1
  %85 = load float, ptr %y.i122, align 4
  %y4.i123 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %81, i64 0, i32 12, i32 2
  %86 = load ptr, ptr %y4.i123, align 8
  %arrayidx7.i125 = getelementptr inbounds float, ptr %86, i64 %idxprom.i120
  store float %85, ptr %arrayidx7.i125, align 4
  %z.i126 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 10, i32 0, i32 2
  %87 = load float, ptr %z.i126, align 8
  %z9.i127 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %81, i64 0, i32 12, i32 3
  %88 = load ptr, ptr %z9.i127, align 8
  %arrayidx12.i129 = getelementptr inbounds float, ptr %88, i64 %idxprom.i120
  store float %87, ptr %arrayidx12.i129, align 4
  %dndvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 11
  %89 = load ptr, ptr %this, align 8
  %90 = load i32, ptr %i, align 8
  %91 = load float, ptr %dndvs, align 4
  %x2.i132 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %89, i64 0, i32 13, i32 1
  %92 = load ptr, ptr %x2.i132, align 8
  %idxprom.i134 = sext i32 %90 to i64
  %arrayidx.i135 = getelementptr inbounds float, ptr %92, i64 %idxprom.i134
  store float %91, ptr %arrayidx.i135, align 4
  %y.i136 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 11, i32 0, i32 1
  %93 = load float, ptr %y.i136, align 8
  %y4.i137 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %89, i64 0, i32 13, i32 2
  %94 = load ptr, ptr %y4.i137, align 8
  %arrayidx7.i139 = getelementptr inbounds float, ptr %94, i64 %idxprom.i134
  store float %93, ptr %arrayidx7.i139, align 4
  %z.i140 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 11, i32 0, i32 2
  %95 = load float, ptr %z.i140, align 4
  %z9.i141 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %89, i64 0, i32 13, i32 3
  %96 = load ptr, ptr %z9.i141, align 8
  %arrayidx12.i143 = getelementptr inbounds float, ptr %96, i64 %idxprom.i134
  store float %95, ptr %arrayidx12.i143, align 4
  %wo = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 17
  %97 = load ptr, ptr %this, align 8
  %98 = load i32, ptr %i, align 8
  %99 = load float, ptr %wo, align 4
  %x2.i146 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %97, i64 0, i32 14, i32 1
  %100 = load ptr, ptr %x2.i146, align 8
  %idxprom.i148 = sext i32 %98 to i64
  %arrayidx.i149 = getelementptr inbounds float, ptr %100, i64 %idxprom.i148
  store float %99, ptr %arrayidx.i149, align 4
  %y.i150 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 17, i32 0, i32 1
  %101 = load float, ptr %y.i150, align 8
  %y4.i151 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %97, i64 0, i32 14, i32 2
  %102 = load ptr, ptr %y4.i151, align 8
  %arrayidx7.i153 = getelementptr inbounds float, ptr %102, i64 %idxprom.i148
  store float %101, ptr %arrayidx7.i153, align 4
  %z.i154 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 17, i32 0, i32 2
  %103 = load float, ptr %z.i154, align 4
  %z9.i155 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %97, i64 0, i32 14, i32 3
  %104 = load ptr, ptr %z9.i155, align 8
  %arrayidx12.i157 = getelementptr inbounds float, ptr %104, i64 %idxprom.i148
  store float %103, ptr %arrayidx12.i157, align 4
  %uv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 12
  %105 = load ptr, ptr %this, align 8
  %106 = load i32, ptr %i, align 8
  %107 = load float, ptr %uv, align 8
  %x2.i160 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %105, i64 0, i32 15, i32 1
  %108 = load ptr, ptr %x2.i160, align 8
  %idxprom.i162 = sext i32 %106 to i64
  %arrayidx.i163 = getelementptr inbounds float, ptr %108, i64 %idxprom.i162
  store float %107, ptr %arrayidx.i163, align 4
  %y.i164 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 12, i32 0, i32 1
  %109 = load float, ptr %y.i164, align 4
  %y4.i165 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %105, i64 0, i32 15, i32 2
  %110 = load ptr, ptr %y4.i165, align 8
  %arrayidx7.i167 = getelementptr inbounds float, ptr %110, i64 %idxprom.i162
  store float %109, ptr %arrayidx7.i167, align 4
  %depth = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 6
  %111 = load i32, ptr %depth, align 8
  %112 = load ptr, ptr %this, align 8
  %depth72 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %112, i64 0, i32 16
  %113 = load ptr, ptr %depth72, align 8
  %114 = load i32, ptr %i, align 8
  %idxprom74 = sext i32 %114 to i64
  %arrayidx75 = getelementptr inbounds i32, ptr %113, i64 %idxprom74
  store i32 %111, ptr %arrayidx75, align 4
  %faceIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 13
  %115 = load i32, ptr %faceIndex, align 8
  %116 = load ptr, ptr %this, align 8
  %faceIndex77 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %116, i64 0, i32 17
  %117 = load ptr, ptr %faceIndex77, align 8
  %118 = load i32, ptr %i, align 8
  %idxprom79 = sext i32 %118 to i64
  %arrayidx80 = getelementptr inbounds i32, ptr %117, i64 %idxprom79
  store i32 %115, ptr %arrayidx80, align 4
  %time = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 5
  %119 = load float, ptr %time, align 4
  %120 = load ptr, ptr %this, align 8
  %time82 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %120, i64 0, i32 18
  %121 = load ptr, ptr %time82, align 8
  %122 = load i32, ptr %i, align 8
  %idxprom84 = sext i32 %122 to i64
  %arrayidx85 = getelementptr inbounds float, ptr %121, i64 %idxprom84
  store float %119, ptr %arrayidx85, align 4
  %anyNonSpecularBounces = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 16
  %123 = load i32, ptr %anyNonSpecularBounces, align 8
  %124 = load ptr, ptr %this, align 8
  %anyNonSpecularBounces87 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %124, i64 0, i32 19
  %125 = load ptr, ptr %anyNonSpecularBounces87, align 8
  %126 = load i32, ptr %i, align 8
  %idxprom89 = sext i32 %126 to i64
  %arrayidx90 = getelementptr inbounds i32, ptr %125, i64 %idxprom89
  store i32 %123, ptr %arrayidx90, align 4
  %etaScale = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 20
  %127 = load float, ptr %etaScale, align 8
  %128 = load ptr, ptr %this, align 8
  %etaScale92 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %128, i64 0, i32 20
  %129 = load ptr, ptr %etaScale92, align 8
  %130 = load i32, ptr %i, align 8
  %idxprom94 = sext i32 %130 to i64
  %arrayidx95 = getelementptr inbounds float, ptr %129, i64 %idxprom94
  store float %127, ptr %arrayidx95, align 4
  %mediumInterface = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 21
  %131 = load ptr, ptr %this, align 8
  %132 = load i32, ptr %i, align 8
  %inside2.i = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %131, i64 0, i32 21, i32 1
  %133 = load ptr, ptr %inside2.i, align 8
  %idxprom.i171 = sext i32 %132 to i64
  %arrayidx.i172 = getelementptr inbounds %"class.pbrt::Medium", ptr %133, i64 %idxprom.i171
  %134 = load i64, ptr %mediumInterface, align 8
  store i64 %134, ptr %arrayidx.i172, align 8
  %outside.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 21, i32 1
  %outside4.i = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %131, i64 0, i32 21, i32 2
  %135 = load ptr, ptr %outside4.i, align 8
  %arrayidx7.i174 = getelementptr inbounds %"class.pbrt::Medium", ptr %135, i64 %idxprom.i171
  %136 = load i64, ptr %outside.i, align 8
  store i64 %136, ptr %arrayidx7.i174, align 8
  %pixelIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.208", ptr %a, i64 0, i32 15
  %137 = load i32, ptr %pixelIndex, align 4
  %138 = load ptr, ptr %this, align 8
  %pixelIndex102 = getelementptr inbounds %"struct.pbrt::SOA.191", ptr %138, i64 0, i32 22
  %139 = load ptr, ptr %pixelIndex102, align 8
  %140 = load i32, ptr %i, align 8
  %idxprom104 = sext i32 %140 to i64
  %arrayidx105 = getelementptr inbounds i32, ptr %139, i64 %idxprom104
  store i32 %137, ptr %arrayidx105, align 4
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_27DiffuseTransmissionMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %this, ptr noundef nonnull align 8 dereferenceable(256) %a) local_unnamed_addr #9 comdat align 2 {
entry:
  %0 = load ptr, ptr %a, align 8
  %1 = load ptr, ptr %this, align 8
  %material2 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %1, i64 0, i32 1
  %2 = load ptr, ptr %material2, align 8
  %i = getelementptr inbounds %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::DiffuseTransmissionMaterial>>::GetSetIndirector", ptr %this, i64 0, i32 1
  %3 = load i32, ptr %i, align 8
  %idxprom = sext i32 %3 to i64
  %arrayidx = getelementptr inbounds ptr, ptr %2, i64 %idxprom
  store ptr %0, ptr %arrayidx, align 8
  %lambda = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 14
  %4 = load ptr, ptr %this, align 8
  %5 = load i32, ptr %i, align 8
  %arrayidx.i23.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 14, i32 0, i32 0, i64 2
  %pdf.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 14, i32 1
  %lambda4.i = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %4, i64 0, i32 2, i32 1
  %6 = load ptr, ptr %lambda4.i, align 8
  %idx.ext.i = sext i32 %5 to i64
  %add.ptr.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %6, i64 %idx.ext.i
  %7 = load <4 x float>, ptr %lambda, align 4
  %agg.tmp.sroa.0.4.vec.insert.i = shufflevector <4 x float> %7, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %8 = load <4 x float>, ptr %arrayidx.i23.i, align 4
  %agg.tmp.sroa.3.12.vec.insert.i = shufflevector <4 x float> %8, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i, ptr %add.ptr.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %add.ptr.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i, align 8
  %pdf4.i = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %4, i64 0, i32 2, i32 2
  %9 = load ptr, ptr %pdf4.i, align 8
  %add.ptr21.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %9, i64 %idx.ext.i
  %10 = load <4 x float>, ptr %pdf.i, align 4
  %agg.tmp22.sroa.0.4.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp22.sroa.3.12.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp22.sroa.0.4.vec.insert.i, ptr %add.ptr21.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i28.i = getelementptr inbounds i8, ptr %add.ptr21.i, i64 8
  store <2 x float> %agg.tmp22.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i28.i, align 8
  %beta = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 18
  %11 = load ptr, ptr %this, align 8
  %12 = load i32, ptr %i, align 8
  %ptr4.i = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %11, i64 0, i32 3, i32 1
  %13 = load ptr, ptr %ptr4.i, align 8
  %idx.ext.i25 = sext i32 %12 to i64
  %add.ptr.i26 = getelementptr inbounds %"struct.pbrt::Float4", ptr %13, i64 %idx.ext.i25
  %14 = load <4 x float>, ptr %beta, align 8
  %agg.tmp.sroa.0.4.vec.insert.i27 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i28 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i27, ptr %add.ptr.i26, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i29 = getelementptr inbounds i8, ptr %add.ptr.i26, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i28, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i29, align 8
  %r_u = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 19
  %15 = load ptr, ptr %this, align 8
  %16 = load i32, ptr %i, align 8
  %ptr4.i33 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %15, i64 0, i32 4, i32 1
  %17 = load ptr, ptr %ptr4.i33, align 8
  %idx.ext.i34 = sext i32 %16 to i64
  %add.ptr.i35 = getelementptr inbounds %"struct.pbrt::Float4", ptr %17, i64 %idx.ext.i34
  %18 = load <4 x float>, ptr %r_u, align 8
  %agg.tmp.sroa.0.4.vec.insert.i36 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i37 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i36, ptr %add.ptr.i35, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i38 = getelementptr inbounds i8, ptr %add.ptr.i35, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i37, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i38, align 8
  %pi = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 1
  %19 = load ptr, ptr %this, align 8
  %20 = load i32, ptr %i, align 8
  %21 = load float, ptr %pi, align 8
  %low2.i.i = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %19, i64 0, i32 5, i32 1, i32 1
  %22 = load ptr, ptr %low2.i.i, align 8
  %idxprom.i.i = sext i32 %20 to i64
  %arrayidx.i.i = getelementptr inbounds float, ptr %22, i64 %idxprom.i.i
  store float %21, ptr %arrayidx.i.i, align 4
  %high.i.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 0, i32 1
  %23 = load float, ptr %high.i.i, align 4
  %high4.i.i = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %19, i64 0, i32 5, i32 1, i32 2
  %24 = load ptr, ptr %high4.i.i, align 8
  %arrayidx7.i.i = getelementptr inbounds float, ptr %24, i64 %idxprom.i.i
  store float %23, ptr %arrayidx7.i.i, align 4
  %y.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1
  %25 = load float, ptr %y.i, align 8
  %low2.i5.i = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %19, i64 0, i32 5, i32 2, i32 1
  %26 = load ptr, ptr %low2.i5.i, align 8
  %arrayidx.i8.i = getelementptr inbounds float, ptr %26, i64 %idxprom.i.i
  store float %25, ptr %arrayidx.i8.i, align 4
  %high.i9.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1, i32 1
  %27 = load float, ptr %high.i9.i, align 4
  %high4.i10.i = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %19, i64 0, i32 5, i32 2, i32 2
  %28 = load ptr, ptr %high4.i10.i, align 8
  %arrayidx7.i12.i = getelementptr inbounds float, ptr %28, i64 %idxprom.i.i
  store float %27, ptr %arrayidx7.i12.i, align 4
  %z.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2
  %29 = load float, ptr %z.i, align 8
  %low2.i15.i = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %19, i64 0, i32 5, i32 3, i32 1
  %30 = load ptr, ptr %low2.i15.i, align 8
  %arrayidx.i18.i = getelementptr inbounds float, ptr %30, i64 %idxprom.i.i
  store float %29, ptr %arrayidx.i18.i, align 4
  %high.i19.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2, i32 1
  %31 = load float, ptr %high.i19.i, align 4
  %high4.i20.i = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %19, i64 0, i32 5, i32 3, i32 2
  %32 = load ptr, ptr %high4.i20.i, align 8
  %arrayidx7.i22.i = getelementptr inbounds float, ptr %32, i64 %idxprom.i.i
  store float %31, ptr %arrayidx7.i22.i, align 4
  %n = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 2
  %33 = load ptr, ptr %this, align 8
  %34 = load i32, ptr %i, align 8
  %35 = load float, ptr %n, align 8
  %x2.i = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %33, i64 0, i32 6, i32 1
  %36 = load ptr, ptr %x2.i, align 8
  %idxprom.i = sext i32 %34 to i64
  %arrayidx.i = getelementptr inbounds float, ptr %36, i64 %idxprom.i
  store float %35, ptr %arrayidx.i, align 4
  %y.i44 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 2, i32 0, i32 1
  %37 = load float, ptr %y.i44, align 4
  %y4.i = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %33, i64 0, i32 6, i32 2
  %38 = load ptr, ptr %y4.i, align 8
  %arrayidx7.i = getelementptr inbounds float, ptr %38, i64 %idxprom.i
  store float %37, ptr %arrayidx7.i, align 4
  %z.i45 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 2, i32 0, i32 2
  %39 = load float, ptr %z.i45, align 8
  %z9.i = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %33, i64 0, i32 6, i32 3
  %40 = load ptr, ptr %z9.i, align 8
  %arrayidx12.i = getelementptr inbounds float, ptr %40, i64 %idxprom.i
  store float %39, ptr %arrayidx12.i, align 4
  %ns = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 7
  %41 = load ptr, ptr %this, align 8
  %42 = load i32, ptr %i, align 8
  %43 = load float, ptr %ns, align 4
  %x2.i48 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %41, i64 0, i32 7, i32 1
  %44 = load ptr, ptr %x2.i48, align 8
  %idxprom.i50 = sext i32 %42 to i64
  %arrayidx.i51 = getelementptr inbounds float, ptr %44, i64 %idxprom.i50
  store float %43, ptr %arrayidx.i51, align 4
  %y.i52 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 7, i32 0, i32 1
  %45 = load float, ptr %y.i52, align 8
  %y4.i53 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %41, i64 0, i32 7, i32 2
  %46 = load ptr, ptr %y4.i53, align 8
  %arrayidx7.i55 = getelementptr inbounds float, ptr %46, i64 %idxprom.i50
  store float %45, ptr %arrayidx7.i55, align 4
  %z.i56 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 7, i32 0, i32 2
  %47 = load float, ptr %z.i56, align 4
  %z9.i57 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %41, i64 0, i32 7, i32 3
  %48 = load ptr, ptr %z9.i57, align 8
  %arrayidx12.i59 = getelementptr inbounds float, ptr %48, i64 %idxprom.i50
  store float %47, ptr %arrayidx12.i59, align 4
  %dpdu = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 3
  %49 = load ptr, ptr %this, align 8
  %50 = load i32, ptr %i, align 8
  %51 = load float, ptr %dpdu, align 4
  %x2.i62 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %49, i64 0, i32 8, i32 1
  %52 = load ptr, ptr %x2.i62, align 8
  %idxprom.i64 = sext i32 %50 to i64
  %arrayidx.i65 = getelementptr inbounds float, ptr %52, i64 %idxprom.i64
  store float %51, ptr %arrayidx.i65, align 4
  %y.i66 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 3, i32 0, i32 1
  %53 = load float, ptr %y.i66, align 8
  %y4.i67 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %49, i64 0, i32 8, i32 2
  %54 = load ptr, ptr %y4.i67, align 8
  %arrayidx7.i69 = getelementptr inbounds float, ptr %54, i64 %idxprom.i64
  store float %53, ptr %arrayidx7.i69, align 4
  %z.i70 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 3, i32 0, i32 2
  %55 = load float, ptr %z.i70, align 4
  %z9.i71 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %49, i64 0, i32 8, i32 3
  %56 = load ptr, ptr %z9.i71, align 8
  %arrayidx12.i73 = getelementptr inbounds float, ptr %56, i64 %idxprom.i64
  store float %55, ptr %arrayidx12.i73, align 4
  %dpdv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 4
  %57 = load ptr, ptr %this, align 8
  %58 = load i32, ptr %i, align 8
  %59 = load float, ptr %dpdv, align 8
  %x2.i76 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %57, i64 0, i32 9, i32 1
  %60 = load ptr, ptr %x2.i76, align 8
  %idxprom.i78 = sext i32 %58 to i64
  %arrayidx.i79 = getelementptr inbounds float, ptr %60, i64 %idxprom.i78
  store float %59, ptr %arrayidx.i79, align 4
  %y.i80 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 4, i32 0, i32 1
  %61 = load float, ptr %y.i80, align 4
  %y4.i81 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %57, i64 0, i32 9, i32 2
  %62 = load ptr, ptr %y4.i81, align 8
  %arrayidx7.i83 = getelementptr inbounds float, ptr %62, i64 %idxprom.i78
  store float %61, ptr %arrayidx7.i83, align 4
  %z.i84 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 4, i32 0, i32 2
  %63 = load float, ptr %z.i84, align 8
  %z9.i85 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %57, i64 0, i32 9, i32 3
  %64 = load ptr, ptr %z9.i85, align 8
  %arrayidx12.i87 = getelementptr inbounds float, ptr %64, i64 %idxprom.i78
  store float %63, ptr %arrayidx12.i87, align 4
  %dpdus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 8
  %65 = load ptr, ptr %this, align 8
  %66 = load i32, ptr %i, align 8
  %67 = load float, ptr %dpdus, align 8
  %x2.i90 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %65, i64 0, i32 10, i32 1
  %68 = load ptr, ptr %x2.i90, align 8
  %idxprom.i92 = sext i32 %66 to i64
  %arrayidx.i93 = getelementptr inbounds float, ptr %68, i64 %idxprom.i92
  store float %67, ptr %arrayidx.i93, align 4
  %y.i94 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 8, i32 0, i32 1
  %69 = load float, ptr %y.i94, align 4
  %y4.i95 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %65, i64 0, i32 10, i32 2
  %70 = load ptr, ptr %y4.i95, align 8
  %arrayidx7.i97 = getelementptr inbounds float, ptr %70, i64 %idxprom.i92
  store float %69, ptr %arrayidx7.i97, align 4
  %z.i98 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 8, i32 0, i32 2
  %71 = load float, ptr %z.i98, align 8
  %z9.i99 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %65, i64 0, i32 10, i32 3
  %72 = load ptr, ptr %z9.i99, align 8
  %arrayidx12.i101 = getelementptr inbounds float, ptr %72, i64 %idxprom.i92
  store float %71, ptr %arrayidx12.i101, align 4
  %dpdvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 9
  %73 = load ptr, ptr %this, align 8
  %74 = load i32, ptr %i, align 8
  %75 = load float, ptr %dpdvs, align 4
  %x2.i104 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %73, i64 0, i32 11, i32 1
  %76 = load ptr, ptr %x2.i104, align 8
  %idxprom.i106 = sext i32 %74 to i64
  %arrayidx.i107 = getelementptr inbounds float, ptr %76, i64 %idxprom.i106
  store float %75, ptr %arrayidx.i107, align 4
  %y.i108 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 9, i32 0, i32 1
  %77 = load float, ptr %y.i108, align 8
  %y4.i109 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %73, i64 0, i32 11, i32 2
  %78 = load ptr, ptr %y4.i109, align 8
  %arrayidx7.i111 = getelementptr inbounds float, ptr %78, i64 %idxprom.i106
  store float %77, ptr %arrayidx7.i111, align 4
  %z.i112 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 9, i32 0, i32 2
  %79 = load float, ptr %z.i112, align 4
  %z9.i113 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %73, i64 0, i32 11, i32 3
  %80 = load ptr, ptr %z9.i113, align 8
  %arrayidx12.i115 = getelementptr inbounds float, ptr %80, i64 %idxprom.i106
  store float %79, ptr %arrayidx12.i115, align 4
  %dndus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 10
  %81 = load ptr, ptr %this, align 8
  %82 = load i32, ptr %i, align 8
  %83 = load float, ptr %dndus, align 8
  %x2.i118 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %81, i64 0, i32 12, i32 1
  %84 = load ptr, ptr %x2.i118, align 8
  %idxprom.i120 = sext i32 %82 to i64
  %arrayidx.i121 = getelementptr inbounds float, ptr %84, i64 %idxprom.i120
  store float %83, ptr %arrayidx.i121, align 4
  %y.i122 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 10, i32 0, i32 1
  %85 = load float, ptr %y.i122, align 4
  %y4.i123 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %81, i64 0, i32 12, i32 2
  %86 = load ptr, ptr %y4.i123, align 8
  %arrayidx7.i125 = getelementptr inbounds float, ptr %86, i64 %idxprom.i120
  store float %85, ptr %arrayidx7.i125, align 4
  %z.i126 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 10, i32 0, i32 2
  %87 = load float, ptr %z.i126, align 8
  %z9.i127 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %81, i64 0, i32 12, i32 3
  %88 = load ptr, ptr %z9.i127, align 8
  %arrayidx12.i129 = getelementptr inbounds float, ptr %88, i64 %idxprom.i120
  store float %87, ptr %arrayidx12.i129, align 4
  %dndvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 11
  %89 = load ptr, ptr %this, align 8
  %90 = load i32, ptr %i, align 8
  %91 = load float, ptr %dndvs, align 4
  %x2.i132 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %89, i64 0, i32 13, i32 1
  %92 = load ptr, ptr %x2.i132, align 8
  %idxprom.i134 = sext i32 %90 to i64
  %arrayidx.i135 = getelementptr inbounds float, ptr %92, i64 %idxprom.i134
  store float %91, ptr %arrayidx.i135, align 4
  %y.i136 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 11, i32 0, i32 1
  %93 = load float, ptr %y.i136, align 8
  %y4.i137 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %89, i64 0, i32 13, i32 2
  %94 = load ptr, ptr %y4.i137, align 8
  %arrayidx7.i139 = getelementptr inbounds float, ptr %94, i64 %idxprom.i134
  store float %93, ptr %arrayidx7.i139, align 4
  %z.i140 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 11, i32 0, i32 2
  %95 = load float, ptr %z.i140, align 4
  %z9.i141 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %89, i64 0, i32 13, i32 3
  %96 = load ptr, ptr %z9.i141, align 8
  %arrayidx12.i143 = getelementptr inbounds float, ptr %96, i64 %idxprom.i134
  store float %95, ptr %arrayidx12.i143, align 4
  %wo = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 17
  %97 = load ptr, ptr %this, align 8
  %98 = load i32, ptr %i, align 8
  %99 = load float, ptr %wo, align 4
  %x2.i146 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %97, i64 0, i32 14, i32 1
  %100 = load ptr, ptr %x2.i146, align 8
  %idxprom.i148 = sext i32 %98 to i64
  %arrayidx.i149 = getelementptr inbounds float, ptr %100, i64 %idxprom.i148
  store float %99, ptr %arrayidx.i149, align 4
  %y.i150 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 17, i32 0, i32 1
  %101 = load float, ptr %y.i150, align 8
  %y4.i151 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %97, i64 0, i32 14, i32 2
  %102 = load ptr, ptr %y4.i151, align 8
  %arrayidx7.i153 = getelementptr inbounds float, ptr %102, i64 %idxprom.i148
  store float %101, ptr %arrayidx7.i153, align 4
  %z.i154 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 17, i32 0, i32 2
  %103 = load float, ptr %z.i154, align 4
  %z9.i155 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %97, i64 0, i32 14, i32 3
  %104 = load ptr, ptr %z9.i155, align 8
  %arrayidx12.i157 = getelementptr inbounds float, ptr %104, i64 %idxprom.i148
  store float %103, ptr %arrayidx12.i157, align 4
  %uv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 12
  %105 = load ptr, ptr %this, align 8
  %106 = load i32, ptr %i, align 8
  %107 = load float, ptr %uv, align 8
  %x2.i160 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %105, i64 0, i32 15, i32 1
  %108 = load ptr, ptr %x2.i160, align 8
  %idxprom.i162 = sext i32 %106 to i64
  %arrayidx.i163 = getelementptr inbounds float, ptr %108, i64 %idxprom.i162
  store float %107, ptr %arrayidx.i163, align 4
  %y.i164 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 12, i32 0, i32 1
  %109 = load float, ptr %y.i164, align 4
  %y4.i165 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %105, i64 0, i32 15, i32 2
  %110 = load ptr, ptr %y4.i165, align 8
  %arrayidx7.i167 = getelementptr inbounds float, ptr %110, i64 %idxprom.i162
  store float %109, ptr %arrayidx7.i167, align 4
  %depth = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 6
  %111 = load i32, ptr %depth, align 8
  %112 = load ptr, ptr %this, align 8
  %depth72 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %112, i64 0, i32 16
  %113 = load ptr, ptr %depth72, align 8
  %114 = load i32, ptr %i, align 8
  %idxprom74 = sext i32 %114 to i64
  %arrayidx75 = getelementptr inbounds i32, ptr %113, i64 %idxprom74
  store i32 %111, ptr %arrayidx75, align 4
  %faceIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 13
  %115 = load i32, ptr %faceIndex, align 8
  %116 = load ptr, ptr %this, align 8
  %faceIndex77 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %116, i64 0, i32 17
  %117 = load ptr, ptr %faceIndex77, align 8
  %118 = load i32, ptr %i, align 8
  %idxprom79 = sext i32 %118 to i64
  %arrayidx80 = getelementptr inbounds i32, ptr %117, i64 %idxprom79
  store i32 %115, ptr %arrayidx80, align 4
  %time = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 5
  %119 = load float, ptr %time, align 4
  %120 = load ptr, ptr %this, align 8
  %time82 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %120, i64 0, i32 18
  %121 = load ptr, ptr %time82, align 8
  %122 = load i32, ptr %i, align 8
  %idxprom84 = sext i32 %122 to i64
  %arrayidx85 = getelementptr inbounds float, ptr %121, i64 %idxprom84
  store float %119, ptr %arrayidx85, align 4
  %anyNonSpecularBounces = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 16
  %123 = load i32, ptr %anyNonSpecularBounces, align 8
  %124 = load ptr, ptr %this, align 8
  %anyNonSpecularBounces87 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %124, i64 0, i32 19
  %125 = load ptr, ptr %anyNonSpecularBounces87, align 8
  %126 = load i32, ptr %i, align 8
  %idxprom89 = sext i32 %126 to i64
  %arrayidx90 = getelementptr inbounds i32, ptr %125, i64 %idxprom89
  store i32 %123, ptr %arrayidx90, align 4
  %etaScale = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 20
  %127 = load float, ptr %etaScale, align 8
  %128 = load ptr, ptr %this, align 8
  %etaScale92 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %128, i64 0, i32 20
  %129 = load ptr, ptr %etaScale92, align 8
  %130 = load i32, ptr %i, align 8
  %idxprom94 = sext i32 %130 to i64
  %arrayidx95 = getelementptr inbounds float, ptr %129, i64 %idxprom94
  store float %127, ptr %arrayidx95, align 4
  %mediumInterface = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 21
  %131 = load ptr, ptr %this, align 8
  %132 = load i32, ptr %i, align 8
  %inside2.i = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %131, i64 0, i32 21, i32 1
  %133 = load ptr, ptr %inside2.i, align 8
  %idxprom.i171 = sext i32 %132 to i64
  %arrayidx.i172 = getelementptr inbounds %"class.pbrt::Medium", ptr %133, i64 %idxprom.i171
  %134 = load i64, ptr %mediumInterface, align 8
  store i64 %134, ptr %arrayidx.i172, align 8
  %outside.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 21, i32 1
  %outside4.i = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %131, i64 0, i32 21, i32 2
  %135 = load ptr, ptr %outside4.i, align 8
  %arrayidx7.i174 = getelementptr inbounds %"class.pbrt::Medium", ptr %135, i64 %idxprom.i171
  %136 = load i64, ptr %outside.i, align 8
  store i64 %136, ptr %arrayidx7.i174, align 8
  %pixelIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.209", ptr %a, i64 0, i32 15
  %137 = load i32, ptr %pixelIndex, align 4
  %138 = load ptr, ptr %this, align 8
  %pixelIndex102 = getelementptr inbounds %"struct.pbrt::SOA.188", ptr %138, i64 0, i32 22
  %139 = load ptr, ptr %pixelIndex102, align 8
  %140 = load i32, ptr %i, align 8
  %idxprom104 = sext i32 %140 to i64
  %arrayidx105 = getelementptr inbounds i32, ptr %139, i64 %idxprom104
  store i32 %137, ptr %arrayidx105, align 4
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_12HairMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %this, ptr noundef nonnull align 8 dereferenceable(256) %a) local_unnamed_addr #9 comdat align 2 {
entry:
  %0 = load ptr, ptr %a, align 8
  %1 = load ptr, ptr %this, align 8
  %material2 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %1, i64 0, i32 1
  %2 = load ptr, ptr %material2, align 8
  %i = getelementptr inbounds %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::HairMaterial>>::GetSetIndirector", ptr %this, i64 0, i32 1
  %3 = load i32, ptr %i, align 8
  %idxprom = sext i32 %3 to i64
  %arrayidx = getelementptr inbounds ptr, ptr %2, i64 %idxprom
  store ptr %0, ptr %arrayidx, align 8
  %lambda = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 14
  %4 = load ptr, ptr %this, align 8
  %5 = load i32, ptr %i, align 8
  %arrayidx.i23.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 14, i32 0, i32 0, i64 2
  %pdf.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 14, i32 1
  %lambda4.i = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %4, i64 0, i32 2, i32 1
  %6 = load ptr, ptr %lambda4.i, align 8
  %idx.ext.i = sext i32 %5 to i64
  %add.ptr.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %6, i64 %idx.ext.i
  %7 = load <4 x float>, ptr %lambda, align 4
  %agg.tmp.sroa.0.4.vec.insert.i = shufflevector <4 x float> %7, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %8 = load <4 x float>, ptr %arrayidx.i23.i, align 4
  %agg.tmp.sroa.3.12.vec.insert.i = shufflevector <4 x float> %8, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i, ptr %add.ptr.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %add.ptr.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i, align 8
  %pdf4.i = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %4, i64 0, i32 2, i32 2
  %9 = load ptr, ptr %pdf4.i, align 8
  %add.ptr21.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %9, i64 %idx.ext.i
  %10 = load <4 x float>, ptr %pdf.i, align 4
  %agg.tmp22.sroa.0.4.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp22.sroa.3.12.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp22.sroa.0.4.vec.insert.i, ptr %add.ptr21.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i28.i = getelementptr inbounds i8, ptr %add.ptr21.i, i64 8
  store <2 x float> %agg.tmp22.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i28.i, align 8
  %beta = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 18
  %11 = load ptr, ptr %this, align 8
  %12 = load i32, ptr %i, align 8
  %ptr4.i = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %11, i64 0, i32 3, i32 1
  %13 = load ptr, ptr %ptr4.i, align 8
  %idx.ext.i25 = sext i32 %12 to i64
  %add.ptr.i26 = getelementptr inbounds %"struct.pbrt::Float4", ptr %13, i64 %idx.ext.i25
  %14 = load <4 x float>, ptr %beta, align 8
  %agg.tmp.sroa.0.4.vec.insert.i27 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i28 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i27, ptr %add.ptr.i26, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i29 = getelementptr inbounds i8, ptr %add.ptr.i26, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i28, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i29, align 8
  %r_u = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 19
  %15 = load ptr, ptr %this, align 8
  %16 = load i32, ptr %i, align 8
  %ptr4.i33 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %15, i64 0, i32 4, i32 1
  %17 = load ptr, ptr %ptr4.i33, align 8
  %idx.ext.i34 = sext i32 %16 to i64
  %add.ptr.i35 = getelementptr inbounds %"struct.pbrt::Float4", ptr %17, i64 %idx.ext.i34
  %18 = load <4 x float>, ptr %r_u, align 8
  %agg.tmp.sroa.0.4.vec.insert.i36 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i37 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i36, ptr %add.ptr.i35, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i38 = getelementptr inbounds i8, ptr %add.ptr.i35, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i37, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i38, align 8
  %pi = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 1
  %19 = load ptr, ptr %this, align 8
  %20 = load i32, ptr %i, align 8
  %21 = load float, ptr %pi, align 8
  %low2.i.i = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %19, i64 0, i32 5, i32 1, i32 1
  %22 = load ptr, ptr %low2.i.i, align 8
  %idxprom.i.i = sext i32 %20 to i64
  %arrayidx.i.i = getelementptr inbounds float, ptr %22, i64 %idxprom.i.i
  store float %21, ptr %arrayidx.i.i, align 4
  %high.i.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 0, i32 1
  %23 = load float, ptr %high.i.i, align 4
  %high4.i.i = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %19, i64 0, i32 5, i32 1, i32 2
  %24 = load ptr, ptr %high4.i.i, align 8
  %arrayidx7.i.i = getelementptr inbounds float, ptr %24, i64 %idxprom.i.i
  store float %23, ptr %arrayidx7.i.i, align 4
  %y.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1
  %25 = load float, ptr %y.i, align 8
  %low2.i5.i = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %19, i64 0, i32 5, i32 2, i32 1
  %26 = load ptr, ptr %low2.i5.i, align 8
  %arrayidx.i8.i = getelementptr inbounds float, ptr %26, i64 %idxprom.i.i
  store float %25, ptr %arrayidx.i8.i, align 4
  %high.i9.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1, i32 1
  %27 = load float, ptr %high.i9.i, align 4
  %high4.i10.i = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %19, i64 0, i32 5, i32 2, i32 2
  %28 = load ptr, ptr %high4.i10.i, align 8
  %arrayidx7.i12.i = getelementptr inbounds float, ptr %28, i64 %idxprom.i.i
  store float %27, ptr %arrayidx7.i12.i, align 4
  %z.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2
  %29 = load float, ptr %z.i, align 8
  %low2.i15.i = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %19, i64 0, i32 5, i32 3, i32 1
  %30 = load ptr, ptr %low2.i15.i, align 8
  %arrayidx.i18.i = getelementptr inbounds float, ptr %30, i64 %idxprom.i.i
  store float %29, ptr %arrayidx.i18.i, align 4
  %high.i19.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2, i32 1
  %31 = load float, ptr %high.i19.i, align 4
  %high4.i20.i = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %19, i64 0, i32 5, i32 3, i32 2
  %32 = load ptr, ptr %high4.i20.i, align 8
  %arrayidx7.i22.i = getelementptr inbounds float, ptr %32, i64 %idxprom.i.i
  store float %31, ptr %arrayidx7.i22.i, align 4
  %n = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 2
  %33 = load ptr, ptr %this, align 8
  %34 = load i32, ptr %i, align 8
  %35 = load float, ptr %n, align 8
  %x2.i = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %33, i64 0, i32 6, i32 1
  %36 = load ptr, ptr %x2.i, align 8
  %idxprom.i = sext i32 %34 to i64
  %arrayidx.i = getelementptr inbounds float, ptr %36, i64 %idxprom.i
  store float %35, ptr %arrayidx.i, align 4
  %y.i44 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 2, i32 0, i32 1
  %37 = load float, ptr %y.i44, align 4
  %y4.i = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %33, i64 0, i32 6, i32 2
  %38 = load ptr, ptr %y4.i, align 8
  %arrayidx7.i = getelementptr inbounds float, ptr %38, i64 %idxprom.i
  store float %37, ptr %arrayidx7.i, align 4
  %z.i45 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 2, i32 0, i32 2
  %39 = load float, ptr %z.i45, align 8
  %z9.i = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %33, i64 0, i32 6, i32 3
  %40 = load ptr, ptr %z9.i, align 8
  %arrayidx12.i = getelementptr inbounds float, ptr %40, i64 %idxprom.i
  store float %39, ptr %arrayidx12.i, align 4
  %ns = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 7
  %41 = load ptr, ptr %this, align 8
  %42 = load i32, ptr %i, align 8
  %43 = load float, ptr %ns, align 4
  %x2.i48 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %41, i64 0, i32 7, i32 1
  %44 = load ptr, ptr %x2.i48, align 8
  %idxprom.i50 = sext i32 %42 to i64
  %arrayidx.i51 = getelementptr inbounds float, ptr %44, i64 %idxprom.i50
  store float %43, ptr %arrayidx.i51, align 4
  %y.i52 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 7, i32 0, i32 1
  %45 = load float, ptr %y.i52, align 8
  %y4.i53 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %41, i64 0, i32 7, i32 2
  %46 = load ptr, ptr %y4.i53, align 8
  %arrayidx7.i55 = getelementptr inbounds float, ptr %46, i64 %idxprom.i50
  store float %45, ptr %arrayidx7.i55, align 4
  %z.i56 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 7, i32 0, i32 2
  %47 = load float, ptr %z.i56, align 4
  %z9.i57 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %41, i64 0, i32 7, i32 3
  %48 = load ptr, ptr %z9.i57, align 8
  %arrayidx12.i59 = getelementptr inbounds float, ptr %48, i64 %idxprom.i50
  store float %47, ptr %arrayidx12.i59, align 4
  %dpdu = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 3
  %49 = load ptr, ptr %this, align 8
  %50 = load i32, ptr %i, align 8
  %51 = load float, ptr %dpdu, align 4
  %x2.i62 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %49, i64 0, i32 8, i32 1
  %52 = load ptr, ptr %x2.i62, align 8
  %idxprom.i64 = sext i32 %50 to i64
  %arrayidx.i65 = getelementptr inbounds float, ptr %52, i64 %idxprom.i64
  store float %51, ptr %arrayidx.i65, align 4
  %y.i66 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 3, i32 0, i32 1
  %53 = load float, ptr %y.i66, align 8
  %y4.i67 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %49, i64 0, i32 8, i32 2
  %54 = load ptr, ptr %y4.i67, align 8
  %arrayidx7.i69 = getelementptr inbounds float, ptr %54, i64 %idxprom.i64
  store float %53, ptr %arrayidx7.i69, align 4
  %z.i70 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 3, i32 0, i32 2
  %55 = load float, ptr %z.i70, align 4
  %z9.i71 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %49, i64 0, i32 8, i32 3
  %56 = load ptr, ptr %z9.i71, align 8
  %arrayidx12.i73 = getelementptr inbounds float, ptr %56, i64 %idxprom.i64
  store float %55, ptr %arrayidx12.i73, align 4
  %dpdv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 4
  %57 = load ptr, ptr %this, align 8
  %58 = load i32, ptr %i, align 8
  %59 = load float, ptr %dpdv, align 8
  %x2.i76 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %57, i64 0, i32 9, i32 1
  %60 = load ptr, ptr %x2.i76, align 8
  %idxprom.i78 = sext i32 %58 to i64
  %arrayidx.i79 = getelementptr inbounds float, ptr %60, i64 %idxprom.i78
  store float %59, ptr %arrayidx.i79, align 4
  %y.i80 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 4, i32 0, i32 1
  %61 = load float, ptr %y.i80, align 4
  %y4.i81 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %57, i64 0, i32 9, i32 2
  %62 = load ptr, ptr %y4.i81, align 8
  %arrayidx7.i83 = getelementptr inbounds float, ptr %62, i64 %idxprom.i78
  store float %61, ptr %arrayidx7.i83, align 4
  %z.i84 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 4, i32 0, i32 2
  %63 = load float, ptr %z.i84, align 8
  %z9.i85 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %57, i64 0, i32 9, i32 3
  %64 = load ptr, ptr %z9.i85, align 8
  %arrayidx12.i87 = getelementptr inbounds float, ptr %64, i64 %idxprom.i78
  store float %63, ptr %arrayidx12.i87, align 4
  %dpdus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 8
  %65 = load ptr, ptr %this, align 8
  %66 = load i32, ptr %i, align 8
  %67 = load float, ptr %dpdus, align 8
  %x2.i90 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %65, i64 0, i32 10, i32 1
  %68 = load ptr, ptr %x2.i90, align 8
  %idxprom.i92 = sext i32 %66 to i64
  %arrayidx.i93 = getelementptr inbounds float, ptr %68, i64 %idxprom.i92
  store float %67, ptr %arrayidx.i93, align 4
  %y.i94 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 8, i32 0, i32 1
  %69 = load float, ptr %y.i94, align 4
  %y4.i95 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %65, i64 0, i32 10, i32 2
  %70 = load ptr, ptr %y4.i95, align 8
  %arrayidx7.i97 = getelementptr inbounds float, ptr %70, i64 %idxprom.i92
  store float %69, ptr %arrayidx7.i97, align 4
  %z.i98 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 8, i32 0, i32 2
  %71 = load float, ptr %z.i98, align 8
  %z9.i99 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %65, i64 0, i32 10, i32 3
  %72 = load ptr, ptr %z9.i99, align 8
  %arrayidx12.i101 = getelementptr inbounds float, ptr %72, i64 %idxprom.i92
  store float %71, ptr %arrayidx12.i101, align 4
  %dpdvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 9
  %73 = load ptr, ptr %this, align 8
  %74 = load i32, ptr %i, align 8
  %75 = load float, ptr %dpdvs, align 4
  %x2.i104 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %73, i64 0, i32 11, i32 1
  %76 = load ptr, ptr %x2.i104, align 8
  %idxprom.i106 = sext i32 %74 to i64
  %arrayidx.i107 = getelementptr inbounds float, ptr %76, i64 %idxprom.i106
  store float %75, ptr %arrayidx.i107, align 4
  %y.i108 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 9, i32 0, i32 1
  %77 = load float, ptr %y.i108, align 8
  %y4.i109 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %73, i64 0, i32 11, i32 2
  %78 = load ptr, ptr %y4.i109, align 8
  %arrayidx7.i111 = getelementptr inbounds float, ptr %78, i64 %idxprom.i106
  store float %77, ptr %arrayidx7.i111, align 4
  %z.i112 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 9, i32 0, i32 2
  %79 = load float, ptr %z.i112, align 4
  %z9.i113 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %73, i64 0, i32 11, i32 3
  %80 = load ptr, ptr %z9.i113, align 8
  %arrayidx12.i115 = getelementptr inbounds float, ptr %80, i64 %idxprom.i106
  store float %79, ptr %arrayidx12.i115, align 4
  %dndus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 10
  %81 = load ptr, ptr %this, align 8
  %82 = load i32, ptr %i, align 8
  %83 = load float, ptr %dndus, align 8
  %x2.i118 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %81, i64 0, i32 12, i32 1
  %84 = load ptr, ptr %x2.i118, align 8
  %idxprom.i120 = sext i32 %82 to i64
  %arrayidx.i121 = getelementptr inbounds float, ptr %84, i64 %idxprom.i120
  store float %83, ptr %arrayidx.i121, align 4
  %y.i122 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 10, i32 0, i32 1
  %85 = load float, ptr %y.i122, align 4
  %y4.i123 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %81, i64 0, i32 12, i32 2
  %86 = load ptr, ptr %y4.i123, align 8
  %arrayidx7.i125 = getelementptr inbounds float, ptr %86, i64 %idxprom.i120
  store float %85, ptr %arrayidx7.i125, align 4
  %z.i126 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 10, i32 0, i32 2
  %87 = load float, ptr %z.i126, align 8
  %z9.i127 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %81, i64 0, i32 12, i32 3
  %88 = load ptr, ptr %z9.i127, align 8
  %arrayidx12.i129 = getelementptr inbounds float, ptr %88, i64 %idxprom.i120
  store float %87, ptr %arrayidx12.i129, align 4
  %dndvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 11
  %89 = load ptr, ptr %this, align 8
  %90 = load i32, ptr %i, align 8
  %91 = load float, ptr %dndvs, align 4
  %x2.i132 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %89, i64 0, i32 13, i32 1
  %92 = load ptr, ptr %x2.i132, align 8
  %idxprom.i134 = sext i32 %90 to i64
  %arrayidx.i135 = getelementptr inbounds float, ptr %92, i64 %idxprom.i134
  store float %91, ptr %arrayidx.i135, align 4
  %y.i136 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 11, i32 0, i32 1
  %93 = load float, ptr %y.i136, align 8
  %y4.i137 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %89, i64 0, i32 13, i32 2
  %94 = load ptr, ptr %y4.i137, align 8
  %arrayidx7.i139 = getelementptr inbounds float, ptr %94, i64 %idxprom.i134
  store float %93, ptr %arrayidx7.i139, align 4
  %z.i140 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 11, i32 0, i32 2
  %95 = load float, ptr %z.i140, align 4
  %z9.i141 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %89, i64 0, i32 13, i32 3
  %96 = load ptr, ptr %z9.i141, align 8
  %arrayidx12.i143 = getelementptr inbounds float, ptr %96, i64 %idxprom.i134
  store float %95, ptr %arrayidx12.i143, align 4
  %wo = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 17
  %97 = load ptr, ptr %this, align 8
  %98 = load i32, ptr %i, align 8
  %99 = load float, ptr %wo, align 4
  %x2.i146 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %97, i64 0, i32 14, i32 1
  %100 = load ptr, ptr %x2.i146, align 8
  %idxprom.i148 = sext i32 %98 to i64
  %arrayidx.i149 = getelementptr inbounds float, ptr %100, i64 %idxprom.i148
  store float %99, ptr %arrayidx.i149, align 4
  %y.i150 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 17, i32 0, i32 1
  %101 = load float, ptr %y.i150, align 8
  %y4.i151 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %97, i64 0, i32 14, i32 2
  %102 = load ptr, ptr %y4.i151, align 8
  %arrayidx7.i153 = getelementptr inbounds float, ptr %102, i64 %idxprom.i148
  store float %101, ptr %arrayidx7.i153, align 4
  %z.i154 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 17, i32 0, i32 2
  %103 = load float, ptr %z.i154, align 4
  %z9.i155 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %97, i64 0, i32 14, i32 3
  %104 = load ptr, ptr %z9.i155, align 8
  %arrayidx12.i157 = getelementptr inbounds float, ptr %104, i64 %idxprom.i148
  store float %103, ptr %arrayidx12.i157, align 4
  %uv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 12
  %105 = load ptr, ptr %this, align 8
  %106 = load i32, ptr %i, align 8
  %107 = load float, ptr %uv, align 8
  %x2.i160 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %105, i64 0, i32 15, i32 1
  %108 = load ptr, ptr %x2.i160, align 8
  %idxprom.i162 = sext i32 %106 to i64
  %arrayidx.i163 = getelementptr inbounds float, ptr %108, i64 %idxprom.i162
  store float %107, ptr %arrayidx.i163, align 4
  %y.i164 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 12, i32 0, i32 1
  %109 = load float, ptr %y.i164, align 4
  %y4.i165 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %105, i64 0, i32 15, i32 2
  %110 = load ptr, ptr %y4.i165, align 8
  %arrayidx7.i167 = getelementptr inbounds float, ptr %110, i64 %idxprom.i162
  store float %109, ptr %arrayidx7.i167, align 4
  %depth = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 6
  %111 = load i32, ptr %depth, align 8
  %112 = load ptr, ptr %this, align 8
  %depth72 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %112, i64 0, i32 16
  %113 = load ptr, ptr %depth72, align 8
  %114 = load i32, ptr %i, align 8
  %idxprom74 = sext i32 %114 to i64
  %arrayidx75 = getelementptr inbounds i32, ptr %113, i64 %idxprom74
  store i32 %111, ptr %arrayidx75, align 4
  %faceIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 13
  %115 = load i32, ptr %faceIndex, align 8
  %116 = load ptr, ptr %this, align 8
  %faceIndex77 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %116, i64 0, i32 17
  %117 = load ptr, ptr %faceIndex77, align 8
  %118 = load i32, ptr %i, align 8
  %idxprom79 = sext i32 %118 to i64
  %arrayidx80 = getelementptr inbounds i32, ptr %117, i64 %idxprom79
  store i32 %115, ptr %arrayidx80, align 4
  %time = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 5
  %119 = load float, ptr %time, align 4
  %120 = load ptr, ptr %this, align 8
  %time82 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %120, i64 0, i32 18
  %121 = load ptr, ptr %time82, align 8
  %122 = load i32, ptr %i, align 8
  %idxprom84 = sext i32 %122 to i64
  %arrayidx85 = getelementptr inbounds float, ptr %121, i64 %idxprom84
  store float %119, ptr %arrayidx85, align 4
  %anyNonSpecularBounces = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 16
  %123 = load i32, ptr %anyNonSpecularBounces, align 8
  %124 = load ptr, ptr %this, align 8
  %anyNonSpecularBounces87 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %124, i64 0, i32 19
  %125 = load ptr, ptr %anyNonSpecularBounces87, align 8
  %126 = load i32, ptr %i, align 8
  %idxprom89 = sext i32 %126 to i64
  %arrayidx90 = getelementptr inbounds i32, ptr %125, i64 %idxprom89
  store i32 %123, ptr %arrayidx90, align 4
  %etaScale = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 20
  %127 = load float, ptr %etaScale, align 8
  %128 = load ptr, ptr %this, align 8
  %etaScale92 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %128, i64 0, i32 20
  %129 = load ptr, ptr %etaScale92, align 8
  %130 = load i32, ptr %i, align 8
  %idxprom94 = sext i32 %130 to i64
  %arrayidx95 = getelementptr inbounds float, ptr %129, i64 %idxprom94
  store float %127, ptr %arrayidx95, align 4
  %mediumInterface = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 21
  %131 = load ptr, ptr %this, align 8
  %132 = load i32, ptr %i, align 8
  %inside2.i = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %131, i64 0, i32 21, i32 1
  %133 = load ptr, ptr %inside2.i, align 8
  %idxprom.i171 = sext i32 %132 to i64
  %arrayidx.i172 = getelementptr inbounds %"class.pbrt::Medium", ptr %133, i64 %idxprom.i171
  %134 = load i64, ptr %mediumInterface, align 8
  store i64 %134, ptr %arrayidx.i172, align 8
  %outside.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 21, i32 1
  %outside4.i = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %131, i64 0, i32 21, i32 2
  %135 = load ptr, ptr %outside4.i, align 8
  %arrayidx7.i174 = getelementptr inbounds %"class.pbrt::Medium", ptr %135, i64 %idxprom.i171
  %136 = load i64, ptr %outside.i, align 8
  store i64 %136, ptr %arrayidx7.i174, align 8
  %pixelIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.210", ptr %a, i64 0, i32 15
  %137 = load i32, ptr %pixelIndex, align 4
  %138 = load ptr, ptr %this, align 8
  %pixelIndex102 = getelementptr inbounds %"struct.pbrt::SOA.185", ptr %138, i64 0, i32 22
  %139 = load ptr, ptr %pixelIndex102, align 8
  %140 = load i32, ptr %i, align 8
  %idxprom104 = sext i32 %140 to i64
  %arrayidx105 = getelementptr inbounds i32, ptr %139, i64 %idxprom104
  store i32 %137, ptr %arrayidx105, align 4
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_16MeasuredMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %this, ptr noundef nonnull align 8 dereferenceable(256) %a) local_unnamed_addr #9 comdat align 2 {
entry:
  %0 = load ptr, ptr %a, align 8
  %1 = load ptr, ptr %this, align 8
  %material2 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %1, i64 0, i32 1
  %2 = load ptr, ptr %material2, align 8
  %i = getelementptr inbounds %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::MeasuredMaterial>>::GetSetIndirector", ptr %this, i64 0, i32 1
  %3 = load i32, ptr %i, align 8
  %idxprom = sext i32 %3 to i64
  %arrayidx = getelementptr inbounds ptr, ptr %2, i64 %idxprom
  store ptr %0, ptr %arrayidx, align 8
  %lambda = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 14
  %4 = load ptr, ptr %this, align 8
  %5 = load i32, ptr %i, align 8
  %arrayidx.i23.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 14, i32 0, i32 0, i64 2
  %pdf.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 14, i32 1
  %lambda4.i = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %4, i64 0, i32 2, i32 1
  %6 = load ptr, ptr %lambda4.i, align 8
  %idx.ext.i = sext i32 %5 to i64
  %add.ptr.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %6, i64 %idx.ext.i
  %7 = load <4 x float>, ptr %lambda, align 4
  %agg.tmp.sroa.0.4.vec.insert.i = shufflevector <4 x float> %7, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %8 = load <4 x float>, ptr %arrayidx.i23.i, align 4
  %agg.tmp.sroa.3.12.vec.insert.i = shufflevector <4 x float> %8, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i, ptr %add.ptr.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %add.ptr.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i, align 8
  %pdf4.i = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %4, i64 0, i32 2, i32 2
  %9 = load ptr, ptr %pdf4.i, align 8
  %add.ptr21.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %9, i64 %idx.ext.i
  %10 = load <4 x float>, ptr %pdf.i, align 4
  %agg.tmp22.sroa.0.4.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp22.sroa.3.12.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp22.sroa.0.4.vec.insert.i, ptr %add.ptr21.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i28.i = getelementptr inbounds i8, ptr %add.ptr21.i, i64 8
  store <2 x float> %agg.tmp22.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i28.i, align 8
  %beta = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 18
  %11 = load ptr, ptr %this, align 8
  %12 = load i32, ptr %i, align 8
  %ptr4.i = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %11, i64 0, i32 3, i32 1
  %13 = load ptr, ptr %ptr4.i, align 8
  %idx.ext.i25 = sext i32 %12 to i64
  %add.ptr.i26 = getelementptr inbounds %"struct.pbrt::Float4", ptr %13, i64 %idx.ext.i25
  %14 = load <4 x float>, ptr %beta, align 8
  %agg.tmp.sroa.0.4.vec.insert.i27 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i28 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i27, ptr %add.ptr.i26, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i29 = getelementptr inbounds i8, ptr %add.ptr.i26, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i28, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i29, align 8
  %r_u = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 19
  %15 = load ptr, ptr %this, align 8
  %16 = load i32, ptr %i, align 8
  %ptr4.i33 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %15, i64 0, i32 4, i32 1
  %17 = load ptr, ptr %ptr4.i33, align 8
  %idx.ext.i34 = sext i32 %16 to i64
  %add.ptr.i35 = getelementptr inbounds %"struct.pbrt::Float4", ptr %17, i64 %idx.ext.i34
  %18 = load <4 x float>, ptr %r_u, align 8
  %agg.tmp.sroa.0.4.vec.insert.i36 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i37 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i36, ptr %add.ptr.i35, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i38 = getelementptr inbounds i8, ptr %add.ptr.i35, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i37, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i38, align 8
  %pi = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 1
  %19 = load ptr, ptr %this, align 8
  %20 = load i32, ptr %i, align 8
  %21 = load float, ptr %pi, align 8
  %low2.i.i = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %19, i64 0, i32 5, i32 1, i32 1
  %22 = load ptr, ptr %low2.i.i, align 8
  %idxprom.i.i = sext i32 %20 to i64
  %arrayidx.i.i = getelementptr inbounds float, ptr %22, i64 %idxprom.i.i
  store float %21, ptr %arrayidx.i.i, align 4
  %high.i.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 0, i32 1
  %23 = load float, ptr %high.i.i, align 4
  %high4.i.i = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %19, i64 0, i32 5, i32 1, i32 2
  %24 = load ptr, ptr %high4.i.i, align 8
  %arrayidx7.i.i = getelementptr inbounds float, ptr %24, i64 %idxprom.i.i
  store float %23, ptr %arrayidx7.i.i, align 4
  %y.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1
  %25 = load float, ptr %y.i, align 8
  %low2.i5.i = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %19, i64 0, i32 5, i32 2, i32 1
  %26 = load ptr, ptr %low2.i5.i, align 8
  %arrayidx.i8.i = getelementptr inbounds float, ptr %26, i64 %idxprom.i.i
  store float %25, ptr %arrayidx.i8.i, align 4
  %high.i9.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1, i32 1
  %27 = load float, ptr %high.i9.i, align 4
  %high4.i10.i = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %19, i64 0, i32 5, i32 2, i32 2
  %28 = load ptr, ptr %high4.i10.i, align 8
  %arrayidx7.i12.i = getelementptr inbounds float, ptr %28, i64 %idxprom.i.i
  store float %27, ptr %arrayidx7.i12.i, align 4
  %z.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2
  %29 = load float, ptr %z.i, align 8
  %low2.i15.i = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %19, i64 0, i32 5, i32 3, i32 1
  %30 = load ptr, ptr %low2.i15.i, align 8
  %arrayidx.i18.i = getelementptr inbounds float, ptr %30, i64 %idxprom.i.i
  store float %29, ptr %arrayidx.i18.i, align 4
  %high.i19.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2, i32 1
  %31 = load float, ptr %high.i19.i, align 4
  %high4.i20.i = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %19, i64 0, i32 5, i32 3, i32 2
  %32 = load ptr, ptr %high4.i20.i, align 8
  %arrayidx7.i22.i = getelementptr inbounds float, ptr %32, i64 %idxprom.i.i
  store float %31, ptr %arrayidx7.i22.i, align 4
  %n = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 2
  %33 = load ptr, ptr %this, align 8
  %34 = load i32, ptr %i, align 8
  %35 = load float, ptr %n, align 8
  %x2.i = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %33, i64 0, i32 6, i32 1
  %36 = load ptr, ptr %x2.i, align 8
  %idxprom.i = sext i32 %34 to i64
  %arrayidx.i = getelementptr inbounds float, ptr %36, i64 %idxprom.i
  store float %35, ptr %arrayidx.i, align 4
  %y.i44 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 2, i32 0, i32 1
  %37 = load float, ptr %y.i44, align 4
  %y4.i = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %33, i64 0, i32 6, i32 2
  %38 = load ptr, ptr %y4.i, align 8
  %arrayidx7.i = getelementptr inbounds float, ptr %38, i64 %idxprom.i
  store float %37, ptr %arrayidx7.i, align 4
  %z.i45 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 2, i32 0, i32 2
  %39 = load float, ptr %z.i45, align 8
  %z9.i = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %33, i64 0, i32 6, i32 3
  %40 = load ptr, ptr %z9.i, align 8
  %arrayidx12.i = getelementptr inbounds float, ptr %40, i64 %idxprom.i
  store float %39, ptr %arrayidx12.i, align 4
  %ns = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 7
  %41 = load ptr, ptr %this, align 8
  %42 = load i32, ptr %i, align 8
  %43 = load float, ptr %ns, align 4
  %x2.i48 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %41, i64 0, i32 7, i32 1
  %44 = load ptr, ptr %x2.i48, align 8
  %idxprom.i50 = sext i32 %42 to i64
  %arrayidx.i51 = getelementptr inbounds float, ptr %44, i64 %idxprom.i50
  store float %43, ptr %arrayidx.i51, align 4
  %y.i52 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 7, i32 0, i32 1
  %45 = load float, ptr %y.i52, align 8
  %y4.i53 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %41, i64 0, i32 7, i32 2
  %46 = load ptr, ptr %y4.i53, align 8
  %arrayidx7.i55 = getelementptr inbounds float, ptr %46, i64 %idxprom.i50
  store float %45, ptr %arrayidx7.i55, align 4
  %z.i56 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 7, i32 0, i32 2
  %47 = load float, ptr %z.i56, align 4
  %z9.i57 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %41, i64 0, i32 7, i32 3
  %48 = load ptr, ptr %z9.i57, align 8
  %arrayidx12.i59 = getelementptr inbounds float, ptr %48, i64 %idxprom.i50
  store float %47, ptr %arrayidx12.i59, align 4
  %dpdu = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 3
  %49 = load ptr, ptr %this, align 8
  %50 = load i32, ptr %i, align 8
  %51 = load float, ptr %dpdu, align 4
  %x2.i62 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %49, i64 0, i32 8, i32 1
  %52 = load ptr, ptr %x2.i62, align 8
  %idxprom.i64 = sext i32 %50 to i64
  %arrayidx.i65 = getelementptr inbounds float, ptr %52, i64 %idxprom.i64
  store float %51, ptr %arrayidx.i65, align 4
  %y.i66 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 3, i32 0, i32 1
  %53 = load float, ptr %y.i66, align 8
  %y4.i67 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %49, i64 0, i32 8, i32 2
  %54 = load ptr, ptr %y4.i67, align 8
  %arrayidx7.i69 = getelementptr inbounds float, ptr %54, i64 %idxprom.i64
  store float %53, ptr %arrayidx7.i69, align 4
  %z.i70 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 3, i32 0, i32 2
  %55 = load float, ptr %z.i70, align 4
  %z9.i71 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %49, i64 0, i32 8, i32 3
  %56 = load ptr, ptr %z9.i71, align 8
  %arrayidx12.i73 = getelementptr inbounds float, ptr %56, i64 %idxprom.i64
  store float %55, ptr %arrayidx12.i73, align 4
  %dpdv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 4
  %57 = load ptr, ptr %this, align 8
  %58 = load i32, ptr %i, align 8
  %59 = load float, ptr %dpdv, align 8
  %x2.i76 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %57, i64 0, i32 9, i32 1
  %60 = load ptr, ptr %x2.i76, align 8
  %idxprom.i78 = sext i32 %58 to i64
  %arrayidx.i79 = getelementptr inbounds float, ptr %60, i64 %idxprom.i78
  store float %59, ptr %arrayidx.i79, align 4
  %y.i80 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 4, i32 0, i32 1
  %61 = load float, ptr %y.i80, align 4
  %y4.i81 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %57, i64 0, i32 9, i32 2
  %62 = load ptr, ptr %y4.i81, align 8
  %arrayidx7.i83 = getelementptr inbounds float, ptr %62, i64 %idxprom.i78
  store float %61, ptr %arrayidx7.i83, align 4
  %z.i84 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 4, i32 0, i32 2
  %63 = load float, ptr %z.i84, align 8
  %z9.i85 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %57, i64 0, i32 9, i32 3
  %64 = load ptr, ptr %z9.i85, align 8
  %arrayidx12.i87 = getelementptr inbounds float, ptr %64, i64 %idxprom.i78
  store float %63, ptr %arrayidx12.i87, align 4
  %dpdus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 8
  %65 = load ptr, ptr %this, align 8
  %66 = load i32, ptr %i, align 8
  %67 = load float, ptr %dpdus, align 8
  %x2.i90 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %65, i64 0, i32 10, i32 1
  %68 = load ptr, ptr %x2.i90, align 8
  %idxprom.i92 = sext i32 %66 to i64
  %arrayidx.i93 = getelementptr inbounds float, ptr %68, i64 %idxprom.i92
  store float %67, ptr %arrayidx.i93, align 4
  %y.i94 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 8, i32 0, i32 1
  %69 = load float, ptr %y.i94, align 4
  %y4.i95 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %65, i64 0, i32 10, i32 2
  %70 = load ptr, ptr %y4.i95, align 8
  %arrayidx7.i97 = getelementptr inbounds float, ptr %70, i64 %idxprom.i92
  store float %69, ptr %arrayidx7.i97, align 4
  %z.i98 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 8, i32 0, i32 2
  %71 = load float, ptr %z.i98, align 8
  %z9.i99 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %65, i64 0, i32 10, i32 3
  %72 = load ptr, ptr %z9.i99, align 8
  %arrayidx12.i101 = getelementptr inbounds float, ptr %72, i64 %idxprom.i92
  store float %71, ptr %arrayidx12.i101, align 4
  %dpdvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 9
  %73 = load ptr, ptr %this, align 8
  %74 = load i32, ptr %i, align 8
  %75 = load float, ptr %dpdvs, align 4
  %x2.i104 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %73, i64 0, i32 11, i32 1
  %76 = load ptr, ptr %x2.i104, align 8
  %idxprom.i106 = sext i32 %74 to i64
  %arrayidx.i107 = getelementptr inbounds float, ptr %76, i64 %idxprom.i106
  store float %75, ptr %arrayidx.i107, align 4
  %y.i108 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 9, i32 0, i32 1
  %77 = load float, ptr %y.i108, align 8
  %y4.i109 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %73, i64 0, i32 11, i32 2
  %78 = load ptr, ptr %y4.i109, align 8
  %arrayidx7.i111 = getelementptr inbounds float, ptr %78, i64 %idxprom.i106
  store float %77, ptr %arrayidx7.i111, align 4
  %z.i112 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 9, i32 0, i32 2
  %79 = load float, ptr %z.i112, align 4
  %z9.i113 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %73, i64 0, i32 11, i32 3
  %80 = load ptr, ptr %z9.i113, align 8
  %arrayidx12.i115 = getelementptr inbounds float, ptr %80, i64 %idxprom.i106
  store float %79, ptr %arrayidx12.i115, align 4
  %dndus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 10
  %81 = load ptr, ptr %this, align 8
  %82 = load i32, ptr %i, align 8
  %83 = load float, ptr %dndus, align 8
  %x2.i118 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %81, i64 0, i32 12, i32 1
  %84 = load ptr, ptr %x2.i118, align 8
  %idxprom.i120 = sext i32 %82 to i64
  %arrayidx.i121 = getelementptr inbounds float, ptr %84, i64 %idxprom.i120
  store float %83, ptr %arrayidx.i121, align 4
  %y.i122 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 10, i32 0, i32 1
  %85 = load float, ptr %y.i122, align 4
  %y4.i123 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %81, i64 0, i32 12, i32 2
  %86 = load ptr, ptr %y4.i123, align 8
  %arrayidx7.i125 = getelementptr inbounds float, ptr %86, i64 %idxprom.i120
  store float %85, ptr %arrayidx7.i125, align 4
  %z.i126 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 10, i32 0, i32 2
  %87 = load float, ptr %z.i126, align 8
  %z9.i127 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %81, i64 0, i32 12, i32 3
  %88 = load ptr, ptr %z9.i127, align 8
  %arrayidx12.i129 = getelementptr inbounds float, ptr %88, i64 %idxprom.i120
  store float %87, ptr %arrayidx12.i129, align 4
  %dndvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 11
  %89 = load ptr, ptr %this, align 8
  %90 = load i32, ptr %i, align 8
  %91 = load float, ptr %dndvs, align 4
  %x2.i132 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %89, i64 0, i32 13, i32 1
  %92 = load ptr, ptr %x2.i132, align 8
  %idxprom.i134 = sext i32 %90 to i64
  %arrayidx.i135 = getelementptr inbounds float, ptr %92, i64 %idxprom.i134
  store float %91, ptr %arrayidx.i135, align 4
  %y.i136 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 11, i32 0, i32 1
  %93 = load float, ptr %y.i136, align 8
  %y4.i137 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %89, i64 0, i32 13, i32 2
  %94 = load ptr, ptr %y4.i137, align 8
  %arrayidx7.i139 = getelementptr inbounds float, ptr %94, i64 %idxprom.i134
  store float %93, ptr %arrayidx7.i139, align 4
  %z.i140 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 11, i32 0, i32 2
  %95 = load float, ptr %z.i140, align 4
  %z9.i141 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %89, i64 0, i32 13, i32 3
  %96 = load ptr, ptr %z9.i141, align 8
  %arrayidx12.i143 = getelementptr inbounds float, ptr %96, i64 %idxprom.i134
  store float %95, ptr %arrayidx12.i143, align 4
  %wo = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 17
  %97 = load ptr, ptr %this, align 8
  %98 = load i32, ptr %i, align 8
  %99 = load float, ptr %wo, align 4
  %x2.i146 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %97, i64 0, i32 14, i32 1
  %100 = load ptr, ptr %x2.i146, align 8
  %idxprom.i148 = sext i32 %98 to i64
  %arrayidx.i149 = getelementptr inbounds float, ptr %100, i64 %idxprom.i148
  store float %99, ptr %arrayidx.i149, align 4
  %y.i150 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 17, i32 0, i32 1
  %101 = load float, ptr %y.i150, align 8
  %y4.i151 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %97, i64 0, i32 14, i32 2
  %102 = load ptr, ptr %y4.i151, align 8
  %arrayidx7.i153 = getelementptr inbounds float, ptr %102, i64 %idxprom.i148
  store float %101, ptr %arrayidx7.i153, align 4
  %z.i154 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 17, i32 0, i32 2
  %103 = load float, ptr %z.i154, align 4
  %z9.i155 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %97, i64 0, i32 14, i32 3
  %104 = load ptr, ptr %z9.i155, align 8
  %arrayidx12.i157 = getelementptr inbounds float, ptr %104, i64 %idxprom.i148
  store float %103, ptr %arrayidx12.i157, align 4
  %uv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 12
  %105 = load ptr, ptr %this, align 8
  %106 = load i32, ptr %i, align 8
  %107 = load float, ptr %uv, align 8
  %x2.i160 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %105, i64 0, i32 15, i32 1
  %108 = load ptr, ptr %x2.i160, align 8
  %idxprom.i162 = sext i32 %106 to i64
  %arrayidx.i163 = getelementptr inbounds float, ptr %108, i64 %idxprom.i162
  store float %107, ptr %arrayidx.i163, align 4
  %y.i164 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 12, i32 0, i32 1
  %109 = load float, ptr %y.i164, align 4
  %y4.i165 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %105, i64 0, i32 15, i32 2
  %110 = load ptr, ptr %y4.i165, align 8
  %arrayidx7.i167 = getelementptr inbounds float, ptr %110, i64 %idxprom.i162
  store float %109, ptr %arrayidx7.i167, align 4
  %depth = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 6
  %111 = load i32, ptr %depth, align 8
  %112 = load ptr, ptr %this, align 8
  %depth72 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %112, i64 0, i32 16
  %113 = load ptr, ptr %depth72, align 8
  %114 = load i32, ptr %i, align 8
  %idxprom74 = sext i32 %114 to i64
  %arrayidx75 = getelementptr inbounds i32, ptr %113, i64 %idxprom74
  store i32 %111, ptr %arrayidx75, align 4
  %faceIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 13
  %115 = load i32, ptr %faceIndex, align 8
  %116 = load ptr, ptr %this, align 8
  %faceIndex77 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %116, i64 0, i32 17
  %117 = load ptr, ptr %faceIndex77, align 8
  %118 = load i32, ptr %i, align 8
  %idxprom79 = sext i32 %118 to i64
  %arrayidx80 = getelementptr inbounds i32, ptr %117, i64 %idxprom79
  store i32 %115, ptr %arrayidx80, align 4
  %time = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 5
  %119 = load float, ptr %time, align 4
  %120 = load ptr, ptr %this, align 8
  %time82 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %120, i64 0, i32 18
  %121 = load ptr, ptr %time82, align 8
  %122 = load i32, ptr %i, align 8
  %idxprom84 = sext i32 %122 to i64
  %arrayidx85 = getelementptr inbounds float, ptr %121, i64 %idxprom84
  store float %119, ptr %arrayidx85, align 4
  %anyNonSpecularBounces = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 16
  %123 = load i32, ptr %anyNonSpecularBounces, align 8
  %124 = load ptr, ptr %this, align 8
  %anyNonSpecularBounces87 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %124, i64 0, i32 19
  %125 = load ptr, ptr %anyNonSpecularBounces87, align 8
  %126 = load i32, ptr %i, align 8
  %idxprom89 = sext i32 %126 to i64
  %arrayidx90 = getelementptr inbounds i32, ptr %125, i64 %idxprom89
  store i32 %123, ptr %arrayidx90, align 4
  %etaScale = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 20
  %127 = load float, ptr %etaScale, align 8
  %128 = load ptr, ptr %this, align 8
  %etaScale92 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %128, i64 0, i32 20
  %129 = load ptr, ptr %etaScale92, align 8
  %130 = load i32, ptr %i, align 8
  %idxprom94 = sext i32 %130 to i64
  %arrayidx95 = getelementptr inbounds float, ptr %129, i64 %idxprom94
  store float %127, ptr %arrayidx95, align 4
  %mediumInterface = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 21
  %131 = load ptr, ptr %this, align 8
  %132 = load i32, ptr %i, align 8
  %inside2.i = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %131, i64 0, i32 21, i32 1
  %133 = load ptr, ptr %inside2.i, align 8
  %idxprom.i171 = sext i32 %132 to i64
  %arrayidx.i172 = getelementptr inbounds %"class.pbrt::Medium", ptr %133, i64 %idxprom.i171
  %134 = load i64, ptr %mediumInterface, align 8
  store i64 %134, ptr %arrayidx.i172, align 8
  %outside.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 21, i32 1
  %outside4.i = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %131, i64 0, i32 21, i32 2
  %135 = load ptr, ptr %outside4.i, align 8
  %arrayidx7.i174 = getelementptr inbounds %"class.pbrt::Medium", ptr %135, i64 %idxprom.i171
  %136 = load i64, ptr %outside.i, align 8
  store i64 %136, ptr %arrayidx7.i174, align 8
  %pixelIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.211", ptr %a, i64 0, i32 15
  %137 = load i32, ptr %pixelIndex, align 4
  %138 = load ptr, ptr %this, align 8
  %pixelIndex102 = getelementptr inbounds %"struct.pbrt::SOA.182", ptr %138, i64 0, i32 22
  %139 = load ptr, ptr %pixelIndex102, align 8
  %140 = load i32, ptr %i, align 8
  %idxprom104 = sext i32 %140 to i64
  %arrayidx105 = getelementptr inbounds i32, ptr %139, i64 %idxprom104
  store i32 %137, ptr %arrayidx105, align 4
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_18SubsurfaceMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %this, ptr noundef nonnull align 8 dereferenceable(256) %a) local_unnamed_addr #9 comdat align 2 {
entry:
  %0 = load ptr, ptr %a, align 8
  %1 = load ptr, ptr %this, align 8
  %material2 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %1, i64 0, i32 1
  %2 = load ptr, ptr %material2, align 8
  %i = getelementptr inbounds %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::SubsurfaceMaterial>>::GetSetIndirector", ptr %this, i64 0, i32 1
  %3 = load i32, ptr %i, align 8
  %idxprom = sext i32 %3 to i64
  %arrayidx = getelementptr inbounds ptr, ptr %2, i64 %idxprom
  store ptr %0, ptr %arrayidx, align 8
  %lambda = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 14
  %4 = load ptr, ptr %this, align 8
  %5 = load i32, ptr %i, align 8
  %arrayidx.i23.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 14, i32 0, i32 0, i64 2
  %pdf.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 14, i32 1
  %lambda4.i = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %4, i64 0, i32 2, i32 1
  %6 = load ptr, ptr %lambda4.i, align 8
  %idx.ext.i = sext i32 %5 to i64
  %add.ptr.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %6, i64 %idx.ext.i
  %7 = load <4 x float>, ptr %lambda, align 4
  %agg.tmp.sroa.0.4.vec.insert.i = shufflevector <4 x float> %7, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %8 = load <4 x float>, ptr %arrayidx.i23.i, align 4
  %agg.tmp.sroa.3.12.vec.insert.i = shufflevector <4 x float> %8, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i, ptr %add.ptr.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %add.ptr.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i, align 8
  %pdf4.i = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %4, i64 0, i32 2, i32 2
  %9 = load ptr, ptr %pdf4.i, align 8
  %add.ptr21.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %9, i64 %idx.ext.i
  %10 = load <4 x float>, ptr %pdf.i, align 4
  %agg.tmp22.sroa.0.4.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp22.sroa.3.12.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp22.sroa.0.4.vec.insert.i, ptr %add.ptr21.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i28.i = getelementptr inbounds i8, ptr %add.ptr21.i, i64 8
  store <2 x float> %agg.tmp22.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i28.i, align 8
  %beta = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 18
  %11 = load ptr, ptr %this, align 8
  %12 = load i32, ptr %i, align 8
  %ptr4.i = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %11, i64 0, i32 3, i32 1
  %13 = load ptr, ptr %ptr4.i, align 8
  %idx.ext.i25 = sext i32 %12 to i64
  %add.ptr.i26 = getelementptr inbounds %"struct.pbrt::Float4", ptr %13, i64 %idx.ext.i25
  %14 = load <4 x float>, ptr %beta, align 8
  %agg.tmp.sroa.0.4.vec.insert.i27 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i28 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i27, ptr %add.ptr.i26, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i29 = getelementptr inbounds i8, ptr %add.ptr.i26, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i28, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i29, align 8
  %r_u = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 19
  %15 = load ptr, ptr %this, align 8
  %16 = load i32, ptr %i, align 8
  %ptr4.i33 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %15, i64 0, i32 4, i32 1
  %17 = load ptr, ptr %ptr4.i33, align 8
  %idx.ext.i34 = sext i32 %16 to i64
  %add.ptr.i35 = getelementptr inbounds %"struct.pbrt::Float4", ptr %17, i64 %idx.ext.i34
  %18 = load <4 x float>, ptr %r_u, align 8
  %agg.tmp.sroa.0.4.vec.insert.i36 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i37 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i36, ptr %add.ptr.i35, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i38 = getelementptr inbounds i8, ptr %add.ptr.i35, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i37, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i38, align 8
  %pi = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 1
  %19 = load ptr, ptr %this, align 8
  %20 = load i32, ptr %i, align 8
  %21 = load float, ptr %pi, align 8
  %low2.i.i = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %19, i64 0, i32 5, i32 1, i32 1
  %22 = load ptr, ptr %low2.i.i, align 8
  %idxprom.i.i = sext i32 %20 to i64
  %arrayidx.i.i = getelementptr inbounds float, ptr %22, i64 %idxprom.i.i
  store float %21, ptr %arrayidx.i.i, align 4
  %high.i.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 0, i32 1
  %23 = load float, ptr %high.i.i, align 4
  %high4.i.i = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %19, i64 0, i32 5, i32 1, i32 2
  %24 = load ptr, ptr %high4.i.i, align 8
  %arrayidx7.i.i = getelementptr inbounds float, ptr %24, i64 %idxprom.i.i
  store float %23, ptr %arrayidx7.i.i, align 4
  %y.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1
  %25 = load float, ptr %y.i, align 8
  %low2.i5.i = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %19, i64 0, i32 5, i32 2, i32 1
  %26 = load ptr, ptr %low2.i5.i, align 8
  %arrayidx.i8.i = getelementptr inbounds float, ptr %26, i64 %idxprom.i.i
  store float %25, ptr %arrayidx.i8.i, align 4
  %high.i9.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1, i32 1
  %27 = load float, ptr %high.i9.i, align 4
  %high4.i10.i = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %19, i64 0, i32 5, i32 2, i32 2
  %28 = load ptr, ptr %high4.i10.i, align 8
  %arrayidx7.i12.i = getelementptr inbounds float, ptr %28, i64 %idxprom.i.i
  store float %27, ptr %arrayidx7.i12.i, align 4
  %z.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2
  %29 = load float, ptr %z.i, align 8
  %low2.i15.i = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %19, i64 0, i32 5, i32 3, i32 1
  %30 = load ptr, ptr %low2.i15.i, align 8
  %arrayidx.i18.i = getelementptr inbounds float, ptr %30, i64 %idxprom.i.i
  store float %29, ptr %arrayidx.i18.i, align 4
  %high.i19.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2, i32 1
  %31 = load float, ptr %high.i19.i, align 4
  %high4.i20.i = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %19, i64 0, i32 5, i32 3, i32 2
  %32 = load ptr, ptr %high4.i20.i, align 8
  %arrayidx7.i22.i = getelementptr inbounds float, ptr %32, i64 %idxprom.i.i
  store float %31, ptr %arrayidx7.i22.i, align 4
  %n = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 2
  %33 = load ptr, ptr %this, align 8
  %34 = load i32, ptr %i, align 8
  %35 = load float, ptr %n, align 8
  %x2.i = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %33, i64 0, i32 6, i32 1
  %36 = load ptr, ptr %x2.i, align 8
  %idxprom.i = sext i32 %34 to i64
  %arrayidx.i = getelementptr inbounds float, ptr %36, i64 %idxprom.i
  store float %35, ptr %arrayidx.i, align 4
  %y.i44 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 2, i32 0, i32 1
  %37 = load float, ptr %y.i44, align 4
  %y4.i = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %33, i64 0, i32 6, i32 2
  %38 = load ptr, ptr %y4.i, align 8
  %arrayidx7.i = getelementptr inbounds float, ptr %38, i64 %idxprom.i
  store float %37, ptr %arrayidx7.i, align 4
  %z.i45 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 2, i32 0, i32 2
  %39 = load float, ptr %z.i45, align 8
  %z9.i = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %33, i64 0, i32 6, i32 3
  %40 = load ptr, ptr %z9.i, align 8
  %arrayidx12.i = getelementptr inbounds float, ptr %40, i64 %idxprom.i
  store float %39, ptr %arrayidx12.i, align 4
  %ns = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 7
  %41 = load ptr, ptr %this, align 8
  %42 = load i32, ptr %i, align 8
  %43 = load float, ptr %ns, align 4
  %x2.i48 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %41, i64 0, i32 7, i32 1
  %44 = load ptr, ptr %x2.i48, align 8
  %idxprom.i50 = sext i32 %42 to i64
  %arrayidx.i51 = getelementptr inbounds float, ptr %44, i64 %idxprom.i50
  store float %43, ptr %arrayidx.i51, align 4
  %y.i52 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 7, i32 0, i32 1
  %45 = load float, ptr %y.i52, align 8
  %y4.i53 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %41, i64 0, i32 7, i32 2
  %46 = load ptr, ptr %y4.i53, align 8
  %arrayidx7.i55 = getelementptr inbounds float, ptr %46, i64 %idxprom.i50
  store float %45, ptr %arrayidx7.i55, align 4
  %z.i56 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 7, i32 0, i32 2
  %47 = load float, ptr %z.i56, align 4
  %z9.i57 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %41, i64 0, i32 7, i32 3
  %48 = load ptr, ptr %z9.i57, align 8
  %arrayidx12.i59 = getelementptr inbounds float, ptr %48, i64 %idxprom.i50
  store float %47, ptr %arrayidx12.i59, align 4
  %dpdu = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 3
  %49 = load ptr, ptr %this, align 8
  %50 = load i32, ptr %i, align 8
  %51 = load float, ptr %dpdu, align 4
  %x2.i62 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %49, i64 0, i32 8, i32 1
  %52 = load ptr, ptr %x2.i62, align 8
  %idxprom.i64 = sext i32 %50 to i64
  %arrayidx.i65 = getelementptr inbounds float, ptr %52, i64 %idxprom.i64
  store float %51, ptr %arrayidx.i65, align 4
  %y.i66 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 3, i32 0, i32 1
  %53 = load float, ptr %y.i66, align 8
  %y4.i67 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %49, i64 0, i32 8, i32 2
  %54 = load ptr, ptr %y4.i67, align 8
  %arrayidx7.i69 = getelementptr inbounds float, ptr %54, i64 %idxprom.i64
  store float %53, ptr %arrayidx7.i69, align 4
  %z.i70 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 3, i32 0, i32 2
  %55 = load float, ptr %z.i70, align 4
  %z9.i71 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %49, i64 0, i32 8, i32 3
  %56 = load ptr, ptr %z9.i71, align 8
  %arrayidx12.i73 = getelementptr inbounds float, ptr %56, i64 %idxprom.i64
  store float %55, ptr %arrayidx12.i73, align 4
  %dpdv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 4
  %57 = load ptr, ptr %this, align 8
  %58 = load i32, ptr %i, align 8
  %59 = load float, ptr %dpdv, align 8
  %x2.i76 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %57, i64 0, i32 9, i32 1
  %60 = load ptr, ptr %x2.i76, align 8
  %idxprom.i78 = sext i32 %58 to i64
  %arrayidx.i79 = getelementptr inbounds float, ptr %60, i64 %idxprom.i78
  store float %59, ptr %arrayidx.i79, align 4
  %y.i80 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 4, i32 0, i32 1
  %61 = load float, ptr %y.i80, align 4
  %y4.i81 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %57, i64 0, i32 9, i32 2
  %62 = load ptr, ptr %y4.i81, align 8
  %arrayidx7.i83 = getelementptr inbounds float, ptr %62, i64 %idxprom.i78
  store float %61, ptr %arrayidx7.i83, align 4
  %z.i84 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 4, i32 0, i32 2
  %63 = load float, ptr %z.i84, align 8
  %z9.i85 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %57, i64 0, i32 9, i32 3
  %64 = load ptr, ptr %z9.i85, align 8
  %arrayidx12.i87 = getelementptr inbounds float, ptr %64, i64 %idxprom.i78
  store float %63, ptr %arrayidx12.i87, align 4
  %dpdus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 8
  %65 = load ptr, ptr %this, align 8
  %66 = load i32, ptr %i, align 8
  %67 = load float, ptr %dpdus, align 8
  %x2.i90 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %65, i64 0, i32 10, i32 1
  %68 = load ptr, ptr %x2.i90, align 8
  %idxprom.i92 = sext i32 %66 to i64
  %arrayidx.i93 = getelementptr inbounds float, ptr %68, i64 %idxprom.i92
  store float %67, ptr %arrayidx.i93, align 4
  %y.i94 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 8, i32 0, i32 1
  %69 = load float, ptr %y.i94, align 4
  %y4.i95 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %65, i64 0, i32 10, i32 2
  %70 = load ptr, ptr %y4.i95, align 8
  %arrayidx7.i97 = getelementptr inbounds float, ptr %70, i64 %idxprom.i92
  store float %69, ptr %arrayidx7.i97, align 4
  %z.i98 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 8, i32 0, i32 2
  %71 = load float, ptr %z.i98, align 8
  %z9.i99 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %65, i64 0, i32 10, i32 3
  %72 = load ptr, ptr %z9.i99, align 8
  %arrayidx12.i101 = getelementptr inbounds float, ptr %72, i64 %idxprom.i92
  store float %71, ptr %arrayidx12.i101, align 4
  %dpdvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 9
  %73 = load ptr, ptr %this, align 8
  %74 = load i32, ptr %i, align 8
  %75 = load float, ptr %dpdvs, align 4
  %x2.i104 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %73, i64 0, i32 11, i32 1
  %76 = load ptr, ptr %x2.i104, align 8
  %idxprom.i106 = sext i32 %74 to i64
  %arrayidx.i107 = getelementptr inbounds float, ptr %76, i64 %idxprom.i106
  store float %75, ptr %arrayidx.i107, align 4
  %y.i108 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 9, i32 0, i32 1
  %77 = load float, ptr %y.i108, align 8
  %y4.i109 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %73, i64 0, i32 11, i32 2
  %78 = load ptr, ptr %y4.i109, align 8
  %arrayidx7.i111 = getelementptr inbounds float, ptr %78, i64 %idxprom.i106
  store float %77, ptr %arrayidx7.i111, align 4
  %z.i112 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 9, i32 0, i32 2
  %79 = load float, ptr %z.i112, align 4
  %z9.i113 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %73, i64 0, i32 11, i32 3
  %80 = load ptr, ptr %z9.i113, align 8
  %arrayidx12.i115 = getelementptr inbounds float, ptr %80, i64 %idxprom.i106
  store float %79, ptr %arrayidx12.i115, align 4
  %dndus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 10
  %81 = load ptr, ptr %this, align 8
  %82 = load i32, ptr %i, align 8
  %83 = load float, ptr %dndus, align 8
  %x2.i118 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %81, i64 0, i32 12, i32 1
  %84 = load ptr, ptr %x2.i118, align 8
  %idxprom.i120 = sext i32 %82 to i64
  %arrayidx.i121 = getelementptr inbounds float, ptr %84, i64 %idxprom.i120
  store float %83, ptr %arrayidx.i121, align 4
  %y.i122 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 10, i32 0, i32 1
  %85 = load float, ptr %y.i122, align 4
  %y4.i123 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %81, i64 0, i32 12, i32 2
  %86 = load ptr, ptr %y4.i123, align 8
  %arrayidx7.i125 = getelementptr inbounds float, ptr %86, i64 %idxprom.i120
  store float %85, ptr %arrayidx7.i125, align 4
  %z.i126 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 10, i32 0, i32 2
  %87 = load float, ptr %z.i126, align 8
  %z9.i127 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %81, i64 0, i32 12, i32 3
  %88 = load ptr, ptr %z9.i127, align 8
  %arrayidx12.i129 = getelementptr inbounds float, ptr %88, i64 %idxprom.i120
  store float %87, ptr %arrayidx12.i129, align 4
  %dndvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 11
  %89 = load ptr, ptr %this, align 8
  %90 = load i32, ptr %i, align 8
  %91 = load float, ptr %dndvs, align 4
  %x2.i132 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %89, i64 0, i32 13, i32 1
  %92 = load ptr, ptr %x2.i132, align 8
  %idxprom.i134 = sext i32 %90 to i64
  %arrayidx.i135 = getelementptr inbounds float, ptr %92, i64 %idxprom.i134
  store float %91, ptr %arrayidx.i135, align 4
  %y.i136 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 11, i32 0, i32 1
  %93 = load float, ptr %y.i136, align 8
  %y4.i137 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %89, i64 0, i32 13, i32 2
  %94 = load ptr, ptr %y4.i137, align 8
  %arrayidx7.i139 = getelementptr inbounds float, ptr %94, i64 %idxprom.i134
  store float %93, ptr %arrayidx7.i139, align 4
  %z.i140 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 11, i32 0, i32 2
  %95 = load float, ptr %z.i140, align 4
  %z9.i141 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %89, i64 0, i32 13, i32 3
  %96 = load ptr, ptr %z9.i141, align 8
  %arrayidx12.i143 = getelementptr inbounds float, ptr %96, i64 %idxprom.i134
  store float %95, ptr %arrayidx12.i143, align 4
  %wo = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 17
  %97 = load ptr, ptr %this, align 8
  %98 = load i32, ptr %i, align 8
  %99 = load float, ptr %wo, align 4
  %x2.i146 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %97, i64 0, i32 14, i32 1
  %100 = load ptr, ptr %x2.i146, align 8
  %idxprom.i148 = sext i32 %98 to i64
  %arrayidx.i149 = getelementptr inbounds float, ptr %100, i64 %idxprom.i148
  store float %99, ptr %arrayidx.i149, align 4
  %y.i150 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 17, i32 0, i32 1
  %101 = load float, ptr %y.i150, align 8
  %y4.i151 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %97, i64 0, i32 14, i32 2
  %102 = load ptr, ptr %y4.i151, align 8
  %arrayidx7.i153 = getelementptr inbounds float, ptr %102, i64 %idxprom.i148
  store float %101, ptr %arrayidx7.i153, align 4
  %z.i154 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 17, i32 0, i32 2
  %103 = load float, ptr %z.i154, align 4
  %z9.i155 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %97, i64 0, i32 14, i32 3
  %104 = load ptr, ptr %z9.i155, align 8
  %arrayidx12.i157 = getelementptr inbounds float, ptr %104, i64 %idxprom.i148
  store float %103, ptr %arrayidx12.i157, align 4
  %uv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 12
  %105 = load ptr, ptr %this, align 8
  %106 = load i32, ptr %i, align 8
  %107 = load float, ptr %uv, align 8
  %x2.i160 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %105, i64 0, i32 15, i32 1
  %108 = load ptr, ptr %x2.i160, align 8
  %idxprom.i162 = sext i32 %106 to i64
  %arrayidx.i163 = getelementptr inbounds float, ptr %108, i64 %idxprom.i162
  store float %107, ptr %arrayidx.i163, align 4
  %y.i164 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 12, i32 0, i32 1
  %109 = load float, ptr %y.i164, align 4
  %y4.i165 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %105, i64 0, i32 15, i32 2
  %110 = load ptr, ptr %y4.i165, align 8
  %arrayidx7.i167 = getelementptr inbounds float, ptr %110, i64 %idxprom.i162
  store float %109, ptr %arrayidx7.i167, align 4
  %depth = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 6
  %111 = load i32, ptr %depth, align 8
  %112 = load ptr, ptr %this, align 8
  %depth72 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %112, i64 0, i32 16
  %113 = load ptr, ptr %depth72, align 8
  %114 = load i32, ptr %i, align 8
  %idxprom74 = sext i32 %114 to i64
  %arrayidx75 = getelementptr inbounds i32, ptr %113, i64 %idxprom74
  store i32 %111, ptr %arrayidx75, align 4
  %faceIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 13
  %115 = load i32, ptr %faceIndex, align 8
  %116 = load ptr, ptr %this, align 8
  %faceIndex77 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %116, i64 0, i32 17
  %117 = load ptr, ptr %faceIndex77, align 8
  %118 = load i32, ptr %i, align 8
  %idxprom79 = sext i32 %118 to i64
  %arrayidx80 = getelementptr inbounds i32, ptr %117, i64 %idxprom79
  store i32 %115, ptr %arrayidx80, align 4
  %time = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 5
  %119 = load float, ptr %time, align 4
  %120 = load ptr, ptr %this, align 8
  %time82 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %120, i64 0, i32 18
  %121 = load ptr, ptr %time82, align 8
  %122 = load i32, ptr %i, align 8
  %idxprom84 = sext i32 %122 to i64
  %arrayidx85 = getelementptr inbounds float, ptr %121, i64 %idxprom84
  store float %119, ptr %arrayidx85, align 4
  %anyNonSpecularBounces = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 16
  %123 = load i32, ptr %anyNonSpecularBounces, align 8
  %124 = load ptr, ptr %this, align 8
  %anyNonSpecularBounces87 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %124, i64 0, i32 19
  %125 = load ptr, ptr %anyNonSpecularBounces87, align 8
  %126 = load i32, ptr %i, align 8
  %idxprom89 = sext i32 %126 to i64
  %arrayidx90 = getelementptr inbounds i32, ptr %125, i64 %idxprom89
  store i32 %123, ptr %arrayidx90, align 4
  %etaScale = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 20
  %127 = load float, ptr %etaScale, align 8
  %128 = load ptr, ptr %this, align 8
  %etaScale92 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %128, i64 0, i32 20
  %129 = load ptr, ptr %etaScale92, align 8
  %130 = load i32, ptr %i, align 8
  %idxprom94 = sext i32 %130 to i64
  %arrayidx95 = getelementptr inbounds float, ptr %129, i64 %idxprom94
  store float %127, ptr %arrayidx95, align 4
  %mediumInterface = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 21
  %131 = load ptr, ptr %this, align 8
  %132 = load i32, ptr %i, align 8
  %inside2.i = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %131, i64 0, i32 21, i32 1
  %133 = load ptr, ptr %inside2.i, align 8
  %idxprom.i171 = sext i32 %132 to i64
  %arrayidx.i172 = getelementptr inbounds %"class.pbrt::Medium", ptr %133, i64 %idxprom.i171
  %134 = load i64, ptr %mediumInterface, align 8
  store i64 %134, ptr %arrayidx.i172, align 8
  %outside.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 21, i32 1
  %outside4.i = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %131, i64 0, i32 21, i32 2
  %135 = load ptr, ptr %outside4.i, align 8
  %arrayidx7.i174 = getelementptr inbounds %"class.pbrt::Medium", ptr %135, i64 %idxprom.i171
  %136 = load i64, ptr %outside.i, align 8
  store i64 %136, ptr %arrayidx7.i174, align 8
  %pixelIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.212", ptr %a, i64 0, i32 15
  %137 = load i32, ptr %pixelIndex, align 4
  %138 = load ptr, ptr %this, align 8
  %pixelIndex102 = getelementptr inbounds %"struct.pbrt::SOA.179", ptr %138, i64 0, i32 22
  %139 = load ptr, ptr %pixelIndex102, align 8
  %140 = load i32, ptr %i, align 8
  %idxprom104 = sext i32 %140 to i64
  %arrayidx105 = getelementptr inbounds i32, ptr %139, i64 %idxprom104
  store i32 %137, ptr %arrayidx105, align 4
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_22ThinDielectricMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %this, ptr noundef nonnull align 8 dereferenceable(256) %a) local_unnamed_addr #9 comdat align 2 {
entry:
  %0 = load ptr, ptr %a, align 8
  %1 = load ptr, ptr %this, align 8
  %material2 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %1, i64 0, i32 1
  %2 = load ptr, ptr %material2, align 8
  %i = getelementptr inbounds %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::ThinDielectricMaterial>>::GetSetIndirector", ptr %this, i64 0, i32 1
  %3 = load i32, ptr %i, align 8
  %idxprom = sext i32 %3 to i64
  %arrayidx = getelementptr inbounds ptr, ptr %2, i64 %idxprom
  store ptr %0, ptr %arrayidx, align 8
  %lambda = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 14
  %4 = load ptr, ptr %this, align 8
  %5 = load i32, ptr %i, align 8
  %arrayidx.i23.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 14, i32 0, i32 0, i64 2
  %pdf.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 14, i32 1
  %lambda4.i = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %4, i64 0, i32 2, i32 1
  %6 = load ptr, ptr %lambda4.i, align 8
  %idx.ext.i = sext i32 %5 to i64
  %add.ptr.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %6, i64 %idx.ext.i
  %7 = load <4 x float>, ptr %lambda, align 4
  %agg.tmp.sroa.0.4.vec.insert.i = shufflevector <4 x float> %7, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %8 = load <4 x float>, ptr %arrayidx.i23.i, align 4
  %agg.tmp.sroa.3.12.vec.insert.i = shufflevector <4 x float> %8, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i, ptr %add.ptr.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %add.ptr.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i, align 8
  %pdf4.i = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %4, i64 0, i32 2, i32 2
  %9 = load ptr, ptr %pdf4.i, align 8
  %add.ptr21.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %9, i64 %idx.ext.i
  %10 = load <4 x float>, ptr %pdf.i, align 4
  %agg.tmp22.sroa.0.4.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp22.sroa.3.12.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp22.sroa.0.4.vec.insert.i, ptr %add.ptr21.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i28.i = getelementptr inbounds i8, ptr %add.ptr21.i, i64 8
  store <2 x float> %agg.tmp22.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i28.i, align 8
  %beta = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 18
  %11 = load ptr, ptr %this, align 8
  %12 = load i32, ptr %i, align 8
  %ptr4.i = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %11, i64 0, i32 3, i32 1
  %13 = load ptr, ptr %ptr4.i, align 8
  %idx.ext.i25 = sext i32 %12 to i64
  %add.ptr.i26 = getelementptr inbounds %"struct.pbrt::Float4", ptr %13, i64 %idx.ext.i25
  %14 = load <4 x float>, ptr %beta, align 8
  %agg.tmp.sroa.0.4.vec.insert.i27 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i28 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i27, ptr %add.ptr.i26, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i29 = getelementptr inbounds i8, ptr %add.ptr.i26, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i28, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i29, align 8
  %r_u = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 19
  %15 = load ptr, ptr %this, align 8
  %16 = load i32, ptr %i, align 8
  %ptr4.i33 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %15, i64 0, i32 4, i32 1
  %17 = load ptr, ptr %ptr4.i33, align 8
  %idx.ext.i34 = sext i32 %16 to i64
  %add.ptr.i35 = getelementptr inbounds %"struct.pbrt::Float4", ptr %17, i64 %idx.ext.i34
  %18 = load <4 x float>, ptr %r_u, align 8
  %agg.tmp.sroa.0.4.vec.insert.i36 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i37 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i36, ptr %add.ptr.i35, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i38 = getelementptr inbounds i8, ptr %add.ptr.i35, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i37, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i38, align 8
  %pi = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 1
  %19 = load ptr, ptr %this, align 8
  %20 = load i32, ptr %i, align 8
  %21 = load float, ptr %pi, align 8
  %low2.i.i = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %19, i64 0, i32 5, i32 1, i32 1
  %22 = load ptr, ptr %low2.i.i, align 8
  %idxprom.i.i = sext i32 %20 to i64
  %arrayidx.i.i = getelementptr inbounds float, ptr %22, i64 %idxprom.i.i
  store float %21, ptr %arrayidx.i.i, align 4
  %high.i.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 0, i32 1
  %23 = load float, ptr %high.i.i, align 4
  %high4.i.i = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %19, i64 0, i32 5, i32 1, i32 2
  %24 = load ptr, ptr %high4.i.i, align 8
  %arrayidx7.i.i = getelementptr inbounds float, ptr %24, i64 %idxprom.i.i
  store float %23, ptr %arrayidx7.i.i, align 4
  %y.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1
  %25 = load float, ptr %y.i, align 8
  %low2.i5.i = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %19, i64 0, i32 5, i32 2, i32 1
  %26 = load ptr, ptr %low2.i5.i, align 8
  %arrayidx.i8.i = getelementptr inbounds float, ptr %26, i64 %idxprom.i.i
  store float %25, ptr %arrayidx.i8.i, align 4
  %high.i9.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1, i32 1
  %27 = load float, ptr %high.i9.i, align 4
  %high4.i10.i = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %19, i64 0, i32 5, i32 2, i32 2
  %28 = load ptr, ptr %high4.i10.i, align 8
  %arrayidx7.i12.i = getelementptr inbounds float, ptr %28, i64 %idxprom.i.i
  store float %27, ptr %arrayidx7.i12.i, align 4
  %z.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2
  %29 = load float, ptr %z.i, align 8
  %low2.i15.i = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %19, i64 0, i32 5, i32 3, i32 1
  %30 = load ptr, ptr %low2.i15.i, align 8
  %arrayidx.i18.i = getelementptr inbounds float, ptr %30, i64 %idxprom.i.i
  store float %29, ptr %arrayidx.i18.i, align 4
  %high.i19.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2, i32 1
  %31 = load float, ptr %high.i19.i, align 4
  %high4.i20.i = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %19, i64 0, i32 5, i32 3, i32 2
  %32 = load ptr, ptr %high4.i20.i, align 8
  %arrayidx7.i22.i = getelementptr inbounds float, ptr %32, i64 %idxprom.i.i
  store float %31, ptr %arrayidx7.i22.i, align 4
  %n = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 2
  %33 = load ptr, ptr %this, align 8
  %34 = load i32, ptr %i, align 8
  %35 = load float, ptr %n, align 8
  %x2.i = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %33, i64 0, i32 6, i32 1
  %36 = load ptr, ptr %x2.i, align 8
  %idxprom.i = sext i32 %34 to i64
  %arrayidx.i = getelementptr inbounds float, ptr %36, i64 %idxprom.i
  store float %35, ptr %arrayidx.i, align 4
  %y.i44 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 2, i32 0, i32 1
  %37 = load float, ptr %y.i44, align 4
  %y4.i = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %33, i64 0, i32 6, i32 2
  %38 = load ptr, ptr %y4.i, align 8
  %arrayidx7.i = getelementptr inbounds float, ptr %38, i64 %idxprom.i
  store float %37, ptr %arrayidx7.i, align 4
  %z.i45 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 2, i32 0, i32 2
  %39 = load float, ptr %z.i45, align 8
  %z9.i = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %33, i64 0, i32 6, i32 3
  %40 = load ptr, ptr %z9.i, align 8
  %arrayidx12.i = getelementptr inbounds float, ptr %40, i64 %idxprom.i
  store float %39, ptr %arrayidx12.i, align 4
  %ns = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 7
  %41 = load ptr, ptr %this, align 8
  %42 = load i32, ptr %i, align 8
  %43 = load float, ptr %ns, align 4
  %x2.i48 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %41, i64 0, i32 7, i32 1
  %44 = load ptr, ptr %x2.i48, align 8
  %idxprom.i50 = sext i32 %42 to i64
  %arrayidx.i51 = getelementptr inbounds float, ptr %44, i64 %idxprom.i50
  store float %43, ptr %arrayidx.i51, align 4
  %y.i52 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 7, i32 0, i32 1
  %45 = load float, ptr %y.i52, align 8
  %y4.i53 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %41, i64 0, i32 7, i32 2
  %46 = load ptr, ptr %y4.i53, align 8
  %arrayidx7.i55 = getelementptr inbounds float, ptr %46, i64 %idxprom.i50
  store float %45, ptr %arrayidx7.i55, align 4
  %z.i56 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 7, i32 0, i32 2
  %47 = load float, ptr %z.i56, align 4
  %z9.i57 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %41, i64 0, i32 7, i32 3
  %48 = load ptr, ptr %z9.i57, align 8
  %arrayidx12.i59 = getelementptr inbounds float, ptr %48, i64 %idxprom.i50
  store float %47, ptr %arrayidx12.i59, align 4
  %dpdu = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 3
  %49 = load ptr, ptr %this, align 8
  %50 = load i32, ptr %i, align 8
  %51 = load float, ptr %dpdu, align 4
  %x2.i62 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %49, i64 0, i32 8, i32 1
  %52 = load ptr, ptr %x2.i62, align 8
  %idxprom.i64 = sext i32 %50 to i64
  %arrayidx.i65 = getelementptr inbounds float, ptr %52, i64 %idxprom.i64
  store float %51, ptr %arrayidx.i65, align 4
  %y.i66 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 3, i32 0, i32 1
  %53 = load float, ptr %y.i66, align 8
  %y4.i67 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %49, i64 0, i32 8, i32 2
  %54 = load ptr, ptr %y4.i67, align 8
  %arrayidx7.i69 = getelementptr inbounds float, ptr %54, i64 %idxprom.i64
  store float %53, ptr %arrayidx7.i69, align 4
  %z.i70 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 3, i32 0, i32 2
  %55 = load float, ptr %z.i70, align 4
  %z9.i71 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %49, i64 0, i32 8, i32 3
  %56 = load ptr, ptr %z9.i71, align 8
  %arrayidx12.i73 = getelementptr inbounds float, ptr %56, i64 %idxprom.i64
  store float %55, ptr %arrayidx12.i73, align 4
  %dpdv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 4
  %57 = load ptr, ptr %this, align 8
  %58 = load i32, ptr %i, align 8
  %59 = load float, ptr %dpdv, align 8
  %x2.i76 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %57, i64 0, i32 9, i32 1
  %60 = load ptr, ptr %x2.i76, align 8
  %idxprom.i78 = sext i32 %58 to i64
  %arrayidx.i79 = getelementptr inbounds float, ptr %60, i64 %idxprom.i78
  store float %59, ptr %arrayidx.i79, align 4
  %y.i80 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 4, i32 0, i32 1
  %61 = load float, ptr %y.i80, align 4
  %y4.i81 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %57, i64 0, i32 9, i32 2
  %62 = load ptr, ptr %y4.i81, align 8
  %arrayidx7.i83 = getelementptr inbounds float, ptr %62, i64 %idxprom.i78
  store float %61, ptr %arrayidx7.i83, align 4
  %z.i84 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 4, i32 0, i32 2
  %63 = load float, ptr %z.i84, align 8
  %z9.i85 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %57, i64 0, i32 9, i32 3
  %64 = load ptr, ptr %z9.i85, align 8
  %arrayidx12.i87 = getelementptr inbounds float, ptr %64, i64 %idxprom.i78
  store float %63, ptr %arrayidx12.i87, align 4
  %dpdus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 8
  %65 = load ptr, ptr %this, align 8
  %66 = load i32, ptr %i, align 8
  %67 = load float, ptr %dpdus, align 8
  %x2.i90 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %65, i64 0, i32 10, i32 1
  %68 = load ptr, ptr %x2.i90, align 8
  %idxprom.i92 = sext i32 %66 to i64
  %arrayidx.i93 = getelementptr inbounds float, ptr %68, i64 %idxprom.i92
  store float %67, ptr %arrayidx.i93, align 4
  %y.i94 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 8, i32 0, i32 1
  %69 = load float, ptr %y.i94, align 4
  %y4.i95 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %65, i64 0, i32 10, i32 2
  %70 = load ptr, ptr %y4.i95, align 8
  %arrayidx7.i97 = getelementptr inbounds float, ptr %70, i64 %idxprom.i92
  store float %69, ptr %arrayidx7.i97, align 4
  %z.i98 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 8, i32 0, i32 2
  %71 = load float, ptr %z.i98, align 8
  %z9.i99 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %65, i64 0, i32 10, i32 3
  %72 = load ptr, ptr %z9.i99, align 8
  %arrayidx12.i101 = getelementptr inbounds float, ptr %72, i64 %idxprom.i92
  store float %71, ptr %arrayidx12.i101, align 4
  %dpdvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 9
  %73 = load ptr, ptr %this, align 8
  %74 = load i32, ptr %i, align 8
  %75 = load float, ptr %dpdvs, align 4
  %x2.i104 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %73, i64 0, i32 11, i32 1
  %76 = load ptr, ptr %x2.i104, align 8
  %idxprom.i106 = sext i32 %74 to i64
  %arrayidx.i107 = getelementptr inbounds float, ptr %76, i64 %idxprom.i106
  store float %75, ptr %arrayidx.i107, align 4
  %y.i108 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 9, i32 0, i32 1
  %77 = load float, ptr %y.i108, align 8
  %y4.i109 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %73, i64 0, i32 11, i32 2
  %78 = load ptr, ptr %y4.i109, align 8
  %arrayidx7.i111 = getelementptr inbounds float, ptr %78, i64 %idxprom.i106
  store float %77, ptr %arrayidx7.i111, align 4
  %z.i112 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 9, i32 0, i32 2
  %79 = load float, ptr %z.i112, align 4
  %z9.i113 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %73, i64 0, i32 11, i32 3
  %80 = load ptr, ptr %z9.i113, align 8
  %arrayidx12.i115 = getelementptr inbounds float, ptr %80, i64 %idxprom.i106
  store float %79, ptr %arrayidx12.i115, align 4
  %dndus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 10
  %81 = load ptr, ptr %this, align 8
  %82 = load i32, ptr %i, align 8
  %83 = load float, ptr %dndus, align 8
  %x2.i118 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %81, i64 0, i32 12, i32 1
  %84 = load ptr, ptr %x2.i118, align 8
  %idxprom.i120 = sext i32 %82 to i64
  %arrayidx.i121 = getelementptr inbounds float, ptr %84, i64 %idxprom.i120
  store float %83, ptr %arrayidx.i121, align 4
  %y.i122 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 10, i32 0, i32 1
  %85 = load float, ptr %y.i122, align 4
  %y4.i123 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %81, i64 0, i32 12, i32 2
  %86 = load ptr, ptr %y4.i123, align 8
  %arrayidx7.i125 = getelementptr inbounds float, ptr %86, i64 %idxprom.i120
  store float %85, ptr %arrayidx7.i125, align 4
  %z.i126 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 10, i32 0, i32 2
  %87 = load float, ptr %z.i126, align 8
  %z9.i127 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %81, i64 0, i32 12, i32 3
  %88 = load ptr, ptr %z9.i127, align 8
  %arrayidx12.i129 = getelementptr inbounds float, ptr %88, i64 %idxprom.i120
  store float %87, ptr %arrayidx12.i129, align 4
  %dndvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 11
  %89 = load ptr, ptr %this, align 8
  %90 = load i32, ptr %i, align 8
  %91 = load float, ptr %dndvs, align 4
  %x2.i132 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %89, i64 0, i32 13, i32 1
  %92 = load ptr, ptr %x2.i132, align 8
  %idxprom.i134 = sext i32 %90 to i64
  %arrayidx.i135 = getelementptr inbounds float, ptr %92, i64 %idxprom.i134
  store float %91, ptr %arrayidx.i135, align 4
  %y.i136 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 11, i32 0, i32 1
  %93 = load float, ptr %y.i136, align 8
  %y4.i137 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %89, i64 0, i32 13, i32 2
  %94 = load ptr, ptr %y4.i137, align 8
  %arrayidx7.i139 = getelementptr inbounds float, ptr %94, i64 %idxprom.i134
  store float %93, ptr %arrayidx7.i139, align 4
  %z.i140 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 11, i32 0, i32 2
  %95 = load float, ptr %z.i140, align 4
  %z9.i141 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %89, i64 0, i32 13, i32 3
  %96 = load ptr, ptr %z9.i141, align 8
  %arrayidx12.i143 = getelementptr inbounds float, ptr %96, i64 %idxprom.i134
  store float %95, ptr %arrayidx12.i143, align 4
  %wo = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 17
  %97 = load ptr, ptr %this, align 8
  %98 = load i32, ptr %i, align 8
  %99 = load float, ptr %wo, align 4
  %x2.i146 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %97, i64 0, i32 14, i32 1
  %100 = load ptr, ptr %x2.i146, align 8
  %idxprom.i148 = sext i32 %98 to i64
  %arrayidx.i149 = getelementptr inbounds float, ptr %100, i64 %idxprom.i148
  store float %99, ptr %arrayidx.i149, align 4
  %y.i150 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 17, i32 0, i32 1
  %101 = load float, ptr %y.i150, align 8
  %y4.i151 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %97, i64 0, i32 14, i32 2
  %102 = load ptr, ptr %y4.i151, align 8
  %arrayidx7.i153 = getelementptr inbounds float, ptr %102, i64 %idxprom.i148
  store float %101, ptr %arrayidx7.i153, align 4
  %z.i154 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 17, i32 0, i32 2
  %103 = load float, ptr %z.i154, align 4
  %z9.i155 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %97, i64 0, i32 14, i32 3
  %104 = load ptr, ptr %z9.i155, align 8
  %arrayidx12.i157 = getelementptr inbounds float, ptr %104, i64 %idxprom.i148
  store float %103, ptr %arrayidx12.i157, align 4
  %uv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 12
  %105 = load ptr, ptr %this, align 8
  %106 = load i32, ptr %i, align 8
  %107 = load float, ptr %uv, align 8
  %x2.i160 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %105, i64 0, i32 15, i32 1
  %108 = load ptr, ptr %x2.i160, align 8
  %idxprom.i162 = sext i32 %106 to i64
  %arrayidx.i163 = getelementptr inbounds float, ptr %108, i64 %idxprom.i162
  store float %107, ptr %arrayidx.i163, align 4
  %y.i164 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 12, i32 0, i32 1
  %109 = load float, ptr %y.i164, align 4
  %y4.i165 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %105, i64 0, i32 15, i32 2
  %110 = load ptr, ptr %y4.i165, align 8
  %arrayidx7.i167 = getelementptr inbounds float, ptr %110, i64 %idxprom.i162
  store float %109, ptr %arrayidx7.i167, align 4
  %depth = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 6
  %111 = load i32, ptr %depth, align 8
  %112 = load ptr, ptr %this, align 8
  %depth72 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %112, i64 0, i32 16
  %113 = load ptr, ptr %depth72, align 8
  %114 = load i32, ptr %i, align 8
  %idxprom74 = sext i32 %114 to i64
  %arrayidx75 = getelementptr inbounds i32, ptr %113, i64 %idxprom74
  store i32 %111, ptr %arrayidx75, align 4
  %faceIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 13
  %115 = load i32, ptr %faceIndex, align 8
  %116 = load ptr, ptr %this, align 8
  %faceIndex77 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %116, i64 0, i32 17
  %117 = load ptr, ptr %faceIndex77, align 8
  %118 = load i32, ptr %i, align 8
  %idxprom79 = sext i32 %118 to i64
  %arrayidx80 = getelementptr inbounds i32, ptr %117, i64 %idxprom79
  store i32 %115, ptr %arrayidx80, align 4
  %time = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 5
  %119 = load float, ptr %time, align 4
  %120 = load ptr, ptr %this, align 8
  %time82 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %120, i64 0, i32 18
  %121 = load ptr, ptr %time82, align 8
  %122 = load i32, ptr %i, align 8
  %idxprom84 = sext i32 %122 to i64
  %arrayidx85 = getelementptr inbounds float, ptr %121, i64 %idxprom84
  store float %119, ptr %arrayidx85, align 4
  %anyNonSpecularBounces = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 16
  %123 = load i32, ptr %anyNonSpecularBounces, align 8
  %124 = load ptr, ptr %this, align 8
  %anyNonSpecularBounces87 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %124, i64 0, i32 19
  %125 = load ptr, ptr %anyNonSpecularBounces87, align 8
  %126 = load i32, ptr %i, align 8
  %idxprom89 = sext i32 %126 to i64
  %arrayidx90 = getelementptr inbounds i32, ptr %125, i64 %idxprom89
  store i32 %123, ptr %arrayidx90, align 4
  %etaScale = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 20
  %127 = load float, ptr %etaScale, align 8
  %128 = load ptr, ptr %this, align 8
  %etaScale92 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %128, i64 0, i32 20
  %129 = load ptr, ptr %etaScale92, align 8
  %130 = load i32, ptr %i, align 8
  %idxprom94 = sext i32 %130 to i64
  %arrayidx95 = getelementptr inbounds float, ptr %129, i64 %idxprom94
  store float %127, ptr %arrayidx95, align 4
  %mediumInterface = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 21
  %131 = load ptr, ptr %this, align 8
  %132 = load i32, ptr %i, align 8
  %inside2.i = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %131, i64 0, i32 21, i32 1
  %133 = load ptr, ptr %inside2.i, align 8
  %idxprom.i171 = sext i32 %132 to i64
  %arrayidx.i172 = getelementptr inbounds %"class.pbrt::Medium", ptr %133, i64 %idxprom.i171
  %134 = load i64, ptr %mediumInterface, align 8
  store i64 %134, ptr %arrayidx.i172, align 8
  %outside.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 21, i32 1
  %outside4.i = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %131, i64 0, i32 21, i32 2
  %135 = load ptr, ptr %outside4.i, align 8
  %arrayidx7.i174 = getelementptr inbounds %"class.pbrt::Medium", ptr %135, i64 %idxprom.i171
  %136 = load i64, ptr %outside.i, align 8
  store i64 %136, ptr %arrayidx7.i174, align 8
  %pixelIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.213", ptr %a, i64 0, i32 15
  %137 = load i32, ptr %pixelIndex, align 4
  %138 = load ptr, ptr %this, align 8
  %pixelIndex102 = getelementptr inbounds %"struct.pbrt::SOA.176", ptr %138, i64 0, i32 22
  %139 = load ptr, ptr %pixelIndex102, align 8
  %140 = load i32, ptr %i, align 8
  %idxprom104 = sext i32 %140 to i64
  %arrayidx105 = getelementptr inbounds i32, ptr %139, i64 %idxprom104
  store i32 %137, ptr %arrayidx105, align 4
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt3SOAINS_20MaterialEvalWorkItemINS_11MixMaterialEEEE16GetSetIndirectoraSERKS3_(ptr noundef nonnull align 8 dereferenceable(16) %this, ptr noundef nonnull align 8 dereferenceable(256) %a) local_unnamed_addr #9 comdat align 2 {
entry:
  %0 = load ptr, ptr %a, align 8
  %1 = load ptr, ptr %this, align 8
  %material2 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %1, i64 0, i32 1
  %2 = load ptr, ptr %material2, align 8
  %i = getelementptr inbounds %"struct.pbrt::SOA<pbrt::MaterialEvalWorkItem<pbrt::MixMaterial>>::GetSetIndirector", ptr %this, i64 0, i32 1
  %3 = load i32, ptr %i, align 8
  %idxprom = sext i32 %3 to i64
  %arrayidx = getelementptr inbounds ptr, ptr %2, i64 %idxprom
  store ptr %0, ptr %arrayidx, align 8
  %lambda = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 14
  %4 = load ptr, ptr %this, align 8
  %5 = load i32, ptr %i, align 8
  %arrayidx.i23.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 14, i32 0, i32 0, i64 2
  %pdf.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 14, i32 1
  %lambda4.i = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %4, i64 0, i32 2, i32 1
  %6 = load ptr, ptr %lambda4.i, align 8
  %idx.ext.i = sext i32 %5 to i64
  %add.ptr.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %6, i64 %idx.ext.i
  %7 = load <4 x float>, ptr %lambda, align 4
  %agg.tmp.sroa.0.4.vec.insert.i = shufflevector <4 x float> %7, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %8 = load <4 x float>, ptr %arrayidx.i23.i, align 4
  %agg.tmp.sroa.3.12.vec.insert.i = shufflevector <4 x float> %8, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i, ptr %add.ptr.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %add.ptr.i, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i, align 8
  %pdf4.i = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %4, i64 0, i32 2, i32 2
  %9 = load ptr, ptr %pdf4.i, align 8
  %add.ptr21.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %9, i64 %idx.ext.i
  %10 = load <4 x float>, ptr %pdf.i, align 4
  %agg.tmp22.sroa.0.4.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp22.sroa.3.12.vec.insert.i = shufflevector <4 x float> %10, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp22.sroa.0.4.vec.insert.i, ptr %add.ptr21.i, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i28.i = getelementptr inbounds i8, ptr %add.ptr21.i, i64 8
  store <2 x float> %agg.tmp22.sroa.3.12.vec.insert.i, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i28.i, align 8
  %beta = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 18
  %11 = load ptr, ptr %this, align 8
  %12 = load i32, ptr %i, align 8
  %ptr4.i = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %11, i64 0, i32 3, i32 1
  %13 = load ptr, ptr %ptr4.i, align 8
  %idx.ext.i25 = sext i32 %12 to i64
  %add.ptr.i26 = getelementptr inbounds %"struct.pbrt::Float4", ptr %13, i64 %idx.ext.i25
  %14 = load <4 x float>, ptr %beta, align 8
  %agg.tmp.sroa.0.4.vec.insert.i27 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i28 = shufflevector <4 x float> %14, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i27, ptr %add.ptr.i26, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i29 = getelementptr inbounds i8, ptr %add.ptr.i26, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i28, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i29, align 8
  %r_u = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 19
  %15 = load ptr, ptr %this, align 8
  %16 = load i32, ptr %i, align 8
  %ptr4.i33 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %15, i64 0, i32 4, i32 1
  %17 = load ptr, ptr %ptr4.i33, align 8
  %idx.ext.i34 = sext i32 %16 to i64
  %add.ptr.i35 = getelementptr inbounds %"struct.pbrt::Float4", ptr %17, i64 %idx.ext.i34
  %18 = load <4 x float>, ptr %r_u, align 8
  %agg.tmp.sroa.0.4.vec.insert.i36 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 0, i32 1>
  %agg.tmp.sroa.3.12.vec.insert.i37 = shufflevector <4 x float> %18, <4 x float> poison, <2 x i32> <i32 2, i32 3>
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i36, ptr %add.ptr.i35, align 16
  %v.sroa.2.0.p.addr.0..sroa_idx.i.i38 = getelementptr inbounds i8, ptr %add.ptr.i35, i64 8
  store <2 x float> %agg.tmp.sroa.3.12.vec.insert.i37, ptr %v.sroa.2.0.p.addr.0..sroa_idx.i.i38, align 8
  %pi = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 1
  %19 = load ptr, ptr %this, align 8
  %20 = load i32, ptr %i, align 8
  %21 = load float, ptr %pi, align 8
  %low2.i.i = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %19, i64 0, i32 5, i32 1, i32 1
  %22 = load ptr, ptr %low2.i.i, align 8
  %idxprom.i.i = sext i32 %20 to i64
  %arrayidx.i.i = getelementptr inbounds float, ptr %22, i64 %idxprom.i.i
  store float %21, ptr %arrayidx.i.i, align 4
  %high.i.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 0, i32 1
  %23 = load float, ptr %high.i.i, align 4
  %high4.i.i = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %19, i64 0, i32 5, i32 1, i32 2
  %24 = load ptr, ptr %high4.i.i, align 8
  %arrayidx7.i.i = getelementptr inbounds float, ptr %24, i64 %idxprom.i.i
  store float %23, ptr %arrayidx7.i.i, align 4
  %y.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1
  %25 = load float, ptr %y.i, align 8
  %low2.i5.i = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %19, i64 0, i32 5, i32 2, i32 1
  %26 = load ptr, ptr %low2.i5.i, align 8
  %arrayidx.i8.i = getelementptr inbounds float, ptr %26, i64 %idxprom.i.i
  store float %25, ptr %arrayidx.i8.i, align 4
  %high.i9.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 1, i32 1
  %27 = load float, ptr %high.i9.i, align 4
  %high4.i10.i = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %19, i64 0, i32 5, i32 2, i32 2
  %28 = load ptr, ptr %high4.i10.i, align 8
  %arrayidx7.i12.i = getelementptr inbounds float, ptr %28, i64 %idxprom.i.i
  store float %27, ptr %arrayidx7.i12.i, align 4
  %z.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2
  %29 = load float, ptr %z.i, align 8
  %low2.i15.i = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %19, i64 0, i32 5, i32 3, i32 1
  %30 = load ptr, ptr %low2.i15.i, align 8
  %arrayidx.i18.i = getelementptr inbounds float, ptr %30, i64 %idxprom.i.i
  store float %29, ptr %arrayidx.i18.i, align 4
  %high.i19.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 1, i32 0, i32 0, i32 2, i32 1
  %31 = load float, ptr %high.i19.i, align 4
  %high4.i20.i = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %19, i64 0, i32 5, i32 3, i32 2
  %32 = load ptr, ptr %high4.i20.i, align 8
  %arrayidx7.i22.i = getelementptr inbounds float, ptr %32, i64 %idxprom.i.i
  store float %31, ptr %arrayidx7.i22.i, align 4
  %n = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 2
  %33 = load ptr, ptr %this, align 8
  %34 = load i32, ptr %i, align 8
  %35 = load float, ptr %n, align 8
  %x2.i = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %33, i64 0, i32 6, i32 1
  %36 = load ptr, ptr %x2.i, align 8
  %idxprom.i = sext i32 %34 to i64
  %arrayidx.i = getelementptr inbounds float, ptr %36, i64 %idxprom.i
  store float %35, ptr %arrayidx.i, align 4
  %y.i44 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 2, i32 0, i32 1
  %37 = load float, ptr %y.i44, align 4
  %y4.i = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %33, i64 0, i32 6, i32 2
  %38 = load ptr, ptr %y4.i, align 8
  %arrayidx7.i = getelementptr inbounds float, ptr %38, i64 %idxprom.i
  store float %37, ptr %arrayidx7.i, align 4
  %z.i45 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 2, i32 0, i32 2
  %39 = load float, ptr %z.i45, align 8
  %z9.i = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %33, i64 0, i32 6, i32 3
  %40 = load ptr, ptr %z9.i, align 8
  %arrayidx12.i = getelementptr inbounds float, ptr %40, i64 %idxprom.i
  store float %39, ptr %arrayidx12.i, align 4
  %ns = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 7
  %41 = load ptr, ptr %this, align 8
  %42 = load i32, ptr %i, align 8
  %43 = load float, ptr %ns, align 4
  %x2.i48 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %41, i64 0, i32 7, i32 1
  %44 = load ptr, ptr %x2.i48, align 8
  %idxprom.i50 = sext i32 %42 to i64
  %arrayidx.i51 = getelementptr inbounds float, ptr %44, i64 %idxprom.i50
  store float %43, ptr %arrayidx.i51, align 4
  %y.i52 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 7, i32 0, i32 1
  %45 = load float, ptr %y.i52, align 8
  %y4.i53 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %41, i64 0, i32 7, i32 2
  %46 = load ptr, ptr %y4.i53, align 8
  %arrayidx7.i55 = getelementptr inbounds float, ptr %46, i64 %idxprom.i50
  store float %45, ptr %arrayidx7.i55, align 4
  %z.i56 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 7, i32 0, i32 2
  %47 = load float, ptr %z.i56, align 4
  %z9.i57 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %41, i64 0, i32 7, i32 3
  %48 = load ptr, ptr %z9.i57, align 8
  %arrayidx12.i59 = getelementptr inbounds float, ptr %48, i64 %idxprom.i50
  store float %47, ptr %arrayidx12.i59, align 4
  %dpdu = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 3
  %49 = load ptr, ptr %this, align 8
  %50 = load i32, ptr %i, align 8
  %51 = load float, ptr %dpdu, align 4
  %x2.i62 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %49, i64 0, i32 8, i32 1
  %52 = load ptr, ptr %x2.i62, align 8
  %idxprom.i64 = sext i32 %50 to i64
  %arrayidx.i65 = getelementptr inbounds float, ptr %52, i64 %idxprom.i64
  store float %51, ptr %arrayidx.i65, align 4
  %y.i66 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 3, i32 0, i32 1
  %53 = load float, ptr %y.i66, align 8
  %y4.i67 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %49, i64 0, i32 8, i32 2
  %54 = load ptr, ptr %y4.i67, align 8
  %arrayidx7.i69 = getelementptr inbounds float, ptr %54, i64 %idxprom.i64
  store float %53, ptr %arrayidx7.i69, align 4
  %z.i70 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 3, i32 0, i32 2
  %55 = load float, ptr %z.i70, align 4
  %z9.i71 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %49, i64 0, i32 8, i32 3
  %56 = load ptr, ptr %z9.i71, align 8
  %arrayidx12.i73 = getelementptr inbounds float, ptr %56, i64 %idxprom.i64
  store float %55, ptr %arrayidx12.i73, align 4
  %dpdv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 4
  %57 = load ptr, ptr %this, align 8
  %58 = load i32, ptr %i, align 8
  %59 = load float, ptr %dpdv, align 8
  %x2.i76 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %57, i64 0, i32 9, i32 1
  %60 = load ptr, ptr %x2.i76, align 8
  %idxprom.i78 = sext i32 %58 to i64
  %arrayidx.i79 = getelementptr inbounds float, ptr %60, i64 %idxprom.i78
  store float %59, ptr %arrayidx.i79, align 4
  %y.i80 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 4, i32 0, i32 1
  %61 = load float, ptr %y.i80, align 4
  %y4.i81 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %57, i64 0, i32 9, i32 2
  %62 = load ptr, ptr %y4.i81, align 8
  %arrayidx7.i83 = getelementptr inbounds float, ptr %62, i64 %idxprom.i78
  store float %61, ptr %arrayidx7.i83, align 4
  %z.i84 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 4, i32 0, i32 2
  %63 = load float, ptr %z.i84, align 8
  %z9.i85 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %57, i64 0, i32 9, i32 3
  %64 = load ptr, ptr %z9.i85, align 8
  %arrayidx12.i87 = getelementptr inbounds float, ptr %64, i64 %idxprom.i78
  store float %63, ptr %arrayidx12.i87, align 4
  %dpdus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 8
  %65 = load ptr, ptr %this, align 8
  %66 = load i32, ptr %i, align 8
  %67 = load float, ptr %dpdus, align 8
  %x2.i90 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %65, i64 0, i32 10, i32 1
  %68 = load ptr, ptr %x2.i90, align 8
  %idxprom.i92 = sext i32 %66 to i64
  %arrayidx.i93 = getelementptr inbounds float, ptr %68, i64 %idxprom.i92
  store float %67, ptr %arrayidx.i93, align 4
  %y.i94 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 8, i32 0, i32 1
  %69 = load float, ptr %y.i94, align 4
  %y4.i95 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %65, i64 0, i32 10, i32 2
  %70 = load ptr, ptr %y4.i95, align 8
  %arrayidx7.i97 = getelementptr inbounds float, ptr %70, i64 %idxprom.i92
  store float %69, ptr %arrayidx7.i97, align 4
  %z.i98 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 8, i32 0, i32 2
  %71 = load float, ptr %z.i98, align 8
  %z9.i99 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %65, i64 0, i32 10, i32 3
  %72 = load ptr, ptr %z9.i99, align 8
  %arrayidx12.i101 = getelementptr inbounds float, ptr %72, i64 %idxprom.i92
  store float %71, ptr %arrayidx12.i101, align 4
  %dpdvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 9
  %73 = load ptr, ptr %this, align 8
  %74 = load i32, ptr %i, align 8
  %75 = load float, ptr %dpdvs, align 4
  %x2.i104 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %73, i64 0, i32 11, i32 1
  %76 = load ptr, ptr %x2.i104, align 8
  %idxprom.i106 = sext i32 %74 to i64
  %arrayidx.i107 = getelementptr inbounds float, ptr %76, i64 %idxprom.i106
  store float %75, ptr %arrayidx.i107, align 4
  %y.i108 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 9, i32 0, i32 1
  %77 = load float, ptr %y.i108, align 8
  %y4.i109 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %73, i64 0, i32 11, i32 2
  %78 = load ptr, ptr %y4.i109, align 8
  %arrayidx7.i111 = getelementptr inbounds float, ptr %78, i64 %idxprom.i106
  store float %77, ptr %arrayidx7.i111, align 4
  %z.i112 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 9, i32 0, i32 2
  %79 = load float, ptr %z.i112, align 4
  %z9.i113 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %73, i64 0, i32 11, i32 3
  %80 = load ptr, ptr %z9.i113, align 8
  %arrayidx12.i115 = getelementptr inbounds float, ptr %80, i64 %idxprom.i106
  store float %79, ptr %arrayidx12.i115, align 4
  %dndus = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 10
  %81 = load ptr, ptr %this, align 8
  %82 = load i32, ptr %i, align 8
  %83 = load float, ptr %dndus, align 8
  %x2.i118 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %81, i64 0, i32 12, i32 1
  %84 = load ptr, ptr %x2.i118, align 8
  %idxprom.i120 = sext i32 %82 to i64
  %arrayidx.i121 = getelementptr inbounds float, ptr %84, i64 %idxprom.i120
  store float %83, ptr %arrayidx.i121, align 4
  %y.i122 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 10, i32 0, i32 1
  %85 = load float, ptr %y.i122, align 4
  %y4.i123 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %81, i64 0, i32 12, i32 2
  %86 = load ptr, ptr %y4.i123, align 8
  %arrayidx7.i125 = getelementptr inbounds float, ptr %86, i64 %idxprom.i120
  store float %85, ptr %arrayidx7.i125, align 4
  %z.i126 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 10, i32 0, i32 2
  %87 = load float, ptr %z.i126, align 8
  %z9.i127 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %81, i64 0, i32 12, i32 3
  %88 = load ptr, ptr %z9.i127, align 8
  %arrayidx12.i129 = getelementptr inbounds float, ptr %88, i64 %idxprom.i120
  store float %87, ptr %arrayidx12.i129, align 4
  %dndvs = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 11
  %89 = load ptr, ptr %this, align 8
  %90 = load i32, ptr %i, align 8
  %91 = load float, ptr %dndvs, align 4
  %x2.i132 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %89, i64 0, i32 13, i32 1
  %92 = load ptr, ptr %x2.i132, align 8
  %idxprom.i134 = sext i32 %90 to i64
  %arrayidx.i135 = getelementptr inbounds float, ptr %92, i64 %idxprom.i134
  store float %91, ptr %arrayidx.i135, align 4
  %y.i136 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 11, i32 0, i32 1
  %93 = load float, ptr %y.i136, align 8
  %y4.i137 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %89, i64 0, i32 13, i32 2
  %94 = load ptr, ptr %y4.i137, align 8
  %arrayidx7.i139 = getelementptr inbounds float, ptr %94, i64 %idxprom.i134
  store float %93, ptr %arrayidx7.i139, align 4
  %z.i140 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 11, i32 0, i32 2
  %95 = load float, ptr %z.i140, align 4
  %z9.i141 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %89, i64 0, i32 13, i32 3
  %96 = load ptr, ptr %z9.i141, align 8
  %arrayidx12.i143 = getelementptr inbounds float, ptr %96, i64 %idxprom.i134
  store float %95, ptr %arrayidx12.i143, align 4
  %wo = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 17
  %97 = load ptr, ptr %this, align 8
  %98 = load i32, ptr %i, align 8
  %99 = load float, ptr %wo, align 4
  %x2.i146 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %97, i64 0, i32 14, i32 1
  %100 = load ptr, ptr %x2.i146, align 8
  %idxprom.i148 = sext i32 %98 to i64
  %arrayidx.i149 = getelementptr inbounds float, ptr %100, i64 %idxprom.i148
  store float %99, ptr %arrayidx.i149, align 4
  %y.i150 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 17, i32 0, i32 1
  %101 = load float, ptr %y.i150, align 8
  %y4.i151 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %97, i64 0, i32 14, i32 2
  %102 = load ptr, ptr %y4.i151, align 8
  %arrayidx7.i153 = getelementptr inbounds float, ptr %102, i64 %idxprom.i148
  store float %101, ptr %arrayidx7.i153, align 4
  %z.i154 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 17, i32 0, i32 2
  %103 = load float, ptr %z.i154, align 4
  %z9.i155 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %97, i64 0, i32 14, i32 3
  %104 = load ptr, ptr %z9.i155, align 8
  %arrayidx12.i157 = getelementptr inbounds float, ptr %104, i64 %idxprom.i148
  store float %103, ptr %arrayidx12.i157, align 4
  %uv = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 12
  %105 = load ptr, ptr %this, align 8
  %106 = load i32, ptr %i, align 8
  %107 = load float, ptr %uv, align 8
  %x2.i160 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %105, i64 0, i32 15, i32 1
  %108 = load ptr, ptr %x2.i160, align 8
  %idxprom.i162 = sext i32 %106 to i64
  %arrayidx.i163 = getelementptr inbounds float, ptr %108, i64 %idxprom.i162
  store float %107, ptr %arrayidx.i163, align 4
  %y.i164 = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 12, i32 0, i32 1
  %109 = load float, ptr %y.i164, align 4
  %y4.i165 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %105, i64 0, i32 15, i32 2
  %110 = load ptr, ptr %y4.i165, align 8
  %arrayidx7.i167 = getelementptr inbounds float, ptr %110, i64 %idxprom.i162
  store float %109, ptr %arrayidx7.i167, align 4
  %depth = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 6
  %111 = load i32, ptr %depth, align 8
  %112 = load ptr, ptr %this, align 8
  %depth72 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %112, i64 0, i32 16
  %113 = load ptr, ptr %depth72, align 8
  %114 = load i32, ptr %i, align 8
  %idxprom74 = sext i32 %114 to i64
  %arrayidx75 = getelementptr inbounds i32, ptr %113, i64 %idxprom74
  store i32 %111, ptr %arrayidx75, align 4
  %faceIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 13
  %115 = load i32, ptr %faceIndex, align 8
  %116 = load ptr, ptr %this, align 8
  %faceIndex77 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %116, i64 0, i32 17
  %117 = load ptr, ptr %faceIndex77, align 8
  %118 = load i32, ptr %i, align 8
  %idxprom79 = sext i32 %118 to i64
  %arrayidx80 = getelementptr inbounds i32, ptr %117, i64 %idxprom79
  store i32 %115, ptr %arrayidx80, align 4
  %time = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 5
  %119 = load float, ptr %time, align 4
  %120 = load ptr, ptr %this, align 8
  %time82 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %120, i64 0, i32 18
  %121 = load ptr, ptr %time82, align 8
  %122 = load i32, ptr %i, align 8
  %idxprom84 = sext i32 %122 to i64
  %arrayidx85 = getelementptr inbounds float, ptr %121, i64 %idxprom84
  store float %119, ptr %arrayidx85, align 4
  %anyNonSpecularBounces = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 16
  %123 = load i32, ptr %anyNonSpecularBounces, align 8
  %124 = load ptr, ptr %this, align 8
  %anyNonSpecularBounces87 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %124, i64 0, i32 19
  %125 = load ptr, ptr %anyNonSpecularBounces87, align 8
  %126 = load i32, ptr %i, align 8
  %idxprom89 = sext i32 %126 to i64
  %arrayidx90 = getelementptr inbounds i32, ptr %125, i64 %idxprom89
  store i32 %123, ptr %arrayidx90, align 4
  %etaScale = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 20
  %127 = load float, ptr %etaScale, align 8
  %128 = load ptr, ptr %this, align 8
  %etaScale92 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %128, i64 0, i32 20
  %129 = load ptr, ptr %etaScale92, align 8
  %130 = load i32, ptr %i, align 8
  %idxprom94 = sext i32 %130 to i64
  %arrayidx95 = getelementptr inbounds float, ptr %129, i64 %idxprom94
  store float %127, ptr %arrayidx95, align 4
  %mediumInterface = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 21
  %131 = load ptr, ptr %this, align 8
  %132 = load i32, ptr %i, align 8
  %inside2.i = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %131, i64 0, i32 21, i32 1
  %133 = load ptr, ptr %inside2.i, align 8
  %idxprom.i171 = sext i32 %132 to i64
  %arrayidx.i172 = getelementptr inbounds %"class.pbrt::Medium", ptr %133, i64 %idxprom.i171
  %134 = load i64, ptr %mediumInterface, align 8
  store i64 %134, ptr %arrayidx.i172, align 8
  %outside.i = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 21, i32 1
  %outside4.i = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %131, i64 0, i32 21, i32 2
  %135 = load ptr, ptr %outside4.i, align 8
  %arrayidx7.i174 = getelementptr inbounds %"class.pbrt::Medium", ptr %135, i64 %idxprom.i171
  %136 = load i64, ptr %outside.i, align 8
  store i64 %136, ptr %arrayidx7.i174, align 8
  %pixelIndex = getelementptr inbounds %"struct.pbrt::MaterialEvalWorkItem.214", ptr %a, i64 0, i32 15
  %137 = load i32, ptr %pixelIndex, align 4
  %138 = load ptr, ptr %this, align 8
  %pixelIndex102 = getelementptr inbounds %"struct.pbrt::SOA.173", ptr %138, i64 0, i32 22
  %139 = load ptr, ptr %pixelIndex102, align 8
  %140 = load i32, ptr %i, align 8
  %idxprom104 = sext i32 %140 to i64
  %arrayidx105 = getelementptr inbounds i32, ptr %139, i64 %idxprom104
  store i32 %137, ptr %arrayidx105, align 4
  ret void
}

; Function Attrs: mustprogress noreturn uwtable
define linkonce_odr dso_local void @_ZN4pbrt8LogFatalIJRA4_KcEEEvNS_8LogLevelEPS1_iS5_DpOT_(i32 noundef %level, ptr noundef %file, i32 noundef %line, ptr noundef %fmt, ptr noundef nonnull align 1 dereferenceable(4) %args) local_unnamed_addr #11 comdat personality ptr @__gxx_personality_v0 {
entry:
  %s = alloca %"class.std::__cxx11::basic_string", align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(32) %s) #25
  invoke void @_ZN4pbrt6detail21stringPrintfRecursiveIRA4_KcJEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS2_OT_DpOT0_(ptr noundef nonnull %s, ptr noundef %fmt, ptr noundef nonnull align 1 dereferenceable(4) %args)
          to label %_ZN4pbrt12StringPrintfIJRA4_KcEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS1_DpOT_.exit unwind label %lpad.i

common.resume:                                    ; preds = %lpad, %lpad.i
  %common.resume.op = phi { ptr, i32 } [ %0, %lpad.i ], [ %1, %lpad ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %s) #25
  resume { ptr, i32 } %common.resume.op

lpad.i:                                           ; preds = %entry
  %0 = landingpad { ptr, i32 }
          cleanup
  br label %common.resume

_ZN4pbrt12StringPrintfIJRA4_KcEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS1_DpOT_.exit: ; preds = %entry
  %call = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %s) #25
  invoke void @_ZN4pbrt8LogFatalENS_8LogLevelEPKciS2_(i32 noundef %level, ptr noundef %file, i32 noundef %line, ptr noundef %call) #24
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %_ZN4pbrt12StringPrintfIJRA4_KcEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS1_DpOT_.exit
  unreachable

lpad:                                             ; preds = %_ZN4pbrt12StringPrintfIJRA4_KcEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS1_DpOT_.exit
  %1 = landingpad { ptr, i32 }
          cleanup
  br label %common.resume
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail21stringPrintfRecursiveIRA4_KcJEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS2_OT_DpOT0_(ptr noundef %s, ptr noundef %fmt, ptr noundef nonnull align 1 dereferenceable(4) %v) local_unnamed_addr #1 comdat personality ptr @__gxx_personality_v0 {
entry:
  %fmt.addr = alloca ptr, align 8
  %nextFmt = alloca %"class.std::__cxx11::basic_string", align 8
  %ss = alloca %"class.std::__cxx11::basic_stringstream", align 8
  %ref.tmp = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp18 = alloca ptr, align 8
  %ref.tmp19 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp30 = alloca %"class.std::__cxx11::basic_string", align 8
  store ptr %fmt, ptr %fmt.addr, align 8
  call void @_ZN4pbrt6detail18copyToFormatStringEPPKcPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %nextFmt, ptr noundef nonnull %fmt.addr, ptr noundef %s)
  %call = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 42, i64 noundef 0) #25
  %cmp.not = icmp eq i64 %call, -1
  %call1 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 115, i64 noundef 0) #25
  %cmp2.not = icmp eq i64 %call1, -1
  %call4 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 100, i64 noundef 0) #25
  br i1 %cmp.not, label %if.end, label %if.else37.invoke

lpad:                                             ; preds = %if.else37.invoke, %done, %if.then29, %if.then12
  %0 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup42

if.end:                                           ; preds = %entry
  %cmp5.not = icmp eq i64 %call4, -1
  br i1 %cmp5.not, label %if.end10, label %if.else37.invoke

if.end10:                                         ; preds = %if.end
  br i1 %cmp2.not, label %if.else, label %if.then12

if.then12:                                        ; preds = %if.end10
  invoke void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont13 unwind label %lpad

invoke.cont13:                                    ; preds = %if.then12
  %add.ptr = getelementptr inbounds i8, ptr %ss, i64 16
  %call16 = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr, ptr noundef nonnull %v)
          to label %invoke.cont15 unwind label %lpad14

invoke.cont15:                                    ; preds = %invoke.cont13
  %call17 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZNKSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEE3strEv(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp19, ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont20 unwind label %lpad14

invoke.cont20:                                    ; preds = %invoke.cont15
  %call21 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp19) #25
  store ptr %call21, ptr %ref.tmp18, align 8
  invoke void @_ZN4pbrt6detail9formatOneIPKcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeES3_OS6_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp, ptr noundef %call17, ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp18)
          to label %invoke.cont23 unwind label %lpad22

invoke.cont23:                                    ; preds = %invoke.cont20
  %call26 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp)
          to label %invoke.cont25 unwind label %lpad24

invoke.cont25:                                    ; preds = %invoke.cont23
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp19) #25
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %done

lpad14:                                           ; preds = %invoke.cont15, %invoke.cont13
  %1 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup27

lpad22:                                           ; preds = %invoke.cont20
  %2 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad24:                                           ; preds = %invoke.cont23
  %3 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad24, %lpad22
  %.pn = phi { ptr, i32 } [ %3, %lpad24 ], [ %2, %lpad22 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp19) #25
  br label %ehcleanup27

ehcleanup27:                                      ; preds = %ehcleanup, %lpad14
  %.pn.pn = phi { ptr, i32 } [ %.pn, %ehcleanup ], [ %1, %lpad14 ]
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %ehcleanup42

if.else:                                          ; preds = %if.end10
  %call28 = call noundef zeroext i1 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5emptyEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  br i1 %call28, label %if.else37.invoke, label %if.then29

if.then29:                                        ; preds = %if.else
  %call31 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZN4pbrt6detail9formatOneIRA4_KcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPS2_OS7_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp30, ptr noundef %call31, ptr noundef nonnull align 1 dereferenceable(4) %v)
          to label %invoke.cont32 unwind label %lpad

invoke.cont32:                                    ; preds = %if.then29
  %call35 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp30)
          to label %invoke.cont34 unwind label %lpad33

invoke.cont34:                                    ; preds = %invoke.cont32
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp30) #25
  br label %done

lpad33:                                           ; preds = %invoke.cont32
  %4 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp30) #25
  br label %ehcleanup42

if.else37.invoke:                                 ; preds = %entry, %if.else, %if.end
  %5 = phi i32 [ 257, %if.end ], [ 266, %if.else ], [ 229, %entry ]
  %6 = phi ptr [ @.str.12, %if.end ], [ @.str.13, %if.else ], [ @.str.11, %entry ]
  invoke void @_ZN4pbrt8LogFatalENS_8LogLevelEPKciS2_(i32 noundef 2, ptr noundef nonnull @.str.10, i32 noundef %5, ptr noundef nonnull %6) #24
          to label %if.else37.cont unwind label %lpad

if.else37.cont:                                   ; preds = %if.else37.invoke
  unreachable

done:                                             ; preds = %invoke.cont25, %invoke.cont34
  %7 = load ptr, ptr %fmt.addr, align 8
  invoke void @_ZN4pbrt6detail21stringPrintfRecursiveEPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPKc(ptr noundef %s, ptr noundef %7)
          to label %invoke.cont41 unwind label %lpad

invoke.cont41:                                    ; preds = %done
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  ret void

ehcleanup42:                                      ; preds = %lpad33, %ehcleanup27, %lpad
  %.pn7 = phi { ptr, i32 } [ %0, %lpad ], [ %.pn.pn, %ehcleanup27 ], [ %4, %lpad33 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  resume { ptr, i32 } %.pn7
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail9formatOneIRA4_KcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPS2_OS7_(ptr noalias sret(%"class.std::__cxx11::basic_string") align 8 %agg.result, ptr noundef %fmt, ptr noundef nonnull align 1 dereferenceable(4) %v) local_unnamed_addr #1 comdat personality ptr @__gxx_personality_v0 {
entry:
  %call = tail call i32 (ptr, i64, ptr, ...) @snprintf(ptr noundef null, i64 noundef 0, ptr noundef %fmt, ptr noundef nonnull %v) #25
  %add = add nsw i32 %call, 1
  %conv = sext i32 %add to i64
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE6resizeEm(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, i64 noundef %conv)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  %call2 = invoke noundef nonnull align 1 dereferenceable(1) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEixEm(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, i64 noundef 0)
          to label %invoke.cont1 unwind label %lpad

invoke.cont1:                                     ; preds = %invoke.cont
  %call4 = tail call i32 (ptr, i64, ptr, ...) @snprintf(ptr noundef nonnull %call2, i64 noundef %conv, ptr noundef %fmt, ptr noundef nonnull %v) #25
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE8pop_backEv(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  ret void

lpad:                                             ; preds = %invoke.cont, %entry
  %0 = landingpad { ptr, i32 }
          cleanup
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  resume { ptr, i32 } %0
}

; Function Attrs: mustprogress uwtable
define internal void @"_ZNSt17_Function_handlerIFvlEZNK4pbrt12CPUAggregate15IntersectShadowEiPNS1_9WorkQueueINS1_17ShadowRayWorkItemEEEPNS1_3SOAINS1_16PixelSampleStateEEEE3$_0E9_M_invokeERKSt9_Any_dataOl"(ptr nocapture noundef nonnull readonly align 8 dereferenceable(16) %__functor, ptr nocapture noundef nonnull readonly align 8 dereferenceable(8) %__args) #9 align 2 {
entry:
  %ret.i15.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i2.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %Ld.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %w.i.i.i = alloca %"struct.pbrt::ShadowRayWorkItem", align 8
  %agg.tmp.i.i.i = alloca %"struct.pbrt::ShadowRayWorkItem", align 8
  %__functor.val = load ptr, ptr %__functor, align 8
  %__args.val = load i64, ptr %__args, align 8
  call void @llvm.lifetime.start.p0(i64 128, ptr nonnull %w.i.i.i)
  call void @llvm.lifetime.start.p0(i64 128, ptr nonnull %agg.tmp.i.i.i)
  %0 = getelementptr inbounds %class.anon.110, ptr %__functor.val, i64 0, i32 1
  %1 = load ptr, ptr %0, align 8
  %2 = load ptr, ptr %__functor.val, align 8
  tail call void @llvm.experimental.noalias.scope.decl(metadata !74)
  %medium.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Ray", ptr %w.i.i.i, i64 0, i32 3
  %lambda.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::ShadowRayWorkItem", ptr %w.i.i.i, i64 0, i32 2
  %x.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 1, i32 1, i32 1
  %3 = load ptr, ptr %x.i.i.i.i.i.i, align 8, !noalias !77
  %sext.i.i = shl i64 %__args.val, 32
  %idxprom.i.i.i.i.i.i = ashr exact i64 %sext.i.i, 32
  %arrayidx.i.i.i.i.i.i = getelementptr inbounds float, ptr %3, i64 %idxprom.i.i.i.i.i.i
  %4 = load float, ptr %arrayidx.i.i.i.i.i.i, align 4, !noalias !77
  %retval.sroa.0.0.vec.insert.i.i.i.i.i.i = insertelement <2 x float> poison, float %4, i64 0
  %y.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 1, i32 1, i32 2
  %5 = load ptr, ptr %y.i.i.i.i.i.i, align 8, !noalias !77
  %arrayidx6.i.i.i.i.i.i = getelementptr inbounds float, ptr %5, i64 %idxprom.i.i.i.i.i.i
  %6 = load float, ptr %arrayidx6.i.i.i.i.i.i, align 4, !noalias !77
  %retval.sroa.0.4.vec.insert.i.i.i.i.i.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i.i.i.i.i.i, float %6, i64 1
  %z.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 1, i32 1, i32 3
  %7 = load ptr, ptr %z.i.i.i.i.i.i, align 8, !noalias !77
  %arrayidx11.i.i.i.i.i.i = getelementptr inbounds float, ptr %7, i64 %idxprom.i.i.i.i.i.i
  %8 = load float, ptr %arrayidx11.i.i.i.i.i.i, align 4, !noalias !77
  %x.i5.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 1, i32 2, i32 1
  %9 = load ptr, ptr %x.i5.i.i.i.i.i, align 8, !noalias !77
  %arrayidx.i8.i.i.i.i.i = getelementptr inbounds float, ptr %9, i64 %idxprom.i.i.i.i.i.i
  %10 = load float, ptr %arrayidx.i8.i.i.i.i.i, align 4, !noalias !77
  %retval.sroa.0.0.vec.insert.i9.i.i.i.i.i = insertelement <2 x float> poison, float %10, i64 0
  %y.i10.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 1, i32 2, i32 2
  %11 = load ptr, ptr %y.i10.i.i.i.i.i, align 8, !noalias !77
  %arrayidx6.i11.i.i.i.i.i = getelementptr inbounds float, ptr %11, i64 %idxprom.i.i.i.i.i.i
  %12 = load float, ptr %arrayidx6.i11.i.i.i.i.i, align 4, !noalias !77
  %retval.sroa.0.4.vec.insert.i12.i.i.i.i.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i9.i.i.i.i.i, float %12, i64 1
  %z.i13.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 1, i32 2, i32 3
  %13 = load ptr, ptr %z.i13.i.i.i.i.i, align 8, !noalias !77
  %arrayidx11.i14.i.i.i.i.i = getelementptr inbounds float, ptr %13, i64 %idxprom.i.i.i.i.i.i
  %14 = load float, ptr %arrayidx11.i14.i.i.i.i.i, align 4, !noalias !77
  %time.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 1, i32 3
  %15 = load ptr, ptr %time.i.i.i.i.i, align 8, !noalias !77
  %arrayidx.i.i.i.i.i = getelementptr inbounds float, ptr %15, i64 %idxprom.i.i.i.i.i.i
  %16 = load float, ptr %arrayidx.i.i.i.i.i, align 4, !noalias !77
  %medium.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 1, i32 4
  %17 = load ptr, ptr %medium.i.i.i.i.i, align 8, !noalias !77
  %arrayidx20.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Medium", ptr %17, i64 %idxprom.i.i.i.i.i.i
  %18 = load i64, ptr %arrayidx20.i.i.i.i.i, align 8, !noalias !77
  store <2 x float> %retval.sroa.0.4.vec.insert.i.i.i.i.i.i, ptr %w.i.i.i, align 8, !alias.scope !74
  %ref.tmp.sroa.2.0.agg.result.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %w.i.i.i, i64 8
  store float %8, ptr %ref.tmp.sroa.2.0.agg.result.sroa_idx.i.i.i.i, align 8, !alias.scope !74
  %ref.tmp.sroa.3.0.agg.result.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %w.i.i.i, i64 12
  store <2 x float> %retval.sroa.0.4.vec.insert.i12.i.i.i.i.i, ptr %ref.tmp.sroa.3.0.agg.result.sroa_idx.i.i.i.i, align 4, !alias.scope !74
  %ref.tmp.sroa.4.0.agg.result.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %w.i.i.i, i64 20
  store float %14, ptr %ref.tmp.sroa.4.0.agg.result.sroa_idx.i.i.i.i, align 4, !alias.scope !74
  %ref.tmp.sroa.5.0.agg.result.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %w.i.i.i, i64 24
  store float %16, ptr %ref.tmp.sroa.5.0.agg.result.sroa_idx.i.i.i.i, align 8, !alias.scope !74
  store i64 %18, ptr %medium.i.i.i.i.i.i, align 8, !alias.scope !74
  %tMax.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 2
  %19 = load ptr, ptr %tMax.i.i.i.i, align 8, !noalias !74
  %arrayidx.i.i.i.i = getelementptr inbounds float, ptr %19, i64 %idxprom.i.i.i.i.i.i
  %20 = load float, ptr %arrayidx.i.i.i.i, align 4, !noalias !74
  %tMax7.i.i.i.i = getelementptr inbounds %"struct.pbrt::ShadowRayWorkItem", ptr %w.i.i.i, i64 0, i32 1
  store float %20, ptr %tMax7.i.i.i.i, align 8, !alias.scope !74
  %lambda4.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 3, i32 1
  %21 = load ptr, ptr %lambda4.i.i.i.i.i.i.i, align 8, !noalias !80
  %pdf4.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 3, i32 2
  %22 = load ptr, ptr %pdf4.i.i.i.i.i.i.i, align 8, !noalias !80
  %add.ptr.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %21, i64 %idxprom.i.i.i.i.i.i
  %retval.sroa.0.0.copyload.i.i.i.i.i.i.i.i = load <2 x float>, ptr %add.ptr.i.i.i.i.i.i.i, align 16, !noalias !80
  %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i.i.i.i.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i.i.i.i.i, align 8, !noalias !80
  %add.ptr4.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %22, i64 %idxprom.i.i.i.i.i.i
  %retval.sroa.0.0.copyload.i11.i.i.i.i.i.i.i = load <2 x float>, ptr %add.ptr4.i.i.i.i.i.i.i, align 16, !noalias !80
  %retval.sroa.2.0.p.addr.0..sroa_idx.i12.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %add.ptr4.i.i.i.i.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i13.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i12.i.i.i.i.i.i.i, align 8, !noalias !80
  store <2 x float> %retval.sroa.0.0.copyload.i.i.i.i.i.i.i.i, ptr %lambda.i.i.i.i.i, align 4, !alias.scope !74
  %ref.tmp8.sroa.2.0.lambda13.sroa_idx.i.i.i.i = getelementptr inbounds %"struct.pbrt::ShadowRayWorkItem", ptr %w.i.i.i, i64 0, i32 2, i32 0, i32 0, i64 2
  store <2 x float> %retval.sroa.2.0.copyload.i.i.i.i.i.i.i.i, ptr %ref.tmp8.sroa.2.0.lambda13.sroa_idx.i.i.i.i, align 4, !alias.scope !74
  %ref.tmp8.sroa.3.0.lambda13.sroa_idx.i.i.i.i = getelementptr inbounds %"struct.pbrt::ShadowRayWorkItem", ptr %w.i.i.i, i64 0, i32 2, i32 1
  store <2 x float> %retval.sroa.0.0.copyload.i11.i.i.i.i.i.i.i, ptr %ref.tmp8.sroa.3.0.lambda13.sroa_idx.i.i.i.i, align 4, !alias.scope !74
  %ref.tmp8.sroa.4.0.lambda13.sroa_idx.i.i.i.i = getelementptr inbounds %"struct.pbrt::ShadowRayWorkItem", ptr %w.i.i.i, i64 0, i32 2, i32 1, i32 0, i64 2
  store <2 x float> %retval.sroa.2.0.copyload.i13.i.i.i.i.i.i.i, ptr %ref.tmp8.sroa.4.0.lambda13.sroa_idx.i.i.i.i, align 4, !alias.scope !74
  %ptr4.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 4, i32 1
  %23 = load ptr, ptr %ptr4.i.i.i.i.i.i.i, align 8, !noalias !74
  %add.ptr.i.i.i9.i.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %23, i64 %idxprom.i.i.i.i.i.i
  %retval.sroa.0.0.copyload.i.i.i.i10.i.i.i.i = load <2 x float>, ptr %add.ptr.i.i.i9.i.i.i.i, align 16, !noalias !74
  %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i11.i.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i.i.i9.i.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i.i.i.i12.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i11.i.i.i.i, align 8, !noalias !74
  %Ld21.i.i.i.i = getelementptr inbounds %"struct.pbrt::ShadowRayWorkItem", ptr %w.i.i.i, i64 0, i32 3
  store <2 x float> %retval.sroa.0.0.copyload.i.i.i.i10.i.i.i.i, ptr %Ld21.i.i.i.i, align 4, !alias.scope !74
  %ref.tmp14.sroa.2.0.Ld21.sroa_idx.i.i.i.i = getelementptr inbounds %"struct.pbrt::ShadowRayWorkItem", ptr %w.i.i.i, i64 0, i32 3, i32 0, i32 0, i64 2
  store <2 x float> %retval.sroa.2.0.copyload.i.i.i.i12.i.i.i.i, ptr %ref.tmp14.sroa.2.0.Ld21.sroa_idx.i.i.i.i, align 4, !alias.scope !74
  %ptr4.i.i.i16.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 5, i32 1
  %24 = load ptr, ptr %ptr4.i.i.i16.i.i.i.i, align 8, !noalias !74
  %add.ptr.i.i.i18.i.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %24, i64 %idxprom.i.i.i.i.i.i
  %retval.sroa.0.0.copyload.i.i.i.i19.i.i.i.i = load <2 x float>, ptr %add.ptr.i.i.i18.i.i.i.i, align 16, !noalias !74
  %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i20.i.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i.i.i18.i.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i.i.i.i21.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i20.i.i.i.i, align 8, !noalias !74
  %r_u30.i.i.i.i = getelementptr inbounds %"struct.pbrt::ShadowRayWorkItem", ptr %w.i.i.i, i64 0, i32 4
  store <2 x float> %retval.sroa.0.0.copyload.i.i.i.i19.i.i.i.i, ptr %r_u30.i.i.i.i, align 4, !alias.scope !74
  %ref.tmp22.sroa.2.0.r_u30.sroa_idx.i.i.i.i = getelementptr inbounds %"struct.pbrt::ShadowRayWorkItem", ptr %w.i.i.i, i64 0, i32 4, i32 0, i32 0, i64 2
  store <2 x float> %retval.sroa.2.0.copyload.i.i.i.i21.i.i.i.i, ptr %ref.tmp22.sroa.2.0.r_u30.sroa_idx.i.i.i.i, align 4, !alias.scope !74
  %ptr4.i.i.i27.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 6, i32 1
  %25 = load ptr, ptr %ptr4.i.i.i27.i.i.i.i, align 8, !noalias !74
  %add.ptr.i.i.i29.i.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %25, i64 %idxprom.i.i.i.i.i.i
  %retval.sroa.0.0.copyload.i.i.i.i30.i.i.i.i = load <2 x float>, ptr %add.ptr.i.i.i29.i.i.i.i, align 16, !noalias !74
  %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i31.i.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i.i.i29.i.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i.i.i.i32.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i31.i.i.i.i, align 8, !noalias !74
  %r_l39.i.i.i.i = getelementptr inbounds %"struct.pbrt::ShadowRayWorkItem", ptr %w.i.i.i, i64 0, i32 5
  store <2 x float> %retval.sroa.0.0.copyload.i.i.i.i30.i.i.i.i, ptr %r_l39.i.i.i.i, align 4, !alias.scope !74
  %ref.tmp31.sroa.2.0.r_l39.sroa_idx.i.i.i.i = getelementptr inbounds %"struct.pbrt::ShadowRayWorkItem", ptr %w.i.i.i, i64 0, i32 5, i32 0, i32 0, i64 2
  store <2 x float> %retval.sroa.2.0.copyload.i.i.i.i32.i.i.i.i, ptr %ref.tmp31.sroa.2.0.r_l39.sroa_idx.i.i.i.i, align 4, !alias.scope !74
  %pixelIndex.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 7
  %26 = load ptr, ptr %pixelIndex.i.i.i.i, align 8, !noalias !74
  %arrayidx43.i.i.i.i = getelementptr inbounds i32, ptr %26, i64 %idxprom.i.i.i.i.i.i
  %27 = load i32, ptr %arrayidx43.i.i.i.i, align 4, !noalias !74
  %pixelIndex44.i.i.i.i = getelementptr inbounds %"struct.pbrt::ShadowRayWorkItem", ptr %w.i.i.i, i64 0, i32 6
  store i32 %27, ptr %pixelIndex44.i.i.i.i, align 4, !alias.scope !74
  %aggregate.i.i.i = getelementptr inbounds %"class.pbrt::CPUAggregate", ptr %1, i64 0, i32 1
  %call2.i.i.i = call noundef zeroext i1 @_ZNK4pbrt9Primitive10IntersectPERKNS_3RayEf(ptr noundef nonnull align 8 dereferenceable(8) %aggregate.i.i.i, ptr noundef nonnull align 8 dereferenceable(40) %w.i.i.i, float noundef %20)
  %tMax.i2.i.i.i = getelementptr inbounds %"struct.pbrt::ShadowRayWorkItem", ptr %agg.tmp.i.i.i, i64 0, i32 1
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(88) %tMax.i2.i.i.i, ptr noundef nonnull align 8 dereferenceable(88) %tMax7.i.i.i.i, i64 88, i1 false)
  %28 = getelementptr inbounds %class.anon.110, ptr %__functor.val, i64 0, i32 2
  %29 = load ptr, ptr %28, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %Ld.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp.i.i.i.i)
  br i1 %call2.i.i.i, label %"_ZSt10__invoke_rIvRZNK4pbrt12CPUAggregate15IntersectShadowEiPNS0_9WorkQueueINS0_17ShadowRayWorkItemEEEPNS0_3SOAINS0_16PixelSampleStateEEEE3$_0JlEENSt9enable_ifIX16is_invocable_r_vIT_T0_DpT1_EESD_E4typeEOSE_DpOSF_.exit", label %if.end.i.i.i.i

if.end.i.i.i.i:                                   ; preds = %entry
  %r_u.i.i.i.i = getelementptr inbounds %"struct.pbrt::ShadowRayWorkItem", ptr %agg.tmp.i.i.i, i64 0, i32 4
  %r_l.i.i.i.i = getelementptr inbounds %"struct.pbrt::ShadowRayWorkItem", ptr %agg.tmp.i.i.i, i64 0, i32 5
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i.i.i.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ret.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(16) %r_u.i.i.i.i, i64 16, i1 false)
  br label %for.body.i.i.i.i.i.i

for.body.i.i.i.i.i.i:                             ; preds = %for.body.i.i.i.i.i.i, %if.end.i.i.i.i
  %indvars.iv.i.i.i.i.i.i = phi i64 [ 0, %if.end.i.i.i.i ], [ %indvars.iv.next.i.i.i.i.i.i, %for.body.i.i.i.i.i.i ]
  %arrayidx.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %r_l.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i.i.i.i
  %30 = load float, ptr %arrayidx.i.i.i.i.i.i.i, align 4
  %arrayidx.i4.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ret.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i.i.i.i
  %31 = load float, ptr %arrayidx.i4.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i = fadd float %30, %31
  store float %add.i.i.i.i.i.i, ptr %arrayidx.i4.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i.i.i.i.i, 1
  %exitcond.not.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i.i.i.i.i, label %_ZNK4pbrt15SampledSpectrumplERKS0_.exit.i.i.i.i, label %for.body.i.i.i.i.i.i, !llvm.loop !87

_ZNK4pbrt15SampledSpectrumplERKS0_.exit.i.i.i.i:  ; preds = %for.body.i.i.i.i.i.i
  %retval.sroa.0.0.copyload.i.i.i.i.i = load <2 x float>, ptr %ret.i.i.i.i.i, align 8
  %retval.sroa.2.0.call.sroa_idx.i.i.i.i.i = getelementptr inbounds i8, ptr %ret.i.i.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.call.sroa_idx.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i.i.i.i.i)
  store <2 x float> %retval.sroa.0.0.copyload.i.i.i.i.i, ptr %ref.tmp.i.i.i.i, align 8
  %32 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp.i.i.i.i, i64 0, i32 1
  store <2 x float> %retval.sroa.2.0.copyload.i.i.i.i.i, ptr %32, align 8
  %33 = extractelement <2 x float> %retval.sroa.0.0.copyload.i.i.i.i.i, i64 0
  br label %for.body.i.i.i.i.i

for.body.i.i.i.i.i:                               ; preds = %for.body.i.i.i.i.i, %_ZNK4pbrt15SampledSpectrumplERKS0_.exit.i.i.i.i
  %indvars.iv.i.i.i.i.i = phi i64 [ 1, %_ZNK4pbrt15SampledSpectrumplERKS0_.exit.i.i.i.i ], [ %indvars.iv.next.i.i.i.i.i, %for.body.i.i.i.i.i ]
  %sum.04.i.i.i.i.i = phi float [ %33, %_ZNK4pbrt15SampledSpectrumplERKS0_.exit.i.i.i.i ], [ %add.i.i.i.i.i, %for.body.i.i.i.i.i ]
  %arrayidx.i.i.i3.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i.i.i
  %34 = load float, ptr %arrayidx.i.i.i3.i.i.i, align 4
  %add.i.i.i.i.i = fadd float %sum.04.i.i.i.i.i, %34
  %indvars.iv.next.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i.i.i.i, 1
  %exitcond.not.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i.i.i.i, label %_ZNK4pbrt15SampledSpectrum7AverageEv.exit.i.i.i.i, label %for.body.i.i.i.i.i, !llvm.loop !88

_ZNK4pbrt15SampledSpectrum7AverageEv.exit.i.i.i.i: ; preds = %for.body.i.i.i.i.i
  %Ld1.i.i.i.i = getelementptr inbounds %"struct.pbrt::ShadowRayWorkItem", ptr %agg.tmp.i.i.i, i64 0, i32 3
  %div.i.i.i.i.i = fmul float %add.i.i.i.i.i, 2.500000e-01
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i2.i.i.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ret.i2.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(16) %Ld1.i.i.i.i, i64 16, i1 false)
  br label %for.body.i.i3.i.i.i.i

for.body.i.i3.i.i.i.i:                            ; preds = %for.body.i.i3.i.i.i.i, %_ZNK4pbrt15SampledSpectrum7AverageEv.exit.i.i.i.i
  %indvars.iv.i.i4.i.i.i.i = phi i64 [ 0, %_ZNK4pbrt15SampledSpectrum7AverageEv.exit.i.i.i.i ], [ %indvars.iv.next.i.i6.i.i.i.i, %for.body.i.i3.i.i.i.i ]
  %arrayidx.i.i.i5.i.i.i.i = getelementptr inbounds [4 x float], ptr %ret.i2.i.i.i.i, i64 0, i64 %indvars.iv.i.i4.i.i.i.i
  %35 = load float, ptr %arrayidx.i.i.i5.i.i.i.i, align 4
  %div.i.i.i.i.i.i = fdiv float %35, %div.i.i.i.i.i
  store float %div.i.i.i.i.i.i, ptr %arrayidx.i.i.i5.i.i.i.i, align 4
  %indvars.iv.next.i.i6.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i4.i.i.i.i, 1
  %exitcond.not.i.i7.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i6.i.i.i.i, 4
  br i1 %exitcond.not.i.i7.i.i.i.i, label %_ZNK4pbrt15SampledSpectrumdvEf.exit.i.i.i.i, label %for.body.i.i3.i.i.i.i, !llvm.loop !89

_ZNK4pbrt15SampledSpectrumdvEf.exit.i.i.i.i:      ; preds = %for.body.i.i3.i.i.i.i
  %retval.sroa.0.0.copyload.i8.i.i.i.i = load <2 x float>, ptr %ret.i2.i.i.i.i, align 8
  %retval.sroa.2.0.call.sroa_idx.i9.i.i.i.i = getelementptr inbounds i8, ptr %ret.i2.i.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i10.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.call.sroa_idx.i9.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i2.i.i.i.i)
  store <2 x float> %retval.sroa.0.0.copyload.i8.i.i.i.i, ptr %Ld.i.i.i.i, align 8
  %36 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %Ld.i.i.i.i, i64 0, i32 1
  store <2 x float> %retval.sroa.2.0.copyload.i10.i.i.i.i, ptr %36, align 8
  %pixelIndex.i4.i.i.i = getelementptr inbounds %"struct.pbrt::ShadowRayWorkItem", ptr %agg.tmp.i.i.i, i64 0, i32 6
  %37 = load i32, ptr %pixelIndex.i4.i.i.i, align 4
  %ptr4.i.i.i.i5.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.215", ptr %29, i64 0, i32 4, i32 1
  %38 = load ptr, ptr %ptr4.i.i.i.i5.i.i.i, align 8
  %idx.ext.i.i.i.i.i.i.i = sext i32 %37 to i64
  %add.ptr.i.i.i.i6.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %38, i64 %idx.ext.i.i.i.i.i.i.i
  %retval.sroa.0.0.copyload.i.i.i.i.i7.i.i.i = load <2 x float>, ptr %add.ptr.i.i.i.i6.i.i.i, align 16
  %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i.i8.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i.i.i.i6.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i.i.i.i.i9.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i.i8.i.i.i, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i15.i.i.i.i)
  store <2 x float> %retval.sroa.0.0.copyload.i.i.i.i.i7.i.i.i, ptr %ret.i15.i.i.i.i, align 8
  %Lpixel.sroa.2.0.ret.i15.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %ret.i15.i.i.i.i, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i.i.i.i.i9.i.i.i, ptr %Lpixel.sroa.2.0.ret.i15.sroa_idx.i.i.i.i, align 8
  br label %for.body.i.i16.i.i.i.i

for.body.i.i16.i.i.i.i:                           ; preds = %for.body.i.i16.i.i.i.i, %_ZNK4pbrt15SampledSpectrumdvEf.exit.i.i.i.i
  %indvars.iv.i.i17.i.i.i.i = phi i64 [ 0, %_ZNK4pbrt15SampledSpectrumdvEf.exit.i.i.i.i ], [ %indvars.iv.next.i.i21.i.i.i.i, %for.body.i.i16.i.i.i.i ]
  %arrayidx.i.i.i18.i.i.i.i = getelementptr inbounds [4 x float], ptr %Ld.i.i.i.i, i64 0, i64 %indvars.iv.i.i17.i.i.i.i
  %39 = load float, ptr %arrayidx.i.i.i18.i.i.i.i, align 4
  %arrayidx.i4.i.i19.i.i.i.i = getelementptr inbounds [4 x float], ptr %ret.i15.i.i.i.i, i64 0, i64 %indvars.iv.i.i17.i.i.i.i
  %40 = load float, ptr %arrayidx.i4.i.i19.i.i.i.i, align 4
  %add.i.i20.i.i.i.i = fadd float %39, %40
  store float %add.i.i20.i.i.i.i, ptr %arrayidx.i4.i.i19.i.i.i.i, align 4
  %indvars.iv.next.i.i21.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i17.i.i.i.i, 1
  %exitcond.not.i.i22.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i21.i.i.i.i, 4
  br i1 %exitcond.not.i.i22.i.i.i.i, label %_ZNK4pbrt15SampledSpectrumplERKS0_.exit28.i.i.i.i, label %for.body.i.i16.i.i.i.i, !llvm.loop !87

_ZNK4pbrt15SampledSpectrumplERKS0_.exit28.i.i.i.i: ; preds = %for.body.i.i16.i.i.i.i
  %retval.sroa.0.0.copyload.i23.i.i.i.i = load <2 x float>, ptr %ret.i15.i.i.i.i, align 8
  %retval.sroa.2.0.copyload.i25.i.i.i.i = load <2 x float>, ptr %Lpixel.sroa.2.0.ret.i15.sroa_idx.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i15.i.i.i.i)
  store <2 x float> %retval.sroa.0.0.copyload.i23.i.i.i.i, ptr %add.ptr.i.i.i.i6.i.i.i, align 16
  store <2 x float> %retval.sroa.2.0.copyload.i25.i.i.i.i, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i.i8.i.i.i, align 8
  br label %"_ZSt10__invoke_rIvRZNK4pbrt12CPUAggregate15IntersectShadowEiPNS0_9WorkQueueINS0_17ShadowRayWorkItemEEEPNS0_3SOAINS0_16PixelSampleStateEEEE3$_0JlEENSt9enable_ifIX16is_invocable_r_vIT_T0_DpT1_EESD_E4typeEOSE_DpOSF_.exit"

"_ZSt10__invoke_rIvRZNK4pbrt12CPUAggregate15IntersectShadowEiPNS0_9WorkQueueINS0_17ShadowRayWorkItemEEEPNS0_3SOAINS0_16PixelSampleStateEEEE3$_0JlEENSt9enable_ifIX16is_invocable_r_vIT_T0_DpT1_EESD_E4typeEOSE_DpOSF_.exit": ; preds = %entry, %_ZNK4pbrt15SampledSpectrumplERKS0_.exit28.i.i.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %Ld.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 128, ptr nonnull %w.i.i.i)
  call void @llvm.lifetime.end.p0(i64 128, ptr nonnull %agg.tmp.i.i.i)
  ret void
}

; Function Attrs: mustprogress uwtable
define internal noundef zeroext i1 @"_ZNSt17_Function_handlerIFvlEZNK4pbrt12CPUAggregate15IntersectShadowEiPNS1_9WorkQueueINS1_17ShadowRayWorkItemEEEPNS1_3SOAINS1_16PixelSampleStateEEEE3$_0E10_M_managerERSt9_Any_dataRKSD_St18_Manager_operation"(ptr nocapture noundef nonnull align 8 dereferenceable(16) %__dest, ptr nocapture noundef nonnull readonly align 8 dereferenceable(16) %__source, i32 noundef %__op) #1 align 2 {
entry:
  switch i32 %__op, label %sw.epilog [
    i32 0, label %sw.bb
    i32 1, label %sw.bb1
    i32 3, label %sw.bb6.i
    i32 2, label %sw.bb4.i
  ]

sw.bb:                                            ; preds = %entry
  store ptr @"_ZTIZNK4pbrt12CPUAggregate15IntersectShadowEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEE3$_0", ptr %__dest, align 8
  br label %sw.epilog

sw.bb1:                                           ; preds = %entry
  %__source.val = load ptr, ptr %__source, align 8
  store ptr %__source.val, ptr %__dest, align 8
  br label %sw.epilog

sw.bb4.i:                                         ; preds = %entry
  %__source.val5 = load ptr, ptr %__source, align 8
  %call.i.i.i = tail call noalias noundef nonnull dereferenceable(24) ptr @_Znwm(i64 noundef 24) #21
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 16 dereferenceable(24) %call.i.i.i, ptr noundef nonnull align 8 dereferenceable(24) %__source.val5, i64 24, i1 false)
  store ptr %call.i.i.i, ptr %__dest, align 8
  br label %sw.epilog

sw.bb6.i:                                         ; preds = %entry
  %__dest.val.i = load ptr, ptr %__dest, align 8
  %isnull.i.i = icmp eq ptr %__dest.val.i, null
  br i1 %isnull.i.i, label %sw.epilog, label %delete.notnull.i.i

delete.notnull.i.i:                               ; preds = %sw.bb6.i
  tail call void @_ZdlPv(ptr noundef nonnull %__dest.val.i) #23
  br label %sw.epilog

sw.epilog:                                        ; preds = %entry, %delete.notnull.i.i, %sw.bb6.i, %sw.bb4.i, %sw.bb1, %sw.bb
  ret i1 false
}

declare noundef zeroext i1 @_ZNK4pbrt9Primitive10IntersectPERKNS_3RayEf(ptr noundef nonnull align 8 dereferenceable(8), ptr noundef nonnull align 8 dereferenceable(40), float noundef) local_unnamed_addr #0

; Function Attrs: mustprogress uwtable
define internal void @"_ZNSt17_Function_handlerIFvlEZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS1_9WorkQueueINS1_17ShadowRayWorkItemEEEPNS1_3SOAINS1_16PixelSampleStateEEEE3$_0E9_M_invokeERKSt9_Any_dataOl"(ptr nocapture noundef nonnull readonly align 8 dereferenceable(16) %__functor, ptr nocapture noundef nonnull readonly align 8 dereferenceable(8) %__args) #9 align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ret.i195.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i172.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i154.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i140.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i128.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i81.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i60.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i173.i.i786.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i160.i.i787.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i85.i.i788.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i72.i.i789.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i790.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i.i791.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i792.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %iter.i.i793.i.i.i.i.i.i.i = alloca %"class.pbrt::DDAMajorantIterator", align 8
  %agg.tmp7.i.i794.i.i.i.i.i.i.i = alloca %"class.pbrt::Ray", align 8
  %T_maj.i.i795.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %seg.i.i796.i.i.i.i.i.i.i = alloca %"class.pstd::optional.223", align 4
  %ref.tmp22.i.i797.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp23.i.i798.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp57.i.i799.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp58.i.i800.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %mp.i.i801.i.i.i.i.i.i.i = alloca %"struct.pbrt::MediumProperties", align 8
  %agg.tmp85.i.i802.i.i.i.i.i.i.i = alloca %"struct.pbrt::MediumProperties", align 8
  %ref.tmp96.i.i803.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 4
  %ref.tmp108.i.i804.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp109.i.i805.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp21.i806.i.i.i.i.i.i.i = alloca %class.anon.221, align 8
  %retval.i173.i.i513.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i160.i.i514.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i85.i.i515.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i72.i.i516.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i517.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i.i518.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i519.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %iter.i.i520.i.i.i.i.i.i.i = alloca %"class.pbrt::HomogeneousMajorantIterator", align 4
  %agg.tmp7.i.i521.i.i.i.i.i.i.i = alloca %"class.pbrt::Ray", align 8
  %T_maj.i.i522.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp22.i.i523.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp23.i.i524.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp57.i.i525.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp58.i.i526.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %mp.i.i527.i.i.i.i.i.i.i = alloca %"struct.pbrt::MediumProperties", align 8
  %agg.tmp85.i.i528.i.i.i.i.i.i.i = alloca %"struct.pbrt::MediumProperties", align 8
  %ref.tmp96.i.i529.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 4
  %ref.tmp108.i.i530.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp109.i.i531.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp21.i532.i.i.i.i.i.i.i = alloca %class.anon.221, align 8
  %retval.i.i46.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %convert.sroa.0.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledWavelengths", align 8
  %ref.tmp8.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp21.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i173.i.i236.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i160.i.i237.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i85.i.i238.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i72.i.i239.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i240.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i.i241.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i242.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %iter.i.i243.i.i.i.i.i.i.i = alloca %"class.pbrt::DDAMajorantIterator", align 8
  %agg.tmp7.i.i244.i.i.i.i.i.i.i = alloca %"class.pbrt::Ray", align 8
  %T_maj.i.i245.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %seg.i.i246.i.i.i.i.i.i.i = alloca %"class.pstd::optional.223", align 4
  %ref.tmp22.i.i247.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp23.i.i248.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp57.i.i249.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp58.i.i250.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp85.i.i251.i.i.i.i.i.i.i = alloca %"struct.pbrt::MediumProperties", align 8
  %ref.tmp96.i.i252.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 4
  %ref.tmp108.i.i253.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp109.i.i254.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp21.i255.i.i.i.i.i.i.i = alloca %class.anon.221, align 8
  %retval.i173.i.i10.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i160.i.i11.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i85.i.i12.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i72.i.i13.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i14.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i.i15.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i16.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %iter.i.i17.i.i.i.i.i.i.i = alloca %"class.pbrt::DDAMajorantIterator", align 8
  %agg.tmp7.i.i18.i.i.i.i.i.i.i = alloca %"class.pbrt::Ray", align 8
  %T_maj.i.i19.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %seg.i.i.i.i.i.i.i.i.i = alloca %"class.pstd::optional.223", align 4
  %ref.tmp22.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp23.i.i20.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp57.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp58.i.i21.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %mp.i.i22.i.i.i.i.i.i.i = alloca %"struct.pbrt::MediumProperties", align 8
  %agg.tmp85.i.i.i.i.i.i.i.i.i = alloca %"struct.pbrt::MediumProperties", align 8
  %ref.tmp96.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 4
  %ref.tmp108.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp109.i.i23.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp21.i24.i.i.i.i.i.i.i = alloca %class.anon.221, align 8
  %retval.i173.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i160.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i85.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i72.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %iter.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::HomogeneousMajorantIterator", align 4
  %agg.tmp7.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::Ray", align 8
  %T_maj.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp23.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp24.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp58.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp59.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %mp.i.i.i.i.i.i.i.i.i = alloca %"struct.pbrt::MediumProperties", align 8
  %agg.tmp86.i.i.i.i.i.i.i.i.i = alloca %"struct.pbrt::MediumProperties", align 8
  %ref.tmp97.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 4
  %ref.tmp109.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp110.i.i.i.i.i.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp21.i.i.i.i.i.i.i.i = alloca %class.anon.221, align 8
  %ref.tmp.i.i.i.i.i = alloca %"class.pstd::optional", align 8
  %lambda.i.i.i.i = alloca %"class.pbrt::SampledWavelengths", align 8
  %Ld.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %rng.i.i.i.i = alloca %"class.pbrt::RNG", align 8
  %T_ray.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 4
  %r_u.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 4
  %r_l.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 4
  %agg.tmp12.i.i.i.i = alloca %"class.pbrt::Ray", align 8
  %ref.tmp31.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp37.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp43.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp60.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp61.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp67.i.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %si.i.i.i = alloca %"class.pstd::optional", align 16
  %__functor.val = load ptr, ptr %__functor, align 8
  %__args.val = load i64, ptr %__args, align 8
  call void @llvm.lifetime.start.p0(i64 264, ptr nonnull %si.i.i.i)
  %0 = getelementptr inbounds %class.anon.111, ptr %__functor.val, i64 0, i32 2
  %1 = load ptr, ptr %0, align 8
  %2 = load ptr, ptr %__functor.val, align 8
  %x.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 1, i32 1, i32 1
  %3 = load ptr, ptr %x.i.i.i.i.i.i, align 8, !noalias !90
  %sext.i.i = shl i64 %__args.val, 32
  %idxprom.i.i.i.i.i.i = ashr exact i64 %sext.i.i, 32
  %arrayidx.i.i.i.i.i.i = getelementptr inbounds float, ptr %3, i64 %idxprom.i.i.i.i.i.i
  %4 = load float, ptr %arrayidx.i.i.i.i.i.i, align 4, !noalias !90
  %retval.sroa.0.0.vec.insert.i.i.i.i.i.i = insertelement <2 x float> poison, float %4, i64 0
  %y.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 1, i32 1, i32 2
  %5 = load ptr, ptr %y.i.i.i.i.i.i, align 8, !noalias !90
  %arrayidx6.i.i.i.i.i.i = getelementptr inbounds float, ptr %5, i64 %idxprom.i.i.i.i.i.i
  %6 = load float, ptr %arrayidx6.i.i.i.i.i.i, align 4, !noalias !90
  %retval.sroa.0.4.vec.insert.i.i.i.i.i.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i.i.i.i.i.i, float %6, i64 1
  %z.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 1, i32 1, i32 3
  %7 = load ptr, ptr %z.i.i.i.i.i.i, align 8, !noalias !90
  %arrayidx11.i.i.i.i.i.i = getelementptr inbounds float, ptr %7, i64 %idxprom.i.i.i.i.i.i
  %8 = load float, ptr %arrayidx11.i.i.i.i.i.i, align 4, !noalias !90
  %x.i5.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 1, i32 2, i32 1
  %9 = load ptr, ptr %x.i5.i.i.i.i.i, align 8, !noalias !90
  %arrayidx.i8.i.i.i.i.i = getelementptr inbounds float, ptr %9, i64 %idxprom.i.i.i.i.i.i
  %10 = load float, ptr %arrayidx.i8.i.i.i.i.i, align 4, !noalias !90
  %retval.sroa.0.0.vec.insert.i9.i.i.i.i.i = insertelement <2 x float> poison, float %10, i64 0
  %y.i10.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 1, i32 2, i32 2
  %11 = load ptr, ptr %y.i10.i.i.i.i.i, align 8, !noalias !90
  %arrayidx6.i11.i.i.i.i.i = getelementptr inbounds float, ptr %11, i64 %idxprom.i.i.i.i.i.i
  %12 = load float, ptr %arrayidx6.i11.i.i.i.i.i, align 4, !noalias !90
  %retval.sroa.0.4.vec.insert.i12.i.i.i.i.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i9.i.i.i.i.i, float %12, i64 1
  %z.i13.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 1, i32 2, i32 3
  %13 = load ptr, ptr %z.i13.i.i.i.i.i, align 8, !noalias !90
  %arrayidx11.i14.i.i.i.i.i = getelementptr inbounds float, ptr %13, i64 %idxprom.i.i.i.i.i.i
  %14 = load float, ptr %arrayidx11.i14.i.i.i.i.i, align 4, !noalias !90
  %time.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 1, i32 3
  %15 = load ptr, ptr %time.i.i.i.i.i, align 8, !noalias !90
  %arrayidx.i.i.i.i.i = getelementptr inbounds float, ptr %15, i64 %idxprom.i.i.i.i.i.i
  %16 = load float, ptr %arrayidx.i.i.i.i.i, align 4, !noalias !90
  %medium.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 1, i32 4
  %17 = load ptr, ptr %medium.i.i.i.i.i, align 8, !noalias !90
  %arrayidx20.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Medium", ptr %17, i64 %idxprom.i.i.i.i.i.i
  %18 = load i64, ptr %arrayidx20.i.i.i.i.i, align 8, !noalias !90
  %tMax.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 2
  %19 = load ptr, ptr %tMax.i.i.i.i, align 8, !noalias !95
  %arrayidx.i.i.i.i = getelementptr inbounds float, ptr %19, i64 %idxprom.i.i.i.i.i.i
  %20 = load float, ptr %arrayidx.i.i.i.i, align 4, !noalias !95
  %lambda4.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 3, i32 1
  %21 = load ptr, ptr %lambda4.i.i.i.i.i.i.i, align 8, !noalias !96
  %pdf4.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 3, i32 2
  %22 = load ptr, ptr %pdf4.i.i.i.i.i.i.i, align 8, !noalias !96
  %add.ptr.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %21, i64 %idxprom.i.i.i.i.i.i
  %retval.sroa.0.0.copyload.i.i.i.i.i.i.i.i = load <2 x float>, ptr %add.ptr.i.i.i.i.i.i.i, align 16, !noalias !96
  %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i.i.i.i.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i.i.i.i.i, align 8, !noalias !96
  %add.ptr4.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %22, i64 %idxprom.i.i.i.i.i.i
  %retval.sroa.0.0.copyload.i11.i.i.i.i.i.i.i = load <2 x float>, ptr %add.ptr4.i.i.i.i.i.i.i, align 16, !noalias !96
  %retval.sroa.2.0.p.addr.0..sroa_idx.i12.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %add.ptr4.i.i.i.i.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i13.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i12.i.i.i.i.i.i.i, align 8, !noalias !96
  %ptr4.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 4, i32 1
  %23 = load ptr, ptr %ptr4.i.i.i.i.i.i.i, align 8, !noalias !95
  %add.ptr.i.i.i9.i.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %23, i64 %idxprom.i.i.i.i.i.i
  %retval.sroa.0.0.copyload.i.i.i.i10.i.i.i.i = load <2 x float>, ptr %add.ptr.i.i.i9.i.i.i.i, align 16, !noalias !95
  %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i11.i.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i.i.i9.i.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i.i.i.i12.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i11.i.i.i.i, align 8, !noalias !95
  %ptr4.i.i.i16.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 5, i32 1
  %24 = load ptr, ptr %ptr4.i.i.i16.i.i.i.i, align 8, !noalias !95
  %add.ptr.i.i.i18.i.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %24, i64 %idxprom.i.i.i.i.i.i
  %retval.sroa.0.0.copyload.i.i.i.i19.i.i.i.i = load <2 x float>, ptr %add.ptr.i.i.i18.i.i.i.i, align 16, !noalias !95
  %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i20.i.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i.i.i18.i.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i.i.i.i21.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i20.i.i.i.i, align 8, !noalias !95
  %ptr4.i.i.i27.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 6, i32 1
  %25 = load ptr, ptr %ptr4.i.i.i27.i.i.i.i, align 8, !noalias !95
  %add.ptr.i.i.i29.i.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %25, i64 %idxprom.i.i.i.i.i.i
  %retval.sroa.0.0.copyload.i.i.i.i30.i.i.i.i = load <2 x float>, ptr %add.ptr.i.i.i29.i.i.i.i, align 16, !noalias !95
  %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i31.i.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i.i.i29.i.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i.i.i.i32.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i31.i.i.i.i, align 8, !noalias !95
  %pixelIndex.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.108", ptr %2, i64 0, i32 7
  %26 = load ptr, ptr %pixelIndex.i.i.i.i, align 8, !noalias !95
  %arrayidx43.i.i.i.i = getelementptr inbounds i32, ptr %26, i64 %idxprom.i.i.i.i.i.i
  %27 = load i32, ptr %arrayidx43.i.i.i.i, align 4, !noalias !95
  %set.i.i.i.i = getelementptr inbounds %"class.pstd::optional", ptr %si.i.i.i, i64 0, i32 1
  store i8 0, ptr %set.i.i.i.i, align 16
  %28 = getelementptr inbounds %class.anon.111, ptr %__functor.val, i64 0, i32 1
  %29 = load ptr, ptr %28, align 8
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %lambda.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %Ld.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %rng.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %T_ray.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %r_u.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %r_l.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 40, ptr nonnull %agg.tmp12.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp31.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp37.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp43.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp60.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp61.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp67.i.i.i.i)
  store <2 x float> %retval.sroa.0.0.copyload.i.i.i.i.i.i.i.i, ptr %lambda.i.i.i.i, align 8
  %agg.tmp.sroa.11.sroa.2.0.lambda.i.sroa_idx.i.i.i = getelementptr inbounds i8, ptr %lambda.i.i.i.i, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i.i.i.i.i.i.i.i, ptr %agg.tmp.sroa.11.sroa.2.0.lambda.i.sroa_idx.i.i.i, align 8
  %agg.tmp.sroa.11.sroa.3.0.lambda.i.sroa_idx.i.i.i = getelementptr inbounds i8, ptr %lambda.i.i.i.i, i64 16
  store <2 x float> %retval.sroa.0.0.copyload.i11.i.i.i.i.i.i.i, ptr %agg.tmp.sroa.11.sroa.3.0.lambda.i.sroa_idx.i.i.i, align 8
  %agg.tmp.sroa.11.sroa.4.0.lambda.i.sroa_idx.i.i.i = getelementptr inbounds i8, ptr %lambda.i.i.i.i, i64 24
  store <2 x float> %retval.sroa.2.0.copyload.i13.i.i.i.i.i.i.i, ptr %agg.tmp.sroa.11.sroa.4.0.lambda.i.sroa_idx.i.i.i, align 8
  store <2 x float> %retval.sroa.0.0.copyload.i.i.i.i10.i.i.i.i, ptr %Ld.i.i.i.i, align 8
  %agg.tmp.sroa.12.sroa.2.0.Ld.i.sroa_idx.i.i.i = getelementptr inbounds i8, ptr %Ld.i.i.i.i, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i.i.i.i12.i.i.i.i, ptr %agg.tmp.sroa.12.sroa.2.0.Ld.i.sroa_idx.i.i.i, align 8
  %30 = bitcast <2 x float> %retval.sroa.0.4.vec.insert.i.i.i.i.i.i to i64
  %31 = bitcast float %8 to i32
  %mul3.i.i4.i.i.i.i = mul i64 %30, -4132994306676758123
  %shr.i.i.i.i.i.i = lshr i64 %mul3.i.i4.i.i.i.i, 47
  %xor4.i.i.i.i.i.i = xor i64 %shr.i.i.i.i.i.i, %mul3.i.i4.i.i.i.i
  %mul5.i.i.i.i.i.i = mul i64 %xor4.i.i.i.i.i.i, -4132994306676758123
  %xor6.i.i.i.i.i.i = xor i64 %mul5.i.i.i.i.i.i, 5744300541007557372
  %mul7.i.i.i.i.i.i = mul i64 %xor6.i.i.i.i.i.i, -4132994306676758123
  %32 = zext i32 %31 to i64
  %xor37.i.i.i.i.i.i = xor i64 %mul7.i.i.i.i.i.i, %32
  %mul38.i.i.i.i.i.i = mul i64 %xor37.i.i.i.i.i.i, -4132994306676758123
  %shr39.i.i.i.i.i.i = lshr i64 %mul38.i.i.i.i.i.i, 47
  %xor40.i.i.i.i.i.i = xor i64 %shr39.i.i.i.i.i.i, %mul38.i.i.i.i.i.i
  %mul41.i.i.i.i.i.i = mul i64 %xor40.i.i.i.i.i.i, -4132994306676758123
  %shr42.i.i.i.i.i.i = lshr i64 %mul41.i.i.i.i.i.i, 47
  %xor43.i.i.i.i.i.i = xor i64 %shr42.i.i.i.i.i.i, %mul41.i.i.i.i.i.i
  %33 = bitcast <2 x float> %retval.sroa.0.4.vec.insert.i12.i.i.i.i.i to i64
  %34 = bitcast float %14 to i32
  %mul3.i.i5.i.i.i.i = mul i64 %33, -4132994306676758123
  %shr.i.i6.i.i.i.i = lshr i64 %mul3.i.i5.i.i.i.i, 47
  %xor4.i.i7.i.i.i.i = xor i64 %shr.i.i6.i.i.i.i, %mul3.i.i5.i.i.i.i
  %mul5.i.i8.i.i.i.i = mul i64 %xor4.i.i7.i.i.i.i, -4132994306676758123
  %xor6.i.i9.i.i.i.i = xor i64 %mul5.i.i8.i.i.i.i, 5744300541007557372
  %mul7.i.i10.i.i.i.i = mul i64 %xor6.i.i9.i.i.i.i, -4132994306676758123
  %35 = zext i32 %34 to i64
  %xor37.i.i11.i.i.i.i = xor i64 %mul7.i.i10.i.i.i.i, %35
  %mul38.i.i12.i.i.i.i = mul i64 %xor37.i.i11.i.i.i.i, -4132994306676758123
  %shr39.i.i13.i.i.i.i = lshr i64 %mul38.i.i12.i.i.i.i, 47
  %xor40.i.i14.i.i.i.i = xor i64 %shr39.i.i13.i.i.i.i, %mul38.i.i12.i.i.i.i
  %mul41.i.i15.i.i.i.i = mul i64 %xor40.i.i14.i.i.i.i, -4132994306676758123
  %shr42.i.i16.i.i.i.i = lshr i64 %mul41.i.i15.i.i.i.i, 47
  %xor43.i.i17.i.i.i.i = xor i64 %shr42.i.i16.i.i.i.i, %mul41.i.i15.i.i.i.i
  %shl.i.i.i.i.i.i = shl i64 %xor43.i.i.i.i.i.i, 1
  %or.i.i.i.i.i.i = or disjoint i64 %shl.i.i.i.i.i.i, 1
  %inc.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::RNG", ptr %rng.i.i.i.i, i64 0, i32 1
  store i64 %or.i.i.i.i.i.i, ptr %inc.i.i.i.i.i.i, align 8
  %add.i.i18.i.i.i.i = add i64 %xor43.i.i17.i.i.i.i, %or.i.i.i.i.i.i
  %mul.i1.i.i.i.i.i.i = mul i64 %add.i.i18.i.i.i.i, 6364136223846793005
  %add.i3.i.i.i.i.i.i = add i64 %mul.i1.i.i.i.i.i.i, %or.i.i.i.i.i.i
  store i64 %add.i3.i.i.i.i.i.i, ptr %rng.i.i.i.i, align 8
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 4 dereferenceable(16) %T_ray.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i.i.i.i.i

for.body.i.i.i.i.i.i:                             ; preds = %for.body.i.i.i.i.i.i, %entry
  %indvars.iv.i.i.i.i.i.i = phi i64 [ 0, %entry ], [ %indvars.iv.next.i.i.i.i.i.i, %for.body.i.i.i.i.i.i ]
  %arrayidx.i.i.i4.i.i.i = getelementptr inbounds [4 x float], ptr %T_ray.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i.i4.i.i.i, align 4
  %indvars.iv.next.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i.i.i.i.i, 1
  %exitcond.not.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i.i.i.i.i, label %_ZN4pbrt15SampledSpectrumC2Ef.exit.i.i.i.i, label %for.body.i.i.i.i.i.i, !llvm.loop !103

_ZN4pbrt15SampledSpectrumC2Ef.exit.i.i.i.i:       ; preds = %for.body.i.i.i.i.i.i
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 4 dereferenceable(16) %r_u.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i19.i.i.i.i

for.body.i.i19.i.i.i.i:                           ; preds = %for.body.i.i19.i.i.i.i, %_ZN4pbrt15SampledSpectrumC2Ef.exit.i.i.i.i
  %indvars.iv.i.i20.i.i.i.i = phi i64 [ 0, %_ZN4pbrt15SampledSpectrumC2Ef.exit.i.i.i.i ], [ %indvars.iv.next.i.i22.i.i.i.i, %for.body.i.i19.i.i.i.i ]
  %arrayidx.i.i21.i.i.i.i = getelementptr inbounds [4 x float], ptr %r_u.i.i.i.i, i64 0, i64 %indvars.iv.i.i20.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i21.i.i.i.i, align 4
  %indvars.iv.next.i.i22.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i20.i.i.i.i, 1
  %exitcond.not.i.i23.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i22.i.i.i.i, 4
  br i1 %exitcond.not.i.i23.i.i.i.i, label %_ZN4pbrt15SampledSpectrumC2Ef.exit24.i.i.i.i, label %for.body.i.i19.i.i.i.i, !llvm.loop !103

_ZN4pbrt15SampledSpectrumC2Ef.exit24.i.i.i.i:     ; preds = %for.body.i.i19.i.i.i.i
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 4 dereferenceable(16) %r_l.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i25.i.i.i.i

for.body.i.i25.i.i.i.i:                           ; preds = %for.body.i.i25.i.i.i.i, %_ZN4pbrt15SampledSpectrumC2Ef.exit24.i.i.i.i
  %indvars.iv.i.i26.i.i.i.i = phi i64 [ 0, %_ZN4pbrt15SampledSpectrumC2Ef.exit24.i.i.i.i ], [ %indvars.iv.next.i.i28.i.i.i.i, %for.body.i.i25.i.i.i.i ]
  %arrayidx.i.i27.i.i.i.i = getelementptr inbounds [4 x float], ptr %r_l.i.i.i.i, i64 0, i64 %indvars.iv.i.i26.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i27.i.i.i.i, align 4
  %indvars.iv.next.i.i28.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i26.i.i.i.i, 1
  %exitcond.not.i.i29.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i28.i.i.i.i, 4
  br i1 %exitcond.not.i.i29.i.i.i.i, label %while.cond.preheader.i.i.i.i, label %for.body.i.i25.i.i.i.i, !llvm.loop !103

while.cond.preheader.i.i.i.i:                     ; preds = %for.body.i.i25.i.i.i.i
  %36 = insertelement <2 x float> poison, float %10, i64 0
  %37 = insertelement <2 x float> %36, float %12, i64 1
  %38 = insertelement <2 x float> poison, float %20, i64 0
  %39 = shufflevector <2 x float> %38, <2 x float> poison, <2 x i32> zeroinitializer
  %40 = fmul <2 x float> %37, %39
  %41 = insertelement <2 x float> poison, float %4, i64 0
  %42 = insertelement <2 x float> %41, float %6, i64 1
  %43 = fadd <2 x float> %42, %40
  %mul3.i.i.i.i.i.i = fmul float %14, %20
  %add6.i.i.i.i.i.i = fadd float %8, %mul3.i.i.i.i.i.i
  %cmp.i341.i.i.i.i = fcmp une float %10, 0.000000e+00
  %cmp4.i343.i.i.i.i = fcmp une float %12, 0.000000e+00
  %or.cond.i344.i.i.i.i = select i1 %cmp.i341.i.i.i.i, i1 true, i1 %cmp4.i343.i.i.i.i
  %cmp6.i345.i.i.i.i = fcmp une float %14, 0.000000e+00
  %or.cond346.i.i.i.i = select i1 %or.cond.i344.i.i.i.i, i1 true, i1 %cmp6.i345.i.i.i.i
  br i1 %or.cond346.i.i.i.i, label %while.body.lr.ph.i.i.i.i, label %while.end.ithread-pre-split.i.i.i

while.body.lr.ph.i.i.i.i:                         ; preds = %while.cond.preheader.i.i.i.i
  %ray.sroa.9.0.agg.tmp12.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp12.i.i.i.i, i64 8
  %ray.sroa.14.0.agg.tmp12.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp12.i.i.i.i, i64 12
  %ray.sroa.22.0.agg.tmp12.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp12.i.i.i.i, i64 20
  %ray.sroa.28.0.agg.tmp12.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp12.i.i.i.i, i64 24
  %medium.i31.i.i.i.i = getelementptr inbounds %"class.pbrt::Ray", ptr %agg.tmp12.i.i.i.i, i64 0, i32 3
  %aggregate.i.i.i.i.i = getelementptr inbounds %"class.pbrt::CPUAggregate", ptr %1, i64 0, i32 1
  %set.i3.i.i.i.i.i.i = getelementptr inbounds %"class.pstd::optional", ptr %ref.tmp.i.i.i.i.i, i64 0, i32 1
  %medium.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %si.i.i.i, i64 0, i32 6
  %medium3.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %ref.tmp.i.i.i.i.i, i64 0, i32 6
  %dpdu.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 1
  %dpdu2.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %ref.tmp.i.i.i.i.i, i64 0, i32 1
  %material.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 7
  %material3.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %ref.tmp.i.i.i.i.i, i64 0, i32 7
  %dpdx.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 9
  %dpdx5.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %ref.tmp.i.i.i.i.i, i64 0, i32 9
  %tHit.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::ShapeIntersection", ptr %si.i.i.i, i64 0, i32 1
  %tHit3.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::ShapeIntersection", ptr %ref.tmp.i.i.i.i.i, i64 0, i32 1
  %agg.tmp.sroa.0.sroa.2.0.this.sroa_idx.i.i.i.i.i.i = getelementptr inbounds i8, ptr %si.i.i.i, i64 4
  %agg.tmp.sroa.0.sroa.3.0.this.sroa_idx.i.i.i.i.i.i = getelementptr inbounds i8, ptr %si.i.i.i, i64 8
  %agg.tmp.sroa.0.sroa.4.0.this.sroa_idx.i.i.i.i.i.i = getelementptr inbounds i8, ptr %si.i.i.i, i64 12
  %agg.tmp.sroa.0.sroa.5.0.this.sroa_idx.i.i.i.i.i.i = getelementptr inbounds i8, ptr %si.i.i.i, i64 16
  %agg.tmp.sroa.0.sroa.6.0.this.sroa_idx.i.i.i.i.i.i = getelementptr inbounds i8, ptr %si.i.i.i, i64 20
  %agg.tmp2751.sroa.8.0.agg.tmp21.i532.i.i.i.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp21.i532.i.i.i.i.i.i.i, i64 8
  %agg.tmp2751.sroa.9.0.agg.tmp21.i532.i.i.i.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp21.i532.i.i.i.i.i.i.i, i64 16
  %agg.tmp2751.sroa.10.0.agg.tmp21.i532.i.i.i.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp21.i532.i.i.i.i.i.i.i, i64 24
  %agg.tmp.sroa.6.0.agg.tmp7.i.sroa_idx.i561.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i521.i.i.i.i.i.i.i, i64 8
  %agg.tmp.sroa.8.0.agg.tmp7.i.sroa_idx.i562.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i521.i.i.i.i.i.i.i, i64 12
  %agg.tmp.sroa.14.0.agg.tmp7.i.sroa_idx.i563.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i521.i.i.i.i.i.i.i, i64 20
  %agg.tmp.sroa.18.0.agg.tmp7.i.sroa_idx.i564.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i521.i.i.i.i.i.i.i, i64 24
  %medium.i.i.i565.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Ray", ptr %agg.tmp7.i.i521.i.i.i.i.i.i.i, i64 0, i32 3
  %called.i.i.i572.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::HomogeneousMajorantIterator", ptr %iter.i.i520.i.i.i.i.i.i.i, i64 0, i32 1
  %seg.sroa.4.0.iter.sroa_idx.i.i573.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %iter.i.i520.i.i.i.i.i.i.i, i64 4
  %seg.sroa.7.0.iter.sroa_idx.i.i574.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %iter.i.i520.i.i.i.i.i.i.i, i64 8
  %seg.sroa.13.0.iter.sroa_idx.i.i575.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %iter.i.i520.i.i.i.i.i.i.i, i64 16
  %seg.sroa.13.8.retval.i.i72.sroa_idx.i.i577.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %retval.i.i72.i.i516.i.i.i.i.i.i.i, i64 8
  %44 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp58.i.i526.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i110.i.i578.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i85.i.i515.i.i.i.i.i.i.i, i64 0, i32 1
  %45 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp57.i.i525.i.i.i.i.i.i.i, i64 0, i32 1
  %phase.i.i.i579.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.tmp85.i.i528.i.i.i.i.i.i.i, i64 0, i32 2
  %phase3.i.i.i580.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %mp.i.i527.i.i.i.i.i.i.i, i64 0, i32 2
  %Le.i.i.i581.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.tmp85.i.i528.i.i.i.i.i.i.i, i64 0, i32 3
  %Le4.i.i.i582.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %mp.i.i527.i.i.i.i.i.i.i, i64 0, i32 3
  %agg.tmp91.sroa.2.0.T_maj.sroa_idx.i.i583.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %T_maj.i.i522.i.i.i.i.i.i.i, i64 8
  %seg.sroa.13.8.retval.i.i160.sroa_idx.i.i584.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %retval.i.i160.i.i514.i.i.i.i.i.i.i, i64 8
  %46 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp109.i.i531.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i198.i.i585.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i173.i.i513.i.i.i.i.i.i.i, i64 0, i32 1
  %47 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp108.i.i530.i.i.i.i.i.i.i, i64 0, i32 1
  %seg.sroa.13.8.retval.i.i.sroa_idx.i.i586.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %retval.i.i.i.i518.i.i.i.i.i.i.i, i64 8
  %48 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp23.i.i524.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i.i.i587.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i.i517.i.i.i.i.i.i.i, i64 0, i32 1
  %49 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp22.i.i523.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i.i592.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i519.i.i.i.i.i.i.i, i64 0, i32 1
  %agg.tmp2751.sroa.8.0.agg.tmp21.i255.i.i.i.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp21.i255.i.i.i.i.i.i.i, i64 8
  %agg.tmp2751.sroa.9.0.agg.tmp21.i255.i.i.i.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp21.i255.i.i.i.i.i.i.i, i64 16
  %agg.tmp2751.sroa.10.0.agg.tmp21.i255.i.i.i.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp21.i255.i.i.i.i.i.i.i, i64 24
  %agg.tmp.sroa.6.0.agg.tmp7.i.sroa_idx.i284.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i244.i.i.i.i.i.i.i, i64 8
  %agg.tmp.sroa.8.0.agg.tmp7.i.sroa_idx.i285.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i244.i.i.i.i.i.i.i, i64 12
  %agg.tmp.sroa.14.0.agg.tmp7.i.sroa_idx.i286.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i244.i.i.i.i.i.i.i, i64 20
  %agg.tmp.sroa.18.0.agg.tmp7.i.sroa_idx.i287.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i244.i.i.i.i.i.i.i, i64 24
  %medium.i.i.i288.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Ray", ptr %agg.tmp7.i.i244.i.i.i.i.i.i.i, i64 0, i32 3
  %set.i.i.i295.i.i.i.i.i.i.i = getelementptr inbounds %"class.pstd::optional.223", ptr %seg.i.i246.i.i.i.i.i.i.i, i64 0, i32 1
  %sigma_maj.i.i296.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayMajorantSegment", ptr %seg.i.i246.i.i.i.i.i.i.i, i64 0, i32 2
  %tMax54.i.i298.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayMajorantSegment", ptr %seg.i.i246.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i.i81.i.i299.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i72.i.i239.i.i.i.i.i.i.i, i64 0, i32 1
  %50 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp58.i.i250.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i110.i.i300.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i85.i.i238.i.i.i.i.i.i.i, i64 0, i32 1
  %51 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp57.i.i249.i.i.i.i.i.i.i, i64 0, i32 1
  %phase.i.i.i301.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.tmp85.i.i251.i.i.i.i.i.i.i, i64 0, i32 2
  %Le.i.i.i302.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.tmp85.i.i251.i.i.i.i.i.i.i, i64 0, i32 3
  %agg.tmp87.sroa.2.0.sigma_maj90.sroa_idx.i.i303.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayMajorantSegment", ptr %seg.i.i246.i.i.i.i.i.i.i, i64 0, i32 2, i32 0, i32 0, i64 2
  %agg.tmp91.sroa.2.0.T_maj.sroa_idx.i.i304.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %T_maj.i.i245.i.i.i.i.i.i.i, i64 8
  %.fca.1.gep.i.i169.i.i305.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i160.i.i237.i.i.i.i.i.i.i, i64 0, i32 1
  %52 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp109.i.i254.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i198.i.i306.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i173.i.i236.i.i.i.i.i.i.i, i64 0, i32 1
  %53 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp108.i.i253.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i.i.i.i307.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i.i.i241.i.i.i.i.i.i.i, i64 0, i32 1
  %54 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp23.i.i248.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i.i.i308.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i.i240.i.i.i.i.i.i.i, i64 0, i32 1
  %55 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp22.i.i247.i.i.i.i.i.i.i, i64 0, i32 1
  %56 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp8.i.i.i.i.i.i.i.i.i, i64 0, i32 1
  %57 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp21.i.i.i.i.i.i.i.i.i, i64 0, i32 1
  %ref.tmp40.sroa.2.0.retval.i.i46.sroa_idx.i.i.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %retval.i.i46.i.i.i.i.i.i.i.i.i, i64 8
  %mp.i.sroa.4.0.agg.tmp85.i.sroa_idx.i.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp85.i.i251.i.i.i.i.i.i.i, i64 8
  %mp.i.sroa.5.0.agg.tmp85.i.sroa_idx.i.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp85.i.i251.i.i.i.i.i.i.i, i64 16
  %mp.i.sroa.6.0.agg.tmp85.i.sroa_idx.i.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp85.i.i251.i.i.i.i.i.i.i, i64 24
  %mp.i.sroa.11.40.Le.i.i.sroa_idx.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.tmp85.i.i251.i.i.i.i.i.i.i, i64 0, i32 3, i32 0, i32 0, i64 2
  %.fca.1.gep.i.i454.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i242.i.i.i.i.i.i.i, i64 0, i32 1
  %agg.tmp2751.sroa.8.0.agg.tmp21.i24.i.i.i.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp21.i24.i.i.i.i.i.i.i, i64 8
  %agg.tmp2751.sroa.9.0.agg.tmp21.i24.i.i.i.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp21.i24.i.i.i.i.i.i.i, i64 16
  %agg.tmp2751.sroa.10.0.agg.tmp21.i24.i.i.i.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp21.i24.i.i.i.i.i.i.i, i64 24
  %agg.tmp.sroa.6.0.agg.tmp7.i.sroa_idx.i53.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i18.i.i.i.i.i.i.i, i64 8
  %agg.tmp.sroa.8.0.agg.tmp7.i.sroa_idx.i54.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i18.i.i.i.i.i.i.i, i64 12
  %agg.tmp.sroa.14.0.agg.tmp7.i.sroa_idx.i55.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i18.i.i.i.i.i.i.i, i64 20
  %agg.tmp.sroa.18.0.agg.tmp7.i.sroa_idx.i56.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i18.i.i.i.i.i.i.i, i64 24
  %medium.i.i.i57.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Ray", ptr %agg.tmp7.i.i18.i.i.i.i.i.i.i, i64 0, i32 3
  %set.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pstd::optional.223", ptr %seg.i.i.i.i.i.i.i.i.i, i64 0, i32 1
  %sigma_maj.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayMajorantSegment", ptr %seg.i.i.i.i.i.i.i.i.i, i64 0, i32 2
  %tMax54.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayMajorantSegment", ptr %seg.i.i.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i.i81.i.i.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i72.i.i13.i.i.i.i.i.i.i, i64 0, i32 1
  %58 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp58.i.i21.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i110.i.i65.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i85.i.i12.i.i.i.i.i.i.i, i64 0, i32 1
  %59 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp57.i.i.i.i.i.i.i.i.i, i64 0, i32 1
  %phase.i.i.i66.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.tmp85.i.i.i.i.i.i.i.i.i, i64 0, i32 2
  %phase3.i.i.i67.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %mp.i.i22.i.i.i.i.i.i.i, i64 0, i32 2
  %Le.i.i.i68.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.tmp85.i.i.i.i.i.i.i.i.i, i64 0, i32 3
  %Le4.i.i.i69.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %mp.i.i22.i.i.i.i.i.i.i, i64 0, i32 3
  %agg.tmp87.sroa.2.0.sigma_maj90.sroa_idx.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayMajorantSegment", ptr %seg.i.i.i.i.i.i.i.i.i, i64 0, i32 2, i32 0, i32 0, i64 2
  %agg.tmp91.sroa.2.0.T_maj.sroa_idx.i.i.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %T_maj.i.i19.i.i.i.i.i.i.i, i64 8
  %.fca.1.gep.i.i169.i.i.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i160.i.i11.i.i.i.i.i.i.i, i64 0, i32 1
  %60 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp109.i.i23.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i198.i.i70.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i173.i.i10.i.i.i.i.i.i.i, i64 0, i32 1
  %61 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp108.i.i.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i.i.i15.i.i.i.i.i.i.i, i64 0, i32 1
  %62 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp23.i.i20.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i.i.i71.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i.i14.i.i.i.i.i.i.i, i64 0, i32 1
  %63 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp22.i.i.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i.i185.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i16.i.i.i.i.i.i.i, i64 0, i32 1
  %agg.tmp2751.sroa.8.0.agg.tmp21.i.i.i.i.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp21.i.i.i.i.i.i.i.i, i64 8
  %agg.tmp2751.sroa.9.0.agg.tmp21.i.i.i.i.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp21.i.i.i.i.i.i.i.i, i64 16
  %agg.tmp2751.sroa.10.0.agg.tmp21.i.i.i.i.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp21.i.i.i.i.i.i.i.i, i64 24
  %agg.tmp.sroa.6.0.agg.tmp7.i.sroa_idx.i.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i.i.i.i.i.i.i.i, i64 8
  %agg.tmp.sroa.8.0.agg.tmp7.i.sroa_idx.i.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i.i.i.i.i.i.i.i, i64 12
  %agg.tmp.sroa.14.0.agg.tmp7.i.sroa_idx.i.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i.i.i.i.i.i.i.i, i64 20
  %agg.tmp.sroa.18.0.agg.tmp7.i.sroa_idx.i.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i.i.i.i.i.i.i.i, i64 24
  %medium.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Ray", ptr %agg.tmp7.i.i.i.i.i.i.i.i.i, i64 0, i32 3
  %called.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::HomogeneousMajorantIterator", ptr %iter.i.i.i.i.i.i.i.i.i, i64 0, i32 1
  %seg.sroa.4.0.iter.sroa_idx.i.i.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %iter.i.i.i.i.i.i.i.i.i, i64 4
  %seg.sroa.7.0.iter.sroa_idx.i.i.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %iter.i.i.i.i.i.i.i.i.i, i64 8
  %seg.sroa.13.0.iter.sroa_idx.i.i.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %iter.i.i.i.i.i.i.i.i.i, i64 16
  %seg.sroa.13.8.retval.i.i72.sroa_idx.i.i.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %retval.i.i72.i.i.i.i.i.i.i.i.i, i64 8
  %64 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp59.i.i.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i110.i.i.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i85.i.i.i.i.i.i.i.i.i, i64 0, i32 1
  %65 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp58.i.i.i.i.i.i.i.i.i, i64 0, i32 1
  %phase.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.tmp86.i.i.i.i.i.i.i.i.i, i64 0, i32 2
  %phase3.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %mp.i.i.i.i.i.i.i.i.i, i64 0, i32 2
  %Le.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.tmp86.i.i.i.i.i.i.i.i.i, i64 0, i32 3
  %Le4.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %mp.i.i.i.i.i.i.i.i.i, i64 0, i32 3
  %agg.tmp92.sroa.2.0.T_maj.sroa_idx.i.i.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %T_maj.i.i.i.i.i.i.i.i.i, i64 8
  %seg.sroa.13.8.retval.i.i160.sroa_idx.i.i.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %retval.i.i160.i.i.i.i.i.i.i.i.i, i64 8
  %66 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp110.i.i.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i198.i.i.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i173.i.i.i.i.i.i.i.i.i, i64 0, i32 1
  %67 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp109.i.i.i.i.i.i.i.i.i, i64 0, i32 1
  %seg.sroa.13.8.retval.i.i.sroa_idx.i.i.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %retval.i.i.i.i.i.i.i.i.i.i.i, i64 8
  %68 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp24.i.i.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i.i.i.i.i.i.i.i.i, i64 0, i32 1
  %69 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp23.i.i.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i.i.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i.i.i.i.i.i.i.i, i64 0, i32 1
  %agg.tmp2751.sroa.8.0.agg.tmp21.i806.i.i.i.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp21.i806.i.i.i.i.i.i.i, i64 8
  %agg.tmp2751.sroa.9.0.agg.tmp21.i806.i.i.i.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp21.i806.i.i.i.i.i.i.i, i64 16
  %agg.tmp2751.sroa.10.0.agg.tmp21.i806.i.i.i.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp21.i806.i.i.i.i.i.i.i, i64 24
  %agg.tmp.sroa.6.0.agg.tmp7.i.sroa_idx.i835.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i794.i.i.i.i.i.i.i, i64 8
  %agg.tmp.sroa.8.0.agg.tmp7.i.sroa_idx.i836.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i794.i.i.i.i.i.i.i, i64 12
  %agg.tmp.sroa.14.0.agg.tmp7.i.sroa_idx.i837.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i794.i.i.i.i.i.i.i, i64 20
  %agg.tmp.sroa.18.0.agg.tmp7.i.sroa_idx.i838.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %agg.tmp7.i.i794.i.i.i.i.i.i.i, i64 24
  %medium.i.i.i839.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Ray", ptr %agg.tmp7.i.i794.i.i.i.i.i.i.i, i64 0, i32 3
  %set.i.i.i846.i.i.i.i.i.i.i = getelementptr inbounds %"class.pstd::optional.223", ptr %seg.i.i796.i.i.i.i.i.i.i, i64 0, i32 1
  %sigma_maj.i.i847.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayMajorantSegment", ptr %seg.i.i796.i.i.i.i.i.i.i, i64 0, i32 2
  %tMax54.i.i849.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayMajorantSegment", ptr %seg.i.i796.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i.i81.i.i850.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i72.i.i789.i.i.i.i.i.i.i, i64 0, i32 1
  %70 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp58.i.i800.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i110.i.i851.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i85.i.i788.i.i.i.i.i.i.i, i64 0, i32 1
  %71 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp57.i.i799.i.i.i.i.i.i.i, i64 0, i32 1
  %phase.i.i.i852.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.tmp85.i.i802.i.i.i.i.i.i.i, i64 0, i32 2
  %phase3.i.i.i853.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %mp.i.i801.i.i.i.i.i.i.i, i64 0, i32 2
  %Le.i.i.i854.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.tmp85.i.i802.i.i.i.i.i.i.i, i64 0, i32 3
  %Le4.i.i.i855.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %mp.i.i801.i.i.i.i.i.i.i, i64 0, i32 3
  %agg.tmp87.sroa.2.0.sigma_maj90.sroa_idx.i.i856.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::RayMajorantSegment", ptr %seg.i.i796.i.i.i.i.i.i.i, i64 0, i32 2, i32 0, i32 0, i64 2
  %agg.tmp91.sroa.2.0.T_maj.sroa_idx.i.i857.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %T_maj.i.i795.i.i.i.i.i.i.i, i64 8
  %.fca.1.gep.i.i169.i.i858.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i160.i.i787.i.i.i.i.i.i.i, i64 0, i32 1
  %72 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp109.i.i805.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i198.i.i859.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i173.i.i786.i.i.i.i.i.i.i, i64 0, i32 1
  %73 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp108.i.i804.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i.i.i.i860.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i.i.i791.i.i.i.i.i.i.i, i64 0, i32 1
  %74 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp23.i.i798.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i.i.i861.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i.i790.i.i.i.i.i.i.i, i64 0, i32 1
  %75 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp22.i.i797.i.i.i.i.i.i.i, i64 0, i32 1
  %.fca.1.gep.i.i1007.i.i.i.i.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i792.i.i.i.i.i.i.i, i64 0, i32 1
  %T_maj.sroa.7.0.ret.i.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %ret.i.i.i.i.i, i64 8
  %76 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp31.i.i.i.i, i64 0, i32 1
  %T_maj.sroa.7.0.ret.i60.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %ret.i60.i.i.i.i, i64 8
  %77 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp37.i.i.i.i, i64 0, i32 1
  %T_maj.sroa.7.0.ret.i81.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %ret.i81.i.i.i.i, i64 8
  %78 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp43.i.i.i.i, i64 0, i32 1
  %n.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %si.i.i.i, i64 0, i32 3
  %agg.tmp2.sroa.2.0.n.sroa_idx.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %si.i.i.i, i64 0, i32 3, i32 0, i32 2
  %time.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %si.i.i.i, i64 0, i32 1
  %mediumInterface.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %si.i.i.i, i64 0, i32 5
  br label %while.body.i.i.i.i

while.body.i.i.i.i:                               ; preds = %"_ZZZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiENKUlNS_6Point3IfEEE_clESB_.exit.i.i.i.i", %while.body.lr.ph.i.i.i.i
  %ray.sroa.30.0352.i.i.i.i = phi i64 [ %18, %while.body.lr.ph.i.i.i.i ], [ %storemerge.i.i.i.i.i.i.i, %"_ZZZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiENKUlNS_6Point3IfEEE_clESB_.exit.i.i.i.i" ]
  %ray.sroa.28.0351.i.i.i.i = phi float [ %16, %while.body.lr.ph.i.i.i.i ], [ %452, %"_ZZZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiENKUlNS_6Point3IfEEE_clESB_.exit.i.i.i.i" ]
  %ray.sroa.22.0350.i.i.i.i = phi float [ %14, %while.body.lr.ph.i.i.i.i ], [ %sub6.i.i.i.i.i.i.i.i, %"_ZZZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiENKUlNS_6Point3IfEEE_clESB_.exit.i.i.i.i" ]
  %ray.sroa.14.0349.i.i.i.i = phi <2 x float> [ %retval.sroa.0.4.vec.insert.i12.i.i.i.i.i, %while.body.lr.ph.i.i.i.i ], [ %457, %"_ZZZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiENKUlNS_6Point3IfEEE_clESB_.exit.i.i.i.i" ]
  %ray.sroa.9.0348.i.i.i.i = phi float [ %8, %while.body.lr.ph.i.i.i.i ], [ %call.fca.1.extract.i.i.i.i.i.i.i.i, %"_ZZZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiENKUlNS_6Point3IfEEE_clESB_.exit.i.i.i.i" ]
  %ray.sroa.0.0347.i.i.i.i = phi <2 x float> [ %retval.sroa.0.4.vec.insert.i.i.i.i.i.i, %while.body.lr.ph.i.i.i.i ], [ %call.fca.0.extract.i.i.i.i.i.i.i.i, %"_ZZZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiENKUlNS_6Point3IfEEE_clESB_.exit.i.i.i.i" ]
  store <2 x float> %ray.sroa.0.0347.i.i.i.i, ptr %agg.tmp12.i.i.i.i, align 8
  store float %ray.sroa.9.0348.i.i.i.i, ptr %ray.sroa.9.0.agg.tmp12.sroa_idx.i.i.i.i, align 8
  store <2 x float> %ray.sroa.14.0349.i.i.i.i, ptr %ray.sroa.14.0.agg.tmp12.sroa_idx.i.i.i.i, align 4
  store float %ray.sroa.22.0350.i.i.i.i, ptr %ray.sroa.22.0.agg.tmp12.sroa_idx.i.i.i.i, align 4
  store float %ray.sroa.28.0351.i.i.i.i, ptr %ray.sroa.28.0.agg.tmp12.sroa_idx.i.i.i.i, align 8
  store i64 %ray.sroa.30.0352.i.i.i.i, ptr %medium.i31.i.i.i.i, align 8
  call void @llvm.lifetime.start.p0(i64 264, ptr nonnull %ref.tmp.i.i.i.i.i)
  call void @_ZNK4pbrt9Primitive9IntersectERKNS_3RayEf(ptr nonnull sret(%"class.pstd::optional") align 8 %ref.tmp.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(8) %aggregate.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(40) %agg.tmp12.i.i.i.i, float noundef %20)
  %79 = load i8, ptr %set.i.i.i.i, align 16, !noalias !104
  %80 = and i8 %79, 1
  %tobool.not.i.i.i.i.i.i.i = icmp eq i8 %80, 0
  br i1 %tobool.not.i.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEE5resetEv.exit.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEE5valueEv.exit.i.i.i.i.i.i.i

_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEE5valueEv.exit.i.i.i.i.i.i.i: ; preds = %while.body.i.i.i.i
  store i8 0, ptr %set.i.i.i.i, align 16, !noalias !104
  br label %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEE5resetEv.exit.i.i.i.i.i.i

_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEE5resetEv.exit.i.i.i.i.i.i: ; preds = %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEE5valueEv.exit.i.i.i.i.i.i.i, %while.body.i.i.i.i
  %81 = phi i8 [ 0, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEE5valueEv.exit.i.i.i.i.i.i.i ], [ %79, %while.body.i.i.i.i ]
  %82 = load i8, ptr %set.i3.i.i.i.i.i.i, align 8, !noalias !104
  %83 = and i8 %82, 1
  %tobool.i.not.i.i.i.i.i.i = icmp eq i8 %83, 0
  br i1 %tobool.i.not.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit.i.thread.i.i.i.i

_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit.i.thread.i.i.i.i: ; preds = %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEE5resetEv.exit.i.i.i.i.i.i
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 16 dereferenceable(72) %si.i.i.i, ptr noundef nonnull align 8 dereferenceable(72) %ref.tmp.i.i.i.i.i, i64 72, i1 false), !noalias !104
  %84 = load i64, ptr %medium3.i.i.i.i.i.i.i.i.i, align 8, !noalias !104
  store i64 %84, ptr %medium.i.i.i.i.i.i.i.i.i, align 8, !noalias !104
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 16 dereferenceable(112) %dpdu.i.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(112) %dpdu2.i.i.i.i.i.i.i.i, i64 112, i1 false), !noalias !104
  %85 = load <2 x i64>, ptr %material3.i.i.i.i.i.i.i.i, align 8, !noalias !104
  store <2 x i64> %85, ptr %material.i.i.i.i.i.i.i.i, align 16, !noalias !104
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 16 dereferenceable(40) %dpdx.i.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(40) %dpdx5.i.i.i.i.i.i.i.i, i64 40, i1 false), !noalias !104
  %86 = load float, ptr %tHit3.i.i.i.i.i.i.i, align 8, !noalias !104
  store float %86, ptr %tHit.i.i.i.i.i.i.i, align 8, !noalias !104
  store i8 1, ptr %set.i.i.i.i, align 16, !noalias !104
  %87 = extractelement <2 x i64> %85, i64 0
  br label %land.lhs.true.i.i.i.i

_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit.i.i.i.i.i: ; preds = %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEE5resetEv.exit.i.i.i.i.i.i
  %88 = and i8 %81, 1
  %tobool.i.not.i.i.i.i.i = icmp eq i8 %88, 0
  br i1 %tobool.i.not.i.i.i.i.i, label %if.end.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit.i.i.land.lhs.true.i_crit_edge.i.i.i

_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit.i.i.land.lhs.true.i_crit_edge.i.i.i: ; preds = %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit.i.i.i.i.i
  %.pre.i.i.i = load i64, ptr %material.i.i.i.i.i.i.i.i, align 16, !noalias !104
  br label %land.lhs.true.i.i.i.i

land.lhs.true.i.i.i.i:                            ; preds = %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit.i.i.land.lhs.true.i_crit_edge.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit.i.thread.i.i.i.i
  %89 = phi i64 [ %.pre.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit.i.i.land.lhs.true.i_crit_edge.i.i.i ], [ %87, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit.i.thread.i.i.i.i ]
  %agg.tmp.sroa.0.sroa.0.0.copyload.i.i.i.i.i.i = load float, ptr %si.i.i.i, align 16, !noalias !104
  %agg.tmp.sroa.0.sroa.2.0.copyload.i.i.i.i.i.i = load float, ptr %agg.tmp.sroa.0.sroa.2.0.this.sroa_idx.i.i.i.i.i.i, align 4, !noalias !104
  %agg.tmp.sroa.0.sroa.3.0.copyload.i.i.i.i.i.i = load float, ptr %agg.tmp.sroa.0.sroa.3.0.this.sroa_idx.i.i.i.i.i.i, align 8, !noalias !104
  %agg.tmp.sroa.0.sroa.4.0.copyload.i.i.i.i.i.i = load float, ptr %agg.tmp.sroa.0.sroa.4.0.this.sroa_idx.i.i.i.i.i.i, align 4, !noalias !104
  %agg.tmp.sroa.0.sroa.5.0.copyload.i.i.i.i.i.i = load float, ptr %agg.tmp.sroa.0.sroa.5.0.this.sroa_idx.i.i.i.i.i.i, align 16, !noalias !104
  %agg.tmp.sroa.0.sroa.6.0.copyload.i.i.i.i.i.i = load float, ptr %agg.tmp.sroa.0.sroa.6.0.this.sroa_idx.i.i.i.i.i.i, align 4, !noalias !104
  %add.i.i.i.i.i.i.i.i.i = fadd float %agg.tmp.sroa.0.sroa.0.0.copyload.i.i.i.i.i.i, %agg.tmp.sroa.0.sroa.2.0.copyload.i.i.i.i.i.i
  %div.i.i.i.i.i.i.i.i.i = fmul float %add.i.i.i.i.i.i.i.i.i, 5.000000e-01
  %add.i.i2.i.i.i.i.i.i.i = fadd float %agg.tmp.sroa.0.sroa.3.0.copyload.i.i.i.i.i.i, %agg.tmp.sroa.0.sroa.4.0.copyload.i.i.i.i.i.i
  %div.i.i3.i.i.i.i.i.i.i = fmul float %add.i.i2.i.i.i.i.i.i.i, 5.000000e-01
  %add.i.i5.i.i.i.i.i.i.i = fadd float %agg.tmp.sroa.0.sroa.5.0.copyload.i.i.i.i.i.i, %agg.tmp.sroa.0.sroa.6.0.copyload.i.i.i.i.i.i
  %div.i.i6.i.i.i.i.i.i.i = fmul float %add.i.i5.i.i.i.i.i.i.i, 5.000000e-01
  call void @llvm.lifetime.end.p0(i64 264, ptr nonnull %ref.tmp.i.i.i.i.i)
  %and.i.i.i.i.i = and i64 %89, 144115188075855871
  %cmp.i33.not.i.i.i.i = icmp eq i64 %and.i.i.i.i.i, 0
  br i1 %cmp.i33.not.i.i.i.i, label %if.end.thread.i.i.i.i, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %land.lhs.true.i.i.i.i
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 4 dereferenceable(16) %T_ray.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.cond.i122.i.i.i.i.preheader

if.end.i.i.i.i:                                   ; preds = %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit.i.i.i.i.i
  call void @llvm.lifetime.end.p0(i64 264, ptr nonnull %ref.tmp.i.i.i.i.i)
  %and.i40.i.i.i.i = and i64 %ray.sroa.30.0352.i.i.i.i, 144115188075855871
  %cmp.i41.not.i.i.i.i = icmp eq i64 %and.i40.i.i.i.i, 0
  br i1 %cmp.i41.not.i.i.i.i, label %while.end.ithread-pre-split.i.i.i, label %cond.end.i.i.i.i

if.end.thread.i.i.i.i:                            ; preds = %land.lhs.true.i.i.i.i
  %and.i40273.i.i.i.i = and i64 %ray.sroa.30.0352.i.i.i.i, 144115188075855871
  %cmp.i41274.not.i.i.i.i = icmp eq i64 %and.i40273.i.i.i.i, 0
  br i1 %cmp.i41274.not.i.i.i.i, label %lor.lhs.false.i.i.i.i, label %cond.false.i.i.i.i

cond.false.i.i.i.i:                               ; preds = %if.end.thread.i.i.i.i
  %90 = extractelement <2 x float> %ray.sroa.0.0347.i.i.i.i, i64 0
  %sub.i.i.i.i.i.i = fsub float %90, %div.i.i.i.i.i.i.i.i.i
  %91 = extractelement <2 x float> %ray.sroa.0.0347.i.i.i.i, i64 1
  %sub4.i.i.i.i.i.i = fsub float %91, %div.i.i3.i.i.i.i.i.i.i
  %sub6.i.i.i.i.i.i = fsub float %ray.sroa.9.0348.i.i.i.i, %div.i.i6.i.i.i.i.i.i.i
  %92 = shufflevector <2 x float> %ray.sroa.14.0349.i.i.i.i, <2 x float> poison, <2 x i32> <i32 poison, i32 0>
  %93 = insertelement <2 x float> %92, float %sub.i.i.i.i.i.i, i64 0
  %94 = fmul <2 x float> %93, %93
  %95 = insertelement <2 x float> %ray.sroa.14.0349.i.i.i.i, float %sub4.i.i.i.i.i.i, i64 0
  %96 = fmul <2 x float> %95, %95
  %97 = fadd <2 x float> %94, %96
  %98 = insertelement <2 x float> poison, float %sub6.i.i.i.i.i.i, i64 0
  %99 = insertelement <2 x float> %98, float %ray.sroa.22.0350.i.i.i.i, i64 1
  %100 = fmul <2 x float> %99, %99
  %101 = fadd <2 x float> %97, %100
  %102 = call <2 x float> @llvm.sqrt.v2f32(<2 x float> %101)
  %shift = shufflevector <2 x float> %102, <2 x float> poison, <2 x i32> <i32 1, i32 poison>
  %103 = fdiv <2 x float> %102, %shift
  %div.i.i.i.i = extractelement <2 x float> %103, i64 0
  br label %cond.end.i.i.i.i

cond.end.i.i.i.i:                                 ; preds = %if.end.i.i.i.i, %cond.false.i.i.i.i
  %tobool.i.not.i399.i.i.i.i = phi i1 [ false, %cond.false.i.i.i.i ], [ true, %if.end.i.i.i.i ]
  %and.i40280286.i.i.i.i = phi i64 [ %and.i40273.i.i.i.i, %cond.false.i.i.i.i ], [ %and.i40.i.i.i.i, %if.end.i.i.i.i ]
  %cond.i.i.i.i = phi float [ %div.i.i.i.i, %cond.false.i.i.i.i ], [ %20, %if.end.i.i.i.i ]
  %104 = load i64, ptr %rng.i.i.i.i, align 8
  %mul.i.i46.i.i.i.i = mul i64 %104, 6364136223846793005
  %105 = load i64, ptr %inc.i.i.i.i.i.i, align 8
  %add.i.i48.i.i.i.i = add i64 %mul.i.i46.i.i.i.i, %105
  store i64 %add.i.i48.i.i.i.i, ptr %rng.i.i.i.i, align 8
  %106 = lshr i64 %104, 45
  %107 = lshr i64 %104, 27
  %shr3.i.i.i.i.i.i = xor i64 %106, %107
  %conv.i.i.i.i.i.i = trunc i64 %shr3.i.i.i.i.i.i to i32
  %shr4.i.i.i.i.i.i = lshr i64 %104, 59
  %conv5.i.i.i.i.i.i = trunc i64 %shr4.i.i.i.i.i.i to i32
  %shr6.i.i.i.i.i.i = lshr i32 %conv.i.i.i.i.i.i, %conv5.i.i.i.i.i.i
  %add7.i.i.i.i.i.i = sub nsw i32 0, %conv5.i.i.i.i.i.i
  %and.i.i.i.i.i.i = and i32 %add7.i.i.i.i.i.i, 31
  %shl.i.i49.i.i.i.i = shl i32 %conv.i.i.i.i.i.i, %and.i.i.i.i.i.i
  %or.i.i50.i.i.i.i = or i32 %shr6.i.i.i.i.i.i, %shl.i.i49.i.i.i.i
  %conv.i.i.i.i.i = uitofp i32 %or.i.i50.i.i.i.i to float
  %mul.i.i.i.i.i = fmul float %conv.i.i.i.i.i, 0x3DF0000000000000
  %cmp.i.i.i.i.i.i = fcmp olt float %mul.i.i.i.i.i, 0x3FEFFFFFE0000000
  %.sroa.speculated.i.i.i.i.i = select i1 %cmp.i.i.i.i.i.i, float %mul.i.i.i.i.i, float 0x3FEFFFFFE0000000
  %shr.i.i.i.i.i.i.i = lshr i64 %ray.sroa.30.0352.i.i.i.i, 57
  %conv.i.i.i.i.i.i.i = trunc i64 %shr.i.i.i.i.i.i.i to i32
  switch i32 %conv.i.i.i.i.i.i.i, label %sw.default.i.i.i.i.i.i.i [
    i32 1, label %sw.bb.i.i.i.i.i.i.i
    i32 2, label %sw.bb4.i.i.i.i.i.i.i
    i32 3, label %sw.bb8.i.i.i.i.i.i.i
    i32 4, label %sw.bb12.i.i.i.i.i.i.i
  ]

sw.bb.i.i.i.i.i.i.i:                              ; preds = %cond.end.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp21.i.i.i.i.i.i.i.i)
  store ptr %T_ray.i.i.i.i, ptr %agg.tmp21.i.i.i.i.i.i.i.i, align 8
  store ptr %r_l.i.i.i.i, ptr %agg.tmp2751.sroa.8.0.agg.tmp21.i.i.i.i.sroa_idx.i.i.i.i, align 8
  store ptr %r_u.i.i.i.i, ptr %agg.tmp2751.sroa.9.0.agg.tmp21.i.i.i.i.sroa_idx.i.i.i.i, align 8
  store ptr %rng.i.i.i.i, ptr %agg.tmp2751.sroa.10.0.agg.tmp21.i.i.i.i.sroa_idx.i.i.i.i, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 28, ptr nonnull %iter.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 40, ptr nonnull %agg.tmp7.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %T_maj.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp23.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp24.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp58.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp59.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 56, ptr nonnull %mp.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 56, ptr nonnull %agg.tmp86.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp97.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp109.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp110.i.i.i.i.i.i.i.i.i)
  %108 = fmul <2 x float> %ray.sroa.14.0349.i.i.i.i, %ray.sroa.14.0349.i.i.i.i
  %shift181 = shufflevector <2 x float> %108, <2 x float> poison, <2 x i32> <i32 1, i32 poison>
  %109 = fadd <2 x float> %108, %shift181
  %add.i.i.i.i.i.i.i.i.i.i.i = extractelement <2 x float> %109, i64 0
  %mul.i2.i.i.i.i.i.i.i.i.i.i.i = fmul float %ray.sroa.22.0350.i.i.i.i, %ray.sroa.22.0350.i.i.i.i
  %add3.i.i.i.i.i.i.i.i.i.i.i = fadd float %mul.i2.i.i.i.i.i.i.i.i.i.i.i, %add.i.i.i.i.i.i.i.i.i.i.i
  %sqrt.i.i.i.i.i.i.i.i.i.i = call noundef float @llvm.sqrt.f32(float %add3.i.i.i.i.i.i.i.i.i.i.i)
  %mul.i.i.i.i.i.i.i.i.i = fmul float %sqrt.i.i.i.i.i.i.i.i.i.i, %cond.i.i.i.i
  %110 = insertelement <2 x float> poison, float %sqrt.i.i.i.i.i.i.i.i.i.i, i64 0
  %111 = shufflevector <2 x float> %110, <2 x float> poison, <2 x i32> zeroinitializer
  %112 = fdiv <2 x float> %ray.sroa.14.0349.i.i.i.i, %111
  %div3.i.i.i.i.i.i.i.i.i.i.i = fdiv float %ray.sroa.22.0350.i.i.i.i, %sqrt.i.i.i.i.i.i.i.i.i.i
  %113 = inttoptr i64 %and.i40280286.i.i.i.i to ptr
  store <2 x float> %ray.sroa.0.0347.i.i.i.i, ptr %agg.tmp7.i.i.i.i.i.i.i.i.i, align 8
  store float %ray.sroa.9.0348.i.i.i.i, ptr %agg.tmp.sroa.6.0.agg.tmp7.i.sroa_idx.i.i.i.i.i.i.i.i, align 8
  store <2 x float> %112, ptr %agg.tmp.sroa.8.0.agg.tmp7.i.sroa_idx.i.i.i.i.i.i.i.i, align 4
  store float %div3.i.i.i.i.i.i.i.i.i.i.i, ptr %agg.tmp.sroa.14.0.agg.tmp7.i.sroa_idx.i.i.i.i.i.i.i.i, align 4
  store float %ray.sroa.28.0351.i.i.i.i, ptr %agg.tmp.sroa.18.0.agg.tmp7.i.sroa_idx.i.i.i.i.i.i.i.i, align 8
  store i64 %ray.sroa.30.0352.i.i.i.i, ptr %medium.i.i.i.i.i.i.i.i.i.i, align 8
  call void @_ZNK4pbrt17HomogeneousMedium9SampleRayENS_3RayEfRKNS_18SampledWavelengthsE(ptr nonnull sret(%"class.pbrt::HomogeneousMajorantIterator") align 4 %iter.i.i.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(124) %113, ptr noundef nonnull %agg.tmp7.i.i.i.i.i.i.i.i.i, float noundef %mul.i.i.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(32) %lambda.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %T_maj.i.i.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i.i.i.i.i.i.i.i.i.i

for.body.i.i.i.i.i.i.i.i.i.i.i:                   ; preds = %for.body.i.i.i.i.i.i.i.i.i.i.i, %sw.bb.i.i.i.i.i.i.i
  %indvars.iv.i.i.i.i.i.i.i.i.i.i.i = phi i64 [ 0, %sw.bb.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i.i.i.i.i.i.i.i.i.i, %for.body.i.i.i.i.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i.i.i.i.i.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i.i.i.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i.i.i.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i.i.i.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i.i.i.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i.i.i.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i.i.i.i.i.i.i.i.i.i, label %while.cond.preheader.i.i.i.i.i.i.i.i.i, label %for.body.i.i.i.i.i.i.i.i.i.i.i, !llvm.loop !103

while.cond.preheader.i.i.i.i.i.i.i.i.i:           ; preds = %for.body.i.i.i.i.i.i.i.i.i.i.i
  %114 = load i8, ptr %called.i.i.i.i.i.i.i.i.i.i, align 4, !noalias !107
  %115 = and i8 %114, 1
  %tobool.not.i.i19.i.i.i.i.i.i.i.i = icmp eq i8 %115, 0
  br i1 %tobool.not.i.i19.i.i.i.i.i.i.i.i, label %invoke.cont9.i.i.i.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i.i.i.i.i.i.i.i

invoke.cont9.i.i.i.i.i.i.i.i.i:                   ; preds = %while.cond.preheader.i.i.i.i.i.i.i.i.i, %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i.i.i.i.i.i.i.i
  %u.addr.0295.i20.i.i.i.i.i.i.i.i = phi float [ %.sroa.speculated.i.i.i.i.i.i.i.i.i.i, %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i.i.i.i.i.i.i.i ], [ %.sroa.speculated.i.i.i.i.i, %while.cond.preheader.i.i.i.i.i.i.i.i.i ]
  store i8 1, ptr %called.i.i.i.i.i.i.i.i.i.i, align 4, !noalias !107
  %seg.sroa.0.0.copyload.i.i.i.i.i.i.i.i.i = load float, ptr %iter.i.i.i.i.i.i.i.i.i, align 4
  %seg.sroa.4.0.copyload.i.i.i.i.i.i.i.i.i = load float, ptr %seg.sroa.4.0.iter.sroa_idx.i.i.i.i.i.i.i.i.i, align 4
  %seg.sroa.7.0.copyload.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %seg.sroa.7.0.iter.sroa_idx.i.i.i.i.i.i.i.i.i, align 4
  %seg.sroa.13.0.copyload.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %seg.sroa.13.0.iter.sroa_idx.i.i.i.i.i.i.i.i.i, align 4
  %seg.sroa.7.8.vec.extract.i.i.i.i.i.i.i.i.i = extractelement <2 x float> %seg.sroa.7.0.copyload.i.i.i.i.i.i.i.i.i, i64 0
  %cmp.i.i.i.i.i.i.i.i.i = fcmp oeq float %seg.sroa.7.8.vec.extract.i.i.i.i.i.i.i.i.i, 0.000000e+00
  br i1 %cmp.i.i.i.i.i.i.i.i.i, label %invoke.cont18.i.i.i.i.i.i.i.i.i, label %invoke.cont53.i.i.i.i.i.i.i.i.i

invoke.cont18.i.i.i.i.i.i.i.i.i:                  ; preds = %invoke.cont9.i.i.i.i.i.i.i.i.i
  %sub.i.i.i.i.i.i.i.i.i = fsub float %seg.sroa.4.0.copyload.i.i.i.i.i.i.i.i.i, %seg.sroa.0.0.copyload.i.i.i.i.i.i.i.i.i
  %116 = call float @llvm.fabs.f32(float %sub.i.i.i.i.i.i.i.i.i)
  %117 = fcmp oeq float %116, 0x7FF0000000000000
  %dt.0.i.i.i.i.i.i.i.i.i = select i1 %117, float 0x47EFFFFFE0000000, float %sub.i.i.i.i.i.i.i.i.i
  %fneg.i.i.i.i.i.i.i.i.i = fneg float %dt.0.i.i.i.i.i.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i.i.i.i.i.i.i.i.i)
  store <2 x float> %seg.sroa.7.0.copyload.i.i.i.i.i.i.i.i.i, ptr %retval.i.i.i.i.i.i.i.i.i.i.i, align 8
  store <2 x float> %seg.sroa.13.0.copyload.i.i.i.i.i.i.i.i.i, ptr %seg.sroa.13.8.retval.i.i.sroa_idx.i.i.i.i.i.i.i.i.i, align 8
  br label %for.body.i.i29.i.i.i.i.i.i.i.i.i

for.body.i.i29.i.i.i.i.i.i.i.i.i:                 ; preds = %for.body.i.i29.i.i.i.i.i.i.i.i.i, %invoke.cont18.i.i.i.i.i.i.i.i.i
  %indvars.iv.i.i30.i.i.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont18.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i31.i.i.i.i.i.i.i.i.i, %for.body.i.i29.i.i.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i30.i.i.i.i.i.i.i.i.i
  %118 = load float, ptr %arrayidx.i.i.i.i.i.i.i.i.i.i.i.i, align 4
  %mul.i.i.i.i.i.i.i.i.i.i.i = fmul float %118, %fneg.i.i.i.i.i.i.i.i.i
  store float %mul.i.i.i.i.i.i.i.i.i.i.i, ptr %arrayidx.i.i.i.i.i.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i31.i.i.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i30.i.i.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i32.i.i.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i31.i.i.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i32.i.i.i.i.i.i.i.i.i, label %invoke.cont28.i.i.i.i.i.i.i.i.i, label %for.body.i.i29.i.i.i.i.i.i.i.i.i, !llvm.loop !110

invoke.cont28.i.i.i.i.i.i.i.i.i:                  ; preds = %for.body.i.i29.i.i.i.i.i.i.i.i.i
  %.fca.0.load.i.i.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i.i.i.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %seg.sroa.13.8.retval.i.i.sroa_idx.i.i.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i.i.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i.i.i.i.i.i.i.i.i.i, ptr %ref.tmp24.i.i.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i.i.i.i.i.i.i.i.i.i, ptr %68, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i.i.i.i.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i.i.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i.i.i.i.i.i.i.i.i

for.body.i.i.i.i.i.i.i.i.i.i:                     ; preds = %_ZN4pbrt7FastExpEf.exit.i.i.i.i.i.i.i.i.i.i, %invoke.cont28.i.i.i.i.i.i.i.i.i
  %indvars.iv.i.i.i.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont28.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i.i.i.i.i.i.i.i.i, %_ZN4pbrt7FastExpEf.exit.i.i.i.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i35.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp24.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i.i.i.i.i.i.i.i
  %119 = load float, ptr %arrayidx.i.i.i35.i.i.i.i.i.i.i.i.i, align 4
  %mul.i.i36.i.i.i.i.i.i.i.i.i = fmul float %119, 0x3FF7154760000000
  %120 = call noundef float @llvm.floor.f32(float %mul.i.i36.i.i.i.i.i.i.i.i.i)
  %sub.i.i.i.i.i.i.i.i.i.i.i = fsub float %mul.i.i36.i.i.i.i.i.i.i.i.i, %120
  %conv.i4.i.i.i.i.i.i.i.i.i.i = fptosi float %120 to i32
  %121 = call noundef float @llvm.fma.f32(float %sub.i.i.i.i.i.i.i.i.i.i.i, float 0x3FB4015920000000, float 0x3FCCF34160000000)
  %122 = call noundef float @llvm.fma.f32(float %sub.i.i.i.i.i.i.i.i.i.i.i, float %121, float 0x3FE6420080000000)
  %123 = call noundef float @llvm.fma.f32(float %sub.i.i.i.i.i.i.i.i.i.i.i, float %122, float 1.000000e+00)
  %124 = bitcast float %123 to i32
  %shr.i.i.i.i.i.i.i.i.i.i.i.i = lshr i32 %124, 23
  %sub.i.i.i.i.i.i.i.i.i.i.i.i = add i32 %conv.i4.i.i.i.i.i.i.i.i.i.i, -127
  %add.i.i37.i.i.i.i.i.i.i.i.i = add i32 %sub.i.i.i.i.i.i.i.i.i.i.i.i, %shr.i.i.i.i.i.i.i.i.i.i.i.i
  %cmp.i.i.i.i.i.i.i.i.i.i.i = icmp slt i32 %add.i.i37.i.i.i.i.i.i.i.i.i, -126
  br i1 %cmp.i.i.i.i.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i.i.i.i.i.i.i.i.i.i, label %if.end.i.i.i.i.i.i.i.i.i.i.i

if.end.i.i.i.i.i.i.i.i.i.i.i:                     ; preds = %for.body.i.i.i.i.i.i.i.i.i.i
  %cmp3.i.i.i.i.i.i.i.i.i.i.i = icmp sgt i32 %add.i.i37.i.i.i.i.i.i.i.i.i, 127
  br i1 %cmp3.i.i.i.i.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i.i.i.i.i.i.i.i.i.i, label %if.end5.i.i.i.i.i.i.i.i.i.i.i

if.end5.i.i.i.i.i.i.i.i.i.i.i:                    ; preds = %if.end.i.i.i.i.i.i.i.i.i.i.i
  %and.i.i38.i.i.i.i.i.i.i.i.i = and i32 %124, -2139095041
  %add7.i.i.i.i.i.i.i.i.i.i.i = shl nsw i32 %add.i.i37.i.i.i.i.i.i.i.i.i, 23
  %shl.i.i.i.i.i.i.i.i.i.i.i = add i32 %add7.i.i.i.i.i.i.i.i.i.i.i, 1065353216
  %or.i.i.i.i.i.i.i.i.i.i.i = or i32 %shl.i.i.i.i.i.i.i.i.i.i.i, %and.i.i38.i.i.i.i.i.i.i.i.i
  %125 = bitcast i32 %or.i.i.i.i.i.i.i.i.i.i.i to float
  br label %_ZN4pbrt7FastExpEf.exit.i.i.i.i.i.i.i.i.i.i

_ZN4pbrt7FastExpEf.exit.i.i.i.i.i.i.i.i.i.i:      ; preds = %if.end5.i.i.i.i.i.i.i.i.i.i.i, %if.end.i.i.i.i.i.i.i.i.i.i.i, %for.body.i.i.i.i.i.i.i.i.i.i
  %retval.0.i.i.i.i.i.i.i.i.i.i.i = phi float [ %125, %if.end5.i.i.i.i.i.i.i.i.i.i.i ], [ 0.000000e+00, %for.body.i.i.i.i.i.i.i.i.i.i ], [ 0x7FF0000000000000, %if.end.i.i.i.i.i.i.i.i.i.i.i ]
  %arrayidx.i.i6.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i.i.i.i.i.i.i.i
  store float %retval.0.i.i.i.i.i.i.i.i.i.i.i, ptr %arrayidx.i.i6.i.i.i.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i.i.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i.i.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i.i.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i.i.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i.i.i.i.i.i.i.i.i, label %invoke.cont32.i.i.i.i.i.i.i.i.i, label %for.body.i.i.i.i.i.i.i.i.i.i, !llvm.loop !111

invoke.cont32.i.i.i.i.i.i.i.i.i:                  ; preds = %_ZN4pbrt7FastExpEf.exit.i.i.i.i.i.i.i.i.i.i
  %.fca.0.load.i.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i.i.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i.i.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i.i.i.i.i.i.i.i.i, ptr %ref.tmp23.i.i.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i.i.i.i.i.i.i.i.i, ptr %69, align 8
  br label %for.body.i39.i.i.i.i.i.i.i.i.i

for.body.i39.i.i.i.i.i.i.i.i.i:                   ; preds = %for.body.i39.i.i.i.i.i.i.i.i.i, %invoke.cont32.i.i.i.i.i.i.i.i.i
  %indvars.iv.i40.i.i.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont32.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i42.i.i.i.i.i.i.i.i.i, %for.body.i39.i.i.i.i.i.i.i.i.i ]
  %arrayidx.i.i41.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp23.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i40.i.i.i.i.i.i.i.i.i
  %126 = load float, ptr %arrayidx.i.i41.i.i.i.i.i.i.i.i.i, align 4
  %arrayidx.i4.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i40.i.i.i.i.i.i.i.i.i
  %127 = load float, ptr %arrayidx.i4.i.i.i.i.i.i.i.i.i.i, align 4
  %mul.i.i.i.i.i.i.i.i.i.i = fmul float %126, %127
  store float %mul.i.i.i.i.i.i.i.i.i.i, ptr %arrayidx.i4.i.i.i.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i42.i.i.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i40.i.i.i.i.i.i.i.i.i, 1
  %exitcond.not.i43.i.i.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i42.i.i.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i43.i.i.i.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i.i.i.i.i.i.i.i, label %for.body.i39.i.i.i.i.i.i.i.i.i, !llvm.loop !112

invoke.cont53.i.i.i.i.i.i.i.i.i:                  ; preds = %invoke.cont9.i.i.i.i.i.i.i.i.i, %invoke.cont98.i.i.i.i.i.i.i.i.i
  %tMin39.0.i.i.i.i.i.i.i.i.i = phi float [ %add.i.i.i.i.i53.i.i.i.i, %invoke.cont98.i.i.i.i.i.i.i.i.i ], [ %seg.sroa.0.0.copyload.i.i.i.i.i.i.i.i.i, %invoke.cont9.i.i.i.i.i.i.i.i.i ]
  %u.addr.1.i.i.i.i.i.i.i.i.i = phi float [ %.sroa.speculated.i.i.i.i.i.i.i.i.i.i, %invoke.cont98.i.i.i.i.i.i.i.i.i ], [ %u.addr.0295.i20.i.i.i.i.i.i.i.i, %invoke.cont9.i.i.i.i.i.i.i.i.i ]
  %sub.i.i.i.i.i.i.i.i.i.i = fsub float 1.000000e+00, %u.addr.1.i.i.i.i.i.i.i.i.i
  %call.i.i.i.i.i.i.i.i.i.i.i = call noundef float @logf(float noundef %sub.i.i.i.i.i.i.i.i.i.i) #25
  %128 = fdiv float %call.i.i.i.i.i.i.i.i.i.i.i, %seg.sroa.7.8.vec.extract.i.i.i.i.i.i.i.i.i
  %add.i.i.i.i.i53.i.i.i.i = fsub float %tMin39.0.i.i.i.i.i.i.i.i.i, %128
  %129 = load i64, ptr %rng.i.i.i.i, align 8
  %mul.i.i54.i.i.i.i.i.i.i.i.i = mul i64 %129, 6364136223846793005
  %130 = load i64, ptr %inc.i.i.i.i.i.i, align 8
  %add.i.i55.i.i.i.i.i.i.i.i.i = add i64 %mul.i.i54.i.i.i.i.i.i.i.i.i, %130
  store i64 %add.i.i55.i.i.i.i.i.i.i.i.i, ptr %rng.i.i.i.i, align 8
  %131 = lshr i64 %129, 45
  %132 = lshr i64 %129, 27
  %shr3.i.i.i.i.i.i.i.i.i.i.i = xor i64 %131, %132
  %conv.i.i.i.i.i.i.i.i.i.i.i = trunc i64 %shr3.i.i.i.i.i.i.i.i.i.i.i to i32
  %shr4.i.i.i.i.i.i.i.i.i.i.i = lshr i64 %129, 59
  %conv5.i.i.i.i.i.i.i.i.i.i.i = trunc i64 %shr4.i.i.i.i.i.i.i.i.i.i.i to i32
  %shr6.i.i.i.i.i.i.i.i.i.i.i = lshr i32 %conv.i.i.i.i.i.i.i.i.i.i.i, %conv5.i.i.i.i.i.i.i.i.i.i.i
  %add7.i.i56.i.i.i.i.i.i.i.i.i = sub nsw i32 0, %conv5.i.i.i.i.i.i.i.i.i.i.i
  %and.i.i57.i.i.i.i.i.i.i.i.i = and i32 %add7.i.i56.i.i.i.i.i.i.i.i.i, 31
  %shl.i.i58.i.i.i.i.i.i.i.i.i = shl i32 %conv.i.i.i.i.i.i.i.i.i.i.i, %and.i.i57.i.i.i.i.i.i.i.i.i
  %or.i.i59.i.i.i.i.i.i.i.i.i = or i32 %shr6.i.i.i.i.i.i.i.i.i.i.i, %shl.i.i58.i.i.i.i.i.i.i.i.i
  %conv.i.i.i.i.i.i.i.i.i.i = uitofp i32 %or.i.i59.i.i.i.i.i.i.i.i.i to float
  %mul.i60.i.i.i.i.i.i.i.i.i = fmul float %conv.i.i.i.i.i.i.i.i.i.i, 0x3DF0000000000000
  %cmp.i.i61.i.i.i.i.i.i.i.i.i = fcmp olt float %mul.i60.i.i.i.i.i.i.i.i.i, 0x3FEFFFFFE0000000
  %.sroa.speculated.i.i.i.i.i.i.i.i.i.i = select i1 %cmp.i.i61.i.i.i.i.i.i.i.i.i, float %mul.i60.i.i.i.i.i.i.i.i.i, float 0x3FEFFFFFE0000000
  %cmp56.i.i.i.i.i.i.i.i.i = fcmp olt float %add.i.i.i.i.i53.i.i.i.i, %seg.sroa.4.0.copyload.i.i.i.i.i.i.i.i.i
  br i1 %cmp56.i.i.i.i.i.i.i.i.i, label %invoke.cont62.i.i.i.i.i.i.i.i.i, label %invoke.cont104.i.i.i.i.i.i.i.i.i

invoke.cont62.i.i.i.i.i.i.i.i.i:                  ; preds = %invoke.cont53.i.i.i.i.i.i.i.i.i
  %sub60.i.i.i.i.i.i.i.i.i = fsub float %add.i.i.i.i.i53.i.i.i.i, %tMin39.0.i.i.i.i.i.i.i.i.i
  %fneg61.i.i.i.i.i.i.i.i.i = fneg float %sub60.i.i.i.i.i.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i72.i.i.i.i.i.i.i.i.i)
  store <2 x float> %seg.sroa.7.0.copyload.i.i.i.i.i.i.i.i.i, ptr %retval.i.i72.i.i.i.i.i.i.i.i.i, align 8
  store <2 x float> %seg.sroa.13.0.copyload.i.i.i.i.i.i.i.i.i, ptr %seg.sroa.13.8.retval.i.i72.sroa_idx.i.i.i.i.i.i.i.i.i, align 8
  br label %for.body.i.i73.i.i.i.i.i.i.i.i.i

for.body.i.i73.i.i.i.i.i.i.i.i.i:                 ; preds = %for.body.i.i73.i.i.i.i.i.i.i.i.i, %invoke.cont62.i.i.i.i.i.i.i.i.i
  %indvars.iv.i.i74.i.i.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont62.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i77.i.i.i.i.i.i.i.i.i, %for.body.i.i73.i.i.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i75.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i72.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i74.i.i.i.i.i.i.i.i.i
  %133 = load float, ptr %arrayidx.i.i.i75.i.i.i.i.i.i.i.i.i, align 4
  %mul.i.i76.i.i.i.i.i.i.i.i.i = fmul float %133, %fneg61.i.i.i.i.i.i.i.i.i
  store float %mul.i.i76.i.i.i.i.i.i.i.i.i, ptr %arrayidx.i.i.i75.i.i.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i77.i.i.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i74.i.i.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i78.i.i.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i77.i.i.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i78.i.i.i.i.i.i.i.i.i, label %invoke.cont65.i.i.i.i.i.i.i.i.i, label %for.body.i.i73.i.i.i.i.i.i.i.i.i, !llvm.loop !110

invoke.cont65.i.i.i.i.i.i.i.i.i:                  ; preds = %for.body.i.i73.i.i.i.i.i.i.i.i.i
  %.fca.0.load.i.i79.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i72.i.i.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i82.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %seg.sroa.13.8.retval.i.i72.sroa_idx.i.i.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i72.i.i.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i79.i.i.i.i.i.i.i.i.i, ptr %ref.tmp59.i.i.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i82.i.i.i.i.i.i.i.i.i, ptr %64, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i85.i.i.i.i.i.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i85.i.i.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i86.i.i.i.i.i.i.i.i.i

for.body.i86.i.i.i.i.i.i.i.i.i:                   ; preds = %_ZN4pbrt7FastExpEf.exit.i103.i.i.i.i.i.i.i.i.i, %invoke.cont65.i.i.i.i.i.i.i.i.i
  %indvars.iv.i87.i.i.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont65.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i106.i.i.i.i.i.i.i.i.i, %_ZN4pbrt7FastExpEf.exit.i103.i.i.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i88.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp59.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i87.i.i.i.i.i.i.i.i.i
  %134 = load float, ptr %arrayidx.i.i.i88.i.i.i.i.i.i.i.i.i, align 4
  %mul.i.i89.i.i.i.i.i.i.i.i.i = fmul float %134, 0x3FF7154760000000
  %135 = call noundef float @llvm.floor.f32(float %mul.i.i89.i.i.i.i.i.i.i.i.i)
  %sub.i.i90.i.i.i.i.i.i.i.i.i = fsub float %mul.i.i89.i.i.i.i.i.i.i.i.i, %135
  %conv.i4.i91.i.i.i.i.i.i.i.i.i = fptosi float %135 to i32
  %136 = call noundef float @llvm.fma.f32(float %sub.i.i90.i.i.i.i.i.i.i.i.i, float 0x3FB4015920000000, float 0x3FCCF34160000000)
  %137 = call noundef float @llvm.fma.f32(float %sub.i.i90.i.i.i.i.i.i.i.i.i, float %136, float 0x3FE6420080000000)
  %138 = call noundef float @llvm.fma.f32(float %sub.i.i90.i.i.i.i.i.i.i.i.i, float %137, float 1.000000e+00)
  %139 = bitcast float %138 to i32
  %shr.i.i.i92.i.i.i.i.i.i.i.i.i = lshr i32 %139, 23
  %sub.i.i.i93.i.i.i.i.i.i.i.i.i = add i32 %conv.i4.i91.i.i.i.i.i.i.i.i.i, -127
  %add.i.i94.i.i.i.i.i.i.i.i.i = add i32 %sub.i.i.i93.i.i.i.i.i.i.i.i.i, %shr.i.i.i92.i.i.i.i.i.i.i.i.i
  %cmp.i.i95.i.i.i.i.i.i.i.i.i = icmp slt i32 %add.i.i94.i.i.i.i.i.i.i.i.i, -126
  br i1 %cmp.i.i95.i.i.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i103.i.i.i.i.i.i.i.i.i, label %if.end.i.i96.i.i.i.i.i.i.i.i.i

if.end.i.i96.i.i.i.i.i.i.i.i.i:                   ; preds = %for.body.i86.i.i.i.i.i.i.i.i.i
  %cmp3.i.i97.i.i.i.i.i.i.i.i.i = icmp sgt i32 %add.i.i94.i.i.i.i.i.i.i.i.i, 127
  br i1 %cmp3.i.i97.i.i.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i103.i.i.i.i.i.i.i.i.i, label %if.end5.i.i98.i.i.i.i.i.i.i.i.i

if.end5.i.i98.i.i.i.i.i.i.i.i.i:                  ; preds = %if.end.i.i96.i.i.i.i.i.i.i.i.i
  %and.i.i99.i.i.i.i.i.i.i.i.i = and i32 %139, -2139095041
  %add7.i.i100.i.i.i.i.i.i.i.i.i = shl nsw i32 %add.i.i94.i.i.i.i.i.i.i.i.i, 23
  %shl.i.i101.i.i.i.i.i.i.i.i.i = add i32 %add7.i.i100.i.i.i.i.i.i.i.i.i, 1065353216
  %or.i.i102.i.i.i.i.i.i.i.i.i = or i32 %shl.i.i101.i.i.i.i.i.i.i.i.i, %and.i.i99.i.i.i.i.i.i.i.i.i
  %140 = bitcast i32 %or.i.i102.i.i.i.i.i.i.i.i.i to float
  br label %_ZN4pbrt7FastExpEf.exit.i103.i.i.i.i.i.i.i.i.i

_ZN4pbrt7FastExpEf.exit.i103.i.i.i.i.i.i.i.i.i:   ; preds = %if.end5.i.i98.i.i.i.i.i.i.i.i.i, %if.end.i.i96.i.i.i.i.i.i.i.i.i, %for.body.i86.i.i.i.i.i.i.i.i.i
  %retval.0.i.i104.i.i.i.i.i.i.i.i.i = phi float [ %140, %if.end5.i.i98.i.i.i.i.i.i.i.i.i ], [ 0.000000e+00, %for.body.i86.i.i.i.i.i.i.i.i.i ], [ 0x7FF0000000000000, %if.end.i.i96.i.i.i.i.i.i.i.i.i ]
  %arrayidx.i.i6.i105.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i85.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i87.i.i.i.i.i.i.i.i.i
  store float %retval.0.i.i104.i.i.i.i.i.i.i.i.i, ptr %arrayidx.i.i6.i105.i.i.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i106.i.i.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i87.i.i.i.i.i.i.i.i.i, 1
  %exitcond.not.i107.i.i.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i106.i.i.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i107.i.i.i.i.i.i.i.i.i, label %invoke.cont69.i.i.i.i.i.i.i.i.i, label %for.body.i86.i.i.i.i.i.i.i.i.i, !llvm.loop !111

invoke.cont69.i.i.i.i.i.i.i.i.i:                  ; preds = %_ZN4pbrt7FastExpEf.exit.i103.i.i.i.i.i.i.i.i.i
  %.fca.0.load.i108.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i85.i.i.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i111.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i110.i.i.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i85.i.i.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i108.i.i.i.i.i.i.i.i.i, ptr %ref.tmp58.i.i.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i111.i.i.i.i.i.i.i.i.i, ptr %65, align 8
  br label %for.body.i114.i.i.i.i.i.i.i.i.i

for.body.i114.i.i.i.i.i.i.i.i.i:                  ; preds = %for.body.i114.i.i.i.i.i.i.i.i.i, %invoke.cont69.i.i.i.i.i.i.i.i.i
  %indvars.iv.i115.i.i.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont69.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i119.i.i.i.i.i.i.i.i.i, %for.body.i114.i.i.i.i.i.i.i.i.i ]
  %arrayidx.i.i116.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp58.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i115.i.i.i.i.i.i.i.i.i
  %141 = load float, ptr %arrayidx.i.i116.i.i.i.i.i.i.i.i.i, align 4
  %arrayidx.i4.i117.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i115.i.i.i.i.i.i.i.i.i
  %142 = load float, ptr %arrayidx.i4.i117.i.i.i.i.i.i.i.i.i, align 4
  %mul.i118.i.i.i.i.i.i.i.i.i = fmul float %141, %142
  store float %mul.i118.i.i.i.i.i.i.i.i.i, ptr %arrayidx.i4.i117.i.i.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i119.i.i.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i115.i.i.i.i.i.i.i.i.i, 1
  %exitcond.not.i120.i.i.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i119.i.i.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i120.i.i.i.i.i.i.i.i.i, label %invoke.cont76.i.i.i.i.i.i.i.i.i, label %for.body.i114.i.i.i.i.i.i.i.i.i, !llvm.loop !112

invoke.cont76.i.i.i.i.i.i.i.i.i:                  ; preds = %for.body.i114.i.i.i.i.i.i.i.i.i
  %143 = insertelement <2 x float> poison, float %add.i.i.i.i.i53.i.i.i.i, i64 0
  %144 = shufflevector <2 x float> %143, <2 x float> poison, <2 x i32> zeroinitializer
  %145 = fmul <2 x float> %112, %144
  %mul3.i.i.i.i.i.i.i.i.i.i.i = fmul float %div3.i.i.i.i.i.i.i.i.i.i.i, %add.i.i.i.i.i53.i.i.i.i
  %146 = fadd <2 x float> %ray.sroa.0.0347.i.i.i.i, %145
  %add6.i.i.i.i.i.i.i.i.i.i.i = fadd float %ray.sroa.9.0348.i.i.i.i, %mul3.i.i.i.i.i.i.i.i.i.i.i
  call void @_ZNK4pbrt17HomogeneousMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsE(ptr nonnull sret(%"struct.pbrt::MediumProperties") align 8 %mp.i.i.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(124) %113, <2 x float> %146, float %add6.i.i.i.i.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(32) %lambda.i.i.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp86.i.i.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(32) %mp.i.i.i.i.i.i.i.i.i, i64 32, i1 false)
  %147 = load i64, ptr %phase3.i.i.i.i.i.i.i.i.i.i, align 8
  store i64 %147, ptr %phase.i.i.i.i.i.i.i.i.i.i, align 8
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %Le.i.i.i.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(16) %Le4.i.i.i.i.i.i.i.i.i.i, i64 16, i1 false)
  %agg.tmp92.sroa.0.0.copyload.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %T_maj.i.i.i.i.i.i.i.i.i, align 8
  %agg.tmp92.sroa.2.0.copyload.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %agg.tmp92.sroa.2.0.T_maj.sroa_idx.i.i.i.i.i.i.i.i.i, align 8
  %call94.i.i.i.i.i.i.i.i.i = call fastcc noundef zeroext i1 @"_ZZN4pbrt18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS1_17IntersectShadowTrEiS5_S9_ENKSA_clEiEUlNS_6Point3IfEEE_EEvS3_S9_T_T0_ENKUlSE_NS_16MediumPropertiesENS_15SampledSpectrumESJ_E_clESE_SI_SJ_SJ_"(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp21.i.i.i.i.i.i.i.i, ptr noundef nonnull %agg.tmp86.i.i.i.i.i.i.i.i.i, <2 x float> %seg.sroa.7.0.copyload.i.i.i.i.i.i.i.i.i, <2 x float> %seg.sroa.13.0.copyload.i.i.i.i.i.i.i.i.i, <2 x float> %agg.tmp92.sroa.0.0.copyload.i.i.i.i.i.i.i.i.i, <2 x float> %agg.tmp92.sroa.2.0.copyload.i.i.i.i.i.i.i.i.i)
  br i1 %call94.i.i.i.i.i.i.i.i.i, label %if.end96.i.i.i.i.i.i.i.i.i, label %while.end126.i.i.i.i.i.i.i.i.i

if.end96.i.i.i.i.i.i.i.i.i:                       ; preds = %invoke.cont76.i.i.i.i.i.i.i.i.i
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 4 dereferenceable(16) %ref.tmp97.i.i.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i144.i.i.i.i.i.i.i.i.i

for.body.i.i144.i.i.i.i.i.i.i.i.i:                ; preds = %for.body.i.i144.i.i.i.i.i.i.i.i.i, %if.end96.i.i.i.i.i.i.i.i.i
  %indvars.iv.i.i145.i.i.i.i.i.i.i.i.i = phi i64 [ 0, %if.end96.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i147.i.i.i.i.i.i.i.i.i, %for.body.i.i144.i.i.i.i.i.i.i.i.i ]
  %arrayidx.i.i146.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp97.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i145.i.i.i.i.i.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i146.i.i.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i147.i.i.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i145.i.i.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i148.i.i.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i147.i.i.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i148.i.i.i.i.i.i.i.i.i, label %invoke.cont98.i.i.i.i.i.i.i.i.i, label %for.body.i.i144.i.i.i.i.i.i.i.i.i, !llvm.loop !103

invoke.cont98.i.i.i.i.i.i.i.i.i:                  ; preds = %for.body.i.i144.i.i.i.i.i.i.i.i.i
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %T_maj.i.i.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(16) %ref.tmp97.i.i.i.i.i.i.i.i.i, i64 16, i1 false)
  br label %invoke.cont53.i.i.i.i.i.i.i.i.i, !llvm.loop !113

invoke.cont104.i.i.i.i.i.i.i.i.i:                 ; preds = %invoke.cont53.i.i.i.i.i.i.i.i.i
  %sub103.i.i.i.i.i.i.i.i.i = fsub float %seg.sroa.4.0.copyload.i.i.i.i.i.i.i.i.i, %tMin39.0.i.i.i.i.i.i.i.i.i
  %148 = call float @llvm.fabs.f32(float %sub103.i.i.i.i.i.i.i.i.i)
  %149 = fcmp oeq float %148, 0x7FF0000000000000
  %dt99.0.i.i.i.i.i.i.i.i.i = select i1 %149, float 0x47EFFFFFE0000000, float %sub103.i.i.i.i.i.i.i.i.i
  %fneg111.i.i.i.i.i.i.i.i.i = fneg float %dt99.0.i.i.i.i.i.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i160.i.i.i.i.i.i.i.i.i)
  store <2 x float> %seg.sroa.7.0.copyload.i.i.i.i.i.i.i.i.i, ptr %retval.i.i160.i.i.i.i.i.i.i.i.i, align 8
  store <2 x float> %seg.sroa.13.0.copyload.i.i.i.i.i.i.i.i.i, ptr %seg.sroa.13.8.retval.i.i160.sroa_idx.i.i.i.i.i.i.i.i.i, align 8
  br label %for.body.i.i161.i.i.i.i.i.i.i.i.i

for.body.i.i161.i.i.i.i.i.i.i.i.i:                ; preds = %for.body.i.i161.i.i.i.i.i.i.i.i.i, %invoke.cont104.i.i.i.i.i.i.i.i.i
  %indvars.iv.i.i162.i.i.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont104.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i165.i.i.i.i.i.i.i.i.i, %for.body.i.i161.i.i.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i163.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i160.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i162.i.i.i.i.i.i.i.i.i
  %150 = load float, ptr %arrayidx.i.i.i163.i.i.i.i.i.i.i.i.i, align 4
  %mul.i.i164.i.i.i.i.i.i.i.i.i = fmul float %150, %fneg111.i.i.i.i.i.i.i.i.i
  store float %mul.i.i164.i.i.i.i.i.i.i.i.i, ptr %arrayidx.i.i.i163.i.i.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i165.i.i.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i162.i.i.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i166.i.i.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i165.i.i.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i166.i.i.i.i.i.i.i.i.i, label %invoke.cont115.i.i.i.i.i.i.i.i.i, label %for.body.i.i161.i.i.i.i.i.i.i.i.i, !llvm.loop !110

invoke.cont115.i.i.i.i.i.i.i.i.i:                 ; preds = %for.body.i.i161.i.i.i.i.i.i.i.i.i
  %.fca.0.load.i.i167.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i160.i.i.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i170.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %seg.sroa.13.8.retval.i.i160.sroa_idx.i.i.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i160.i.i.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i167.i.i.i.i.i.i.i.i.i, ptr %ref.tmp110.i.i.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i170.i.i.i.i.i.i.i.i.i, ptr %66, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i173.i.i.i.i.i.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i173.i.i.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i174.i.i.i.i.i.i.i.i.i

for.body.i174.i.i.i.i.i.i.i.i.i:                  ; preds = %_ZN4pbrt7FastExpEf.exit.i191.i.i.i.i.i.i.i.i.i, %invoke.cont115.i.i.i.i.i.i.i.i.i
  %indvars.iv.i175.i.i.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont115.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i194.i.i.i.i.i.i.i.i.i, %_ZN4pbrt7FastExpEf.exit.i191.i.i.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i176.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp110.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i175.i.i.i.i.i.i.i.i.i
  %151 = load float, ptr %arrayidx.i.i.i176.i.i.i.i.i.i.i.i.i, align 4
  %mul.i.i177.i.i.i.i.i.i.i.i.i = fmul float %151, 0x3FF7154760000000
  %152 = call noundef float @llvm.floor.f32(float %mul.i.i177.i.i.i.i.i.i.i.i.i)
  %sub.i.i178.i.i.i.i.i.i.i.i.i = fsub float %mul.i.i177.i.i.i.i.i.i.i.i.i, %152
  %conv.i4.i179.i.i.i.i.i.i.i.i.i = fptosi float %152 to i32
  %153 = call noundef float @llvm.fma.f32(float %sub.i.i178.i.i.i.i.i.i.i.i.i, float 0x3FB4015920000000, float 0x3FCCF34160000000)
  %154 = call noundef float @llvm.fma.f32(float %sub.i.i178.i.i.i.i.i.i.i.i.i, float %153, float 0x3FE6420080000000)
  %155 = call noundef float @llvm.fma.f32(float %sub.i.i178.i.i.i.i.i.i.i.i.i, float %154, float 1.000000e+00)
  %156 = bitcast float %155 to i32
  %shr.i.i.i180.i.i.i.i.i.i.i.i.i = lshr i32 %156, 23
  %sub.i.i.i181.i.i.i.i.i.i.i.i.i = add i32 %conv.i4.i179.i.i.i.i.i.i.i.i.i, -127
  %add.i.i182.i.i.i.i.i.i.i.i.i = add i32 %sub.i.i.i181.i.i.i.i.i.i.i.i.i, %shr.i.i.i180.i.i.i.i.i.i.i.i.i
  %cmp.i.i183.i.i.i.i.i.i.i.i.i = icmp slt i32 %add.i.i182.i.i.i.i.i.i.i.i.i, -126
  br i1 %cmp.i.i183.i.i.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i191.i.i.i.i.i.i.i.i.i, label %if.end.i.i184.i.i.i.i.i.i.i.i.i

if.end.i.i184.i.i.i.i.i.i.i.i.i:                  ; preds = %for.body.i174.i.i.i.i.i.i.i.i.i
  %cmp3.i.i185.i.i.i.i.i.i.i.i.i = icmp sgt i32 %add.i.i182.i.i.i.i.i.i.i.i.i, 127
  br i1 %cmp3.i.i185.i.i.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i191.i.i.i.i.i.i.i.i.i, label %if.end5.i.i186.i.i.i.i.i.i.i.i.i

if.end5.i.i186.i.i.i.i.i.i.i.i.i:                 ; preds = %if.end.i.i184.i.i.i.i.i.i.i.i.i
  %and.i.i187.i.i.i.i.i.i.i.i.i = and i32 %156, -2139095041
  %add7.i.i188.i.i.i.i.i.i.i.i.i = shl nsw i32 %add.i.i182.i.i.i.i.i.i.i.i.i, 23
  %shl.i.i189.i.i.i.i.i.i.i.i.i = add i32 %add7.i.i188.i.i.i.i.i.i.i.i.i, 1065353216
  %or.i.i190.i.i.i.i.i.i.i.i.i = or i32 %shl.i.i189.i.i.i.i.i.i.i.i.i, %and.i.i187.i.i.i.i.i.i.i.i.i
  %157 = bitcast i32 %or.i.i190.i.i.i.i.i.i.i.i.i to float
  br label %_ZN4pbrt7FastExpEf.exit.i191.i.i.i.i.i.i.i.i.i

_ZN4pbrt7FastExpEf.exit.i191.i.i.i.i.i.i.i.i.i:   ; preds = %if.end5.i.i186.i.i.i.i.i.i.i.i.i, %if.end.i.i184.i.i.i.i.i.i.i.i.i, %for.body.i174.i.i.i.i.i.i.i.i.i
  %retval.0.i.i192.i.i.i.i.i.i.i.i.i = phi float [ %157, %if.end5.i.i186.i.i.i.i.i.i.i.i.i ], [ 0.000000e+00, %for.body.i174.i.i.i.i.i.i.i.i.i ], [ 0x7FF0000000000000, %if.end.i.i184.i.i.i.i.i.i.i.i.i ]
  %arrayidx.i.i6.i193.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i173.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i175.i.i.i.i.i.i.i.i.i
  store float %retval.0.i.i192.i.i.i.i.i.i.i.i.i, ptr %arrayidx.i.i6.i193.i.i.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i194.i.i.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i175.i.i.i.i.i.i.i.i.i, 1
  %exitcond.not.i195.i.i.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i194.i.i.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i195.i.i.i.i.i.i.i.i.i, label %invoke.cont119.i.i.i.i.i.i.i.i.i, label %for.body.i174.i.i.i.i.i.i.i.i.i, !llvm.loop !111

invoke.cont119.i.i.i.i.i.i.i.i.i:                 ; preds = %_ZN4pbrt7FastExpEf.exit.i191.i.i.i.i.i.i.i.i.i
  %.fca.0.load.i196.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i173.i.i.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i199.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i198.i.i.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i173.i.i.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i196.i.i.i.i.i.i.i.i.i, ptr %ref.tmp109.i.i.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i199.i.i.i.i.i.i.i.i.i, ptr %67, align 8
  br label %for.body.i202.i.i.i.i.i.i.i.i.i

for.body.i202.i.i.i.i.i.i.i.i.i:                  ; preds = %for.body.i202.i.i.i.i.i.i.i.i.i, %invoke.cont119.i.i.i.i.i.i.i.i.i
  %indvars.iv.i203.i.i.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont119.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i207.i.i.i.i.i.i.i.i.i, %for.body.i202.i.i.i.i.i.i.i.i.i ]
  %arrayidx.i.i204.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp109.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i203.i.i.i.i.i.i.i.i.i
  %158 = load float, ptr %arrayidx.i.i204.i.i.i.i.i.i.i.i.i, align 4
  %arrayidx.i4.i205.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i203.i.i.i.i.i.i.i.i.i
  %159 = load float, ptr %arrayidx.i4.i205.i.i.i.i.i.i.i.i.i, align 4
  %mul.i206.i.i.i.i.i.i.i.i.i = fmul float %158, %159
  store float %mul.i206.i.i.i.i.i.i.i.i.i, ptr %arrayidx.i4.i205.i.i.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i207.i.i.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i203.i.i.i.i.i.i.i.i.i, 1
  %exitcond.not.i208.i.i.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i207.i.i.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i208.i.i.i.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i.i.i.i.i.i.i.i, label %for.body.i202.i.i.i.i.i.i.i.i.i, !llvm.loop !112

_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i.i.i.i.i.i.i.i: ; preds = %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i.i.i.i.i.i.i.i, %for.body.i39.i.i.i.i.i.i.i.i.i, %while.cond.preheader.i.i.i.i.i.i.i.i.i
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(16) %T_maj.i.i.i.i.i.i.i.i.i, i64 16, i1 false)
  br label %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_17HomogeneousMediumEEEDaSH_.exit.i.i.i.i.i.i.i"

_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i.i.i.i.i.i.i.i: ; preds = %for.body.i202.i.i.i.i.i.i.i.i.i
  %.pre.i.i.i.i.i.i.i.i = load i8, ptr %called.i.i.i.i.i.i.i.i.i.i, align 4, !noalias !107
  %160 = and i8 %.pre.i.i.i.i.i.i.i.i, 1
  %tobool.not.i.i.i.i.i.i.i.i.i.i = icmp eq i8 %160, 0
  br i1 %tobool.not.i.i.i.i.i.i.i.i.i.i, label %invoke.cont9.i.i.i.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i.i.i.i.i.i.i.i

while.end126.i.i.i.i.i.i.i.i.i:                   ; preds = %invoke.cont76.i.i.i.i.i.i.i.i.i
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i214.i.i.i.i.i.i.i.i.i

for.body.i.i214.i.i.i.i.i.i.i.i.i:                ; preds = %for.body.i.i214.i.i.i.i.i.i.i.i.i, %while.end126.i.i.i.i.i.i.i.i.i
  %indvars.iv.i.i215.i.i.i.i.i.i.i.i.i = phi i64 [ 0, %while.end126.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i217.i.i.i.i.i.i.i.i.i, %for.body.i.i214.i.i.i.i.i.i.i.i.i ]
  %arrayidx.i.i216.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i215.i.i.i.i.i.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i216.i.i.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i217.i.i.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i215.i.i.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i218.i.i.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i217.i.i.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i218.i.i.i.i.i.i.i.i.i, label %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_17HomogeneousMediumEEEDaSH_.exit.i.i.i.i.i.i.i", label %for.body.i.i214.i.i.i.i.i.i.i.i.i, !llvm.loop !103

"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_17HomogeneousMediumEEEDaSH_.exit.i.i.i.i.i.i.i": ; preds = %for.body.i.i214.i.i.i.i.i.i.i.i.i, %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i.i.i.i.i.i.i.i
  %.fca.0.load.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp21.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 28, ptr nonnull %iter.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 40, ptr nonnull %agg.tmp7.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %T_maj.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp23.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp24.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp58.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp59.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 56, ptr nonnull %mp.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 56, ptr nonnull %agg.tmp86.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp97.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp109.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp110.i.i.i.i.i.i.i.i.i)
  br label %"_ZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_.exit.i.i.i.i"

sw.bb4.i.i.i.i.i.i.i:                             ; preds = %cond.end.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp21.i24.i.i.i.i.i.i.i)
  store ptr %T_ray.i.i.i.i, ptr %agg.tmp21.i24.i.i.i.i.i.i.i, align 8
  store ptr %r_l.i.i.i.i, ptr %agg.tmp2751.sroa.8.0.agg.tmp21.i24.i.i.i.sroa_idx.i.i.i.i, align 8
  store ptr %r_u.i.i.i.i, ptr %agg.tmp2751.sroa.9.0.agg.tmp21.i24.i.i.i.sroa_idx.i.i.i.i, align 8
  store ptr %rng.i.i.i.i, ptr %agg.tmp2751.sroa.10.0.agg.tmp21.i24.i.i.i.sroa_idx.i.i.i.i, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i16.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 96, ptr nonnull %iter.i.i17.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 40, ptr nonnull %agg.tmp7.i.i18.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %T_maj.i.i19.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 28, ptr nonnull %seg.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp22.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp23.i.i20.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp57.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp58.i.i21.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 56, ptr nonnull %mp.i.i22.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 56, ptr nonnull %agg.tmp85.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp96.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp108.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp109.i.i23.i.i.i.i.i.i.i)
  %161 = fmul <2 x float> %ray.sroa.14.0349.i.i.i.i, %ray.sroa.14.0349.i.i.i.i
  %shift182 = shufflevector <2 x float> %161, <2 x float> poison, <2 x i32> <i32 1, i32 poison>
  %162 = fadd <2 x float> %161, %shift182
  %add.i.i.i.i41.i.i.i.i.i.i.i = extractelement <2 x float> %162, i64 0
  %mul.i2.i.i.i.i42.i.i.i.i.i.i.i = fmul float %ray.sroa.22.0350.i.i.i.i, %ray.sroa.22.0350.i.i.i.i
  %add3.i.i.i.i43.i.i.i.i.i.i.i = fadd float %mul.i2.i.i.i.i42.i.i.i.i.i.i.i, %add.i.i.i.i41.i.i.i.i.i.i.i
  %sqrt.i.i.i44.i.i.i.i.i.i.i = call noundef float @llvm.sqrt.f32(float %add3.i.i.i.i43.i.i.i.i.i.i.i)
  %mul.i.i45.i.i.i.i.i.i.i = fmul float %sqrt.i.i.i44.i.i.i.i.i.i.i, %cond.i.i.i.i
  %163 = insertelement <2 x float> poison, float %sqrt.i.i.i44.i.i.i.i.i.i.i, i64 0
  %164 = shufflevector <2 x float> %163, <2 x float> poison, <2 x i32> zeroinitializer
  %165 = fdiv <2 x float> %ray.sroa.14.0349.i.i.i.i, %164
  %div3.i.i.i.i48.i.i.i.i.i.i.i = fdiv float %ray.sroa.22.0350.i.i.i.i, %sqrt.i.i.i44.i.i.i.i.i.i.i
  %166 = inttoptr i64 %and.i40280286.i.i.i.i to ptr
  store <2 x float> %ray.sroa.0.0347.i.i.i.i, ptr %agg.tmp7.i.i18.i.i.i.i.i.i.i, align 8
  store float %ray.sroa.9.0348.i.i.i.i, ptr %agg.tmp.sroa.6.0.agg.tmp7.i.sroa_idx.i53.i.i.i.i.i.i.i, align 8
  store <2 x float> %165, ptr %agg.tmp.sroa.8.0.agg.tmp7.i.sroa_idx.i54.i.i.i.i.i.i.i, align 4
  store float %div3.i.i.i.i48.i.i.i.i.i.i.i, ptr %agg.tmp.sroa.14.0.agg.tmp7.i.sroa_idx.i55.i.i.i.i.i.i.i, align 4
  store float %ray.sroa.28.0351.i.i.i.i, ptr %agg.tmp.sroa.18.0.agg.tmp7.i.sroa_idx.i56.i.i.i.i.i.i.i, align 8
  store i64 %ray.sroa.30.0352.i.i.i.i, ptr %medium.i.i.i57.i.i.i.i.i.i.i, align 8
  call void @_ZNK4pbrt10GridMedium9SampleRayENS_3RayEfRKNS_18SampledWavelengthsE(ptr nonnull sret(%"class.pbrt::DDAMajorantIterator") align 8 %iter.i.i17.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(520) %166, ptr noundef nonnull %agg.tmp7.i.i18.i.i.i.i.i.i.i, float noundef %mul.i.i45.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(32) %lambda.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %T_maj.i.i19.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i.i.i58.i.i.i.i.i.i.i

for.body.i.i.i.i58.i.i.i.i.i.i.i:                 ; preds = %for.body.i.i.i.i58.i.i.i.i.i.i.i, %sw.bb4.i.i.i.i.i.i.i
  %indvars.iv.i.i.i.i59.i.i.i.i.i.i.i = phi i64 [ 0, %sw.bb4.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i.i.i61.i.i.i.i.i.i.i, %for.body.i.i.i.i58.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i.i60.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i19.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i.i59.i.i.i.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i.i.i60.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i.i.i61.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i.i.i59.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i.i.i62.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i.i.i61.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i.i.i62.i.i.i.i.i.i.i, label %while.cond.preheader.i.i63.i.i.i.i.i.i.i, label %for.body.i.i.i.i58.i.i.i.i.i.i.i, !llvm.loop !103

while.cond.preheader.i.i63.i.i.i.i.i.i.i:         ; preds = %for.body.i.i.i.i58.i.i.i.i.i.i.i
  call void @_ZN4pbrt19DDAMajorantIterator4NextEv(ptr nonnull sret(%"class.pstd::optional.223") align 4 %seg.i.i.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(92) %iter.i.i17.i.i.i.i.i.i.i)
  %167 = load i8, ptr %set.i.i.i.i.i.i.i.i.i.i, align 4
  %168 = and i8 %167, 1
  %tobool.i.not.i.i42.i.i.i.i.i.i.i = icmp eq i8 %168, 0
  br i1 %tobool.i.not.i.i42.i.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i235.i.i.i.i.i.i.i, label %invoke.cont.i.i.i.i.i.i.i.i.i

_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i235.i.i.i.i.i.i.i: ; preds = %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i130.i.i.i.i.i.i.i, %while.cond.preheader.i.i63.i.i.i.i.i.i.i
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i16.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(16) %T_maj.i.i19.i.i.i.i.i.i.i, i64 16, i1 false)
  br label %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_10GridMediumEEEDaSH_.exit.i.i.i.i.i.i.i"

invoke.cont.i.i.i.i.i.i.i.i.i:                    ; preds = %while.cond.preheader.i.i63.i.i.i.i.i.i.i, %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i130.i.i.i.i.i.i.i
  %u.addr.0.i23.i43.i.i.i.i.i.i.i = phi float [ %u.addr.2270.i.i.i.i.i.i.i.i.i, %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i130.i.i.i.i.i.i.i ], [ %.sroa.speculated.i.i.i.i.i, %while.cond.preheader.i.i63.i.i.i.i.i.i.i ]
  %169 = load float, ptr %sigma_maj.i.i.i.i.i.i.i.i.i, align 4
  %cmp.i.i72.i.i.i.i.i.i.i = fcmp oeq float %169, 0.000000e+00
  br i1 %cmp.i.i72.i.i.i.i.i.i.i, label %invoke.cont17.i.i.i.i.i.i.i.i.i, label %invoke.cont48.preheader.i.i.i.i.i.i.i.i.i

invoke.cont17.i.i.i.i.i.i.i.i.i:                  ; preds = %invoke.cont.i.i.i.i.i.i.i.i.i
  %170 = load float, ptr %tMax54.i.i.i.i.i.i.i.i.i, align 4
  %171 = load float, ptr %seg.i.i.i.i.i.i.i.i.i, align 4
  %sub.i.i193.i.i.i.i.i.i.i = fsub float %170, %171
  %172 = call float @llvm.fabs.f32(float %sub.i.i193.i.i.i.i.i.i.i)
  %173 = fcmp oeq float %172, 0x7FF0000000000000
  %dt.0.i.i194.i.i.i.i.i.i.i = select i1 %173, float 0x47EFFFFFE0000000, float %sub.i.i193.i.i.i.i.i.i.i
  %fneg.i.i195.i.i.i.i.i.i.i = fneg float %dt.0.i.i194.i.i.i.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i.i15.i.i.i.i.i.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i.i.i15.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(16) %sigma_maj.i.i.i.i.i.i.i.i.i, i64 16, i1 false)
  br label %for.body.i.i29.i.i196.i.i.i.i.i.i.i

for.body.i.i29.i.i196.i.i.i.i.i.i.i:              ; preds = %for.body.i.i29.i.i196.i.i.i.i.i.i.i, %invoke.cont17.i.i.i.i.i.i.i.i.i
  %indvars.iv.i.i30.i.i197.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont17.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i31.i.i200.i.i.i.i.i.i.i, %for.body.i.i29.i.i196.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i.i.i198.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i.i.i15.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i30.i.i197.i.i.i.i.i.i.i
  %174 = load float, ptr %arrayidx.i.i.i.i.i198.i.i.i.i.i.i.i, align 4
  %mul.i.i.i.i199.i.i.i.i.i.i.i = fmul float %174, %fneg.i.i195.i.i.i.i.i.i.i
  store float %mul.i.i.i.i199.i.i.i.i.i.i.i, ptr %arrayidx.i.i.i.i.i198.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i31.i.i200.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i30.i.i197.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i32.i.i201.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i31.i.i200.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i32.i.i201.i.i.i.i.i.i.i, label %invoke.cont27.i.i.i.i.i.i.i.i.i, label %for.body.i.i29.i.i196.i.i.i.i.i.i.i, !llvm.loop !110

invoke.cont27.i.i.i.i.i.i.i.i.i:                  ; preds = %for.body.i.i29.i.i196.i.i.i.i.i.i.i
  %.fca.0.load.i.i.i.i202.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i.i.i15.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i.i.i203.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i.i.i.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i.i15.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i.i.i202.i.i.i.i.i.i.i, ptr %ref.tmp23.i.i20.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i.i.i203.i.i.i.i.i.i.i, ptr %62, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i14.i.i.i.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i.i14.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i.i204.i.i.i.i.i.i.i

for.body.i.i.i204.i.i.i.i.i.i.i:                  ; preds = %_ZN4pbrt7FastExpEf.exit.i.i.i221.i.i.i.i.i.i.i, %invoke.cont27.i.i.i.i.i.i.i.i.i
  %indvars.iv.i.i.i205.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont27.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i.i224.i.i.i.i.i.i.i, %_ZN4pbrt7FastExpEf.exit.i.i.i221.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i35.i.i206.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp23.i.i20.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i205.i.i.i.i.i.i.i
  %175 = load float, ptr %arrayidx.i.i.i35.i.i206.i.i.i.i.i.i.i, align 4
  %mul.i.i36.i.i207.i.i.i.i.i.i.i = fmul float %175, 0x3FF7154760000000
  %176 = call noundef float @llvm.floor.f32(float %mul.i.i36.i.i207.i.i.i.i.i.i.i)
  %sub.i.i.i.i208.i.i.i.i.i.i.i = fsub float %mul.i.i36.i.i207.i.i.i.i.i.i.i, %176
  %conv.i4.i.i.i209.i.i.i.i.i.i.i = fptosi float %176 to i32
  %177 = call noundef float @llvm.fma.f32(float %sub.i.i.i.i208.i.i.i.i.i.i.i, float 0x3FB4015920000000, float 0x3FCCF34160000000)
  %178 = call noundef float @llvm.fma.f32(float %sub.i.i.i.i208.i.i.i.i.i.i.i, float %177, float 0x3FE6420080000000)
  %179 = call noundef float @llvm.fma.f32(float %sub.i.i.i.i208.i.i.i.i.i.i.i, float %178, float 1.000000e+00)
  %180 = bitcast float %179 to i32
  %shr.i.i.i.i.i210.i.i.i.i.i.i.i = lshr i32 %180, 23
  %sub.i.i.i.i.i211.i.i.i.i.i.i.i = add i32 %conv.i4.i.i.i209.i.i.i.i.i.i.i, -127
  %add.i.i37.i.i212.i.i.i.i.i.i.i = add i32 %sub.i.i.i.i.i211.i.i.i.i.i.i.i, %shr.i.i.i.i.i210.i.i.i.i.i.i.i
  %cmp.i.i.i.i213.i.i.i.i.i.i.i = icmp slt i32 %add.i.i37.i.i212.i.i.i.i.i.i.i, -126
  br i1 %cmp.i.i.i.i213.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i.i.i221.i.i.i.i.i.i.i, label %if.end.i.i.i.i214.i.i.i.i.i.i.i

if.end.i.i.i.i214.i.i.i.i.i.i.i:                  ; preds = %for.body.i.i.i204.i.i.i.i.i.i.i
  %cmp3.i.i.i.i215.i.i.i.i.i.i.i = icmp sgt i32 %add.i.i37.i.i212.i.i.i.i.i.i.i, 127
  br i1 %cmp3.i.i.i.i215.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i.i.i221.i.i.i.i.i.i.i, label %if.end5.i.i.i.i216.i.i.i.i.i.i.i

if.end5.i.i.i.i216.i.i.i.i.i.i.i:                 ; preds = %if.end.i.i.i.i214.i.i.i.i.i.i.i
  %and.i.i38.i.i217.i.i.i.i.i.i.i = and i32 %180, -2139095041
  %add7.i.i.i.i218.i.i.i.i.i.i.i = shl nsw i32 %add.i.i37.i.i212.i.i.i.i.i.i.i, 23
  %shl.i.i.i.i219.i.i.i.i.i.i.i = add i32 %add7.i.i.i.i218.i.i.i.i.i.i.i, 1065353216
  %or.i.i.i.i220.i.i.i.i.i.i.i = or i32 %shl.i.i.i.i219.i.i.i.i.i.i.i, %and.i.i38.i.i217.i.i.i.i.i.i.i
  %181 = bitcast i32 %or.i.i.i.i220.i.i.i.i.i.i.i to float
  br label %_ZN4pbrt7FastExpEf.exit.i.i.i221.i.i.i.i.i.i.i

_ZN4pbrt7FastExpEf.exit.i.i.i221.i.i.i.i.i.i.i:   ; preds = %if.end5.i.i.i.i216.i.i.i.i.i.i.i, %if.end.i.i.i.i214.i.i.i.i.i.i.i, %for.body.i.i.i204.i.i.i.i.i.i.i
  %retval.0.i.i.i.i222.i.i.i.i.i.i.i = phi float [ %181, %if.end5.i.i.i.i216.i.i.i.i.i.i.i ], [ 0.000000e+00, %for.body.i.i.i204.i.i.i.i.i.i.i ], [ 0x7FF0000000000000, %if.end.i.i.i.i214.i.i.i.i.i.i.i ]
  %arrayidx.i.i6.i.i.i223.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i.i14.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i205.i.i.i.i.i.i.i
  store float %retval.0.i.i.i.i222.i.i.i.i.i.i.i, ptr %arrayidx.i.i6.i.i.i223.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i.i224.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i.i205.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i.i225.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i.i224.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i.i225.i.i.i.i.i.i.i, label %invoke.cont31.i.i.i.i.i.i.i.i.i, label %for.body.i.i.i204.i.i.i.i.i.i.i, !llvm.loop !111

invoke.cont31.i.i.i.i.i.i.i.i.i:                  ; preds = %_ZN4pbrt7FastExpEf.exit.i.i.i221.i.i.i.i.i.i.i
  %.fca.0.load.i.i.i226.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i.i14.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i.i227.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i.i71.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i14.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i.i226.i.i.i.i.i.i.i, ptr %ref.tmp22.i.i.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i.i227.i.i.i.i.i.i.i, ptr %63, align 8
  br label %for.body.i39.i.i228.i.i.i.i.i.i.i

for.body.i39.i.i228.i.i.i.i.i.i.i:                ; preds = %for.body.i39.i.i228.i.i.i.i.i.i.i, %invoke.cont31.i.i.i.i.i.i.i.i.i
  %indvars.iv.i40.i.i229.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont31.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i42.i.i233.i.i.i.i.i.i.i, %for.body.i39.i.i228.i.i.i.i.i.i.i ]
  %arrayidx.i.i41.i.i230.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp22.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i40.i.i229.i.i.i.i.i.i.i
  %182 = load float, ptr %arrayidx.i.i41.i.i230.i.i.i.i.i.i.i, align 4
  %arrayidx.i4.i.i.i231.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i19.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i40.i.i229.i.i.i.i.i.i.i
  %183 = load float, ptr %arrayidx.i4.i.i.i231.i.i.i.i.i.i.i, align 4
  %mul.i.i.i232.i.i.i.i.i.i.i = fmul float %182, %183
  store float %mul.i.i.i232.i.i.i.i.i.i.i, ptr %arrayidx.i4.i.i.i231.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i42.i.i233.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i40.i.i229.i.i.i.i.i.i.i, 1
  %exitcond.not.i43.i.i234.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i42.i.i233.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i43.i.i234.i.i.i.i.i.i.i, label %_ZN4pbrt15SampledSpectrummLERKS0_.exit.i.i.i.i.i.i.i.i.i, label %for.body.i39.i.i228.i.i.i.i.i.i.i, !llvm.loop !112

_ZN4pbrt15SampledSpectrummLERKS0_.exit.i.i.i.i.i.i.i.i.i: ; preds = %for.body.i39.i.i228.i.i.i.i.i.i.i
  br label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i130.i.i.i.i.i.i.i, !llvm.loop !114

invoke.cont48.preheader.i.i.i.i.i.i.i.i.i:        ; preds = %invoke.cont.i.i.i.i.i.i.i.i.i
  %184 = load float, ptr %seg.i.i.i.i.i.i.i.i.i, align 4
  br label %invoke.cont48.i.i.i.i.i.i.i.i.i

land.rhs.i.i51.invoke.i.i.i.i.i.i.invoke.i.i.i:   ; preds = %if.end54.i.i.i.i, %invoke.cont97.i.i463.i.i.i.i.i.i.i, %invoke.cont86.i.i.i.i.i.i.i.i.i, %invoke.cont48.i.i315.i.i.i.i.i.i.i, %invoke.cont97.i.i.i.i.i.i.i.i.i, %invoke.cont75.i.i.i.i.i.i.i.i.i, %invoke.cont48.i.i.i.i.i.i.i.i.i, %invoke.cont97.i.i1016.i.i.i.i.i.i.i, %invoke.cont75.i.i983.i.i.i.i.i.i.i, %invoke.cont48.i.i868.i.i.i.i.i.i.i
  call void @_ZN4pbrt8LogFatalIJRA4_KcEEEvNS_8LogLevelEPS1_iS5_DpOT_(i32 noundef 2, ptr noundef nonnull @.str.17, i32 noundef 235, ptr noundef nonnull @.str.18, ptr noundef nonnull align 1 dereferenceable(4) @.str.19) #24
  unreachable

invoke.cont48.i.i.i.i.i.i.i.i.i:                  ; preds = %invoke.cont97.i.i.i.i.i.i.i.i.i, %invoke.cont48.preheader.i.i.i.i.i.i.i.i.i
  %u.addr.1244.i.i.i.i.i.i.i.i.i = phi float [ %.sroa.speculated.i.i.i90.i.i.i.i.i.i.i, %invoke.cont97.i.i.i.i.i.i.i.i.i ], [ %u.addr.0.i23.i43.i.i.i.i.i.i.i, %invoke.cont48.preheader.i.i.i.i.i.i.i.i.i ]
  %tMin38.0243.i.i.i.i.i.i.i.i.i = phi float [ %add.i.i75.i.i.i.i.i.i.i, %invoke.cont97.i.i.i.i.i.i.i.i.i ], [ %184, %invoke.cont48.preheader.i.i.i.i.i.i.i.i.i ]
  %185 = load float, ptr %sigma_maj.i.i.i.i.i.i.i.i.i, align 4
  %sub.i.i.i73.i.i.i.i.i.i.i = fsub float 1.000000e+00, %u.addr.1244.i.i.i.i.i.i.i.i.i
  %call.i.i.i.i74.i.i.i.i.i.i.i = call noundef float @logf(float noundef %sub.i.i.i73.i.i.i.i.i.i.i) #25
  %186 = fdiv float %call.i.i.i.i74.i.i.i.i.i.i.i, %185
  %add.i.i75.i.i.i.i.i.i.i = fsub float %tMin38.0243.i.i.i.i.i.i.i.i.i, %186
  %187 = load i64, ptr %rng.i.i.i.i, align 8
  %mul.i.i54.i.i76.i.i.i.i.i.i.i = mul i64 %187, 6364136223846793005
  %188 = load i64, ptr %inc.i.i.i.i.i.i, align 8
  %add.i.i55.i.i77.i.i.i.i.i.i.i = add i64 %mul.i.i54.i.i76.i.i.i.i.i.i.i, %188
  store i64 %add.i.i55.i.i77.i.i.i.i.i.i.i, ptr %rng.i.i.i.i, align 8
  %189 = lshr i64 %187, 45
  %190 = lshr i64 %187, 27
  %shr3.i.i.i.i78.i.i.i.i.i.i.i = xor i64 %189, %190
  %conv.i.i.i.i79.i.i.i.i.i.i.i = trunc i64 %shr3.i.i.i.i78.i.i.i.i.i.i.i to i32
  %shr4.i.i.i.i80.i.i.i.i.i.i.i = lshr i64 %187, 59
  %conv5.i.i.i.i81.i.i.i.i.i.i.i = trunc i64 %shr4.i.i.i.i80.i.i.i.i.i.i.i to i32
  %shr6.i.i.i.i82.i.i.i.i.i.i.i = lshr i32 %conv.i.i.i.i79.i.i.i.i.i.i.i, %conv5.i.i.i.i81.i.i.i.i.i.i.i
  %add7.i.i56.i.i83.i.i.i.i.i.i.i = sub nsw i32 0, %conv5.i.i.i.i81.i.i.i.i.i.i.i
  %and.i.i57.i.i84.i.i.i.i.i.i.i = and i32 %add7.i.i56.i.i83.i.i.i.i.i.i.i, 31
  %shl.i.i58.i.i85.i.i.i.i.i.i.i = shl i32 %conv.i.i.i.i79.i.i.i.i.i.i.i, %and.i.i57.i.i84.i.i.i.i.i.i.i
  %or.i.i59.i.i86.i.i.i.i.i.i.i = or i32 %shr6.i.i.i.i82.i.i.i.i.i.i.i, %shl.i.i58.i.i85.i.i.i.i.i.i.i
  %conv.i.i.i87.i.i.i.i.i.i.i = uitofp i32 %or.i.i59.i.i86.i.i.i.i.i.i.i to float
  %mul.i60.i.i88.i.i.i.i.i.i.i = fmul float %conv.i.i.i87.i.i.i.i.i.i.i, 0x3DF0000000000000
  %cmp.i.i61.i.i89.i.i.i.i.i.i.i = fcmp olt float %mul.i60.i.i88.i.i.i.i.i.i.i, 0x3FEFFFFFE0000000
  %.sroa.speculated.i.i.i90.i.i.i.i.i.i.i = select i1 %cmp.i.i61.i.i89.i.i.i.i.i.i.i, float %mul.i60.i.i88.i.i.i.i.i.i.i, float 0x3FEFFFFFE0000000
  %191 = load i8, ptr %set.i.i.i.i.i.i.i.i.i.i, align 4
  %192 = and i8 %191, 1
  %tobool.not.i.i63.i.i.i.i.i.i.i.i.i = icmp eq i8 %192, 0
  br i1 %tobool.not.i.i63.i.i.i.i.i.i.i.i.i, label %land.rhs.i.i51.invoke.i.i.i.i.i.i.invoke.i.i.i, label %invoke.cont52.i.i.i.i.i.i.i.i.i

invoke.cont52.i.i.i.i.i.i.i.i.i:                  ; preds = %invoke.cont48.i.i.i.i.i.i.i.i.i
  %193 = load float, ptr %tMax54.i.i.i.i.i.i.i.i.i, align 4
  %cmp55.i.i.i.i.i.i.i.i.i = fcmp olt float %add.i.i75.i.i.i.i.i.i.i, %193
  br i1 %cmp55.i.i.i.i.i.i.i.i.i, label %invoke.cont61.i.i.i.i.i.i.i.i.i, label %invoke.cont103.i.i.i.i.i.i.i.i.i

invoke.cont61.i.i.i.i.i.i.i.i.i:                  ; preds = %invoke.cont52.i.i.i.i.i.i.i.i.i
  %sub59.i.i.i.i.i.i.i.i.i = fsub float %add.i.i75.i.i.i.i.i.i.i, %tMin38.0243.i.i.i.i.i.i.i.i.i
  %fneg60.i.i.i.i.i.i.i.i.i = fneg float %sub59.i.i.i.i.i.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i72.i.i13.i.i.i.i.i.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i72.i.i13.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(16) %sigma_maj.i.i.i.i.i.i.i.i.i, i64 16, i1 false)
  br label %for.body.i.i73.i.i131.i.i.i.i.i.i.i

for.body.i.i73.i.i131.i.i.i.i.i.i.i:              ; preds = %for.body.i.i73.i.i131.i.i.i.i.i.i.i, %invoke.cont61.i.i.i.i.i.i.i.i.i
  %indvars.iv.i.i74.i.i132.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont61.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i77.i.i135.i.i.i.i.i.i.i, %for.body.i.i73.i.i131.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i75.i.i133.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i72.i.i13.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i74.i.i132.i.i.i.i.i.i.i
  %194 = load float, ptr %arrayidx.i.i.i75.i.i133.i.i.i.i.i.i.i, align 4
  %mul.i.i76.i.i134.i.i.i.i.i.i.i = fmul float %194, %fneg60.i.i.i.i.i.i.i.i.i
  store float %mul.i.i76.i.i134.i.i.i.i.i.i.i, ptr %arrayidx.i.i.i75.i.i133.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i77.i.i135.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i74.i.i132.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i78.i.i136.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i77.i.i135.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i78.i.i136.i.i.i.i.i.i.i, label %invoke.cont64.i.i.i.i.i.i.i.i.i, label %for.body.i.i73.i.i131.i.i.i.i.i.i.i, !llvm.loop !110

invoke.cont64.i.i.i.i.i.i.i.i.i:                  ; preds = %for.body.i.i73.i.i131.i.i.i.i.i.i.i
  %.fca.0.load.i.i79.i.i137.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i72.i.i13.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i82.i.i138.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i81.i.i.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i72.i.i13.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i79.i.i137.i.i.i.i.i.i.i, ptr %ref.tmp58.i.i21.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i82.i.i138.i.i.i.i.i.i.i, ptr %58, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i85.i.i12.i.i.i.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i85.i.i12.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i86.i.i139.i.i.i.i.i.i.i

for.body.i86.i.i139.i.i.i.i.i.i.i:                ; preds = %_ZN4pbrt7FastExpEf.exit.i103.i.i156.i.i.i.i.i.i.i, %invoke.cont64.i.i.i.i.i.i.i.i.i
  %indvars.iv.i87.i.i140.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont64.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i106.i.i159.i.i.i.i.i.i.i, %_ZN4pbrt7FastExpEf.exit.i103.i.i156.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i88.i.i141.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp58.i.i21.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i87.i.i140.i.i.i.i.i.i.i
  %195 = load float, ptr %arrayidx.i.i.i88.i.i141.i.i.i.i.i.i.i, align 4
  %mul.i.i89.i.i142.i.i.i.i.i.i.i = fmul float %195, 0x3FF7154760000000
  %196 = call noundef float @llvm.floor.f32(float %mul.i.i89.i.i142.i.i.i.i.i.i.i)
  %sub.i.i90.i.i143.i.i.i.i.i.i.i = fsub float %mul.i.i89.i.i142.i.i.i.i.i.i.i, %196
  %conv.i4.i91.i.i144.i.i.i.i.i.i.i = fptosi float %196 to i32
  %197 = call noundef float @llvm.fma.f32(float %sub.i.i90.i.i143.i.i.i.i.i.i.i, float 0x3FB4015920000000, float 0x3FCCF34160000000)
  %198 = call noundef float @llvm.fma.f32(float %sub.i.i90.i.i143.i.i.i.i.i.i.i, float %197, float 0x3FE6420080000000)
  %199 = call noundef float @llvm.fma.f32(float %sub.i.i90.i.i143.i.i.i.i.i.i.i, float %198, float 1.000000e+00)
  %200 = bitcast float %199 to i32
  %shr.i.i.i92.i.i145.i.i.i.i.i.i.i = lshr i32 %200, 23
  %sub.i.i.i93.i.i146.i.i.i.i.i.i.i = add i32 %conv.i4.i91.i.i144.i.i.i.i.i.i.i, -127
  %add.i.i94.i.i147.i.i.i.i.i.i.i = add i32 %sub.i.i.i93.i.i146.i.i.i.i.i.i.i, %shr.i.i.i92.i.i145.i.i.i.i.i.i.i
  %cmp.i.i95.i.i148.i.i.i.i.i.i.i = icmp slt i32 %add.i.i94.i.i147.i.i.i.i.i.i.i, -126
  br i1 %cmp.i.i95.i.i148.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i103.i.i156.i.i.i.i.i.i.i, label %if.end.i.i96.i.i149.i.i.i.i.i.i.i

if.end.i.i96.i.i149.i.i.i.i.i.i.i:                ; preds = %for.body.i86.i.i139.i.i.i.i.i.i.i
  %cmp3.i.i97.i.i150.i.i.i.i.i.i.i = icmp sgt i32 %add.i.i94.i.i147.i.i.i.i.i.i.i, 127
  br i1 %cmp3.i.i97.i.i150.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i103.i.i156.i.i.i.i.i.i.i, label %if.end5.i.i98.i.i151.i.i.i.i.i.i.i

if.end5.i.i98.i.i151.i.i.i.i.i.i.i:               ; preds = %if.end.i.i96.i.i149.i.i.i.i.i.i.i
  %and.i.i99.i.i152.i.i.i.i.i.i.i = and i32 %200, -2139095041
  %add7.i.i100.i.i153.i.i.i.i.i.i.i = shl nsw i32 %add.i.i94.i.i147.i.i.i.i.i.i.i, 23
  %shl.i.i101.i.i154.i.i.i.i.i.i.i = add i32 %add7.i.i100.i.i153.i.i.i.i.i.i.i, 1065353216
  %or.i.i102.i.i155.i.i.i.i.i.i.i = or i32 %shl.i.i101.i.i154.i.i.i.i.i.i.i, %and.i.i99.i.i152.i.i.i.i.i.i.i
  %201 = bitcast i32 %or.i.i102.i.i155.i.i.i.i.i.i.i to float
  br label %_ZN4pbrt7FastExpEf.exit.i103.i.i156.i.i.i.i.i.i.i

_ZN4pbrt7FastExpEf.exit.i103.i.i156.i.i.i.i.i.i.i: ; preds = %if.end5.i.i98.i.i151.i.i.i.i.i.i.i, %if.end.i.i96.i.i149.i.i.i.i.i.i.i, %for.body.i86.i.i139.i.i.i.i.i.i.i
  %retval.0.i.i104.i.i157.i.i.i.i.i.i.i = phi float [ %201, %if.end5.i.i98.i.i151.i.i.i.i.i.i.i ], [ 0.000000e+00, %for.body.i86.i.i139.i.i.i.i.i.i.i ], [ 0x7FF0000000000000, %if.end.i.i96.i.i149.i.i.i.i.i.i.i ]
  %arrayidx.i.i6.i105.i.i158.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i85.i.i12.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i87.i.i140.i.i.i.i.i.i.i
  store float %retval.0.i.i104.i.i157.i.i.i.i.i.i.i, ptr %arrayidx.i.i6.i105.i.i158.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i106.i.i159.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i87.i.i140.i.i.i.i.i.i.i, 1
  %exitcond.not.i107.i.i160.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i106.i.i159.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i107.i.i160.i.i.i.i.i.i.i, label %invoke.cont68.i.i.i.i.i.i.i.i.i, label %for.body.i86.i.i139.i.i.i.i.i.i.i, !llvm.loop !111

invoke.cont68.i.i.i.i.i.i.i.i.i:                  ; preds = %_ZN4pbrt7FastExpEf.exit.i103.i.i156.i.i.i.i.i.i.i
  %.fca.0.load.i108.i.i161.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i85.i.i12.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i111.i.i162.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i110.i.i65.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i85.i.i12.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i108.i.i161.i.i.i.i.i.i.i, ptr %ref.tmp57.i.i.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i111.i.i162.i.i.i.i.i.i.i, ptr %59, align 8
  br label %for.body.i114.i.i163.i.i.i.i.i.i.i

for.body.i114.i.i163.i.i.i.i.i.i.i:               ; preds = %for.body.i114.i.i163.i.i.i.i.i.i.i, %invoke.cont68.i.i.i.i.i.i.i.i.i
  %indvars.iv.i115.i.i164.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont68.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i119.i.i168.i.i.i.i.i.i.i, %for.body.i114.i.i163.i.i.i.i.i.i.i ]
  %arrayidx.i.i116.i.i165.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp57.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i115.i.i164.i.i.i.i.i.i.i
  %202 = load float, ptr %arrayidx.i.i116.i.i165.i.i.i.i.i.i.i, align 4
  %arrayidx.i4.i117.i.i166.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i19.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i115.i.i164.i.i.i.i.i.i.i
  %203 = load float, ptr %arrayidx.i4.i117.i.i166.i.i.i.i.i.i.i, align 4
  %mul.i118.i.i167.i.i.i.i.i.i.i = fmul float %202, %203
  store float %mul.i118.i.i167.i.i.i.i.i.i.i, ptr %arrayidx.i4.i117.i.i166.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i119.i.i168.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i115.i.i164.i.i.i.i.i.i.i, 1
  %exitcond.not.i120.i.i169.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i119.i.i168.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i120.i.i169.i.i.i.i.i.i.i, label %invoke.cont75.i.i.i.i.i.i.i.i.i, label %for.body.i114.i.i163.i.i.i.i.i.i.i, !llvm.loop !112

invoke.cont75.i.i.i.i.i.i.i.i.i:                  ; preds = %for.body.i114.i.i163.i.i.i.i.i.i.i
  %204 = insertelement <2 x float> poison, float %add.i.i75.i.i.i.i.i.i.i, i64 0
  %205 = shufflevector <2 x float> %204, <2 x float> poison, <2 x i32> zeroinitializer
  %206 = fmul <2 x float> %165, %205
  %mul3.i.i.i.i172.i.i.i.i.i.i.i = fmul float %div3.i.i.i.i48.i.i.i.i.i.i.i, %add.i.i75.i.i.i.i.i.i.i
  %207 = fadd <2 x float> %ray.sroa.0.0347.i.i.i.i, %206
  %add6.i.i.i.i175.i.i.i.i.i.i.i = fadd float %ray.sroa.9.0348.i.i.i.i, %mul3.i.i.i.i172.i.i.i.i.i.i.i
  call void @_ZNK4pbrt10GridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsE(ptr nonnull sret(%"struct.pbrt::MediumProperties") align 8 %mp.i.i22.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(520) %166, <2 x float> %207, float %add6.i.i.i.i175.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(32) %lambda.i.i.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp85.i.i.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(32) %mp.i.i22.i.i.i.i.i.i.i, i64 32, i1 false)
  %208 = load i64, ptr %phase3.i.i.i67.i.i.i.i.i.i.i, align 8
  store i64 %208, ptr %phase.i.i.i66.i.i.i.i.i.i.i, align 8
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %Le.i.i.i68.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(16) %Le4.i.i.i69.i.i.i.i.i.i.i, i64 16, i1 false)
  %209 = load i8, ptr %set.i.i.i.i.i.i.i.i.i.i, align 4
  %210 = and i8 %209, 1
  %tobool.not.i.i140.i.i.i.i.i.i.i.i.i = icmp eq i8 %210, 0
  br i1 %tobool.not.i.i140.i.i.i.i.i.i.i.i.i, label %land.rhs.i.i51.invoke.i.i.i.i.i.i.invoke.i.i.i, label %invoke.cont88.i.i.i.i.i.i.i.i.i

invoke.cont88.i.i.i.i.i.i.i.i.i:                  ; preds = %invoke.cont75.i.i.i.i.i.i.i.i.i
  %agg.tmp87.sroa.0.0.copyload.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %sigma_maj.i.i.i.i.i.i.i.i.i, align 4
  %agg.tmp87.sroa.2.0.copyload.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %agg.tmp87.sroa.2.0.sigma_maj90.sroa_idx.i.i.i.i.i.i.i.i.i, align 4
  %agg.tmp91.sroa.0.0.copyload.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %T_maj.i.i19.i.i.i.i.i.i.i, align 8
  %agg.tmp91.sroa.2.0.copyload.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %agg.tmp91.sroa.2.0.T_maj.sroa_idx.i.i.i.i.i.i.i.i.i, align 8
  %call93.i.i.i.i.i.i.i.i.i = call fastcc noundef zeroext i1 @"_ZZN4pbrt18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS1_17IntersectShadowTrEiS5_S9_ENKSA_clEiEUlNS_6Point3IfEEE_EEvS3_S9_T_T0_ENKUlSE_NS_16MediumPropertiesENS_15SampledSpectrumESJ_E_clESE_SI_SJ_SJ_"(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp21.i24.i.i.i.i.i.i.i, ptr noundef nonnull %agg.tmp85.i.i.i.i.i.i.i.i.i, <2 x float> %agg.tmp87.sroa.0.0.copyload.i.i.i.i.i.i.i.i.i, <2 x float> %agg.tmp87.sroa.2.0.copyload.i.i.i.i.i.i.i.i.i, <2 x float> %agg.tmp91.sroa.0.0.copyload.i.i.i.i.i.i.i.i.i, <2 x float> %agg.tmp91.sroa.2.0.copyload.i.i.i.i.i.i.i.i.i)
  br i1 %call93.i.i.i.i.i.i.i.i.i, label %if.end95.i.i.i.i.i.i.i.i.i, label %while.end125.i.i.i.i.i.i.i.i.i

if.end95.i.i.i.i.i.i.i.i.i:                       ; preds = %invoke.cont88.i.i.i.i.i.i.i.i.i
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 4 dereferenceable(16) %ref.tmp96.i.i.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i144.i.i188.i.i.i.i.i.i.i

for.body.i.i144.i.i188.i.i.i.i.i.i.i:             ; preds = %for.body.i.i144.i.i188.i.i.i.i.i.i.i, %if.end95.i.i.i.i.i.i.i.i.i
  %indvars.iv.i.i145.i.i189.i.i.i.i.i.i.i = phi i64 [ 0, %if.end95.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i147.i.i191.i.i.i.i.i.i.i, %for.body.i.i144.i.i188.i.i.i.i.i.i.i ]
  %arrayidx.i.i146.i.i190.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp96.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i145.i.i189.i.i.i.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i146.i.i190.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i147.i.i191.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i145.i.i189.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i148.i.i192.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i147.i.i191.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i148.i.i192.i.i.i.i.i.i.i, label %invoke.cont97.i.i.i.i.i.i.i.i.i, label %for.body.i.i144.i.i188.i.i.i.i.i.i.i, !llvm.loop !103

invoke.cont97.i.i.i.i.i.i.i.i.i:                  ; preds = %for.body.i.i144.i.i188.i.i.i.i.i.i.i
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %T_maj.i.i19.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(16) %ref.tmp96.i.i.i.i.i.i.i.i.i, i64 16, i1 false)
  %211 = load i8, ptr %set.i.i.i.i.i.i.i.i.i.i, align 4
  %212 = and i8 %211, 1
  %tobool.not.i.i50.i.i.i.i.i.i.i.i.i = icmp eq i8 %212, 0
  br i1 %tobool.not.i.i50.i.i.i.i.i.i.i.i.i, label %land.rhs.i.i51.invoke.i.i.i.i.i.i.invoke.i.i.i, label %invoke.cont48.i.i.i.i.i.i.i.i.i, !llvm.loop !115

invoke.cont103.i.i.i.i.i.i.i.i.i:                 ; preds = %invoke.cont52.i.i.i.i.i.i.i.i.i
  %sub102.i.i.i.i.i.i.i.i.i = fsub float %193, %tMin38.0243.i.i.i.i.i.i.i.i.i
  %213 = call float @llvm.fabs.f32(float %sub102.i.i.i.i.i.i.i.i.i)
  %214 = fcmp oeq float %213, 0x7FF0000000000000
  %dt98.0.i.i.i.i.i.i.i.i.i = select i1 %214, float 0x47EFFFFFE0000000, float %sub102.i.i.i.i.i.i.i.i.i
  %fneg110.i.i.i.i.i.i.i.i.i = fneg float %dt98.0.i.i.i.i.i.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i160.i.i11.i.i.i.i.i.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i160.i.i11.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(16) %sigma_maj.i.i.i.i.i.i.i.i.i, i64 16, i1 false)
  br label %for.body.i.i161.i.i91.i.i.i.i.i.i.i

for.body.i.i161.i.i91.i.i.i.i.i.i.i:              ; preds = %for.body.i.i161.i.i91.i.i.i.i.i.i.i, %invoke.cont103.i.i.i.i.i.i.i.i.i
  %indvars.iv.i.i162.i.i92.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont103.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i165.i.i95.i.i.i.i.i.i.i, %for.body.i.i161.i.i91.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i163.i.i93.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i160.i.i11.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i162.i.i92.i.i.i.i.i.i.i
  %215 = load float, ptr %arrayidx.i.i.i163.i.i93.i.i.i.i.i.i.i, align 4
  %mul.i.i164.i.i94.i.i.i.i.i.i.i = fmul float %215, %fneg110.i.i.i.i.i.i.i.i.i
  store float %mul.i.i164.i.i94.i.i.i.i.i.i.i, ptr %arrayidx.i.i.i163.i.i93.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i165.i.i95.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i162.i.i92.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i166.i.i96.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i165.i.i95.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i166.i.i96.i.i.i.i.i.i.i, label %invoke.cont114.i.i.i.i.i.i.i.i.i, label %for.body.i.i161.i.i91.i.i.i.i.i.i.i, !llvm.loop !110

invoke.cont114.i.i.i.i.i.i.i.i.i:                 ; preds = %for.body.i.i161.i.i91.i.i.i.i.i.i.i
  %.fca.0.load.i.i167.i.i97.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i160.i.i11.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i170.i.i98.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i169.i.i.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i160.i.i11.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i167.i.i97.i.i.i.i.i.i.i, ptr %ref.tmp109.i.i23.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i170.i.i98.i.i.i.i.i.i.i, ptr %60, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i173.i.i10.i.i.i.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i173.i.i10.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i174.i.i99.i.i.i.i.i.i.i

for.body.i174.i.i99.i.i.i.i.i.i.i:                ; preds = %_ZN4pbrt7FastExpEf.exit.i191.i.i116.i.i.i.i.i.i.i, %invoke.cont114.i.i.i.i.i.i.i.i.i
  %indvars.iv.i175.i.i100.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont114.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i194.i.i119.i.i.i.i.i.i.i, %_ZN4pbrt7FastExpEf.exit.i191.i.i116.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i176.i.i101.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp109.i.i23.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i175.i.i100.i.i.i.i.i.i.i
  %216 = load float, ptr %arrayidx.i.i.i176.i.i101.i.i.i.i.i.i.i, align 4
  %mul.i.i177.i.i102.i.i.i.i.i.i.i = fmul float %216, 0x3FF7154760000000
  %217 = call noundef float @llvm.floor.f32(float %mul.i.i177.i.i102.i.i.i.i.i.i.i)
  %sub.i.i178.i.i103.i.i.i.i.i.i.i = fsub float %mul.i.i177.i.i102.i.i.i.i.i.i.i, %217
  %conv.i4.i179.i.i104.i.i.i.i.i.i.i = fptosi float %217 to i32
  %218 = call noundef float @llvm.fma.f32(float %sub.i.i178.i.i103.i.i.i.i.i.i.i, float 0x3FB4015920000000, float 0x3FCCF34160000000)
  %219 = call noundef float @llvm.fma.f32(float %sub.i.i178.i.i103.i.i.i.i.i.i.i, float %218, float 0x3FE6420080000000)
  %220 = call noundef float @llvm.fma.f32(float %sub.i.i178.i.i103.i.i.i.i.i.i.i, float %219, float 1.000000e+00)
  %221 = bitcast float %220 to i32
  %shr.i.i.i180.i.i105.i.i.i.i.i.i.i = lshr i32 %221, 23
  %sub.i.i.i181.i.i106.i.i.i.i.i.i.i = add i32 %conv.i4.i179.i.i104.i.i.i.i.i.i.i, -127
  %add.i.i182.i.i107.i.i.i.i.i.i.i = add i32 %sub.i.i.i181.i.i106.i.i.i.i.i.i.i, %shr.i.i.i180.i.i105.i.i.i.i.i.i.i
  %cmp.i.i183.i.i108.i.i.i.i.i.i.i = icmp slt i32 %add.i.i182.i.i107.i.i.i.i.i.i.i, -126
  br i1 %cmp.i.i183.i.i108.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i191.i.i116.i.i.i.i.i.i.i, label %if.end.i.i184.i.i109.i.i.i.i.i.i.i

if.end.i.i184.i.i109.i.i.i.i.i.i.i:               ; preds = %for.body.i174.i.i99.i.i.i.i.i.i.i
  %cmp3.i.i185.i.i110.i.i.i.i.i.i.i = icmp sgt i32 %add.i.i182.i.i107.i.i.i.i.i.i.i, 127
  br i1 %cmp3.i.i185.i.i110.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i191.i.i116.i.i.i.i.i.i.i, label %if.end5.i.i186.i.i111.i.i.i.i.i.i.i

if.end5.i.i186.i.i111.i.i.i.i.i.i.i:              ; preds = %if.end.i.i184.i.i109.i.i.i.i.i.i.i
  %and.i.i187.i.i112.i.i.i.i.i.i.i = and i32 %221, -2139095041
  %add7.i.i188.i.i113.i.i.i.i.i.i.i = shl nsw i32 %add.i.i182.i.i107.i.i.i.i.i.i.i, 23
  %shl.i.i189.i.i114.i.i.i.i.i.i.i = add i32 %add7.i.i188.i.i113.i.i.i.i.i.i.i, 1065353216
  %or.i.i190.i.i115.i.i.i.i.i.i.i = or i32 %shl.i.i189.i.i114.i.i.i.i.i.i.i, %and.i.i187.i.i112.i.i.i.i.i.i.i
  %222 = bitcast i32 %or.i.i190.i.i115.i.i.i.i.i.i.i to float
  br label %_ZN4pbrt7FastExpEf.exit.i191.i.i116.i.i.i.i.i.i.i

_ZN4pbrt7FastExpEf.exit.i191.i.i116.i.i.i.i.i.i.i: ; preds = %if.end5.i.i186.i.i111.i.i.i.i.i.i.i, %if.end.i.i184.i.i109.i.i.i.i.i.i.i, %for.body.i174.i.i99.i.i.i.i.i.i.i
  %retval.0.i.i192.i.i117.i.i.i.i.i.i.i = phi float [ %222, %if.end5.i.i186.i.i111.i.i.i.i.i.i.i ], [ 0.000000e+00, %for.body.i174.i.i99.i.i.i.i.i.i.i ], [ 0x7FF0000000000000, %if.end.i.i184.i.i109.i.i.i.i.i.i.i ]
  %arrayidx.i.i6.i193.i.i118.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i173.i.i10.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i175.i.i100.i.i.i.i.i.i.i
  store float %retval.0.i.i192.i.i117.i.i.i.i.i.i.i, ptr %arrayidx.i.i6.i193.i.i118.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i194.i.i119.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i175.i.i100.i.i.i.i.i.i.i, 1
  %exitcond.not.i195.i.i120.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i194.i.i119.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i195.i.i120.i.i.i.i.i.i.i, label %invoke.cont118.i.i.i.i.i.i.i.i.i, label %for.body.i174.i.i99.i.i.i.i.i.i.i, !llvm.loop !111

invoke.cont118.i.i.i.i.i.i.i.i.i:                 ; preds = %_ZN4pbrt7FastExpEf.exit.i191.i.i116.i.i.i.i.i.i.i
  %.fca.0.load.i196.i.i121.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i173.i.i10.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i199.i.i122.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i198.i.i70.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i173.i.i10.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i196.i.i121.i.i.i.i.i.i.i, ptr %ref.tmp108.i.i.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i199.i.i122.i.i.i.i.i.i.i, ptr %61, align 8
  br label %for.body.i202.i.i123.i.i.i.i.i.i.i

for.body.i202.i.i123.i.i.i.i.i.i.i:               ; preds = %for.body.i202.i.i123.i.i.i.i.i.i.i, %invoke.cont118.i.i.i.i.i.i.i.i.i
  %indvars.iv.i203.i.i124.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont118.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i207.i.i128.i.i.i.i.i.i.i, %for.body.i202.i.i123.i.i.i.i.i.i.i ]
  %arrayidx.i.i204.i.i125.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp108.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i203.i.i124.i.i.i.i.i.i.i
  %223 = load float, ptr %arrayidx.i.i204.i.i125.i.i.i.i.i.i.i, align 4
  %arrayidx.i4.i205.i.i126.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i19.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i203.i.i124.i.i.i.i.i.i.i
  %224 = load float, ptr %arrayidx.i4.i205.i.i126.i.i.i.i.i.i.i, align 4
  %mul.i206.i.i127.i.i.i.i.i.i.i = fmul float %223, %224
  store float %mul.i206.i.i127.i.i.i.i.i.i.i, ptr %arrayidx.i4.i205.i.i126.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i207.i.i128.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i203.i.i124.i.i.i.i.i.i.i, 1
  %exitcond.not.i208.i.i129.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i207.i.i128.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i208.i.i129.i.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i130.i.i.i.i.i.i.i, label %for.body.i202.i.i123.i.i.i.i.i.i.i, !llvm.loop !112

_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i130.i.i.i.i.i.i.i: ; preds = %for.body.i202.i.i123.i.i.i.i.i.i.i, %_ZN4pbrt15SampledSpectrummLERKS0_.exit.i.i.i.i.i.i.i.i.i
  %u.addr.2270.i.i.i.i.i.i.i.i.i = phi float [ %u.addr.0.i23.i43.i.i.i.i.i.i.i, %_ZN4pbrt15SampledSpectrummLERKS0_.exit.i.i.i.i.i.i.i.i.i ], [ %.sroa.speculated.i.i.i90.i.i.i.i.i.i.i, %for.body.i202.i.i123.i.i.i.i.i.i.i ]
  store i8 0, ptr %set.i.i.i.i.i.i.i.i.i.i, align 4
  call void @_ZN4pbrt19DDAMajorantIterator4NextEv(ptr nonnull sret(%"class.pstd::optional.223") align 4 %seg.i.i.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(92) %iter.i.i17.i.i.i.i.i.i.i)
  %225 = load i8, ptr %set.i.i.i.i.i.i.i.i.i.i, align 4
  %226 = and i8 %225, 1
  %tobool.i.not.i.i.i.i.i.i.i.i.i = icmp eq i8 %226, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i235.i.i.i.i.i.i.i, label %invoke.cont.i.i.i.i.i.i.i.i.i

while.end125.i.i.i.i.i.i.i.i.i:                   ; preds = %invoke.cont88.i.i.i.i.i.i.i.i.i
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i16.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i214.i.i178.i.i.i.i.i.i.i

for.body.i.i214.i.i178.i.i.i.i.i.i.i:             ; preds = %for.body.i.i214.i.i178.i.i.i.i.i.i.i, %while.end125.i.i.i.i.i.i.i.i.i
  %indvars.iv.i.i215.i.i179.i.i.i.i.i.i.i = phi i64 [ 0, %while.end125.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i217.i.i181.i.i.i.i.i.i.i, %for.body.i.i214.i.i178.i.i.i.i.i.i.i ]
  %arrayidx.i.i216.i.i180.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i16.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i215.i.i179.i.i.i.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i216.i.i180.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i217.i.i181.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i215.i.i179.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i218.i.i182.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i217.i.i181.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i218.i.i182.i.i.i.i.i.i.i, label %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_10GridMediumEEEDaSH_.exit.i.i.i.i.i.i.i", label %for.body.i.i214.i.i178.i.i.i.i.i.i.i, !llvm.loop !103

"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_10GridMediumEEEDaSH_.exit.i.i.i.i.i.i.i": ; preds = %for.body.i.i214.i.i178.i.i.i.i.i.i.i, %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i235.i.i.i.i.i.i.i
  %.fca.0.load.i.i183.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i16.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i186.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i185.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp21.i24.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i16.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 96, ptr nonnull %iter.i.i17.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 40, ptr nonnull %agg.tmp7.i.i18.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %T_maj.i.i19.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 28, ptr nonnull %seg.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp22.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp23.i.i20.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp57.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp58.i.i21.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 56, ptr nonnull %mp.i.i22.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 56, ptr nonnull %agg.tmp85.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp96.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp108.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp109.i.i23.i.i.i.i.i.i.i)
  br label %"_ZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_.exit.i.i.i.i"

sw.bb8.i.i.i.i.i.i.i:                             ; preds = %cond.end.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp21.i255.i.i.i.i.i.i.i)
  store ptr %T_ray.i.i.i.i, ptr %agg.tmp21.i255.i.i.i.i.i.i.i, align 8
  store ptr %r_l.i.i.i.i, ptr %agg.tmp2751.sroa.8.0.agg.tmp21.i255.i.i.i.sroa_idx.i.i.i.i, align 8
  store ptr %r_u.i.i.i.i, ptr %agg.tmp2751.sroa.9.0.agg.tmp21.i255.i.i.i.sroa_idx.i.i.i.i, align 8
  store ptr %rng.i.i.i.i, ptr %agg.tmp2751.sroa.10.0.agg.tmp21.i255.i.i.i.sroa_idx.i.i.i.i, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i242.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 96, ptr nonnull %iter.i.i243.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 40, ptr nonnull %agg.tmp7.i.i244.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %T_maj.i.i245.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 28, ptr nonnull %seg.i.i246.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp22.i.i247.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp23.i.i248.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp57.i.i249.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp58.i.i250.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 56, ptr nonnull %agg.tmp85.i.i251.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp96.i.i252.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp108.i.i253.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp109.i.i254.i.i.i.i.i.i.i)
  %227 = fmul <2 x float> %ray.sroa.14.0349.i.i.i.i, %ray.sroa.14.0349.i.i.i.i
  %shift183 = shufflevector <2 x float> %227, <2 x float> poison, <2 x i32> <i32 1, i32 poison>
  %228 = fadd <2 x float> %227, %shift183
  %add.i.i.i.i272.i.i.i.i.i.i.i = extractelement <2 x float> %228, i64 0
  %mul.i2.i.i.i.i273.i.i.i.i.i.i.i = fmul float %ray.sroa.22.0350.i.i.i.i, %ray.sroa.22.0350.i.i.i.i
  %add3.i.i.i.i274.i.i.i.i.i.i.i = fadd float %mul.i2.i.i.i.i273.i.i.i.i.i.i.i, %add.i.i.i.i272.i.i.i.i.i.i.i
  %sqrt.i.i.i275.i.i.i.i.i.i.i = call noundef float @llvm.sqrt.f32(float %add3.i.i.i.i274.i.i.i.i.i.i.i)
  %mul.i.i276.i.i.i.i.i.i.i = fmul float %sqrt.i.i.i275.i.i.i.i.i.i.i, %cond.i.i.i.i
  %229 = insertelement <2 x float> poison, float %sqrt.i.i.i275.i.i.i.i.i.i.i, i64 0
  %230 = shufflevector <2 x float> %229, <2 x float> poison, <2 x i32> zeroinitializer
  %231 = fdiv <2 x float> %ray.sroa.14.0349.i.i.i.i, %230
  %div3.i.i.i.i279.i.i.i.i.i.i.i = fdiv float %ray.sroa.22.0350.i.i.i.i, %sqrt.i.i.i275.i.i.i.i.i.i.i
  %232 = inttoptr i64 %and.i40280286.i.i.i.i to ptr
  store <2 x float> %ray.sroa.0.0347.i.i.i.i, ptr %agg.tmp7.i.i244.i.i.i.i.i.i.i, align 8
  store float %ray.sroa.9.0348.i.i.i.i, ptr %agg.tmp.sroa.6.0.agg.tmp7.i.sroa_idx.i284.i.i.i.i.i.i.i, align 8
  store <2 x float> %231, ptr %agg.tmp.sroa.8.0.agg.tmp7.i.sroa_idx.i285.i.i.i.i.i.i.i, align 4
  store float %div3.i.i.i.i279.i.i.i.i.i.i.i, ptr %agg.tmp.sroa.14.0.agg.tmp7.i.sroa_idx.i286.i.i.i.i.i.i.i, align 4
  store float %ray.sroa.28.0351.i.i.i.i, ptr %agg.tmp.sroa.18.0.agg.tmp7.i.sroa_idx.i287.i.i.i.i.i.i.i, align 8
  store i64 %ray.sroa.30.0352.i.i.i.i, ptr %medium.i.i.i288.i.i.i.i.i.i.i, align 8
  call void @_ZNK4pbrt13RGBGridMedium9SampleRayENS_3RayEfRKNS_18SampledWavelengthsE(ptr nonnull sret(%"class.pbrt::DDAMajorantIterator") align 8 %iter.i.i243.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(408) %232, ptr noundef nonnull %agg.tmp7.i.i244.i.i.i.i.i.i.i, float noundef %mul.i.i276.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(32) %lambda.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %T_maj.i.i245.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i.i.i289.i.i.i.i.i.i.i

for.body.i.i.i.i289.i.i.i.i.i.i.i:                ; preds = %for.body.i.i.i.i289.i.i.i.i.i.i.i, %sw.bb8.i.i.i.i.i.i.i
  %indvars.iv.i.i.i.i290.i.i.i.i.i.i.i = phi i64 [ 0, %sw.bb8.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i.i.i292.i.i.i.i.i.i.i, %for.body.i.i.i.i289.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i.i291.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i245.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i.i290.i.i.i.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i.i.i291.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i.i.i292.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i.i.i290.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i.i.i293.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i.i.i292.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i.i.i293.i.i.i.i.i.i.i, label %while.cond.preheader.i.i294.i.i.i.i.i.i.i, label %for.body.i.i.i.i289.i.i.i.i.i.i.i, !llvm.loop !103

while.cond.preheader.i.i294.i.i.i.i.i.i.i:        ; preds = %for.body.i.i.i.i289.i.i.i.i.i.i.i
  %renderFromMedium.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::RGBGridMedium", ptr %232, i64 0, i32 1
  %agg.tmp.sroa.2.0.pMin.sroa_idx.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %232, i64 8
  %pMax.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %232, i64 0, i32 1
  %y.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %232, i64 0, i32 1, i32 0, i32 1
  %z.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %232, i64 0, i32 1, i32 0, i32 2
  %sigmaScale.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::RGBGridMedium", ptr %232, i64 0, i32 7
  %set.i.i6.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::RGBGridMedium", ptr %232, i64 0, i32 5, i32 1
  %sigma_aGrid.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::RGBGridMedium", ptr %232, i64 0, i32 5
  %set.i10.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::RGBGridMedium", ptr %232, i64 0, i32 6, i32 1
  %sigma_sGrid.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::RGBGridMedium", ptr %232, i64 0, i32 6
  %LeGrid.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::RGBGridMedium", ptr %232, i64 0, i32 2
  %set.i41.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::RGBGridMedium", ptr %232, i64 0, i32 2, i32 1
  %LeScale.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::RGBGridMedium", ptr %232, i64 0, i32 3
  %phase53.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::RGBGridMedium", ptr %232, i64 0, i32 4
  %233 = ptrtoint ptr %phase53.i.i.i.i.i.i.i.i.i to i64
  %or.i.i.i14.i.i.i.i.i.i.i.i = or i64 %233, 144115188075855872
  call void @_ZN4pbrt19DDAMajorantIterator4NextEv(ptr nonnull sret(%"class.pstd::optional.223") align 4 %seg.i.i246.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(92) %iter.i.i243.i.i.i.i.i.i.i)
  %234 = load i8, ptr %set.i.i.i295.i.i.i.i.i.i.i, align 4
  %235 = and i8 %234, 1
  %tobool.i.not.i.i31140.i.i.i.i.i.i.i = icmp eq i8 %235, 0
  br i1 %tobool.i.not.i.i31140.i.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i512.i.i.i.i.i.i.i, label %invoke.cont.i.i312.i.i.i.i.i.i.i

_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i512.i.i.i.i.i.i.i: ; preds = %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i384.i.i.i.i.i.i.i, %while.cond.preheader.i.i294.i.i.i.i.i.i.i
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i242.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(16) %T_maj.i.i245.i.i.i.i.i.i.i, i64 16, i1 false)
  br label %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_13RGBGridMediumEEEDaSH_.exit.i.i.i.i.i.i.i"

invoke.cont.i.i312.i.i.i.i.i.i.i:                 ; preds = %while.cond.preheader.i.i294.i.i.i.i.i.i.i, %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i384.i.i.i.i.i.i.i
  %u.addr.0.i23.i31041.i.i.i.i.i.i.i = phi float [ %u.addr.2270.i.i385.i.i.i.i.i.i.i, %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i384.i.i.i.i.i.i.i ], [ %.sroa.speculated.i.i.i.i.i, %while.cond.preheader.i.i294.i.i.i.i.i.i.i ]
  %236 = load float, ptr %sigma_maj.i.i296.i.i.i.i.i.i.i, align 4
  %cmp.i.i313.i.i.i.i.i.i.i = fcmp oeq float %236, 0.000000e+00
  br i1 %cmp.i.i313.i.i.i.i.i.i.i, label %invoke.cont17.i.i466.i.i.i.i.i.i.i, label %invoke.cont48.preheader.i.i314.i.i.i.i.i.i.i

invoke.cont17.i.i466.i.i.i.i.i.i.i:               ; preds = %invoke.cont.i.i312.i.i.i.i.i.i.i
  %237 = load float, ptr %tMax54.i.i298.i.i.i.i.i.i.i, align 4
  %238 = load float, ptr %seg.i.i246.i.i.i.i.i.i.i, align 4
  %sub.i.i467.i.i.i.i.i.i.i = fsub float %237, %238
  %239 = call float @llvm.fabs.f32(float %sub.i.i467.i.i.i.i.i.i.i)
  %240 = fcmp oeq float %239, 0x7FF0000000000000
  %dt.0.i.i468.i.i.i.i.i.i.i = select i1 %240, float 0x47EFFFFFE0000000, float %sub.i.i467.i.i.i.i.i.i.i
  %fneg.i.i469.i.i.i.i.i.i.i = fneg float %dt.0.i.i468.i.i.i.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i.i241.i.i.i.i.i.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i.i.i241.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(16) %sigma_maj.i.i296.i.i.i.i.i.i.i, i64 16, i1 false)
  br label %for.body.i.i29.i.i470.i.i.i.i.i.i.i

for.body.i.i29.i.i470.i.i.i.i.i.i.i:              ; preds = %for.body.i.i29.i.i470.i.i.i.i.i.i.i, %invoke.cont17.i.i466.i.i.i.i.i.i.i
  %indvars.iv.i.i30.i.i471.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont17.i.i466.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i31.i.i474.i.i.i.i.i.i.i, %for.body.i.i29.i.i470.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i.i.i472.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i.i.i241.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i30.i.i471.i.i.i.i.i.i.i
  %241 = load float, ptr %arrayidx.i.i.i.i.i472.i.i.i.i.i.i.i, align 4
  %mul.i.i.i.i473.i.i.i.i.i.i.i = fmul float %241, %fneg.i.i469.i.i.i.i.i.i.i
  store float %mul.i.i.i.i473.i.i.i.i.i.i.i, ptr %arrayidx.i.i.i.i.i472.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i31.i.i474.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i30.i.i471.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i32.i.i475.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i31.i.i474.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i32.i.i475.i.i.i.i.i.i.i, label %invoke.cont27.i.i476.i.i.i.i.i.i.i, label %for.body.i.i29.i.i470.i.i.i.i.i.i.i, !llvm.loop !110

invoke.cont27.i.i476.i.i.i.i.i.i.i:               ; preds = %for.body.i.i29.i.i470.i.i.i.i.i.i.i
  %.fca.0.load.i.i.i.i477.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i.i.i241.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i.i.i478.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i.i.i307.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i.i241.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i.i.i477.i.i.i.i.i.i.i, ptr %ref.tmp23.i.i248.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i.i.i478.i.i.i.i.i.i.i, ptr %54, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i240.i.i.i.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i.i240.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i.i479.i.i.i.i.i.i.i

for.body.i.i.i479.i.i.i.i.i.i.i:                  ; preds = %_ZN4pbrt7FastExpEf.exit.i.i.i496.i.i.i.i.i.i.i, %invoke.cont27.i.i476.i.i.i.i.i.i.i
  %indvars.iv.i.i.i480.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont27.i.i476.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i.i499.i.i.i.i.i.i.i, %_ZN4pbrt7FastExpEf.exit.i.i.i496.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i35.i.i481.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp23.i.i248.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i480.i.i.i.i.i.i.i
  %242 = load float, ptr %arrayidx.i.i.i35.i.i481.i.i.i.i.i.i.i, align 4
  %mul.i.i36.i.i482.i.i.i.i.i.i.i = fmul float %242, 0x3FF7154760000000
  %243 = call noundef float @llvm.floor.f32(float %mul.i.i36.i.i482.i.i.i.i.i.i.i)
  %sub.i.i.i.i483.i.i.i.i.i.i.i = fsub float %mul.i.i36.i.i482.i.i.i.i.i.i.i, %243
  %conv.i4.i.i.i484.i.i.i.i.i.i.i = fptosi float %243 to i32
  %244 = call noundef float @llvm.fma.f32(float %sub.i.i.i.i483.i.i.i.i.i.i.i, float 0x3FB4015920000000, float 0x3FCCF34160000000)
  %245 = call noundef float @llvm.fma.f32(float %sub.i.i.i.i483.i.i.i.i.i.i.i, float %244, float 0x3FE6420080000000)
  %246 = call noundef float @llvm.fma.f32(float %sub.i.i.i.i483.i.i.i.i.i.i.i, float %245, float 1.000000e+00)
  %247 = bitcast float %246 to i32
  %shr.i.i.i.i.i485.i.i.i.i.i.i.i = lshr i32 %247, 23
  %sub.i.i.i.i.i486.i.i.i.i.i.i.i = add i32 %conv.i4.i.i.i484.i.i.i.i.i.i.i, -127
  %add.i.i37.i.i487.i.i.i.i.i.i.i = add i32 %sub.i.i.i.i.i486.i.i.i.i.i.i.i, %shr.i.i.i.i.i485.i.i.i.i.i.i.i
  %cmp.i.i.i.i488.i.i.i.i.i.i.i = icmp slt i32 %add.i.i37.i.i487.i.i.i.i.i.i.i, -126
  br i1 %cmp.i.i.i.i488.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i.i.i496.i.i.i.i.i.i.i, label %if.end.i.i.i.i489.i.i.i.i.i.i.i

if.end.i.i.i.i489.i.i.i.i.i.i.i:                  ; preds = %for.body.i.i.i479.i.i.i.i.i.i.i
  %cmp3.i.i.i.i490.i.i.i.i.i.i.i = icmp sgt i32 %add.i.i37.i.i487.i.i.i.i.i.i.i, 127
  br i1 %cmp3.i.i.i.i490.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i.i.i496.i.i.i.i.i.i.i, label %if.end5.i.i.i.i491.i.i.i.i.i.i.i

if.end5.i.i.i.i491.i.i.i.i.i.i.i:                 ; preds = %if.end.i.i.i.i489.i.i.i.i.i.i.i
  %and.i.i38.i.i492.i.i.i.i.i.i.i = and i32 %247, -2139095041
  %add7.i.i.i.i493.i.i.i.i.i.i.i = shl nsw i32 %add.i.i37.i.i487.i.i.i.i.i.i.i, 23
  %shl.i.i.i.i494.i.i.i.i.i.i.i = add i32 %add7.i.i.i.i493.i.i.i.i.i.i.i, 1065353216
  %or.i.i.i.i495.i.i.i.i.i.i.i = or i32 %shl.i.i.i.i494.i.i.i.i.i.i.i, %and.i.i38.i.i492.i.i.i.i.i.i.i
  %248 = bitcast i32 %or.i.i.i.i495.i.i.i.i.i.i.i to float
  br label %_ZN4pbrt7FastExpEf.exit.i.i.i496.i.i.i.i.i.i.i

_ZN4pbrt7FastExpEf.exit.i.i.i496.i.i.i.i.i.i.i:   ; preds = %if.end5.i.i.i.i491.i.i.i.i.i.i.i, %if.end.i.i.i.i489.i.i.i.i.i.i.i, %for.body.i.i.i479.i.i.i.i.i.i.i
  %retval.0.i.i.i.i497.i.i.i.i.i.i.i = phi float [ %248, %if.end5.i.i.i.i491.i.i.i.i.i.i.i ], [ 0.000000e+00, %for.body.i.i.i479.i.i.i.i.i.i.i ], [ 0x7FF0000000000000, %if.end.i.i.i.i489.i.i.i.i.i.i.i ]
  %arrayidx.i.i6.i.i.i498.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i.i240.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i480.i.i.i.i.i.i.i
  store float %retval.0.i.i.i.i497.i.i.i.i.i.i.i, ptr %arrayidx.i.i6.i.i.i498.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i.i499.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i.i480.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i.i500.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i.i499.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i.i500.i.i.i.i.i.i.i, label %invoke.cont31.i.i501.i.i.i.i.i.i.i, label %for.body.i.i.i479.i.i.i.i.i.i.i, !llvm.loop !111

invoke.cont31.i.i501.i.i.i.i.i.i.i:               ; preds = %_ZN4pbrt7FastExpEf.exit.i.i.i496.i.i.i.i.i.i.i
  %.fca.0.load.i.i.i502.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i.i240.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i.i503.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i.i308.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i240.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i.i502.i.i.i.i.i.i.i, ptr %ref.tmp22.i.i247.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i.i503.i.i.i.i.i.i.i, ptr %55, align 8
  br label %for.body.i39.i.i504.i.i.i.i.i.i.i

for.body.i39.i.i504.i.i.i.i.i.i.i:                ; preds = %for.body.i39.i.i504.i.i.i.i.i.i.i, %invoke.cont31.i.i501.i.i.i.i.i.i.i
  %indvars.iv.i40.i.i505.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont31.i.i501.i.i.i.i.i.i.i ], [ %indvars.iv.next.i42.i.i509.i.i.i.i.i.i.i, %for.body.i39.i.i504.i.i.i.i.i.i.i ]
  %arrayidx.i.i41.i.i506.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp22.i.i247.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i40.i.i505.i.i.i.i.i.i.i
  %249 = load float, ptr %arrayidx.i.i41.i.i506.i.i.i.i.i.i.i, align 4
  %arrayidx.i4.i.i.i507.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i245.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i40.i.i505.i.i.i.i.i.i.i
  %250 = load float, ptr %arrayidx.i4.i.i.i507.i.i.i.i.i.i.i, align 4
  %mul.i.i.i508.i.i.i.i.i.i.i = fmul float %249, %250
  store float %mul.i.i.i508.i.i.i.i.i.i.i, ptr %arrayidx.i4.i.i.i507.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i42.i.i509.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i40.i.i505.i.i.i.i.i.i.i, 1
  %exitcond.not.i43.i.i510.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i42.i.i509.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i43.i.i510.i.i.i.i.i.i.i, label %_ZN4pbrt15SampledSpectrummLERKS0_.exit.i.i511.i.i.i.i.i.i.i, label %for.body.i39.i.i504.i.i.i.i.i.i.i, !llvm.loop !112

_ZN4pbrt15SampledSpectrummLERKS0_.exit.i.i511.i.i.i.i.i.i.i: ; preds = %for.body.i39.i.i504.i.i.i.i.i.i.i
  br label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i384.i.i.i.i.i.i.i, !llvm.loop !116

invoke.cont48.preheader.i.i314.i.i.i.i.i.i.i:     ; preds = %invoke.cont.i.i312.i.i.i.i.i.i.i
  %251 = load float, ptr %seg.i.i246.i.i.i.i.i.i.i, align 4
  br label %invoke.cont48.i.i315.i.i.i.i.i.i.i

invoke.cont48.i.i315.i.i.i.i.i.i.i:               ; preds = %invoke.cont97.i.i463.i.i.i.i.i.i.i, %invoke.cont48.preheader.i.i314.i.i.i.i.i.i.i
  %u.addr.1244.i.i316.i.i.i.i.i.i.i = phi float [ %.sroa.speculated.i.i.i335.i.i.i.i.i.i.i, %invoke.cont97.i.i463.i.i.i.i.i.i.i ], [ %u.addr.0.i23.i31041.i.i.i.i.i.i.i, %invoke.cont48.preheader.i.i314.i.i.i.i.i.i.i ]
  %tMin38.0243.i.i317.i.i.i.i.i.i.i = phi float [ %add.i.i320.i.i.i.i.i.i.i, %invoke.cont97.i.i463.i.i.i.i.i.i.i ], [ %251, %invoke.cont48.preheader.i.i314.i.i.i.i.i.i.i ]
  %252 = load float, ptr %sigma_maj.i.i296.i.i.i.i.i.i.i, align 4
  %sub.i.i.i318.i.i.i.i.i.i.i = fsub float 1.000000e+00, %u.addr.1244.i.i316.i.i.i.i.i.i.i
  %call.i.i.i.i319.i.i.i.i.i.i.i = call noundef float @logf(float noundef %sub.i.i.i318.i.i.i.i.i.i.i) #25
  %253 = fdiv float %call.i.i.i.i319.i.i.i.i.i.i.i, %252
  %add.i.i320.i.i.i.i.i.i.i = fsub float %tMin38.0243.i.i317.i.i.i.i.i.i.i, %253
  %254 = load i64, ptr %rng.i.i.i.i, align 8
  %mul.i.i54.i.i321.i.i.i.i.i.i.i = mul i64 %254, 6364136223846793005
  %255 = load i64, ptr %inc.i.i.i.i.i.i, align 8
  %add.i.i55.i.i322.i.i.i.i.i.i.i = add i64 %mul.i.i54.i.i321.i.i.i.i.i.i.i, %255
  store i64 %add.i.i55.i.i322.i.i.i.i.i.i.i, ptr %rng.i.i.i.i, align 8
  %256 = lshr i64 %254, 45
  %257 = lshr i64 %254, 27
  %shr3.i.i.i.i323.i.i.i.i.i.i.i = xor i64 %256, %257
  %conv.i.i.i.i324.i.i.i.i.i.i.i = trunc i64 %shr3.i.i.i.i323.i.i.i.i.i.i.i to i32
  %shr4.i.i.i.i325.i.i.i.i.i.i.i = lshr i64 %254, 59
  %conv5.i.i.i.i326.i.i.i.i.i.i.i = trunc i64 %shr4.i.i.i.i325.i.i.i.i.i.i.i to i32
  %shr6.i.i.i.i327.i.i.i.i.i.i.i = lshr i32 %conv.i.i.i.i324.i.i.i.i.i.i.i, %conv5.i.i.i.i326.i.i.i.i.i.i.i
  %add7.i.i56.i.i328.i.i.i.i.i.i.i = sub nsw i32 0, %conv5.i.i.i.i326.i.i.i.i.i.i.i
  %and.i.i57.i.i329.i.i.i.i.i.i.i = and i32 %add7.i.i56.i.i328.i.i.i.i.i.i.i, 31
  %shl.i.i58.i.i330.i.i.i.i.i.i.i = shl i32 %conv.i.i.i.i324.i.i.i.i.i.i.i, %and.i.i57.i.i329.i.i.i.i.i.i.i
  %or.i.i59.i.i331.i.i.i.i.i.i.i = or i32 %shr6.i.i.i.i327.i.i.i.i.i.i.i, %shl.i.i58.i.i330.i.i.i.i.i.i.i
  %conv.i.i.i332.i.i.i.i.i.i.i = uitofp i32 %or.i.i59.i.i331.i.i.i.i.i.i.i to float
  %mul.i60.i.i333.i.i.i.i.i.i.i = fmul float %conv.i.i.i332.i.i.i.i.i.i.i, 0x3DF0000000000000
  %cmp.i.i61.i.i334.i.i.i.i.i.i.i = fcmp olt float %mul.i60.i.i333.i.i.i.i.i.i.i, 0x3FEFFFFFE0000000
  %.sroa.speculated.i.i.i335.i.i.i.i.i.i.i = select i1 %cmp.i.i61.i.i334.i.i.i.i.i.i.i, float %mul.i60.i.i333.i.i.i.i.i.i.i, float 0x3FEFFFFFE0000000
  %258 = load i8, ptr %set.i.i.i295.i.i.i.i.i.i.i, align 4
  %259 = and i8 %258, 1
  %tobool.not.i.i63.i.i336.i.i.i.i.i.i.i = icmp eq i8 %259, 0
  br i1 %tobool.not.i.i63.i.i336.i.i.i.i.i.i.i, label %land.rhs.i.i51.invoke.i.i.i.i.i.i.invoke.i.i.i, label %invoke.cont52.i.i337.i.i.i.i.i.i.i

invoke.cont52.i.i337.i.i.i.i.i.i.i:               ; preds = %invoke.cont48.i.i315.i.i.i.i.i.i.i
  %260 = load float, ptr %tMax54.i.i298.i.i.i.i.i.i.i, align 4
  %cmp55.i.i338.i.i.i.i.i.i.i = fcmp olt float %add.i.i320.i.i.i.i.i.i.i, %260
  br i1 %cmp55.i.i338.i.i.i.i.i.i.i, label %invoke.cont61.i.i386.i.i.i.i.i.i.i, label %invoke.cont103.i.i339.i.i.i.i.i.i.i

invoke.cont61.i.i386.i.i.i.i.i.i.i:               ; preds = %invoke.cont52.i.i337.i.i.i.i.i.i.i
  %sub59.i.i387.i.i.i.i.i.i.i = fsub float %add.i.i320.i.i.i.i.i.i.i, %tMin38.0243.i.i317.i.i.i.i.i.i.i
  %fneg60.i.i388.i.i.i.i.i.i.i = fneg float %sub59.i.i387.i.i.i.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i72.i.i239.i.i.i.i.i.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i72.i.i239.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(16) %sigma_maj.i.i296.i.i.i.i.i.i.i, i64 16, i1 false)
  br label %for.body.i.i73.i.i389.i.i.i.i.i.i.i

for.body.i.i73.i.i389.i.i.i.i.i.i.i:              ; preds = %for.body.i.i73.i.i389.i.i.i.i.i.i.i, %invoke.cont61.i.i386.i.i.i.i.i.i.i
  %indvars.iv.i.i74.i.i390.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont61.i.i386.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i77.i.i393.i.i.i.i.i.i.i, %for.body.i.i73.i.i389.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i75.i.i391.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i72.i.i239.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i74.i.i390.i.i.i.i.i.i.i
  %261 = load float, ptr %arrayidx.i.i.i75.i.i391.i.i.i.i.i.i.i, align 4
  %mul.i.i76.i.i392.i.i.i.i.i.i.i = fmul float %261, %fneg60.i.i388.i.i.i.i.i.i.i
  store float %mul.i.i76.i.i392.i.i.i.i.i.i.i, ptr %arrayidx.i.i.i75.i.i391.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i77.i.i393.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i74.i.i390.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i78.i.i394.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i77.i.i393.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i78.i.i394.i.i.i.i.i.i.i, label %invoke.cont64.i.i395.i.i.i.i.i.i.i, label %for.body.i.i73.i.i389.i.i.i.i.i.i.i, !llvm.loop !110

invoke.cont64.i.i395.i.i.i.i.i.i.i:               ; preds = %for.body.i.i73.i.i389.i.i.i.i.i.i.i
  %.fca.0.load.i.i79.i.i396.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i72.i.i239.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i82.i.i397.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i81.i.i299.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i72.i.i239.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i79.i.i396.i.i.i.i.i.i.i, ptr %ref.tmp58.i.i250.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i82.i.i397.i.i.i.i.i.i.i, ptr %50, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i85.i.i238.i.i.i.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i85.i.i238.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i86.i.i398.i.i.i.i.i.i.i

for.body.i86.i.i398.i.i.i.i.i.i.i:                ; preds = %_ZN4pbrt7FastExpEf.exit.i103.i.i415.i.i.i.i.i.i.i, %invoke.cont64.i.i395.i.i.i.i.i.i.i
  %indvars.iv.i87.i.i399.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont64.i.i395.i.i.i.i.i.i.i ], [ %indvars.iv.next.i106.i.i418.i.i.i.i.i.i.i, %_ZN4pbrt7FastExpEf.exit.i103.i.i415.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i88.i.i400.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp58.i.i250.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i87.i.i399.i.i.i.i.i.i.i
  %262 = load float, ptr %arrayidx.i.i.i88.i.i400.i.i.i.i.i.i.i, align 4
  %mul.i.i89.i.i401.i.i.i.i.i.i.i = fmul float %262, 0x3FF7154760000000
  %263 = call noundef float @llvm.floor.f32(float %mul.i.i89.i.i401.i.i.i.i.i.i.i)
  %sub.i.i90.i.i402.i.i.i.i.i.i.i = fsub float %mul.i.i89.i.i401.i.i.i.i.i.i.i, %263
  %conv.i4.i91.i.i403.i.i.i.i.i.i.i = fptosi float %263 to i32
  %264 = call noundef float @llvm.fma.f32(float %sub.i.i90.i.i402.i.i.i.i.i.i.i, float 0x3FB4015920000000, float 0x3FCCF34160000000)
  %265 = call noundef float @llvm.fma.f32(float %sub.i.i90.i.i402.i.i.i.i.i.i.i, float %264, float 0x3FE6420080000000)
  %266 = call noundef float @llvm.fma.f32(float %sub.i.i90.i.i402.i.i.i.i.i.i.i, float %265, float 1.000000e+00)
  %267 = bitcast float %266 to i32
  %shr.i.i.i92.i.i404.i.i.i.i.i.i.i = lshr i32 %267, 23
  %sub.i.i.i93.i.i405.i.i.i.i.i.i.i = add i32 %conv.i4.i91.i.i403.i.i.i.i.i.i.i, -127
  %add.i.i94.i.i406.i.i.i.i.i.i.i = add i32 %sub.i.i.i93.i.i405.i.i.i.i.i.i.i, %shr.i.i.i92.i.i404.i.i.i.i.i.i.i
  %cmp.i.i95.i.i407.i.i.i.i.i.i.i = icmp slt i32 %add.i.i94.i.i406.i.i.i.i.i.i.i, -126
  br i1 %cmp.i.i95.i.i407.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i103.i.i415.i.i.i.i.i.i.i, label %if.end.i.i96.i.i408.i.i.i.i.i.i.i

if.end.i.i96.i.i408.i.i.i.i.i.i.i:                ; preds = %for.body.i86.i.i398.i.i.i.i.i.i.i
  %cmp3.i.i97.i.i409.i.i.i.i.i.i.i = icmp sgt i32 %add.i.i94.i.i406.i.i.i.i.i.i.i, 127
  br i1 %cmp3.i.i97.i.i409.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i103.i.i415.i.i.i.i.i.i.i, label %if.end5.i.i98.i.i410.i.i.i.i.i.i.i

if.end5.i.i98.i.i410.i.i.i.i.i.i.i:               ; preds = %if.end.i.i96.i.i408.i.i.i.i.i.i.i
  %and.i.i99.i.i411.i.i.i.i.i.i.i = and i32 %267, -2139095041
  %add7.i.i100.i.i412.i.i.i.i.i.i.i = shl nsw i32 %add.i.i94.i.i406.i.i.i.i.i.i.i, 23
  %shl.i.i101.i.i413.i.i.i.i.i.i.i = add i32 %add7.i.i100.i.i412.i.i.i.i.i.i.i, 1065353216
  %or.i.i102.i.i414.i.i.i.i.i.i.i = or i32 %shl.i.i101.i.i413.i.i.i.i.i.i.i, %and.i.i99.i.i411.i.i.i.i.i.i.i
  %268 = bitcast i32 %or.i.i102.i.i414.i.i.i.i.i.i.i to float
  br label %_ZN4pbrt7FastExpEf.exit.i103.i.i415.i.i.i.i.i.i.i

_ZN4pbrt7FastExpEf.exit.i103.i.i415.i.i.i.i.i.i.i: ; preds = %if.end5.i.i98.i.i410.i.i.i.i.i.i.i, %if.end.i.i96.i.i408.i.i.i.i.i.i.i, %for.body.i86.i.i398.i.i.i.i.i.i.i
  %retval.0.i.i104.i.i416.i.i.i.i.i.i.i = phi float [ %268, %if.end5.i.i98.i.i410.i.i.i.i.i.i.i ], [ 0.000000e+00, %for.body.i86.i.i398.i.i.i.i.i.i.i ], [ 0x7FF0000000000000, %if.end.i.i96.i.i408.i.i.i.i.i.i.i ]
  %arrayidx.i.i6.i105.i.i417.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i85.i.i238.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i87.i.i399.i.i.i.i.i.i.i
  store float %retval.0.i.i104.i.i416.i.i.i.i.i.i.i, ptr %arrayidx.i.i6.i105.i.i417.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i106.i.i418.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i87.i.i399.i.i.i.i.i.i.i, 1
  %exitcond.not.i107.i.i419.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i106.i.i418.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i107.i.i419.i.i.i.i.i.i.i, label %invoke.cont68.i.i420.i.i.i.i.i.i.i, label %for.body.i86.i.i398.i.i.i.i.i.i.i, !llvm.loop !111

invoke.cont68.i.i420.i.i.i.i.i.i.i:               ; preds = %_ZN4pbrt7FastExpEf.exit.i103.i.i415.i.i.i.i.i.i.i
  %.fca.0.load.i108.i.i421.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i85.i.i238.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i111.i.i422.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i110.i.i300.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i85.i.i238.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i108.i.i421.i.i.i.i.i.i.i, ptr %ref.tmp57.i.i249.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i111.i.i422.i.i.i.i.i.i.i, ptr %51, align 8
  br label %for.body.i114.i.i423.i.i.i.i.i.i.i

for.body.i114.i.i423.i.i.i.i.i.i.i:               ; preds = %for.body.i114.i.i423.i.i.i.i.i.i.i, %invoke.cont68.i.i420.i.i.i.i.i.i.i
  %indvars.iv.i115.i.i424.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont68.i.i420.i.i.i.i.i.i.i ], [ %indvars.iv.next.i119.i.i428.i.i.i.i.i.i.i, %for.body.i114.i.i423.i.i.i.i.i.i.i ]
  %arrayidx.i.i116.i.i425.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp57.i.i249.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i115.i.i424.i.i.i.i.i.i.i
  %269 = load float, ptr %arrayidx.i.i116.i.i425.i.i.i.i.i.i.i, align 4
  %arrayidx.i4.i117.i.i426.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i245.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i115.i.i424.i.i.i.i.i.i.i
  %270 = load float, ptr %arrayidx.i4.i117.i.i426.i.i.i.i.i.i.i, align 4
  %mul.i118.i.i427.i.i.i.i.i.i.i = fmul float %269, %270
  store float %mul.i118.i.i427.i.i.i.i.i.i.i, ptr %arrayidx.i4.i117.i.i426.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i119.i.i428.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i115.i.i424.i.i.i.i.i.i.i, 1
  %exitcond.not.i120.i.i429.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i119.i.i428.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i120.i.i429.i.i.i.i.i.i.i, label %invoke.cont75.i.i430.i.i.i.i.i.i.i, label %for.body.i114.i.i423.i.i.i.i.i.i.i, !llvm.loop !112

invoke.cont75.i.i430.i.i.i.i.i.i.i:               ; preds = %for.body.i114.i.i423.i.i.i.i.i.i.i
  %271 = insertelement <2 x float> poison, float %add.i.i320.i.i.i.i.i.i.i, i64 0
  %272 = shufflevector <2 x float> %271, <2 x float> poison, <2 x i32> zeroinitializer
  %273 = fmul <2 x float> %231, %272
  %mul3.i.i.i.i433.i.i.i.i.i.i.i = fmul float %div3.i.i.i.i279.i.i.i.i.i.i.i, %add.i.i320.i.i.i.i.i.i.i
  %274 = fadd <2 x float> %ray.sroa.0.0347.i.i.i.i, %273
  %add6.i.i.i.i436.i.i.i.i.i.i.i = fadd float %ray.sroa.9.0348.i.i.i.i, %mul3.i.i.i.i433.i.i.i.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %convert.sroa.0.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp8.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp21.i.i.i.i.i.i.i.i.i)
  %call.i20.i.i.i.i.i21.i.i.i = call { <2 x float>, float } @_ZNK4pbrt9Transform12ApplyInverseIfEENS_6Point3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %renderFromMedium.i.i.i.i.i.i.i.i.i, <2 x float> %274, float %add6.i.i.i.i436.i.i.i.i.i.i.i)
  %call.fca.0.extract.i.i.i.i.i.i.i.i.i = extractvalue { <2 x float>, float } %call.i20.i.i.i.i.i21.i.i.i, 0
  %call.fca.1.extract.i.i.i.i.i.i.i.i.i = extractvalue { <2 x float>, float } %call.i20.i.i.i.i.i21.i.i.i, 1
  %agg.tmp.sroa.0.0.copyload.i.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %232, align 4, !noalias !117
  %agg.tmp.sroa.2.0.copyload.i.i.i.i.i.i.i.i.i.i = load float, ptr %agg.tmp.sroa.2.0.pMin.sroa_idx.i.i.i.i.i.i.i.i.i.i, align 4, !noalias !117
  %275 = fsub <2 x float> %call.fca.0.extract.i.i.i.i.i.i.i.i.i, %agg.tmp.sroa.0.0.copyload.i.i.i.i.i.i.i.i.i.i
  %sub6.i.i.i.i.i.i.i.i.i.i.i = fsub float %call.fca.1.extract.i.i.i.i.i.i.i.i.i, %agg.tmp.sroa.2.0.copyload.i.i.i.i.i.i.i.i.i.i
  %276 = load float, ptr %pMax.i.i.i.i.i.i.i.i.i.i, align 4, !noalias !117
  %277 = extractelement <2 x float> %agg.tmp.sroa.0.0.copyload.i.i.i.i.i.i.i.i.i.i, i64 0
  %cmp.i.i.i.i.i.i.i.i.i.i = fcmp ogt float %276, %277
  %sub.i.i5.i.i.i.i.i.i.i.i = fsub float %276, %277
  %278 = extractelement <2 x float> %275, i64 0
  %div.i.i.i.i.i.i.i.i.i.i = fdiv float %278, %sub.i.i5.i.i.i.i.i.i.i.i
  %retval.sroa.0.0.vec.insert.i.i.i.i.i.i.i.i.i.i = insertelement <2 x float> %275, float %div.i.i.i.i.i.i.i.i.i.i, i64 0
  %retval.sroa.0.0.i.i.i.i.i.i.i.i.i.i = select i1 %cmp.i.i.i.i.i.i.i.i.i.i, <2 x float> %retval.sroa.0.0.vec.insert.i.i.i.i.i.i.i.i.i.i, <2 x float> %275
  %279 = load float, ptr %y.i.i.i.i.i.i.i.i.i.i, align 4, !noalias !117
  %280 = extractelement <2 x float> %agg.tmp.sroa.0.0.copyload.i.i.i.i.i.i.i.i.i.i, i64 1
  %cmp12.i.i.i.i.i.i.i.i.i.i = fcmp ogt float %279, %280
  %sub18.i.i.i.i.i.i.i.i.i.i = fsub float %279, %280
  %retval.sroa.0.4.vec.extract.i.i.i.i.i.i.i.i.i.i = extractelement <2 x float> %retval.sroa.0.0.i.i.i.i.i.i.i.i.i.i, i64 1
  %div20.i.i.i.i.i.i.i.i.i.i = fdiv float %retval.sroa.0.4.vec.extract.i.i.i.i.i.i.i.i.i.i, %sub18.i.i.i.i.i.i.i.i.i.i
  %retval.sroa.0.4.vec.insert.i.i.i.i.i.i.i.i.i.i = insertelement <2 x float> %retval.sroa.0.0.i.i.i.i.i.i.i.i.i.i, float %div20.i.i.i.i.i.i.i.i.i.i, i64 1
  %retval.sroa.0.1.i.i.i.i.i.i.i.i.i.i = select i1 %cmp12.i.i.i.i.i.i.i.i.i.i, <2 x float> %retval.sroa.0.4.vec.insert.i.i.i.i.i.i.i.i.i.i, <2 x float> %retval.sroa.0.0.i.i.i.i.i.i.i.i.i.i
  %281 = load float, ptr %z.i.i.i.i.i.i.i.i.i.i, align 4, !noalias !117
  %cmp25.i.i.i.i.i.i.i.i.i.i = fcmp ogt float %281, %agg.tmp.sroa.2.0.copyload.i.i.i.i.i.i.i.i.i.i
  %sub31.i.i.i.i.i.i.i.i.i.i = fsub float %281, %agg.tmp.sroa.2.0.copyload.i.i.i.i.i.i.i.i.i.i
  %div33.i.i.i.i.i.i.i.i.i.i = select i1 %cmp25.i.i.i.i.i.i.i.i.i.i, float %sub31.i.i.i.i.i.i.i.i.i.i, float 1.000000e+00
  %retval.sroa.6.0.i.i.i.i.i.i.i.i.i.i = fdiv float %sub6.i.i.i.i.i.i.i.i.i.i.i, %div33.i.i.i.i.i.i.i.i.i.i
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %convert.sroa.0.i.i.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(32) %lambda.i.i.i.i, i64 32, i1 false), !noalias !117
  %282 = load float, ptr %sigmaScale.i.i.i.i.i.i.i.i.i, align 8, !noalias !117
  %283 = load i8, ptr %set.i.i6.i.i.i.i.i.i.i.i, align 8, !noalias !117
  %284 = and i8 %283, 1
  %tobool.i.not.i7.i.i.i.i.i.i.i.i = icmp eq i8 %284, 0
  br i1 %tobool.i.not.i7.i.i.i.i.i.i.i.i, label %cond.false.i.i.i.i.i.i.i.i.i, label %_ZNK4pstd8optionalIN4pbrt11SampledGridINS1_20RGBUnboundedSpectrumEEEEptEv.exit.i.i.i.i.i.i.i.i.i

_ZNK4pstd8optionalIN4pbrt11SampledGridINS1_20RGBUnboundedSpectrumEEEEptEv.exit.i.i.i.i.i.i.i.i.i: ; preds = %invoke.cont75.i.i430.i.i.i.i.i.i.i
  %call14.i21.i.i.i.i.i22.i.i.i = call { <2 x float>, <2 x float> } @_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaS6_T_(ptr noundef nonnull align 8 dereferenceable(44) %sigma_aGrid.i.i.i.i.i.i.i.i.i, <2 x float> %retval.sroa.0.1.i.i.i.i.i.i.i.i.i.i, float %retval.sroa.6.0.i.i.i.i.i.i.i.i.i.i, ptr noundef nonnull byval(%class.anon.239) align 8 %lambda.i.i.i.i)
  %285 = extractvalue { <2 x float>, <2 x float> } %call14.i21.i.i.i.i.i22.i.i.i, 0
  store <2 x float> %285, ptr %ref.tmp8.i.i.i.i.i.i.i.i.i, align 8, !noalias !117
  %286 = extractvalue { <2 x float>, <2 x float> } %call14.i21.i.i.i.i.i22.i.i.i, 1
  store <2 x float> %286, ptr %56, align 8, !noalias !117
  br label %for.body.i.i6.i.i.i.i.i.i.i.i.i.preheader

cond.false.i.i.i.i.i.i.i.i.i:                     ; preds = %invoke.cont75.i.i430.i.i.i.i.i.i.i
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp8.i.i.i.i.i.i.i.i.i, i8 0, i64 16, i1 false), !noalias !117
  br label %for.body.i.i.i15.i.i.i.i.i.i.i.i

for.body.i.i.i15.i.i.i.i.i.i.i.i:                 ; preds = %for.body.i.i.i15.i.i.i.i.i.i.i.i, %cond.false.i.i.i.i.i.i.i.i.i
  %indvars.iv.i.i.i16.i.i.i.i.i.i.i.i = phi i64 [ 0, %cond.false.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i.i18.i.i.i.i.i.i.i.i, %for.body.i.i.i15.i.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i17.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp8.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i16.i.i.i.i.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i.i17.i.i.i.i.i.i.i.i, align 4, !noalias !117
  %indvars.iv.next.i.i.i18.i.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i.i16.i.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i.i19.i.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i.i18.i.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i.i19.i.i.i.i.i.i.i.i, label %for.body.i.i6.i.i.i.i.i.i.i.i.i.preheader, label %for.body.i.i.i15.i.i.i.i.i.i.i.i, !llvm.loop !103

for.body.i.i6.i.i.i.i.i.i.i.i.i.preheader:        ; preds = %for.body.i.i.i15.i.i.i.i.i.i.i.i, %_ZNK4pstd8optionalIN4pbrt11SampledGridINS1_20RGBUnboundedSpectrumEEEEptEv.exit.i.i.i.i.i.i.i.i.i
  br label %for.body.i.i6.i.i.i.i.i.i.i.i.i

for.body.i.i6.i.i.i.i.i.i.i.i.i:                  ; preds = %for.body.i.i6.i.i.i.i.i.i.i.i.i.preheader, %for.body.i.i6.i.i.i.i.i.i.i.i.i
  %indvars.iv.i.i7.i.i.i.i.i.i.i.i.i = phi i64 [ %indvars.iv.next.i.i8.i.i.i.i.i.i.i.i.i, %for.body.i.i6.i.i.i.i.i.i.i.i.i ], [ 0, %for.body.i.i6.i.i.i.i.i.i.i.i.i.preheader ]
  %arrayidx.i.i.i.i8.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp8.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i7.i.i.i.i.i.i.i.i.i
  %287 = load float, ptr %arrayidx.i.i.i.i8.i.i.i.i.i.i.i.i, align 4, !noalias !117
  %mul.i.i.i9.i.i.i.i.i.i.i.i = fmul float %282, %287
  store float %mul.i.i.i9.i.i.i.i.i.i.i.i, ptr %arrayidx.i.i.i.i8.i.i.i.i.i.i.i.i, align 4, !noalias !117
  %indvars.iv.next.i.i8.i.i.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i7.i.i.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i9.i.i.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i8.i.i.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i9.i.i.i.i.i.i.i.i.i, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i.i.i.i.i.i.i.i.i, label %for.body.i.i6.i.i.i.i.i.i.i.i.i, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i.i.i.i.i.i.i.i.i: ; preds = %for.body.i.i6.i.i.i.i.i.i.i.i.i
  %.fca.0.load.i.i.i10.i.i.i.i.i.i.i.i = load <2 x float>, ptr %ref.tmp8.i.i.i.i.i.i.i.i.i, align 8, !noalias !117
  %.fca.1.load.i.i.i12.i.i.i.i.i.i.i.i = load <2 x float>, ptr %56, align 8, !noalias !117
  %288 = load float, ptr %sigmaScale.i.i.i.i.i.i.i.i.i, align 8, !noalias !117
  %289 = load i8, ptr %set.i10.i.i.i.i.i.i.i.i.i, align 8, !noalias !117
  %290 = and i8 %289, 1
  %tobool.i11.not.i.i.i.i.i.i.i.i.i = icmp eq i8 %290, 0
  br i1 %tobool.i11.not.i.i.i.i.i.i.i.i.i, label %cond.false31.i.i.i.i.i.i.i.i.i, label %_ZNK4pstd8optionalIN4pbrt11SampledGridINS1_20RGBUnboundedSpectrumEEEEptEv.exit15.i.i.i.i.i.i.i.i.i

_ZNK4pstd8optionalIN4pbrt11SampledGridINS1_20RGBUnboundedSpectrumEEEEptEv.exit15.i.i.i.i.i.i.i.i.i: ; preds = %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i.i.i.i.i.i.i.i.i
  %call28.i22.i.i.i.i.i23.i.i.i = call { <2 x float>, <2 x float> } @_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaS6_T_(ptr noundef nonnull align 8 dereferenceable(44) %sigma_sGrid.i.i.i.i.i.i.i.i.i, <2 x float> %retval.sroa.0.1.i.i.i.i.i.i.i.i.i.i, float %retval.sroa.6.0.i.i.i.i.i.i.i.i.i.i, ptr noundef nonnull byval(%class.anon.239) align 8 %convert.sroa.0.i.i.i.i.i.i.i.i.i)
  %291 = extractvalue { <2 x float>, <2 x float> } %call28.i22.i.i.i.i.i23.i.i.i, 0
  store <2 x float> %291, ptr %ref.tmp21.i.i.i.i.i.i.i.i.i, align 8, !noalias !117
  %292 = extractvalue { <2 x float>, <2 x float> } %call28.i22.i.i.i.i.i23.i.i.i, 1
  store <2 x float> %292, ptr %57, align 8, !noalias !117
  br label %for.body.i.i23.i.i.i.i.i.i.i.i.i.preheader

cond.false31.i.i.i.i.i.i.i.i.i:                   ; preds = %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i.i.i.i.i.i.i.i.i
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp21.i.i.i.i.i.i.i.i.i, i8 0, i64 16, i1 false), !noalias !117
  br label %for.body.i.i16.i.i.i.i.i.i.i.i.i

for.body.i.i16.i.i.i.i.i.i.i.i.i:                 ; preds = %for.body.i.i16.i.i.i.i.i.i.i.i.i, %cond.false31.i.i.i.i.i.i.i.i.i
  %indvars.iv.i.i17.i.i.i.i.i.i.i.i.i = phi i64 [ 0, %cond.false31.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i19.i.i.i.i.i.i.i.i.i, %for.body.i.i16.i.i.i.i.i.i.i.i.i ]
  %arrayidx.i.i18.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp21.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i17.i.i.i.i.i.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i18.i.i.i.i.i.i.i.i.i, align 4, !noalias !117
  %indvars.iv.next.i.i19.i.i.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i17.i.i.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i20.i.i.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i19.i.i.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i20.i.i.i.i.i.i.i.i.i, label %for.body.i.i23.i.i.i.i.i.i.i.i.i.preheader, label %for.body.i.i16.i.i.i.i.i.i.i.i.i, !llvm.loop !103

for.body.i.i23.i.i.i.i.i.i.i.i.i.preheader:       ; preds = %for.body.i.i16.i.i.i.i.i.i.i.i.i, %_ZNK4pstd8optionalIN4pbrt11SampledGridINS1_20RGBUnboundedSpectrumEEEEptEv.exit15.i.i.i.i.i.i.i.i.i
  br label %for.body.i.i23.i.i.i.i.i.i.i.i.i

for.body.i.i23.i.i.i.i.i.i.i.i.i:                 ; preds = %for.body.i.i23.i.i.i.i.i.i.i.i.i.preheader, %for.body.i.i23.i.i.i.i.i.i.i.i.i
  %indvars.iv.i.i24.i.i.i.i.i.i.i.i.i = phi i64 [ %indvars.iv.next.i.i27.i.i.i.i.i.i.i.i.i, %for.body.i.i23.i.i.i.i.i.i.i.i.i ], [ 0, %for.body.i.i23.i.i.i.i.i.i.i.i.i.preheader ]
  %arrayidx.i.i.i25.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp21.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i24.i.i.i.i.i.i.i.i.i
  %293 = load float, ptr %arrayidx.i.i.i25.i.i.i.i.i.i.i.i.i, align 4, !noalias !117
  %mul.i.i26.i.i.i.i.i.i.i.i.i = fmul float %288, %293
  store float %mul.i.i26.i.i.i.i.i.i.i.i.i, ptr %arrayidx.i.i.i25.i.i.i.i.i.i.i.i.i, align 4, !noalias !117
  %indvars.iv.next.i.i27.i.i.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i24.i.i.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i28.i.i.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i27.i.i.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i28.i.i.i.i.i.i.i.i.i, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit34.i.i.i.i.i.i.i.i.i, label %for.body.i.i23.i.i.i.i.i.i.i.i.i, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit34.i.i.i.i.i.i.i.i.i: ; preds = %for.body.i.i23.i.i.i.i.i.i.i.i.i
  %.fca.0.load.i.i29.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %ref.tmp21.i.i.i.i.i.i.i.i.i, align 8, !noalias !117
  %.fca.1.load.i.i32.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %57, align 8, !noalias !117
  %294 = load i8, ptr %set.i41.i.i.i.i.i.i.i.i.i, align 8, !noalias !117
  %295 = and i8 %294, 1
  %tobool.i42.not.i.i.i.i.i.i.i.i.i = icmp eq i8 %295, 0
  br i1 %tobool.i42.not.i.i.i.i.i.i.i.i.i, label %invoke.cont86.i.i.i.i.i.i.i.i.i, label %land.lhs.true.i.i.i.i.i.i.i.i.i

land.lhs.true.i.i.i.i.i.i.i.i.i:                  ; preds = %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit34.i.i.i.i.i.i.i.i.i
  %296 = load float, ptr %LeScale.i.i.i.i.i.i.i.i.i, align 8, !noalias !117
  %cmp.i13.i.i.i.i.i.i.i.i = fcmp ogt float %296, 0.000000e+00
  br i1 %cmp.i13.i.i.i.i.i.i.i.i, label %_ZNK4pstd8optionalIN4pbrt11SampledGridINS1_21RGBIlluminantSpectrumEEEEptEv.exit.i.i.i.i.i.i.i.i.i, label %invoke.cont86.i.i.i.i.i.i.i.i.i

_ZNK4pstd8optionalIN4pbrt11SampledGridINS1_21RGBIlluminantSpectrumEEEEptEv.exit.i.i.i.i.i.i.i.i.i: ; preds = %land.lhs.true.i.i.i.i.i.i.i.i.i
  %call45.i23.i.i.i.i.i24.i.i.i = call { <2 x float>, <2 x float> } @_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaS6_T_(ptr noundef nonnull align 8 dereferenceable(44) %LeGrid.i.i.i.i.i.i.i.i.i, <2 x float> %retval.sroa.0.1.i.i.i.i.i.i.i.i.i.i, float %retval.sroa.6.0.i.i.i.i.i.i.i.i.i.i, ptr noundef nonnull byval(%class.anon.244) align 8 %lambda.i.i.i.i)
  %297 = extractvalue { <2 x float>, <2 x float> } %call45.i23.i.i.i.i.i24.i.i.i, 0
  %298 = extractvalue { <2 x float>, <2 x float> } %call45.i23.i.i.i.i.i24.i.i.i, 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i46.i.i.i.i.i.i.i.i.i), !noalias !117
  store <2 x float> %297, ptr %retval.i.i46.i.i.i.i.i.i.i.i.i, align 8, !noalias !117
  store <2 x float> %298, ptr %ref.tmp40.sroa.2.0.retval.i.i46.sroa_idx.i.i.i.i.i.i.i.i.i, align 8, !noalias !117
  br label %for.body.i.i47.i.i.i.i.i.i.i.i.i

for.body.i.i47.i.i.i.i.i.i.i.i.i:                 ; preds = %for.body.i.i47.i.i.i.i.i.i.i.i.i, %_ZNK4pstd8optionalIN4pbrt11SampledGridINS1_21RGBIlluminantSpectrumEEEEptEv.exit.i.i.i.i.i.i.i.i.i
  %indvars.iv.i.i48.i.i.i.i.i.i.i.i.i = phi i64 [ 0, %_ZNK4pstd8optionalIN4pbrt11SampledGridINS1_21RGBIlluminantSpectrumEEEEptEv.exit.i.i.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i51.i.i.i.i.i.i.i.i.i, %for.body.i.i47.i.i.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i49.i.i.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i46.i.i.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i48.i.i.i.i.i.i.i.i.i
  %299 = load float, ptr %arrayidx.i.i.i49.i.i.i.i.i.i.i.i.i, align 4, !noalias !117
  %mul.i.i50.i.i.i.i.i.i.i.i.i = fmul float %296, %299
  store float %mul.i.i50.i.i.i.i.i.i.i.i.i, ptr %arrayidx.i.i.i49.i.i.i.i.i.i.i.i.i, align 4, !noalias !117
  %indvars.iv.next.i.i51.i.i.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i48.i.i.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i52.i.i.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i51.i.i.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i52.i.i.i.i.i.i.i.i.i, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit58.i.i.i.i.i.i.i.i.i, label %for.body.i.i47.i.i.i.i.i.i.i.i.i, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit58.i.i.i.i.i.i.i.i.i: ; preds = %for.body.i.i47.i.i.i.i.i.i.i.i.i
  %.fca.0.load.i.i53.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i46.i.i.i.i.i.i.i.i.i, align 8, !noalias !117
  %.fca.1.load.i.i56.i.i.i.i.i.i.i.i.i = load <2 x float>, ptr %ref.tmp40.sroa.2.0.retval.i.i46.sroa_idx.i.i.i.i.i.i.i.i.i, align 8, !noalias !117
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i46.i.i.i.i.i.i.i.i.i), !noalias !117
  br label %invoke.cont86.i.i.i.i.i.i.i.i.i

invoke.cont86.i.i.i.i.i.i.i.i.i:                  ; preds = %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit58.i.i.i.i.i.i.i.i.i, %land.lhs.true.i.i.i.i.i.i.i.i.i, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit34.i.i.i.i.i.i.i.i.i
  %Le.sroa.4.0.i.i.i.i.i.i.i.i.i = phi <2 x float> [ zeroinitializer, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit34.i.i.i.i.i.i.i.i.i ], [ %.fca.1.load.i.i56.i.i.i.i.i.i.i.i.i, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit58.i.i.i.i.i.i.i.i.i ], [ zeroinitializer, %land.lhs.true.i.i.i.i.i.i.i.i.i ]
  %Le.sroa.0.0.i.i.i.i.i.i.i.i.i = phi <2 x float> [ zeroinitializer, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit34.i.i.i.i.i.i.i.i.i ], [ %.fca.0.load.i.i53.i.i.i.i.i.i.i.i.i, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit58.i.i.i.i.i.i.i.i.i ], [ zeroinitializer, %land.lhs.true.i.i.i.i.i.i.i.i.i ]
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %convert.sroa.0.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp8.i.i.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp21.i.i.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i.i10.i.i.i.i.i.i.i.i, ptr %agg.tmp85.i.i251.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i.i12.i.i.i.i.i.i.i.i, ptr %mp.i.sroa.4.0.agg.tmp85.i.sroa_idx.i.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.0.load.i.i29.i.i.i.i.i.i.i.i.i, ptr %mp.i.sroa.5.0.agg.tmp85.i.sroa_idx.i.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i32.i.i.i.i.i.i.i.i.i, ptr %mp.i.sroa.6.0.agg.tmp85.i.sroa_idx.i.i.i.i.i.i.i.i, align 8
  store i64 %or.i.i.i14.i.i.i.i.i.i.i.i, ptr %phase.i.i.i301.i.i.i.i.i.i.i, align 8
  store <2 x float> %Le.sroa.0.0.i.i.i.i.i.i.i.i.i, ptr %Le.i.i.i302.i.i.i.i.i.i.i, align 8
  store <2 x float> %Le.sroa.4.0.i.i.i.i.i.i.i.i.i, ptr %mp.i.sroa.11.40.Le.i.i.sroa_idx.i.i.i.i.i.i.i.i, align 8
  %300 = load i8, ptr %set.i.i.i295.i.i.i.i.i.i.i, align 4
  %301 = and i8 %300, 1
  %tobool.not.i.i140.i.i439.i.i.i.i.i.i.i = icmp eq i8 %301, 0
  br i1 %tobool.not.i.i140.i.i439.i.i.i.i.i.i.i, label %land.rhs.i.i51.invoke.i.i.i.i.i.i.invoke.i.i.i, label %invoke.cont88.i.i440.i.i.i.i.i.i.i

invoke.cont88.i.i440.i.i.i.i.i.i.i:               ; preds = %invoke.cont86.i.i.i.i.i.i.i.i.i
  %agg.tmp87.sroa.0.0.copyload.i.i441.i.i.i.i.i.i.i = load <2 x float>, ptr %sigma_maj.i.i296.i.i.i.i.i.i.i, align 4
  %agg.tmp87.sroa.2.0.copyload.i.i442.i.i.i.i.i.i.i = load <2 x float>, ptr %agg.tmp87.sroa.2.0.sigma_maj90.sroa_idx.i.i303.i.i.i.i.i.i.i, align 4
  %agg.tmp91.sroa.0.0.copyload.i.i443.i.i.i.i.i.i.i = load <2 x float>, ptr %T_maj.i.i245.i.i.i.i.i.i.i, align 8
  %agg.tmp91.sroa.2.0.copyload.i.i444.i.i.i.i.i.i.i = load <2 x float>, ptr %agg.tmp91.sroa.2.0.T_maj.sroa_idx.i.i304.i.i.i.i.i.i.i, align 8
  %call93.i.i445.i.i.i.i.i.i.i = call fastcc noundef zeroext i1 @"_ZZN4pbrt18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS1_17IntersectShadowTrEiS5_S9_ENKSA_clEiEUlNS_6Point3IfEEE_EEvS3_S9_T_T0_ENKUlSE_NS_16MediumPropertiesENS_15SampledSpectrumESJ_E_clESE_SI_SJ_SJ_"(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp21.i255.i.i.i.i.i.i.i, ptr noundef nonnull %agg.tmp85.i.i251.i.i.i.i.i.i.i, <2 x float> %agg.tmp87.sroa.0.0.copyload.i.i441.i.i.i.i.i.i.i, <2 x float> %agg.tmp87.sroa.2.0.copyload.i.i442.i.i.i.i.i.i.i, <2 x float> %agg.tmp91.sroa.0.0.copyload.i.i443.i.i.i.i.i.i.i, <2 x float> %agg.tmp91.sroa.2.0.copyload.i.i444.i.i.i.i.i.i.i)
  br i1 %call93.i.i445.i.i.i.i.i.i.i, label %if.end95.i.i457.i.i.i.i.i.i.i, label %while.end125.i.i446.i.i.i.i.i.i.i

if.end95.i.i457.i.i.i.i.i.i.i:                    ; preds = %invoke.cont88.i.i440.i.i.i.i.i.i.i
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 4 dereferenceable(16) %ref.tmp96.i.i252.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i144.i.i458.i.i.i.i.i.i.i

for.body.i.i144.i.i458.i.i.i.i.i.i.i:             ; preds = %for.body.i.i144.i.i458.i.i.i.i.i.i.i, %if.end95.i.i457.i.i.i.i.i.i.i
  %indvars.iv.i.i145.i.i459.i.i.i.i.i.i.i = phi i64 [ 0, %if.end95.i.i457.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i147.i.i461.i.i.i.i.i.i.i, %for.body.i.i144.i.i458.i.i.i.i.i.i.i ]
  %arrayidx.i.i146.i.i460.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp96.i.i252.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i145.i.i459.i.i.i.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i146.i.i460.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i147.i.i461.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i145.i.i459.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i148.i.i462.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i147.i.i461.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i148.i.i462.i.i.i.i.i.i.i, label %invoke.cont97.i.i463.i.i.i.i.i.i.i, label %for.body.i.i144.i.i458.i.i.i.i.i.i.i, !llvm.loop !103

invoke.cont97.i.i463.i.i.i.i.i.i.i:               ; preds = %for.body.i.i144.i.i458.i.i.i.i.i.i.i
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %T_maj.i.i245.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(16) %ref.tmp96.i.i252.i.i.i.i.i.i.i, i64 16, i1 false)
  %302 = load i8, ptr %set.i.i.i295.i.i.i.i.i.i.i, align 4
  %303 = and i8 %302, 1
  %tobool.not.i.i50.i.i464.i.i.i.i.i.i.i = icmp eq i8 %303, 0
  br i1 %tobool.not.i.i50.i.i464.i.i.i.i.i.i.i, label %land.rhs.i.i51.invoke.i.i.i.i.i.i.invoke.i.i.i, label %invoke.cont48.i.i315.i.i.i.i.i.i.i, !llvm.loop !120

invoke.cont103.i.i339.i.i.i.i.i.i.i:              ; preds = %invoke.cont52.i.i337.i.i.i.i.i.i.i
  %sub102.i.i340.i.i.i.i.i.i.i = fsub float %260, %tMin38.0243.i.i317.i.i.i.i.i.i.i
  %304 = call float @llvm.fabs.f32(float %sub102.i.i340.i.i.i.i.i.i.i)
  %305 = fcmp oeq float %304, 0x7FF0000000000000
  %dt98.0.i.i341.i.i.i.i.i.i.i = select i1 %305, float 0x47EFFFFFE0000000, float %sub102.i.i340.i.i.i.i.i.i.i
  %fneg110.i.i342.i.i.i.i.i.i.i = fneg float %dt98.0.i.i341.i.i.i.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i160.i.i237.i.i.i.i.i.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i160.i.i237.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(16) %sigma_maj.i.i296.i.i.i.i.i.i.i, i64 16, i1 false)
  br label %for.body.i.i161.i.i343.i.i.i.i.i.i.i

for.body.i.i161.i.i343.i.i.i.i.i.i.i:             ; preds = %for.body.i.i161.i.i343.i.i.i.i.i.i.i, %invoke.cont103.i.i339.i.i.i.i.i.i.i
  %indvars.iv.i.i162.i.i344.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont103.i.i339.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i165.i.i347.i.i.i.i.i.i.i, %for.body.i.i161.i.i343.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i163.i.i345.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i160.i.i237.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i162.i.i344.i.i.i.i.i.i.i
  %306 = load float, ptr %arrayidx.i.i.i163.i.i345.i.i.i.i.i.i.i, align 4
  %mul.i.i164.i.i346.i.i.i.i.i.i.i = fmul float %306, %fneg110.i.i342.i.i.i.i.i.i.i
  store float %mul.i.i164.i.i346.i.i.i.i.i.i.i, ptr %arrayidx.i.i.i163.i.i345.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i165.i.i347.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i162.i.i344.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i166.i.i348.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i165.i.i347.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i166.i.i348.i.i.i.i.i.i.i, label %invoke.cont114.i.i349.i.i.i.i.i.i.i, label %for.body.i.i161.i.i343.i.i.i.i.i.i.i, !llvm.loop !110

invoke.cont114.i.i349.i.i.i.i.i.i.i:              ; preds = %for.body.i.i161.i.i343.i.i.i.i.i.i.i
  %.fca.0.load.i.i167.i.i350.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i160.i.i237.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i170.i.i351.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i169.i.i305.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i160.i.i237.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i167.i.i350.i.i.i.i.i.i.i, ptr %ref.tmp109.i.i254.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i170.i.i351.i.i.i.i.i.i.i, ptr %52, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i173.i.i236.i.i.i.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i173.i.i236.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i174.i.i352.i.i.i.i.i.i.i

for.body.i174.i.i352.i.i.i.i.i.i.i:               ; preds = %_ZN4pbrt7FastExpEf.exit.i191.i.i369.i.i.i.i.i.i.i, %invoke.cont114.i.i349.i.i.i.i.i.i.i
  %indvars.iv.i175.i.i353.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont114.i.i349.i.i.i.i.i.i.i ], [ %indvars.iv.next.i194.i.i372.i.i.i.i.i.i.i, %_ZN4pbrt7FastExpEf.exit.i191.i.i369.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i176.i.i354.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp109.i.i254.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i175.i.i353.i.i.i.i.i.i.i
  %307 = load float, ptr %arrayidx.i.i.i176.i.i354.i.i.i.i.i.i.i, align 4
  %mul.i.i177.i.i355.i.i.i.i.i.i.i = fmul float %307, 0x3FF7154760000000
  %308 = call noundef float @llvm.floor.f32(float %mul.i.i177.i.i355.i.i.i.i.i.i.i)
  %sub.i.i178.i.i356.i.i.i.i.i.i.i = fsub float %mul.i.i177.i.i355.i.i.i.i.i.i.i, %308
  %conv.i4.i179.i.i357.i.i.i.i.i.i.i = fptosi float %308 to i32
  %309 = call noundef float @llvm.fma.f32(float %sub.i.i178.i.i356.i.i.i.i.i.i.i, float 0x3FB4015920000000, float 0x3FCCF34160000000)
  %310 = call noundef float @llvm.fma.f32(float %sub.i.i178.i.i356.i.i.i.i.i.i.i, float %309, float 0x3FE6420080000000)
  %311 = call noundef float @llvm.fma.f32(float %sub.i.i178.i.i356.i.i.i.i.i.i.i, float %310, float 1.000000e+00)
  %312 = bitcast float %311 to i32
  %shr.i.i.i180.i.i358.i.i.i.i.i.i.i = lshr i32 %312, 23
  %sub.i.i.i181.i.i359.i.i.i.i.i.i.i = add i32 %conv.i4.i179.i.i357.i.i.i.i.i.i.i, -127
  %add.i.i182.i.i360.i.i.i.i.i.i.i = add i32 %sub.i.i.i181.i.i359.i.i.i.i.i.i.i, %shr.i.i.i180.i.i358.i.i.i.i.i.i.i
  %cmp.i.i183.i.i361.i.i.i.i.i.i.i = icmp slt i32 %add.i.i182.i.i360.i.i.i.i.i.i.i, -126
  br i1 %cmp.i.i183.i.i361.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i191.i.i369.i.i.i.i.i.i.i, label %if.end.i.i184.i.i362.i.i.i.i.i.i.i

if.end.i.i184.i.i362.i.i.i.i.i.i.i:               ; preds = %for.body.i174.i.i352.i.i.i.i.i.i.i
  %cmp3.i.i185.i.i363.i.i.i.i.i.i.i = icmp sgt i32 %add.i.i182.i.i360.i.i.i.i.i.i.i, 127
  br i1 %cmp3.i.i185.i.i363.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i191.i.i369.i.i.i.i.i.i.i, label %if.end5.i.i186.i.i364.i.i.i.i.i.i.i

if.end5.i.i186.i.i364.i.i.i.i.i.i.i:              ; preds = %if.end.i.i184.i.i362.i.i.i.i.i.i.i
  %and.i.i187.i.i365.i.i.i.i.i.i.i = and i32 %312, -2139095041
  %add7.i.i188.i.i366.i.i.i.i.i.i.i = shl nsw i32 %add.i.i182.i.i360.i.i.i.i.i.i.i, 23
  %shl.i.i189.i.i367.i.i.i.i.i.i.i = add i32 %add7.i.i188.i.i366.i.i.i.i.i.i.i, 1065353216
  %or.i.i190.i.i368.i.i.i.i.i.i.i = or i32 %shl.i.i189.i.i367.i.i.i.i.i.i.i, %and.i.i187.i.i365.i.i.i.i.i.i.i
  %313 = bitcast i32 %or.i.i190.i.i368.i.i.i.i.i.i.i to float
  br label %_ZN4pbrt7FastExpEf.exit.i191.i.i369.i.i.i.i.i.i.i

_ZN4pbrt7FastExpEf.exit.i191.i.i369.i.i.i.i.i.i.i: ; preds = %if.end5.i.i186.i.i364.i.i.i.i.i.i.i, %if.end.i.i184.i.i362.i.i.i.i.i.i.i, %for.body.i174.i.i352.i.i.i.i.i.i.i
  %retval.0.i.i192.i.i370.i.i.i.i.i.i.i = phi float [ %313, %if.end5.i.i186.i.i364.i.i.i.i.i.i.i ], [ 0.000000e+00, %for.body.i174.i.i352.i.i.i.i.i.i.i ], [ 0x7FF0000000000000, %if.end.i.i184.i.i362.i.i.i.i.i.i.i ]
  %arrayidx.i.i6.i193.i.i371.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i173.i.i236.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i175.i.i353.i.i.i.i.i.i.i
  store float %retval.0.i.i192.i.i370.i.i.i.i.i.i.i, ptr %arrayidx.i.i6.i193.i.i371.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i194.i.i372.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i175.i.i353.i.i.i.i.i.i.i, 1
  %exitcond.not.i195.i.i373.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i194.i.i372.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i195.i.i373.i.i.i.i.i.i.i, label %invoke.cont118.i.i374.i.i.i.i.i.i.i, label %for.body.i174.i.i352.i.i.i.i.i.i.i, !llvm.loop !111

invoke.cont118.i.i374.i.i.i.i.i.i.i:              ; preds = %_ZN4pbrt7FastExpEf.exit.i191.i.i369.i.i.i.i.i.i.i
  %.fca.0.load.i196.i.i375.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i173.i.i236.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i199.i.i376.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i198.i.i306.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i173.i.i236.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i196.i.i375.i.i.i.i.i.i.i, ptr %ref.tmp108.i.i253.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i199.i.i376.i.i.i.i.i.i.i, ptr %53, align 8
  br label %for.body.i202.i.i377.i.i.i.i.i.i.i

for.body.i202.i.i377.i.i.i.i.i.i.i:               ; preds = %for.body.i202.i.i377.i.i.i.i.i.i.i, %invoke.cont118.i.i374.i.i.i.i.i.i.i
  %indvars.iv.i203.i.i378.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont118.i.i374.i.i.i.i.i.i.i ], [ %indvars.iv.next.i207.i.i382.i.i.i.i.i.i.i, %for.body.i202.i.i377.i.i.i.i.i.i.i ]
  %arrayidx.i.i204.i.i379.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp108.i.i253.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i203.i.i378.i.i.i.i.i.i.i
  %314 = load float, ptr %arrayidx.i.i204.i.i379.i.i.i.i.i.i.i, align 4
  %arrayidx.i4.i205.i.i380.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i245.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i203.i.i378.i.i.i.i.i.i.i
  %315 = load float, ptr %arrayidx.i4.i205.i.i380.i.i.i.i.i.i.i, align 4
  %mul.i206.i.i381.i.i.i.i.i.i.i = fmul float %314, %315
  store float %mul.i206.i.i381.i.i.i.i.i.i.i, ptr %arrayidx.i4.i205.i.i380.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i207.i.i382.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i203.i.i378.i.i.i.i.i.i.i, 1
  %exitcond.not.i208.i.i383.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i207.i.i382.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i208.i.i383.i.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i384.i.i.i.i.i.i.i, label %for.body.i202.i.i377.i.i.i.i.i.i.i, !llvm.loop !112

_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i384.i.i.i.i.i.i.i: ; preds = %for.body.i202.i.i377.i.i.i.i.i.i.i, %_ZN4pbrt15SampledSpectrummLERKS0_.exit.i.i511.i.i.i.i.i.i.i
  %u.addr.2270.i.i385.i.i.i.i.i.i.i = phi float [ %u.addr.0.i23.i31041.i.i.i.i.i.i.i, %_ZN4pbrt15SampledSpectrummLERKS0_.exit.i.i511.i.i.i.i.i.i.i ], [ %.sroa.speculated.i.i.i335.i.i.i.i.i.i.i, %for.body.i202.i.i377.i.i.i.i.i.i.i ]
  store i8 0, ptr %set.i.i.i295.i.i.i.i.i.i.i, align 4
  call void @_ZN4pbrt19DDAMajorantIterator4NextEv(ptr nonnull sret(%"class.pstd::optional.223") align 4 %seg.i.i246.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(92) %iter.i.i243.i.i.i.i.i.i.i)
  %316 = load i8, ptr %set.i.i.i295.i.i.i.i.i.i.i, align 4
  %317 = and i8 %316, 1
  %tobool.i.not.i.i311.i.i.i.i.i.i.i = icmp eq i8 %317, 0
  br i1 %tobool.i.not.i.i311.i.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i512.i.i.i.i.i.i.i, label %invoke.cont.i.i312.i.i.i.i.i.i.i

while.end125.i.i446.i.i.i.i.i.i.i:                ; preds = %invoke.cont88.i.i440.i.i.i.i.i.i.i
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i242.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i214.i.i447.i.i.i.i.i.i.i

for.body.i.i214.i.i447.i.i.i.i.i.i.i:             ; preds = %for.body.i.i214.i.i447.i.i.i.i.i.i.i, %while.end125.i.i446.i.i.i.i.i.i.i
  %indvars.iv.i.i215.i.i448.i.i.i.i.i.i.i = phi i64 [ 0, %while.end125.i.i446.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i217.i.i450.i.i.i.i.i.i.i, %for.body.i.i214.i.i447.i.i.i.i.i.i.i ]
  %arrayidx.i.i216.i.i449.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i242.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i215.i.i448.i.i.i.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i216.i.i449.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i217.i.i450.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i215.i.i448.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i218.i.i451.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i217.i.i450.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i218.i.i451.i.i.i.i.i.i.i, label %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_13RGBGridMediumEEEDaSH_.exit.i.i.i.i.i.i.i", label %for.body.i.i214.i.i447.i.i.i.i.i.i.i, !llvm.loop !103

"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_13RGBGridMediumEEEDaSH_.exit.i.i.i.i.i.i.i": ; preds = %for.body.i.i214.i.i447.i.i.i.i.i.i.i, %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i512.i.i.i.i.i.i.i
  %.fca.0.load.i.i452.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i242.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i455.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i454.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp21.i255.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i242.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 96, ptr nonnull %iter.i.i243.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 40, ptr nonnull %agg.tmp7.i.i244.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %T_maj.i.i245.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 28, ptr nonnull %seg.i.i246.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp22.i.i247.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp23.i.i248.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp57.i.i249.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp58.i.i250.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 56, ptr nonnull %agg.tmp85.i.i251.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp96.i.i252.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp108.i.i253.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp109.i.i254.i.i.i.i.i.i.i)
  br label %"_ZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_.exit.i.i.i.i"

sw.bb12.i.i.i.i.i.i.i:                            ; preds = %cond.end.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp21.i532.i.i.i.i.i.i.i)
  store ptr %T_ray.i.i.i.i, ptr %agg.tmp21.i532.i.i.i.i.i.i.i, align 8
  store ptr %r_l.i.i.i.i, ptr %agg.tmp2751.sroa.8.0.agg.tmp21.i532.i.i.i.sroa_idx.i.i.i.i, align 8
  store ptr %r_u.i.i.i.i, ptr %agg.tmp2751.sroa.9.0.agg.tmp21.i532.i.i.i.sroa_idx.i.i.i.i, align 8
  store ptr %rng.i.i.i.i, ptr %agg.tmp2751.sroa.10.0.agg.tmp21.i532.i.i.i.sroa_idx.i.i.i.i, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i519.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 28, ptr nonnull %iter.i.i520.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 40, ptr nonnull %agg.tmp7.i.i521.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %T_maj.i.i522.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp22.i.i523.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp23.i.i524.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp57.i.i525.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp58.i.i526.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 56, ptr nonnull %mp.i.i527.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 56, ptr nonnull %agg.tmp85.i.i528.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp96.i.i529.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp108.i.i530.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp109.i.i531.i.i.i.i.i.i.i)
  %318 = fmul <2 x float> %ray.sroa.14.0349.i.i.i.i, %ray.sroa.14.0349.i.i.i.i
  %shift184 = shufflevector <2 x float> %318, <2 x float> poison, <2 x i32> <i32 1, i32 poison>
  %319 = fadd <2 x float> %318, %shift184
  %add.i.i.i.i549.i.i.i.i.i.i.i = extractelement <2 x float> %319, i64 0
  %mul.i2.i.i.i.i550.i.i.i.i.i.i.i = fmul float %ray.sroa.22.0350.i.i.i.i, %ray.sroa.22.0350.i.i.i.i
  %add3.i.i.i.i551.i.i.i.i.i.i.i = fadd float %mul.i2.i.i.i.i550.i.i.i.i.i.i.i, %add.i.i.i.i549.i.i.i.i.i.i.i
  %sqrt.i.i.i552.i.i.i.i.i.i.i = call noundef float @llvm.sqrt.f32(float %add3.i.i.i.i551.i.i.i.i.i.i.i)
  %mul.i.i553.i.i.i.i.i.i.i = fmul float %sqrt.i.i.i552.i.i.i.i.i.i.i, %cond.i.i.i.i
  %320 = insertelement <2 x float> poison, float %sqrt.i.i.i552.i.i.i.i.i.i.i, i64 0
  %321 = shufflevector <2 x float> %320, <2 x float> poison, <2 x i32> zeroinitializer
  %322 = fdiv <2 x float> %ray.sroa.14.0349.i.i.i.i, %321
  %div3.i.i.i.i556.i.i.i.i.i.i.i = fdiv float %ray.sroa.22.0350.i.i.i.i, %sqrt.i.i.i552.i.i.i.i.i.i.i
  %323 = inttoptr i64 %and.i40280286.i.i.i.i to ptr
  store <2 x float> %ray.sroa.0.0347.i.i.i.i, ptr %agg.tmp7.i.i521.i.i.i.i.i.i.i, align 8
  store float %ray.sroa.9.0348.i.i.i.i, ptr %agg.tmp.sroa.6.0.agg.tmp7.i.sroa_idx.i561.i.i.i.i.i.i.i, align 8
  store <2 x float> %322, ptr %agg.tmp.sroa.8.0.agg.tmp7.i.sroa_idx.i562.i.i.i.i.i.i.i, align 4
  store float %div3.i.i.i.i556.i.i.i.i.i.i.i, ptr %agg.tmp.sroa.14.0.agg.tmp7.i.sroa_idx.i563.i.i.i.i.i.i.i, align 4
  store float %ray.sroa.28.0351.i.i.i.i, ptr %agg.tmp.sroa.18.0.agg.tmp7.i.sroa_idx.i564.i.i.i.i.i.i.i, align 8
  store i64 %ray.sroa.30.0352.i.i.i.i, ptr %medium.i.i.i565.i.i.i.i.i.i.i, align 8
  call void @_ZNK4pbrt11CloudMedium9SampleRayENS_3RayEfRKNS_18SampledWavelengthsE(ptr nonnull sret(%"class.pbrt::HomogeneousMajorantIterator") align 4 %iter.i.i520.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(252) %323, ptr noundef nonnull %agg.tmp7.i.i521.i.i.i.i.i.i.i, float noundef %mul.i.i553.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(32) %lambda.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %T_maj.i.i522.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i.i.i566.i.i.i.i.i.i.i

for.body.i.i.i.i566.i.i.i.i.i.i.i:                ; preds = %for.body.i.i.i.i566.i.i.i.i.i.i.i, %sw.bb12.i.i.i.i.i.i.i
  %indvars.iv.i.i.i.i567.i.i.i.i.i.i.i = phi i64 [ 0, %sw.bb12.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i.i.i569.i.i.i.i.i.i.i, %for.body.i.i.i.i566.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i.i568.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i522.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i.i567.i.i.i.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i.i.i568.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i.i.i569.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i.i.i567.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i.i.i570.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i.i.i569.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i.i.i570.i.i.i.i.i.i.i, label %while.cond.preheader.i.i571.i.i.i.i.i.i.i, label %for.body.i.i.i.i566.i.i.i.i.i.i.i, !llvm.loop !103

while.cond.preheader.i.i571.i.i.i.i.i.i.i:        ; preds = %for.body.i.i.i.i566.i.i.i.i.i.i.i
  %324 = load i8, ptr %called.i.i.i572.i.i.i.i.i.i.i, align 4, !noalias !121
  %325 = and i8 %324, 1
  %tobool.not.i.i19.i588.i.i.i.i.i.i.i = icmp eq i8 %325, 0
  br i1 %tobool.not.i.i19.i588.i.i.i.i.i.i.i, label %invoke.cont.i.i595.i.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i589.i.i.i.i.i.i.i

invoke.cont.i.i595.i.i.i.i.i.i.i:                 ; preds = %while.cond.preheader.i.i571.i.i.i.i.i.i.i, %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i669.i.i.i.i.i.i.i
  %u.addr.0295.i20.i596.i.i.i.i.i.i.i = phi float [ %.sroa.speculated.i.i.i622.i.i.i.i.i.i.i, %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i669.i.i.i.i.i.i.i ], [ %.sroa.speculated.i.i.i.i.i, %while.cond.preheader.i.i571.i.i.i.i.i.i.i ]
  store i8 1, ptr %called.i.i.i572.i.i.i.i.i.i.i, align 4, !noalias !121
  %seg.sroa.0.0.copyload.i.i597.i.i.i.i.i.i.i = load float, ptr %iter.i.i520.i.i.i.i.i.i.i, align 4
  %seg.sroa.4.0.copyload.i.i598.i.i.i.i.i.i.i = load float, ptr %seg.sroa.4.0.iter.sroa_idx.i.i573.i.i.i.i.i.i.i, align 4
  %seg.sroa.7.0.copyload.i.i599.i.i.i.i.i.i.i = load <2 x float>, ptr %seg.sroa.7.0.iter.sroa_idx.i.i574.i.i.i.i.i.i.i, align 4
  %seg.sroa.13.0.copyload.i.i600.i.i.i.i.i.i.i = load <2 x float>, ptr %seg.sroa.13.0.iter.sroa_idx.i.i575.i.i.i.i.i.i.i, align 4
  %seg.sroa.7.8.vec.extract.i.i601.i.i.i.i.i.i.i = extractelement <2 x float> %seg.sroa.7.0.copyload.i.i599.i.i.i.i.i.i.i, i64 0
  %cmp.i.i602.i.i.i.i.i.i.i = fcmp oeq float %seg.sroa.7.8.vec.extract.i.i601.i.i.i.i.i.i.i, 0.000000e+00
  br i1 %cmp.i.i602.i.i.i.i.i.i.i, label %invoke.cont17.i.i741.i.i.i.i.i.i.i, label %invoke.cont52.i.i603.i.i.i.i.i.i.i

invoke.cont17.i.i741.i.i.i.i.i.i.i:               ; preds = %invoke.cont.i.i595.i.i.i.i.i.i.i
  %sub.i.i742.i.i.i.i.i.i.i = fsub float %seg.sroa.4.0.copyload.i.i598.i.i.i.i.i.i.i, %seg.sroa.0.0.copyload.i.i597.i.i.i.i.i.i.i
  %326 = call float @llvm.fabs.f32(float %sub.i.i742.i.i.i.i.i.i.i)
  %327 = fcmp oeq float %326, 0x7FF0000000000000
  %dt.0.i.i743.i.i.i.i.i.i.i = select i1 %327, float 0x47EFFFFFE0000000, float %sub.i.i742.i.i.i.i.i.i.i
  %fneg.i.i744.i.i.i.i.i.i.i = fneg float %dt.0.i.i743.i.i.i.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i.i518.i.i.i.i.i.i.i)
  store <2 x float> %seg.sroa.7.0.copyload.i.i599.i.i.i.i.i.i.i, ptr %retval.i.i.i.i518.i.i.i.i.i.i.i, align 8
  store <2 x float> %seg.sroa.13.0.copyload.i.i600.i.i.i.i.i.i.i, ptr %seg.sroa.13.8.retval.i.i.sroa_idx.i.i586.i.i.i.i.i.i.i, align 8
  br label %for.body.i.i29.i.i745.i.i.i.i.i.i.i

for.body.i.i29.i.i745.i.i.i.i.i.i.i:              ; preds = %for.body.i.i29.i.i745.i.i.i.i.i.i.i, %invoke.cont17.i.i741.i.i.i.i.i.i.i
  %indvars.iv.i.i30.i.i746.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont17.i.i741.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i31.i.i749.i.i.i.i.i.i.i, %for.body.i.i29.i.i745.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i.i.i747.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i.i.i518.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i30.i.i746.i.i.i.i.i.i.i
  %328 = load float, ptr %arrayidx.i.i.i.i.i747.i.i.i.i.i.i.i, align 4
  %mul.i.i.i.i748.i.i.i.i.i.i.i = fmul float %328, %fneg.i.i744.i.i.i.i.i.i.i
  store float %mul.i.i.i.i748.i.i.i.i.i.i.i, ptr %arrayidx.i.i.i.i.i747.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i31.i.i749.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i30.i.i746.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i32.i.i750.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i31.i.i749.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i32.i.i750.i.i.i.i.i.i.i, label %invoke.cont27.i.i751.i.i.i.i.i.i.i, label %for.body.i.i29.i.i745.i.i.i.i.i.i.i, !llvm.loop !110

invoke.cont27.i.i751.i.i.i.i.i.i.i:               ; preds = %for.body.i.i29.i.i745.i.i.i.i.i.i.i
  %.fca.0.load.i.i.i.i752.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i.i.i518.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i.i.i753.i.i.i.i.i.i.i = load <2 x float>, ptr %seg.sroa.13.8.retval.i.i.sroa_idx.i.i586.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i.i518.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i.i.i752.i.i.i.i.i.i.i, ptr %ref.tmp23.i.i524.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i.i.i753.i.i.i.i.i.i.i, ptr %48, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i517.i.i.i.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i.i517.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i.i754.i.i.i.i.i.i.i

for.body.i.i.i754.i.i.i.i.i.i.i:                  ; preds = %_ZN4pbrt7FastExpEf.exit.i.i.i771.i.i.i.i.i.i.i, %invoke.cont27.i.i751.i.i.i.i.i.i.i
  %indvars.iv.i.i.i755.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont27.i.i751.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i.i774.i.i.i.i.i.i.i, %_ZN4pbrt7FastExpEf.exit.i.i.i771.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i35.i.i756.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp23.i.i524.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i755.i.i.i.i.i.i.i
  %329 = load float, ptr %arrayidx.i.i.i35.i.i756.i.i.i.i.i.i.i, align 4
  %mul.i.i36.i.i757.i.i.i.i.i.i.i = fmul float %329, 0x3FF7154760000000
  %330 = call noundef float @llvm.floor.f32(float %mul.i.i36.i.i757.i.i.i.i.i.i.i)
  %sub.i.i.i.i758.i.i.i.i.i.i.i = fsub float %mul.i.i36.i.i757.i.i.i.i.i.i.i, %330
  %conv.i4.i.i.i759.i.i.i.i.i.i.i = fptosi float %330 to i32
  %331 = call noundef float @llvm.fma.f32(float %sub.i.i.i.i758.i.i.i.i.i.i.i, float 0x3FB4015920000000, float 0x3FCCF34160000000)
  %332 = call noundef float @llvm.fma.f32(float %sub.i.i.i.i758.i.i.i.i.i.i.i, float %331, float 0x3FE6420080000000)
  %333 = call noundef float @llvm.fma.f32(float %sub.i.i.i.i758.i.i.i.i.i.i.i, float %332, float 1.000000e+00)
  %334 = bitcast float %333 to i32
  %shr.i.i.i.i.i760.i.i.i.i.i.i.i = lshr i32 %334, 23
  %sub.i.i.i.i.i761.i.i.i.i.i.i.i = add i32 %conv.i4.i.i.i759.i.i.i.i.i.i.i, -127
  %add.i.i37.i.i762.i.i.i.i.i.i.i = add i32 %sub.i.i.i.i.i761.i.i.i.i.i.i.i, %shr.i.i.i.i.i760.i.i.i.i.i.i.i
  %cmp.i.i.i.i763.i.i.i.i.i.i.i = icmp slt i32 %add.i.i37.i.i762.i.i.i.i.i.i.i, -126
  br i1 %cmp.i.i.i.i763.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i.i.i771.i.i.i.i.i.i.i, label %if.end.i.i.i.i764.i.i.i.i.i.i.i

if.end.i.i.i.i764.i.i.i.i.i.i.i:                  ; preds = %for.body.i.i.i754.i.i.i.i.i.i.i
  %cmp3.i.i.i.i765.i.i.i.i.i.i.i = icmp sgt i32 %add.i.i37.i.i762.i.i.i.i.i.i.i, 127
  br i1 %cmp3.i.i.i.i765.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i.i.i771.i.i.i.i.i.i.i, label %if.end5.i.i.i.i766.i.i.i.i.i.i.i

if.end5.i.i.i.i766.i.i.i.i.i.i.i:                 ; preds = %if.end.i.i.i.i764.i.i.i.i.i.i.i
  %and.i.i38.i.i767.i.i.i.i.i.i.i = and i32 %334, -2139095041
  %add7.i.i.i.i768.i.i.i.i.i.i.i = shl nsw i32 %add.i.i37.i.i762.i.i.i.i.i.i.i, 23
  %shl.i.i.i.i769.i.i.i.i.i.i.i = add i32 %add7.i.i.i.i768.i.i.i.i.i.i.i, 1065353216
  %or.i.i.i.i770.i.i.i.i.i.i.i = or i32 %shl.i.i.i.i769.i.i.i.i.i.i.i, %and.i.i38.i.i767.i.i.i.i.i.i.i
  %335 = bitcast i32 %or.i.i.i.i770.i.i.i.i.i.i.i to float
  br label %_ZN4pbrt7FastExpEf.exit.i.i.i771.i.i.i.i.i.i.i

_ZN4pbrt7FastExpEf.exit.i.i.i771.i.i.i.i.i.i.i:   ; preds = %if.end5.i.i.i.i766.i.i.i.i.i.i.i, %if.end.i.i.i.i764.i.i.i.i.i.i.i, %for.body.i.i.i754.i.i.i.i.i.i.i
  %retval.0.i.i.i.i772.i.i.i.i.i.i.i = phi float [ %335, %if.end5.i.i.i.i766.i.i.i.i.i.i.i ], [ 0.000000e+00, %for.body.i.i.i754.i.i.i.i.i.i.i ], [ 0x7FF0000000000000, %if.end.i.i.i.i764.i.i.i.i.i.i.i ]
  %arrayidx.i.i6.i.i.i773.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i.i517.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i755.i.i.i.i.i.i.i
  store float %retval.0.i.i.i.i772.i.i.i.i.i.i.i, ptr %arrayidx.i.i6.i.i.i773.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i.i774.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i.i755.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i.i775.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i.i774.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i.i775.i.i.i.i.i.i.i, label %invoke.cont31.i.i776.i.i.i.i.i.i.i, label %for.body.i.i.i754.i.i.i.i.i.i.i, !llvm.loop !111

invoke.cont31.i.i776.i.i.i.i.i.i.i:               ; preds = %_ZN4pbrt7FastExpEf.exit.i.i.i771.i.i.i.i.i.i.i
  %.fca.0.load.i.i.i777.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i.i517.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i.i778.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i.i587.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i517.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i.i777.i.i.i.i.i.i.i, ptr %ref.tmp22.i.i523.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i.i778.i.i.i.i.i.i.i, ptr %49, align 8
  br label %for.body.i39.i.i779.i.i.i.i.i.i.i

for.body.i39.i.i779.i.i.i.i.i.i.i:                ; preds = %for.body.i39.i.i779.i.i.i.i.i.i.i, %invoke.cont31.i.i776.i.i.i.i.i.i.i
  %indvars.iv.i40.i.i780.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont31.i.i776.i.i.i.i.i.i.i ], [ %indvars.iv.next.i42.i.i784.i.i.i.i.i.i.i, %for.body.i39.i.i779.i.i.i.i.i.i.i ]
  %arrayidx.i.i41.i.i781.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp22.i.i523.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i40.i.i780.i.i.i.i.i.i.i
  %336 = load float, ptr %arrayidx.i.i41.i.i781.i.i.i.i.i.i.i, align 4
  %arrayidx.i4.i.i.i782.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i522.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i40.i.i780.i.i.i.i.i.i.i
  %337 = load float, ptr %arrayidx.i4.i.i.i782.i.i.i.i.i.i.i, align 4
  %mul.i.i.i783.i.i.i.i.i.i.i = fmul float %336, %337
  store float %mul.i.i.i783.i.i.i.i.i.i.i, ptr %arrayidx.i4.i.i.i782.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i42.i.i784.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i40.i.i780.i.i.i.i.i.i.i, 1
  %exitcond.not.i43.i.i785.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i42.i.i784.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i43.i.i785.i.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i589.i.i.i.i.i.i.i, label %for.body.i39.i.i779.i.i.i.i.i.i.i, !llvm.loop !112

invoke.cont52.i.i603.i.i.i.i.i.i.i:               ; preds = %invoke.cont.i.i595.i.i.i.i.i.i.i, %invoke.cont97.i.i740.i.i.i.i.i.i.i
  %tMin38.0.i.i.i.i.i.i.i.i.i = phi float [ %add.i.i607.i.i.i.i.i.i.i, %invoke.cont97.i.i740.i.i.i.i.i.i.i ], [ %seg.sroa.0.0.copyload.i.i597.i.i.i.i.i.i.i, %invoke.cont.i.i595.i.i.i.i.i.i.i ]
  %u.addr.1.i.i604.i.i.i.i.i.i.i = phi float [ %.sroa.speculated.i.i.i622.i.i.i.i.i.i.i, %invoke.cont97.i.i740.i.i.i.i.i.i.i ], [ %u.addr.0295.i20.i596.i.i.i.i.i.i.i, %invoke.cont.i.i595.i.i.i.i.i.i.i ]
  %sub.i.i.i605.i.i.i.i.i.i.i = fsub float 1.000000e+00, %u.addr.1.i.i604.i.i.i.i.i.i.i
  %call.i.i.i.i606.i.i.i.i.i.i.i = call noundef float @logf(float noundef %sub.i.i.i605.i.i.i.i.i.i.i) #25
  %338 = fdiv float %call.i.i.i.i606.i.i.i.i.i.i.i, %seg.sroa.7.8.vec.extract.i.i601.i.i.i.i.i.i.i
  %add.i.i607.i.i.i.i.i.i.i = fsub float %tMin38.0.i.i.i.i.i.i.i.i.i, %338
  %339 = load i64, ptr %rng.i.i.i.i, align 8
  %mul.i.i54.i.i608.i.i.i.i.i.i.i = mul i64 %339, 6364136223846793005
  %340 = load i64, ptr %inc.i.i.i.i.i.i, align 8
  %add.i.i55.i.i609.i.i.i.i.i.i.i = add i64 %mul.i.i54.i.i608.i.i.i.i.i.i.i, %340
  store i64 %add.i.i55.i.i609.i.i.i.i.i.i.i, ptr %rng.i.i.i.i, align 8
  %341 = lshr i64 %339, 45
  %342 = lshr i64 %339, 27
  %shr3.i.i.i.i610.i.i.i.i.i.i.i = xor i64 %341, %342
  %conv.i.i.i.i611.i.i.i.i.i.i.i = trunc i64 %shr3.i.i.i.i610.i.i.i.i.i.i.i to i32
  %shr4.i.i.i.i612.i.i.i.i.i.i.i = lshr i64 %339, 59
  %conv5.i.i.i.i613.i.i.i.i.i.i.i = trunc i64 %shr4.i.i.i.i612.i.i.i.i.i.i.i to i32
  %shr6.i.i.i.i614.i.i.i.i.i.i.i = lshr i32 %conv.i.i.i.i611.i.i.i.i.i.i.i, %conv5.i.i.i.i613.i.i.i.i.i.i.i
  %add7.i.i56.i.i615.i.i.i.i.i.i.i = sub nsw i32 0, %conv5.i.i.i.i613.i.i.i.i.i.i.i
  %and.i.i57.i.i616.i.i.i.i.i.i.i = and i32 %add7.i.i56.i.i615.i.i.i.i.i.i.i, 31
  %shl.i.i58.i.i617.i.i.i.i.i.i.i = shl i32 %conv.i.i.i.i611.i.i.i.i.i.i.i, %and.i.i57.i.i616.i.i.i.i.i.i.i
  %or.i.i59.i.i618.i.i.i.i.i.i.i = or i32 %shr6.i.i.i.i614.i.i.i.i.i.i.i, %shl.i.i58.i.i617.i.i.i.i.i.i.i
  %conv.i.i.i619.i.i.i.i.i.i.i = uitofp i32 %or.i.i59.i.i618.i.i.i.i.i.i.i to float
  %mul.i60.i.i620.i.i.i.i.i.i.i = fmul float %conv.i.i.i619.i.i.i.i.i.i.i, 0x3DF0000000000000
  %cmp.i.i61.i.i621.i.i.i.i.i.i.i = fcmp olt float %mul.i60.i.i620.i.i.i.i.i.i.i, 0x3FEFFFFFE0000000
  %.sroa.speculated.i.i.i622.i.i.i.i.i.i.i = select i1 %cmp.i.i61.i.i621.i.i.i.i.i.i.i, float %mul.i60.i.i620.i.i.i.i.i.i.i, float 0x3FEFFFFFE0000000
  %cmp55.i.i623.i.i.i.i.i.i.i = fcmp olt float %add.i.i607.i.i.i.i.i.i.i, %seg.sroa.4.0.copyload.i.i598.i.i.i.i.i.i.i
  br i1 %cmp55.i.i623.i.i.i.i.i.i.i, label %invoke.cont61.i.i672.i.i.i.i.i.i.i, label %invoke.cont103.i.i624.i.i.i.i.i.i.i

invoke.cont61.i.i672.i.i.i.i.i.i.i:               ; preds = %invoke.cont52.i.i603.i.i.i.i.i.i.i
  %sub59.i.i673.i.i.i.i.i.i.i = fsub float %add.i.i607.i.i.i.i.i.i.i, %tMin38.0.i.i.i.i.i.i.i.i.i
  %fneg60.i.i674.i.i.i.i.i.i.i = fneg float %sub59.i.i673.i.i.i.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i72.i.i516.i.i.i.i.i.i.i)
  store <2 x float> %seg.sroa.7.0.copyload.i.i599.i.i.i.i.i.i.i, ptr %retval.i.i72.i.i516.i.i.i.i.i.i.i, align 8
  store <2 x float> %seg.sroa.13.0.copyload.i.i600.i.i.i.i.i.i.i, ptr %seg.sroa.13.8.retval.i.i72.sroa_idx.i.i577.i.i.i.i.i.i.i, align 8
  br label %for.body.i.i73.i.i675.i.i.i.i.i.i.i

for.body.i.i73.i.i675.i.i.i.i.i.i.i:              ; preds = %for.body.i.i73.i.i675.i.i.i.i.i.i.i, %invoke.cont61.i.i672.i.i.i.i.i.i.i
  %indvars.iv.i.i74.i.i676.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont61.i.i672.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i77.i.i679.i.i.i.i.i.i.i, %for.body.i.i73.i.i675.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i75.i.i677.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i72.i.i516.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i74.i.i676.i.i.i.i.i.i.i
  %343 = load float, ptr %arrayidx.i.i.i75.i.i677.i.i.i.i.i.i.i, align 4
  %mul.i.i76.i.i678.i.i.i.i.i.i.i = fmul float %343, %fneg60.i.i674.i.i.i.i.i.i.i
  store float %mul.i.i76.i.i678.i.i.i.i.i.i.i, ptr %arrayidx.i.i.i75.i.i677.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i77.i.i679.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i74.i.i676.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i78.i.i680.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i77.i.i679.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i78.i.i680.i.i.i.i.i.i.i, label %invoke.cont64.i.i681.i.i.i.i.i.i.i, label %for.body.i.i73.i.i675.i.i.i.i.i.i.i, !llvm.loop !110

invoke.cont64.i.i681.i.i.i.i.i.i.i:               ; preds = %for.body.i.i73.i.i675.i.i.i.i.i.i.i
  %.fca.0.load.i.i79.i.i682.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i72.i.i516.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i82.i.i683.i.i.i.i.i.i.i = load <2 x float>, ptr %seg.sroa.13.8.retval.i.i72.sroa_idx.i.i577.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i72.i.i516.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i79.i.i682.i.i.i.i.i.i.i, ptr %ref.tmp58.i.i526.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i82.i.i683.i.i.i.i.i.i.i, ptr %44, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i85.i.i515.i.i.i.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i85.i.i515.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i86.i.i684.i.i.i.i.i.i.i

for.body.i86.i.i684.i.i.i.i.i.i.i:                ; preds = %_ZN4pbrt7FastExpEf.exit.i103.i.i701.i.i.i.i.i.i.i, %invoke.cont64.i.i681.i.i.i.i.i.i.i
  %indvars.iv.i87.i.i685.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont64.i.i681.i.i.i.i.i.i.i ], [ %indvars.iv.next.i106.i.i704.i.i.i.i.i.i.i, %_ZN4pbrt7FastExpEf.exit.i103.i.i701.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i88.i.i686.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp58.i.i526.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i87.i.i685.i.i.i.i.i.i.i
  %344 = load float, ptr %arrayidx.i.i.i88.i.i686.i.i.i.i.i.i.i, align 4
  %mul.i.i89.i.i687.i.i.i.i.i.i.i = fmul float %344, 0x3FF7154760000000
  %345 = call noundef float @llvm.floor.f32(float %mul.i.i89.i.i687.i.i.i.i.i.i.i)
  %sub.i.i90.i.i688.i.i.i.i.i.i.i = fsub float %mul.i.i89.i.i687.i.i.i.i.i.i.i, %345
  %conv.i4.i91.i.i689.i.i.i.i.i.i.i = fptosi float %345 to i32
  %346 = call noundef float @llvm.fma.f32(float %sub.i.i90.i.i688.i.i.i.i.i.i.i, float 0x3FB4015920000000, float 0x3FCCF34160000000)
  %347 = call noundef float @llvm.fma.f32(float %sub.i.i90.i.i688.i.i.i.i.i.i.i, float %346, float 0x3FE6420080000000)
  %348 = call noundef float @llvm.fma.f32(float %sub.i.i90.i.i688.i.i.i.i.i.i.i, float %347, float 1.000000e+00)
  %349 = bitcast float %348 to i32
  %shr.i.i.i92.i.i690.i.i.i.i.i.i.i = lshr i32 %349, 23
  %sub.i.i.i93.i.i691.i.i.i.i.i.i.i = add i32 %conv.i4.i91.i.i689.i.i.i.i.i.i.i, -127
  %add.i.i94.i.i692.i.i.i.i.i.i.i = add i32 %sub.i.i.i93.i.i691.i.i.i.i.i.i.i, %shr.i.i.i92.i.i690.i.i.i.i.i.i.i
  %cmp.i.i95.i.i693.i.i.i.i.i.i.i = icmp slt i32 %add.i.i94.i.i692.i.i.i.i.i.i.i, -126
  br i1 %cmp.i.i95.i.i693.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i103.i.i701.i.i.i.i.i.i.i, label %if.end.i.i96.i.i694.i.i.i.i.i.i.i

if.end.i.i96.i.i694.i.i.i.i.i.i.i:                ; preds = %for.body.i86.i.i684.i.i.i.i.i.i.i
  %cmp3.i.i97.i.i695.i.i.i.i.i.i.i = icmp sgt i32 %add.i.i94.i.i692.i.i.i.i.i.i.i, 127
  br i1 %cmp3.i.i97.i.i695.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i103.i.i701.i.i.i.i.i.i.i, label %if.end5.i.i98.i.i696.i.i.i.i.i.i.i

if.end5.i.i98.i.i696.i.i.i.i.i.i.i:               ; preds = %if.end.i.i96.i.i694.i.i.i.i.i.i.i
  %and.i.i99.i.i697.i.i.i.i.i.i.i = and i32 %349, -2139095041
  %add7.i.i100.i.i698.i.i.i.i.i.i.i = shl nsw i32 %add.i.i94.i.i692.i.i.i.i.i.i.i, 23
  %shl.i.i101.i.i699.i.i.i.i.i.i.i = add i32 %add7.i.i100.i.i698.i.i.i.i.i.i.i, 1065353216
  %or.i.i102.i.i700.i.i.i.i.i.i.i = or i32 %shl.i.i101.i.i699.i.i.i.i.i.i.i, %and.i.i99.i.i697.i.i.i.i.i.i.i
  %350 = bitcast i32 %or.i.i102.i.i700.i.i.i.i.i.i.i to float
  br label %_ZN4pbrt7FastExpEf.exit.i103.i.i701.i.i.i.i.i.i.i

_ZN4pbrt7FastExpEf.exit.i103.i.i701.i.i.i.i.i.i.i: ; preds = %if.end5.i.i98.i.i696.i.i.i.i.i.i.i, %if.end.i.i96.i.i694.i.i.i.i.i.i.i, %for.body.i86.i.i684.i.i.i.i.i.i.i
  %retval.0.i.i104.i.i702.i.i.i.i.i.i.i = phi float [ %350, %if.end5.i.i98.i.i696.i.i.i.i.i.i.i ], [ 0.000000e+00, %for.body.i86.i.i684.i.i.i.i.i.i.i ], [ 0x7FF0000000000000, %if.end.i.i96.i.i694.i.i.i.i.i.i.i ]
  %arrayidx.i.i6.i105.i.i703.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i85.i.i515.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i87.i.i685.i.i.i.i.i.i.i
  store float %retval.0.i.i104.i.i702.i.i.i.i.i.i.i, ptr %arrayidx.i.i6.i105.i.i703.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i106.i.i704.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i87.i.i685.i.i.i.i.i.i.i, 1
  %exitcond.not.i107.i.i705.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i106.i.i704.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i107.i.i705.i.i.i.i.i.i.i, label %invoke.cont68.i.i706.i.i.i.i.i.i.i, label %for.body.i86.i.i684.i.i.i.i.i.i.i, !llvm.loop !111

invoke.cont68.i.i706.i.i.i.i.i.i.i:               ; preds = %_ZN4pbrt7FastExpEf.exit.i103.i.i701.i.i.i.i.i.i.i
  %.fca.0.load.i108.i.i707.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i85.i.i515.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i111.i.i708.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i110.i.i578.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i85.i.i515.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i108.i.i707.i.i.i.i.i.i.i, ptr %ref.tmp57.i.i525.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i111.i.i708.i.i.i.i.i.i.i, ptr %45, align 8
  br label %for.body.i114.i.i709.i.i.i.i.i.i.i

for.body.i114.i.i709.i.i.i.i.i.i.i:               ; preds = %for.body.i114.i.i709.i.i.i.i.i.i.i, %invoke.cont68.i.i706.i.i.i.i.i.i.i
  %indvars.iv.i115.i.i710.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont68.i.i706.i.i.i.i.i.i.i ], [ %indvars.iv.next.i119.i.i714.i.i.i.i.i.i.i, %for.body.i114.i.i709.i.i.i.i.i.i.i ]
  %arrayidx.i.i116.i.i711.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp57.i.i525.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i115.i.i710.i.i.i.i.i.i.i
  %351 = load float, ptr %arrayidx.i.i116.i.i711.i.i.i.i.i.i.i, align 4
  %arrayidx.i4.i117.i.i712.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i522.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i115.i.i710.i.i.i.i.i.i.i
  %352 = load float, ptr %arrayidx.i4.i117.i.i712.i.i.i.i.i.i.i, align 4
  %mul.i118.i.i713.i.i.i.i.i.i.i = fmul float %351, %352
  store float %mul.i118.i.i713.i.i.i.i.i.i.i, ptr %arrayidx.i4.i117.i.i712.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i119.i.i714.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i115.i.i710.i.i.i.i.i.i.i, 1
  %exitcond.not.i120.i.i715.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i119.i.i714.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i120.i.i715.i.i.i.i.i.i.i, label %invoke.cont75.i.i716.i.i.i.i.i.i.i, label %for.body.i114.i.i709.i.i.i.i.i.i.i, !llvm.loop !112

invoke.cont75.i.i716.i.i.i.i.i.i.i:               ; preds = %for.body.i114.i.i709.i.i.i.i.i.i.i
  %353 = insertelement <2 x float> poison, float %add.i.i607.i.i.i.i.i.i.i, i64 0
  %354 = shufflevector <2 x float> %353, <2 x float> poison, <2 x i32> zeroinitializer
  %355 = fmul <2 x float> %322, %354
  %mul3.i.i.i.i719.i.i.i.i.i.i.i = fmul float %div3.i.i.i.i556.i.i.i.i.i.i.i, %add.i.i607.i.i.i.i.i.i.i
  %356 = fadd <2 x float> %ray.sroa.0.0347.i.i.i.i, %355
  %add6.i.i.i.i722.i.i.i.i.i.i.i = fadd float %ray.sroa.9.0348.i.i.i.i, %mul3.i.i.i.i719.i.i.i.i.i.i.i
  call void @_ZNK4pbrt11CloudMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsE(ptr nonnull sret(%"struct.pbrt::MediumProperties") align 8 %mp.i.i527.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(252) %323, <2 x float> %356, float %add6.i.i.i.i722.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(32) %lambda.i.i.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp85.i.i528.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(32) %mp.i.i527.i.i.i.i.i.i.i, i64 32, i1 false)
  %357 = load i64, ptr %phase3.i.i.i580.i.i.i.i.i.i.i, align 8
  store i64 %357, ptr %phase.i.i.i579.i.i.i.i.i.i.i, align 8
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %Le.i.i.i581.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(16) %Le4.i.i.i582.i.i.i.i.i.i.i, i64 16, i1 false)
  %agg.tmp91.sroa.0.0.copyload.i.i725.i.i.i.i.i.i.i = load <2 x float>, ptr %T_maj.i.i522.i.i.i.i.i.i.i, align 8
  %agg.tmp91.sroa.2.0.copyload.i.i726.i.i.i.i.i.i.i = load <2 x float>, ptr %agg.tmp91.sroa.2.0.T_maj.sroa_idx.i.i583.i.i.i.i.i.i.i, align 8
  %call93.i.i727.i.i.i.i.i.i.i = call fastcc noundef zeroext i1 @"_ZZN4pbrt18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS1_17IntersectShadowTrEiS5_S9_ENKSA_clEiEUlNS_6Point3IfEEE_EEvS3_S9_T_T0_ENKUlSE_NS_16MediumPropertiesENS_15SampledSpectrumESJ_E_clESE_SI_SJ_SJ_"(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp21.i532.i.i.i.i.i.i.i, ptr noundef nonnull %agg.tmp85.i.i528.i.i.i.i.i.i.i, <2 x float> %seg.sroa.7.0.copyload.i.i599.i.i.i.i.i.i.i, <2 x float> %seg.sroa.13.0.copyload.i.i600.i.i.i.i.i.i.i, <2 x float> %agg.tmp91.sroa.0.0.copyload.i.i725.i.i.i.i.i.i.i, <2 x float> %agg.tmp91.sroa.2.0.copyload.i.i726.i.i.i.i.i.i.i)
  br i1 %call93.i.i727.i.i.i.i.i.i.i, label %if.end95.i.i734.i.i.i.i.i.i.i, label %while.end125.i.i728.i.i.i.i.i.i.i

if.end95.i.i734.i.i.i.i.i.i.i:                    ; preds = %invoke.cont75.i.i716.i.i.i.i.i.i.i
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 4 dereferenceable(16) %ref.tmp96.i.i529.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i144.i.i735.i.i.i.i.i.i.i

for.body.i.i144.i.i735.i.i.i.i.i.i.i:             ; preds = %for.body.i.i144.i.i735.i.i.i.i.i.i.i, %if.end95.i.i734.i.i.i.i.i.i.i
  %indvars.iv.i.i145.i.i736.i.i.i.i.i.i.i = phi i64 [ 0, %if.end95.i.i734.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i147.i.i738.i.i.i.i.i.i.i, %for.body.i.i144.i.i735.i.i.i.i.i.i.i ]
  %arrayidx.i.i146.i.i737.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp96.i.i529.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i145.i.i736.i.i.i.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i146.i.i737.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i147.i.i738.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i145.i.i736.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i148.i.i739.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i147.i.i738.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i148.i.i739.i.i.i.i.i.i.i, label %invoke.cont97.i.i740.i.i.i.i.i.i.i, label %for.body.i.i144.i.i735.i.i.i.i.i.i.i, !llvm.loop !103

invoke.cont97.i.i740.i.i.i.i.i.i.i:               ; preds = %for.body.i.i144.i.i735.i.i.i.i.i.i.i
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %T_maj.i.i522.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(16) %ref.tmp96.i.i529.i.i.i.i.i.i.i, i64 16, i1 false)
  br label %invoke.cont52.i.i603.i.i.i.i.i.i.i, !llvm.loop !124

invoke.cont103.i.i624.i.i.i.i.i.i.i:              ; preds = %invoke.cont52.i.i603.i.i.i.i.i.i.i
  %sub102.i.i625.i.i.i.i.i.i.i = fsub float %seg.sroa.4.0.copyload.i.i598.i.i.i.i.i.i.i, %tMin38.0.i.i.i.i.i.i.i.i.i
  %358 = call float @llvm.fabs.f32(float %sub102.i.i625.i.i.i.i.i.i.i)
  %359 = fcmp oeq float %358, 0x7FF0000000000000
  %dt98.0.i.i626.i.i.i.i.i.i.i = select i1 %359, float 0x47EFFFFFE0000000, float %sub102.i.i625.i.i.i.i.i.i.i
  %fneg110.i.i627.i.i.i.i.i.i.i = fneg float %dt98.0.i.i626.i.i.i.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i160.i.i514.i.i.i.i.i.i.i)
  store <2 x float> %seg.sroa.7.0.copyload.i.i599.i.i.i.i.i.i.i, ptr %retval.i.i160.i.i514.i.i.i.i.i.i.i, align 8
  store <2 x float> %seg.sroa.13.0.copyload.i.i600.i.i.i.i.i.i.i, ptr %seg.sroa.13.8.retval.i.i160.sroa_idx.i.i584.i.i.i.i.i.i.i, align 8
  br label %for.body.i.i161.i.i628.i.i.i.i.i.i.i

for.body.i.i161.i.i628.i.i.i.i.i.i.i:             ; preds = %for.body.i.i161.i.i628.i.i.i.i.i.i.i, %invoke.cont103.i.i624.i.i.i.i.i.i.i
  %indvars.iv.i.i162.i.i629.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont103.i.i624.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i165.i.i632.i.i.i.i.i.i.i, %for.body.i.i161.i.i628.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i163.i.i630.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i160.i.i514.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i162.i.i629.i.i.i.i.i.i.i
  %360 = load float, ptr %arrayidx.i.i.i163.i.i630.i.i.i.i.i.i.i, align 4
  %mul.i.i164.i.i631.i.i.i.i.i.i.i = fmul float %360, %fneg110.i.i627.i.i.i.i.i.i.i
  store float %mul.i.i164.i.i631.i.i.i.i.i.i.i, ptr %arrayidx.i.i.i163.i.i630.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i165.i.i632.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i162.i.i629.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i166.i.i633.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i165.i.i632.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i166.i.i633.i.i.i.i.i.i.i, label %invoke.cont114.i.i634.i.i.i.i.i.i.i, label %for.body.i.i161.i.i628.i.i.i.i.i.i.i, !llvm.loop !110

invoke.cont114.i.i634.i.i.i.i.i.i.i:              ; preds = %for.body.i.i161.i.i628.i.i.i.i.i.i.i
  %.fca.0.load.i.i167.i.i635.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i160.i.i514.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i170.i.i636.i.i.i.i.i.i.i = load <2 x float>, ptr %seg.sroa.13.8.retval.i.i160.sroa_idx.i.i584.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i160.i.i514.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i167.i.i635.i.i.i.i.i.i.i, ptr %ref.tmp109.i.i531.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i170.i.i636.i.i.i.i.i.i.i, ptr %46, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i173.i.i513.i.i.i.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i173.i.i513.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i174.i.i637.i.i.i.i.i.i.i

for.body.i174.i.i637.i.i.i.i.i.i.i:               ; preds = %_ZN4pbrt7FastExpEf.exit.i191.i.i654.i.i.i.i.i.i.i, %invoke.cont114.i.i634.i.i.i.i.i.i.i
  %indvars.iv.i175.i.i638.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont114.i.i634.i.i.i.i.i.i.i ], [ %indvars.iv.next.i194.i.i657.i.i.i.i.i.i.i, %_ZN4pbrt7FastExpEf.exit.i191.i.i654.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i176.i.i639.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp109.i.i531.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i175.i.i638.i.i.i.i.i.i.i
  %361 = load float, ptr %arrayidx.i.i.i176.i.i639.i.i.i.i.i.i.i, align 4
  %mul.i.i177.i.i640.i.i.i.i.i.i.i = fmul float %361, 0x3FF7154760000000
  %362 = call noundef float @llvm.floor.f32(float %mul.i.i177.i.i640.i.i.i.i.i.i.i)
  %sub.i.i178.i.i641.i.i.i.i.i.i.i = fsub float %mul.i.i177.i.i640.i.i.i.i.i.i.i, %362
  %conv.i4.i179.i.i642.i.i.i.i.i.i.i = fptosi float %362 to i32
  %363 = call noundef float @llvm.fma.f32(float %sub.i.i178.i.i641.i.i.i.i.i.i.i, float 0x3FB4015920000000, float 0x3FCCF34160000000)
  %364 = call noundef float @llvm.fma.f32(float %sub.i.i178.i.i641.i.i.i.i.i.i.i, float %363, float 0x3FE6420080000000)
  %365 = call noundef float @llvm.fma.f32(float %sub.i.i178.i.i641.i.i.i.i.i.i.i, float %364, float 1.000000e+00)
  %366 = bitcast float %365 to i32
  %shr.i.i.i180.i.i643.i.i.i.i.i.i.i = lshr i32 %366, 23
  %sub.i.i.i181.i.i644.i.i.i.i.i.i.i = add i32 %conv.i4.i179.i.i642.i.i.i.i.i.i.i, -127
  %add.i.i182.i.i645.i.i.i.i.i.i.i = add i32 %sub.i.i.i181.i.i644.i.i.i.i.i.i.i, %shr.i.i.i180.i.i643.i.i.i.i.i.i.i
  %cmp.i.i183.i.i646.i.i.i.i.i.i.i = icmp slt i32 %add.i.i182.i.i645.i.i.i.i.i.i.i, -126
  br i1 %cmp.i.i183.i.i646.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i191.i.i654.i.i.i.i.i.i.i, label %if.end.i.i184.i.i647.i.i.i.i.i.i.i

if.end.i.i184.i.i647.i.i.i.i.i.i.i:               ; preds = %for.body.i174.i.i637.i.i.i.i.i.i.i
  %cmp3.i.i185.i.i648.i.i.i.i.i.i.i = icmp sgt i32 %add.i.i182.i.i645.i.i.i.i.i.i.i, 127
  br i1 %cmp3.i.i185.i.i648.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i191.i.i654.i.i.i.i.i.i.i, label %if.end5.i.i186.i.i649.i.i.i.i.i.i.i

if.end5.i.i186.i.i649.i.i.i.i.i.i.i:              ; preds = %if.end.i.i184.i.i647.i.i.i.i.i.i.i
  %and.i.i187.i.i650.i.i.i.i.i.i.i = and i32 %366, -2139095041
  %add7.i.i188.i.i651.i.i.i.i.i.i.i = shl nsw i32 %add.i.i182.i.i645.i.i.i.i.i.i.i, 23
  %shl.i.i189.i.i652.i.i.i.i.i.i.i = add i32 %add7.i.i188.i.i651.i.i.i.i.i.i.i, 1065353216
  %or.i.i190.i.i653.i.i.i.i.i.i.i = or i32 %shl.i.i189.i.i652.i.i.i.i.i.i.i, %and.i.i187.i.i650.i.i.i.i.i.i.i
  %367 = bitcast i32 %or.i.i190.i.i653.i.i.i.i.i.i.i to float
  br label %_ZN4pbrt7FastExpEf.exit.i191.i.i654.i.i.i.i.i.i.i

_ZN4pbrt7FastExpEf.exit.i191.i.i654.i.i.i.i.i.i.i: ; preds = %if.end5.i.i186.i.i649.i.i.i.i.i.i.i, %if.end.i.i184.i.i647.i.i.i.i.i.i.i, %for.body.i174.i.i637.i.i.i.i.i.i.i
  %retval.0.i.i192.i.i655.i.i.i.i.i.i.i = phi float [ %367, %if.end5.i.i186.i.i649.i.i.i.i.i.i.i ], [ 0.000000e+00, %for.body.i174.i.i637.i.i.i.i.i.i.i ], [ 0x7FF0000000000000, %if.end.i.i184.i.i647.i.i.i.i.i.i.i ]
  %arrayidx.i.i6.i193.i.i656.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i173.i.i513.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i175.i.i638.i.i.i.i.i.i.i
  store float %retval.0.i.i192.i.i655.i.i.i.i.i.i.i, ptr %arrayidx.i.i6.i193.i.i656.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i194.i.i657.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i175.i.i638.i.i.i.i.i.i.i, 1
  %exitcond.not.i195.i.i658.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i194.i.i657.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i195.i.i658.i.i.i.i.i.i.i, label %invoke.cont118.i.i659.i.i.i.i.i.i.i, label %for.body.i174.i.i637.i.i.i.i.i.i.i, !llvm.loop !111

invoke.cont118.i.i659.i.i.i.i.i.i.i:              ; preds = %_ZN4pbrt7FastExpEf.exit.i191.i.i654.i.i.i.i.i.i.i
  %.fca.0.load.i196.i.i660.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i173.i.i513.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i199.i.i661.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i198.i.i585.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i173.i.i513.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i196.i.i660.i.i.i.i.i.i.i, ptr %ref.tmp108.i.i530.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i199.i.i661.i.i.i.i.i.i.i, ptr %47, align 8
  br label %for.body.i202.i.i662.i.i.i.i.i.i.i

for.body.i202.i.i662.i.i.i.i.i.i.i:               ; preds = %for.body.i202.i.i662.i.i.i.i.i.i.i, %invoke.cont118.i.i659.i.i.i.i.i.i.i
  %indvars.iv.i203.i.i663.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont118.i.i659.i.i.i.i.i.i.i ], [ %indvars.iv.next.i207.i.i667.i.i.i.i.i.i.i, %for.body.i202.i.i662.i.i.i.i.i.i.i ]
  %arrayidx.i.i204.i.i664.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp108.i.i530.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i203.i.i663.i.i.i.i.i.i.i
  %368 = load float, ptr %arrayidx.i.i204.i.i664.i.i.i.i.i.i.i, align 4
  %arrayidx.i4.i205.i.i665.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i522.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i203.i.i663.i.i.i.i.i.i.i
  %369 = load float, ptr %arrayidx.i4.i205.i.i665.i.i.i.i.i.i.i, align 4
  %mul.i206.i.i666.i.i.i.i.i.i.i = fmul float %368, %369
  store float %mul.i206.i.i666.i.i.i.i.i.i.i, ptr %arrayidx.i4.i205.i.i665.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i207.i.i667.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i203.i.i663.i.i.i.i.i.i.i, 1
  %exitcond.not.i208.i.i668.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i207.i.i667.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i208.i.i668.i.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i669.i.i.i.i.i.i.i, label %for.body.i202.i.i662.i.i.i.i.i.i.i, !llvm.loop !112

_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i589.i.i.i.i.i.i.i: ; preds = %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i669.i.i.i.i.i.i.i, %for.body.i39.i.i779.i.i.i.i.i.i.i, %while.cond.preheader.i.i571.i.i.i.i.i.i.i
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i519.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(16) %T_maj.i.i522.i.i.i.i.i.i.i, i64 16, i1 false)
  br label %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_11CloudMediumEEEDaSH_.exit.i.i.i.i.i.i.i"

_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i669.i.i.i.i.i.i.i: ; preds = %for.body.i202.i.i662.i.i.i.i.i.i.i
  %.pre.i670.i.i.i.i.i.i.i = load i8, ptr %called.i.i.i572.i.i.i.i.i.i.i, align 4, !noalias !121
  %370 = and i8 %.pre.i670.i.i.i.i.i.i.i, 1
  %tobool.not.i.i.i671.i.i.i.i.i.i.i = icmp eq i8 %370, 0
  br i1 %tobool.not.i.i.i671.i.i.i.i.i.i.i, label %invoke.cont.i.i595.i.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i589.i.i.i.i.i.i.i

while.end125.i.i728.i.i.i.i.i.i.i:                ; preds = %invoke.cont75.i.i716.i.i.i.i.i.i.i
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i519.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i214.i.i729.i.i.i.i.i.i.i

for.body.i.i214.i.i729.i.i.i.i.i.i.i:             ; preds = %for.body.i.i214.i.i729.i.i.i.i.i.i.i, %while.end125.i.i728.i.i.i.i.i.i.i
  %indvars.iv.i.i215.i.i730.i.i.i.i.i.i.i = phi i64 [ 0, %while.end125.i.i728.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i217.i.i732.i.i.i.i.i.i.i, %for.body.i.i214.i.i729.i.i.i.i.i.i.i ]
  %arrayidx.i.i216.i.i731.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i519.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i215.i.i730.i.i.i.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i216.i.i731.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i217.i.i732.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i215.i.i730.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i218.i.i733.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i217.i.i732.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i218.i.i733.i.i.i.i.i.i.i, label %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_11CloudMediumEEEDaSH_.exit.i.i.i.i.i.i.i", label %for.body.i.i214.i.i729.i.i.i.i.i.i.i, !llvm.loop !103

"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_11CloudMediumEEEDaSH_.exit.i.i.i.i.i.i.i": ; preds = %for.body.i.i214.i.i729.i.i.i.i.i.i.i, %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i589.i.i.i.i.i.i.i
  %.fca.0.load.i.i590.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i519.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i593.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i592.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp21.i532.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i519.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 28, ptr nonnull %iter.i.i520.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 40, ptr nonnull %agg.tmp7.i.i521.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %T_maj.i.i522.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp22.i.i523.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp23.i.i524.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp57.i.i525.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp58.i.i526.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 56, ptr nonnull %mp.i.i527.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 56, ptr nonnull %agg.tmp85.i.i528.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp96.i.i529.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp108.i.i530.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp109.i.i531.i.i.i.i.i.i.i)
  br label %"_ZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_.exit.i.i.i.i"

sw.default.i.i.i.i.i.i.i:                         ; preds = %cond.end.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp21.i806.i.i.i.i.i.i.i)
  store ptr %T_ray.i.i.i.i, ptr %agg.tmp21.i806.i.i.i.i.i.i.i, align 8
  store ptr %r_l.i.i.i.i, ptr %agg.tmp2751.sroa.8.0.agg.tmp21.i806.i.i.i.sroa_idx.i.i.i.i, align 8
  store ptr %r_u.i.i.i.i, ptr %agg.tmp2751.sroa.9.0.agg.tmp21.i806.i.i.i.sroa_idx.i.i.i.i, align 8
  store ptr %rng.i.i.i.i, ptr %agg.tmp2751.sroa.10.0.agg.tmp21.i806.i.i.i.sroa_idx.i.i.i.i, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i792.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 96, ptr nonnull %iter.i.i793.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 40, ptr nonnull %agg.tmp7.i.i794.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %T_maj.i.i795.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 28, ptr nonnull %seg.i.i796.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp22.i.i797.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp23.i.i798.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp57.i.i799.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp58.i.i800.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 56, ptr nonnull %mp.i.i801.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 56, ptr nonnull %agg.tmp85.i.i802.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp96.i.i803.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp108.i.i804.i.i.i.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp109.i.i805.i.i.i.i.i.i.i)
  %371 = fmul <2 x float> %ray.sroa.14.0349.i.i.i.i, %ray.sroa.14.0349.i.i.i.i
  %shift185 = shufflevector <2 x float> %371, <2 x float> poison, <2 x i32> <i32 1, i32 poison>
  %372 = fadd <2 x float> %371, %shift185
  %add.i.i.i.i823.i.i.i.i.i.i.i = extractelement <2 x float> %372, i64 0
  %mul.i2.i.i.i.i824.i.i.i.i.i.i.i = fmul float %ray.sroa.22.0350.i.i.i.i, %ray.sroa.22.0350.i.i.i.i
  %add3.i.i.i.i825.i.i.i.i.i.i.i = fadd float %mul.i2.i.i.i.i824.i.i.i.i.i.i.i, %add.i.i.i.i823.i.i.i.i.i.i.i
  %sqrt.i.i.i826.i.i.i.i.i.i.i = call noundef float @llvm.sqrt.f32(float %add3.i.i.i.i825.i.i.i.i.i.i.i)
  %mul.i.i827.i.i.i.i.i.i.i = fmul float %sqrt.i.i.i826.i.i.i.i.i.i.i, %cond.i.i.i.i
  %373 = insertelement <2 x float> poison, float %sqrt.i.i.i826.i.i.i.i.i.i.i, i64 0
  %374 = shufflevector <2 x float> %373, <2 x float> poison, <2 x i32> zeroinitializer
  %375 = fdiv <2 x float> %ray.sroa.14.0349.i.i.i.i, %374
  %div3.i.i.i.i830.i.i.i.i.i.i.i = fdiv float %ray.sroa.22.0350.i.i.i.i, %sqrt.i.i.i826.i.i.i.i.i.i.i
  %376 = inttoptr i64 %and.i40280286.i.i.i.i to ptr
  store <2 x float> %ray.sroa.0.0347.i.i.i.i, ptr %agg.tmp7.i.i794.i.i.i.i.i.i.i, align 8
  store float %ray.sroa.9.0348.i.i.i.i, ptr %agg.tmp.sroa.6.0.agg.tmp7.i.sroa_idx.i835.i.i.i.i.i.i.i, align 8
  store <2 x float> %375, ptr %agg.tmp.sroa.8.0.agg.tmp7.i.sroa_idx.i836.i.i.i.i.i.i.i, align 4
  store float %div3.i.i.i.i830.i.i.i.i.i.i.i, ptr %agg.tmp.sroa.14.0.agg.tmp7.i.sroa_idx.i837.i.i.i.i.i.i.i, align 4
  store float %ray.sroa.28.0351.i.i.i.i, ptr %agg.tmp.sroa.18.0.agg.tmp7.i.sroa_idx.i838.i.i.i.i.i.i.i, align 8
  store i64 %ray.sroa.30.0352.i.i.i.i, ptr %medium.i.i.i839.i.i.i.i.i.i.i, align 8
  call void @_ZNK4pbrt13NanoVDBMedium9SampleRayENS_3RayEfRKNS_18SampledWavelengthsE(ptr nonnull sret(%"class.pbrt::DDAMajorantIterator") align 8 %iter.i.i793.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(404) %376, ptr noundef nonnull %agg.tmp7.i.i794.i.i.i.i.i.i.i, float noundef %mul.i.i827.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(32) %lambda.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %T_maj.i.i795.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i.i.i840.i.i.i.i.i.i.i

for.body.i.i.i.i840.i.i.i.i.i.i.i:                ; preds = %for.body.i.i.i.i840.i.i.i.i.i.i.i, %sw.default.i.i.i.i.i.i.i
  %indvars.iv.i.i.i.i841.i.i.i.i.i.i.i = phi i64 [ 0, %sw.default.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i.i.i843.i.i.i.i.i.i.i, %for.body.i.i.i.i840.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i.i842.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i795.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i.i841.i.i.i.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i.i.i842.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i.i.i843.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i.i.i841.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i.i.i844.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i.i.i843.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i.i.i844.i.i.i.i.i.i.i, label %while.cond.preheader.i.i845.i.i.i.i.i.i.i, label %for.body.i.i.i.i840.i.i.i.i.i.i.i, !llvm.loop !103

while.cond.preheader.i.i845.i.i.i.i.i.i.i:        ; preds = %for.body.i.i.i.i840.i.i.i.i.i.i.i
  call void @_ZN4pbrt19DDAMajorantIterator4NextEv(ptr nonnull sret(%"class.pstd::optional.223") align 4 %seg.i.i796.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(92) %iter.i.i793.i.i.i.i.i.i.i)
  %377 = load i8, ptr %set.i.i.i846.i.i.i.i.i.i.i, align 4
  %378 = and i8 %377, 1
  %tobool.i.not.i.i86444.i.i.i.i.i.i.i = icmp eq i8 %378, 0
  br i1 %tobool.i.not.i.i86444.i.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i1065.i.i.i.i.i.i.i, label %invoke.cont.i.i865.i.i.i.i.i.i.i

_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i1065.i.i.i.i.i.i.i: ; preds = %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i937.i.i.i.i.i.i.i, %while.cond.preheader.i.i845.i.i.i.i.i.i.i
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i792.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(16) %T_maj.i.i795.i.i.i.i.i.i.i, i64 16, i1 false)
  br label %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_13NanoVDBMediumEEEDaSH_.exit.i.i.i.i.i.i.i"

invoke.cont.i.i865.i.i.i.i.i.i.i:                 ; preds = %while.cond.preheader.i.i845.i.i.i.i.i.i.i, %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i937.i.i.i.i.i.i.i
  %u.addr.0.i23.i86345.i.i.i.i.i.i.i = phi float [ %u.addr.2270.i.i938.i.i.i.i.i.i.i, %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i937.i.i.i.i.i.i.i ], [ %.sroa.speculated.i.i.i.i.i, %while.cond.preheader.i.i845.i.i.i.i.i.i.i ]
  %379 = load float, ptr %sigma_maj.i.i847.i.i.i.i.i.i.i, align 4
  %cmp.i.i866.i.i.i.i.i.i.i = fcmp oeq float %379, 0.000000e+00
  br i1 %cmp.i.i866.i.i.i.i.i.i.i, label %invoke.cont17.i.i1019.i.i.i.i.i.i.i, label %invoke.cont48.preheader.i.i867.i.i.i.i.i.i.i

invoke.cont17.i.i1019.i.i.i.i.i.i.i:              ; preds = %invoke.cont.i.i865.i.i.i.i.i.i.i
  %380 = load float, ptr %tMax54.i.i849.i.i.i.i.i.i.i, align 4
  %381 = load float, ptr %seg.i.i796.i.i.i.i.i.i.i, align 4
  %sub.i.i1020.i.i.i.i.i.i.i = fsub float %380, %381
  %382 = call float @llvm.fabs.f32(float %sub.i.i1020.i.i.i.i.i.i.i)
  %383 = fcmp oeq float %382, 0x7FF0000000000000
  %dt.0.i.i1021.i.i.i.i.i.i.i = select i1 %383, float 0x47EFFFFFE0000000, float %sub.i.i1020.i.i.i.i.i.i.i
  %fneg.i.i1022.i.i.i.i.i.i.i = fneg float %dt.0.i.i1021.i.i.i.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i.i791.i.i.i.i.i.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i.i.i791.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(16) %sigma_maj.i.i847.i.i.i.i.i.i.i, i64 16, i1 false)
  br label %for.body.i.i29.i.i1023.i.i.i.i.i.i.i

for.body.i.i29.i.i1023.i.i.i.i.i.i.i:             ; preds = %for.body.i.i29.i.i1023.i.i.i.i.i.i.i, %invoke.cont17.i.i1019.i.i.i.i.i.i.i
  %indvars.iv.i.i30.i.i1024.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont17.i.i1019.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i31.i.i1027.i.i.i.i.i.i.i, %for.body.i.i29.i.i1023.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i.i.i1025.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i.i.i791.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i30.i.i1024.i.i.i.i.i.i.i
  %384 = load float, ptr %arrayidx.i.i.i.i.i1025.i.i.i.i.i.i.i, align 4
  %mul.i.i.i.i1026.i.i.i.i.i.i.i = fmul float %384, %fneg.i.i1022.i.i.i.i.i.i.i
  store float %mul.i.i.i.i1026.i.i.i.i.i.i.i, ptr %arrayidx.i.i.i.i.i1025.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i31.i.i1027.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i30.i.i1024.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i32.i.i1028.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i31.i.i1027.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i32.i.i1028.i.i.i.i.i.i.i, label %invoke.cont27.i.i1029.i.i.i.i.i.i.i, label %for.body.i.i29.i.i1023.i.i.i.i.i.i.i, !llvm.loop !110

invoke.cont27.i.i1029.i.i.i.i.i.i.i:              ; preds = %for.body.i.i29.i.i1023.i.i.i.i.i.i.i
  %.fca.0.load.i.i.i.i1030.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i.i.i791.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i.i.i1031.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i.i.i860.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i.i791.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i.i.i1030.i.i.i.i.i.i.i, ptr %ref.tmp23.i.i798.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i.i.i1031.i.i.i.i.i.i.i, ptr %74, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i790.i.i.i.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i.i790.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i.i1032.i.i.i.i.i.i.i

for.body.i.i.i1032.i.i.i.i.i.i.i:                 ; preds = %_ZN4pbrt7FastExpEf.exit.i.i.i1049.i.i.i.i.i.i.i, %invoke.cont27.i.i1029.i.i.i.i.i.i.i
  %indvars.iv.i.i.i1033.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont27.i.i1029.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i.i1052.i.i.i.i.i.i.i, %_ZN4pbrt7FastExpEf.exit.i.i.i1049.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i35.i.i1034.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp23.i.i798.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i1033.i.i.i.i.i.i.i
  %385 = load float, ptr %arrayidx.i.i.i35.i.i1034.i.i.i.i.i.i.i, align 4
  %mul.i.i36.i.i1035.i.i.i.i.i.i.i = fmul float %385, 0x3FF7154760000000
  %386 = call noundef float @llvm.floor.f32(float %mul.i.i36.i.i1035.i.i.i.i.i.i.i)
  %sub.i.i.i.i1036.i.i.i.i.i.i.i = fsub float %mul.i.i36.i.i1035.i.i.i.i.i.i.i, %386
  %conv.i4.i.i.i1037.i.i.i.i.i.i.i = fptosi float %386 to i32
  %387 = call noundef float @llvm.fma.f32(float %sub.i.i.i.i1036.i.i.i.i.i.i.i, float 0x3FB4015920000000, float 0x3FCCF34160000000)
  %388 = call noundef float @llvm.fma.f32(float %sub.i.i.i.i1036.i.i.i.i.i.i.i, float %387, float 0x3FE6420080000000)
  %389 = call noundef float @llvm.fma.f32(float %sub.i.i.i.i1036.i.i.i.i.i.i.i, float %388, float 1.000000e+00)
  %390 = bitcast float %389 to i32
  %shr.i.i.i.i.i1038.i.i.i.i.i.i.i = lshr i32 %390, 23
  %sub.i.i.i.i.i1039.i.i.i.i.i.i.i = add i32 %conv.i4.i.i.i1037.i.i.i.i.i.i.i, -127
  %add.i.i37.i.i1040.i.i.i.i.i.i.i = add i32 %sub.i.i.i.i.i1039.i.i.i.i.i.i.i, %shr.i.i.i.i.i1038.i.i.i.i.i.i.i
  %cmp.i.i.i.i1041.i.i.i.i.i.i.i = icmp slt i32 %add.i.i37.i.i1040.i.i.i.i.i.i.i, -126
  br i1 %cmp.i.i.i.i1041.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i.i.i1049.i.i.i.i.i.i.i, label %if.end.i.i.i.i1042.i.i.i.i.i.i.i

if.end.i.i.i.i1042.i.i.i.i.i.i.i:                 ; preds = %for.body.i.i.i1032.i.i.i.i.i.i.i
  %cmp3.i.i.i.i1043.i.i.i.i.i.i.i = icmp sgt i32 %add.i.i37.i.i1040.i.i.i.i.i.i.i, 127
  br i1 %cmp3.i.i.i.i1043.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i.i.i1049.i.i.i.i.i.i.i, label %if.end5.i.i.i.i1044.i.i.i.i.i.i.i

if.end5.i.i.i.i1044.i.i.i.i.i.i.i:                ; preds = %if.end.i.i.i.i1042.i.i.i.i.i.i.i
  %and.i.i38.i.i1045.i.i.i.i.i.i.i = and i32 %390, -2139095041
  %add7.i.i.i.i1046.i.i.i.i.i.i.i = shl nsw i32 %add.i.i37.i.i1040.i.i.i.i.i.i.i, 23
  %shl.i.i.i.i1047.i.i.i.i.i.i.i = add i32 %add7.i.i.i.i1046.i.i.i.i.i.i.i, 1065353216
  %or.i.i.i.i1048.i.i.i.i.i.i.i = or i32 %shl.i.i.i.i1047.i.i.i.i.i.i.i, %and.i.i38.i.i1045.i.i.i.i.i.i.i
  %391 = bitcast i32 %or.i.i.i.i1048.i.i.i.i.i.i.i to float
  br label %_ZN4pbrt7FastExpEf.exit.i.i.i1049.i.i.i.i.i.i.i

_ZN4pbrt7FastExpEf.exit.i.i.i1049.i.i.i.i.i.i.i:  ; preds = %if.end5.i.i.i.i1044.i.i.i.i.i.i.i, %if.end.i.i.i.i1042.i.i.i.i.i.i.i, %for.body.i.i.i1032.i.i.i.i.i.i.i
  %retval.0.i.i.i.i1050.i.i.i.i.i.i.i = phi float [ %391, %if.end5.i.i.i.i1044.i.i.i.i.i.i.i ], [ 0.000000e+00, %for.body.i.i.i1032.i.i.i.i.i.i.i ], [ 0x7FF0000000000000, %if.end.i.i.i.i1042.i.i.i.i.i.i.i ]
  %arrayidx.i.i6.i.i.i1051.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i.i790.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i1033.i.i.i.i.i.i.i
  store float %retval.0.i.i.i.i1050.i.i.i.i.i.i.i, ptr %arrayidx.i.i6.i.i.i1051.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i.i1052.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i.i1033.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i.i1053.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i.i1052.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i.i1053.i.i.i.i.i.i.i, label %invoke.cont31.i.i1054.i.i.i.i.i.i.i, label %for.body.i.i.i1032.i.i.i.i.i.i.i, !llvm.loop !111

invoke.cont31.i.i1054.i.i.i.i.i.i.i:              ; preds = %_ZN4pbrt7FastExpEf.exit.i.i.i1049.i.i.i.i.i.i.i
  %.fca.0.load.i.i.i1055.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i.i790.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i.i1056.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i.i861.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i790.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i.i1055.i.i.i.i.i.i.i, ptr %ref.tmp22.i.i797.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i.i1056.i.i.i.i.i.i.i, ptr %75, align 8
  br label %for.body.i39.i.i1057.i.i.i.i.i.i.i

for.body.i39.i.i1057.i.i.i.i.i.i.i:               ; preds = %for.body.i39.i.i1057.i.i.i.i.i.i.i, %invoke.cont31.i.i1054.i.i.i.i.i.i.i
  %indvars.iv.i40.i.i1058.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont31.i.i1054.i.i.i.i.i.i.i ], [ %indvars.iv.next.i42.i.i1062.i.i.i.i.i.i.i, %for.body.i39.i.i1057.i.i.i.i.i.i.i ]
  %arrayidx.i.i41.i.i1059.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp22.i.i797.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i40.i.i1058.i.i.i.i.i.i.i
  %392 = load float, ptr %arrayidx.i.i41.i.i1059.i.i.i.i.i.i.i, align 4
  %arrayidx.i4.i.i.i1060.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i795.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i40.i.i1058.i.i.i.i.i.i.i
  %393 = load float, ptr %arrayidx.i4.i.i.i1060.i.i.i.i.i.i.i, align 4
  %mul.i.i.i1061.i.i.i.i.i.i.i = fmul float %392, %393
  store float %mul.i.i.i1061.i.i.i.i.i.i.i, ptr %arrayidx.i4.i.i.i1060.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i42.i.i1062.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i40.i.i1058.i.i.i.i.i.i.i, 1
  %exitcond.not.i43.i.i1063.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i42.i.i1062.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i43.i.i1063.i.i.i.i.i.i.i, label %_ZN4pbrt15SampledSpectrummLERKS0_.exit.i.i1064.i.i.i.i.i.i.i, label %for.body.i39.i.i1057.i.i.i.i.i.i.i, !llvm.loop !112

_ZN4pbrt15SampledSpectrummLERKS0_.exit.i.i1064.i.i.i.i.i.i.i: ; preds = %for.body.i39.i.i1057.i.i.i.i.i.i.i
  br label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i937.i.i.i.i.i.i.i, !llvm.loop !125

invoke.cont48.preheader.i.i867.i.i.i.i.i.i.i:     ; preds = %invoke.cont.i.i865.i.i.i.i.i.i.i
  %394 = load float, ptr %seg.i.i796.i.i.i.i.i.i.i, align 4
  br label %invoke.cont48.i.i868.i.i.i.i.i.i.i

invoke.cont48.i.i868.i.i.i.i.i.i.i:               ; preds = %invoke.cont97.i.i1016.i.i.i.i.i.i.i, %invoke.cont48.preheader.i.i867.i.i.i.i.i.i.i
  %u.addr.1244.i.i869.i.i.i.i.i.i.i = phi float [ %.sroa.speculated.i.i.i888.i.i.i.i.i.i.i, %invoke.cont97.i.i1016.i.i.i.i.i.i.i ], [ %u.addr.0.i23.i86345.i.i.i.i.i.i.i, %invoke.cont48.preheader.i.i867.i.i.i.i.i.i.i ]
  %tMin38.0243.i.i870.i.i.i.i.i.i.i = phi float [ %add.i.i873.i.i.i.i.i.i.i, %invoke.cont97.i.i1016.i.i.i.i.i.i.i ], [ %394, %invoke.cont48.preheader.i.i867.i.i.i.i.i.i.i ]
  %395 = load float, ptr %sigma_maj.i.i847.i.i.i.i.i.i.i, align 4
  %sub.i.i.i871.i.i.i.i.i.i.i = fsub float 1.000000e+00, %u.addr.1244.i.i869.i.i.i.i.i.i.i
  %call.i.i.i.i872.i.i.i.i.i.i.i = call noundef float @logf(float noundef %sub.i.i.i871.i.i.i.i.i.i.i) #25
  %396 = fdiv float %call.i.i.i.i872.i.i.i.i.i.i.i, %395
  %add.i.i873.i.i.i.i.i.i.i = fsub float %tMin38.0243.i.i870.i.i.i.i.i.i.i, %396
  %397 = load i64, ptr %rng.i.i.i.i, align 8
  %mul.i.i54.i.i874.i.i.i.i.i.i.i = mul i64 %397, 6364136223846793005
  %398 = load i64, ptr %inc.i.i.i.i.i.i, align 8
  %add.i.i55.i.i875.i.i.i.i.i.i.i = add i64 %mul.i.i54.i.i874.i.i.i.i.i.i.i, %398
  store i64 %add.i.i55.i.i875.i.i.i.i.i.i.i, ptr %rng.i.i.i.i, align 8
  %399 = lshr i64 %397, 45
  %400 = lshr i64 %397, 27
  %shr3.i.i.i.i876.i.i.i.i.i.i.i = xor i64 %399, %400
  %conv.i.i.i.i877.i.i.i.i.i.i.i = trunc i64 %shr3.i.i.i.i876.i.i.i.i.i.i.i to i32
  %shr4.i.i.i.i878.i.i.i.i.i.i.i = lshr i64 %397, 59
  %conv5.i.i.i.i879.i.i.i.i.i.i.i = trunc i64 %shr4.i.i.i.i878.i.i.i.i.i.i.i to i32
  %shr6.i.i.i.i880.i.i.i.i.i.i.i = lshr i32 %conv.i.i.i.i877.i.i.i.i.i.i.i, %conv5.i.i.i.i879.i.i.i.i.i.i.i
  %add7.i.i56.i.i881.i.i.i.i.i.i.i = sub nsw i32 0, %conv5.i.i.i.i879.i.i.i.i.i.i.i
  %and.i.i57.i.i882.i.i.i.i.i.i.i = and i32 %add7.i.i56.i.i881.i.i.i.i.i.i.i, 31
  %shl.i.i58.i.i883.i.i.i.i.i.i.i = shl i32 %conv.i.i.i.i877.i.i.i.i.i.i.i, %and.i.i57.i.i882.i.i.i.i.i.i.i
  %or.i.i59.i.i884.i.i.i.i.i.i.i = or i32 %shr6.i.i.i.i880.i.i.i.i.i.i.i, %shl.i.i58.i.i883.i.i.i.i.i.i.i
  %conv.i.i.i885.i.i.i.i.i.i.i = uitofp i32 %or.i.i59.i.i884.i.i.i.i.i.i.i to float
  %mul.i60.i.i886.i.i.i.i.i.i.i = fmul float %conv.i.i.i885.i.i.i.i.i.i.i, 0x3DF0000000000000
  %cmp.i.i61.i.i887.i.i.i.i.i.i.i = fcmp olt float %mul.i60.i.i886.i.i.i.i.i.i.i, 0x3FEFFFFFE0000000
  %.sroa.speculated.i.i.i888.i.i.i.i.i.i.i = select i1 %cmp.i.i61.i.i887.i.i.i.i.i.i.i, float %mul.i60.i.i886.i.i.i.i.i.i.i, float 0x3FEFFFFFE0000000
  %401 = load i8, ptr %set.i.i.i846.i.i.i.i.i.i.i, align 4
  %402 = and i8 %401, 1
  %tobool.not.i.i63.i.i889.i.i.i.i.i.i.i = icmp eq i8 %402, 0
  br i1 %tobool.not.i.i63.i.i889.i.i.i.i.i.i.i, label %land.rhs.i.i51.invoke.i.i.i.i.i.i.invoke.i.i.i, label %invoke.cont52.i.i890.i.i.i.i.i.i.i

invoke.cont52.i.i890.i.i.i.i.i.i.i:               ; preds = %invoke.cont48.i.i868.i.i.i.i.i.i.i
  %403 = load float, ptr %tMax54.i.i849.i.i.i.i.i.i.i, align 4
  %cmp55.i.i891.i.i.i.i.i.i.i = fcmp olt float %add.i.i873.i.i.i.i.i.i.i, %403
  br i1 %cmp55.i.i891.i.i.i.i.i.i.i, label %invoke.cont61.i.i939.i.i.i.i.i.i.i, label %invoke.cont103.i.i892.i.i.i.i.i.i.i

invoke.cont61.i.i939.i.i.i.i.i.i.i:               ; preds = %invoke.cont52.i.i890.i.i.i.i.i.i.i
  %sub59.i.i940.i.i.i.i.i.i.i = fsub float %add.i.i873.i.i.i.i.i.i.i, %tMin38.0243.i.i870.i.i.i.i.i.i.i
  %fneg60.i.i941.i.i.i.i.i.i.i = fneg float %sub59.i.i940.i.i.i.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i72.i.i789.i.i.i.i.i.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i72.i.i789.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(16) %sigma_maj.i.i847.i.i.i.i.i.i.i, i64 16, i1 false)
  br label %for.body.i.i73.i.i942.i.i.i.i.i.i.i

for.body.i.i73.i.i942.i.i.i.i.i.i.i:              ; preds = %for.body.i.i73.i.i942.i.i.i.i.i.i.i, %invoke.cont61.i.i939.i.i.i.i.i.i.i
  %indvars.iv.i.i74.i.i943.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont61.i.i939.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i77.i.i946.i.i.i.i.i.i.i, %for.body.i.i73.i.i942.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i75.i.i944.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i72.i.i789.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i74.i.i943.i.i.i.i.i.i.i
  %404 = load float, ptr %arrayidx.i.i.i75.i.i944.i.i.i.i.i.i.i, align 4
  %mul.i.i76.i.i945.i.i.i.i.i.i.i = fmul float %404, %fneg60.i.i941.i.i.i.i.i.i.i
  store float %mul.i.i76.i.i945.i.i.i.i.i.i.i, ptr %arrayidx.i.i.i75.i.i944.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i77.i.i946.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i74.i.i943.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i78.i.i947.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i77.i.i946.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i78.i.i947.i.i.i.i.i.i.i, label %invoke.cont64.i.i948.i.i.i.i.i.i.i, label %for.body.i.i73.i.i942.i.i.i.i.i.i.i, !llvm.loop !110

invoke.cont64.i.i948.i.i.i.i.i.i.i:               ; preds = %for.body.i.i73.i.i942.i.i.i.i.i.i.i
  %.fca.0.load.i.i79.i.i949.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i72.i.i789.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i82.i.i950.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i81.i.i850.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i72.i.i789.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i79.i.i949.i.i.i.i.i.i.i, ptr %ref.tmp58.i.i800.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i82.i.i950.i.i.i.i.i.i.i, ptr %70, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i85.i.i788.i.i.i.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i85.i.i788.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i86.i.i951.i.i.i.i.i.i.i

for.body.i86.i.i951.i.i.i.i.i.i.i:                ; preds = %_ZN4pbrt7FastExpEf.exit.i103.i.i968.i.i.i.i.i.i.i, %invoke.cont64.i.i948.i.i.i.i.i.i.i
  %indvars.iv.i87.i.i952.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont64.i.i948.i.i.i.i.i.i.i ], [ %indvars.iv.next.i106.i.i971.i.i.i.i.i.i.i, %_ZN4pbrt7FastExpEf.exit.i103.i.i968.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i88.i.i953.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp58.i.i800.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i87.i.i952.i.i.i.i.i.i.i
  %405 = load float, ptr %arrayidx.i.i.i88.i.i953.i.i.i.i.i.i.i, align 4
  %mul.i.i89.i.i954.i.i.i.i.i.i.i = fmul float %405, 0x3FF7154760000000
  %406 = call noundef float @llvm.floor.f32(float %mul.i.i89.i.i954.i.i.i.i.i.i.i)
  %sub.i.i90.i.i955.i.i.i.i.i.i.i = fsub float %mul.i.i89.i.i954.i.i.i.i.i.i.i, %406
  %conv.i4.i91.i.i956.i.i.i.i.i.i.i = fptosi float %406 to i32
  %407 = call noundef float @llvm.fma.f32(float %sub.i.i90.i.i955.i.i.i.i.i.i.i, float 0x3FB4015920000000, float 0x3FCCF34160000000)
  %408 = call noundef float @llvm.fma.f32(float %sub.i.i90.i.i955.i.i.i.i.i.i.i, float %407, float 0x3FE6420080000000)
  %409 = call noundef float @llvm.fma.f32(float %sub.i.i90.i.i955.i.i.i.i.i.i.i, float %408, float 1.000000e+00)
  %410 = bitcast float %409 to i32
  %shr.i.i.i92.i.i957.i.i.i.i.i.i.i = lshr i32 %410, 23
  %sub.i.i.i93.i.i958.i.i.i.i.i.i.i = add i32 %conv.i4.i91.i.i956.i.i.i.i.i.i.i, -127
  %add.i.i94.i.i959.i.i.i.i.i.i.i = add i32 %sub.i.i.i93.i.i958.i.i.i.i.i.i.i, %shr.i.i.i92.i.i957.i.i.i.i.i.i.i
  %cmp.i.i95.i.i960.i.i.i.i.i.i.i = icmp slt i32 %add.i.i94.i.i959.i.i.i.i.i.i.i, -126
  br i1 %cmp.i.i95.i.i960.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i103.i.i968.i.i.i.i.i.i.i, label %if.end.i.i96.i.i961.i.i.i.i.i.i.i

if.end.i.i96.i.i961.i.i.i.i.i.i.i:                ; preds = %for.body.i86.i.i951.i.i.i.i.i.i.i
  %cmp3.i.i97.i.i962.i.i.i.i.i.i.i = icmp sgt i32 %add.i.i94.i.i959.i.i.i.i.i.i.i, 127
  br i1 %cmp3.i.i97.i.i962.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i103.i.i968.i.i.i.i.i.i.i, label %if.end5.i.i98.i.i963.i.i.i.i.i.i.i

if.end5.i.i98.i.i963.i.i.i.i.i.i.i:               ; preds = %if.end.i.i96.i.i961.i.i.i.i.i.i.i
  %and.i.i99.i.i964.i.i.i.i.i.i.i = and i32 %410, -2139095041
  %add7.i.i100.i.i965.i.i.i.i.i.i.i = shl nsw i32 %add.i.i94.i.i959.i.i.i.i.i.i.i, 23
  %shl.i.i101.i.i966.i.i.i.i.i.i.i = add i32 %add7.i.i100.i.i965.i.i.i.i.i.i.i, 1065353216
  %or.i.i102.i.i967.i.i.i.i.i.i.i = or i32 %shl.i.i101.i.i966.i.i.i.i.i.i.i, %and.i.i99.i.i964.i.i.i.i.i.i.i
  %411 = bitcast i32 %or.i.i102.i.i967.i.i.i.i.i.i.i to float
  br label %_ZN4pbrt7FastExpEf.exit.i103.i.i968.i.i.i.i.i.i.i

_ZN4pbrt7FastExpEf.exit.i103.i.i968.i.i.i.i.i.i.i: ; preds = %if.end5.i.i98.i.i963.i.i.i.i.i.i.i, %if.end.i.i96.i.i961.i.i.i.i.i.i.i, %for.body.i86.i.i951.i.i.i.i.i.i.i
  %retval.0.i.i104.i.i969.i.i.i.i.i.i.i = phi float [ %411, %if.end5.i.i98.i.i963.i.i.i.i.i.i.i ], [ 0.000000e+00, %for.body.i86.i.i951.i.i.i.i.i.i.i ], [ 0x7FF0000000000000, %if.end.i.i96.i.i961.i.i.i.i.i.i.i ]
  %arrayidx.i.i6.i105.i.i970.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i85.i.i788.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i87.i.i952.i.i.i.i.i.i.i
  store float %retval.0.i.i104.i.i969.i.i.i.i.i.i.i, ptr %arrayidx.i.i6.i105.i.i970.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i106.i.i971.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i87.i.i952.i.i.i.i.i.i.i, 1
  %exitcond.not.i107.i.i972.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i106.i.i971.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i107.i.i972.i.i.i.i.i.i.i, label %invoke.cont68.i.i973.i.i.i.i.i.i.i, label %for.body.i86.i.i951.i.i.i.i.i.i.i, !llvm.loop !111

invoke.cont68.i.i973.i.i.i.i.i.i.i:               ; preds = %_ZN4pbrt7FastExpEf.exit.i103.i.i968.i.i.i.i.i.i.i
  %.fca.0.load.i108.i.i974.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i85.i.i788.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i111.i.i975.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i110.i.i851.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i85.i.i788.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i108.i.i974.i.i.i.i.i.i.i, ptr %ref.tmp57.i.i799.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i111.i.i975.i.i.i.i.i.i.i, ptr %71, align 8
  br label %for.body.i114.i.i976.i.i.i.i.i.i.i

for.body.i114.i.i976.i.i.i.i.i.i.i:               ; preds = %for.body.i114.i.i976.i.i.i.i.i.i.i, %invoke.cont68.i.i973.i.i.i.i.i.i.i
  %indvars.iv.i115.i.i977.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont68.i.i973.i.i.i.i.i.i.i ], [ %indvars.iv.next.i119.i.i981.i.i.i.i.i.i.i, %for.body.i114.i.i976.i.i.i.i.i.i.i ]
  %arrayidx.i.i116.i.i978.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp57.i.i799.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i115.i.i977.i.i.i.i.i.i.i
  %412 = load float, ptr %arrayidx.i.i116.i.i978.i.i.i.i.i.i.i, align 4
  %arrayidx.i4.i117.i.i979.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i795.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i115.i.i977.i.i.i.i.i.i.i
  %413 = load float, ptr %arrayidx.i4.i117.i.i979.i.i.i.i.i.i.i, align 4
  %mul.i118.i.i980.i.i.i.i.i.i.i = fmul float %412, %413
  store float %mul.i118.i.i980.i.i.i.i.i.i.i, ptr %arrayidx.i4.i117.i.i979.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i119.i.i981.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i115.i.i977.i.i.i.i.i.i.i, 1
  %exitcond.not.i120.i.i982.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i119.i.i981.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i120.i.i982.i.i.i.i.i.i.i, label %invoke.cont75.i.i983.i.i.i.i.i.i.i, label %for.body.i114.i.i976.i.i.i.i.i.i.i, !llvm.loop !112

invoke.cont75.i.i983.i.i.i.i.i.i.i:               ; preds = %for.body.i114.i.i976.i.i.i.i.i.i.i
  %414 = insertelement <2 x float> poison, float %add.i.i873.i.i.i.i.i.i.i, i64 0
  %415 = shufflevector <2 x float> %414, <2 x float> poison, <2 x i32> zeroinitializer
  %416 = fmul <2 x float> %375, %415
  %mul3.i.i.i.i986.i.i.i.i.i.i.i = fmul float %div3.i.i.i.i830.i.i.i.i.i.i.i, %add.i.i873.i.i.i.i.i.i.i
  %417 = fadd <2 x float> %ray.sroa.0.0347.i.i.i.i, %416
  %add6.i.i.i.i989.i.i.i.i.i.i.i = fadd float %ray.sroa.9.0348.i.i.i.i, %mul3.i.i.i.i986.i.i.i.i.i.i.i
  call void @_ZNK4pbrt13NanoVDBMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsE(ptr nonnull sret(%"struct.pbrt::MediumProperties") align 8 %mp.i.i801.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(404) %376, <2 x float> %417, float %add6.i.i.i.i989.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(32) %lambda.i.i.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp85.i.i802.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(32) %mp.i.i801.i.i.i.i.i.i.i, i64 32, i1 false)
  %418 = load i64, ptr %phase3.i.i.i853.i.i.i.i.i.i.i, align 8
  store i64 %418, ptr %phase.i.i.i852.i.i.i.i.i.i.i, align 8
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %Le.i.i.i854.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(16) %Le4.i.i.i855.i.i.i.i.i.i.i, i64 16, i1 false)
  %419 = load i8, ptr %set.i.i.i846.i.i.i.i.i.i.i, align 4
  %420 = and i8 %419, 1
  %tobool.not.i.i140.i.i992.i.i.i.i.i.i.i = icmp eq i8 %420, 0
  br i1 %tobool.not.i.i140.i.i992.i.i.i.i.i.i.i, label %land.rhs.i.i51.invoke.i.i.i.i.i.i.invoke.i.i.i, label %invoke.cont88.i.i993.i.i.i.i.i.i.i

invoke.cont88.i.i993.i.i.i.i.i.i.i:               ; preds = %invoke.cont75.i.i983.i.i.i.i.i.i.i
  %agg.tmp87.sroa.0.0.copyload.i.i994.i.i.i.i.i.i.i = load <2 x float>, ptr %sigma_maj.i.i847.i.i.i.i.i.i.i, align 4
  %agg.tmp87.sroa.2.0.copyload.i.i995.i.i.i.i.i.i.i = load <2 x float>, ptr %agg.tmp87.sroa.2.0.sigma_maj90.sroa_idx.i.i856.i.i.i.i.i.i.i, align 4
  %agg.tmp91.sroa.0.0.copyload.i.i996.i.i.i.i.i.i.i = load <2 x float>, ptr %T_maj.i.i795.i.i.i.i.i.i.i, align 8
  %agg.tmp91.sroa.2.0.copyload.i.i997.i.i.i.i.i.i.i = load <2 x float>, ptr %agg.tmp91.sroa.2.0.T_maj.sroa_idx.i.i857.i.i.i.i.i.i.i, align 8
  %call93.i.i998.i.i.i.i.i.i.i = call fastcc noundef zeroext i1 @"_ZZN4pbrt18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS1_17IntersectShadowTrEiS5_S9_ENKSA_clEiEUlNS_6Point3IfEEE_EEvS3_S9_T_T0_ENKUlSE_NS_16MediumPropertiesENS_15SampledSpectrumESJ_E_clESE_SI_SJ_SJ_"(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp21.i806.i.i.i.i.i.i.i, ptr noundef nonnull %agg.tmp85.i.i802.i.i.i.i.i.i.i, <2 x float> %agg.tmp87.sroa.0.0.copyload.i.i994.i.i.i.i.i.i.i, <2 x float> %agg.tmp87.sroa.2.0.copyload.i.i995.i.i.i.i.i.i.i, <2 x float> %agg.tmp91.sroa.0.0.copyload.i.i996.i.i.i.i.i.i.i, <2 x float> %agg.tmp91.sroa.2.0.copyload.i.i997.i.i.i.i.i.i.i)
  br i1 %call93.i.i998.i.i.i.i.i.i.i, label %if.end95.i.i1010.i.i.i.i.i.i.i, label %while.end125.i.i999.i.i.i.i.i.i.i

if.end95.i.i1010.i.i.i.i.i.i.i:                   ; preds = %invoke.cont88.i.i993.i.i.i.i.i.i.i
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 4 dereferenceable(16) %ref.tmp96.i.i803.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i144.i.i1011.i.i.i.i.i.i.i

for.body.i.i144.i.i1011.i.i.i.i.i.i.i:            ; preds = %for.body.i.i144.i.i1011.i.i.i.i.i.i.i, %if.end95.i.i1010.i.i.i.i.i.i.i
  %indvars.iv.i.i145.i.i1012.i.i.i.i.i.i.i = phi i64 [ 0, %if.end95.i.i1010.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i147.i.i1014.i.i.i.i.i.i.i, %for.body.i.i144.i.i1011.i.i.i.i.i.i.i ]
  %arrayidx.i.i146.i.i1013.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp96.i.i803.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i145.i.i1012.i.i.i.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i146.i.i1013.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i147.i.i1014.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i145.i.i1012.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i148.i.i1015.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i147.i.i1014.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i148.i.i1015.i.i.i.i.i.i.i, label %invoke.cont97.i.i1016.i.i.i.i.i.i.i, label %for.body.i.i144.i.i1011.i.i.i.i.i.i.i, !llvm.loop !103

invoke.cont97.i.i1016.i.i.i.i.i.i.i:              ; preds = %for.body.i.i144.i.i1011.i.i.i.i.i.i.i
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %T_maj.i.i795.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(16) %ref.tmp96.i.i803.i.i.i.i.i.i.i, i64 16, i1 false)
  %421 = load i8, ptr %set.i.i.i846.i.i.i.i.i.i.i, align 4
  %422 = and i8 %421, 1
  %tobool.not.i.i50.i.i1017.i.i.i.i.i.i.i = icmp eq i8 %422, 0
  br i1 %tobool.not.i.i50.i.i1017.i.i.i.i.i.i.i, label %land.rhs.i.i51.invoke.i.i.i.i.i.i.invoke.i.i.i, label %invoke.cont48.i.i868.i.i.i.i.i.i.i, !llvm.loop !126

invoke.cont103.i.i892.i.i.i.i.i.i.i:              ; preds = %invoke.cont52.i.i890.i.i.i.i.i.i.i
  %sub102.i.i893.i.i.i.i.i.i.i = fsub float %403, %tMin38.0243.i.i870.i.i.i.i.i.i.i
  %423 = call float @llvm.fabs.f32(float %sub102.i.i893.i.i.i.i.i.i.i)
  %424 = fcmp oeq float %423, 0x7FF0000000000000
  %dt98.0.i.i894.i.i.i.i.i.i.i = select i1 %424, float 0x47EFFFFFE0000000, float %sub102.i.i893.i.i.i.i.i.i.i
  %fneg110.i.i895.i.i.i.i.i.i.i = fneg float %dt98.0.i.i894.i.i.i.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i160.i.i787.i.i.i.i.i.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i160.i.i787.i.i.i.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(16) %sigma_maj.i.i847.i.i.i.i.i.i.i, i64 16, i1 false)
  br label %for.body.i.i161.i.i896.i.i.i.i.i.i.i

for.body.i.i161.i.i896.i.i.i.i.i.i.i:             ; preds = %for.body.i.i161.i.i896.i.i.i.i.i.i.i, %invoke.cont103.i.i892.i.i.i.i.i.i.i
  %indvars.iv.i.i162.i.i897.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont103.i.i892.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i165.i.i900.i.i.i.i.i.i.i, %for.body.i.i161.i.i896.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i163.i.i898.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i160.i.i787.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i162.i.i897.i.i.i.i.i.i.i
  %425 = load float, ptr %arrayidx.i.i.i163.i.i898.i.i.i.i.i.i.i, align 4
  %mul.i.i164.i.i899.i.i.i.i.i.i.i = fmul float %425, %fneg110.i.i895.i.i.i.i.i.i.i
  store float %mul.i.i164.i.i899.i.i.i.i.i.i.i, ptr %arrayidx.i.i.i163.i.i898.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i165.i.i900.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i162.i.i897.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i166.i.i901.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i165.i.i900.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i166.i.i901.i.i.i.i.i.i.i, label %invoke.cont114.i.i902.i.i.i.i.i.i.i, label %for.body.i.i161.i.i896.i.i.i.i.i.i.i, !llvm.loop !110

invoke.cont114.i.i902.i.i.i.i.i.i.i:              ; preds = %for.body.i.i161.i.i896.i.i.i.i.i.i.i
  %.fca.0.load.i.i167.i.i903.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i160.i.i787.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i170.i.i904.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i169.i.i858.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i160.i.i787.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i167.i.i903.i.i.i.i.i.i.i, ptr %ref.tmp109.i.i805.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i170.i.i904.i.i.i.i.i.i.i, ptr %72, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i173.i.i786.i.i.i.i.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i173.i.i786.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i174.i.i905.i.i.i.i.i.i.i

for.body.i174.i.i905.i.i.i.i.i.i.i:               ; preds = %_ZN4pbrt7FastExpEf.exit.i191.i.i922.i.i.i.i.i.i.i, %invoke.cont114.i.i902.i.i.i.i.i.i.i
  %indvars.iv.i175.i.i906.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont114.i.i902.i.i.i.i.i.i.i ], [ %indvars.iv.next.i194.i.i925.i.i.i.i.i.i.i, %_ZN4pbrt7FastExpEf.exit.i191.i.i922.i.i.i.i.i.i.i ]
  %arrayidx.i.i.i176.i.i907.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp109.i.i805.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i175.i.i906.i.i.i.i.i.i.i
  %426 = load float, ptr %arrayidx.i.i.i176.i.i907.i.i.i.i.i.i.i, align 4
  %mul.i.i177.i.i908.i.i.i.i.i.i.i = fmul float %426, 0x3FF7154760000000
  %427 = call noundef float @llvm.floor.f32(float %mul.i.i177.i.i908.i.i.i.i.i.i.i)
  %sub.i.i178.i.i909.i.i.i.i.i.i.i = fsub float %mul.i.i177.i.i908.i.i.i.i.i.i.i, %427
  %conv.i4.i179.i.i910.i.i.i.i.i.i.i = fptosi float %427 to i32
  %428 = call noundef float @llvm.fma.f32(float %sub.i.i178.i.i909.i.i.i.i.i.i.i, float 0x3FB4015920000000, float 0x3FCCF34160000000)
  %429 = call noundef float @llvm.fma.f32(float %sub.i.i178.i.i909.i.i.i.i.i.i.i, float %428, float 0x3FE6420080000000)
  %430 = call noundef float @llvm.fma.f32(float %sub.i.i178.i.i909.i.i.i.i.i.i.i, float %429, float 1.000000e+00)
  %431 = bitcast float %430 to i32
  %shr.i.i.i180.i.i911.i.i.i.i.i.i.i = lshr i32 %431, 23
  %sub.i.i.i181.i.i912.i.i.i.i.i.i.i = add i32 %conv.i4.i179.i.i910.i.i.i.i.i.i.i, -127
  %add.i.i182.i.i913.i.i.i.i.i.i.i = add i32 %sub.i.i.i181.i.i912.i.i.i.i.i.i.i, %shr.i.i.i180.i.i911.i.i.i.i.i.i.i
  %cmp.i.i183.i.i914.i.i.i.i.i.i.i = icmp slt i32 %add.i.i182.i.i913.i.i.i.i.i.i.i, -126
  br i1 %cmp.i.i183.i.i914.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i191.i.i922.i.i.i.i.i.i.i, label %if.end.i.i184.i.i915.i.i.i.i.i.i.i

if.end.i.i184.i.i915.i.i.i.i.i.i.i:               ; preds = %for.body.i174.i.i905.i.i.i.i.i.i.i
  %cmp3.i.i185.i.i916.i.i.i.i.i.i.i = icmp sgt i32 %add.i.i182.i.i913.i.i.i.i.i.i.i, 127
  br i1 %cmp3.i.i185.i.i916.i.i.i.i.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i191.i.i922.i.i.i.i.i.i.i, label %if.end5.i.i186.i.i917.i.i.i.i.i.i.i

if.end5.i.i186.i.i917.i.i.i.i.i.i.i:              ; preds = %if.end.i.i184.i.i915.i.i.i.i.i.i.i
  %and.i.i187.i.i918.i.i.i.i.i.i.i = and i32 %431, -2139095041
  %add7.i.i188.i.i919.i.i.i.i.i.i.i = shl nsw i32 %add.i.i182.i.i913.i.i.i.i.i.i.i, 23
  %shl.i.i189.i.i920.i.i.i.i.i.i.i = add i32 %add7.i.i188.i.i919.i.i.i.i.i.i.i, 1065353216
  %or.i.i190.i.i921.i.i.i.i.i.i.i = or i32 %shl.i.i189.i.i920.i.i.i.i.i.i.i, %and.i.i187.i.i918.i.i.i.i.i.i.i
  %432 = bitcast i32 %or.i.i190.i.i921.i.i.i.i.i.i.i to float
  br label %_ZN4pbrt7FastExpEf.exit.i191.i.i922.i.i.i.i.i.i.i

_ZN4pbrt7FastExpEf.exit.i191.i.i922.i.i.i.i.i.i.i: ; preds = %if.end5.i.i186.i.i917.i.i.i.i.i.i.i, %if.end.i.i184.i.i915.i.i.i.i.i.i.i, %for.body.i174.i.i905.i.i.i.i.i.i.i
  %retval.0.i.i192.i.i923.i.i.i.i.i.i.i = phi float [ %432, %if.end5.i.i186.i.i917.i.i.i.i.i.i.i ], [ 0.000000e+00, %for.body.i174.i.i905.i.i.i.i.i.i.i ], [ 0x7FF0000000000000, %if.end.i.i184.i.i915.i.i.i.i.i.i.i ]
  %arrayidx.i.i6.i193.i.i924.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i173.i.i786.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i175.i.i906.i.i.i.i.i.i.i
  store float %retval.0.i.i192.i.i923.i.i.i.i.i.i.i, ptr %arrayidx.i.i6.i193.i.i924.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i194.i.i925.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i175.i.i906.i.i.i.i.i.i.i, 1
  %exitcond.not.i195.i.i926.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i194.i.i925.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i195.i.i926.i.i.i.i.i.i.i, label %invoke.cont118.i.i927.i.i.i.i.i.i.i, label %for.body.i174.i.i905.i.i.i.i.i.i.i, !llvm.loop !111

invoke.cont118.i.i927.i.i.i.i.i.i.i:              ; preds = %_ZN4pbrt7FastExpEf.exit.i191.i.i922.i.i.i.i.i.i.i
  %.fca.0.load.i196.i.i928.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i173.i.i786.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i199.i.i929.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i198.i.i859.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i173.i.i786.i.i.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i196.i.i928.i.i.i.i.i.i.i, ptr %ref.tmp108.i.i804.i.i.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i199.i.i929.i.i.i.i.i.i.i, ptr %73, align 8
  br label %for.body.i202.i.i930.i.i.i.i.i.i.i

for.body.i202.i.i930.i.i.i.i.i.i.i:               ; preds = %for.body.i202.i.i930.i.i.i.i.i.i.i, %invoke.cont118.i.i927.i.i.i.i.i.i.i
  %indvars.iv.i203.i.i931.i.i.i.i.i.i.i = phi i64 [ 0, %invoke.cont118.i.i927.i.i.i.i.i.i.i ], [ %indvars.iv.next.i207.i.i935.i.i.i.i.i.i.i, %for.body.i202.i.i930.i.i.i.i.i.i.i ]
  %arrayidx.i.i204.i.i932.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp108.i.i804.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i203.i.i931.i.i.i.i.i.i.i
  %433 = load float, ptr %arrayidx.i.i204.i.i932.i.i.i.i.i.i.i, align 4
  %arrayidx.i4.i205.i.i933.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_maj.i.i795.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i203.i.i931.i.i.i.i.i.i.i
  %434 = load float, ptr %arrayidx.i4.i205.i.i933.i.i.i.i.i.i.i, align 4
  %mul.i206.i.i934.i.i.i.i.i.i.i = fmul float %433, %434
  store float %mul.i206.i.i934.i.i.i.i.i.i.i, ptr %arrayidx.i4.i205.i.i933.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i207.i.i935.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i203.i.i931.i.i.i.i.i.i.i, 1
  %exitcond.not.i208.i.i936.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i207.i.i935.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i208.i.i936.i.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i937.i.i.i.i.i.i.i, label %for.body.i202.i.i930.i.i.i.i.i.i.i, !llvm.loop !112

_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.i.i937.i.i.i.i.i.i.i: ; preds = %for.body.i202.i.i930.i.i.i.i.i.i.i, %_ZN4pbrt15SampledSpectrummLERKS0_.exit.i.i1064.i.i.i.i.i.i.i
  %u.addr.2270.i.i938.i.i.i.i.i.i.i = phi float [ %u.addr.0.i23.i86345.i.i.i.i.i.i.i, %_ZN4pbrt15SampledSpectrummLERKS0_.exit.i.i1064.i.i.i.i.i.i.i ], [ %.sroa.speculated.i.i.i888.i.i.i.i.i.i.i, %for.body.i202.i.i930.i.i.i.i.i.i.i ]
  store i8 0, ptr %set.i.i.i846.i.i.i.i.i.i.i, align 4
  call void @_ZN4pbrt19DDAMajorantIterator4NextEv(ptr nonnull sret(%"class.pstd::optional.223") align 4 %seg.i.i796.i.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(92) %iter.i.i793.i.i.i.i.i.i.i)
  %435 = load i8, ptr %set.i.i.i846.i.i.i.i.i.i.i, align 4
  %436 = and i8 %435, 1
  %tobool.i.not.i.i864.i.i.i.i.i.i.i = icmp eq i8 %436, 0
  br i1 %tobool.i.not.i.i864.i.i.i.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i1065.i.i.i.i.i.i.i, label %invoke.cont.i.i865.i.i.i.i.i.i.i

while.end125.i.i999.i.i.i.i.i.i.i:                ; preds = %invoke.cont88.i.i993.i.i.i.i.i.i.i
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i792.i.i.i.i.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i214.i.i1000.i.i.i.i.i.i.i

for.body.i.i214.i.i1000.i.i.i.i.i.i.i:            ; preds = %for.body.i.i214.i.i1000.i.i.i.i.i.i.i, %while.end125.i.i999.i.i.i.i.i.i.i
  %indvars.iv.i.i215.i.i1001.i.i.i.i.i.i.i = phi i64 [ 0, %while.end125.i.i999.i.i.i.i.i.i.i ], [ %indvars.iv.next.i.i217.i.i1003.i.i.i.i.i.i.i, %for.body.i.i214.i.i1000.i.i.i.i.i.i.i ]
  %arrayidx.i.i216.i.i1002.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i792.i.i.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i215.i.i1001.i.i.i.i.i.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i216.i.i1002.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i217.i.i1003.i.i.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i215.i.i1001.i.i.i.i.i.i.i, 1
  %exitcond.not.i.i218.i.i1004.i.i.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i217.i.i1003.i.i.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i218.i.i1004.i.i.i.i.i.i.i, label %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_13NanoVDBMediumEEEDaSH_.exit.i.i.i.i.i.i.i", label %for.body.i.i214.i.i1000.i.i.i.i.i.i.i, !llvm.loop !103

"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_13NanoVDBMediumEEEDaSH_.exit.i.i.i.i.i.i.i": ; preds = %for.body.i.i214.i.i1000.i.i.i.i.i.i.i, %_ZN4pstd8optionalIN4pbrt18RayMajorantSegmentEED2Ev.exit213.thread.i.i1065.i.i.i.i.i.i.i
  %.fca.0.load.i.i1005.i.i.i.i.i.i.i = load <2 x float>, ptr %retval.i.i792.i.i.i.i.i.i.i, align 8
  %.fca.1.load.i.i1008.i.i.i.i.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i1007.i.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp21.i806.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i792.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 96, ptr nonnull %iter.i.i793.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 40, ptr nonnull %agg.tmp7.i.i794.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %T_maj.i.i795.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 28, ptr nonnull %seg.i.i796.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp22.i.i797.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp23.i.i798.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp57.i.i799.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp58.i.i800.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 56, ptr nonnull %mp.i.i801.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 56, ptr nonnull %agg.tmp85.i.i802.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp96.i.i803.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp108.i.i804.i.i.i.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp109.i.i805.i.i.i.i.i.i.i)
  br label %"_ZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_.exit.i.i.i.i"

"_ZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_.exit.i.i.i.i": ; preds = %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_13NanoVDBMediumEEEDaSH_.exit.i.i.i.i.i.i.i", %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_11CloudMediumEEEDaSH_.exit.i.i.i.i.i.i.i", %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_13RGBGridMediumEEEDaSH_.exit.i.i.i.i.i.i.i", %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_10GridMediumEEEDaSH_.exit.i.i.i.i.i.i.i", %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_17HomogeneousMediumEEEDaSH_.exit.i.i.i.i.i.i.i"
  %.fca.0.load.i.i1005.pn.i.i.i.i.i.i.i = phi <2 x float> [ %.fca.0.load.i.i1005.i.i.i.i.i.i.i, %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_13NanoVDBMediumEEEDaSH_.exit.i.i.i.i.i.i.i" ], [ %.fca.0.load.i.i590.i.i.i.i.i.i.i, %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_11CloudMediumEEEDaSH_.exit.i.i.i.i.i.i.i" ], [ %.fca.0.load.i.i452.i.i.i.i.i.i.i, %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_13RGBGridMediumEEEDaSH_.exit.i.i.i.i.i.i.i" ], [ %.fca.0.load.i.i183.i.i.i.i.i.i.i, %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_10GridMediumEEEDaSH_.exit.i.i.i.i.i.i.i" ], [ %.fca.0.load.i.i.i.i.i.i.i.i.i, %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_17HomogeneousMediumEEEDaSH_.exit.i.i.i.i.i.i.i" ]
  %.fca.1.load.i.i1008.pn.i.i.i.i.i.i.i = phi <2 x float> [ %.fca.1.load.i.i1008.i.i.i.i.i.i.i, %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_13NanoVDBMediumEEEDaSH_.exit.i.i.i.i.i.i.i" ], [ %.fca.1.load.i.i593.i.i.i.i.i.i.i, %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_11CloudMediumEEEDaSH_.exit.i.i.i.i.i.i.i" ], [ %.fca.1.load.i.i455.i.i.i.i.i.i.i, %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_13RGBGridMediumEEEDaSH_.exit.i.i.i.i.i.i.i" ], [ %.fca.1.load.i.i186.i.i.i.i.i.i.i, %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_10GridMediumEEEDaSH_.exit.i.i.i.i.i.i.i" ], [ %.fca.1.load.i.i.i.i.i.i.i.i.i, %"_ZZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_ENKUlSH_E_clIPNS_17HomogeneousMediumEEEDaSH_.exit.i.i.i.i.i.i.i" ]
  %T_maj.sroa.0.0.vec.extract.i.i.i.i = extractelement <2 x float> %.fca.0.load.i.i1005.pn.i.i.i.i.i.i.i, i64 0
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i1005.pn.i.i.i.i.i.i.i, ptr %ret.i.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i1008.pn.i.i.i.i.i.i.i, ptr %T_maj.sroa.7.0.ret.i.sroa_idx.i.i.i.i, align 8
  br label %for.body.i.i54.i.i.i.i

for.body.i.i54.i.i.i.i:                           ; preds = %for.body.i.i54.i.i.i.i, %"_ZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_.exit.i.i.i.i"
  %indvars.iv.i.i55.i.i.i.i = phi i64 [ 0, %"_ZN4pbrt11SampleT_majIZNS_18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS2_17IntersectShadowTrEiS6_SA_ENKSB_clEiEUlNS_6Point3IfEEE_EEvS4_SA_T_T0_EUlSF_NS_16MediumPropertiesENS_15SampledSpectrumESK_E_EESK_SC_ffRNS_3RNGERKNS_18SampledWavelengthsESH_.exit.i.i.i.i" ], [ %indvars.iv.next.i.i56.i.i.i.i, %for.body.i.i54.i.i.i.i ]
  %arrayidx.i.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ret.i.i.i.i.i, i64 0, i64 %indvars.iv.i.i55.i.i.i.i
  %437 = load float, ptr %arrayidx.i.i.i.i.i.i.i, align 4
  %div.i.i.i.i.i.i = fdiv float %437, %T_maj.sroa.0.0.vec.extract.i.i.i.i
  store float %div.i.i.i.i.i.i, ptr %arrayidx.i.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i56.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i55.i.i.i.i, 1
  %exitcond.not.i.i57.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i56.i.i.i.i, 4
  br i1 %exitcond.not.i.i57.i.i.i.i, label %_ZNK4pbrt15SampledSpectrumdvEf.exit.i.i.i.i, label %for.body.i.i54.i.i.i.i, !llvm.loop !89

_ZNK4pbrt15SampledSpectrumdvEf.exit.i.i.i.i:      ; preds = %for.body.i.i54.i.i.i.i
  %retval.sroa.0.0.copyload.i.i.i.i.i = load <2 x float>, ptr %ret.i.i.i.i.i, align 8
  %retval.sroa.2.0.copyload.i.i.i.i.i = load <2 x float>, ptr %T_maj.sroa.7.0.ret.i.sroa_idx.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i.i.i.i.i)
  store <2 x float> %retval.sroa.0.0.copyload.i.i.i.i.i, ptr %ref.tmp31.i.i.i.i, align 8
  store <2 x float> %retval.sroa.2.0.copyload.i.i.i.i.i, ptr %76, align 8
  br label %for.body.i.i.i.i.i

for.body.i.i.i.i.i:                               ; preds = %for.body.i.i.i.i.i, %_ZNK4pbrt15SampledSpectrumdvEf.exit.i.i.i.i
  %indvars.iv.i.i.i.i.i = phi i64 [ 0, %_ZNK4pbrt15SampledSpectrumdvEf.exit.i.i.i.i ], [ %indvars.iv.next.i.i.i.i.i, %for.body.i.i.i.i.i ]
  %arrayidx.i.i58.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp31.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i.i.i
  %438 = load float, ptr %arrayidx.i.i58.i.i.i.i, align 4
  %arrayidx.i4.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_ray.i.i.i.i, i64 0, i64 %indvars.iv.i.i.i.i.i
  %439 = load float, ptr %arrayidx.i4.i.i.i.i.i, align 4
  %mul.i59.i.i.i.i = fmul float %438, %439
  store float %mul.i59.i.i.i.i, ptr %arrayidx.i4.i.i.i.i.i, align 4
  %indvars.iv.next.i.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i.i.i.i, 1
  %exitcond.not.i.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i.i.i.i, 4
  br i1 %exitcond.not.i.i.i.i.i, label %_ZN4pbrt15SampledSpectrummLERKS0_.exit.i.i.i.i, label %for.body.i.i.i.i.i, !llvm.loop !112

_ZN4pbrt15SampledSpectrummLERKS0_.exit.i.i.i.i:   ; preds = %for.body.i.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i60.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i1005.pn.i.i.i.i.i.i.i, ptr %ret.i60.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i1008.pn.i.i.i.i.i.i.i, ptr %T_maj.sroa.7.0.ret.i60.sroa_idx.i.i.i.i, align 8
  br label %for.body.i.i61.i.i.i.i

for.body.i.i61.i.i.i.i:                           ; preds = %for.body.i.i61.i.i.i.i, %_ZN4pbrt15SampledSpectrummLERKS0_.exit.i.i.i.i
  %indvars.iv.i.i62.i.i.i.i = phi i64 [ 0, %_ZN4pbrt15SampledSpectrummLERKS0_.exit.i.i.i.i ], [ %indvars.iv.next.i.i65.i.i.i.i, %for.body.i.i61.i.i.i.i ]
  %arrayidx.i.i.i63.i.i.i.i = getelementptr inbounds [4 x float], ptr %ret.i60.i.i.i.i, i64 0, i64 %indvars.iv.i.i62.i.i.i.i
  %440 = load float, ptr %arrayidx.i.i.i63.i.i.i.i, align 4
  %div.i.i64.i.i.i.i = fdiv float %440, %T_maj.sroa.0.0.vec.extract.i.i.i.i
  store float %div.i.i64.i.i.i.i, ptr %arrayidx.i.i.i63.i.i.i.i, align 4
  %indvars.iv.next.i.i65.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i62.i.i.i.i, 1
  %exitcond.not.i.i66.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i65.i.i.i.i, 4
  br i1 %exitcond.not.i.i66.i.i.i.i, label %_ZNK4pbrt15SampledSpectrumdvEf.exit72.i.i.i.i, label %for.body.i.i61.i.i.i.i, !llvm.loop !89

_ZNK4pbrt15SampledSpectrumdvEf.exit72.i.i.i.i:    ; preds = %for.body.i.i61.i.i.i.i
  %retval.sroa.0.0.copyload.i67.i.i.i.i = load <2 x float>, ptr %ret.i60.i.i.i.i, align 8
  %retval.sroa.2.0.copyload.i69.i.i.i.i = load <2 x float>, ptr %T_maj.sroa.7.0.ret.i60.sroa_idx.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i60.i.i.i.i)
  store <2 x float> %retval.sroa.0.0.copyload.i67.i.i.i.i, ptr %ref.tmp37.i.i.i.i, align 8
  store <2 x float> %retval.sroa.2.0.copyload.i69.i.i.i.i, ptr %77, align 8
  br label %for.body.i73.i.i.i.i

for.body.i73.i.i.i.i:                             ; preds = %for.body.i73.i.i.i.i, %_ZNK4pbrt15SampledSpectrumdvEf.exit72.i.i.i.i
  %indvars.iv.i74.i.i.i.i = phi i64 [ 0, %_ZNK4pbrt15SampledSpectrumdvEf.exit72.i.i.i.i ], [ %indvars.iv.next.i78.i.i.i.i, %for.body.i73.i.i.i.i ]
  %arrayidx.i.i75.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp37.i.i.i.i, i64 0, i64 %indvars.iv.i74.i.i.i.i
  %441 = load float, ptr %arrayidx.i.i75.i.i.i.i, align 4
  %arrayidx.i4.i76.i.i.i.i = getelementptr inbounds [4 x float], ptr %r_l.i.i.i.i, i64 0, i64 %indvars.iv.i74.i.i.i.i
  %442 = load float, ptr %arrayidx.i4.i76.i.i.i.i, align 4
  %mul.i77.i.i.i.i = fmul float %441, %442
  store float %mul.i77.i.i.i.i, ptr %arrayidx.i4.i76.i.i.i.i, align 4
  %indvars.iv.next.i78.i.i.i.i = add nuw nsw i64 %indvars.iv.i74.i.i.i.i, 1
  %exitcond.not.i79.i.i.i.i = icmp eq i64 %indvars.iv.next.i78.i.i.i.i, 4
  br i1 %exitcond.not.i79.i.i.i.i, label %_ZN4pbrt15SampledSpectrummLERKS0_.exit80.i.i.i.i, label %for.body.i73.i.i.i.i, !llvm.loop !112

_ZN4pbrt15SampledSpectrummLERKS0_.exit80.i.i.i.i: ; preds = %for.body.i73.i.i.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i81.i.i.i.i)
  store <2 x float> %.fca.0.load.i.i1005.pn.i.i.i.i.i.i.i, ptr %ret.i81.i.i.i.i, align 8
  store <2 x float> %.fca.1.load.i.i1008.pn.i.i.i.i.i.i.i, ptr %T_maj.sroa.7.0.ret.i81.sroa_idx.i.i.i.i, align 8
  br label %for.body.i.i82.i.i.i.i

for.body.i.i82.i.i.i.i:                           ; preds = %for.body.i.i82.i.i.i.i, %_ZN4pbrt15SampledSpectrummLERKS0_.exit80.i.i.i.i
  %indvars.iv.i.i83.i.i.i.i = phi i64 [ 0, %_ZN4pbrt15SampledSpectrummLERKS0_.exit80.i.i.i.i ], [ %indvars.iv.next.i.i86.i.i.i.i, %for.body.i.i82.i.i.i.i ]
  %arrayidx.i.i.i84.i.i.i.i = getelementptr inbounds [4 x float], ptr %ret.i81.i.i.i.i, i64 0, i64 %indvars.iv.i.i83.i.i.i.i
  %443 = load float, ptr %arrayidx.i.i.i84.i.i.i.i, align 4
  %div.i.i85.i.i.i.i = fdiv float %443, %T_maj.sroa.0.0.vec.extract.i.i.i.i
  store float %div.i.i85.i.i.i.i, ptr %arrayidx.i.i.i84.i.i.i.i, align 4
  %indvars.iv.next.i.i86.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i83.i.i.i.i, 1
  %exitcond.not.i.i87.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i86.i.i.i.i, 4
  br i1 %exitcond.not.i.i87.i.i.i.i, label %_ZNK4pbrt15SampledSpectrumdvEf.exit93.i.i.i.i, label %for.body.i.i82.i.i.i.i, !llvm.loop !89

_ZNK4pbrt15SampledSpectrumdvEf.exit93.i.i.i.i:    ; preds = %for.body.i.i82.i.i.i.i
  %retval.sroa.0.0.copyload.i88.i.i.i.i = load <2 x float>, ptr %ret.i81.i.i.i.i, align 8
  %retval.sroa.2.0.copyload.i90.i.i.i.i = load <2 x float>, ptr %T_maj.sroa.7.0.ret.i81.sroa_idx.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i81.i.i.i.i)
  store <2 x float> %retval.sroa.0.0.copyload.i88.i.i.i.i, ptr %ref.tmp43.i.i.i.i, align 8
  store <2 x float> %retval.sroa.2.0.copyload.i90.i.i.i.i, ptr %78, align 8
  br label %for.body.i94.i.i.i.i

for.body.i94.i.i.i.i:                             ; preds = %for.body.i94.i.i.i.i, %_ZNK4pbrt15SampledSpectrumdvEf.exit93.i.i.i.i
  %indvars.iv.i95.i.i.i.i = phi i64 [ 0, %_ZNK4pbrt15SampledSpectrumdvEf.exit93.i.i.i.i ], [ %indvars.iv.next.i99.i.i.i.i, %for.body.i94.i.i.i.i ]
  %arrayidx.i.i96.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp43.i.i.i.i, i64 0, i64 %indvars.iv.i95.i.i.i.i
  %444 = load float, ptr %arrayidx.i.i96.i.i.i.i, align 4
  %arrayidx.i4.i97.i.i.i.i = getelementptr inbounds [4 x float], ptr %r_u.i.i.i.i, i64 0, i64 %indvars.iv.i95.i.i.i.i
  %445 = load float, ptr %arrayidx.i4.i97.i.i.i.i, align 4
  %mul.i98.i.i.i.i = fmul float %444, %445
  store float %mul.i98.i.i.i.i, ptr %arrayidx.i4.i97.i.i.i.i, align 4
  %indvars.iv.next.i99.i.i.i.i = add nuw nsw i64 %indvars.iv.i95.i.i.i.i, 1
  %exitcond.not.i100.i.i.i.i = icmp eq i64 %indvars.iv.next.i99.i.i.i.i, 4
  br i1 %exitcond.not.i100.i.i.i.i, label %if.end49.i.i.i.i, label %for.body.i94.i.i.i.i, !llvm.loop !112

if.end49.i.i.i.i:                                 ; preds = %for.body.i94.i.i.i.i
  br i1 %tobool.i.not.i399.i.i.i.i, label %while.end.ithread-pre-split.i.i.i, label %lor.lhs.false.i.i.i.i

lor.lhs.false.i.i.i.i:                            ; preds = %if.end49.i.i.i.i, %if.end.thread.i.i.i.i
  %446 = load float, ptr %T_ray.i.i.i.i, align 4
  %cmp2.i337.i.i.i.i = fcmp une float %446, 0.000000e+00
  br i1 %cmp2.i337.i.i.i.i, label %if.end54.i.i.i.i, label %for.cond.i.i.i.i.i

for.cond.i.i.i.i.i:                               ; preds = %lor.lhs.false.i.i.i.i, %for.body.i102.i.i.i.i
  %indvars.iv.i103338.i.i.i.i = phi i64 [ %indvars.iv.next.i106.i.i.i.i, %for.body.i102.i.i.i.i ], [ 0, %lor.lhs.false.i.i.i.i ]
  %indvars.iv.next.i106.i.i.i.i = add nuw nsw i64 %indvars.iv.i103338.i.i.i.i, 1
  %exitcond.not.i108.i.i.i.i = icmp eq i64 %indvars.iv.next.i106.i.i.i.i, 4
  br i1 %exitcond.not.i108.i.i.i.i, label %while.end.ithread-pre-split.i.i.i, label %for.body.i102.i.i.i.i, !llvm.loop !127

for.body.i102.i.i.i.i:                            ; preds = %for.cond.i.i.i.i.i
  %arrayidx.i.i105.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_ray.i.i.i.i, i64 0, i64 %indvars.iv.next.i106.i.i.i.i
  %447 = load float, ptr %arrayidx.i.i105.i.i.i.i, align 4
  %cmp2.i.i.i.i.i = fcmp une float %447, 0.000000e+00
  br i1 %cmp2.i.i.i.i.i, label %_ZNK4pbrt15SampledSpectrumcvbEv.exit.i.i.i.i, label %for.cond.i.i.i.i.i, !llvm.loop !127

_ZNK4pbrt15SampledSpectrumcvbEv.exit.i.i.i.i:     ; preds = %for.body.i102.i.i.i.i
  %cmp.i107.le.i.i.i.i = icmp ult i64 %indvars.iv.i103338.i.i.i.i, 3
  br i1 %cmp.i107.le.i.i.i.i, label %if.end54.i.i.i.i, label %while.end.ithread-pre-split.i.i.i

if.end54.i.i.i.i:                                 ; preds = %_ZNK4pbrt15SampledSpectrumcvbEv.exit.i.i.i.i, %lor.lhs.false.i.i.i.i
  %448 = load i8, ptr %set.i.i.i.i, align 16, !noalias !128
  %449 = and i8 %448, 1
  %tobool.not.i.i.i110.i.i.i.i = icmp eq i8 %449, 0
  br i1 %tobool.not.i.i.i110.i.i.i.i, label %land.rhs.i.i51.invoke.i.i.i.i.i.i.invoke.i.i.i, label %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEEptEv.exit.i.i.i.i.i

_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEEptEv.exit.i.i.i.i.i: ; preds = %if.end54.i.i.i.i
  %450 = load <4 x float>, ptr %si.i.i.i, align 16
  %451 = shufflevector <4 x float> %450, <4 x float> poison, <2 x i32> <i32 0, i32 poison>
  %agg.tmp1.i.sroa.6.0.copyload.i.i.i.i.i = load float, ptr %agg.tmp.sroa.0.sroa.4.0.this.sroa_idx.i.i.i.i.i.i, align 4, !noalias !131
  %agg.tmp1.i.sroa.7.0.copyload.i.i.i.i.i = load float, ptr %agg.tmp.sroa.0.sroa.5.0.this.sroa_idx.i.i.i.i.i.i, align 16, !noalias !131
  %agg.tmp1.i.sroa.8.0.copyload.i.i.i.i.i = load float, ptr %agg.tmp.sroa.0.sroa.6.0.this.sroa_idx.i.i.i.i.i.i, align 4, !noalias !131
  %agg.tmp2.sroa.0.0.copyload.i.i.i.i.i.i = load <2 x float>, ptr %n.i.i.i.i.i.i, align 8, !noalias !131
  %agg.tmp2.sroa.2.0.copyload.i.i.i.i.i.i = load float, ptr %agg.tmp2.sroa.2.0.n.sroa_idx.i.i.i.i.i.i, align 16, !noalias !131
  %452 = load float, ptr %time.i.i.i.i.i.i, align 8, !noalias !131
  %add.i.i5.i.i.i.i.i.i.i.i = fadd float %agg.tmp1.i.sroa.7.0.copyload.i.i.i.i.i, %agg.tmp1.i.sroa.8.0.copyload.i.i.i.i.i
  %div.i.i6.i.i.i.i.i.i.i.i = fmul float %add.i.i5.i.i.i.i.i.i.i.i, 5.000000e-01
  %453 = load <2 x float>, ptr %agg.tmp.sroa.0.sroa.2.0.this.sroa_idx.i.i.i.i.i.i, align 4, !noalias !131
  %454 = insertelement <2 x float> %451, float %agg.tmp1.i.sroa.6.0.copyload.i.i.i.i.i, i64 1
  %455 = fadd <2 x float> %453, %454
  %456 = fmul <2 x float> %455, <float 5.000000e-01, float 5.000000e-01>
  %457 = fsub <2 x float> %43, %456
  %sub6.i.i.i.i.i.i.i.i = fsub float %add6.i.i.i.i.i.i, %div.i.i6.i.i.i.i.i.i.i.i
  %call.i.i.i.i.i34.i.i.i = call { <2 x float>, float } @_ZN4pbrt15OffsetRayOriginENS_8Point3fiENS_7Normal3IfEENS_7Vector3IfEE(ptr noundef nonnull byval(%"class.pbrt::Point3fi") align 8 %si.i.i.i, <2 x float> %agg.tmp2.sroa.0.0.copyload.i.i.i.i.i.i, float %agg.tmp2.sroa.2.0.copyload.i.i.i.i.i.i, <2 x float> %457, float %sub6.i.i.i.i.i.i.i.i)
  %call.fca.0.extract.i.i.i.i.i.i.i.i = extractvalue { <2 x float>, float } %call.i.i.i.i.i34.i.i.i, 0
  %call.fca.1.extract.i.i.i.i.i.i.i.i = extractvalue { <2 x float>, float } %call.i.i.i.i.i34.i.i.i, 1
  %458 = load ptr, ptr %mediumInterface.i.i.i.i.i.i.i, align 16, !noalias !134
  %tobool.not.i.i1.i.i.i.i.i = icmp eq ptr %458, null
  br i1 %tobool.not.i.i1.i.i.i.i.i, label %"_ZZZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiENKUlNS_6Point3IfEEE_clESB_.exit.i.i.i.i", label %if.then.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i:                            ; preds = %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEEptEv.exit.i.i.i.i.i
  %agg.tmp2.sroa.0.0.copyload.i.i.i.i.i.i.i = load <2 x float>, ptr %n.i.i.i.i.i.i, align 8, !noalias !134
  %agg.tmp2.sroa.2.0.copyload.i.i.i.i.i.i.i = load float, ptr %agg.tmp2.sroa.2.0.n.sroa_idx.i.i.i.i.i.i, align 16, !noalias !134
  %n.sroa.0.0.vec.extract.i.i.i.i.i.i.i.i = extractelement <2 x float> %agg.tmp2.sroa.0.0.copyload.i.i.i.i.i.i.i, i64 0
  %n.sroa.0.4.vec.extract.i.i.i.i.i.i.i.i = extractelement <2 x float> %agg.tmp2.sroa.0.0.copyload.i.i.i.i.i.i.i, i64 1
  %mul.i.i.i.i.i112.i.i.i.i = fmul float %sub6.i.i.i.i.i.i.i.i, %agg.tmp2.sroa.2.0.copyload.i.i.i.i.i.i.i
  %459 = extractelement <2 x float> %457, i64 1
  %460 = call noundef float @llvm.fma.f32(float %n.sroa.0.4.vec.extract.i.i.i.i.i.i.i.i, float %459, float %mul.i.i.i.i.i112.i.i.i.i)
  %fneg.i.i.i.i.i113.i.i.i.i = fneg float %mul.i.i.i.i.i112.i.i.i.i
  %461 = call noundef float @llvm.fma.f32(float %agg.tmp2.sroa.2.0.copyload.i.i.i.i.i.i.i, float %sub6.i.i.i.i.i.i.i.i, float %fneg.i.i.i.i.i113.i.i.i.i)
  %add.i.i.i.i.i114.i.i.i.i = fadd float %460, %461
  %462 = extractelement <2 x float> %457, i64 0
  %463 = call noundef float @llvm.fma.f32(float %n.sroa.0.0.vec.extract.i.i.i.i.i.i.i.i, float %462, float %add.i.i.i.i.i114.i.i.i.i)
  %cmp.i.i.i.i.i.i.i = fcmp ogt float %463, 0.000000e+00
  %outside.i.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumInterface", ptr %458, i64 0, i32 1
  %cond-lvalue.i.i.i.i.i.i.i = select i1 %cmp.i.i.i.i.i.i.i, ptr %outside.i.i.i.i.i.i.i, ptr %458
  br label %"_ZZZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiENKUlNS_6Point3IfEEE_clESB_.exit.i.i.i.i"

"_ZZZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiENKUlNS_6Point3IfEEE_clESB_.exit.i.i.i.i": ; preds = %if.then.i.i.i.i.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEEptEv.exit.i.i.i.i.i
  %storemerge.in.i.i.i.i.i.i.i = phi ptr [ %cond-lvalue.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i ], [ %medium.i.i.i.i.i.i.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEEptEv.exit.i.i.i.i.i ]
  %storemerge.i.i.i.i.i.i.i = load i64, ptr %storemerge.in.i.i.i.i.i.i.i, align 8, !noalias !134
  %464 = extractelement <2 x float> %457, i64 0
  %cmp.i.i.i.i.i = fcmp une float %464, 0.000000e+00
  %465 = extractelement <2 x float> %457, i64 1
  %cmp4.i.i.i.i.i = fcmp une float %465, 0.000000e+00
  %or.cond.i.i.i.i.i = select i1 %cmp.i.i.i.i.i, i1 true, i1 %cmp4.i.i.i.i.i
  %cmp6.i.i.i.i.i = fcmp une float %sub6.i.i.i.i.i.i.i.i, 0.000000e+00
  %or.cond.i.i.i.i = select i1 %or.cond.i.i.i.i.i, i1 true, i1 %cmp6.i.i.i.i.i
  br i1 %or.cond.i.i.i.i, label %while.body.i.i.i.i, label %while.end.ithread-pre-split.i.i.i, !llvm.loop !137

while.end.ithread-pre-split.i.i.i:                ; preds = %"_ZZZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiENKUlNS_6Point3IfEEE_clESB_.exit.i.i.i.i", %_ZNK4pbrt15SampledSpectrumcvbEv.exit.i.i.i.i, %if.end49.i.i.i.i, %if.end.i.i.i.i, %for.cond.i.i.i.i.i, %while.cond.preheader.i.i.i.i
  %.pr.i.i.i = load float, ptr %T_ray.i.i.i.i, align 4
  %466 = fcmp une float %.pr.i.i.i, 0.000000e+00
  br i1 %466, label %if.then59.i.i.i.i, label %for.cond.i122.i.i.i.i.preheader

for.cond.i122.i.i.i.i.preheader:                  ; preds = %while.end.ithread-pre-split.i.i.i, %if.then.i.i.i.i
  br label %for.cond.i122.i.i.i.i

for.cond.i122.i.i.i.i:                            ; preds = %for.cond.i122.i.i.i.i.preheader, %for.body.i117.i.i.i.i
  %indvars.iv.i118354.i.i.i.i = phi i64 [ %indvars.iv.next.i123.i.i.i.i, %for.body.i117.i.i.i.i ], [ 0, %for.cond.i122.i.i.i.i.preheader ]
  %indvars.iv.next.i123.i.i.i.i = add nuw nsw i64 %indvars.iv.i118354.i.i.i.i, 1
  %exitcond.not.i125.i.i.i.i = icmp eq i64 %indvars.iv.next.i123.i.i.i.i, 4
  br i1 %exitcond.not.i125.i.i.i.i, label %"_ZSt10__invoke_rIvRZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS0_9WorkQueueINS0_17ShadowRayWorkItemEEEPNS0_3SOAINS0_16PixelSampleStateEEEE3$_0JlEENSt9enable_ifIX16is_invocable_r_vIT_T0_DpT1_EESD_E4typeEOSE_DpOSF_.exit", label %for.body.i117.i.i.i.i, !llvm.loop !127

for.body.i117.i.i.i.i:                            ; preds = %for.cond.i122.i.i.i.i
  %arrayidx.i.i120.i.i.i.i = getelementptr inbounds [4 x float], ptr %T_ray.i.i.i.i, i64 0, i64 %indvars.iv.next.i123.i.i.i.i
  %467 = load float, ptr %arrayidx.i.i120.i.i.i.i, align 4
  %cmp2.i121.i.i.i.i = fcmp une float %467, 0.000000e+00
  br i1 %cmp2.i121.i.i.i.i, label %_ZNK4pbrt15SampledSpectrumcvbEv.exit127.i.i.i.i, label %for.cond.i122.i.i.i.i, !llvm.loop !127

_ZNK4pbrt15SampledSpectrumcvbEv.exit127.i.i.i.i:  ; preds = %for.body.i117.i.i.i.i
  %cmp.i124.le.i.i.i.i = icmp ult i64 %indvars.iv.i118354.i.i.i.i, 3
  br i1 %cmp.i124.le.i.i.i.i, label %if.then59.i.i.i.i, label %"_ZSt10__invoke_rIvRZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS0_9WorkQueueINS0_17ShadowRayWorkItemEEEPNS0_3SOAINS0_16PixelSampleStateEEEE3$_0JlEENSt9enable_ifIX16is_invocable_r_vIT_T0_DpT1_EESD_E4typeEOSE_DpOSF_.exit"

if.then59.i.i.i.i:                                ; preds = %_ZNK4pbrt15SampledSpectrumcvbEv.exit127.i.i.i.i, %while.end.ithread-pre-split.i.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i128.i.i.i.i)
  store <2 x float> %retval.sroa.0.0.copyload.i.i.i.i19.i.i.i.i, ptr %ret.i128.i.i.i.i, align 8
  %agg.tmp.sroa.13.sroa.2.0.ret.i128.i.sroa_idx.i.i.i = getelementptr inbounds i8, ptr %ret.i128.i.i.i.i, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i.i.i.i21.i.i.i.i, ptr %agg.tmp.sroa.13.sroa.2.0.ret.i128.i.sroa_idx.i.i.i, align 8
  br label %for.body.i.i129.i.i.i.i

for.body.i.i129.i.i.i.i:                          ; preds = %for.body.i.i129.i.i.i.i, %if.then59.i.i.i.i
  %indvars.iv.i.i130.i.i.i.i = phi i64 [ 0, %if.then59.i.i.i.i ], [ %indvars.iv.next.i.i133.i.i.i.i, %for.body.i.i129.i.i.i.i ]
  %arrayidx.i.i.i131.i.i.i.i = getelementptr inbounds [4 x float], ptr %r_u.i.i.i.i, i64 0, i64 %indvars.iv.i.i130.i.i.i.i
  %468 = load float, ptr %arrayidx.i.i.i131.i.i.i.i, align 4
  %arrayidx.i4.i.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %ret.i128.i.i.i.i, i64 0, i64 %indvars.iv.i.i130.i.i.i.i
  %469 = load float, ptr %arrayidx.i4.i.i.i.i.i.i, align 4
  %mul.i.i132.i.i.i.i = fmul float %468, %469
  store float %mul.i.i132.i.i.i.i, ptr %arrayidx.i4.i.i.i.i.i.i, align 4
  %indvars.iv.next.i.i133.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i130.i.i.i.i, 1
  %exitcond.not.i.i134.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i133.i.i.i.i, 4
  br i1 %exitcond.not.i.i134.i.i.i.i, label %_ZNK4pbrt15SampledSpectrummlERKS0_.exit.i.i.i.i, label %for.body.i.i129.i.i.i.i, !llvm.loop !112

_ZNK4pbrt15SampledSpectrummlERKS0_.exit.i.i.i.i:  ; preds = %for.body.i.i129.i.i.i.i
  %retval.sroa.0.0.copyload.i135.i.i.i.i = load <2 x float>, ptr %ret.i128.i.i.i.i, align 8
  %retval.sroa.2.0.copyload.i137.i.i.i.i = load <2 x float>, ptr %agg.tmp.sroa.13.sroa.2.0.ret.i128.i.sroa_idx.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i128.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i140.i.i.i.i)
  store <2 x float> %retval.sroa.0.0.copyload.i.i.i.i30.i.i.i.i, ptr %ret.i140.i.i.i.i, align 8
  %agg.tmp.sroa.14.sroa.2.0.ret.i140.i.sroa_idx.i.i.i = getelementptr inbounds i8, ptr %ret.i140.i.i.i.i, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i.i.i.i32.i.i.i.i, ptr %agg.tmp.sroa.14.sroa.2.0.ret.i140.i.sroa_idx.i.i.i, align 8
  br label %for.body.i.i141.i.i.i.i

for.body.i.i141.i.i.i.i:                          ; preds = %for.body.i.i141.i.i.i.i, %_ZNK4pbrt15SampledSpectrummlERKS0_.exit.i.i.i.i
  %indvars.iv.i.i142.i.i.i.i = phi i64 [ 0, %_ZNK4pbrt15SampledSpectrummlERKS0_.exit.i.i.i.i ], [ %indvars.iv.next.i.i146.i.i.i.i, %for.body.i.i141.i.i.i.i ]
  %arrayidx.i.i.i143.i.i.i.i = getelementptr inbounds [4 x float], ptr %r_l.i.i.i.i, i64 0, i64 %indvars.iv.i.i142.i.i.i.i
  %470 = load float, ptr %arrayidx.i.i.i143.i.i.i.i, align 4
  %arrayidx.i4.i.i144.i.i.i.i = getelementptr inbounds [4 x float], ptr %ret.i140.i.i.i.i, i64 0, i64 %indvars.iv.i.i142.i.i.i.i
  %471 = load float, ptr %arrayidx.i4.i.i144.i.i.i.i, align 4
  %mul.i.i145.i.i.i.i = fmul float %470, %471
  store float %mul.i.i145.i.i.i.i, ptr %arrayidx.i4.i.i144.i.i.i.i, align 4
  %indvars.iv.next.i.i146.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i142.i.i.i.i, 1
  %exitcond.not.i.i147.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i146.i.i.i.i, 4
  br i1 %exitcond.not.i.i147.i.i.i.i, label %_ZNK4pbrt15SampledSpectrummlERKS0_.exit153.i.i.i.i, label %for.body.i.i141.i.i.i.i, !llvm.loop !112

_ZNK4pbrt15SampledSpectrummlERKS0_.exit153.i.i.i.i: ; preds = %for.body.i.i141.i.i.i.i
  %retval.sroa.0.0.copyload.i148.i.i.i.i = load <2 x float>, ptr %ret.i140.i.i.i.i, align 8
  %retval.sroa.2.0.copyload.i150.i.i.i.i = load <2 x float>, ptr %agg.tmp.sroa.14.sroa.2.0.ret.i140.i.sroa_idx.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i140.i.i.i.i)
  store <2 x float> %retval.sroa.0.0.copyload.i148.i.i.i.i, ptr %ref.tmp67.i.i.i.i, align 8
  %472 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp67.i.i.i.i, i64 0, i32 1
  store <2 x float> %retval.sroa.2.0.copyload.i150.i.i.i.i, ptr %472, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i154.i.i.i.i)
  store <2 x float> %retval.sroa.0.0.copyload.i135.i.i.i.i, ptr %ret.i154.i.i.i.i, align 8
  %ref.tmp62.sroa.2.0.ret.i154.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %ret.i154.i.i.i.i, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i137.i.i.i.i, ptr %ref.tmp62.sroa.2.0.ret.i154.sroa_idx.i.i.i.i, align 8
  br label %for.body.i.i155.i.i.i.i

for.body.i.i155.i.i.i.i:                          ; preds = %for.body.i.i155.i.i.i.i, %_ZNK4pbrt15SampledSpectrummlERKS0_.exit153.i.i.i.i
  %indvars.iv.i.i156.i.i.i.i = phi i64 [ 0, %_ZNK4pbrt15SampledSpectrummlERKS0_.exit153.i.i.i.i ], [ %indvars.iv.next.i.i160.i.i.i.i, %for.body.i.i155.i.i.i.i ]
  %arrayidx.i.i.i157.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp67.i.i.i.i, i64 0, i64 %indvars.iv.i.i156.i.i.i.i
  %473 = load float, ptr %arrayidx.i.i.i157.i.i.i.i, align 4
  %arrayidx.i4.i.i158.i.i.i.i = getelementptr inbounds [4 x float], ptr %ret.i154.i.i.i.i, i64 0, i64 %indvars.iv.i.i156.i.i.i.i
  %474 = load float, ptr %arrayidx.i4.i.i158.i.i.i.i, align 4
  %add.i.i159.i.i.i.i = fadd float %473, %474
  store float %add.i.i159.i.i.i.i, ptr %arrayidx.i4.i.i158.i.i.i.i, align 4
  %indvars.iv.next.i.i160.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i156.i.i.i.i, 1
  %exitcond.not.i.i161.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i160.i.i.i.i, 4
  br i1 %exitcond.not.i.i161.i.i.i.i, label %_ZNK4pbrt15SampledSpectrumplERKS0_.exit.i.i.i.i, label %for.body.i.i155.i.i.i.i, !llvm.loop !87

_ZNK4pbrt15SampledSpectrumplERKS0_.exit.i.i.i.i:  ; preds = %for.body.i.i155.i.i.i.i
  %retval.sroa.0.0.copyload.i162.i.i.i.i = load <2 x float>, ptr %ret.i154.i.i.i.i, align 8
  %retval.sroa.2.0.copyload.i164.i.i.i.i = load <2 x float>, ptr %ref.tmp62.sroa.2.0.ret.i154.sroa_idx.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i154.i.i.i.i)
  store <2 x float> %retval.sroa.0.0.copyload.i162.i.i.i.i, ptr %ref.tmp61.i.i.i.i, align 8
  %475 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp61.i.i.i.i, i64 0, i32 1
  store <2 x float> %retval.sroa.2.0.copyload.i164.i.i.i.i, ptr %475, align 8
  %476 = extractelement <2 x float> %retval.sroa.0.0.copyload.i162.i.i.i.i, i64 0
  br label %for.body.i167.i.i.i.i

for.body.i167.i.i.i.i:                            ; preds = %for.body.i167.i.i.i.i, %_ZNK4pbrt15SampledSpectrumplERKS0_.exit.i.i.i.i
  %indvars.iv.i168.i.i.i.i = phi i64 [ 1, %_ZNK4pbrt15SampledSpectrumplERKS0_.exit.i.i.i.i ], [ %indvars.iv.next.i170.i.i.i.i, %for.body.i167.i.i.i.i ]
  %sum.04.i.i.i.i.i = phi float [ %476, %_ZNK4pbrt15SampledSpectrumplERKS0_.exit.i.i.i.i ], [ %add.i.i.i.i.i, %for.body.i167.i.i.i.i ]
  %arrayidx.i.i169.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp61.i.i.i.i, i64 0, i64 %indvars.iv.i168.i.i.i.i
  %477 = load float, ptr %arrayidx.i.i169.i.i.i.i, align 4
  %add.i.i.i.i.i = fadd float %sum.04.i.i.i.i.i, %477
  %indvars.iv.next.i170.i.i.i.i = add nuw nsw i64 %indvars.iv.i168.i.i.i.i, 1
  %exitcond.not.i171.i.i.i.i = icmp eq i64 %indvars.iv.next.i170.i.i.i.i, 4
  br i1 %exitcond.not.i171.i.i.i.i, label %_ZNK4pbrt15SampledSpectrum7AverageEv.exit.i.i.i.i, label %for.body.i167.i.i.i.i, !llvm.loop !88

_ZNK4pbrt15SampledSpectrum7AverageEv.exit.i.i.i.i: ; preds = %for.body.i167.i.i.i.i
  %div.i.i.i.i.i = fmul float %add.i.i.i.i.i, 2.500000e-01
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i172.i.i.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ret.i172.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(16) %T_ray.i.i.i.i, i64 16, i1 false)
  br label %for.body.i.i173.i.i.i.i

for.body.i.i173.i.i.i.i:                          ; preds = %for.body.i.i173.i.i.i.i, %_ZNK4pbrt15SampledSpectrum7AverageEv.exit.i.i.i.i
  %indvars.iv.i.i174.i.i.i.i = phi i64 [ 0, %_ZNK4pbrt15SampledSpectrum7AverageEv.exit.i.i.i.i ], [ %indvars.iv.next.i.i177.i.i.i.i, %for.body.i.i173.i.i.i.i ]
  %arrayidx.i.i.i175.i.i.i.i = getelementptr inbounds [4 x float], ptr %ret.i172.i.i.i.i, i64 0, i64 %indvars.iv.i.i174.i.i.i.i
  %478 = load float, ptr %arrayidx.i.i.i175.i.i.i.i, align 4
  %div.i.i176.i.i.i.i = fdiv float %478, %div.i.i.i.i.i
  store float %div.i.i176.i.i.i.i, ptr %arrayidx.i.i.i175.i.i.i.i, align 4
  %indvars.iv.next.i.i177.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i174.i.i.i.i, 1
  %exitcond.not.i.i178.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i177.i.i.i.i, 4
  br i1 %exitcond.not.i.i178.i.i.i.i, label %_ZNK4pbrt15SampledSpectrumdvEf.exit184.i.i.i.i, label %for.body.i.i173.i.i.i.i, !llvm.loop !89

_ZNK4pbrt15SampledSpectrumdvEf.exit184.i.i.i.i:   ; preds = %for.body.i.i173.i.i.i.i
  %retval.sroa.0.0.copyload.i179.i.i.i.i = load <2 x float>, ptr %ret.i172.i.i.i.i, align 8
  %retval.sroa.2.0.call.sroa_idx.i180.i.i.i.i = getelementptr inbounds i8, ptr %ret.i172.i.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i181.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.call.sroa_idx.i180.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i172.i.i.i.i)
  store <2 x float> %retval.sroa.0.0.copyload.i179.i.i.i.i, ptr %ref.tmp60.i.i.i.i, align 8
  %479 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp60.i.i.i.i, i64 0, i32 1
  store <2 x float> %retval.sroa.2.0.copyload.i181.i.i.i.i, ptr %479, align 8
  br label %for.body.i185.i.i.i.i

for.body.i185.i.i.i.i:                            ; preds = %for.body.i185.i.i.i.i, %_ZNK4pbrt15SampledSpectrumdvEf.exit184.i.i.i.i
  %indvars.iv.i186.i.i.i.i = phi i64 [ 0, %_ZNK4pbrt15SampledSpectrumdvEf.exit184.i.i.i.i ], [ %indvars.iv.next.i190.i.i.i.i, %for.body.i185.i.i.i.i ]
  %arrayidx.i.i187.i.i.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp60.i.i.i.i, i64 0, i64 %indvars.iv.i186.i.i.i.i
  %480 = load float, ptr %arrayidx.i.i187.i.i.i.i, align 4
  %arrayidx.i4.i188.i.i.i.i = getelementptr inbounds [4 x float], ptr %Ld.i.i.i.i, i64 0, i64 %indvars.iv.i186.i.i.i.i
  %481 = load float, ptr %arrayidx.i4.i188.i.i.i.i, align 4
  %mul.i189.i.i.i.i = fmul float %480, %481
  store float %mul.i189.i.i.i.i, ptr %arrayidx.i4.i188.i.i.i.i, align 4
  %indvars.iv.next.i190.i.i.i.i = add nuw nsw i64 %indvars.iv.i186.i.i.i.i, 1
  %exitcond.not.i191.i.i.i.i = icmp eq i64 %indvars.iv.next.i190.i.i.i.i, 4
  br i1 %exitcond.not.i191.i.i.i.i, label %_ZN4pbrt15SampledSpectrummLERKS0_.exit192.i.i.i.i, label %for.body.i185.i.i.i.i, !llvm.loop !112

_ZN4pbrt15SampledSpectrummLERKS0_.exit192.i.i.i.i: ; preds = %for.body.i185.i.i.i.i
  %ptr4.i.i.i.i6.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.215", ptr %29, i64 0, i32 4, i32 1
  %482 = load ptr, ptr %ptr4.i.i.i.i6.i.i.i, align 8
  %idx.ext.i.i.i.i.i.i.i = sext i32 %27 to i64
  %add.ptr.i.i.i.i7.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %482, i64 %idx.ext.i.i.i.i.i.i.i
  %retval.sroa.0.0.copyload.i.i.i.i.i8.i.i.i = load <2 x float>, ptr %add.ptr.i.i.i.i7.i.i.i, align 16
  %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i.i9.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i.i.i.i7.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i.i.i.i.i10.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i.i9.i.i.i, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i195.i.i.i.i)
  store <2 x float> %retval.sroa.0.0.copyload.i.i.i.i.i8.i.i.i, ptr %ret.i195.i.i.i.i, align 8
  %Lpixel.sroa.2.0.ret.i195.sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %ret.i195.i.i.i.i, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i.i.i.i.i10.i.i.i, ptr %Lpixel.sroa.2.0.ret.i195.sroa_idx.i.i.i.i, align 8
  br label %for.body.i.i196.i.i.i.i

for.body.i.i196.i.i.i.i:                          ; preds = %for.body.i.i196.i.i.i.i, %_ZN4pbrt15SampledSpectrummLERKS0_.exit192.i.i.i.i
  %indvars.iv.i.i197.i.i.i.i = phi i64 [ 0, %_ZN4pbrt15SampledSpectrummLERKS0_.exit192.i.i.i.i ], [ %indvars.iv.next.i.i201.i.i.i.i, %for.body.i.i196.i.i.i.i ]
  %arrayidx.i.i.i198.i.i.i.i = getelementptr inbounds [4 x float], ptr %Ld.i.i.i.i, i64 0, i64 %indvars.iv.i.i197.i.i.i.i
  %483 = load float, ptr %arrayidx.i.i.i198.i.i.i.i, align 4
  %arrayidx.i4.i.i199.i.i.i.i = getelementptr inbounds [4 x float], ptr %ret.i195.i.i.i.i, i64 0, i64 %indvars.iv.i.i197.i.i.i.i
  %484 = load float, ptr %arrayidx.i4.i.i199.i.i.i.i, align 4
  %add.i.i200.i.i.i.i = fadd float %483, %484
  store float %add.i.i200.i.i.i.i, ptr %arrayidx.i4.i.i199.i.i.i.i, align 4
  %indvars.iv.next.i.i201.i.i.i.i = add nuw nsw i64 %indvars.iv.i.i197.i.i.i.i, 1
  %exitcond.not.i.i202.i.i.i.i = icmp eq i64 %indvars.iv.next.i.i201.i.i.i.i, 4
  br i1 %exitcond.not.i.i202.i.i.i.i, label %_ZNK4pbrt15SampledSpectrumplERKS0_.exit208.i.i.i.i, label %for.body.i.i196.i.i.i.i, !llvm.loop !87

_ZNK4pbrt15SampledSpectrumplERKS0_.exit208.i.i.i.i: ; preds = %for.body.i.i196.i.i.i.i
  %retval.sroa.0.0.copyload.i203.i.i.i.i = load <2 x float>, ptr %ret.i195.i.i.i.i, align 8
  %retval.sroa.2.0.copyload.i205.i.i.i.i = load <2 x float>, ptr %Lpixel.sroa.2.0.ret.i195.sroa_idx.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i195.i.i.i.i)
  store <2 x float> %retval.sroa.0.0.copyload.i203.i.i.i.i, ptr %add.ptr.i.i.i.i7.i.i.i, align 16
  store <2 x float> %retval.sroa.2.0.copyload.i205.i.i.i.i, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i.i9.i.i.i, align 8
  br label %"_ZSt10__invoke_rIvRZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS0_9WorkQueueINS0_17ShadowRayWorkItemEEEPNS0_3SOAINS0_16PixelSampleStateEEEE3$_0JlEENSt9enable_ifIX16is_invocable_r_vIT_T0_DpT1_EESD_E4typeEOSE_DpOSF_.exit"

"_ZSt10__invoke_rIvRZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS0_9WorkQueueINS0_17ShadowRayWorkItemEEEPNS0_3SOAINS0_16PixelSampleStateEEEE3$_0JlEENSt9enable_ifIX16is_invocable_r_vIT_T0_DpT1_EESD_E4typeEOSE_DpOSF_.exit": ; preds = %for.cond.i122.i.i.i.i, %_ZNK4pbrt15SampledSpectrumcvbEv.exit127.i.i.i.i, %_ZNK4pbrt15SampledSpectrumplERKS0_.exit208.i.i.i.i
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %lambda.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %Ld.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %rng.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %T_ray.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %r_u.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %r_l.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 40, ptr nonnull %agg.tmp12.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp31.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp37.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp43.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp60.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp61.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp67.i.i.i.i)
  call void @llvm.lifetime.end.p0(i64 264, ptr nonnull %si.i.i.i)
  ret void
}

; Function Attrs: mustprogress uwtable
define internal noundef zeroext i1 @"_ZNSt17_Function_handlerIFvlEZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS1_9WorkQueueINS1_17ShadowRayWorkItemEEEPNS1_3SOAINS1_16PixelSampleStateEEEE3$_0E10_M_managerERSt9_Any_dataRKSD_St18_Manager_operation"(ptr nocapture noundef nonnull align 8 dereferenceable(16) %__dest, ptr nocapture noundef nonnull readonly align 8 dereferenceable(16) %__source, i32 noundef %__op) #1 align 2 {
entry:
  switch i32 %__op, label %sw.epilog [
    i32 0, label %sw.bb
    i32 1, label %sw.bb1
    i32 3, label %sw.bb6.i
    i32 2, label %sw.bb4.i
  ]

sw.bb:                                            ; preds = %entry
  store ptr @"_ZTIZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEE3$_0", ptr %__dest, align 8
  br label %sw.epilog

sw.bb1:                                           ; preds = %entry
  %__source.val = load ptr, ptr %__source, align 8
  store ptr %__source.val, ptr %__dest, align 8
  br label %sw.epilog

sw.bb4.i:                                         ; preds = %entry
  %__source.val5 = load ptr, ptr %__source, align 8
  %call.i.i.i = tail call noalias noundef nonnull dereferenceable(24) ptr @_Znwm(i64 noundef 24) #21
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 16 dereferenceable(24) %call.i.i.i, ptr noundef nonnull align 8 dereferenceable(24) %__source.val5, i64 24, i1 false)
  store ptr %call.i.i.i, ptr %__dest, align 8
  br label %sw.epilog

sw.bb6.i:                                         ; preds = %entry
  %__dest.val.i = load ptr, ptr %__dest, align 8
  %isnull.i.i = icmp eq ptr %__dest.val.i, null
  br i1 %isnull.i.i, label %sw.epilog, label %delete.notnull.i.i

delete.notnull.i.i:                               ; preds = %sw.bb6.i
  tail call void @_ZdlPv(ptr noundef nonnull %__dest.val.i) #23
  br label %sw.epilog

sw.epilog:                                        ; preds = %entry, %delete.notnull.i.i, %sw.bb6.i, %sw.bb4.i, %sw.bb1, %sw.bb
  ret i1 false
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZNK4pbrt17HomogeneousMedium9SampleRayENS_3RayEfRKNS_18SampledWavelengthsE(ptr noalias sret(%"class.pbrt::HomogeneousMajorantIterator") align 4 %agg.result, ptr noundef nonnull align 8 dereferenceable(124) %this, ptr noundef %ray, float noundef %tMax, ptr noundef nonnull align 4 dereferenceable(32) %lambda) local_unnamed_addr #9 comdat align 2 {
entry:
  %ret.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i2 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %sigma_s = alloca %"class.pbrt::SampledSpectrum", align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i, i8 0, i64 16, i1 false)
  %nStored.i.i = getelementptr inbounds %"class.pbrt::DenselySampledSpectrum", ptr %this, i64 0, i32 2, i32 3
  %ptr.i.i = getelementptr inbounds %"class.pbrt::DenselySampledSpectrum", ptr %this, i64 0, i32 2, i32 1
  br label %for.body.i

for.body.i:                                       ; preds = %for.inc.i, %entry
  %indvars.iv.i = phi i64 [ 0, %entry ], [ %indvars.iv.next.i, %for.inc.i ]
  %arrayidx.i.i.i = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv.i
  %0 = load float, ptr %arrayidx.i.i.i, align 4
  %call.i.i = tail call noundef i64 @lroundf(float noundef %0) #25
  %1 = load i32, ptr %this, align 8
  %2 = trunc i64 %call.i.i to i32
  %conv3.i = sub i32 %2, %1
  %cmp4.i = icmp slt i32 %conv3.i, 0
  br i1 %cmp4.i, label %for.inc.i, label %lor.lhs.false.i

lor.lhs.false.i:                                  ; preds = %for.body.i
  %conv5.i = zext nneg i32 %conv3.i to i64
  %3 = load i64, ptr %nStored.i.i, align 8
  %cmp7.not.i = icmp ugt i64 %3, %conv5.i
  br i1 %cmp7.not.i, label %if.else.i, label %for.inc.i

if.else.i:                                        ; preds = %lor.lhs.false.i
  %4 = load ptr, ptr %ptr.i.i, align 8
  %arrayidx.i.i = getelementptr inbounds float, ptr %4, i64 %conv5.i
  %5 = load float, ptr %arrayidx.i.i, align 4
  br label %for.inc.i

for.inc.i:                                        ; preds = %if.else.i, %lor.lhs.false.i, %for.body.i
  %.sink.i = phi float [ %5, %if.else.i ], [ 0.000000e+00, %lor.lhs.false.i ], [ 0.000000e+00, %for.body.i ]
  %arrayidx.i.i8.i = getelementptr inbounds [4 x float], ptr %retval.i, i64 0, i64 %indvars.iv.i
  store float %.sink.i, ptr %arrayidx.i.i8.i, align 4
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  %exitcond.not.i = icmp eq i64 %indvars.iv.next.i, 4
  br i1 %exitcond.not.i, label %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit, label %for.body.i, !llvm.loop !138

_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit: ; preds = %for.inc.i
  %.fca.0.load.i = load <2 x float>, ptr %retval.i, align 8
  %.fca.1.gep.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i, i64 0, i32 1
  %.fca.1.load.i = load <2 x float>, ptr %.fca.1.gep.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i)
  %sigma_s_spec = getelementptr inbounds %"class.pbrt::HomogeneousMedium", ptr %this, i64 0, i32 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i2)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i2, i8 0, i64 16, i1 false)
  %nStored.i.i3 = getelementptr inbounds %"class.pbrt::HomogeneousMedium", ptr %this, i64 0, i32 1, i32 2, i32 3
  %ptr.i.i4 = getelementptr inbounds %"class.pbrt::HomogeneousMedium", ptr %this, i64 0, i32 1, i32 2, i32 1
  br label %for.body.i5

for.body.i5:                                      ; preds = %for.inc.i14, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit
  %indvars.iv.i6 = phi i64 [ 0, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit ], [ %indvars.iv.next.i17, %for.inc.i14 ]
  %arrayidx.i.i.i7 = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv.i6
  %6 = load float, ptr %arrayidx.i.i.i7, align 4
  %call.i.i8 = tail call noundef i64 @lroundf(float noundef %6) #25
  %7 = load i32, ptr %sigma_s_spec, align 8
  %8 = trunc i64 %call.i.i8 to i32
  %conv3.i9 = sub i32 %8, %7
  %cmp4.i10 = icmp slt i32 %conv3.i9, 0
  br i1 %cmp4.i10, label %for.inc.i14, label %lor.lhs.false.i11

lor.lhs.false.i11:                                ; preds = %for.body.i5
  %conv5.i12 = zext nneg i32 %conv3.i9 to i64
  %9 = load i64, ptr %nStored.i.i3, align 8
  %cmp7.not.i13 = icmp ugt i64 %9, %conv5.i12
  br i1 %cmp7.not.i13, label %if.else.i24, label %for.inc.i14

if.else.i24:                                      ; preds = %lor.lhs.false.i11
  %10 = load ptr, ptr %ptr.i.i4, align 8
  %arrayidx.i.i25 = getelementptr inbounds float, ptr %10, i64 %conv5.i12
  %11 = load float, ptr %arrayidx.i.i25, align 4
  br label %for.inc.i14

for.inc.i14:                                      ; preds = %if.else.i24, %lor.lhs.false.i11, %for.body.i5
  %.sink.i15 = phi float [ %11, %if.else.i24 ], [ 0.000000e+00, %lor.lhs.false.i11 ], [ 0.000000e+00, %for.body.i5 ]
  %arrayidx.i.i8.i16 = getelementptr inbounds [4 x float], ptr %retval.i2, i64 0, i64 %indvars.iv.i6
  store float %.sink.i15, ptr %arrayidx.i.i8.i16, align 4
  %indvars.iv.next.i17 = add nuw nsw i64 %indvars.iv.i6, 1
  %exitcond.not.i18 = icmp eq i64 %indvars.iv.next.i17, 4
  br i1 %exitcond.not.i18, label %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit26, label %for.body.i5, !llvm.loop !138

_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit26: ; preds = %for.inc.i14
  %.fca.0.load.i19 = load <2 x float>, ptr %retval.i2, align 8
  %.fca.1.gep.i21 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i2, i64 0, i32 1
  %.fca.1.load.i22 = load <2 x float>, ptr %.fca.1.gep.i21, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i2)
  store <2 x float> %.fca.0.load.i19, ptr %sigma_s, align 8
  %12 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %sigma_s, i64 0, i32 1
  store <2 x float> %.fca.1.load.i22, ptr %12, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i)
  store <2 x float> %.fca.0.load.i, ptr %ret.i, align 8
  %sigma_a.sroa.2.0.ret.i.sroa_idx = getelementptr inbounds i8, ptr %ret.i, i64 8
  store <2 x float> %.fca.1.load.i, ptr %sigma_a.sroa.2.0.ret.i.sroa_idx, align 8
  br label %for.body.i.i

for.body.i.i:                                     ; preds = %for.body.i.i, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit26
  %indvars.iv.i.i = phi i64 [ 0, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit26 ], [ %indvars.iv.next.i.i, %for.body.i.i ]
  %arrayidx.i.i.i27 = getelementptr inbounds [4 x float], ptr %sigma_s, i64 0, i64 %indvars.iv.i.i
  %13 = load float, ptr %arrayidx.i.i.i27, align 4
  %arrayidx.i4.i.i = getelementptr inbounds [4 x float], ptr %ret.i, i64 0, i64 %indvars.iv.i.i
  %14 = load float, ptr %arrayidx.i4.i.i, align 4
  %add.i.i = fadd float %13, %14
  store float %add.i.i, ptr %arrayidx.i4.i.i, align 4
  %indvars.iv.next.i.i = add nuw nsw i64 %indvars.iv.i.i, 1
  %exitcond.not.i.i = icmp eq i64 %indvars.iv.next.i.i, 4
  br i1 %exitcond.not.i.i, label %_ZNK4pbrt15SampledSpectrumplERKS0_.exit, label %for.body.i.i, !llvm.loop !87

_ZNK4pbrt15SampledSpectrumplERKS0_.exit:          ; preds = %for.body.i.i
  %retval.sroa.0.0.copyload.i = load <2 x float>, ptr %ret.i, align 8
  %retval.sroa.2.0.copyload.i = load <2 x float>, ptr %sigma_a.sroa.2.0.ret.i.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i)
  store float 0.000000e+00, ptr %agg.result, align 4
  %tMax3.i = getelementptr inbounds %"struct.pbrt::RayMajorantSegment", ptr %agg.result, i64 0, i32 1
  store float %tMax, ptr %tMax3.i, align 4
  %sigma_maj4.i = getelementptr inbounds %"struct.pbrt::RayMajorantSegment", ptr %agg.result, i64 0, i32 2
  store <2 x float> %retval.sroa.0.0.copyload.i, ptr %sigma_maj4.i, align 4
  %sigma_maj.sroa.2.0.sigma_maj4.sroa_idx.i = getelementptr inbounds %"struct.pbrt::RayMajorantSegment", ptr %agg.result, i64 0, i32 2, i32 0, i32 0, i64 2
  store <2 x float> %retval.sroa.2.0.copyload.i, ptr %sigma_maj.sroa.2.0.sigma_maj4.sroa_idx.i, align 4
  %called.i = getelementptr inbounds %"class.pbrt::HomogeneousMajorantIterator", ptr %agg.result, i64 0, i32 1
  store i8 0, ptr %called.i, align 4
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZNK4pbrt17HomogeneousMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsE(ptr noalias sret(%"struct.pbrt::MediumProperties") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(124) %this, <2 x float> %p.coerce0, float %p.coerce1, ptr noundef nonnull align 4 dereferenceable(32) %lambda) local_unnamed_addr #9 comdat align 2 {
entry:
  %retval.i28 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i3 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i = alloca %"class.pbrt::SampledSpectrum", align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i, i8 0, i64 16, i1 false)
  %nStored.i.i = getelementptr inbounds %"class.pbrt::DenselySampledSpectrum", ptr %this, i64 0, i32 2, i32 3
  %ptr.i.i = getelementptr inbounds %"class.pbrt::DenselySampledSpectrum", ptr %this, i64 0, i32 2, i32 1
  br label %for.body.i

for.body.i:                                       ; preds = %for.inc.i, %entry
  %indvars.iv.i = phi i64 [ 0, %entry ], [ %indvars.iv.next.i, %for.inc.i ]
  %arrayidx.i.i.i = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv.i
  %0 = load float, ptr %arrayidx.i.i.i, align 4
  %call.i.i = tail call noundef i64 @lroundf(float noundef %0) #25
  %1 = load i32, ptr %this, align 8
  %2 = trunc i64 %call.i.i to i32
  %conv3.i = sub i32 %2, %1
  %cmp4.i = icmp slt i32 %conv3.i, 0
  br i1 %cmp4.i, label %for.inc.i, label %lor.lhs.false.i

lor.lhs.false.i:                                  ; preds = %for.body.i
  %conv5.i = zext nneg i32 %conv3.i to i64
  %3 = load i64, ptr %nStored.i.i, align 8
  %cmp7.not.i = icmp ugt i64 %3, %conv5.i
  br i1 %cmp7.not.i, label %if.else.i, label %for.inc.i

if.else.i:                                        ; preds = %lor.lhs.false.i
  %4 = load ptr, ptr %ptr.i.i, align 8
  %arrayidx.i.i = getelementptr inbounds float, ptr %4, i64 %conv5.i
  %5 = load float, ptr %arrayidx.i.i, align 4
  br label %for.inc.i

for.inc.i:                                        ; preds = %if.else.i, %lor.lhs.false.i, %for.body.i
  %.sink.i = phi float [ %5, %if.else.i ], [ 0.000000e+00, %lor.lhs.false.i ], [ 0.000000e+00, %for.body.i ]
  %arrayidx.i.i8.i = getelementptr inbounds [4 x float], ptr %retval.i, i64 0, i64 %indvars.iv.i
  store float %.sink.i, ptr %arrayidx.i.i8.i, align 4
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  %exitcond.not.i = icmp eq i64 %indvars.iv.next.i, 4
  br i1 %exitcond.not.i, label %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit, label %for.body.i, !llvm.loop !138

_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit: ; preds = %for.inc.i
  %.fca.0.load.i = load <2 x float>, ptr %retval.i, align 8
  %.fca.1.gep.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i, i64 0, i32 1
  %.fca.1.load.i = load <2 x float>, ptr %.fca.1.gep.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i)
  %sigma_s_spec = getelementptr inbounds %"class.pbrt::HomogeneousMedium", ptr %this, i64 0, i32 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i3)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i3, i8 0, i64 16, i1 false)
  %nStored.i.i4 = getelementptr inbounds %"class.pbrt::HomogeneousMedium", ptr %this, i64 0, i32 1, i32 2, i32 3
  %ptr.i.i5 = getelementptr inbounds %"class.pbrt::HomogeneousMedium", ptr %this, i64 0, i32 1, i32 2, i32 1
  br label %for.body.i6

for.body.i6:                                      ; preds = %for.inc.i15, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit
  %indvars.iv.i7 = phi i64 [ 0, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit ], [ %indvars.iv.next.i18, %for.inc.i15 ]
  %arrayidx.i.i.i8 = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv.i7
  %6 = load float, ptr %arrayidx.i.i.i8, align 4
  %call.i.i9 = tail call noundef i64 @lroundf(float noundef %6) #25
  %7 = load i32, ptr %sigma_s_spec, align 8
  %8 = trunc i64 %call.i.i9 to i32
  %conv3.i10 = sub i32 %8, %7
  %cmp4.i11 = icmp slt i32 %conv3.i10, 0
  br i1 %cmp4.i11, label %for.inc.i15, label %lor.lhs.false.i12

lor.lhs.false.i12:                                ; preds = %for.body.i6
  %conv5.i13 = zext nneg i32 %conv3.i10 to i64
  %9 = load i64, ptr %nStored.i.i4, align 8
  %cmp7.not.i14 = icmp ugt i64 %9, %conv5.i13
  br i1 %cmp7.not.i14, label %if.else.i25, label %for.inc.i15

if.else.i25:                                      ; preds = %lor.lhs.false.i12
  %10 = load ptr, ptr %ptr.i.i5, align 8
  %arrayidx.i.i26 = getelementptr inbounds float, ptr %10, i64 %conv5.i13
  %11 = load float, ptr %arrayidx.i.i26, align 4
  br label %for.inc.i15

for.inc.i15:                                      ; preds = %if.else.i25, %lor.lhs.false.i12, %for.body.i6
  %.sink.i16 = phi float [ %11, %if.else.i25 ], [ 0.000000e+00, %lor.lhs.false.i12 ], [ 0.000000e+00, %for.body.i6 ]
  %arrayidx.i.i8.i17 = getelementptr inbounds [4 x float], ptr %retval.i3, i64 0, i64 %indvars.iv.i7
  store float %.sink.i16, ptr %arrayidx.i.i8.i17, align 4
  %indvars.iv.next.i18 = add nuw nsw i64 %indvars.iv.i7, 1
  %exitcond.not.i19 = icmp eq i64 %indvars.iv.next.i18, 4
  br i1 %exitcond.not.i19, label %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit27, label %for.body.i6, !llvm.loop !138

_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit27: ; preds = %for.inc.i15
  %.fca.0.load.i20 = load <2 x float>, ptr %retval.i3, align 8
  %.fca.1.gep.i22 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i3, i64 0, i32 1
  %.fca.1.load.i23 = load <2 x float>, ptr %.fca.1.gep.i22, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i3)
  %Le_spec = getelementptr inbounds %"class.pbrt::HomogeneousMedium", ptr %this, i64 0, i32 2
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i28)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i28, i8 0, i64 16, i1 false)
  %nStored.i.i29 = getelementptr inbounds %"class.pbrt::HomogeneousMedium", ptr %this, i64 0, i32 2, i32 2, i32 3
  %ptr.i.i30 = getelementptr inbounds %"class.pbrt::HomogeneousMedium", ptr %this, i64 0, i32 2, i32 2, i32 1
  br label %for.body.i31

for.body.i31:                                     ; preds = %for.inc.i40, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit27
  %indvars.iv.i32 = phi i64 [ 0, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit27 ], [ %indvars.iv.next.i43, %for.inc.i40 ]
  %arrayidx.i.i.i33 = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv.i32
  %12 = load float, ptr %arrayidx.i.i.i33, align 4
  %call.i.i34 = tail call noundef i64 @lroundf(float noundef %12) #25
  %13 = load i32, ptr %Le_spec, align 8
  %14 = trunc i64 %call.i.i34 to i32
  %conv3.i35 = sub i32 %14, %13
  %cmp4.i36 = icmp slt i32 %conv3.i35, 0
  br i1 %cmp4.i36, label %for.inc.i40, label %lor.lhs.false.i37

lor.lhs.false.i37:                                ; preds = %for.body.i31
  %conv5.i38 = zext nneg i32 %conv3.i35 to i64
  %15 = load i64, ptr %nStored.i.i29, align 8
  %cmp7.not.i39 = icmp ugt i64 %15, %conv5.i38
  br i1 %cmp7.not.i39, label %if.else.i50, label %for.inc.i40

if.else.i50:                                      ; preds = %lor.lhs.false.i37
  %16 = load ptr, ptr %ptr.i.i30, align 8
  %arrayidx.i.i51 = getelementptr inbounds float, ptr %16, i64 %conv5.i38
  %17 = load float, ptr %arrayidx.i.i51, align 4
  br label %for.inc.i40

for.inc.i40:                                      ; preds = %if.else.i50, %lor.lhs.false.i37, %for.body.i31
  %.sink.i41 = phi float [ %17, %if.else.i50 ], [ 0.000000e+00, %lor.lhs.false.i37 ], [ 0.000000e+00, %for.body.i31 ]
  %arrayidx.i.i8.i42 = getelementptr inbounds [4 x float], ptr %retval.i28, i64 0, i64 %indvars.iv.i32
  store float %.sink.i41, ptr %arrayidx.i.i8.i42, align 4
  %indvars.iv.next.i43 = add nuw nsw i64 %indvars.iv.i32, 1
  %exitcond.not.i44 = icmp eq i64 %indvars.iv.next.i43, 4
  br i1 %exitcond.not.i44, label %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit52, label %for.body.i31, !llvm.loop !138

_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit52: ; preds = %for.inc.i40
  %.fca.0.load.i45 = load <2 x float>, ptr %retval.i28, align 8
  %.fca.1.gep.i47 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i28, i64 0, i32 1
  %.fca.1.load.i48 = load <2 x float>, ptr %.fca.1.gep.i47, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i28)
  store <2 x float> %.fca.0.load.i, ptr %agg.result, align 8
  %sigma_a.sroa.2.0.sigma_a9.sroa_idx = getelementptr inbounds i8, ptr %agg.result, i64 8
  store <2 x float> %.fca.1.load.i, ptr %sigma_a.sroa.2.0.sigma_a9.sroa_idx, align 8
  %sigma_s10 = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.result, i64 0, i32 1
  store <2 x float> %.fca.0.load.i20, ptr %sigma_s10, align 8
  %sigma_s.sroa.2.0.sigma_s10.sroa_idx = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.result, i64 0, i32 1, i32 0, i32 0, i64 2
  store <2 x float> %.fca.1.load.i23, ptr %sigma_s.sroa.2.0.sigma_s10.sroa_idx, align 8
  %phase = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.result, i64 0, i32 2
  %phase11 = getelementptr inbounds %"class.pbrt::HomogeneousMedium", ptr %this, i64 0, i32 3
  %18 = ptrtoint ptr %phase11 to i64
  %or.i.i = or i64 %18, 144115188075855872
  store i64 %or.i.i, ptr %phase, align 8
  %Le12 = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.result, i64 0, i32 3
  store <2 x float> %.fca.0.load.i45, ptr %Le12, align 8
  %Le.sroa.2.0.Le12.sroa_idx = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.result, i64 0, i32 3, i32 0, i32 0, i64 2
  store <2 x float> %.fca.1.load.i48, ptr %Le.sroa.2.0.Le12.sroa_idx, align 8
  ret void
}

; Function Attrs: mustprogress nofree nosync nounwind memory(readwrite, inaccessiblemem: none) uwtable
define internal fastcc noundef zeroext i1 @"_ZZN4pbrt18TraceTransmittanceIZZNKS_12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiEUlNS_3RayEfE_ZZNKS1_17IntersectShadowTrEiS5_S9_ENKSA_clEiEUlNS_6Point3IfEEE_EEvS3_S9_T_T0_ENKUlSE_NS_16MediumPropertiesENS_15SampledSpectrumESJ_E_clESE_SI_SJ_SJ_"(ptr nocapture noundef nonnull readonly align 8 dereferenceable(32) %this, ptr nocapture noundef readonly %mp, <2 x float> %sigma_maj.coerce0, <2 x float> %sigma_maj.coerce1, <2 x float> %T_maj.coerce0, <2 x float> %T_maj.coerce1) unnamed_addr #15 align 2 {
entry:
  %ret.i135 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i118 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i97 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i83 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i62 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i48 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i33 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i21 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i4 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %sigma_maj = alloca %"class.pbrt::SampledSpectrum", align 8
  %sigma_n = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp12 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp21 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp30 = alloca %"class.pbrt::SampledSpectrum", align 8
  %Tr = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp39 = alloca %"class.pbrt::SampledSpectrum", align 8
  store <2 x float> %sigma_maj.coerce0, ptr %sigma_maj, align 8
  %0 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %sigma_maj, i64 0, i32 1
  store <2 x float> %sigma_maj.coerce1, ptr %0, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ret.i, ptr noundef nonnull align 8 dereferenceable(16) %sigma_maj, i64 16, i1 false)
  br label %for.body.i.i

for.body.i.i:                                     ; preds = %for.body.i.i, %entry
  %indvars.iv.i.i = phi i64 [ 0, %entry ], [ %indvars.iv.next.i.i, %for.body.i.i ]
  %arrayidx.i.i.i = getelementptr inbounds [4 x float], ptr %mp, i64 0, i64 %indvars.iv.i.i
  %1 = load float, ptr %arrayidx.i.i.i, align 4
  %arrayidx.i4.i.i = getelementptr inbounds [4 x float], ptr %ret.i, i64 0, i64 %indvars.iv.i.i
  %2 = load float, ptr %arrayidx.i4.i.i, align 4
  %sub.i.i = fsub float %2, %1
  store float %sub.i.i, ptr %arrayidx.i4.i.i, align 4
  %indvars.iv.next.i.i = add nuw nsw i64 %indvars.iv.i.i, 1
  %exitcond.not.i.i = icmp eq i64 %indvars.iv.next.i.i, 4
  br i1 %exitcond.not.i.i, label %_ZNK4pbrt15SampledSpectrummiERKS0_.exit, label %for.body.i.i, !llvm.loop !139

_ZNK4pbrt15SampledSpectrummiERKS0_.exit:          ; preds = %for.body.i.i
  %retval.sroa.0.0.copyload.i = load <2 x float>, ptr %ret.i, align 8
  %retval.sroa.2.0.call.sroa_idx.i = getelementptr inbounds i8, ptr %ret.i, i64 8
  %retval.sroa.2.0.copyload.i = load <2 x float>, ptr %retval.sroa.2.0.call.sroa_idx.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i)
  %sigma_s = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %mp, i64 0, i32 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i4)
  store <2 x float> %retval.sroa.0.0.copyload.i, ptr %ret.i4, align 8
  %ref.tmp2.sroa.2.0.ret.i4.sroa_idx = getelementptr inbounds i8, ptr %ret.i4, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i, ptr %ref.tmp2.sroa.2.0.ret.i4.sroa_idx, align 8
  br label %for.body.i.i5

for.body.i.i5:                                    ; preds = %for.body.i.i5, %_ZNK4pbrt15SampledSpectrummiERKS0_.exit
  %indvars.iv.i.i6 = phi i64 [ 0, %_ZNK4pbrt15SampledSpectrummiERKS0_.exit ], [ %indvars.iv.next.i.i10, %for.body.i.i5 ]
  %arrayidx.i.i.i7 = getelementptr inbounds [4 x float], ptr %sigma_s, i64 0, i64 %indvars.iv.i.i6
  %3 = load float, ptr %arrayidx.i.i.i7, align 4
  %arrayidx.i4.i.i8 = getelementptr inbounds [4 x float], ptr %ret.i4, i64 0, i64 %indvars.iv.i.i6
  %4 = load float, ptr %arrayidx.i4.i.i8, align 4
  %sub.i.i9 = fsub float %4, %3
  store float %sub.i.i9, ptr %arrayidx.i4.i.i8, align 4
  %indvars.iv.next.i.i10 = add nuw nsw i64 %indvars.iv.i.i6, 1
  %exitcond.not.i.i11 = icmp eq i64 %indvars.iv.next.i.i10, 4
  br i1 %exitcond.not.i.i11, label %_ZNK4pbrt15SampledSpectrummiERKS0_.exit17, label %for.body.i.i5, !llvm.loop !139

_ZNK4pbrt15SampledSpectrummiERKS0_.exit17:        ; preds = %for.body.i.i5
  %retval.sroa.0.0.copyload.i12 = load <2 x float>, ptr %ret.i4, align 8
  %retval.sroa.2.0.copyload.i14 = load <2 x float>, ptr %ref.tmp2.sroa.2.0.ret.i4.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i4)
  store <2 x float> %retval.sroa.0.0.copyload.i12, ptr %ref.tmp, align 8
  %5 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp, i64 0, i32 1
  store <2 x float> %retval.sroa.2.0.copyload.i14, ptr %5, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i, i8 0, i64 16, i1 false)
  br label %for.body.i

for.body.i:                                       ; preds = %for.body.i, %_ZNK4pbrt15SampledSpectrummiERKS0_.exit17
  %indvars.iv.i = phi i64 [ 0, %_ZNK4pbrt15SampledSpectrummiERKS0_.exit17 ], [ %indvars.iv.next.i, %for.body.i ]
  %arrayidx.i.i.i18 = getelementptr inbounds [4 x float], ptr %ref.tmp, i64 0, i64 %indvars.iv.i
  %6 = load float, ptr %arrayidx.i.i.i18, align 4
  %cmp.i.i = fcmp ogt float %6, 0.000000e+00
  %.sroa.speculated.i = select i1 %cmp.i.i, float %6, float 0.000000e+00
  %arrayidx.i.i5.i = getelementptr inbounds [4 x float], ptr %retval.i, i64 0, i64 %indvars.iv.i
  store float %.sroa.speculated.i, ptr %arrayidx.i.i5.i, align 4
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  %exitcond.not.i = icmp eq i64 %indvars.iv.next.i, 4
  br i1 %exitcond.not.i, label %_ZN4pbrt9ClampZeroERKNS_15SampledSpectrumE.exit, label %for.body.i, !llvm.loop !140

_ZN4pbrt9ClampZeroERKNS_15SampledSpectrumE.exit:  ; preds = %for.body.i
  %.fca.0.load.i = load <2 x float>, ptr %retval.i, align 8
  %.fca.1.gep.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i, i64 0, i32 1
  %.fca.1.load.i = load <2 x float>, ptr %.fca.1.gep.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i)
  store <2 x float> %.fca.0.load.i, ptr %sigma_n, align 8
  %7 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %sigma_n, i64 0, i32 1
  store <2 x float> %.fca.1.load.i, ptr %7, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i21)
  store <2 x float> %T_maj.coerce0, ptr %ret.i21, align 8
  %T_maj.sroa.5.0.ret.i21.sroa_idx = getelementptr inbounds i8, ptr %ret.i21, i64 8
  store <2 x float> %T_maj.coerce1, ptr %T_maj.sroa.5.0.ret.i21.sroa_idx, align 8
  br label %for.body.i.i22

for.body.i.i22:                                   ; preds = %for.body.i.i22, %_ZN4pbrt9ClampZeroERKNS_15SampledSpectrumE.exit
  %indvars.iv.i.i23 = phi i64 [ 0, %_ZN4pbrt9ClampZeroERKNS_15SampledSpectrumE.exit ], [ %indvars.iv.next.i.i26, %for.body.i.i22 ]
  %arrayidx.i.i.i24 = getelementptr inbounds [4 x float], ptr %sigma_n, i64 0, i64 %indvars.iv.i.i23
  %8 = load float, ptr %arrayidx.i.i.i24, align 4
  %arrayidx.i4.i.i25 = getelementptr inbounds [4 x float], ptr %ret.i21, i64 0, i64 %indvars.iv.i.i23
  %9 = load float, ptr %arrayidx.i4.i.i25, align 4
  %mul.i.i = fmul float %8, %9
  store float %mul.i.i, ptr %arrayidx.i4.i.i25, align 4
  %indvars.iv.next.i.i26 = add nuw nsw i64 %indvars.iv.i.i23, 1
  %exitcond.not.i.i27 = icmp eq i64 %indvars.iv.next.i.i26, 4
  br i1 %exitcond.not.i.i27, label %_ZNK4pbrt15SampledSpectrummlERKS0_.exit, label %for.body.i.i22, !llvm.loop !112

_ZNK4pbrt15SampledSpectrummlERKS0_.exit:          ; preds = %for.body.i.i22
  %10 = fmul <2 x float> %T_maj.coerce0, %sigma_maj.coerce0
  %mul = extractelement <2 x float> %10, i64 0
  %retval.sroa.0.0.copyload.i28 = load <2 x float>, ptr %ret.i21, align 8
  %retval.sroa.2.0.copyload.i30 = load <2 x float>, ptr %T_maj.sroa.5.0.ret.i21.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i21)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i33)
  store <2 x float> %retval.sroa.0.0.copyload.i28, ptr %ret.i33, align 8
  %ref.tmp13.sroa.2.0.ret.i33.sroa_idx = getelementptr inbounds i8, ptr %ret.i33, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i30, ptr %ref.tmp13.sroa.2.0.ret.i33.sroa_idx, align 8
  br label %for.body.i.i34

for.body.i.i34:                                   ; preds = %for.body.i.i34, %_ZNK4pbrt15SampledSpectrummlERKS0_.exit
  %indvars.iv.i.i35 = phi i64 [ 0, %_ZNK4pbrt15SampledSpectrummlERKS0_.exit ], [ %indvars.iv.next.i.i37, %for.body.i.i34 ]
  %arrayidx.i.i.i36 = getelementptr inbounds [4 x float], ptr %ret.i33, i64 0, i64 %indvars.iv.i.i35
  %11 = load float, ptr %arrayidx.i.i.i36, align 4
  %div.i.i = fdiv float %11, %mul
  store float %div.i.i, ptr %arrayidx.i.i.i36, align 4
  %indvars.iv.next.i.i37 = add nuw nsw i64 %indvars.iv.i.i35, 1
  %exitcond.not.i.i38 = icmp eq i64 %indvars.iv.next.i.i37, 4
  br i1 %exitcond.not.i.i38, label %_ZNK4pbrt15SampledSpectrumdvEf.exit, label %for.body.i.i34, !llvm.loop !89

_ZNK4pbrt15SampledSpectrumdvEf.exit:              ; preds = %for.body.i.i34
  %retval.sroa.0.0.copyload.i39 = load <2 x float>, ptr %ret.i33, align 8
  %retval.sroa.2.0.copyload.i41 = load <2 x float>, ptr %ref.tmp13.sroa.2.0.ret.i33.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i33)
  store <2 x float> %retval.sroa.0.0.copyload.i39, ptr %ref.tmp12, align 8
  %12 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp12, i64 0, i32 1
  store <2 x float> %retval.sroa.2.0.copyload.i41, ptr %12, align 8
  %13 = load ptr, ptr %this, align 8
  br label %for.body.i44

for.body.i44:                                     ; preds = %for.body.i44, %_ZNK4pbrt15SampledSpectrumdvEf.exit
  %indvars.iv.i45 = phi i64 [ 0, %_ZNK4pbrt15SampledSpectrumdvEf.exit ], [ %indvars.iv.next.i46, %for.body.i44 ]
  %arrayidx.i.i = getelementptr inbounds [4 x float], ptr %ref.tmp12, i64 0, i64 %indvars.iv.i45
  %14 = load float, ptr %arrayidx.i.i, align 4
  %arrayidx.i4.i = getelementptr inbounds [4 x float], ptr %13, i64 0, i64 %indvars.iv.i45
  %15 = load float, ptr %arrayidx.i4.i, align 4
  %mul.i = fmul float %14, %15
  store float %mul.i, ptr %arrayidx.i4.i, align 4
  %indvars.iv.next.i46 = add nuw nsw i64 %indvars.iv.i45, 1
  %exitcond.not.i47 = icmp eq i64 %indvars.iv.next.i46, 4
  br i1 %exitcond.not.i47, label %_ZN4pbrt15SampledSpectrummLERKS0_.exit, label %for.body.i44, !llvm.loop !112

_ZN4pbrt15SampledSpectrummLERKS0_.exit:           ; preds = %for.body.i44
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i48)
  store <2 x float> %T_maj.coerce0, ptr %ret.i48, align 8
  %T_maj.sroa.5.0.ret.i48.sroa_idx = getelementptr inbounds i8, ptr %ret.i48, i64 8
  store <2 x float> %T_maj.coerce1, ptr %T_maj.sroa.5.0.ret.i48.sroa_idx, align 8
  br label %for.body.i.i49

for.body.i.i49:                                   ; preds = %for.body.i.i49, %_ZN4pbrt15SampledSpectrummLERKS0_.exit
  %indvars.iv.i.i50 = phi i64 [ 0, %_ZN4pbrt15SampledSpectrummLERKS0_.exit ], [ %indvars.iv.next.i.i54, %for.body.i.i49 ]
  %arrayidx.i.i.i51 = getelementptr inbounds [4 x float], ptr %sigma_maj, i64 0, i64 %indvars.iv.i.i50
  %16 = load float, ptr %arrayidx.i.i.i51, align 4
  %arrayidx.i4.i.i52 = getelementptr inbounds [4 x float], ptr %ret.i48, i64 0, i64 %indvars.iv.i.i50
  %17 = load float, ptr %arrayidx.i4.i.i52, align 4
  %mul.i.i53 = fmul float %16, %17
  store float %mul.i.i53, ptr %arrayidx.i4.i.i52, align 4
  %indvars.iv.next.i.i54 = add nuw nsw i64 %indvars.iv.i.i50, 1
  %exitcond.not.i.i55 = icmp eq i64 %indvars.iv.next.i.i54, 4
  br i1 %exitcond.not.i.i55, label %_ZNK4pbrt15SampledSpectrummlERKS0_.exit61, label %for.body.i.i49, !llvm.loop !112

_ZNK4pbrt15SampledSpectrummlERKS0_.exit61:        ; preds = %for.body.i.i49
  %retval.sroa.0.0.copyload.i56 = load <2 x float>, ptr %ret.i48, align 8
  %retval.sroa.2.0.copyload.i58 = load <2 x float>, ptr %T_maj.sroa.5.0.ret.i48.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i48)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i62)
  store <2 x float> %retval.sroa.0.0.copyload.i56, ptr %ret.i62, align 8
  %ref.tmp22.sroa.2.0.ret.i62.sroa_idx = getelementptr inbounds i8, ptr %ret.i62, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i58, ptr %ref.tmp22.sroa.2.0.ret.i62.sroa_idx, align 8
  br label %for.body.i.i63

for.body.i.i63:                                   ; preds = %for.body.i.i63, %_ZNK4pbrt15SampledSpectrummlERKS0_.exit61
  %indvars.iv.i.i64 = phi i64 [ 0, %_ZNK4pbrt15SampledSpectrummlERKS0_.exit61 ], [ %indvars.iv.next.i.i67, %for.body.i.i63 ]
  %arrayidx.i.i.i65 = getelementptr inbounds [4 x float], ptr %ret.i62, i64 0, i64 %indvars.iv.i.i64
  %18 = load float, ptr %arrayidx.i.i.i65, align 4
  %div.i.i66 = fdiv float %18, %mul
  store float %div.i.i66, ptr %arrayidx.i.i.i65, align 4
  %indvars.iv.next.i.i67 = add nuw nsw i64 %indvars.iv.i.i64, 1
  %exitcond.not.i.i68 = icmp eq i64 %indvars.iv.next.i.i67, 4
  br i1 %exitcond.not.i.i68, label %_ZNK4pbrt15SampledSpectrumdvEf.exit74, label %for.body.i.i63, !llvm.loop !89

_ZNK4pbrt15SampledSpectrumdvEf.exit74:            ; preds = %for.body.i.i63
  %retval.sroa.0.0.copyload.i69 = load <2 x float>, ptr %ret.i62, align 8
  %retval.sroa.2.0.copyload.i71 = load <2 x float>, ptr %ref.tmp22.sroa.2.0.ret.i62.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i62)
  store <2 x float> %retval.sroa.0.0.copyload.i69, ptr %ref.tmp21, align 8
  %19 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp21, i64 0, i32 1
  store <2 x float> %retval.sroa.2.0.copyload.i71, ptr %19, align 8
  %20 = getelementptr inbounds %class.anon.221, ptr %this, i64 0, i32 1
  %21 = load ptr, ptr %20, align 8
  br label %for.body.i75

for.body.i75:                                     ; preds = %for.body.i75, %_ZNK4pbrt15SampledSpectrumdvEf.exit74
  %indvars.iv.i76 = phi i64 [ 0, %_ZNK4pbrt15SampledSpectrumdvEf.exit74 ], [ %indvars.iv.next.i80, %for.body.i75 ]
  %arrayidx.i.i77 = getelementptr inbounds [4 x float], ptr %ref.tmp21, i64 0, i64 %indvars.iv.i76
  %22 = load float, ptr %arrayidx.i.i77, align 4
  %arrayidx.i4.i78 = getelementptr inbounds [4 x float], ptr %21, i64 0, i64 %indvars.iv.i76
  %23 = load float, ptr %arrayidx.i4.i78, align 4
  %mul.i79 = fmul float %22, %23
  store float %mul.i79, ptr %arrayidx.i4.i78, align 4
  %indvars.iv.next.i80 = add nuw nsw i64 %indvars.iv.i76, 1
  %exitcond.not.i81 = icmp eq i64 %indvars.iv.next.i80, 4
  br i1 %exitcond.not.i81, label %_ZN4pbrt15SampledSpectrummLERKS0_.exit82, label %for.body.i75, !llvm.loop !112

_ZN4pbrt15SampledSpectrummLERKS0_.exit82:         ; preds = %for.body.i75
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i83)
  store <2 x float> %T_maj.coerce0, ptr %ret.i83, align 8
  %T_maj.sroa.5.0.ret.i83.sroa_idx = getelementptr inbounds i8, ptr %ret.i83, i64 8
  store <2 x float> %T_maj.coerce1, ptr %T_maj.sroa.5.0.ret.i83.sroa_idx, align 8
  br label %for.body.i.i84

for.body.i.i84:                                   ; preds = %for.body.i.i84, %_ZN4pbrt15SampledSpectrummLERKS0_.exit82
  %indvars.iv.i.i85 = phi i64 [ 0, %_ZN4pbrt15SampledSpectrummLERKS0_.exit82 ], [ %indvars.iv.next.i.i89, %for.body.i.i84 ]
  %arrayidx.i.i.i86 = getelementptr inbounds [4 x float], ptr %sigma_n, i64 0, i64 %indvars.iv.i.i85
  %24 = load float, ptr %arrayidx.i.i.i86, align 4
  %arrayidx.i4.i.i87 = getelementptr inbounds [4 x float], ptr %ret.i83, i64 0, i64 %indvars.iv.i.i85
  %25 = load float, ptr %arrayidx.i4.i.i87, align 4
  %mul.i.i88 = fmul float %24, %25
  store float %mul.i.i88, ptr %arrayidx.i4.i.i87, align 4
  %indvars.iv.next.i.i89 = add nuw nsw i64 %indvars.iv.i.i85, 1
  %exitcond.not.i.i90 = icmp eq i64 %indvars.iv.next.i.i89, 4
  br i1 %exitcond.not.i.i90, label %_ZNK4pbrt15SampledSpectrummlERKS0_.exit96, label %for.body.i.i84, !llvm.loop !112

_ZNK4pbrt15SampledSpectrummlERKS0_.exit96:        ; preds = %for.body.i.i84
  %retval.sroa.0.0.copyload.i91 = load <2 x float>, ptr %ret.i83, align 8
  %retval.sroa.2.0.copyload.i93 = load <2 x float>, ptr %T_maj.sroa.5.0.ret.i83.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i83)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i97)
  store <2 x float> %retval.sroa.0.0.copyload.i91, ptr %ret.i97, align 8
  %ref.tmp31.sroa.2.0.ret.i97.sroa_idx = getelementptr inbounds i8, ptr %ret.i97, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i93, ptr %ref.tmp31.sroa.2.0.ret.i97.sroa_idx, align 8
  br label %for.body.i.i98

for.body.i.i98:                                   ; preds = %for.body.i.i98, %_ZNK4pbrt15SampledSpectrummlERKS0_.exit96
  %indvars.iv.i.i99 = phi i64 [ 0, %_ZNK4pbrt15SampledSpectrummlERKS0_.exit96 ], [ %indvars.iv.next.i.i102, %for.body.i.i98 ]
  %arrayidx.i.i.i100 = getelementptr inbounds [4 x float], ptr %ret.i97, i64 0, i64 %indvars.iv.i.i99
  %26 = load float, ptr %arrayidx.i.i.i100, align 4
  %div.i.i101 = fdiv float %26, %mul
  store float %div.i.i101, ptr %arrayidx.i.i.i100, align 4
  %indvars.iv.next.i.i102 = add nuw nsw i64 %indvars.iv.i.i99, 1
  %exitcond.not.i.i103 = icmp eq i64 %indvars.iv.next.i.i102, 4
  br i1 %exitcond.not.i.i103, label %_ZNK4pbrt15SampledSpectrumdvEf.exit109, label %for.body.i.i98, !llvm.loop !89

_ZNK4pbrt15SampledSpectrumdvEf.exit109:           ; preds = %for.body.i.i98
  %retval.sroa.0.0.copyload.i104 = load <2 x float>, ptr %ret.i97, align 8
  %retval.sroa.2.0.copyload.i106 = load <2 x float>, ptr %ref.tmp31.sroa.2.0.ret.i97.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i97)
  store <2 x float> %retval.sroa.0.0.copyload.i104, ptr %ref.tmp30, align 8
  %27 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp30, i64 0, i32 1
  store <2 x float> %retval.sroa.2.0.copyload.i106, ptr %27, align 8
  %28 = getelementptr inbounds %class.anon.221, ptr %this, i64 0, i32 2
  %29 = load ptr, ptr %28, align 8
  br label %for.body.i110

for.body.i110:                                    ; preds = %for.body.i110, %_ZNK4pbrt15SampledSpectrumdvEf.exit109
  %indvars.iv.i111 = phi i64 [ 0, %_ZNK4pbrt15SampledSpectrumdvEf.exit109 ], [ %indvars.iv.next.i115, %for.body.i110 ]
  %arrayidx.i.i112 = getelementptr inbounds [4 x float], ptr %ref.tmp30, i64 0, i64 %indvars.iv.i111
  %30 = load float, ptr %arrayidx.i.i112, align 4
  %arrayidx.i4.i113 = getelementptr inbounds [4 x float], ptr %29, i64 0, i64 %indvars.iv.i111
  %31 = load float, ptr %arrayidx.i4.i113, align 4
  %mul.i114 = fmul float %30, %31
  store float %mul.i114, ptr %arrayidx.i4.i113, align 4
  %indvars.iv.next.i115 = add nuw nsw i64 %indvars.iv.i111, 1
  %exitcond.not.i116 = icmp eq i64 %indvars.iv.next.i115, 4
  br i1 %exitcond.not.i116, label %_ZN4pbrt15SampledSpectrummLERKS0_.exit117, label %for.body.i110, !llvm.loop !112

_ZN4pbrt15SampledSpectrummLERKS0_.exit117:        ; preds = %for.body.i110
  %32 = load ptr, ptr %this, align 8
  %33 = load ptr, ptr %20, align 8
  %34 = load ptr, ptr %28, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i118)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ret.i118, ptr noundef nonnull align 4 dereferenceable(16) %33, i64 16, i1 false)
  br label %for.body.i.i119

for.body.i.i119:                                  ; preds = %for.body.i.i119, %_ZN4pbrt15SampledSpectrummLERKS0_.exit117
  %indvars.iv.i.i120 = phi i64 [ 0, %_ZN4pbrt15SampledSpectrummLERKS0_.exit117 ], [ %indvars.iv.next.i.i123, %for.body.i.i119 ]
  %arrayidx.i.i.i121 = getelementptr inbounds [4 x float], ptr %34, i64 0, i64 %indvars.iv.i.i120
  %35 = load float, ptr %arrayidx.i.i.i121, align 4
  %arrayidx.i4.i.i122 = getelementptr inbounds [4 x float], ptr %ret.i118, i64 0, i64 %indvars.iv.i.i120
  %36 = load float, ptr %arrayidx.i4.i.i122, align 4
  %add.i.i = fadd float %35, %36
  store float %add.i.i, ptr %arrayidx.i4.i.i122, align 4
  %indvars.iv.next.i.i123 = add nuw nsw i64 %indvars.iv.i.i120, 1
  %exitcond.not.i.i124 = icmp eq i64 %indvars.iv.next.i.i123, 4
  br i1 %exitcond.not.i.i124, label %_ZNK4pbrt15SampledSpectrumplERKS0_.exit, label %for.body.i.i119, !llvm.loop !87

_ZNK4pbrt15SampledSpectrumplERKS0_.exit:          ; preds = %for.body.i.i119
  %retval.sroa.0.0.copyload.i125 = load <2 x float>, ptr %ret.i118, align 8
  %retval.sroa.2.0.call.sroa_idx.i126 = getelementptr inbounds i8, ptr %ret.i118, i64 8
  %retval.sroa.2.0.copyload.i127 = load <2 x float>, ptr %retval.sroa.2.0.call.sroa_idx.i126, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i118)
  store <2 x float> %retval.sroa.0.0.copyload.i125, ptr %ref.tmp39, align 8
  %37 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp39, i64 0, i32 1
  store <2 x float> %retval.sroa.2.0.copyload.i127, ptr %37, align 8
  %38 = extractelement <2 x float> %retval.sroa.0.0.copyload.i125, i64 0
  br label %for.body.i130

for.body.i130:                                    ; preds = %for.body.i130, %_ZNK4pbrt15SampledSpectrumplERKS0_.exit
  %indvars.iv.i131 = phi i64 [ 1, %_ZNK4pbrt15SampledSpectrumplERKS0_.exit ], [ %indvars.iv.next.i133, %for.body.i130 ]
  %sum.04.i = phi float [ %38, %_ZNK4pbrt15SampledSpectrumplERKS0_.exit ], [ %add.i, %for.body.i130 ]
  %arrayidx.i.i132 = getelementptr inbounds [4 x float], ptr %ref.tmp39, i64 0, i64 %indvars.iv.i131
  %39 = load float, ptr %arrayidx.i.i132, align 4
  %add.i = fadd float %sum.04.i, %39
  %indvars.iv.next.i133 = add nuw nsw i64 %indvars.iv.i131, 1
  %exitcond.not.i134 = icmp eq i64 %indvars.iv.next.i133, 4
  br i1 %exitcond.not.i134, label %_ZNK4pbrt15SampledSpectrum7AverageEv.exit, label %for.body.i130, !llvm.loop !88

_ZNK4pbrt15SampledSpectrum7AverageEv.exit:        ; preds = %for.body.i130
  %div.i = fmul float %add.i, 2.500000e-01
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i135)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ret.i135, ptr noundef nonnull align 4 dereferenceable(16) %32, i64 16, i1 false)
  br label %for.body.i.i136

for.body.i.i136:                                  ; preds = %for.body.i.i136, %_ZNK4pbrt15SampledSpectrum7AverageEv.exit
  %indvars.iv.i.i137 = phi i64 [ 0, %_ZNK4pbrt15SampledSpectrum7AverageEv.exit ], [ %indvars.iv.next.i.i140, %for.body.i.i136 ]
  %arrayidx.i.i.i138 = getelementptr inbounds [4 x float], ptr %ret.i135, i64 0, i64 %indvars.iv.i.i137
  %40 = load float, ptr %arrayidx.i.i.i138, align 4
  %div.i.i139 = fdiv float %40, %div.i
  store float %div.i.i139, ptr %arrayidx.i.i.i138, align 4
  %indvars.iv.next.i.i140 = add nuw nsw i64 %indvars.iv.i.i137, 1
  %exitcond.not.i.i141 = icmp eq i64 %indvars.iv.next.i.i140, 4
  br i1 %exitcond.not.i.i141, label %_ZNK4pbrt15SampledSpectrumdvEf.exit147, label %for.body.i.i136, !llvm.loop !89

_ZNK4pbrt15SampledSpectrumdvEf.exit147:           ; preds = %for.body.i.i136
  %retval.sroa.0.0.copyload.i142 = load <2 x float>, ptr %ret.i135, align 8
  %retval.sroa.2.0.call.sroa_idx.i143 = getelementptr inbounds i8, ptr %ret.i135, i64 8
  %retval.sroa.2.0.copyload.i144 = load <2 x float>, ptr %retval.sroa.2.0.call.sroa_idx.i143, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i135)
  store <2 x float> %retval.sroa.0.0.copyload.i142, ptr %Tr, align 8
  %41 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %Tr, i64 0, i32 1
  store <2 x float> %retval.sroa.2.0.copyload.i144, ptr %41, align 8
  %42 = extractelement <2 x float> %retval.sroa.0.0.copyload.i142, i64 0
  br label %for.body.i148

for.body.i148:                                    ; preds = %for.body.i148, %_ZNK4pbrt15SampledSpectrumdvEf.exit147
  %indvars.iv.i149 = phi i64 [ 1, %_ZNK4pbrt15SampledSpectrumdvEf.exit147 ], [ %indvars.iv.next.i153, %for.body.i148 ]
  %m.04.i = phi float [ %42, %_ZNK4pbrt15SampledSpectrumdvEf.exit147 ], [ %.sroa.speculated.i152, %for.body.i148 ]
  %arrayidx.i.i150 = getelementptr inbounds [4 x float], ptr %Tr, i64 0, i64 %indvars.iv.i149
  %43 = load float, ptr %arrayidx.i.i150, align 4
  %cmp.i.i151 = fcmp olt float %m.04.i, %43
  %.sroa.speculated.i152 = select i1 %cmp.i.i151, float %43, float %m.04.i
  %indvars.iv.next.i153 = add nuw nsw i64 %indvars.iv.i149, 1
  %exitcond.not.i154 = icmp eq i64 %indvars.iv.next.i153, 4
  br i1 %exitcond.not.i154, label %_ZNK4pbrt15SampledSpectrum17MaxComponentValueEv.exit, label %for.body.i148, !llvm.loop !141

_ZNK4pbrt15SampledSpectrum17MaxComponentValueEv.exit: ; preds = %for.body.i148
  %cmp = fcmp olt float %.sroa.speculated.i152, 0x3FA99999A0000000
  br i1 %cmp, label %if.then, label %if.end53

if.then:                                          ; preds = %_ZNK4pbrt15SampledSpectrum17MaxComponentValueEv.exit
  %44 = getelementptr inbounds %class.anon.221, ptr %this, i64 0, i32 3
  %45 = load ptr, ptr %44, align 8
  %46 = load i64, ptr %45, align 8
  %mul.i.i155 = mul i64 %46, 6364136223846793005
  %inc.i.i = getelementptr inbounds %"class.pbrt::RNG", ptr %45, i64 0, i32 1
  %47 = load i64, ptr %inc.i.i, align 8
  %add.i.i156 = add i64 %mul.i.i155, %47
  store i64 %add.i.i156, ptr %45, align 8
  %48 = lshr i64 %46, 45
  %49 = lshr i64 %46, 27
  %shr3.i.i = xor i64 %48, %49
  %conv.i.i = trunc i64 %shr3.i.i to i32
  %shr4.i.i = lshr i64 %46, 59
  %conv5.i.i = trunc i64 %shr4.i.i to i32
  %shr6.i.i = lshr i32 %conv.i.i, %conv5.i.i
  %add7.i.i = sub nsw i32 0, %conv5.i.i
  %and.i.i = and i32 %add7.i.i, 31
  %shl.i.i = shl i32 %conv.i.i, %and.i.i
  %or.i.i = or i32 %shr6.i.i, %shl.i.i
  %conv.i = uitofp i32 %or.i.i to float
  %mul.i157 = fmul float %conv.i, 0x3DF0000000000000
  %cmp.i.i158 = fcmp olt float %mul.i157, 0x3FEFFFFFE0000000
  %.sroa.speculated.i159 = select i1 %cmp.i.i158, float %mul.i157, float 0x3FEFFFFFE0000000
  %cmp49 = fcmp olt float %.sroa.speculated.i159, 7.500000e-01
  %50 = load ptr, ptr %this, align 8
  br i1 %cmp49, label %if.then50, label %for.body.i165

if.then50:                                        ; preds = %if.then
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 4 dereferenceable(16) %50, i8 0, i64 16, i1 false)
  br label %if.end53

for.body.i165:                                    ; preds = %if.then, %for.body.i165
  %indvars.iv.i166 = phi i64 [ %indvars.iv.next.i169, %for.body.i165 ], [ 0, %if.then ]
  %arrayidx.i.i167 = getelementptr inbounds [4 x float], ptr %50, i64 0, i64 %indvars.iv.i166
  %51 = load float, ptr %arrayidx.i.i167, align 4
  %div.i168 = fmul float %51, 4.000000e+00
  store float %div.i168, ptr %arrayidx.i.i167, align 4
  %indvars.iv.next.i169 = add nuw nsw i64 %indvars.iv.i166, 1
  %exitcond.not.i170 = icmp eq i64 %indvars.iv.next.i169, 4
  br i1 %exitcond.not.i170, label %if.end53, label %for.body.i165, !llvm.loop !89

if.end53:                                         ; preds = %for.body.i165, %if.then50, %_ZNK4pbrt15SampledSpectrum17MaxComponentValueEv.exit
  %52 = load ptr, ptr %this, align 8
  %53 = load float, ptr %52, align 4
  %cmp2.i180 = fcmp une float %53, 0.000000e+00
  br i1 %cmp2.i180, label %_ZNK4pbrt15SampledSpectrumcvbEv.exit, label %for.cond.i

for.cond.i:                                       ; preds = %if.end53, %for.body.i171
  %indvars.iv.i172181 = phi i64 [ %indvars.iv.next.i174, %for.body.i171 ], [ 0, %if.end53 ]
  %indvars.iv.next.i174 = add nuw nsw i64 %indvars.iv.i172181, 1
  %exitcond.not.i175 = icmp eq i64 %indvars.iv.next.i174, 4
  br i1 %exitcond.not.i175, label %_ZNK4pbrt15SampledSpectrumcvbEv.exit.loopexit, label %for.body.i171, !llvm.loop !127

for.body.i171:                                    ; preds = %for.cond.i
  %arrayidx.i.i173 = getelementptr inbounds [4 x float], ptr %52, i64 0, i64 %indvars.iv.next.i174
  %54 = load float, ptr %arrayidx.i.i173, align 4
  %cmp2.i = fcmp une float %54, 0.000000e+00
  br i1 %cmp2.i, label %_ZNK4pbrt15SampledSpectrumcvbEv.exit.loopexit, label %for.cond.i, !llvm.loop !127

_ZNK4pbrt15SampledSpectrumcvbEv.exit.loopexit:    ; preds = %for.cond.i, %for.body.i171
  %cmp.i.le = icmp ult i64 %indvars.iv.i172181, 3
  br label %_ZNK4pbrt15SampledSpectrumcvbEv.exit

_ZNK4pbrt15SampledSpectrumcvbEv.exit:             ; preds = %_ZNK4pbrt15SampledSpectrumcvbEv.exit.loopexit, %if.end53
  %cmp.lcssa.i = phi i1 [ true, %if.end53 ], [ %cmp.i.le, %_ZNK4pbrt15SampledSpectrumcvbEv.exit.loopexit ]
  ret i1 %cmp.lcssa.i
}

; Function Attrs: nounwind
declare i64 @lroundf(float noundef) local_unnamed_addr #13

; Function Attrs: mustprogress nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare float @llvm.floor.f32(float) #3

; Function Attrs: mustprogress nofree nounwind willreturn memory(write)
declare float @logf(float noundef) local_unnamed_addr #12

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZNK4pbrt10GridMedium9SampleRayENS_3RayEfRKNS_18SampledWavelengthsE(ptr noalias sret(%"class.pbrt::DDAMajorantIterator") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(520) %this, ptr noundef %ray, float noundef %raytMax, ptr noundef nonnull align 4 dereferenceable(32) %lambda) local_unnamed_addr #9 comdat align 2 {
entry:
  %ret.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i8 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %o.i = alloca %"class.pbrt::Point3fi", align 16
  %ref.tmp.i = alloca %"class.pbrt::Point3fi", align 8
  %sigma_s = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp12 = alloca %"class.pbrt::Ray", align 8
  %renderFromMedium = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 1
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %o.i)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %ref.tmp.i)
  %0 = load <4 x float>, ptr %ray, align 8, !noalias !142
  %agg.tmp.sroa.0.4.vec.insert.i.i = shufflevector <4 x float> %0, <4 x float> poison, <2 x i32> zeroinitializer
  %y.i.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %ray, i64 0, i32 1
  %1 = load <4 x float>, ptr %y.i.i, align 4, !noalias !142
  %agg.tmp2.sroa.0.4.vec.insert.i.i = shufflevector <4 x float> %1, <4 x float> poison, <2 x i32> zeroinitializer
  %z.i.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %ray, i64 0, i32 2
  %2 = load <4 x float>, ptr %z.i.i, align 4, !noalias !142
  %agg.tmp3.sroa.0.4.vec.insert.i.i = shufflevector <4 x float> %2, <4 x float> poison, <2 x i32> zeroinitializer
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i.i, ptr %ref.tmp.i, align 8, !noalias !142
  %y3.i.i.i.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %ref.tmp.i, i64 0, i32 1
  store <2 x float> %agg.tmp2.sroa.0.4.vec.insert.i.i, ptr %y3.i.i.i.i, align 8, !noalias !142
  %z4.i.i.i.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %ref.tmp.i, i64 0, i32 2
  store <2 x float> %agg.tmp3.sroa.0.4.vec.insert.i.i, ptr %z4.i.i.i.i, align 8, !noalias !142
  call void @_ZNK4pbrt9Transform12ApplyInverseERKNS_8Point3fiE(ptr nonnull sret(%"class.pbrt::Point3fi") align 4 %o.i, ptr noundef nonnull align 4 dereferenceable(128) %renderFromMedium, ptr noundef nonnull align 4 dereferenceable(24) %ref.tmp.i), !noalias !142
  %d3.i = getelementptr inbounds %"class.pbrt::Ray", ptr %ray, i64 0, i32 1
  %agg.tmp.sroa.0.0.copyload.i = load <2 x float>, ptr %d3.i, align 4, !noalias !142
  %agg.tmp.sroa.2.0.d3.sroa_idx.i = getelementptr inbounds %"class.pbrt::Ray", ptr %ray, i64 0, i32 1, i32 0, i32 2
  %agg.tmp.sroa.2.0.copyload.i = load float, ptr %agg.tmp.sroa.2.0.d3.sroa_idx.i, align 4, !noalias !142
  %call.i = call { <2 x float>, float } @_ZNK4pbrt9Transform12ApplyInverseIfEENS_7Vector3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %renderFromMedium, <2 x float> %agg.tmp.sroa.0.0.copyload.i, float %agg.tmp.sroa.2.0.copyload.i), !noalias !142
  %call.fca.0.extract.i = extractvalue { <2 x float>, float } %call.i, 0
  %call.fca.1.extract.i = extractvalue { <2 x float>, float } %call.i, 1
  %3 = fmul <2 x float> %call.fca.0.extract.i, %call.fca.0.extract.i
  %shift = shufflevector <2 x float> %3, <2 x float> poison, <2 x i32> <i32 1, i32 poison>
  %4 = fadd <2 x float> %3, %shift
  %add.i.i = extractelement <2 x float> %4, i64 0
  %mul.i2.i.i = fmul float %call.fca.1.extract.i, %call.fca.1.extract.i
  %add3.i.i = fadd float %mul.i2.i.i, %add.i.i
  %cmp.i = fcmp ogt float %add3.i.i, 0.000000e+00
  br i1 %cmp.i, label %if.then.i, label %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit

if.then.i:                                        ; preds = %entry
  %high.i.i = getelementptr inbounds %"class.pbrt::Interval", ptr %o.i, i64 0, i32 1
  %5 = load <4 x float>, ptr %high.i.i, align 4
  %6 = shufflevector <4 x float> %5, <4 x float> poison, <2 x i32> <i32 0, i32 poison>
  %7 = load <4 x float>, ptr %o.i, align 16
  %8 = shufflevector <4 x float> %7, <4 x float> poison, <2 x i32> <i32 0, i32 poison>
  %y.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %o.i, i64 0, i32 1
  %high.i7.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %o.i, i64 0, i32 1, i32 1
  %9 = load float, ptr %high.i7.i, align 4, !noalias !142
  %10 = load float, ptr %y.i, align 8, !noalias !142
  %sub.i8.i = fsub float %9, %10
  %div8.i = fmul float %sub.i8.i, 5.000000e-01
  %z.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %o.i, i64 0, i32 2
  %high.i9.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %o.i, i64 0, i32 2, i32 1
  %11 = load float, ptr %high.i9.i, align 4, !noalias !142
  %12 = load float, ptr %z.i, align 16, !noalias !142
  %13 = insertelement <2 x float> %call.fca.0.extract.i, float %call.fca.1.extract.i, i64 1
  %14 = call <2 x float> @llvm.fabs.v2f32(<2 x float> %13)
  %15 = extractelement <2 x float> %call.fca.0.extract.i, i64 1
  %16 = call noundef float @llvm.fabs.f32(float %15)
  %mul4.i.i = fmul float %16, %div8.i
  %17 = insertelement <2 x float> %6, float %11, i64 1
  %18 = insertelement <2 x float> %8, float %12, i64 1
  %19 = fsub <2 x float> %17, %18
  %20 = fmul <2 x float> %19, <float 5.000000e-01, float 5.000000e-01>
  %21 = fmul <2 x float> %14, %20
  %22 = extractelement <2 x float> %21, i64 0
  %add.i13.i = fadd float %22, %mul4.i.i
  %23 = extractelement <2 x float> %21, i64 1
  %add7.i.i = fadd float %add.i13.i, %23
  %div18.i = fdiv float %add7.i.i, %add3.i.i
  %24 = insertelement <2 x float> poison, float %div18.i, i64 0
  %25 = shufflevector <2 x float> %24, <2 x float> poison, <2 x i32> zeroinitializer
  %26 = fmul <2 x float> %call.fca.0.extract.i, %25
  %mul3.i.i = fmul float %call.fca.1.extract.i, %div18.i
  %call23.i = call noundef nonnull align 4 dereferenceable(24) ptr @_ZN4pbrt8Point3fipLIfEERS0_NS_7Vector3IT_EE(ptr noundef nonnull align 4 dereferenceable(24) %o.i, <2 x float> %26, float %mul3.i.i), !noalias !142
  %sub.i = fsub float %raytMax, %div18.i
  br label %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit

_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit: ; preds = %entry, %if.then.i
  %raytMax.addr.0 = phi float [ %sub.i, %if.then.i ], [ %raytMax, %entry ]
  %27 = load <4 x float>, ptr %o.i, align 16
  %28 = shufflevector <4 x float> %27, <4 x float> poison, <2 x i32> <i32 0, i32 poison>
  %agg.tmp27.sroa.0.sroa.2.0.o.sroa_idx.i = getelementptr inbounds i8, ptr %o.i, i64 4
  %agg.tmp27.sroa.0.sroa.4.0.o.sroa_idx.i = getelementptr inbounds i8, ptr %o.i, i64 12
  %agg.tmp27.sroa.0.sroa.4.0.copyload.i = load float, ptr %agg.tmp27.sroa.0.sroa.4.0.o.sroa_idx.i, align 4, !noalias !142
  %agg.tmp27.sroa.0.sroa.5.0.o.sroa_idx.i = getelementptr inbounds i8, ptr %o.i, i64 16
  %agg.tmp27.sroa.0.sroa.5.0.copyload.i = load float, ptr %agg.tmp27.sroa.0.sroa.5.0.o.sroa_idx.i, align 16, !noalias !142
  %agg.tmp27.sroa.0.sroa.6.0.o.sroa_idx.i = getelementptr inbounds i8, ptr %o.i, i64 20
  %agg.tmp27.sroa.0.sroa.6.0.copyload.i = load float, ptr %agg.tmp27.sroa.0.sroa.6.0.o.sroa_idx.i, align 4, !noalias !142
  %29 = load <2 x float>, ptr %agg.tmp27.sroa.0.sroa.2.0.o.sroa_idx.i, align 4, !noalias !142
  %30 = insertelement <2 x float> %28, float %agg.tmp27.sroa.0.sroa.4.0.copyload.i, i64 1
  %31 = fadd <2 x float> %29, %30
  %32 = fmul <2 x float> %31, <float 5.000000e-01, float 5.000000e-01>
  %add.i.i5.i.i = fadd float %agg.tmp27.sroa.0.sroa.5.0.copyload.i, %agg.tmp27.sroa.0.sroa.6.0.copyload.i
  %div.i.i6.i.i = fmul float %add.i.i5.i.i, 5.000000e-01
  %medium.i = getelementptr inbounds %"class.pbrt::Ray", ptr %ray, i64 0, i32 3
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %o.i)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %ref.tmp.i)
  store <2 x float> %32, ptr %ray, align 8
  store float %div.i.i6.i.i, ptr %z.i.i, align 8
  store <2 x float> %call.fca.0.extract.i, ptr %d3.i, align 4
  store float %call.fca.1.extract.i, ptr %agg.tmp.sroa.2.0.d3.sroa_idx.i, align 4
  %33 = extractelement <2 x float> %call.fca.0.extract.i, i64 1
  %div.i3 = fdiv float 1.000000e+00, %33
  %y.i17.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %this, i64 0, i32 1
  %retval.0.i18.i = load float, ptr %y.i17.i, align 4
  %34 = extractelement <2 x float> %32, i64 1
  %sub.i4 = fsub float %retval.0.i18.i, %34
  %mul.i = fmul float %div.i3, %sub.i4
  %y.i27.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %this, i64 0, i32 1, i32 0, i32 1
  %35 = extractelement <2 x float> %call.fca.0.extract.i, i64 0
  %div52.i = fdiv float 1.000000e+00, %35
  %retval.0.i1866.i = load float, ptr %this, align 8
  %36 = extractelement <2 x float> %32, i64 0
  %sub87.i = fsub float %retval.0.i1866.i, %36
  %mul88.i = fmul float %div52.i, %sub87.i
  %pMax89.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %this, i64 0, i32 1
  %div47.i = fdiv float 1.000000e+00, %call.fca.1.extract.i
  %z.i20.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %this, i64 0, i32 2
  %retval.0.i1855.i = load float, ptr %z.i20.i, align 8
  %sub72.i = fsub float %retval.0.i1855.i, %div.i.i6.i.i
  %mul73.i = fmul float %div47.i, %sub72.i
  %z.i31.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %this, i64 0, i32 1, i32 0, i32 2
  br label %for.body.i

for.cond.i:                                       ; preds = %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i
  %inc.i = add nuw nsw i32 %i.0113.i, 1
  %cmp.i5 = icmp ugt i32 %i.0113.i, 1
  %exitcond.i = icmp eq i32 %inc.i, 3
  br i1 %exitcond.i, label %_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit, label %for.body.i, !llvm.loop !145

for.body.i:                                       ; preds = %for.cond.i, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit
  %cmp114.i = phi i1 [ false, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit ], [ %cmp.i5, %for.cond.i ]
  %i.0113.i = phi i32 [ 0, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit ], [ %inc.i, %for.cond.i ]
  %t1.0112.i = phi float [ %raytMax.addr.0, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit ], [ %cond18.i, %for.cond.i ]
  %t0.0111.i = phi float [ 0.000000e+00, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit ], [ %cond.i, %for.cond.i ]
  switch i32 %i.0113.i, label %if.end4.i36.i [
    i32 0, label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i
    i32 1, label %if.then3.i33.i
  ]

if.then3.i33.i:                                   ; preds = %for.body.i
  br label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i

if.end4.i36.i:                                    ; preds = %for.body.i
  br label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i

_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i:       ; preds = %if.end4.i36.i, %if.then3.i33.i, %for.body.i
  %retval.0.i2999.in.i = phi ptr [ %y.i27.i, %if.then3.i33.i ], [ %z.i31.i, %if.end4.i36.i ], [ %pMax89.i, %for.body.i ]
  %div48577797.i = phi float [ %div.i3, %if.then3.i33.i ], [ %div47.i, %if.end4.i36.i ], [ %div52.i, %for.body.i ]
  %mul7995.i = phi float [ %mul.i, %if.then3.i33.i ], [ %mul73.i, %if.end4.i36.i ], [ %mul88.i, %for.body.i ]
  %retval.0.i35.sroa.speculated.i = phi float [ %34, %if.then3.i33.i ], [ %div.i.i6.i.i, %if.end4.i36.i ], [ %36, %for.body.i ]
  %retval.0.i2999.i = load float, ptr %retval.0.i2999.in.i, align 4
  %sub7.i = fsub float %retval.0.i2999.i, %retval.0.i35.sroa.speculated.i
  %mul8.i = fmul float %div48577797.i, %sub7.i
  %cmp9.i = fcmp ogt float %mul7995.i, %mul8.i
  %tNear.0.i = select i1 %cmp9.i, float %mul8.i, float %mul7995.i
  %tFar.0.i = select i1 %cmp9.i, float %mul7995.i, float %mul8.i
  %mul12.i = fmul float %tFar.0.i, 0x3FF0000060000000
  %cmp13.i = fcmp ogt float %tNear.0.i, %t0.0111.i
  %cond.i = select i1 %cmp13.i, float %tNear.0.i, float %t0.0111.i
  %cmp14.i = fcmp olt float %mul12.i, %t1.0112.i
  %cond18.i = select i1 %cmp14.i, float %mul12.i, float %t1.0112.i
  %cmp19.i = fcmp ogt float %cond.i, %cond18.i
  br i1 %cmp19.i, label %_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit, label %for.cond.i

_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit: ; preds = %for.cond.i, %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i
  %cmp108.i = phi i1 [ %cmp114.i, %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i ], [ %cmp.i5, %for.cond.i ]
  br i1 %cmp108.i, label %do.end, label %if.then

if.then:                                          ; preds = %_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit
  %tMin.i = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %agg.result, i64 0, i32 1
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(96) %agg.result, i8 0, i64 96, i1 false)
  store <2 x float> <float 0x7FF0000000000000, float 0xFFF0000000000000>, ptr %tMin.i, align 8
  br label %return

do.end:                                           ; preds = %_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit
  %sigma_a_spec = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 2
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i, i8 0, i64 16, i1 false)
  %nStored.i.i = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 2, i32 2, i32 3
  %ptr.i.i = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 2, i32 2, i32 1
  br label %for.body.i6

for.body.i6:                                      ; preds = %for.inc.i, %do.end
  %indvars.iv.i = phi i64 [ 0, %do.end ], [ %indvars.iv.next.i, %for.inc.i ]
  %arrayidx.i.i.i = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv.i
  %37 = load float, ptr %arrayidx.i.i.i, align 4
  %call.i.i = call noundef i64 @lroundf(float noundef %37) #25
  %38 = load i32, ptr %sigma_a_spec, align 8
  %39 = trunc i64 %call.i.i to i32
  %conv3.i = sub i32 %39, %38
  %cmp4.i = icmp slt i32 %conv3.i, 0
  br i1 %cmp4.i, label %for.inc.i, label %lor.lhs.false.i

lor.lhs.false.i:                                  ; preds = %for.body.i6
  %conv5.i = zext nneg i32 %conv3.i to i64
  %40 = load i64, ptr %nStored.i.i, align 8
  %cmp7.not.i = icmp ugt i64 %40, %conv5.i
  br i1 %cmp7.not.i, label %if.else.i, label %for.inc.i

if.else.i:                                        ; preds = %lor.lhs.false.i
  %41 = load ptr, ptr %ptr.i.i, align 8
  %arrayidx.i.i = getelementptr inbounds float, ptr %41, i64 %conv5.i
  %42 = load float, ptr %arrayidx.i.i, align 4
  br label %for.inc.i

for.inc.i:                                        ; preds = %if.else.i, %lor.lhs.false.i, %for.body.i6
  %.sink.i = phi float [ %42, %if.else.i ], [ 0.000000e+00, %lor.lhs.false.i ], [ 0.000000e+00, %for.body.i6 ]
  %arrayidx.i.i8.i = getelementptr inbounds [4 x float], ptr %retval.i, i64 0, i64 %indvars.iv.i
  store float %.sink.i, ptr %arrayidx.i.i8.i, align 4
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  %exitcond.not.i = icmp eq i64 %indvars.iv.next.i, 4
  br i1 %exitcond.not.i, label %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit, label %for.body.i6, !llvm.loop !138

_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit: ; preds = %for.inc.i
  %.fca.0.load.i = load <2 x float>, ptr %retval.i, align 8
  %.fca.1.gep.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i, i64 0, i32 1
  %.fca.1.load.i = load <2 x float>, ptr %.fca.1.gep.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i)
  %sigma_s_spec = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 3
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i8)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i8, i8 0, i64 16, i1 false)
  %nStored.i.i9 = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 3, i32 2, i32 3
  %ptr.i.i10 = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 3, i32 2, i32 1
  br label %for.body.i11

for.body.i11:                                     ; preds = %for.inc.i20, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit
  %indvars.iv.i12 = phi i64 [ 0, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit ], [ %indvars.iv.next.i23, %for.inc.i20 ]
  %arrayidx.i.i.i13 = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv.i12
  %43 = load float, ptr %arrayidx.i.i.i13, align 4
  %call.i.i14 = call noundef i64 @lroundf(float noundef %43) #25
  %44 = load i32, ptr %sigma_s_spec, align 8
  %45 = trunc i64 %call.i.i14 to i32
  %conv3.i15 = sub i32 %45, %44
  %cmp4.i16 = icmp slt i32 %conv3.i15, 0
  br i1 %cmp4.i16, label %for.inc.i20, label %lor.lhs.false.i17

lor.lhs.false.i17:                                ; preds = %for.body.i11
  %conv5.i18 = zext nneg i32 %conv3.i15 to i64
  %46 = load i64, ptr %nStored.i.i9, align 8
  %cmp7.not.i19 = icmp ugt i64 %46, %conv5.i18
  br i1 %cmp7.not.i19, label %if.else.i31, label %for.inc.i20

if.else.i31:                                      ; preds = %lor.lhs.false.i17
  %47 = load ptr, ptr %ptr.i.i10, align 8
  %arrayidx.i.i32 = getelementptr inbounds float, ptr %47, i64 %conv5.i18
  %48 = load float, ptr %arrayidx.i.i32, align 4
  br label %for.inc.i20

for.inc.i20:                                      ; preds = %if.else.i31, %lor.lhs.false.i17, %for.body.i11
  %.sink.i21 = phi float [ %48, %if.else.i31 ], [ 0.000000e+00, %lor.lhs.false.i17 ], [ 0.000000e+00, %for.body.i11 ]
  %arrayidx.i.i8.i22 = getelementptr inbounds [4 x float], ptr %retval.i8, i64 0, i64 %indvars.iv.i12
  store float %.sink.i21, ptr %arrayidx.i.i8.i22, align 4
  %indvars.iv.next.i23 = add nuw nsw i64 %indvars.iv.i12, 1
  %exitcond.not.i24 = icmp eq i64 %indvars.iv.next.i23, 4
  br i1 %exitcond.not.i24, label %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit33, label %for.body.i11, !llvm.loop !138

_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit33: ; preds = %for.inc.i20
  %.fca.0.load.i26 = load <2 x float>, ptr %retval.i8, align 8
  %.fca.1.gep.i28 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i8, i64 0, i32 1
  %.fca.1.load.i29 = load <2 x float>, ptr %.fca.1.gep.i28, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i8)
  store <2 x float> %.fca.0.load.i26, ptr %sigma_s, align 8
  %49 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %sigma_s, i64 0, i32 1
  store <2 x float> %.fca.1.load.i29, ptr %49, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i)
  store <2 x float> %.fca.0.load.i, ptr %ret.i, align 8
  %sigma_a.sroa.2.0.ret.i.sroa_idx = getelementptr inbounds i8, ptr %ret.i, i64 8
  store <2 x float> %.fca.1.load.i, ptr %sigma_a.sroa.2.0.ret.i.sroa_idx, align 8
  br label %for.body.i.i

for.body.i.i:                                     ; preds = %for.body.i.i, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit33
  %indvars.iv.i.i = phi i64 [ 0, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit33 ], [ %indvars.iv.next.i.i, %for.body.i.i ]
  %arrayidx.i.i.i34 = getelementptr inbounds [4 x float], ptr %sigma_s, i64 0, i64 %indvars.iv.i.i
  %50 = load float, ptr %arrayidx.i.i.i34, align 4
  %arrayidx.i4.i.i = getelementptr inbounds [4 x float], ptr %ret.i, i64 0, i64 %indvars.iv.i.i
  %51 = load float, ptr %arrayidx.i4.i.i, align 4
  %add.i.i35 = fadd float %50, %51
  store float %add.i.i35, ptr %arrayidx.i4.i.i, align 4
  %indvars.iv.next.i.i = add nuw nsw i64 %indvars.iv.i.i, 1
  %exitcond.not.i.i = icmp eq i64 %indvars.iv.next.i.i, 4
  br i1 %exitcond.not.i.i, label %_ZNK4pbrt15SampledSpectrumplERKS0_.exit, label %for.body.i.i, !llvm.loop !87

_ZNK4pbrt15SampledSpectrumplERKS0_.exit:          ; preds = %for.body.i.i
  %retval.sroa.0.0.copyload.i = load <2 x float>, ptr %ret.i, align 8
  %retval.sroa.2.0.copyload.i = load <2 x float>, ptr %sigma_a.sroa.2.0.ret.i.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(28) %agg.tmp12, ptr noundef nonnull align 8 dereferenceable(28) %ray, i64 28, i1 false)
  %medium.i38 = getelementptr inbounds %"class.pbrt::Ray", ptr %agg.tmp12, i64 0, i32 3
  %52 = load i64, ptr %medium.i, align 8
  store i64 %52, ptr %medium.i38, align 8
  %majorantGrid = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 14
  call void @_ZN4pbrt19DDAMajorantIteratorC2ENS_3RayEffPKNS_12MajorantGridENS_15SampledSpectrumE(ptr noundef nonnull align 8 dereferenceable(92) %agg.result, ptr noundef nonnull %agg.tmp12, float noundef %cond.i, float noundef %cond18.i, ptr noundef nonnull %majorantGrid, <2 x float> %retval.sroa.0.0.copyload.i, <2 x float> %retval.sroa.2.0.copyload.i)
  br label %return

return:                                           ; preds = %_ZNK4pbrt15SampledSpectrumplERKS0_.exit, %if.then
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt19DDAMajorantIterator4NextEv(ptr noalias sret(%"class.pstd::optional.223") align 4 %agg.result, ptr noundef nonnull align 8 dereferenceable(92) %this) local_unnamed_addr #9 comdat align 2 {
entry:
  %retval.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %tMin = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 1
  %0 = load float, ptr %tMin, align 8
  %tMax = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 2
  %1 = load float, ptr %tMax, align 4
  %cmp = fcmp ult float %0, %1
  br i1 %cmp, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 4 dereferenceable(28) %agg.result, i8 0, i64 28, i1 false)
  br label %return

if.end:                                           ; preds = %entry
  %nextCrossingT = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 4
  %2 = load float, ptr %nextCrossingT, align 8
  %arrayidx3 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 4, i64 1
  %3 = load float, ptr %arrayidx3, align 4
  %cmp4 = fcmp olt float %2, %3
  %shl = select i1 %cmp4, i64 4, i64 0
  %arrayidx8 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 4, i64 2
  %4 = load float, ptr %arrayidx8, align 8
  %cmp9 = fcmp olt float %2, %4
  %shl11 = select i1 %cmp9, i64 2, i64 0
  %add = or disjoint i64 %shl11, %shl
  %cmp16 = fcmp olt float %3, %4
  %conv17 = zext i1 %cmp16 to i64
  %add18 = or disjoint i64 %add, %conv17
  %arrayidx19 = getelementptr inbounds [8 x i32], ptr @__const._ZN4pbrt19DDAMajorantIterator4NextEv.cmpToAxis, i64 0, i64 %add18
  %5 = load i32, ptr %arrayidx19, align 4
  %idxprom22 = sext i32 %5 to i64
  %arrayidx23 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 4, i64 %idxprom22
  %6 = load float, ptr %arrayidx23, align 4
  %grid = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 3
  %7 = load ptr, ptr %grid, align 8
  %voxel = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 8
  %8 = load i32, ptr %voxel, align 8
  %arrayidx26 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 8, i64 1
  %9 = load i32, ptr %arrayidx26, align 4
  %arrayidx28 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 8, i64 2
  %10 = load i32, ptr %arrayidx28, align 8
  %res.i = getelementptr inbounds %"struct.pbrt::MajorantGrid", ptr %7, i64 0, i32 2
  %11 = load i32, ptr %res.i, align 8
  %y4.i = getelementptr inbounds %"struct.pbrt::MajorantGrid", ptr %7, i64 0, i32 2, i32 0, i32 1
  %12 = load i32, ptr %y4.i, align 4
  %mul.i = mul nsw i32 %12, %10
  %add.i = add nsw i32 %mul.i, %9
  %mul5.i = mul nsw i32 %add.i, %11
  %add6.i = add nsw i32 %mul5.i, %8
  %conv.i = sext i32 %add6.i to i64
  %ptr.i.i = getelementptr inbounds %"struct.pbrt::MajorantGrid", ptr %7, i64 0, i32 1, i32 1
  %13 = load ptr, ptr %ptr.i.i, align 8
  %arrayidx.i.i = getelementptr inbounds float, ptr %13, i64 %conv.i
  %14 = load float, ptr %arrayidx.i.i, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i, ptr noundef nonnull align 8 dereferenceable(16) %this, i64 16, i1 false)
  br label %for.body.i

for.body.i:                                       ; preds = %for.body.i, %if.end
  %indvars.iv.i = phi i64 [ 0, %if.end ], [ %indvars.iv.next.i, %for.body.i ]
  %arrayidx.i.i9 = getelementptr inbounds [4 x float], ptr %retval.i, i64 0, i64 %indvars.iv.i
  %15 = load float, ptr %arrayidx.i.i9, align 4
  %mul.i10 = fmul float %14, %15
  store float %mul.i10, ptr %arrayidx.i.i9, align 4
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  %exitcond.not.i = icmp eq i64 %indvars.iv.next.i, 4
  br i1 %exitcond.not.i, label %_ZNK4pbrt15SampledSpectrummlEf.exit, label %for.body.i, !llvm.loop !110

_ZNK4pbrt15SampledSpectrummlEf.exit:              ; preds = %for.body.i
  %cmp.i = fcmp olt float %6, %1
  %16 = select i1 %cmp.i, float %6, float %1
  %.fca.0.load.i = load <2 x float>, ptr %retval.i, align 8
  %.fca.1.gep.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i, i64 0, i32 1
  %.fca.1.load.i = load <2 x float>, ptr %.fca.1.gep.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i)
  store float %16, ptr %tMin, align 8
  %17 = load float, ptr %arrayidx23, align 4
  %cmp41 = fcmp ogt float %17, %1
  br i1 %cmp41, label %if.then42, label %if.end45

if.then42:                                        ; preds = %_ZNK4pbrt15SampledSpectrummlEf.exit
  store float %1, ptr %tMin, align 8
  br label %if.end45

if.end45:                                         ; preds = %if.then42, %_ZNK4pbrt15SampledSpectrummlEf.exit
  %arrayidx47 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 6, i64 %idxprom22
  %18 = load i32, ptr %arrayidx47, align 4
  %arrayidx50 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 8, i64 %idxprom22
  %19 = load i32, ptr %arrayidx50, align 4
  %add51 = add nsw i32 %19, %18
  store i32 %add51, ptr %arrayidx50, align 4
  %arrayidx56 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 7, i64 %idxprom22
  %20 = load i32, ptr %arrayidx56, align 4
  %cmp57 = icmp eq i32 %add51, %20
  br i1 %cmp57, label %if.then58, label %if.end61

if.then58:                                        ; preds = %if.end45
  %21 = load float, ptr %tMax, align 4
  store float %21, ptr %tMin, align 8
  br label %if.end61

if.end61:                                         ; preds = %if.then58, %if.end45
  %arrayidx63 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 5, i64 %idxprom22
  %22 = load float, ptr %arrayidx63, align 4
  %23 = load float, ptr %arrayidx23, align 4
  %add67 = fadd float %22, %23
  store float %add67, ptr %arrayidx23, align 4
  %set.i11 = getelementptr inbounds %"class.pstd::optional.223", ptr %agg.result, i64 0, i32 1
  store i8 1, ptr %set.i11, align 4
  store float %0, ptr %agg.result, align 4
  %seg.sroa.2.0.agg.result.sroa_idx = getelementptr inbounds i8, ptr %agg.result, i64 4
  store float %16, ptr %seg.sroa.2.0.agg.result.sroa_idx, align 4
  %seg.sroa.3.0.agg.result.sroa_idx = getelementptr inbounds i8, ptr %agg.result, i64 8
  store <2 x float> %.fca.0.load.i, ptr %seg.sroa.3.0.agg.result.sroa_idx, align 4
  %seg.sroa.4.0.agg.result.sroa_idx = getelementptr inbounds i8, ptr %agg.result, i64 16
  store <2 x float> %.fca.1.load.i, ptr %seg.sroa.4.0.agg.result.sroa_idx, align 4
  br label %return

return:                                           ; preds = %if.end61, %if.then
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZNK4pbrt10GridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsE(ptr noalias sret(%"struct.pbrt::MediumProperties") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(520) %this, <2 x float> %p.coerce0, float %p.coerce1, ptr noundef nonnull align 4 dereferenceable(32) %lambda) local_unnamed_addr #9 comdat align 2 {
entry:
  %retval.i.i87 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i62 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i13 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %sigma_a = alloca %"class.pbrt::SampledSpectrum", align 8
  %sigma_s = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp31 = alloca %"class.pbrt::BlackbodySpectrum", align 4
  %sigma_a_spec = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 2
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i, i8 0, i64 16, i1 false)
  %nStored.i.i = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 2, i32 2, i32 3
  %ptr.i.i = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 2, i32 2, i32 1
  br label %for.body.i

for.body.i:                                       ; preds = %for.inc.i, %entry
  %indvars.iv.i = phi i64 [ 0, %entry ], [ %indvars.iv.next.i, %for.inc.i ]
  %arrayidx.i.i.i = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv.i
  %0 = load float, ptr %arrayidx.i.i.i, align 4
  %call.i.i = tail call noundef i64 @lroundf(float noundef %0) #25
  %1 = load i32, ptr %sigma_a_spec, align 8
  %2 = trunc i64 %call.i.i to i32
  %conv3.i = sub i32 %2, %1
  %cmp4.i = icmp slt i32 %conv3.i, 0
  br i1 %cmp4.i, label %for.inc.i, label %lor.lhs.false.i

lor.lhs.false.i:                                  ; preds = %for.body.i
  %conv5.i = zext nneg i32 %conv3.i to i64
  %3 = load i64, ptr %nStored.i.i, align 8
  %cmp7.not.i = icmp ugt i64 %3, %conv5.i
  br i1 %cmp7.not.i, label %if.else.i, label %for.inc.i

if.else.i:                                        ; preds = %lor.lhs.false.i
  %4 = load ptr, ptr %ptr.i.i, align 8
  %arrayidx.i.i = getelementptr inbounds float, ptr %4, i64 %conv5.i
  %5 = load float, ptr %arrayidx.i.i, align 4
  br label %for.inc.i

for.inc.i:                                        ; preds = %if.else.i, %lor.lhs.false.i, %for.body.i
  %.sink.i = phi float [ %5, %if.else.i ], [ 0.000000e+00, %lor.lhs.false.i ], [ 0.000000e+00, %for.body.i ]
  %arrayidx.i.i8.i = getelementptr inbounds [4 x float], ptr %retval.i, i64 0, i64 %indvars.iv.i
  store float %.sink.i, ptr %arrayidx.i.i8.i, align 4
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  %exitcond.not.i = icmp eq i64 %indvars.iv.next.i, 4
  br i1 %exitcond.not.i, label %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit, label %for.body.i, !llvm.loop !138

_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit: ; preds = %for.inc.i
  %.fca.0.load.i = load <2 x float>, ptr %retval.i, align 8
  %.fca.1.gep.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i, i64 0, i32 1
  %.fca.1.load.i = load <2 x float>, ptr %.fca.1.gep.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i)
  store <2 x float> %.fca.0.load.i, ptr %sigma_a, align 8
  %6 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %sigma_a, i64 0, i32 1
  store <2 x float> %.fca.1.load.i, ptr %6, align 8
  %sigma_s_spec = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 3
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i13)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i13, i8 0, i64 16, i1 false)
  %nStored.i.i14 = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 3, i32 2, i32 3
  %ptr.i.i15 = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 3, i32 2, i32 1
  br label %for.body.i16

for.body.i16:                                     ; preds = %for.inc.i25, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit
  %indvars.iv.i17 = phi i64 [ 0, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit ], [ %indvars.iv.next.i28, %for.inc.i25 ]
  %arrayidx.i.i.i18 = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv.i17
  %7 = load float, ptr %arrayidx.i.i.i18, align 4
  %call.i.i19 = tail call noundef i64 @lroundf(float noundef %7) #25
  %8 = load i32, ptr %sigma_s_spec, align 8
  %9 = trunc i64 %call.i.i19 to i32
  %conv3.i20 = sub i32 %9, %8
  %cmp4.i21 = icmp slt i32 %conv3.i20, 0
  br i1 %cmp4.i21, label %for.inc.i25, label %lor.lhs.false.i22

lor.lhs.false.i22:                                ; preds = %for.body.i16
  %conv5.i23 = zext nneg i32 %conv3.i20 to i64
  %10 = load i64, ptr %nStored.i.i14, align 8
  %cmp7.not.i24 = icmp ugt i64 %10, %conv5.i23
  br i1 %cmp7.not.i24, label %if.else.i35, label %for.inc.i25

if.else.i35:                                      ; preds = %lor.lhs.false.i22
  %11 = load ptr, ptr %ptr.i.i15, align 8
  %arrayidx.i.i36 = getelementptr inbounds float, ptr %11, i64 %conv5.i23
  %12 = load float, ptr %arrayidx.i.i36, align 4
  br label %for.inc.i25

for.inc.i25:                                      ; preds = %if.else.i35, %lor.lhs.false.i22, %for.body.i16
  %.sink.i26 = phi float [ %12, %if.else.i35 ], [ 0.000000e+00, %lor.lhs.false.i22 ], [ 0.000000e+00, %for.body.i16 ]
  %arrayidx.i.i8.i27 = getelementptr inbounds [4 x float], ptr %retval.i13, i64 0, i64 %indvars.iv.i17
  store float %.sink.i26, ptr %arrayidx.i.i8.i27, align 4
  %indvars.iv.next.i28 = add nuw nsw i64 %indvars.iv.i17, 1
  %exitcond.not.i29 = icmp eq i64 %indvars.iv.next.i28, 4
  br i1 %exitcond.not.i29, label %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit37, label %for.body.i16, !llvm.loop !138

_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit37: ; preds = %for.inc.i25
  %.fca.0.load.i30 = load <2 x float>, ptr %retval.i13, align 8
  %.fca.1.gep.i32 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i13, i64 0, i32 1
  %.fca.1.load.i33 = load <2 x float>, ptr %.fca.1.gep.i32, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i13)
  store <2 x float> %.fca.0.load.i30, ptr %sigma_s, align 8
  %13 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %sigma_s, i64 0, i32 1
  store <2 x float> %.fca.1.load.i33, ptr %13, align 8
  %renderFromMedium = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 1
  %call6 = tail call { <2 x float>, float } @_ZNK4pbrt9Transform12ApplyInverseIfEENS_6Point3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %renderFromMedium, <2 x float> %p.coerce0, float %p.coerce1)
  %call6.fca.0.extract = extractvalue { <2 x float>, float } %call6, 0
  %call6.fca.1.extract = extractvalue { <2 x float>, float } %call6, 1
  %agg.tmp.sroa.0.0.copyload.i = load <2 x float>, ptr %this, align 8
  %agg.tmp.sroa.2.0.pMin.sroa_idx.i = getelementptr inbounds i8, ptr %this, i64 8
  %agg.tmp.sroa.2.0.copyload.i = load float, ptr %agg.tmp.sroa.2.0.pMin.sroa_idx.i, align 8
  %14 = fsub <2 x float> %call6.fca.0.extract, %agg.tmp.sroa.0.0.copyload.i
  %sub6.i.i = fsub float %call6.fca.1.extract, %agg.tmp.sroa.2.0.copyload.i
  %pMax.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %this, i64 0, i32 1
  %15 = load float, ptr %pMax.i, align 4
  %16 = extractelement <2 x float> %agg.tmp.sroa.0.0.copyload.i, i64 0
  %cmp.i = fcmp ogt float %15, %16
  %sub.i = fsub float %15, %16
  %17 = extractelement <2 x float> %14, i64 0
  %div.i = fdiv float %17, %sub.i
  %retval.sroa.0.0.vec.insert.i = insertelement <2 x float> %14, float %div.i, i64 0
  %retval.sroa.0.0.i = select i1 %cmp.i, <2 x float> %retval.sroa.0.0.vec.insert.i, <2 x float> %14
  %y.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %this, i64 0, i32 1, i32 0, i32 1
  %18 = load float, ptr %y.i, align 8
  %19 = extractelement <2 x float> %agg.tmp.sroa.0.0.copyload.i, i64 1
  %cmp12.i = fcmp ogt float %18, %19
  %sub18.i = fsub float %18, %19
  %retval.sroa.0.4.vec.extract.i = extractelement <2 x float> %retval.sroa.0.0.i, i64 1
  %div20.i = fdiv float %retval.sroa.0.4.vec.extract.i, %sub18.i
  %retval.sroa.0.4.vec.insert.i = insertelement <2 x float> %retval.sroa.0.0.i, float %div20.i, i64 1
  %retval.sroa.0.1.i = select i1 %cmp12.i, <2 x float> %retval.sroa.0.4.vec.insert.i, <2 x float> %retval.sroa.0.0.i
  %z.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %this, i64 0, i32 1, i32 0, i32 2
  %20 = load float, ptr %z.i, align 4
  %cmp25.i = fcmp ogt float %20, %agg.tmp.sroa.2.0.copyload.i
  %sub31.i = fsub float %20, %agg.tmp.sroa.2.0.copyload.i
  %div33.i = select i1 %cmp25.i, float %sub31.i, float 1.000000e+00
  %retval.sroa.6.0.i = fdiv float %sub6.i.i, %div33.i
  %densityGrid = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 4
  %call15 = tail call noundef float @_ZNK4pbrt11SampledGridIfE6LookupENS_6Point3IfEE(ptr noundef nonnull align 8 dereferenceable(44) %densityGrid, <2 x float> %retval.sroa.0.1.i, float %retval.sroa.6.0.i)
  br label %for.body.i40

for.body.i40:                                     ; preds = %for.body.i40, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit37
  %indvars.iv.i41 = phi i64 [ 0, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit37 ], [ %indvars.iv.next.i43, %for.body.i40 ]
  %arrayidx.i.i42 = getelementptr inbounds [4 x float], ptr %sigma_a, i64 0, i64 %indvars.iv.i41
  %21 = load float, ptr %arrayidx.i.i42, align 4
  %mul.i = fmul float %call15, %21
  store float %mul.i, ptr %arrayidx.i.i42, align 4
  %indvars.iv.next.i43 = add nuw nsw i64 %indvars.iv.i41, 1
  %exitcond.not.i44 = icmp eq i64 %indvars.iv.next.i43, 4
  br i1 %exitcond.not.i44, label %for.body.i45, label %for.body.i40, !llvm.loop !146

for.body.i45:                                     ; preds = %for.body.i40, %for.body.i45
  %indvars.iv.i46 = phi i64 [ %indvars.iv.next.i49, %for.body.i45 ], [ 0, %for.body.i40 ]
  %arrayidx.i.i47 = getelementptr inbounds [4 x float], ptr %sigma_s, i64 0, i64 %indvars.iv.i46
  %22 = load float, ptr %arrayidx.i.i47, align 4
  %mul.i48 = fmul float %call15, %22
  store float %mul.i48, ptr %arrayidx.i.i47, align 4
  %indvars.iv.next.i49 = add nuw nsw i64 %indvars.iv.i46, 1
  %exitcond.not.i50 = icmp eq i64 %indvars.iv.next.i49, 4
  br i1 %exitcond.not.i50, label %_ZN4pbrt15SampledSpectrummLEf.exit51, label %for.body.i45, !llvm.loop !146

_ZN4pbrt15SampledSpectrummLEf.exit51:             ; preds = %for.body.i45
  %isEmissive = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 10
  %23 = load i8, ptr %isEmissive, align 8
  %24 = and i8 %23, 1
  %tobool.not = icmp eq i8 %24, 0
  br i1 %tobool.not, label %if.end48, label %if.then

if.then:                                          ; preds = %_ZN4pbrt15SampledSpectrummLEf.exit51
  %LeScale = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 9
  %call19 = tail call noundef float @_ZNK4pbrt11SampledGridIfE6LookupENS_6Point3IfEE(ptr noundef nonnull align 8 dereferenceable(44) %LeScale, <2 x float> %retval.sroa.0.1.i, float %retval.sroa.6.0.i)
  %cmp = fcmp ogt float %call19, 0.000000e+00
  br i1 %cmp, label %if.then20, label %if.end48

if.then20:                                        ; preds = %if.then
  %set.i = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 7, i32 1
  %25 = load i8, ptr %set.i, align 8
  %26 = and i8 %25, 1
  %tobool.i.not = icmp eq i8 %26, 0
  br i1 %tobool.i.not, label %if.else, label %_ZNK4pstd8optionalIN4pbrt11SampledGridIfEEEptEv.exit

_ZNK4pstd8optionalIN4pbrt11SampledGridIfEEEptEv.exit: ; preds = %if.then20
  %temperatureGrid = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 7
  %call26 = tail call noundef float @_ZNK4pbrt11SampledGridIfE6LookupENS_6Point3IfEE(ptr noundef nonnull align 8 dereferenceable(44) %temperatureGrid, <2 x float> %retval.sroa.0.1.i, float %retval.sroa.6.0.i)
  %temperatureOffset = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 12
  %27 = load float, ptr %temperatureOffset, align 8
  %sub = fsub float %call26, %27
  %temperatureScale = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 11
  %28 = load float, ptr %temperatureScale, align 4
  %mul = fmul float %sub, %28
  %cmp27 = fcmp ogt float %mul, 1.000000e+02
  br i1 %cmp27, label %if.then28, label %if.end48

if.then28:                                        ; preds = %_ZNK4pstd8optionalIN4pbrt11SampledGridIfEEEptEv.exit
  store float %mul, ptr %ref.tmp31, align 4
  %cmp.i.i = fcmp ugt float %mul, 0.000000e+00
  br i1 %cmp.i.i, label %if.end.i.i, label %_ZN4pbrt17BlackbodySpectrumC2Ef.exit

if.end.i.i:                                       ; preds = %if.then28
  %div.i53 = fdiv float 0x3F67BD1180000000, %mul
  %mul.i54 = fmul float %div.i53, 1.000000e+09
  %mul.i.i = fmul float %mul.i54, 0x3E112E0BE0000000
  %mul.i.i.i.i = fmul float %mul.i.i, %mul.i.i
  %mul.i.i.i = fmul float %mul.i.i.i.i, %mul.i.i.i.i
  %mul2.i.i.i = fmul float %mul.i.i, %mul.i.i.i
  %mul1.i.i = fmul float %mul.i.i, 0x3B30B0E6A0000000
  %mul2.i.i = fmul float %mul, %mul1.i.i
  %div.i.i = fdiv float 0x3ACEBD1F40000000, %mul2.i.i
  %mul.i4.i.i = fmul float %div.i.i, 0x3FF7154760000000
  %29 = tail call noundef float @llvm.floor.f32(float %mul.i4.i.i)
  %sub.i.i.i = fsub float %mul.i4.i.i, %29
  %conv.i.i.i = fptosi float %29 to i32
  %30 = tail call noundef float @llvm.fma.f32(float %sub.i.i.i, float 0x3FB4015920000000, float 0x3FCCF34160000000)
  %31 = tail call noundef float @llvm.fma.f32(float %sub.i.i.i, float %30, float 0x3FE6420080000000)
  %32 = tail call noundef float @llvm.fma.f32(float %sub.i.i.i, float %31, float 1.000000e+00)
  %33 = bitcast float %32 to i32
  %shr.i.i.i.i = lshr i32 %33, 23
  %sub.i.i.i.i = add i32 %conv.i.i.i, -127
  %add.i.i.i = add i32 %sub.i.i.i.i, %shr.i.i.i.i
  %cmp.i.i.i = icmp slt i32 %add.i.i.i, -126
  br i1 %cmp.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i.i, label %if.end.i.i.i

if.end.i.i.i:                                     ; preds = %if.end.i.i
  %cmp3.i.i.i = icmp sgt i32 %add.i.i.i, 127
  br i1 %cmp3.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i.i, label %if.end5.i.i.i

if.end5.i.i.i:                                    ; preds = %if.end.i.i.i
  %and.i.i.i = and i32 %33, -2139095041
  %add7.i.i.i = shl nsw i32 %add.i.i.i, 23
  %shl.i.i.i = add i32 %add7.i.i.i, 1065353216
  %or.i.i.i = or i32 %shl.i.i.i, %and.i.i.i
  %34 = bitcast i32 %or.i.i.i to float
  %35 = fadd float %34, -1.000000e+00
  br label %_ZN4pbrt7FastExpEf.exit.i.i

_ZN4pbrt7FastExpEf.exit.i.i:                      ; preds = %if.end5.i.i.i, %if.end.i.i.i, %if.end.i.i
  %retval.0.i.i.i = phi float [ %35, %if.end5.i.i.i ], [ -1.000000e+00, %if.end.i.i ], [ 0x7FF0000000000000, %if.end.i.i.i ]
  %mul4.i.i = fmul float %mul2.i.i.i, %retval.0.i.i.i
  %div5.i.i = fdiv float 0x3CA12A2C20000000, %mul4.i.i
  %36 = fcmp uno float %div5.i.i, 0.000000e+00
  br i1 %36, label %land.rhs.i.i55, label %_ZN4pbrt17BlackbodySpectrumC2Ef.exit

land.rhs.i.i55:                                   ; preds = %_ZN4pbrt7FastExpEf.exit.i.i
  tail call void @_ZN4pbrt8LogFatalIJRA11_KcEEEvNS_8LogLevelEPS1_iS5_DpOT_(i32 noundef 2, ptr noundef nonnull @.str.28, i32 noundef 78, ptr noundef nonnull @.str.18, ptr noundef nonnull align 1 dereferenceable(11) @.str.29) #24
  unreachable

_ZN4pbrt17BlackbodySpectrumC2Ef.exit:             ; preds = %if.then28, %_ZN4pbrt7FastExpEf.exit.i.i
  %retval.0.i.i = phi float [ 0.000000e+00, %if.then28 ], [ %div5.i.i, %_ZN4pbrt7FastExpEf.exit.i.i ]
  %div3.i = fdiv float 1.000000e+00, %retval.0.i.i
  %normalizationFactor.i = getelementptr inbounds %"class.pbrt::BlackbodySpectrum", ptr %ref.tmp31, i64 0, i32 1
  store float %div3.i, ptr %normalizationFactor.i, align 4
  %call32 = call { <2 x float>, <2 x float> } @_ZNK4pbrt17BlackbodySpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 4 dereferenceable(8) %ref.tmp31, ptr noundef nonnull align 4 dereferenceable(32) %lambda)
  %37 = extractvalue { <2 x float>, <2 x float> } %call32, 0
  %38 = extractvalue { <2 x float>, <2 x float> } %call32, 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i)
  store <2 x float> %37, ptr %retval.i.i, align 8
  %ref.tmp30.sroa.2.0.retval.i.i.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i, i64 8
  store <2 x float> %38, ptr %ref.tmp30.sroa.2.0.retval.i.i.sroa_idx, align 8
  br label %for.body.i.i56

for.body.i.i56:                                   ; preds = %for.body.i.i56, %_ZN4pbrt17BlackbodySpectrumC2Ef.exit
  %indvars.iv.i.i57 = phi i64 [ 0, %_ZN4pbrt17BlackbodySpectrumC2Ef.exit ], [ %indvars.iv.next.i.i60, %for.body.i.i56 ]
  %arrayidx.i.i.i58 = getelementptr inbounds [4 x float], ptr %retval.i.i, i64 0, i64 %indvars.iv.i.i57
  %39 = load float, ptr %arrayidx.i.i.i58, align 4
  %mul.i.i59 = fmul float %call19, %39
  store float %mul.i.i59, ptr %arrayidx.i.i.i58, align 4
  %indvars.iv.next.i.i60 = add nuw nsw i64 %indvars.iv.i.i57, 1
  %exitcond.not.i.i61 = icmp eq i64 %indvars.iv.next.i.i60, 4
  br i1 %exitcond.not.i.i61, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit, label %for.body.i.i56, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit:         ; preds = %for.body.i.i56
  %.fca.0.load.i.i = load <2 x float>, ptr %retval.i.i, align 8
  %.fca.1.load.i.i = load <2 x float>, ptr %ref.tmp30.sroa.2.0.retval.i.i.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i)
  br label %if.end48

if.else:                                          ; preds = %if.then20
  %Le_spec = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i62)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i62, i8 0, i64 16, i1 false)
  %nStored.i.i63 = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 8, i32 2, i32 3
  %ptr.i.i64 = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 8, i32 2, i32 1
  br label %for.body.i65

for.body.i65:                                     ; preds = %for.inc.i74, %if.else
  %indvars.iv.i66 = phi i64 [ 0, %if.else ], [ %indvars.iv.next.i77, %for.inc.i74 ]
  %arrayidx.i.i.i67 = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv.i66
  %40 = load float, ptr %arrayidx.i.i.i67, align 4
  %call.i.i68 = tail call noundef i64 @lroundf(float noundef %40) #25
  %41 = load i32, ptr %Le_spec, align 8
  %42 = trunc i64 %call.i.i68 to i32
  %conv3.i69 = sub i32 %42, %41
  %cmp4.i70 = icmp slt i32 %conv3.i69, 0
  br i1 %cmp4.i70, label %for.inc.i74, label %lor.lhs.false.i71

lor.lhs.false.i71:                                ; preds = %for.body.i65
  %conv5.i72 = zext nneg i32 %conv3.i69 to i64
  %43 = load i64, ptr %nStored.i.i63, align 8
  %cmp7.not.i73 = icmp ugt i64 %43, %conv5.i72
  br i1 %cmp7.not.i73, label %if.else.i84, label %for.inc.i74

if.else.i84:                                      ; preds = %lor.lhs.false.i71
  %44 = load ptr, ptr %ptr.i.i64, align 8
  %arrayidx.i.i85 = getelementptr inbounds float, ptr %44, i64 %conv5.i72
  %45 = load float, ptr %arrayidx.i.i85, align 4
  br label %for.inc.i74

for.inc.i74:                                      ; preds = %if.else.i84, %lor.lhs.false.i71, %for.body.i65
  %.sink.i75 = phi float [ %45, %if.else.i84 ], [ 0.000000e+00, %lor.lhs.false.i71 ], [ 0.000000e+00, %for.body.i65 ]
  %arrayidx.i.i8.i76 = getelementptr inbounds [4 x float], ptr %retval.i62, i64 0, i64 %indvars.iv.i66
  store float %.sink.i75, ptr %arrayidx.i.i8.i76, align 4
  %indvars.iv.next.i77 = add nuw nsw i64 %indvars.iv.i66, 1
  %exitcond.not.i78 = icmp eq i64 %indvars.iv.next.i77, 4
  br i1 %exitcond.not.i78, label %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit86, label %for.body.i65, !llvm.loop !138

_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit86: ; preds = %for.inc.i74
  %.fca.0.load.i79 = load <2 x float>, ptr %retval.i62, align 8
  %.fca.1.gep.i81 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i62, i64 0, i32 1
  %.fca.1.load.i82 = load <2 x float>, ptr %.fca.1.gep.i81, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i62)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i87)
  store <2 x float> %.fca.0.load.i79, ptr %retval.i.i87, align 8
  %ref.tmp39.sroa.2.0.retval.i.i87.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i87, i64 8
  store <2 x float> %.fca.1.load.i82, ptr %ref.tmp39.sroa.2.0.retval.i.i87.sroa_idx, align 8
  br label %for.body.i.i88

for.body.i.i88:                                   ; preds = %for.body.i.i88, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit86
  %indvars.iv.i.i89 = phi i64 [ 0, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit86 ], [ %indvars.iv.next.i.i92, %for.body.i.i88 ]
  %arrayidx.i.i.i90 = getelementptr inbounds [4 x float], ptr %retval.i.i87, i64 0, i64 %indvars.iv.i.i89
  %46 = load float, ptr %arrayidx.i.i.i90, align 4
  %mul.i.i91 = fmul float %call19, %46
  store float %mul.i.i91, ptr %arrayidx.i.i.i90, align 4
  %indvars.iv.next.i.i92 = add nuw nsw i64 %indvars.iv.i.i89, 1
  %exitcond.not.i.i93 = icmp eq i64 %indvars.iv.next.i.i92, 4
  br i1 %exitcond.not.i.i93, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit99, label %for.body.i.i88, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit99:       ; preds = %for.body.i.i88
  %.fca.0.load.i.i94 = load <2 x float>, ptr %retval.i.i87, align 8
  %.fca.1.load.i.i97 = load <2 x float>, ptr %ref.tmp39.sroa.2.0.retval.i.i87.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i87)
  br label %if.end48

if.end48:                                         ; preds = %if.then, %_ZNK4pstd8optionalIN4pbrt11SampledGridIfEEEptEv.exit, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit99, %_ZN4pbrt15SampledSpectrummLEf.exit51
  %Le.sroa.5.0 = phi <2 x float> [ zeroinitializer, %_ZN4pbrt15SampledSpectrummLEf.exit51 ], [ %.fca.1.load.i.i97, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit99 ], [ %.fca.1.load.i.i, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit ], [ zeroinitializer, %_ZNK4pstd8optionalIN4pbrt11SampledGridIfEEEptEv.exit ], [ zeroinitializer, %if.then ]
  %Le.sroa.0.0 = phi <2 x float> [ zeroinitializer, %_ZN4pbrt15SampledSpectrummLEf.exit51 ], [ %.fca.0.load.i.i94, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit99 ], [ %.fca.0.load.i.i, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit ], [ zeroinitializer, %_ZNK4pstd8optionalIN4pbrt11SampledGridIfEEEptEv.exit ], [ zeroinitializer, %if.then ]
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %agg.result, ptr noundef nonnull align 8 dereferenceable(16) %sigma_a, i64 16, i1 false)
  %sigma_s50 = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.result, i64 0, i32 1
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %sigma_s50, ptr noundef nonnull align 8 dereferenceable(16) %sigma_s, i64 16, i1 false)
  %phase = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.result, i64 0, i32 2
  %phase51 = getelementptr inbounds %"class.pbrt::GridMedium", ptr %this, i64 0, i32 5
  %47 = ptrtoint ptr %phase51 to i64
  %or.i.i = or i64 %47, 144115188075855872
  store i64 %or.i.i, ptr %phase, align 8
  %Le52 = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.result, i64 0, i32 3
  store <2 x float> %Le.sroa.0.0, ptr %Le52, align 8
  %Le.sroa.5.0.Le52.sroa_idx = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.result, i64 0, i32 3, i32 0, i32 0, i64 2
  store <2 x float> %Le.sroa.5.0, ptr %Le.sroa.5.0.Le52.sroa_idx, align 8
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt19DDAMajorantIteratorC2ENS_3RayEffPKNS_12MajorantGridENS_15SampledSpectrumE(ptr noundef nonnull align 8 dereferenceable(92) %this, ptr noundef %ray, float noundef %tMin, float noundef %tMax, ptr noundef %grid, <2 x float> %sigma_t.coerce0, <2 x float> %sigma_t.coerce1) unnamed_addr #9 comdat align 2 {
entry:
  %rayGrid.sroa.5 = alloca <2 x float>, align 8
  %rayGrid.sroa.20 = alloca float, align 4
  store <2 x float> %sigma_t.coerce0, ptr %this, align 8
  %sigma_t.sroa.2.0.sigma_t2.sroa_idx = getelementptr inbounds i8, ptr %this, i64 8
  store <2 x float> %sigma_t.coerce1, ptr %sigma_t.sroa.2.0.sigma_t2.sroa_idx, align 8
  %tMin3 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 1
  store float %tMin, ptr %tMin3, align 8
  %tMax4 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 2
  store float %tMax, ptr %tMax4, align 4
  %grid5 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 3
  store ptr %grid, ptr %grid5, align 8
  %pMax.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %grid, i64 0, i32 1
  %agg.tmp.sroa.0.0.copyload.i = load <2 x float>, ptr %grid, align 4
  %agg.tmp.sroa.2.0.pMin.sroa_idx.i = getelementptr inbounds i8, ptr %grid, i64 8
  %agg.tmp.sroa.2.0.copyload.i = load float, ptr %agg.tmp.sroa.2.0.pMin.sroa_idx.i, align 4
  %z.i.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %grid, i64 0, i32 1, i32 0, i32 2
  %0 = load float, ptr %z.i.i, align 4
  %sub6.i.i = fsub float %0, %agg.tmp.sroa.2.0.copyload.i
  %agg.tmp8.sroa.0.0.copyload = load <2 x float>, ptr %ray, align 8
  %agg.tmp8.sroa.2.0.o.sroa_idx = getelementptr inbounds i8, ptr %ray, i64 8
  %agg.tmp8.sroa.2.0.copyload = load float, ptr %agg.tmp8.sroa.2.0.o.sroa_idx, align 8
  %1 = fsub <2 x float> %agg.tmp8.sroa.0.0.copyload, %agg.tmp.sroa.0.0.copyload.i
  %sub6.i.i45 = fsub float %agg.tmp8.sroa.2.0.copyload, %agg.tmp.sroa.2.0.copyload.i
  %cmp25.i = fcmp ogt float %0, %agg.tmp.sroa.2.0.copyload.i
  %div33.i = select i1 %cmp25.i, float %sub6.i.i, float 1.000000e+00
  %retval.sroa.6.0.i = fdiv float %sub6.i.i45, %div33.i
  %d = getelementptr inbounds %"class.pbrt::Ray", ptr %ray, i64 0, i32 1
  %2 = load <2 x float>, ptr %pMax.i, align 4
  %3 = fsub <2 x float> %2, %agg.tmp.sroa.0.0.copyload.i
  %4 = fcmp ogt <2 x float> %2, %agg.tmp.sroa.0.0.copyload.i
  %5 = select <2 x i1> %4, <2 x float> %3, <2 x float> <float 1.000000e+00, float poison>
  %sel = fdiv <2 x float> %1, %5
  %6 = select <2 x i1> %4, <2 x float> %3, <2 x float> <float poison, float 1.000000e+00>
  %sel319 = fdiv <2 x float> %1, %6
  %v.sroa.0.0.vec.extract.i = extractelement <2 x float> %sel, i64 0
  %v.sroa.0.4.vec.extract.i = extractelement <2 x float> %sel319, i64 1
  %7 = load <2 x float>, ptr %d, align 4
  %8 = fdiv <2 x float> %7, %3
  %z = getelementptr inbounds %"class.pbrt::Ray", ptr %ray, i64 0, i32 1, i32 0, i32 2
  %9 = load float, ptr %z, align 4
  %div19 = fdiv float %9, %sub6.i.i
  store <2 x float> %8, ptr %rayGrid.sroa.5, align 8
  store float %div19, ptr %rayGrid.sroa.20, align 4
  %10 = extractelement <2 x float> %8, i64 0
  %mul.i.i = fmul float %10, %tMin
  %rayGrid.sroa.5.4.y.i.i51.sroa_idx = getelementptr inbounds i8, ptr %rayGrid.sroa.5, i64 4
  %rayGrid.sroa.5.4.y.i.i51.sroa_idx320 = getelementptr inbounds i8, ptr %rayGrid.sroa.5, i64 4
  %rayGrid.sroa.5.4.y.i.i51.sroa_idx321 = getelementptr inbounds i8, ptr %rayGrid.sroa.5, i64 4
  %11 = extractelement <2 x float> %8, i64 1
  %mul2.i.i = fmul float %11, %tMin
  %mul3.i.i = fmul float %div19, %tMin
  %add.i.i = fadd float %mul.i.i, %v.sroa.0.0.vec.extract.i
  %add4.i.i = fadd float %mul2.i.i, %v.sroa.0.4.vec.extract.i
  %add6.i.i = fadd float %retval.sroa.6.0.i, %mul3.i.i
  %res = getelementptr inbounds %"struct.pbrt::MajorantGrid", ptr %grid, i64 0, i32 2
  %y.i56 = getelementptr inbounds %"struct.pbrt::MajorantGrid", ptr %grid, i64 0, i32 2, i32 0, i32 1
  %arrayidx = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 8, i64 1
  %arrayidx39 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 5, i64 1
  %z.i59 = getelementptr inbounds %"struct.pbrt::MajorantGrid", ptr %grid, i64 0, i32 2, i32 0, i32 2
  %rayGrid.sroa.5.4.y.i.i51.sroa_idx322 = getelementptr inbounds i8, ptr %rayGrid.sroa.5, i64 4
  %rayGrid.sroa.5.4.y.i.i51.sroa_idx323 = getelementptr inbounds i8, ptr %rayGrid.sroa.5, i64 4
  br label %for.body

for.body:                                         ; preds = %entry, %for.inc
  %indvars.iv = phi i64 [ 0, %entry ], [ %indvars.iv.next, %for.inc ]
  %12 = trunc i64 %indvars.iv to i32
  switch i32 %12, label %if.end4.i84 [
    i32 0, label %_ZNK4pbrt6Tuple3INS_6Point3EiEixEi.exit80.thread243
    i32 1, label %if.then3.i81
  ]

_ZNK4pbrt6Tuple3INS_6Point3EiEixEi.exit80.thread243: ; preds = %for.body
  %retval.0.i57177 = load i32, ptr %res, align 4
  %conv178 = sitofp i32 %retval.0.i57177 to float
  %mul179 = fmul float %add.i.i, %conv178
  %sub204 = add nsw i32 %retval.0.i57177, -1
  %cmp.i67205 = fcmp olt float %mul179, 0.000000e+00
  %conv2.i206 = sitofp i32 %sub204 to float
  %cmp3.i207 = fcmp ogt float %mul179, %conv2.i206
  %conv2.val.i208 = select i1 %cmp3.i207, float %conv2.i206, float %mul179
  %retval.0.i68209 = select i1 %cmp.i67205, float 0.000000e+00, float %conv2.val.i208
  %conv29210 = fptosi float %retval.0.i68209 to i32
  %arrayidx212 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 8, i64 %indvars.iv
  store i32 %conv29210, ptr %arrayidx212, align 4
  %rayGrid.sroa.5.0.rayGrid.sroa.5.0. = load float, ptr %rayGrid.sroa.5, align 8
  %13 = tail call noundef float @llvm.fabs.f32(float %rayGrid.sroa.5.0.rayGrid.sroa.5.0.)
  %retval.0.i77248 = load i32, ptr %res, align 4
  %conv35249 = sitofp i32 %retval.0.i77248 to float
  %mul36250 = fmul float %13, %conv35249
  %div37251 = fdiv float 1.000000e+00, %mul36250
  %arrayidx39252 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 5, i64 %indvars.iv
  store float %div37251, ptr %arrayidx39252, align 4
  br label %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit86

if.then3.i81:                                     ; preds = %for.body
  %retval.0.i57 = load i32, ptr %y.i56, align 4
  %conv = sitofp i32 %retval.0.i57 to float
  %mul = fmul float %add4.i.i, %conv
  %sub = add nsw i32 %retval.0.i57, -1
  %cmp.i67 = fcmp olt float %mul, 0.000000e+00
  %conv2.i = sitofp i32 %sub to float
  %cmp3.i = fcmp ogt float %mul, %conv2.i
  %conv2.val.i = select i1 %cmp3.i, float %conv2.i, float %mul
  %retval.0.i68 = select i1 %cmp.i67, float 0.000000e+00, float %conv2.val.i
  %conv29 = fptosi float %retval.0.i68 to i32
  store i32 %conv29, ptr %arrayidx, align 4
  %rayGrid.sroa.5.4.rayGrid.sroa.5.4. = load float, ptr %rayGrid.sroa.5.4.y.i.i51.sroa_idx322, align 4
  %14 = tail call noundef float @llvm.fabs.f32(float %rayGrid.sroa.5.4.rayGrid.sroa.5.4.)
  %retval.0.i77 = load i32, ptr %y.i56, align 4
  %conv35 = sitofp i32 %retval.0.i77 to float
  %mul36 = fmul float %14, %conv35
  %div37 = fdiv float 1.000000e+00, %mul36
  store float %div37, ptr %arrayidx39, align 8
  br label %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit86

if.end4.i84:                                      ; preds = %for.body
  %retval.0.i57166 = load i32, ptr %z.i59, align 4
  %conv167 = sitofp i32 %retval.0.i57166 to float
  %mul168 = fmul float %add6.i.i, %conv167
  %sub184 = add nsw i32 %retval.0.i57166, -1
  %cmp.i67185 = fcmp olt float %mul168, 0.000000e+00
  %conv2.i186 = sitofp i32 %sub184 to float
  %cmp3.i187 = fcmp ogt float %mul168, %conv2.i186
  %conv2.val.i188 = select i1 %cmp3.i187, float %conv2.i186, float %mul168
  %retval.0.i68189 = select i1 %cmp.i67185, float 0.000000e+00, float %conv2.val.i188
  %conv29190 = fptosi float %retval.0.i68189 to i32
  %arrayidx192 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 8, i64 %indvars.iv
  store i32 %conv29190, ptr %arrayidx192, align 4
  %rayGrid.sroa.20.0.rayGrid.sroa.20.0. = load float, ptr %rayGrid.sroa.20, align 4
  %15 = tail call noundef float @llvm.fabs.f32(float %rayGrid.sroa.20.0.rayGrid.sroa.20.0.)
  %retval.0.i77232 = load i32, ptr %z.i59, align 4
  %conv35233 = sitofp i32 %retval.0.i77232 to float
  %mul36234 = fmul float %15, %conv35233
  %div37235 = fdiv float 1.000000e+00, %mul36234
  %arrayidx39236 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 5, i64 %indvars.iv
  store float %div37235, ptr %arrayidx39236, align 4
  br label %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit86

_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit86:        ; preds = %_ZNK4pbrt6Tuple3INS_6Point3EiEixEi.exit80.thread243, %if.then3.i81, %if.end4.i84
  %16 = phi i32 [ %conv29, %if.then3.i81 ], [ %conv29190, %if.end4.i84 ], [ %conv29210, %_ZNK4pbrt6Tuple3INS_6Point3EiEixEi.exit80.thread243 ]
  %17 = phi float [ %rayGrid.sroa.5.4.rayGrid.sroa.5.4., %if.then3.i81 ], [ %rayGrid.sroa.20.0.rayGrid.sroa.20.0., %if.end4.i84 ], [ %rayGrid.sroa.5.0.rayGrid.sroa.5.0., %_ZNK4pbrt6Tuple3INS_6Point3EiEixEi.exit80.thread243 ]
  %idxprom195219239 = phi i64 [ 1, %if.then3.i81 ], [ 2, %if.end4.i84 ], [ 0, %_ZNK4pbrt6Tuple3INS_6Point3EiEixEi.exit80.thread243 ]
  %cmp42 = fcmp oeq float %17, 0.000000e+00
  br i1 %cmp42, label %if.then, label %if.end

if.then:                                          ; preds = %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit86
  switch i32 %12, label %if.end4.i90 [
    i32 0, label %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit92
    i32 1, label %if.then3.i87
  ]

if.then3.i87:                                     ; preds = %if.then
  br label %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit92

if.end4.i90:                                      ; preds = %if.then
  br label %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit92

_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit92:        ; preds = %if.then, %if.then3.i87, %if.end4.i90
  %retval.0.i89 = phi ptr [ %rayGrid.sroa.5.4.y.i.i51.sroa_idx, %if.then3.i87 ], [ %rayGrid.sroa.20, %if.end4.i90 ], [ %rayGrid.sroa.5, %if.then ]
  store float 0.000000e+00, ptr %retval.0.i89, align 4
  br label %if.end

if.end:                                           ; preds = %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit92, %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit86
  switch i32 %12, label %if.end4.i96 [
    i32 0, label %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit98
    i32 1, label %if.then3.i93
  ]

if.then3.i93:                                     ; preds = %if.end
  br label %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit98

if.end4.i96:                                      ; preds = %if.end
  br label %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit98

_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit98:        ; preds = %if.end, %if.then3.i93, %if.end4.i96
  %retval.0.i95 = phi ptr [ %rayGrid.sroa.5.4.y.i.i51.sroa_idx320, %if.then3.i93 ], [ %rayGrid.sroa.20, %if.end4.i96 ], [ %rayGrid.sroa.5, %if.end ]
  %18 = load float, ptr %retval.0.i95, align 4
  %cmp47 = fcmp ult float %18, 0.000000e+00
  br i1 %cmp47, label %if.else, label %if.then48

if.then48:                                        ; preds = %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit98
  %add = add nsw i32 %16, 1
  %conv52 = sitofp i32 %add to float
  %arrayidx64277 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 4, i64 %idxprom195219239
  %arrayidx66278 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 6, i64 %idxprom195219239
  switch i32 %12, label %if.end4.i122 [
    i32 0, label %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit117.thread279
    i32 1, label %if.then3.i118
  ]

_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit117.thread279: ; preds = %if.then48
  %retval.0.i102261 = load i32, ptr %res, align 4
  %conv55262 = sitofp i32 %retval.0.i102261 to float
  %div56263 = fdiv float %conv52, %conv55262
  %sub58272 = fsub float %div56263, %add.i.i
  %rayGrid.sroa.5.0.rayGrid.sroa.5.0.309 = load float, ptr %rayGrid.sroa.5, align 8
  %div61282 = fdiv float %sub58272, %rayGrid.sroa.5.0.rayGrid.sroa.5.0.309
  br label %_ZNK4pbrt6Tuple3INS_6Point3EiEixEi.exit124

if.then3.i118:                                    ; preds = %if.then48
  %retval.0.i102 = load i32, ptr %y.i56, align 4
  %conv55 = sitofp i32 %retval.0.i102 to float
  %div56 = fdiv float %conv52, %conv55
  %sub58 = fsub float %div56, %add4.i.i
  %rayGrid.sroa.5.4.rayGrid.sroa.5.4.316 = load float, ptr %rayGrid.sroa.5.4.y.i.i51.sroa_idx323, align 4
  %div61 = fdiv float %sub58, %rayGrid.sroa.5.4.rayGrid.sroa.5.4.316
  br label %_ZNK4pbrt6Tuple3INS_6Point3EiEixEi.exit124

if.end4.i122:                                     ; preds = %if.then48
  %retval.0.i102254 = load i32, ptr %z.i59, align 4
  %conv55255 = sitofp i32 %retval.0.i102254 to float
  %div56256 = fdiv float %conv52, %conv55255
  %sub58266 = fsub float %div56256, %add6.i.i
  %rayGrid.sroa.20.0.rayGrid.sroa.20.0.308 = load float, ptr %rayGrid.sroa.20, align 4
  %div61275 = fdiv float %sub58266, %rayGrid.sroa.20.0.rayGrid.sroa.20.0.308
  br label %_ZNK4pbrt6Tuple3INS_6Point3EiEixEi.exit124

_ZNK4pbrt6Tuple3INS_6Point3EiEixEi.exit124:       ; preds = %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit117.thread279, %if.then3.i118, %if.end4.i122
  %div61282.sink = phi float [ %div61282, %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit117.thread279 ], [ %div61, %if.then3.i118 ], [ %div61275, %if.end4.i122 ]
  %retval.0.in.i120 = phi ptr [ %res, %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit117.thread279 ], [ %y.i56, %if.then3.i118 ], [ %z.i59, %if.end4.i122 ]
  %add62283 = fadd float %div61282.sink, %tMin
  store float %add62283, ptr %arrayidx64277, align 4
  store i32 1, ptr %arrayidx66278, align 4
  %retval.0.i121 = load i32, ptr %retval.0.in.i120, align 4
  br label %for.inc

if.else:                                          ; preds = %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit98
  %conv75 = sitofp i32 %16 to float
  switch i32 %12, label %if.end4.i141 [
    i32 0, label %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit143
    i32 1, label %if.then3.i138
  ]

if.then3.i138:                                    ; preds = %if.else
  br label %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit143

if.end4.i141:                                     ; preds = %if.else
  br label %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit143

_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit143:       ; preds = %if.else, %if.then3.i138, %if.end4.i141
  %res.sink = phi ptr [ %y.i56, %if.then3.i138 ], [ %z.i59, %if.end4.i141 ], [ %res, %if.else ]
  %add.i.i.sink = phi float [ %add4.i.i, %if.then3.i138 ], [ %add6.i.i, %if.end4.i141 ], [ %add.i.i, %if.else ]
  %retval.0.i140 = phi ptr [ %rayGrid.sroa.5.4.y.i.i51.sroa_idx321, %if.then3.i138 ], [ %rayGrid.sroa.20, %if.end4.i141 ], [ %rayGrid.sroa.5, %if.else ]
  %retval.0.i128294 = load i32, ptr %res.sink, align 4
  %conv78295 = sitofp i32 %retval.0.i128294 to float
  %div79296 = fdiv float %conv75, %conv78295
  %sub81305 = fsub float %div79296, %add.i.i.sink
  %19 = load float, ptr %retval.0.i140, align 4
  %div84 = fdiv float %sub81305, %19
  %add85 = fadd float %div84, %tMin
  %arrayidx88 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 4, i64 %idxprom195219239
  store float %add85, ptr %arrayidx88, align 4
  %arrayidx91 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 6, i64 %idxprom195219239
  store i32 -1, ptr %arrayidx91, align 4
  br label %for.inc

for.inc:                                          ; preds = %_ZNK4pbrt6Tuple3INS_6Point3EiEixEi.exit124, %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit143
  %retval.0.i121.sink = phi i32 [ %retval.0.i121, %_ZNK4pbrt6Tuple3INS_6Point3EiEixEi.exit124 ], [ -1, %_ZN4pbrt6Tuple3INS_7Vector3EfEixEi.exit143 ]
  %arrayidx70 = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %this, i64 0, i32 7, i64 %idxprom195219239
  store i32 %retval.0.i121.sink, ptr %arrayidx70, align 4
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %exitcond.not = icmp eq i64 %indvars.iv.next, 3
  br i1 %exitcond.not, label %for.end, label %for.body, !llvm.loop !147

for.end:                                          ; preds = %for.inc
  ret void
}

declare void @_ZNK4pbrt9Transform12ApplyInverseERKNS_8Point3fiE(ptr sret(%"class.pbrt::Point3fi") align 4, ptr noundef nonnull align 4 dereferenceable(128), ptr noundef nonnull align 4 dereferenceable(24)) local_unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local { <2 x float>, float } @_ZNK4pbrt9Transform12ApplyInverseIfEENS_7Vector3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %this, <2 x float> %v.coerce0, float %v.coerce1) local_unnamed_addr #9 comdat align 2 {
entry:
  %0 = extractelement <2 x float> %v.coerce0, i64 1
  %1 = extractelement <2 x float> %v.coerce0, i64 0
  %mInv = getelementptr inbounds %"class.pbrt::Transform", ptr %this, i64 0, i32 1
  %call = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 0)
  %2 = extractvalue { ptr, i64 } %call, 0
  %3 = load float, ptr %2, align 4
  %call8 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 0)
  %4 = extractvalue { ptr, i64 } %call8, 0
  %arrayidx.i = getelementptr inbounds float, ptr %4, i64 1
  %5 = load float, ptr %arrayidx.i, align 4
  %call13 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 0)
  %6 = extractvalue { ptr, i64 } %call13, 0
  %arrayidx.i7 = getelementptr inbounds float, ptr %6, i64 2
  %7 = load float, ptr %arrayidx.i7, align 4
  %call19 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 1)
  %8 = extractvalue { ptr, i64 } %call19, 0
  %9 = load float, ptr %8, align 4
  %call24 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 1)
  %10 = extractvalue { ptr, i64 } %call24, 0
  %arrayidx.i8 = getelementptr inbounds float, ptr %10, i64 1
  %11 = load float, ptr %arrayidx.i8, align 4
  %call30 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 1)
  %12 = extractvalue { ptr, i64 } %call30, 0
  %arrayidx.i9 = getelementptr inbounds float, ptr %12, i64 2
  %13 = load float, ptr %arrayidx.i9, align 4
  %14 = insertelement <2 x float> poison, float %9, i64 0
  %15 = insertelement <2 x float> %14, float %5, i64 1
  %16 = fmul <2 x float> %15, %v.coerce0
  %17 = shufflevector <2 x float> %16, <2 x float> poison, <2 x i32> <i32 1, i32 0>
  %18 = insertelement <2 x float> poison, float %3, i64 0
  %19 = insertelement <2 x float> %18, float %11, i64 1
  %20 = fmul <2 x float> %19, %v.coerce0
  %21 = fadd <2 x float> %17, %20
  %22 = insertelement <2 x float> poison, float %7, i64 0
  %23 = insertelement <2 x float> %22, float %13, i64 1
  %24 = insertelement <2 x float> poison, float %v.coerce1, i64 0
  %25 = shufflevector <2 x float> %24, <2 x float> poison, <2 x i32> zeroinitializer
  %26 = fmul <2 x float> %23, %25
  %27 = fadd <2 x float> %21, %26
  %call36 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 2)
  %28 = extractvalue { ptr, i64 } %call36, 0
  %29 = load float, ptr %28, align 4
  %mul38 = fmul float %1, %29
  %call41 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 2)
  %30 = extractvalue { ptr, i64 } %call41, 0
  %arrayidx.i10 = getelementptr inbounds float, ptr %30, i64 1
  %31 = load float, ptr %arrayidx.i10, align 4
  %mul43 = fmul float %0, %31
  %add44 = fadd float %mul38, %mul43
  %call47 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 2)
  %32 = extractvalue { ptr, i64 } %call47, 0
  %arrayidx.i11 = getelementptr inbounds float, ptr %32, i64 2
  %33 = load float, ptr %arrayidx.i11, align 4
  %mul49 = fmul float %33, %v.coerce1
  %add50 = fadd float %add44, %mul49
  %.fca.0.insert = insertvalue { <2 x float>, float } poison, <2 x float> %27, 0
  %.fca.1.insert = insertvalue { <2 x float>, float } %.fca.0.insert, float %add50, 1
  ret { <2 x float>, float } %.fca.1.insert
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local noundef nonnull align 4 dereferenceable(24) ptr @_ZN4pbrt8Point3fipLIfEERS0_NS_7Vector3IT_EE(ptr noundef nonnull align 4 dereferenceable(24) %this, <2 x float> %v.coerce0, float %v.coerce1) local_unnamed_addr #9 comdat align 2 {
entry:
  %v.sroa.0.0.vec.extract = extractelement <2 x float> %v.coerce0, i64 0
  %0 = load float, ptr %this, align 4
  %add.i.i.i.i = fadd float %v.sroa.0.0.vec.extract, %0
  %or.cond.i.i.i.i.i = fcmp oeq float %add.i.i.i.i, 0xFFF0000000000000
  br i1 %or.cond.i.i.i.i.i, label %_ZN4pbrt12AddRoundDownEff.exit.i.i.i, label %if.end.i.i.i.i.i

if.end.i.i.i.i.i:                                 ; preds = %entry
  %cmp1.i.i.i.i.i = fcmp oeq float %add.i.i.i.i, 0.000000e+00
  %v.addr.0.i.i.i.i.i = select i1 %cmp1.i.i.i.i.i, float -0.000000e+00, float %add.i.i.i.i
  %1 = bitcast float %v.addr.0.i.i.i.i.i to i32
  %cmp5.i.i.i.i.i = fcmp ogt float %v.addr.0.i.i.i.i.i, 0.000000e+00
  %ui.0.v.i.i.i.i.i = select i1 %cmp5.i.i.i.i.i, i32 -1, i32 1
  %ui.0.i.i.i.i.i = add i32 %ui.0.v.i.i.i.i.i, %1
  %2 = bitcast i32 %ui.0.i.i.i.i.i to float
  br label %_ZN4pbrt12AddRoundDownEff.exit.i.i.i

_ZN4pbrt12AddRoundDownEff.exit.i.i.i:             ; preds = %if.end.i.i.i.i.i, %entry
  %retval.0.i.i.i.i.i = phi float [ %2, %if.end.i.i.i.i.i ], [ 0xFFF0000000000000, %entry ]
  %high.i.i.i = getelementptr inbounds %"class.pbrt::Interval", ptr %this, i64 0, i32 1
  %3 = load float, ptr %high.i.i.i, align 4
  %add.i1.i.i.i = fadd float %v.sroa.0.0.vec.extract, %3
  %or.cond.i.i2.i.i.i = fcmp oeq float %add.i1.i.i.i, 0x7FF0000000000000
  br i1 %or.cond.i.i2.i.i.i, label %_ZN4pbrt8IntervalpLEf.exit, label %if.end.i.i3.i.i.i

if.end.i.i3.i.i.i:                                ; preds = %_ZN4pbrt12AddRoundDownEff.exit.i.i.i
  %cmp1.i.i4.i.i.i = fcmp oeq float %add.i1.i.i.i, 0.000000e+00
  %v.addr.0.i.i5.i.i.i = select i1 %cmp1.i.i4.i.i.i, float 0.000000e+00, float %add.i1.i.i.i
  %4 = bitcast float %v.addr.0.i.i5.i.i.i to i32
  %cmp5.i.i6.i.i.i = fcmp ult float %v.addr.0.i.i5.i.i.i, 0.000000e+00
  %ui.0.v.i.i7.i.i.i = select i1 %cmp5.i.i6.i.i.i, i32 -1, i32 1
  %ui.0.i.i8.i.i.i = add i32 %ui.0.v.i.i7.i.i.i, %4
  %5 = bitcast i32 %ui.0.i.i8.i.i.i to float
  br label %_ZN4pbrt8IntervalpLEf.exit

_ZN4pbrt8IntervalpLEf.exit:                       ; preds = %_ZN4pbrt12AddRoundDownEff.exit.i.i.i, %if.end.i.i3.i.i.i
  %retval.0.i.i9.i.i.i = phi float [ %5, %if.end.i.i3.i.i.i ], [ 0x7FF0000000000000, %_ZN4pbrt12AddRoundDownEff.exit.i.i.i ]
  %cmp.i.i.i.i.i = fcmp olt float %retval.0.i.i9.i.i.i, %retval.0.i.i.i.i.i
  %.sroa.speculated6.i.i.i.i = select i1 %cmp.i.i.i.i.i, float %retval.0.i.i9.i.i.i, float %retval.0.i.i.i.i.i
  %retval.sroa.0.0.vec.insert.i.i.i = insertelement <2 x float> poison, float %.sroa.speculated6.i.i.i.i, i64 0
  %cmp.i1.i.i.i.i = fcmp olt float %retval.0.i.i.i.i.i, %retval.0.i.i9.i.i.i
  %.sroa.speculated.i.i.i.i = select i1 %cmp.i1.i.i.i.i, float %retval.0.i.i9.i.i.i, float %retval.0.i.i.i.i.i
  %retval.sroa.0.4.vec.insert.i.i.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i.i.i, float %.sroa.speculated.i.i.i.i, i64 1
  store <2 x float> %retval.sroa.0.4.vec.insert.i.i.i, ptr %this, align 4
  %v.sroa.0.4.vec.extract = extractelement <2 x float> %v.coerce0, i64 1
  %y3 = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %this, i64 0, i32 1
  %6 = load float, ptr %y3, align 4
  %add.i.i.i.i1 = fadd float %v.sroa.0.4.vec.extract, %6
  %or.cond.i.i.i.i.i2 = fcmp oeq float %add.i.i.i.i1, 0xFFF0000000000000
  br i1 %or.cond.i.i.i.i.i2, label %_ZN4pbrt12AddRoundDownEff.exit.i.i.i9, label %if.end.i.i.i.i.i3

if.end.i.i.i.i.i3:                                ; preds = %_ZN4pbrt8IntervalpLEf.exit
  %cmp1.i.i.i.i.i4 = fcmp oeq float %add.i.i.i.i1, 0.000000e+00
  %v.addr.0.i.i.i.i.i5 = select i1 %cmp1.i.i.i.i.i4, float -0.000000e+00, float %add.i.i.i.i1
  %7 = bitcast float %v.addr.0.i.i.i.i.i5 to i32
  %cmp5.i.i.i.i.i6 = fcmp ogt float %v.addr.0.i.i.i.i.i5, 0.000000e+00
  %ui.0.v.i.i.i.i.i7 = select i1 %cmp5.i.i.i.i.i6, i32 -1, i32 1
  %ui.0.i.i.i.i.i8 = add i32 %ui.0.v.i.i.i.i.i7, %7
  %8 = bitcast i32 %ui.0.i.i.i.i.i8 to float
  br label %_ZN4pbrt12AddRoundDownEff.exit.i.i.i9

_ZN4pbrt12AddRoundDownEff.exit.i.i.i9:            ; preds = %if.end.i.i.i.i.i3, %_ZN4pbrt8IntervalpLEf.exit
  %retval.0.i.i.i.i.i10 = phi float [ %8, %if.end.i.i.i.i.i3 ], [ 0xFFF0000000000000, %_ZN4pbrt8IntervalpLEf.exit ]
  %high.i.i.i11 = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %this, i64 0, i32 1, i32 1
  %9 = load float, ptr %high.i.i.i11, align 4
  %add.i1.i.i.i12 = fadd float %v.sroa.0.4.vec.extract, %9
  %or.cond.i.i2.i.i.i13 = fcmp oeq float %add.i1.i.i.i12, 0x7FF0000000000000
  br i1 %or.cond.i.i2.i.i.i13, label %_ZN4pbrt8IntervalpLEf.exit27, label %if.end.i.i3.i.i.i14

if.end.i.i3.i.i.i14:                              ; preds = %_ZN4pbrt12AddRoundDownEff.exit.i.i.i9
  %cmp1.i.i4.i.i.i15 = fcmp oeq float %add.i1.i.i.i12, 0.000000e+00
  %v.addr.0.i.i5.i.i.i16 = select i1 %cmp1.i.i4.i.i.i15, float 0.000000e+00, float %add.i1.i.i.i12
  %10 = bitcast float %v.addr.0.i.i5.i.i.i16 to i32
  %cmp5.i.i6.i.i.i17 = fcmp ult float %v.addr.0.i.i5.i.i.i16, 0.000000e+00
  %ui.0.v.i.i7.i.i.i18 = select i1 %cmp5.i.i6.i.i.i17, i32 -1, i32 1
  %ui.0.i.i8.i.i.i19 = add i32 %ui.0.v.i.i7.i.i.i18, %10
  %11 = bitcast i32 %ui.0.i.i8.i.i.i19 to float
  br label %_ZN4pbrt8IntervalpLEf.exit27

_ZN4pbrt8IntervalpLEf.exit27:                     ; preds = %_ZN4pbrt12AddRoundDownEff.exit.i.i.i9, %if.end.i.i3.i.i.i14
  %retval.0.i.i9.i.i.i20 = phi float [ %11, %if.end.i.i3.i.i.i14 ], [ 0x7FF0000000000000, %_ZN4pbrt12AddRoundDownEff.exit.i.i.i9 ]
  %cmp.i.i.i.i.i21 = fcmp olt float %retval.0.i.i9.i.i.i20, %retval.0.i.i.i.i.i10
  %.sroa.speculated6.i.i.i.i22 = select i1 %cmp.i.i.i.i.i21, float %retval.0.i.i9.i.i.i20, float %retval.0.i.i.i.i.i10
  %retval.sroa.0.0.vec.insert.i.i.i23 = insertelement <2 x float> poison, float %.sroa.speculated6.i.i.i.i22, i64 0
  %cmp.i1.i.i.i.i24 = fcmp olt float %retval.0.i.i.i.i.i10, %retval.0.i.i9.i.i.i20
  %.sroa.speculated.i.i.i.i25 = select i1 %cmp.i1.i.i.i.i24, float %retval.0.i.i9.i.i.i20, float %retval.0.i.i.i.i.i10
  %retval.sroa.0.4.vec.insert.i.i.i26 = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i.i.i23, float %.sroa.speculated.i.i.i.i25, i64 1
  store <2 x float> %retval.sroa.0.4.vec.insert.i.i.i26, ptr %y3, align 4
  %z5 = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %this, i64 0, i32 2
  %12 = load float, ptr %z5, align 4
  %add.i.i.i.i28 = fadd float %12, %v.coerce1
  %or.cond.i.i.i.i.i29 = fcmp oeq float %add.i.i.i.i28, 0xFFF0000000000000
  br i1 %or.cond.i.i.i.i.i29, label %_ZN4pbrt12AddRoundDownEff.exit.i.i.i36, label %if.end.i.i.i.i.i30

if.end.i.i.i.i.i30:                               ; preds = %_ZN4pbrt8IntervalpLEf.exit27
  %cmp1.i.i.i.i.i31 = fcmp oeq float %add.i.i.i.i28, 0.000000e+00
  %v.addr.0.i.i.i.i.i32 = select i1 %cmp1.i.i.i.i.i31, float -0.000000e+00, float %add.i.i.i.i28
  %13 = bitcast float %v.addr.0.i.i.i.i.i32 to i32
  %cmp5.i.i.i.i.i33 = fcmp ogt float %v.addr.0.i.i.i.i.i32, 0.000000e+00
  %ui.0.v.i.i.i.i.i34 = select i1 %cmp5.i.i.i.i.i33, i32 -1, i32 1
  %ui.0.i.i.i.i.i35 = add i32 %ui.0.v.i.i.i.i.i34, %13
  %14 = bitcast i32 %ui.0.i.i.i.i.i35 to float
  br label %_ZN4pbrt12AddRoundDownEff.exit.i.i.i36

_ZN4pbrt12AddRoundDownEff.exit.i.i.i36:           ; preds = %if.end.i.i.i.i.i30, %_ZN4pbrt8IntervalpLEf.exit27
  %retval.0.i.i.i.i.i37 = phi float [ %14, %if.end.i.i.i.i.i30 ], [ 0xFFF0000000000000, %_ZN4pbrt8IntervalpLEf.exit27 ]
  %high.i.i.i38 = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %this, i64 0, i32 2, i32 1
  %15 = load float, ptr %high.i.i.i38, align 4
  %add.i1.i.i.i39 = fadd float %15, %v.coerce1
  %or.cond.i.i2.i.i.i40 = fcmp oeq float %add.i1.i.i.i39, 0x7FF0000000000000
  br i1 %or.cond.i.i2.i.i.i40, label %_ZN4pbrt8IntervalpLEf.exit54, label %if.end.i.i3.i.i.i41

if.end.i.i3.i.i.i41:                              ; preds = %_ZN4pbrt12AddRoundDownEff.exit.i.i.i36
  %cmp1.i.i4.i.i.i42 = fcmp oeq float %add.i1.i.i.i39, 0.000000e+00
  %v.addr.0.i.i5.i.i.i43 = select i1 %cmp1.i.i4.i.i.i42, float 0.000000e+00, float %add.i1.i.i.i39
  %16 = bitcast float %v.addr.0.i.i5.i.i.i43 to i32
  %cmp5.i.i6.i.i.i44 = fcmp ult float %v.addr.0.i.i5.i.i.i43, 0.000000e+00
  %ui.0.v.i.i7.i.i.i45 = select i1 %cmp5.i.i6.i.i.i44, i32 -1, i32 1
  %ui.0.i.i8.i.i.i46 = add i32 %ui.0.v.i.i7.i.i.i45, %16
  %17 = bitcast i32 %ui.0.i.i8.i.i.i46 to float
  br label %_ZN4pbrt8IntervalpLEf.exit54

_ZN4pbrt8IntervalpLEf.exit54:                     ; preds = %_ZN4pbrt12AddRoundDownEff.exit.i.i.i36, %if.end.i.i3.i.i.i41
  %retval.0.i.i9.i.i.i47 = phi float [ %17, %if.end.i.i3.i.i.i41 ], [ 0x7FF0000000000000, %_ZN4pbrt12AddRoundDownEff.exit.i.i.i36 ]
  %cmp.i.i.i.i.i48 = fcmp olt float %retval.0.i.i9.i.i.i47, %retval.0.i.i.i.i.i37
  %.sroa.speculated6.i.i.i.i49 = select i1 %cmp.i.i.i.i.i48, float %retval.0.i.i9.i.i.i47, float %retval.0.i.i.i.i.i37
  %retval.sroa.0.0.vec.insert.i.i.i50 = insertelement <2 x float> poison, float %.sroa.speculated6.i.i.i.i49, i64 0
  %cmp.i1.i.i.i.i51 = fcmp olt float %retval.0.i.i.i.i.i37, %retval.0.i.i9.i.i.i47
  %.sroa.speculated.i.i.i.i52 = select i1 %cmp.i1.i.i.i.i51, float %retval.0.i.i9.i.i.i47, float %retval.0.i.i.i.i.i37
  %retval.sroa.0.4.vec.insert.i.i.i53 = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i.i.i50, float %.sroa.speculated.i.i.i.i52, i64 1
  store <2 x float> %retval.sroa.0.4.vec.insert.i.i.i53, ptr %z5, align 4
  ret ptr %this
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local { <2 x float>, float } @_ZNK4pbrt9Transform12ApplyInverseIfEENS_6Point3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %this, <2 x float> %p.coerce0, float %p.coerce1) local_unnamed_addr #9 comdat align 2 {
entry:
  %0 = extractelement <2 x float> %p.coerce0, i64 1
  %1 = extractelement <2 x float> %p.coerce0, i64 0
  %va = alloca float, align 4
  %vb = alloca i32, align 4
  %mInv = getelementptr inbounds %"class.pbrt::Transform", ptr %this, i64 0, i32 1
  %call = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 0)
  %2 = extractvalue { ptr, i64 } %call, 0
  %3 = load float, ptr %2, align 4
  %call8 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 0)
  %4 = extractvalue { ptr, i64 } %call8, 0
  %arrayidx.i = getelementptr inbounds float, ptr %4, i64 1
  %5 = load float, ptr %arrayidx.i, align 4
  %call13 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 0)
  %6 = extractvalue { ptr, i64 } %call13, 0
  %arrayidx.i15 = getelementptr inbounds float, ptr %6, i64 2
  %7 = load float, ptr %arrayidx.i15, align 4
  %call18 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 0)
  %8 = extractvalue { ptr, i64 } %call18, 0
  %arrayidx.i16 = getelementptr inbounds float, ptr %8, i64 3
  %9 = load float, ptr %arrayidx.i16, align 4
  %call24 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 1)
  %10 = extractvalue { ptr, i64 } %call24, 0
  %11 = load float, ptr %10, align 4
  %call29 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 1)
  %12 = extractvalue { ptr, i64 } %call29, 0
  %arrayidx.i17 = getelementptr inbounds float, ptr %12, i64 1
  %13 = load float, ptr %arrayidx.i17, align 4
  %call35 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 1)
  %14 = extractvalue { ptr, i64 } %call35, 0
  %arrayidx.i18 = getelementptr inbounds float, ptr %14, i64 2
  %15 = load float, ptr %arrayidx.i18, align 4
  %call40 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 1)
  %16 = extractvalue { ptr, i64 } %call40, 0
  %arrayidx.i19 = getelementptr inbounds float, ptr %16, i64 3
  %17 = load float, ptr %arrayidx.i19, align 4
  %call46 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 2)
  %18 = extractvalue { ptr, i64 } %call46, 0
  %19 = load float, ptr %18, align 4
  %call51 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 2)
  %20 = extractvalue { ptr, i64 } %call51, 0
  %arrayidx.i20 = getelementptr inbounds float, ptr %20, i64 1
  %21 = load float, ptr %arrayidx.i20, align 4
  %call57 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 2)
  %22 = extractvalue { ptr, i64 } %call57, 0
  %arrayidx.i21 = getelementptr inbounds float, ptr %22, i64 2
  %23 = load float, ptr %arrayidx.i21, align 4
  %call62 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 2)
  %24 = extractvalue { ptr, i64 } %call62, 0
  %arrayidx.i22 = getelementptr inbounds float, ptr %24, i64 3
  %25 = load float, ptr %arrayidx.i22, align 4
  %call68 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 3)
  %26 = extractvalue { ptr, i64 } %call68, 0
  %27 = load float, ptr %26, align 4
  %mul70 = fmul float %1, %27
  %call73 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 3)
  %28 = extractvalue { ptr, i64 } %call73, 0
  %arrayidx.i23 = getelementptr inbounds float, ptr %28, i64 1
  %29 = load float, ptr %arrayidx.i23, align 4
  %mul75 = fmul float %0, %29
  %add76 = fadd float %mul70, %mul75
  %call79 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 3)
  %30 = extractvalue { ptr, i64 } %call79, 0
  %arrayidx.i24 = getelementptr inbounds float, ptr %30, i64 2
  %31 = load float, ptr %arrayidx.i24, align 4
  %mul81 = fmul float %31, %p.coerce1
  %call84 = tail call { ptr, i64 } @_ZNK4pbrt12SquareMatrixILi4EEixEi(ptr noundef nonnull align 4 dereferenceable(64) %mInv, i32 noundef 3)
  %32 = extractvalue { ptr, i64 } %call84, 0
  %arrayidx.i25 = getelementptr inbounds float, ptr %32, i64 3
  %33 = load float, ptr %arrayidx.i25, align 4
  %add86 = fadd float %mul81, %33
  %add87 = fadd float %add76, %add86
  store float %add87, ptr %va, align 4
  store i32 0, ptr %vb, align 4
  %cmp = fcmp une float %add87, 0.000000e+00
  br i1 %cmp, label %do.end, label %if.then

if.then:                                          ; preds = %entry
  call void @_ZN4pbrt8LogFatalIJRA3_KcRA2_S1_S3_RfS5_RiEEEvNS_8LogLevelEPS1_iS9_DpOT_(i32 noundef 2, ptr noundef nonnull @.str.20, i32 noundef 393, ptr noundef nonnull @.str.21, ptr noundef nonnull align 1 dereferenceable(3) @.str.22, ptr noundef nonnull align 1 dereferenceable(2) @.str.23, ptr noundef nonnull align 1 dereferenceable(3) @.str.22, ptr noundef nonnull align 4 dereferenceable(4) %va, ptr noundef nonnull align 1 dereferenceable(2) @.str.23, ptr noundef nonnull align 4 dereferenceable(4) %vb) #24
  unreachable

do.end:                                           ; preds = %entry
  %mul48 = fmul float %1, %19
  %mul53 = fmul float %0, %21
  %add54 = fadd float %mul48, %mul53
  %mul59 = fmul float %23, %p.coerce1
  %add64 = fadd float %mul59, %25
  %add65 = fadd float %add54, %add64
  %34 = insertelement <2 x float> poison, float %11, i64 0
  %35 = insertelement <2 x float> %34, float %5, i64 1
  %36 = fmul <2 x float> %35, %p.coerce0
  %37 = shufflevector <2 x float> %36, <2 x float> poison, <2 x i32> <i32 1, i32 0>
  %38 = insertelement <2 x float> poison, float %3, i64 0
  %39 = insertelement <2 x float> %38, float %13, i64 1
  %40 = fmul <2 x float> %39, %p.coerce0
  %41 = insertelement <2 x float> poison, float %7, i64 0
  %42 = insertelement <2 x float> %41, float %15, i64 1
  %43 = insertelement <2 x float> poison, float %p.coerce1, i64 0
  %44 = shufflevector <2 x float> %43, <2 x float> poison, <2 x i32> zeroinitializer
  %45 = fmul <2 x float> %42, %44
  %46 = fadd <2 x float> %37, %40
  %47 = insertelement <2 x float> poison, float %9, i64 0
  %48 = insertelement <2 x float> %47, float %17, i64 1
  %49 = fadd <2 x float> %45, %48
  %50 = fadd <2 x float> %46, %49
  %51 = insertelement <2 x float> poison, float %add87, i64 0
  %52 = shufflevector <2 x float> %51, <2 x float> poison, <2 x i32> zeroinitializer
  %53 = fdiv <2 x float> %50, %52
  %retval.sroa.4.0 = fdiv float %add65, %add87
  %.fca.0.insert = insertvalue { <2 x float>, float } poison, <2 x float> %53, 0
  %.fca.1.insert = insertvalue { <2 x float>, float } %.fca.0.insert, float %retval.sroa.4.0, 1
  ret { <2 x float>, float } %.fca.1.insert
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local noundef float @_ZNK4pbrt11SampledGridIfE6LookupENS_6Point3IfEE(ptr noundef nonnull align 8 dereferenceable(44) %this, <2 x float> %p.coerce0, float %p.coerce1) local_unnamed_addr #9 comdat align 2 {
entry:
  %p.sroa.0.0.vec.extract = extractelement <2 x float> %p.coerce0, i64 0
  %nx = getelementptr inbounds %"class.pbrt::SampledGrid", ptr %this, i64 0, i32 1
  %0 = load i32, ptr %nx, align 8
  %conv = sitofp i32 %0 to float
  %mul = fmul float %p.sroa.0.0.vec.extract, %conv
  %sub = fadd float %mul, -5.000000e-01
  %p.sroa.0.4.vec.extract = extractelement <2 x float> %p.coerce0, i64 1
  %ny = getelementptr inbounds %"class.pbrt::SampledGrid", ptr %this, i64 0, i32 2
  %1 = load i32, ptr %ny, align 4
  %conv2 = sitofp i32 %1 to float
  %mul3 = fmul float %p.sroa.0.4.vec.extract, %conv2
  %sub4 = fadd float %mul3, -5.000000e-01
  %nz = getelementptr inbounds %"class.pbrt::SampledGrid", ptr %this, i64 0, i32 3
  %2 = load i32, ptr %nz, align 8
  %conv5 = sitofp i32 %2 to float
  %mul6 = fmul float %conv5, %p.coerce1
  %sub7 = fadd float %mul6, -5.000000e-01
  %3 = tail call noundef float @llvm.floor.f32(float %sub)
  %4 = tail call noundef float @llvm.floor.f32(float %sub4)
  %5 = tail call noundef float @llvm.floor.f32(float %sub7)
  %conv.i = fptosi float %3 to i32
  %conv2.i = fptosi float %4 to i32
  %conv3.i = fptosi float %5 to i32
  %.sroa.speculated10.i.i.i = tail call i32 @llvm.smin.i32(i32 %0, i32 0)
  %.sroa.speculated7.i.i.i = tail call i32 @llvm.smin.i32(i32 %1, i32 0)
  %.sroa.speculated.i.i.i = tail call i32 @llvm.smin.i32(i32 %2, i32 0)
  %.sroa.speculated10.i11.i.i = tail call i32 @llvm.smax.i32(i32 %0, i32 0)
  %.sroa.speculated7.i12.i.i = tail call i32 @llvm.smax.i32(i32 %1, i32 0)
  %.sroa.speculated.i13.i.i = tail call i32 @llvm.smax.i32(i32 %2, i32 0)
  %cmp.not.i.i = icmp sle i32 %.sroa.speculated10.i.i.i, %conv.i
  %cmp4.i.i = icmp sgt i32 %.sroa.speculated10.i11.i.i, %conv.i
  %or.cond.not12.not.not.i.not.i = select i1 %cmp.not.i.i, i1 %cmp4.i.i, i1 false
  %cmp8.not.i.i = icmp sle i32 %.sroa.speculated7.i.i.i, %conv2.i
  %or.cond9.i.i = select i1 %or.cond.not12.not.not.i.not.i, i1 %cmp8.not.i.i, i1 false
  %cmp13.i.i = icmp sgt i32 %.sroa.speculated7.i12.i.i, %conv2.i
  %or.cond10.i.i = select i1 %or.cond9.i.i, i1 %cmp13.i.i, i1 false
  %cmp17.not.i.i = icmp sle i32 %.sroa.speculated.i.i.i, %conv3.i
  %or.cond11.i.i = select i1 %or.cond10.i.i, i1 %cmp17.not.i.i, i1 false
  %cmp21.i.i = icmp sgt i32 %.sroa.speculated.i13.i.i, %conv3.i
  %or.cond.i = select i1 %or.cond11.i.i, i1 %cmp21.i.i, i1 false
  br i1 %or.cond.i, label %if.end.i, label %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit

if.end.i:                                         ; preds = %entry
  %mul.i = mul nsw i32 %1, %conv3.i
  %add.i = add nsw i32 %mul.i, %conv2.i
  %mul6.i = mul nsw i32 %add.i, %0
  %add7.i = add nsw i32 %mul6.i, %conv.i
  %conv.i22 = sext i32 %add7.i to i64
  %ptr.i.i = getelementptr inbounds %"class.pstd::vector", ptr %this, i64 0, i32 1
  %6 = load ptr, ptr %ptr.i.i, align 8
  %arrayidx.i.i = getelementptr inbounds float, ptr %6, i64 %conv.i22
  %7 = load float, ptr %arrayidx.i.i, align 4
  br label %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit

_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit: ; preds = %entry, %if.end.i
  %retval.0.i = phi float [ %7, %if.end.i ], [ 0.000000e+00, %entry ]
  %add.i25 = add nsw i32 %conv.i, 1
  %cmp.not.i.i45 = icmp sle i32 %.sroa.speculated10.i.i.i, %add.i25
  %cmp4.i.i46 = icmp sgt i32 %.sroa.speculated10.i11.i.i, %add.i25
  %or.cond.not12.not.not.i.not.i47 = select i1 %cmp.not.i.i45, i1 %cmp4.i.i46, i1 false
  %or.cond9.i.i49 = select i1 %or.cond.not12.not.not.i.not.i47, i1 %cmp8.not.i.i, i1 false
  %or.cond10.i.i51 = select i1 %or.cond9.i.i49, i1 %cmp13.i.i, i1 false
  %or.cond11.i.i53 = select i1 %or.cond10.i.i51, i1 %cmp17.not.i.i, i1 false
  %or.cond.i55 = select i1 %or.cond11.i.i53, i1 %cmp21.i.i, i1 false
  br i1 %or.cond.i55, label %if.end.i57, label %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit65

if.end.i57:                                       ; preds = %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit
  %mul.i58 = mul nsw i32 %1, %conv3.i
  %add.i59 = add nsw i32 %mul.i58, %conv2.i
  %mul6.i60 = mul nsw i32 %add.i59, %0
  %add7.i61 = add nsw i32 %mul6.i60, %add.i25
  %conv.i62 = sext i32 %add7.i61 to i64
  %ptr.i.i63 = getelementptr inbounds %"class.pstd::vector", ptr %this, i64 0, i32 1
  %8 = load ptr, ptr %ptr.i.i63, align 8
  %arrayidx.i.i64 = getelementptr inbounds float, ptr %8, i64 %conv.i62
  %9 = load float, ptr %arrayidx.i.i64, align 4
  br label %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit65

_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit65: ; preds = %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit, %if.end.i57
  %retval.0.i56 = phi float [ %9, %if.end.i57 ], [ 0.000000e+00, %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit ]
  %add4.i76 = add nsw i32 %conv2.i, 1
  %cmp8.not.i.i103 = icmp sle i32 %.sroa.speculated7.i.i.i, %add4.i76
  %or.cond9.i.i104 = select i1 %or.cond.not12.not.not.i.not.i, i1 %cmp8.not.i.i103, i1 false
  %cmp13.i.i105 = icmp sgt i32 %.sroa.speculated7.i12.i.i, %add4.i76
  %or.cond10.i.i106 = select i1 %or.cond9.i.i104, i1 %cmp13.i.i105, i1 false
  %or.cond11.i.i108 = select i1 %or.cond10.i.i106, i1 %cmp17.not.i.i, i1 false
  %or.cond.i110 = select i1 %or.cond11.i.i108, i1 %cmp21.i.i, i1 false
  br i1 %or.cond.i110, label %if.end.i112, label %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit120

if.end.i112:                                      ; preds = %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit65
  %mul.i113 = mul nsw i32 %1, %conv3.i
  %add.i114 = add nsw i32 %mul.i113, %add4.i76
  %mul6.i115 = mul nsw i32 %add.i114, %0
  %add7.i116 = add nsw i32 %mul6.i115, %conv.i
  %conv.i117 = sext i32 %add7.i116 to i64
  %ptr.i.i118 = getelementptr inbounds %"class.pstd::vector", ptr %this, i64 0, i32 1
  %10 = load ptr, ptr %ptr.i.i118, align 8
  %arrayidx.i.i119 = getelementptr inbounds float, ptr %10, i64 %conv.i117
  %11 = load float, ptr %arrayidx.i.i119, align 4
  br label %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit120

_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit120: ; preds = %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit65, %if.end.i112
  %retval.0.i111 = phi float [ %11, %if.end.i112 ], [ 0.000000e+00, %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit65 ]
  %or.cond9.i.i156 = select i1 %or.cond.not12.not.not.i.not.i47, i1 %cmp8.not.i.i103, i1 false
  %or.cond10.i.i158 = select i1 %or.cond9.i.i156, i1 %cmp13.i.i105, i1 false
  %or.cond11.i.i160 = select i1 %or.cond10.i.i158, i1 %cmp17.not.i.i, i1 false
  %or.cond.i162 = select i1 %or.cond11.i.i160, i1 %cmp21.i.i, i1 false
  br i1 %or.cond.i162, label %if.end.i164, label %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit172

if.end.i164:                                      ; preds = %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit120
  %mul.i165 = mul nsw i32 %1, %conv3.i
  %add.i166 = add nsw i32 %mul.i165, %add4.i76
  %mul6.i167 = mul nsw i32 %add.i166, %0
  %add7.i168 = add nsw i32 %mul6.i167, %add.i25
  %conv.i169 = sext i32 %add7.i168 to i64
  %ptr.i.i170 = getelementptr inbounds %"class.pstd::vector", ptr %this, i64 0, i32 1
  %12 = load ptr, ptr %ptr.i.i170, align 8
  %arrayidx.i.i171 = getelementptr inbounds float, ptr %12, i64 %conv.i169
  %13 = load float, ptr %arrayidx.i.i171, align 4
  br label %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit172

_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit172: ; preds = %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit120, %if.end.i164
  %retval.0.i163 = phi float [ %13, %if.end.i164 ], [ 0.000000e+00, %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit120 ]
  %add6.i186 = add nsw i32 %conv3.i, 1
  %cmp17.not.i.i215 = icmp sle i32 %.sroa.speculated.i.i.i, %add6.i186
  %or.cond11.i.i216 = select i1 %or.cond10.i.i, i1 %cmp17.not.i.i215, i1 false
  %cmp21.i.i217 = icmp sgt i32 %.sroa.speculated.i13.i.i, %add6.i186
  %or.cond.i218 = select i1 %or.cond11.i.i216, i1 %cmp21.i.i217, i1 false
  br i1 %or.cond.i218, label %if.end.i220, label %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit228

if.end.i220:                                      ; preds = %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit172
  %mul.i221 = mul nsw i32 %add6.i186, %1
  %add.i222 = add nsw i32 %mul.i221, %conv2.i
  %mul6.i223 = mul nsw i32 %add.i222, %0
  %add7.i224 = add nsw i32 %mul6.i223, %conv.i
  %conv.i225 = sext i32 %add7.i224 to i64
  %ptr.i.i226 = getelementptr inbounds %"class.pstd::vector", ptr %this, i64 0, i32 1
  %14 = load ptr, ptr %ptr.i.i226, align 8
  %arrayidx.i.i227 = getelementptr inbounds float, ptr %14, i64 %conv.i225
  %15 = load float, ptr %arrayidx.i.i227, align 4
  br label %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit228

_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit228: ; preds = %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit172, %if.end.i220
  %retval.0.i219 = phi float [ %15, %if.end.i220 ], [ 0.000000e+00, %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit172 ]
  %or.cond11.i.i268 = select i1 %or.cond10.i.i51, i1 %cmp17.not.i.i215, i1 false
  %or.cond.i270 = select i1 %or.cond11.i.i268, i1 %cmp21.i.i217, i1 false
  br i1 %or.cond.i270, label %if.end.i272, label %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit280

if.end.i272:                                      ; preds = %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit228
  %mul.i273 = mul nsw i32 %add6.i186, %1
  %add.i274 = add nsw i32 %mul.i273, %conv2.i
  %mul6.i275 = mul nsw i32 %add.i274, %0
  %add7.i276 = add nsw i32 %mul6.i275, %add.i25
  %conv.i277 = sext i32 %add7.i276 to i64
  %ptr.i.i278 = getelementptr inbounds %"class.pstd::vector", ptr %this, i64 0, i32 1
  %16 = load ptr, ptr %ptr.i.i278, align 8
  %arrayidx.i.i279 = getelementptr inbounds float, ptr %16, i64 %conv.i277
  %17 = load float, ptr %arrayidx.i.i279, align 4
  br label %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit280

_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit280: ; preds = %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit228, %if.end.i272
  %retval.0.i271 = phi float [ %17, %if.end.i272 ], [ 0.000000e+00, %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit228 ]
  %or.cond11.i.i324 = select i1 %or.cond10.i.i106, i1 %cmp17.not.i.i215, i1 false
  %or.cond.i326 = select i1 %or.cond11.i.i324, i1 %cmp21.i.i217, i1 false
  br i1 %or.cond.i326, label %if.end.i328, label %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit336

if.end.i328:                                      ; preds = %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit280
  %mul.i329 = mul nsw i32 %add6.i186, %1
  %add.i330 = add nsw i32 %mul.i329, %add4.i76
  %mul6.i331 = mul nsw i32 %add.i330, %0
  %add7.i332 = add nsw i32 %mul6.i331, %conv.i
  %conv.i333 = sext i32 %add7.i332 to i64
  %ptr.i.i334 = getelementptr inbounds %"class.pstd::vector", ptr %this, i64 0, i32 1
  %18 = load ptr, ptr %ptr.i.i334, align 8
  %arrayidx.i.i335 = getelementptr inbounds float, ptr %18, i64 %conv.i333
  %19 = load float, ptr %arrayidx.i.i335, align 4
  br label %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit336

_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit336: ; preds = %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit280, %if.end.i328
  %retval.0.i327 = phi float [ %19, %if.end.i328 ], [ 0.000000e+00, %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit280 ]
  %or.cond11.i.i376 = select i1 %or.cond10.i.i158, i1 %cmp17.not.i.i215, i1 false
  %or.cond.i378 = select i1 %or.cond11.i.i376, i1 %cmp21.i.i217, i1 false
  br i1 %or.cond.i378, label %if.end.i380, label %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit388

if.end.i380:                                      ; preds = %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit336
  %mul.i381 = mul nsw i32 %add6.i186, %1
  %add.i382 = add nsw i32 %mul.i381, %add4.i76
  %mul6.i383 = mul nsw i32 %add.i382, %0
  %add7.i384 = add nsw i32 %mul6.i383, %add.i25
  %conv.i385 = sext i32 %add7.i384 to i64
  %ptr.i.i386 = getelementptr inbounds %"class.pstd::vector", ptr %this, i64 0, i32 1
  %20 = load ptr, ptr %ptr.i.i386, align 8
  %arrayidx.i.i387 = getelementptr inbounds float, ptr %20, i64 %conv.i385
  %21 = load float, ptr %arrayidx.i.i387, align 4
  br label %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit388

_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit388: ; preds = %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit336, %if.end.i380
  %retval.0.i379 = phi float [ %21, %if.end.i380 ], [ 0.000000e+00, %_ZNK4pbrt11SampledGridIfE6LookupERKNS_6Point3IiEE.exit336 ]
  %conv.i11 = sitofp i32 %conv.i to float
  %sub.i = fsub float %sub, %conv.i11
  %sub.i66 = fsub float 1.000000e+00, %sub.i
  %mul.i282 = fmul float %sub.i66, %retval.0.i219
  %mul1.i283 = fmul float %sub.i, %retval.0.i271
  %add.i284 = fadd float %mul.i282, %mul1.i283
  %mul.i174 = fmul float %sub.i66, %retval.0.i111
  %mul1.i175 = fmul float %sub.i, %retval.0.i163
  %add.i176 = fadd float %mul.i174, %mul1.i175
  %mul.i67 = fmul float %sub.i66, %retval.0.i
  %mul1.i = fmul float %sub.i, %retval.0.i56
  %add.i68 = fadd float %mul.i67, %mul1.i
  %conv3.i13 = sitofp i32 %conv3.i to float
  %sub6.i = fsub float %sub7, %conv3.i13
  %conv2.i12 = sitofp i32 %conv2.i to float
  %sub4.i = fsub float %sub4, %conv2.i12
  %mul.i390 = fmul float %sub.i66, %retval.0.i327
  %mul1.i391 = fmul float %sub.i, %retval.0.i379
  %add.i392 = fadd float %mul.i390, %mul1.i391
  %sub.i393 = fsub float 1.000000e+00, %sub4.i
  %mul.i394 = fmul float %sub.i393, %add.i68
  %mul1.i395 = fmul float %sub4.i, %add.i176
  %add.i396 = fadd float %mul.i394, %mul1.i395
  %mul.i398 = fmul float %sub.i393, %add.i284
  %mul1.i399 = fmul float %sub4.i, %add.i392
  %add.i400 = fadd float %mul.i398, %mul1.i399
  %sub.i401 = fsub float 1.000000e+00, %sub6.i
  %mul.i402 = fmul float %sub.i401, %add.i396
  %mul1.i403 = fmul float %sub6.i, %add.i400
  %add.i404 = fadd float %mul.i402, %mul1.i403
  ret float %add.i404
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local { <2 x float>, <2 x float> } @_ZNK4pbrt17BlackbodySpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 4 dereferenceable(8) %this, ptr noundef nonnull align 4 dereferenceable(32) %lambda) local_unnamed_addr #1 comdat align 2 {
entry:
  %retval = alloca %"class.pbrt::SampledSpectrum", align 8
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval, i8 0, i64 16, i1 false)
  %0 = load float, ptr %this, align 4
  %cmp.i = fcmp ugt float %0, 0.000000e+00
  %normalizationFactor = getelementptr inbounds %"class.pbrt::BlackbodySpectrum", ptr %this, i64 0, i32 1
  %1 = load float, ptr %normalizationFactor, align 4
  br i1 %cmp.i, label %for.body.us, label %entry.split

for.body.us:                                      ; preds = %entry, %_ZN4pbrt9BlackbodyEff.exit.us
  %indvars.iv9 = phi i64 [ %indvars.iv.next10, %_ZN4pbrt9BlackbodyEff.exit.us ], [ 0, %entry ]
  %arrayidx.i.i.us = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv9
  %2 = load float, ptr %arrayidx.i.i.us, align 4
  %mul.i.us = fmul float %2, 0x3E112E0BE0000000
  %mul.i.i.i.us = fmul float %mul.i.us, %mul.i.us
  %mul.i.i.us = fmul float %mul.i.i.i.us, %mul.i.i.i.us
  %mul2.i.i.us = fmul float %mul.i.us, %mul.i.i.us
  %mul1.i.us = fmul float %mul.i.us, 0x3B30B0E6A0000000
  %mul2.i.us = fmul float %0, %mul1.i.us
  %div.i.us = fdiv float 0x3ACEBD1F40000000, %mul2.i.us
  %mul.i4.i.us = fmul float %div.i.us, 0x3FF7154760000000
  %3 = tail call noundef float @llvm.floor.f32(float %mul.i4.i.us)
  %sub.i.i.us = fsub float %mul.i4.i.us, %3
  %conv.i.i.us = fptosi float %3 to i32
  %4 = tail call noundef float @llvm.fma.f32(float %sub.i.i.us, float 0x3FB4015920000000, float 0x3FCCF34160000000)
  %5 = tail call noundef float @llvm.fma.f32(float %sub.i.i.us, float %4, float 0x3FE6420080000000)
  %6 = tail call noundef float @llvm.fma.f32(float %sub.i.i.us, float %5, float 1.000000e+00)
  %7 = bitcast float %6 to i32
  %shr.i.i.i.us = lshr i32 %7, 23
  %sub.i.i.i.us = add i32 %conv.i.i.us, -127
  %add.i.i.us = add i32 %sub.i.i.i.us, %shr.i.i.i.us
  %cmp.i.i.us = icmp slt i32 %add.i.i.us, -126
  br i1 %cmp.i.i.us, label %_ZN4pbrt7FastExpEf.exit.i.us, label %if.end.i.i.us

if.end.i.i.us:                                    ; preds = %for.body.us
  %cmp3.i.i.us = icmp sgt i32 %add.i.i.us, 127
  br i1 %cmp3.i.i.us, label %_ZN4pbrt7FastExpEf.exit.i.us, label %if.end5.i.i.us

if.end5.i.i.us:                                   ; preds = %if.end.i.i.us
  %and.i.i.us = and i32 %7, -2139095041
  %add7.i.i.us = shl nsw i32 %add.i.i.us, 23
  %shl.i.i.us = add i32 %add7.i.i.us, 1065353216
  %or.i.i.us = or i32 %shl.i.i.us, %and.i.i.us
  %8 = bitcast i32 %or.i.i.us to float
  %9 = fadd float %8, -1.000000e+00
  br label %_ZN4pbrt7FastExpEf.exit.i.us

_ZN4pbrt7FastExpEf.exit.i.us:                     ; preds = %if.end5.i.i.us, %if.end.i.i.us, %for.body.us
  %retval.0.i.i.us = phi float [ %9, %if.end5.i.i.us ], [ -1.000000e+00, %for.body.us ], [ 0x7FF0000000000000, %if.end.i.i.us ]
  %mul4.i.us = fmul float %mul2.i.i.us, %retval.0.i.i.us
  %div5.i.us = fdiv float 0x3CA12A2C20000000, %mul4.i.us
  %10 = fcmp uno float %div5.i.us, 0.000000e+00
  br i1 %10, label %land.rhs.i, label %_ZN4pbrt9BlackbodyEff.exit.us

_ZN4pbrt9BlackbodyEff.exit.us:                    ; preds = %_ZN4pbrt7FastExpEf.exit.i.us
  %mul.us = fmul float %div5.i.us, %1
  %arrayidx.i.i5.us = getelementptr inbounds [4 x float], ptr %retval, i64 0, i64 %indvars.iv9
  store float %mul.us, ptr %arrayidx.i.i5.us, align 4
  %indvars.iv.next10 = add nuw nsw i64 %indvars.iv9, 1
  %exitcond12.not = icmp eq i64 %indvars.iv.next10, 4
  br i1 %exitcond12.not, label %for.end, label %for.body.us, !llvm.loop !148

entry.split:                                      ; preds = %entry
  %mul = fmul float %1, 0.000000e+00
  br label %for.body

for.body:                                         ; preds = %entry.split, %for.body
  %indvars.iv = phi i64 [ 0, %entry.split ], [ %indvars.iv.next, %for.body ]
  %arrayidx.i.i5 = getelementptr inbounds [4 x float], ptr %retval, i64 0, i64 %indvars.iv
  store float %mul, ptr %arrayidx.i.i5, align 4
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %exitcond.not = icmp eq i64 %indvars.iv.next, 4
  br i1 %exitcond.not, label %for.end, label %for.body, !llvm.loop !148

land.rhs.i:                                       ; preds = %_ZN4pbrt7FastExpEf.exit.i.us
  tail call void @_ZN4pbrt8LogFatalIJRA11_KcEEEvNS_8LogLevelEPS1_iS5_DpOT_(i32 noundef 2, ptr noundef nonnull @.str.28, i32 noundef 78, ptr noundef nonnull @.str.18, ptr noundef nonnull align 1 dereferenceable(11) @.str.29) #24
  unreachable

for.end:                                          ; preds = %for.body, %_ZN4pbrt9BlackbodyEff.exit.us
  %.fca.0.load = load <2 x float>, ptr %retval, align 8
  %.fca.0.insert = insertvalue { <2 x float>, <2 x float> } poison, <2 x float> %.fca.0.load, 0
  %.fca.1.gep = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval, i64 0, i32 1
  %.fca.1.load = load <2 x float>, ptr %.fca.1.gep, align 8
  %.fca.1.insert = insertvalue { <2 x float>, <2 x float> } %.fca.0.insert, <2 x float> %.fca.1.load, 1
  ret { <2 x float>, <2 x float> } %.fca.1.insert
}

; Function Attrs: mustprogress noreturn uwtable
define linkonce_odr dso_local void @_ZN4pbrt8LogFatalIJRA3_KcRA2_S1_S3_RfS5_RiEEEvNS_8LogLevelEPS1_iS9_DpOT_(i32 noundef %level, ptr noundef %file, i32 noundef %line, ptr noundef %fmt, ptr noundef nonnull align 1 dereferenceable(3) %args, ptr noundef nonnull align 1 dereferenceable(2) %args1, ptr noundef nonnull align 1 dereferenceable(3) %args3, ptr noundef nonnull align 4 dereferenceable(4) %args5, ptr noundef nonnull align 1 dereferenceable(2) %args7, ptr noundef nonnull align 4 dereferenceable(4) %args9) local_unnamed_addr #11 comdat personality ptr @__gxx_personality_v0 {
entry:
  %s = alloca %"class.std::__cxx11::basic_string", align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(32) %s) #25
  invoke void @_ZN4pbrt6detail21stringPrintfRecursiveIRA3_KcJRA2_S2_S4_RfS6_RiEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS2_OT_DpOT0_(ptr noundef nonnull %s, ptr noundef %fmt, ptr noundef nonnull align 1 dereferenceable(3) %args, ptr noundef nonnull align 1 dereferenceable(2) %args1, ptr noundef nonnull align 1 dereferenceable(3) %args3, ptr noundef nonnull align 4 dereferenceable(4) %args5, ptr noundef nonnull align 1 dereferenceable(2) %args7, ptr noundef nonnull align 4 dereferenceable(4) %args9)
          to label %_ZN4pbrt12StringPrintfIJRA3_KcRA2_S1_S3_RfS5_RiEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS1_DpOT_.exit unwind label %lpad.i

common.resume:                                    ; preds = %lpad, %lpad.i
  %common.resume.op = phi { ptr, i32 } [ %0, %lpad.i ], [ %1, %lpad ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %s) #25
  resume { ptr, i32 } %common.resume.op

lpad.i:                                           ; preds = %entry
  %0 = landingpad { ptr, i32 }
          cleanup
  br label %common.resume

_ZN4pbrt12StringPrintfIJRA3_KcRA2_S1_S3_RfS5_RiEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS1_DpOT_.exit: ; preds = %entry
  %call = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %s) #25
  invoke void @_ZN4pbrt8LogFatalENS_8LogLevelEPKciS2_(i32 noundef %level, ptr noundef %file, i32 noundef %line, ptr noundef %call) #24
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %_ZN4pbrt12StringPrintfIJRA3_KcRA2_S1_S3_RfS5_RiEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS1_DpOT_.exit
  unreachable

lpad:                                             ; preds = %_ZN4pbrt12StringPrintfIJRA3_KcRA2_S1_S3_RfS5_RiEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS1_DpOT_.exit
  %1 = landingpad { ptr, i32 }
          cleanup
  br label %common.resume
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail21stringPrintfRecursiveIRA3_KcJRA2_S2_S4_RfS6_RiEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS2_OT_DpOT0_(ptr noundef %s, ptr noundef %fmt, ptr noundef nonnull align 1 dereferenceable(3) %v, ptr noundef nonnull align 1 dereferenceable(2) %args, ptr noundef nonnull align 1 dereferenceable(3) %args1, ptr noundef nonnull align 4 dereferenceable(4) %args3, ptr noundef nonnull align 1 dereferenceable(2) %args5, ptr noundef nonnull align 4 dereferenceable(4) %args7) local_unnamed_addr #1 comdat personality ptr @__gxx_personality_v0 {
entry:
  %fmt.addr = alloca ptr, align 8
  %nextFmt = alloca %"class.std::__cxx11::basic_string", align 8
  %ss = alloca %"class.std::__cxx11::basic_stringstream", align 8
  %ref.tmp = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp26 = alloca ptr, align 8
  %ref.tmp27 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp38 = alloca %"class.std::__cxx11::basic_string", align 8
  store ptr %fmt, ptr %fmt.addr, align 8
  call void @_ZN4pbrt6detail18copyToFormatStringEPPKcPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %nextFmt, ptr noundef nonnull %fmt.addr, ptr noundef %s)
  %call = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 42, i64 noundef 0) #25
  %cmp.not = icmp eq i64 %call, -1
  %call9 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 115, i64 noundef 0) #25
  %cmp10.not = icmp eq i64 %call9, -1
  %call12 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 100, i64 noundef 0) #25
  br i1 %cmp.not, label %if.end, label %if.else45.invoke

lpad:                                             ; preds = %if.else45.invoke, %done, %if.then37, %if.then20
  %0 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup50

if.end:                                           ; preds = %entry
  %cmp13.not = icmp eq i64 %call12, -1
  br i1 %cmp13.not, label %if.end18, label %if.else45.invoke

if.end18:                                         ; preds = %if.end
  br i1 %cmp10.not, label %if.else, label %if.then20

if.then20:                                        ; preds = %if.end18
  invoke void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont21 unwind label %lpad

invoke.cont21:                                    ; preds = %if.then20
  %add.ptr = getelementptr inbounds i8, ptr %ss, i64 16
  %call24 = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr, ptr noundef nonnull %v)
          to label %invoke.cont23 unwind label %lpad22

invoke.cont23:                                    ; preds = %invoke.cont21
  %call25 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZNKSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEE3strEv(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp27, ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont28 unwind label %lpad22

invoke.cont28:                                    ; preds = %invoke.cont23
  %call29 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp27) #25
  store ptr %call29, ptr %ref.tmp26, align 8
  invoke void @_ZN4pbrt6detail9formatOneIPKcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeES3_OS6_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp, ptr noundef %call25, ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp26)
          to label %invoke.cont31 unwind label %lpad30

invoke.cont31:                                    ; preds = %invoke.cont28
  %call34 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp)
          to label %invoke.cont33 unwind label %lpad32

invoke.cont33:                                    ; preds = %invoke.cont31
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp27) #25
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %done

lpad22:                                           ; preds = %invoke.cont23, %invoke.cont21
  %1 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup35

lpad30:                                           ; preds = %invoke.cont28
  %2 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad32:                                           ; preds = %invoke.cont31
  %3 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad32, %lpad30
  %.pn = phi { ptr, i32 } [ %3, %lpad32 ], [ %2, %lpad30 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp27) #25
  br label %ehcleanup35

ehcleanup35:                                      ; preds = %ehcleanup, %lpad22
  %.pn.pn = phi { ptr, i32 } [ %.pn, %ehcleanup ], [ %1, %lpad22 ]
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %ehcleanup50

if.else:                                          ; preds = %if.end18
  %call36 = call noundef zeroext i1 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5emptyEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  br i1 %call36, label %if.else45.invoke, label %if.then37

if.then37:                                        ; preds = %if.else
  %call39 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZN4pbrt6detail9formatOneIRA3_KcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPS2_OS7_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp38, ptr noundef %call39, ptr noundef nonnull align 1 dereferenceable(3) %v)
          to label %invoke.cont40 unwind label %lpad

invoke.cont40:                                    ; preds = %if.then37
  %call43 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp38)
          to label %invoke.cont42 unwind label %lpad41

invoke.cont42:                                    ; preds = %invoke.cont40
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp38) #25
  br label %done

lpad41:                                           ; preds = %invoke.cont40
  %4 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp38) #25
  br label %ehcleanup50

if.else45.invoke:                                 ; preds = %entry, %if.else, %if.end
  %5 = phi i32 [ 257, %if.end ], [ 266, %if.else ], [ 229, %entry ]
  %6 = phi ptr [ @.str.12, %if.end ], [ @.str.13, %if.else ], [ @.str.11, %entry ]
  invoke void @_ZN4pbrt8LogFatalENS_8LogLevelEPKciS2_(i32 noundef 2, ptr noundef nonnull @.str.10, i32 noundef %5, ptr noundef nonnull %6) #24
          to label %if.else45.cont unwind label %lpad

if.else45.cont:                                   ; preds = %if.else45.invoke
  unreachable

done:                                             ; preds = %invoke.cont33, %invoke.cont42
  %7 = load ptr, ptr %fmt.addr, align 8
  invoke void @_ZN4pbrt6detail21stringPrintfRecursiveIRA2_KcJRA3_S2_RfS4_RiEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS2_OT_DpOT0_(ptr noundef %s, ptr noundef %7, ptr noundef nonnull align 1 dereferenceable(2) %args, ptr noundef nonnull align 1 dereferenceable(3) %args1, ptr noundef nonnull align 4 dereferenceable(4) %args3, ptr noundef nonnull align 1 dereferenceable(2) %args5, ptr noundef nonnull align 4 dereferenceable(4) %args7)
          to label %invoke.cont49 unwind label %lpad

invoke.cont49:                                    ; preds = %done
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  ret void

ehcleanup50:                                      ; preds = %lpad41, %ehcleanup35, %lpad
  %.pn7 = phi { ptr, i32 } [ %0, %lpad ], [ %.pn.pn, %ehcleanup35 ], [ %4, %lpad41 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  resume { ptr, i32 } %.pn7
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail9formatOneIRA3_KcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPS2_OS7_(ptr noalias sret(%"class.std::__cxx11::basic_string") align 8 %agg.result, ptr noundef %fmt, ptr noundef nonnull align 1 dereferenceable(3) %v) local_unnamed_addr #1 comdat personality ptr @__gxx_personality_v0 {
entry:
  %call = tail call i32 (ptr, i64, ptr, ...) @snprintf(ptr noundef null, i64 noundef 0, ptr noundef %fmt, ptr noundef nonnull %v) #25
  %add = add nsw i32 %call, 1
  %conv = sext i32 %add to i64
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE6resizeEm(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, i64 noundef %conv)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  %call2 = invoke noundef nonnull align 1 dereferenceable(1) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEixEm(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, i64 noundef 0)
          to label %invoke.cont1 unwind label %lpad

invoke.cont1:                                     ; preds = %invoke.cont
  %call4 = tail call i32 (ptr, i64, ptr, ...) @snprintf(ptr noundef nonnull %call2, i64 noundef %conv, ptr noundef %fmt, ptr noundef nonnull %v) #25
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE8pop_backEv(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  ret void

lpad:                                             ; preds = %invoke.cont, %entry
  %0 = landingpad { ptr, i32 }
          cleanup
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  resume { ptr, i32 } %0
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail21stringPrintfRecursiveIRA2_KcJRA3_S2_RfS4_RiEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS2_OT_DpOT0_(ptr noundef %s, ptr noundef %fmt, ptr noundef nonnull align 1 dereferenceable(2) %v, ptr noundef nonnull align 1 dereferenceable(3) %args, ptr noundef nonnull align 4 dereferenceable(4) %args1, ptr noundef nonnull align 1 dereferenceable(2) %args3, ptr noundef nonnull align 4 dereferenceable(4) %args5) local_unnamed_addr #1 comdat personality ptr @__gxx_personality_v0 {
entry:
  %fmt.addr = alloca ptr, align 8
  %nextFmt = alloca %"class.std::__cxx11::basic_string", align 8
  %ss = alloca %"class.std::__cxx11::basic_stringstream", align 8
  %ref.tmp = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp24 = alloca ptr, align 8
  %ref.tmp25 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp36 = alloca %"class.std::__cxx11::basic_string", align 8
  store ptr %fmt, ptr %fmt.addr, align 8
  call void @_ZN4pbrt6detail18copyToFormatStringEPPKcPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %nextFmt, ptr noundef nonnull %fmt.addr, ptr noundef %s)
  %call = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 42, i64 noundef 0) #25
  %cmp.not = icmp eq i64 %call, -1
  %call7 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 115, i64 noundef 0) #25
  %cmp8.not = icmp eq i64 %call7, -1
  %call10 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 100, i64 noundef 0) #25
  br i1 %cmp.not, label %if.end, label %if.else43.invoke

lpad:                                             ; preds = %if.else43.invoke, %done, %if.then35, %if.then18
  %0 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup48

if.end:                                           ; preds = %entry
  %cmp11.not = icmp eq i64 %call10, -1
  br i1 %cmp11.not, label %if.end16, label %if.else43.invoke

if.end16:                                         ; preds = %if.end
  br i1 %cmp8.not, label %if.else, label %if.then18

if.then18:                                        ; preds = %if.end16
  invoke void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont19 unwind label %lpad

invoke.cont19:                                    ; preds = %if.then18
  %add.ptr = getelementptr inbounds i8, ptr %ss, i64 16
  %call22 = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr, ptr noundef nonnull %v)
          to label %invoke.cont21 unwind label %lpad20

invoke.cont21:                                    ; preds = %invoke.cont19
  %call23 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZNKSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEE3strEv(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp25, ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont26 unwind label %lpad20

invoke.cont26:                                    ; preds = %invoke.cont21
  %call27 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp25) #25
  store ptr %call27, ptr %ref.tmp24, align 8
  invoke void @_ZN4pbrt6detail9formatOneIPKcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeES3_OS6_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp, ptr noundef %call23, ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp24)
          to label %invoke.cont29 unwind label %lpad28

invoke.cont29:                                    ; preds = %invoke.cont26
  %call32 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp)
          to label %invoke.cont31 unwind label %lpad30

invoke.cont31:                                    ; preds = %invoke.cont29
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp25) #25
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %done

lpad20:                                           ; preds = %invoke.cont21, %invoke.cont19
  %1 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup33

lpad28:                                           ; preds = %invoke.cont26
  %2 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad30:                                           ; preds = %invoke.cont29
  %3 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad30, %lpad28
  %.pn = phi { ptr, i32 } [ %3, %lpad30 ], [ %2, %lpad28 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp25) #25
  br label %ehcleanup33

ehcleanup33:                                      ; preds = %ehcleanup, %lpad20
  %.pn.pn = phi { ptr, i32 } [ %.pn, %ehcleanup ], [ %1, %lpad20 ]
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %ehcleanup48

if.else:                                          ; preds = %if.end16
  %call34 = call noundef zeroext i1 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5emptyEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  br i1 %call34, label %if.else43.invoke, label %if.then35

if.then35:                                        ; preds = %if.else
  %call37 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZN4pbrt6detail9formatOneIRA2_KcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPS2_OS7_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp36, ptr noundef %call37, ptr noundef nonnull align 1 dereferenceable(2) %v)
          to label %invoke.cont38 unwind label %lpad

invoke.cont38:                                    ; preds = %if.then35
  %call41 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp36)
          to label %invoke.cont40 unwind label %lpad39

invoke.cont40:                                    ; preds = %invoke.cont38
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp36) #25
  br label %done

lpad39:                                           ; preds = %invoke.cont38
  %4 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp36) #25
  br label %ehcleanup48

if.else43.invoke:                                 ; preds = %entry, %if.else, %if.end
  %5 = phi i32 [ 257, %if.end ], [ 266, %if.else ], [ 229, %entry ]
  %6 = phi ptr [ @.str.12, %if.end ], [ @.str.13, %if.else ], [ @.str.11, %entry ]
  invoke void @_ZN4pbrt8LogFatalENS_8LogLevelEPKciS2_(i32 noundef 2, ptr noundef nonnull @.str.10, i32 noundef %5, ptr noundef nonnull %6) #24
          to label %if.else43.cont unwind label %lpad

if.else43.cont:                                   ; preds = %if.else43.invoke
  unreachable

done:                                             ; preds = %invoke.cont31, %invoke.cont40
  %7 = load ptr, ptr %fmt.addr, align 8
  invoke void @_ZN4pbrt6detail21stringPrintfRecursiveIRA3_KcJRfRA2_S2_RiEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS2_OT_DpOT0_(ptr noundef %s, ptr noundef %7, ptr noundef nonnull align 1 dereferenceable(3) %args, ptr noundef nonnull align 4 dereferenceable(4) %args1, ptr noundef nonnull align 1 dereferenceable(2) %args3, ptr noundef nonnull align 4 dereferenceable(4) %args5)
          to label %invoke.cont47 unwind label %lpad

invoke.cont47:                                    ; preds = %done
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  ret void

ehcleanup48:                                      ; preds = %lpad39, %ehcleanup33, %lpad
  %.pn7 = phi { ptr, i32 } [ %0, %lpad ], [ %.pn.pn, %ehcleanup33 ], [ %4, %lpad39 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  resume { ptr, i32 } %.pn7
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail9formatOneIRA2_KcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPS2_OS7_(ptr noalias sret(%"class.std::__cxx11::basic_string") align 8 %agg.result, ptr noundef %fmt, ptr noundef nonnull align 1 dereferenceable(2) %v) local_unnamed_addr #1 comdat personality ptr @__gxx_personality_v0 {
entry:
  %call = tail call i32 (ptr, i64, ptr, ...) @snprintf(ptr noundef null, i64 noundef 0, ptr noundef %fmt, ptr noundef nonnull %v) #25
  %add = add nsw i32 %call, 1
  %conv = sext i32 %add to i64
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE6resizeEm(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, i64 noundef %conv)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  %call2 = invoke noundef nonnull align 1 dereferenceable(1) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEixEm(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, i64 noundef 0)
          to label %invoke.cont1 unwind label %lpad

invoke.cont1:                                     ; preds = %invoke.cont
  %call4 = tail call i32 (ptr, i64, ptr, ...) @snprintf(ptr noundef nonnull %call2, i64 noundef %conv, ptr noundef %fmt, ptr noundef nonnull %v) #25
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE8pop_backEv(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  ret void

lpad:                                             ; preds = %invoke.cont, %entry
  %0 = landingpad { ptr, i32 }
          cleanup
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  resume { ptr, i32 } %0
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail21stringPrintfRecursiveIRA3_KcJRfRA2_S2_RiEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS2_OT_DpOT0_(ptr noundef %s, ptr noundef %fmt, ptr noundef nonnull align 1 dereferenceable(3) %v, ptr noundef nonnull align 4 dereferenceable(4) %args, ptr noundef nonnull align 1 dereferenceable(2) %args1, ptr noundef nonnull align 4 dereferenceable(4) %args3) local_unnamed_addr #1 comdat personality ptr @__gxx_personality_v0 {
entry:
  %fmt.addr = alloca ptr, align 8
  %nextFmt = alloca %"class.std::__cxx11::basic_string", align 8
  %ss = alloca %"class.std::__cxx11::basic_stringstream", align 8
  %ref.tmp = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp22 = alloca ptr, align 8
  %ref.tmp23 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp34 = alloca %"class.std::__cxx11::basic_string", align 8
  store ptr %fmt, ptr %fmt.addr, align 8
  call void @_ZN4pbrt6detail18copyToFormatStringEPPKcPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %nextFmt, ptr noundef nonnull %fmt.addr, ptr noundef %s)
  %call = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 42, i64 noundef 0) #25
  %cmp.not = icmp eq i64 %call, -1
  %call5 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 115, i64 noundef 0) #25
  %cmp6.not = icmp eq i64 %call5, -1
  %call8 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 100, i64 noundef 0) #25
  br i1 %cmp.not, label %if.end, label %if.else41.invoke

lpad:                                             ; preds = %if.else41.invoke, %done, %if.then33, %if.then16
  %0 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup46

if.end:                                           ; preds = %entry
  %cmp9.not = icmp eq i64 %call8, -1
  br i1 %cmp9.not, label %if.end14, label %if.else41.invoke

if.end14:                                         ; preds = %if.end
  br i1 %cmp6.not, label %if.else, label %if.then16

if.then16:                                        ; preds = %if.end14
  invoke void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont17 unwind label %lpad

invoke.cont17:                                    ; preds = %if.then16
  %add.ptr = getelementptr inbounds i8, ptr %ss, i64 16
  %call20 = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr, ptr noundef nonnull %v)
          to label %invoke.cont19 unwind label %lpad18

invoke.cont19:                                    ; preds = %invoke.cont17
  %call21 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZNKSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEE3strEv(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp23, ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont24 unwind label %lpad18

invoke.cont24:                                    ; preds = %invoke.cont19
  %call25 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp23) #25
  store ptr %call25, ptr %ref.tmp22, align 8
  invoke void @_ZN4pbrt6detail9formatOneIPKcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeES3_OS6_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp, ptr noundef %call21, ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp22)
          to label %invoke.cont27 unwind label %lpad26

invoke.cont27:                                    ; preds = %invoke.cont24
  %call30 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp)
          to label %invoke.cont29 unwind label %lpad28

invoke.cont29:                                    ; preds = %invoke.cont27
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp23) #25
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %done

lpad18:                                           ; preds = %invoke.cont19, %invoke.cont17
  %1 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup31

lpad26:                                           ; preds = %invoke.cont24
  %2 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad28:                                           ; preds = %invoke.cont27
  %3 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad28, %lpad26
  %.pn = phi { ptr, i32 } [ %3, %lpad28 ], [ %2, %lpad26 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp23) #25
  br label %ehcleanup31

ehcleanup31:                                      ; preds = %ehcleanup, %lpad18
  %.pn.pn = phi { ptr, i32 } [ %.pn, %ehcleanup ], [ %1, %lpad18 ]
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %ehcleanup46

if.else:                                          ; preds = %if.end14
  %call32 = call noundef zeroext i1 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5emptyEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  br i1 %call32, label %if.else41.invoke, label %if.then33

if.then33:                                        ; preds = %if.else
  %call35 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZN4pbrt6detail9formatOneIRA3_KcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPS2_OS7_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp34, ptr noundef %call35, ptr noundef nonnull align 1 dereferenceable(3) %v)
          to label %invoke.cont36 unwind label %lpad

invoke.cont36:                                    ; preds = %if.then33
  %call39 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp34)
          to label %invoke.cont38 unwind label %lpad37

invoke.cont38:                                    ; preds = %invoke.cont36
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp34) #25
  br label %done

lpad37:                                           ; preds = %invoke.cont36
  %4 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp34) #25
  br label %ehcleanup46

if.else41.invoke:                                 ; preds = %entry, %if.else, %if.end
  %5 = phi i32 [ 257, %if.end ], [ 266, %if.else ], [ 229, %entry ]
  %6 = phi ptr [ @.str.12, %if.end ], [ @.str.13, %if.else ], [ @.str.11, %entry ]
  invoke void @_ZN4pbrt8LogFatalENS_8LogLevelEPKciS2_(i32 noundef 2, ptr noundef nonnull @.str.10, i32 noundef %5, ptr noundef nonnull %6) #24
          to label %if.else41.cont unwind label %lpad

if.else41.cont:                                   ; preds = %if.else41.invoke
  unreachable

done:                                             ; preds = %invoke.cont29, %invoke.cont38
  %7 = load ptr, ptr %fmt.addr, align 8
  invoke void @_ZN4pbrt6detail21stringPrintfRecursiveIRfJRA2_KcRiEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS3_OT_DpOT0_(ptr noundef %s, ptr noundef %7, ptr noundef nonnull align 4 dereferenceable(4) %args, ptr noundef nonnull align 1 dereferenceable(2) %args1, ptr noundef nonnull align 4 dereferenceable(4) %args3)
          to label %invoke.cont45 unwind label %lpad

invoke.cont45:                                    ; preds = %done
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  ret void

ehcleanup46:                                      ; preds = %lpad37, %ehcleanup31, %lpad
  %.pn7 = phi { ptr, i32 } [ %0, %lpad ], [ %.pn.pn, %ehcleanup31 ], [ %4, %lpad37 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  resume { ptr, i32 } %.pn7
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail21stringPrintfRecursiveIRfJRA2_KcRiEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS3_OT_DpOT0_(ptr noundef %s, ptr noundef %fmt, ptr noundef nonnull align 4 dereferenceable(4) %v, ptr noundef nonnull align 1 dereferenceable(2) %args, ptr noundef nonnull align 4 dereferenceable(4) %args1) local_unnamed_addr #1 comdat personality ptr @__gxx_personality_v0 {
entry:
  %fmt.addr = alloca ptr, align 8
  %nextFmt = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp = alloca %"class.std::__cxx11::basic_string", align 8
  %ss = alloca %"class.std::__cxx11::basic_stringstream", align 8
  %ref.tmp29 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp31 = alloca ptr, align 8
  %ref.tmp32 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp43 = alloca %"class.std::__cxx11::basic_string", align 8
  store ptr %fmt, ptr %fmt.addr, align 8
  call void @_ZN4pbrt6detail18copyToFormatStringEPPKcPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %nextFmt, ptr noundef nonnull %fmt.addr, ptr noundef %s)
  %call = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 42, i64 noundef 0) #25
  %cmp.not = icmp eq i64 %call, -1
  %call3 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 115, i64 noundef 0) #25
  %cmp4.not = icmp eq i64 %call3, -1
  %call6 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 100, i64 noundef 0) #25
  %cmp7.not = icmp eq i64 %call6, -1
  br i1 %cmp.not, label %if.end, label %if.else50.invoke

lpad:                                             ; preds = %if.else50.invoke, %done, %if.then42, %if.then24, %if.then13
  %0 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup55

if.end:                                           ; preds = %entry
  %call.i = call noundef i32 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE7compareEPKc(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, ptr noundef nonnull @.str.24) #25
  %cmp.i = icmp eq i32 %call.i, 0
  br i1 %cmp.i, label %if.then13, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %if.end
  %call.i11 = call noundef i32 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE7compareEPKc(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, ptr noundef nonnull @.str.25) #25
  %cmp.i12 = icmp eq i32 %call.i11, 0
  br i1 %cmp.i12, label %if.then13, label %if.end18

if.then13:                                        ; preds = %lor.lhs.false, %if.end
  %1 = load float, ptr %v, align 4
  invoke void @_ZN4pbrt6detail13FloatToStringB5cxx11Ef(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp, float noundef %1)
          to label %invoke.cont14 unwind label %lpad

invoke.cont14:                                    ; preds = %if.then13
  %call17 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp)
          to label %invoke.cont16 unwind label %lpad15

invoke.cont16:                                    ; preds = %invoke.cont14
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  br label %done

lpad15:                                           ; preds = %invoke.cont14
  %2 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  br label %ehcleanup55

if.end18:                                         ; preds = %lor.lhs.false
  br i1 %cmp7.not, label %if.end22, label %if.else50.invoke

if.end22:                                         ; preds = %if.end18
  br i1 %cmp4.not, label %if.else, label %if.then24

if.then24:                                        ; preds = %if.end22
  invoke void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont25 unwind label %lpad

invoke.cont25:                                    ; preds = %if.then24
  %add.ptr = getelementptr inbounds i8, ptr %ss, i64 16
  %3 = load float, ptr %v, align 4
  %call28 = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZNSolsEf(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr, float noundef %3)
          to label %invoke.cont27 unwind label %lpad26

invoke.cont27:                                    ; preds = %invoke.cont25
  %call30 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZNKSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEE3strEv(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp32, ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont33 unwind label %lpad26

invoke.cont33:                                    ; preds = %invoke.cont27
  %call34 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp32) #25
  store ptr %call34, ptr %ref.tmp31, align 8
  invoke void @_ZN4pbrt6detail9formatOneIPKcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeES3_OS6_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp29, ptr noundef %call30, ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp31)
          to label %invoke.cont36 unwind label %lpad35

invoke.cont36:                                    ; preds = %invoke.cont33
  %call39 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp29)
          to label %invoke.cont38 unwind label %lpad37

invoke.cont38:                                    ; preds = %invoke.cont36
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp29) #25
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp32) #25
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %done

lpad26:                                           ; preds = %invoke.cont27, %invoke.cont25
  %4 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup40

lpad35:                                           ; preds = %invoke.cont33
  %5 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad37:                                           ; preds = %invoke.cont36
  %6 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp29) #25
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad37, %lpad35
  %.pn = phi { ptr, i32 } [ %6, %lpad37 ], [ %5, %lpad35 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp32) #25
  br label %ehcleanup40

ehcleanup40:                                      ; preds = %ehcleanup, %lpad26
  %.pn.pn = phi { ptr, i32 } [ %.pn, %ehcleanup ], [ %4, %lpad26 ]
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %ehcleanup55

if.else:                                          ; preds = %if.end22
  %call41 = call noundef zeroext i1 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5emptyEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  br i1 %call41, label %if.else50.invoke, label %if.then42

if.then42:                                        ; preds = %if.else
  %call44 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZN4pbrt6detail9formatOneIRfEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPKcOS5_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp43, ptr noundef %call44, ptr noundef nonnull align 4 dereferenceable(4) %v)
          to label %invoke.cont45 unwind label %lpad

invoke.cont45:                                    ; preds = %if.then42
  %call48 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp43)
          to label %invoke.cont47 unwind label %lpad46

invoke.cont47:                                    ; preds = %invoke.cont45
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp43) #25
  br label %done

lpad46:                                           ; preds = %invoke.cont45
  %7 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp43) #25
  br label %ehcleanup55

if.else50.invoke:                                 ; preds = %entry, %if.else, %if.end18
  %8 = phi i32 [ 257, %if.end18 ], [ 266, %if.else ], [ 229, %entry ]
  %9 = phi ptr [ @.str.12, %if.end18 ], [ @.str.13, %if.else ], [ @.str.11, %entry ]
  invoke void @_ZN4pbrt8LogFatalENS_8LogLevelEPKciS2_(i32 noundef 2, ptr noundef nonnull @.str.10, i32 noundef %8, ptr noundef nonnull %9) #24
          to label %if.else50.cont unwind label %lpad

if.else50.cont:                                   ; preds = %if.else50.invoke
  unreachable

done:                                             ; preds = %invoke.cont38, %invoke.cont47, %invoke.cont16
  %10 = load ptr, ptr %fmt.addr, align 8
  invoke void @_ZN4pbrt6detail21stringPrintfRecursiveIRA2_KcJRiEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS2_OT_DpOT0_(ptr noundef %s, ptr noundef %10, ptr noundef nonnull align 1 dereferenceable(2) %args, ptr noundef nonnull align 4 dereferenceable(4) %args1)
          to label %invoke.cont54 unwind label %lpad

invoke.cont54:                                    ; preds = %done
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  ret void

ehcleanup55:                                      ; preds = %lpad46, %ehcleanup40, %lpad15, %lpad
  %.pn9 = phi { ptr, i32 } [ %0, %lpad ], [ %2, %lpad15 ], [ %.pn.pn, %ehcleanup40 ], [ %7, %lpad46 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  resume { ptr, i32 } %.pn9
}

declare void @_ZN4pbrt6detail13FloatToStringB5cxx11Ef(ptr sret(%"class.std::__cxx11::basic_string") align 8, float noundef) local_unnamed_addr #0

declare noundef nonnull align 8 dereferenceable(8) ptr @_ZNSolsEf(ptr noundef nonnull align 8 dereferenceable(8), float noundef) local_unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail9formatOneIRfEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPKcOS5_(ptr noalias sret(%"class.std::__cxx11::basic_string") align 8 %agg.result, ptr noundef %fmt, ptr noundef nonnull align 4 dereferenceable(4) %v) local_unnamed_addr #1 comdat personality ptr @__gxx_personality_v0 {
entry:
  %0 = load float, ptr %v, align 4
  %conv = fpext float %0 to double
  %call = tail call i32 (ptr, i64, ptr, ...) @snprintf(ptr noundef null, i64 noundef 0, ptr noundef %fmt, double noundef %conv) #25
  %add = add nsw i32 %call, 1
  %conv1 = sext i32 %add to i64
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE6resizeEm(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, i64 noundef %conv1)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  %call3 = invoke noundef nonnull align 1 dereferenceable(1) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEixEm(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, i64 noundef 0)
          to label %invoke.cont2 unwind label %lpad

invoke.cont2:                                     ; preds = %invoke.cont
  %1 = load float, ptr %v, align 4
  %conv4 = fpext float %1 to double
  %call5 = tail call i32 (ptr, i64, ptr, ...) @snprintf(ptr noundef nonnull %call3, i64 noundef %conv1, ptr noundef %fmt, double noundef %conv4) #25
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE8pop_backEv(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  ret void

lpad:                                             ; preds = %invoke.cont, %entry
  %2 = landingpad { ptr, i32 }
          cleanup
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  resume { ptr, i32 } %2
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail21stringPrintfRecursiveIRA2_KcJRiEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS2_OT_DpOT0_(ptr noundef %s, ptr noundef %fmt, ptr noundef nonnull align 1 dereferenceable(2) %v, ptr noundef nonnull align 4 dereferenceable(4) %args) local_unnamed_addr #1 comdat personality ptr @__gxx_personality_v0 {
entry:
  %fmt.addr = alloca ptr, align 8
  %nextFmt = alloca %"class.std::__cxx11::basic_string", align 8
  %ss = alloca %"class.std::__cxx11::basic_stringstream", align 8
  %ref.tmp = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp18 = alloca ptr, align 8
  %ref.tmp19 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp30 = alloca %"class.std::__cxx11::basic_string", align 8
  store ptr %fmt, ptr %fmt.addr, align 8
  call void @_ZN4pbrt6detail18copyToFormatStringEPPKcPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %nextFmt, ptr noundef nonnull %fmt.addr, ptr noundef %s)
  %call = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 42, i64 noundef 0) #25
  %cmp.not = icmp eq i64 %call, -1
  %call1 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 115, i64 noundef 0) #25
  %cmp2.not = icmp eq i64 %call1, -1
  %call4 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 100, i64 noundef 0) #25
  br i1 %cmp.not, label %if.end, label %if.else37.invoke

lpad:                                             ; preds = %if.else37.invoke, %done, %if.then29, %if.then12
  %0 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup42

if.end:                                           ; preds = %entry
  %cmp5.not = icmp eq i64 %call4, -1
  br i1 %cmp5.not, label %if.end10, label %if.else37.invoke

if.end10:                                         ; preds = %if.end
  br i1 %cmp2.not, label %if.else, label %if.then12

if.then12:                                        ; preds = %if.end10
  invoke void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont13 unwind label %lpad

invoke.cont13:                                    ; preds = %if.then12
  %add.ptr = getelementptr inbounds i8, ptr %ss, i64 16
  %call16 = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr, ptr noundef nonnull %v)
          to label %invoke.cont15 unwind label %lpad14

invoke.cont15:                                    ; preds = %invoke.cont13
  %call17 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZNKSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEE3strEv(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp19, ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont20 unwind label %lpad14

invoke.cont20:                                    ; preds = %invoke.cont15
  %call21 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp19) #25
  store ptr %call21, ptr %ref.tmp18, align 8
  invoke void @_ZN4pbrt6detail9formatOneIPKcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeES3_OS6_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp, ptr noundef %call17, ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp18)
          to label %invoke.cont23 unwind label %lpad22

invoke.cont23:                                    ; preds = %invoke.cont20
  %call26 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp)
          to label %invoke.cont25 unwind label %lpad24

invoke.cont25:                                    ; preds = %invoke.cont23
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp19) #25
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %done

lpad14:                                           ; preds = %invoke.cont15, %invoke.cont13
  %1 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup27

lpad22:                                           ; preds = %invoke.cont20
  %2 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad24:                                           ; preds = %invoke.cont23
  %3 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad24, %lpad22
  %.pn = phi { ptr, i32 } [ %3, %lpad24 ], [ %2, %lpad22 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp19) #25
  br label %ehcleanup27

ehcleanup27:                                      ; preds = %ehcleanup, %lpad14
  %.pn.pn = phi { ptr, i32 } [ %.pn, %ehcleanup ], [ %1, %lpad14 ]
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %ehcleanup42

if.else:                                          ; preds = %if.end10
  %call28 = call noundef zeroext i1 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5emptyEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  br i1 %call28, label %if.else37.invoke, label %if.then29

if.then29:                                        ; preds = %if.else
  %call31 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZN4pbrt6detail9formatOneIRA2_KcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPS2_OS7_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp30, ptr noundef %call31, ptr noundef nonnull align 1 dereferenceable(2) %v)
          to label %invoke.cont32 unwind label %lpad

invoke.cont32:                                    ; preds = %if.then29
  %call35 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp30)
          to label %invoke.cont34 unwind label %lpad33

invoke.cont34:                                    ; preds = %invoke.cont32
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp30) #25
  br label %done

lpad33:                                           ; preds = %invoke.cont32
  %4 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp30) #25
  br label %ehcleanup42

if.else37.invoke:                                 ; preds = %entry, %if.else, %if.end
  %5 = phi i32 [ 257, %if.end ], [ 266, %if.else ], [ 229, %entry ]
  %6 = phi ptr [ @.str.12, %if.end ], [ @.str.13, %if.else ], [ @.str.11, %entry ]
  invoke void @_ZN4pbrt8LogFatalENS_8LogLevelEPKciS2_(i32 noundef 2, ptr noundef nonnull @.str.10, i32 noundef %5, ptr noundef nonnull %6) #24
          to label %if.else37.cont unwind label %lpad

if.else37.cont:                                   ; preds = %if.else37.invoke
  unreachable

done:                                             ; preds = %invoke.cont25, %invoke.cont34
  %7 = load ptr, ptr %fmt.addr, align 8
  invoke void @_ZN4pbrt6detail21stringPrintfRecursiveIRiJEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPKcOT_DpOT0_(ptr noundef %s, ptr noundef %7, ptr noundef nonnull align 4 dereferenceable(4) %args)
          to label %invoke.cont41 unwind label %lpad

invoke.cont41:                                    ; preds = %done
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  ret void

ehcleanup42:                                      ; preds = %lpad33, %ehcleanup27, %lpad
  %.pn7 = phi { ptr, i32 } [ %0, %lpad ], [ %.pn.pn, %ehcleanup27 ], [ %4, %lpad33 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  resume { ptr, i32 } %.pn7
}

; Function Attrs: nounwind
declare noundef i32 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE7compareEPKc(ptr noundef nonnull align 8 dereferenceable(32), ptr noundef) local_unnamed_addr #13

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail21stringPrintfRecursiveIRiJEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPKcOT_DpOT0_(ptr noundef %s, ptr noundef %fmt, ptr noundef nonnull align 4 dereferenceable(4) %v) local_unnamed_addr #1 comdat personality ptr @__gxx_personality_v0 {
entry:
  %fmt.addr = alloca ptr, align 8
  %nextFmt = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp = alloca %"class.std::__cxx11::basic_string", align 8
  %ss = alloca %"class.std::__cxx11::basic_stringstream", align 8
  %ref.tmp26 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp28 = alloca ptr, align 8
  %ref.tmp29 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp40 = alloca %"class.std::__cxx11::basic_string", align 8
  store ptr %fmt, ptr %fmt.addr, align 8
  call void @_ZN4pbrt6detail18copyToFormatStringEPPKcPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %nextFmt, ptr noundef nonnull %fmt.addr, ptr noundef %s)
  %call = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 42, i64 noundef 0) #25
  %cmp.not = icmp eq i64 %call, -1
  %call1 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 115, i64 noundef 0) #25
  %cmp2.not = icmp eq i64 %call1, -1
  %call4 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 100, i64 noundef 0) #25
  br i1 %cmp.not, label %if.end, label %if.then.invoke

if.then.invoke:                                   ; preds = %entry, %if.else
  %0 = phi i32 [ 266, %if.else ], [ 187, %entry ]
  %1 = phi ptr [ @.str.13, %if.else ], [ @.str.26, %entry ]
  invoke void @_ZN4pbrt8LogFatalENS_8LogLevelEPKciS2_(i32 noundef 2, ptr noundef nonnull @.str.10, i32 noundef %0, ptr noundef nonnull %1) #24
          to label %if.then.cont unwind label %lpad

if.then.cont:                                     ; preds = %if.then.invoke
  unreachable

lpad:                                             ; preds = %if.then.invoke, %done, %if.then39, %if.then21, %invoke.cont12, %if.then8
  %2 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup52

if.end:                                           ; preds = %entry
  %cmp5.not = icmp eq i64 %call4, -1
  br i1 %cmp5.not, label %if.end19, label %if.then8

if.then8:                                         ; preds = %if.end
  %call9 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 100, i64 noundef 0) #25
  %call13 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE7replaceEmmPKc(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i64 noundef %call9, i64 noundef 1, ptr noundef nonnull @.str.27)
          to label %invoke.cont12 unwind label %lpad

invoke.cont12:                                    ; preds = %if.then8
  %call14 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZN4pbrt6detail9formatOneIRiEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPKcOS5_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp, ptr noundef %call14, ptr noundef nonnull align 4 dereferenceable(4) %v)
          to label %invoke.cont15 unwind label %lpad

invoke.cont15:                                    ; preds = %invoke.cont12
  %call18 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp)
          to label %invoke.cont17 unwind label %lpad16

invoke.cont17:                                    ; preds = %invoke.cont15
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  br label %done

lpad16:                                           ; preds = %invoke.cont15
  %3 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  br label %ehcleanup52

if.end19:                                         ; preds = %if.end
  br i1 %cmp2.not, label %if.else, label %if.then21

if.then21:                                        ; preds = %if.end19
  invoke void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont22 unwind label %lpad

invoke.cont22:                                    ; preds = %if.then21
  %add.ptr = getelementptr inbounds i8, ptr %ss, i64 16
  %4 = load i32, ptr %v, align 4
  %call25 = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZNSolsEi(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr, i32 noundef %4)
          to label %invoke.cont24 unwind label %lpad23

invoke.cont24:                                    ; preds = %invoke.cont22
  %call27 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZNKSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEE3strEv(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp29, ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont30 unwind label %lpad23

invoke.cont30:                                    ; preds = %invoke.cont24
  %call31 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp29) #25
  store ptr %call31, ptr %ref.tmp28, align 8
  invoke void @_ZN4pbrt6detail9formatOneIPKcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeES3_OS6_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp26, ptr noundef %call27, ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp28)
          to label %invoke.cont33 unwind label %lpad32

invoke.cont33:                                    ; preds = %invoke.cont30
  %call36 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp26)
          to label %invoke.cont35 unwind label %lpad34

invoke.cont35:                                    ; preds = %invoke.cont33
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp26) #25
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp29) #25
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %done

lpad23:                                           ; preds = %invoke.cont24, %invoke.cont22
  %5 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup37

lpad32:                                           ; preds = %invoke.cont30
  %6 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad34:                                           ; preds = %invoke.cont33
  %7 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp26) #25
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad34, %lpad32
  %.pn = phi { ptr, i32 } [ %7, %lpad34 ], [ %6, %lpad32 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp29) #25
  br label %ehcleanup37

ehcleanup37:                                      ; preds = %ehcleanup, %lpad23
  %.pn.pn = phi { ptr, i32 } [ %.pn, %ehcleanup ], [ %5, %lpad23 ]
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %ehcleanup52

if.else:                                          ; preds = %if.end19
  %call38 = call noundef zeroext i1 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5emptyEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  br i1 %call38, label %if.then.invoke, label %if.then39

if.then39:                                        ; preds = %if.else
  %call41 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZN4pbrt6detail9formatOneIRiEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPKcOS5_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp40, ptr noundef %call41, ptr noundef nonnull align 4 dereferenceable(4) %v)
          to label %invoke.cont42 unwind label %lpad

invoke.cont42:                                    ; preds = %if.then39
  %call45 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp40)
          to label %invoke.cont44 unwind label %lpad43

invoke.cont44:                                    ; preds = %invoke.cont42
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp40) #25
  br label %done

lpad43:                                           ; preds = %invoke.cont42
  %8 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp40) #25
  br label %ehcleanup52

done:                                             ; preds = %invoke.cont35, %invoke.cont44, %invoke.cont17
  %9 = load ptr, ptr %fmt.addr, align 8
  invoke void @_ZN4pbrt6detail21stringPrintfRecursiveEPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPKc(ptr noundef %s, ptr noundef %9)
          to label %cleanup unwind label %lpad

cleanup:                                          ; preds = %done
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  ret void

ehcleanup52:                                      ; preds = %lpad43, %ehcleanup37, %lpad16, %lpad
  %.pn11 = phi { ptr, i32 } [ %2, %lpad ], [ %3, %lpad16 ], [ %.pn.pn, %ehcleanup37 ], [ %8, %lpad43 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  resume { ptr, i32 } %.pn11
}

declare noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE7replaceEmmPKc(ptr noundef nonnull align 8 dereferenceable(32), i64 noundef, i64 noundef, ptr noundef) local_unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail9formatOneIRiEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPKcOS5_(ptr noalias sret(%"class.std::__cxx11::basic_string") align 8 %agg.result, ptr noundef %fmt, ptr noundef nonnull align 4 dereferenceable(4) %v) local_unnamed_addr #1 comdat personality ptr @__gxx_personality_v0 {
entry:
  %0 = load i32, ptr %v, align 4
  %call = tail call i32 (ptr, i64, ptr, ...) @snprintf(ptr noundef null, i64 noundef 0, ptr noundef %fmt, i32 noundef %0) #25
  %add = add nsw i32 %call, 1
  %conv = sext i32 %add to i64
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE6resizeEm(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, i64 noundef %conv)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  %call2 = invoke noundef nonnull align 1 dereferenceable(1) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEixEm(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, i64 noundef 0)
          to label %invoke.cont1 unwind label %lpad

invoke.cont1:                                     ; preds = %invoke.cont
  %1 = load i32, ptr %v, align 4
  %call3 = tail call i32 (ptr, i64, ptr, ...) @snprintf(ptr noundef nonnull %call2, i64 noundef %conv, ptr noundef %fmt, i32 noundef %1) #25
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE8pop_backEv(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  ret void

lpad:                                             ; preds = %invoke.cont, %entry
  %2 = landingpad { ptr, i32 }
          cleanup
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  resume { ptr, i32 } %2
}

declare noundef nonnull align 8 dereferenceable(8) ptr @_ZNSolsEi(ptr noundef nonnull align 8 dereferenceable(8), i32 noundef) local_unnamed_addr #0

; Function Attrs: mustprogress noreturn uwtable
define linkonce_odr dso_local void @_ZN4pbrt8LogFatalIJRA11_KcEEEvNS_8LogLevelEPS1_iS5_DpOT_(i32 noundef %level, ptr noundef %file, i32 noundef %line, ptr noundef %fmt, ptr noundef nonnull align 1 dereferenceable(11) %args) local_unnamed_addr #11 comdat personality ptr @__gxx_personality_v0 {
entry:
  %s = alloca %"class.std::__cxx11::basic_string", align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(32) %s) #25
  invoke void @_ZN4pbrt6detail21stringPrintfRecursiveIRA11_KcJEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS2_OT_DpOT0_(ptr noundef nonnull %s, ptr noundef %fmt, ptr noundef nonnull align 1 dereferenceable(11) %args)
          to label %_ZN4pbrt12StringPrintfIJRA11_KcEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS1_DpOT_.exit unwind label %lpad.i

common.resume:                                    ; preds = %lpad, %lpad.i
  %common.resume.op = phi { ptr, i32 } [ %0, %lpad.i ], [ %1, %lpad ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %s) #25
  resume { ptr, i32 } %common.resume.op

lpad.i:                                           ; preds = %entry
  %0 = landingpad { ptr, i32 }
          cleanup
  br label %common.resume

_ZN4pbrt12StringPrintfIJRA11_KcEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS1_DpOT_.exit: ; preds = %entry
  %call = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %s) #25
  invoke void @_ZN4pbrt8LogFatalENS_8LogLevelEPKciS2_(i32 noundef %level, ptr noundef %file, i32 noundef %line, ptr noundef %call) #24
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %_ZN4pbrt12StringPrintfIJRA11_KcEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS1_DpOT_.exit
  unreachable

lpad:                                             ; preds = %_ZN4pbrt12StringPrintfIJRA11_KcEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS1_DpOT_.exit
  %1 = landingpad { ptr, i32 }
          cleanup
  br label %common.resume
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail21stringPrintfRecursiveIRA11_KcJEEEvPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPS2_OT_DpOT0_(ptr noundef %s, ptr noundef %fmt, ptr noundef nonnull align 1 dereferenceable(11) %v) local_unnamed_addr #1 comdat personality ptr @__gxx_personality_v0 {
entry:
  %fmt.addr = alloca ptr, align 8
  %nextFmt = alloca %"class.std::__cxx11::basic_string", align 8
  %ss = alloca %"class.std::__cxx11::basic_stringstream", align 8
  %ref.tmp = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp18 = alloca ptr, align 8
  %ref.tmp19 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp30 = alloca %"class.std::__cxx11::basic_string", align 8
  store ptr %fmt, ptr %fmt.addr, align 8
  call void @_ZN4pbrt6detail18copyToFormatStringEPPKcPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %nextFmt, ptr noundef nonnull %fmt.addr, ptr noundef %s)
  %call = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 42, i64 noundef 0) #25
  %cmp.not = icmp eq i64 %call, -1
  %call1 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 115, i64 noundef 0) #25
  %cmp2.not = icmp eq i64 %call1, -1
  %call4 = call noundef i64 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE4findEcm(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt, i8 noundef signext 100, i64 noundef 0) #25
  br i1 %cmp.not, label %if.end, label %if.else37.invoke

lpad:                                             ; preds = %if.else37.invoke, %done, %if.then29, %if.then12
  %0 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup42

if.end:                                           ; preds = %entry
  %cmp5.not = icmp eq i64 %call4, -1
  br i1 %cmp5.not, label %if.end10, label %if.else37.invoke

if.end10:                                         ; preds = %if.end
  br i1 %cmp2.not, label %if.else, label %if.then12

if.then12:                                        ; preds = %if.end10
  invoke void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont13 unwind label %lpad

invoke.cont13:                                    ; preds = %if.then12
  %add.ptr = getelementptr inbounds i8, ptr %ss, i64 16
  %call16 = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr, ptr noundef nonnull %v)
          to label %invoke.cont15 unwind label %lpad14

invoke.cont15:                                    ; preds = %invoke.cont13
  %call17 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZNKSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEE3strEv(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp19, ptr noundef nonnull align 8 dereferenceable(128) %ss)
          to label %invoke.cont20 unwind label %lpad14

invoke.cont20:                                    ; preds = %invoke.cont15
  %call21 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp19) #25
  store ptr %call21, ptr %ref.tmp18, align 8
  invoke void @_ZN4pbrt6detail9formatOneIPKcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeES3_OS6_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp, ptr noundef %call17, ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp18)
          to label %invoke.cont23 unwind label %lpad22

invoke.cont23:                                    ; preds = %invoke.cont20
  %call26 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp)
          to label %invoke.cont25 unwind label %lpad24

invoke.cont25:                                    ; preds = %invoke.cont23
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp19) #25
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %done

lpad14:                                           ; preds = %invoke.cont15, %invoke.cont13
  %1 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup27

lpad22:                                           ; preds = %invoke.cont20
  %2 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad24:                                           ; preds = %invoke.cont23
  %3 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #25
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad24, %lpad22
  %.pn = phi { ptr, i32 } [ %3, %lpad24 ], [ %2, %lpad22 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp19) #25
  br label %ehcleanup27

ehcleanup27:                                      ; preds = %ehcleanup, %lpad14
  %.pn.pn = phi { ptr, i32 } [ %.pn, %ehcleanup ], [ %1, %lpad14 ]
  call void @_ZNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(128) %ss) #25
  br label %ehcleanup42

if.else:                                          ; preds = %if.end10
  %call28 = call noundef zeroext i1 @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5emptyEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  br i1 %call28, label %if.else37.invoke, label %if.then29

if.then29:                                        ; preds = %if.else
  %call31 = call noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE5c_strEv(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  invoke void @_ZN4pbrt6detail9formatOneIRA11_KcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPS2_OS7_(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp30, ptr noundef %call31, ptr noundef nonnull align 1 dereferenceable(11) %v)
          to label %invoke.cont32 unwind label %lpad

invoke.cont32:                                    ; preds = %if.then29
  %call35 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEpLERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %s, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp30)
          to label %invoke.cont34 unwind label %lpad33

invoke.cont34:                                    ; preds = %invoke.cont32
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp30) #25
  br label %done

lpad33:                                           ; preds = %invoke.cont32
  %4 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp30) #25
  br label %ehcleanup42

if.else37.invoke:                                 ; preds = %entry, %if.else, %if.end
  %5 = phi i32 [ 257, %if.end ], [ 266, %if.else ], [ 229, %entry ]
  %6 = phi ptr [ @.str.12, %if.end ], [ @.str.13, %if.else ], [ @.str.11, %entry ]
  invoke void @_ZN4pbrt8LogFatalENS_8LogLevelEPKciS2_(i32 noundef 2, ptr noundef nonnull @.str.10, i32 noundef %5, ptr noundef nonnull %6) #24
          to label %if.else37.cont unwind label %lpad

if.else37.cont:                                   ; preds = %if.else37.invoke
  unreachable

done:                                             ; preds = %invoke.cont25, %invoke.cont34
  %7 = load ptr, ptr %fmt.addr, align 8
  invoke void @_ZN4pbrt6detail21stringPrintfRecursiveEPNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPKc(ptr noundef %s, ptr noundef %7)
          to label %invoke.cont41 unwind label %lpad

invoke.cont41:                                    ; preds = %done
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  ret void

ehcleanup42:                                      ; preds = %lpad33, %ehcleanup27, %lpad
  %.pn7 = phi { ptr, i32 } [ %0, %lpad ], [ %.pn.pn, %ehcleanup27 ], [ %4, %lpad33 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %nextFmt) #25
  resume { ptr, i32 } %.pn7
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZN4pbrt6detail9formatOneIRA11_KcEENSt9enable_ifIXntsr3stdE10is_class_vINSt5decayIT_E4typeEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE4typeEPS2_OS7_(ptr noalias sret(%"class.std::__cxx11::basic_string") align 8 %agg.result, ptr noundef %fmt, ptr noundef nonnull align 1 dereferenceable(11) %v) local_unnamed_addr #1 comdat personality ptr @__gxx_personality_v0 {
entry:
  %call = tail call i32 (ptr, i64, ptr, ...) @snprintf(ptr noundef null, i64 noundef 0, ptr noundef %fmt, ptr noundef nonnull %v) #25
  %add = add nsw i32 %call, 1
  %conv = sext i32 %add to i64
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE6resizeEm(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, i64 noundef %conv)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  %call2 = invoke noundef nonnull align 1 dereferenceable(1) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEixEm(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, i64 noundef 0)
          to label %invoke.cont1 unwind label %lpad

invoke.cont1:                                     ; preds = %invoke.cont
  %call4 = tail call i32 (ptr, i64, ptr, ...) @snprintf(ptr noundef nonnull %call2, i64 noundef %conv, ptr noundef %fmt, ptr noundef nonnull %v) #25
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE8pop_backEv(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  ret void

lpad:                                             ; preds = %invoke.cont, %entry
  %0 = landingpad { ptr, i32 }
          cleanup
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.result) #25
  resume { ptr, i32 } %0
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZNK4pbrt13RGBGridMedium9SampleRayENS_3RayEfRKNS_18SampledWavelengthsE(ptr noalias sret(%"class.pbrt::DDAMajorantIterator") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(408) %this, ptr noundef %ray, float noundef %raytMax, ptr noundef nonnull align 4 dereferenceable(32) %lambda) local_unnamed_addr #9 comdat align 2 {
entry:
  %o.i = alloca %"class.pbrt::Point3fi", align 16
  %ref.tmp.i = alloca %"class.pbrt::Point3fi", align 8
  %sigma_t = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp4 = alloca %"class.pbrt::Ray", align 8
  %renderFromMedium = getelementptr inbounds %"class.pbrt::RGBGridMedium", ptr %this, i64 0, i32 1
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %o.i)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %ref.tmp.i)
  %0 = load <4 x float>, ptr %ray, align 8, !noalias !149
  %agg.tmp.sroa.0.4.vec.insert.i.i = shufflevector <4 x float> %0, <4 x float> poison, <2 x i32> zeroinitializer
  %y.i.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %ray, i64 0, i32 1
  %1 = load <4 x float>, ptr %y.i.i, align 4, !noalias !149
  %agg.tmp2.sroa.0.4.vec.insert.i.i = shufflevector <4 x float> %1, <4 x float> poison, <2 x i32> zeroinitializer
  %z.i.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %ray, i64 0, i32 2
  %2 = load <4 x float>, ptr %z.i.i, align 4, !noalias !149
  %agg.tmp3.sroa.0.4.vec.insert.i.i = shufflevector <4 x float> %2, <4 x float> poison, <2 x i32> zeroinitializer
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i.i, ptr %ref.tmp.i, align 8, !noalias !149
  %y3.i.i.i.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %ref.tmp.i, i64 0, i32 1
  store <2 x float> %agg.tmp2.sroa.0.4.vec.insert.i.i, ptr %y3.i.i.i.i, align 8, !noalias !149
  %z4.i.i.i.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %ref.tmp.i, i64 0, i32 2
  store <2 x float> %agg.tmp3.sroa.0.4.vec.insert.i.i, ptr %z4.i.i.i.i, align 8, !noalias !149
  call void @_ZNK4pbrt9Transform12ApplyInverseERKNS_8Point3fiE(ptr nonnull sret(%"class.pbrt::Point3fi") align 4 %o.i, ptr noundef nonnull align 4 dereferenceable(128) %renderFromMedium, ptr noundef nonnull align 4 dereferenceable(24) %ref.tmp.i), !noalias !149
  %d3.i = getelementptr inbounds %"class.pbrt::Ray", ptr %ray, i64 0, i32 1
  %agg.tmp.sroa.0.0.copyload.i = load <2 x float>, ptr %d3.i, align 4, !noalias !149
  %agg.tmp.sroa.2.0.d3.sroa_idx.i = getelementptr inbounds %"class.pbrt::Ray", ptr %ray, i64 0, i32 1, i32 0, i32 2
  %agg.tmp.sroa.2.0.copyload.i = load float, ptr %agg.tmp.sroa.2.0.d3.sroa_idx.i, align 4, !noalias !149
  %call.i = call { <2 x float>, float } @_ZNK4pbrt9Transform12ApplyInverseIfEENS_7Vector3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %renderFromMedium, <2 x float> %agg.tmp.sroa.0.0.copyload.i, float %agg.tmp.sroa.2.0.copyload.i), !noalias !149
  %call.fca.0.extract.i = extractvalue { <2 x float>, float } %call.i, 0
  %call.fca.1.extract.i = extractvalue { <2 x float>, float } %call.i, 1
  %3 = fmul <2 x float> %call.fca.0.extract.i, %call.fca.0.extract.i
  %shift = shufflevector <2 x float> %3, <2 x float> poison, <2 x i32> <i32 1, i32 poison>
  %4 = fadd <2 x float> %3, %shift
  %add.i.i = extractelement <2 x float> %4, i64 0
  %mul.i2.i.i = fmul float %call.fca.1.extract.i, %call.fca.1.extract.i
  %add3.i.i = fadd float %mul.i2.i.i, %add.i.i
  %cmp.i = fcmp ogt float %add3.i.i, 0.000000e+00
  br i1 %cmp.i, label %if.then.i, label %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit

if.then.i:                                        ; preds = %entry
  %high.i.i = getelementptr inbounds %"class.pbrt::Interval", ptr %o.i, i64 0, i32 1
  %5 = load <4 x float>, ptr %high.i.i, align 4
  %6 = shufflevector <4 x float> %5, <4 x float> poison, <2 x i32> <i32 0, i32 poison>
  %7 = load <4 x float>, ptr %o.i, align 16
  %8 = shufflevector <4 x float> %7, <4 x float> poison, <2 x i32> <i32 0, i32 poison>
  %y.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %o.i, i64 0, i32 1
  %high.i7.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %o.i, i64 0, i32 1, i32 1
  %9 = load float, ptr %high.i7.i, align 4, !noalias !149
  %10 = load float, ptr %y.i, align 8, !noalias !149
  %sub.i8.i = fsub float %9, %10
  %div8.i = fmul float %sub.i8.i, 5.000000e-01
  %z.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %o.i, i64 0, i32 2
  %high.i9.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %o.i, i64 0, i32 2, i32 1
  %11 = load float, ptr %high.i9.i, align 4, !noalias !149
  %12 = load float, ptr %z.i, align 16, !noalias !149
  %13 = insertelement <2 x float> %call.fca.0.extract.i, float %call.fca.1.extract.i, i64 1
  %14 = call <2 x float> @llvm.fabs.v2f32(<2 x float> %13)
  %15 = extractelement <2 x float> %call.fca.0.extract.i, i64 1
  %16 = call noundef float @llvm.fabs.f32(float %15)
  %mul4.i.i = fmul float %16, %div8.i
  %17 = insertelement <2 x float> %6, float %11, i64 1
  %18 = insertelement <2 x float> %8, float %12, i64 1
  %19 = fsub <2 x float> %17, %18
  %20 = fmul <2 x float> %19, <float 5.000000e-01, float 5.000000e-01>
  %21 = fmul <2 x float> %14, %20
  %22 = extractelement <2 x float> %21, i64 0
  %add.i13.i = fadd float %22, %mul4.i.i
  %23 = extractelement <2 x float> %21, i64 1
  %add7.i.i = fadd float %add.i13.i, %23
  %div18.i = fdiv float %add7.i.i, %add3.i.i
  %24 = insertelement <2 x float> poison, float %div18.i, i64 0
  %25 = shufflevector <2 x float> %24, <2 x float> poison, <2 x i32> zeroinitializer
  %26 = fmul <2 x float> %call.fca.0.extract.i, %25
  %mul3.i.i = fmul float %call.fca.1.extract.i, %div18.i
  %call23.i = call noundef nonnull align 4 dereferenceable(24) ptr @_ZN4pbrt8Point3fipLIfEERS0_NS_7Vector3IT_EE(ptr noundef nonnull align 4 dereferenceable(24) %o.i, <2 x float> %26, float %mul3.i.i), !noalias !149
  %sub.i = fsub float %raytMax, %div18.i
  br label %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit

_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit: ; preds = %entry, %if.then.i
  %raytMax.addr.0 = phi float [ %sub.i, %if.then.i ], [ %raytMax, %entry ]
  %27 = load <4 x float>, ptr %o.i, align 16
  %28 = shufflevector <4 x float> %27, <4 x float> poison, <2 x i32> <i32 0, i32 poison>
  %agg.tmp27.sroa.0.sroa.2.0.o.sroa_idx.i = getelementptr inbounds i8, ptr %o.i, i64 4
  %agg.tmp27.sroa.0.sroa.4.0.o.sroa_idx.i = getelementptr inbounds i8, ptr %o.i, i64 12
  %agg.tmp27.sroa.0.sroa.4.0.copyload.i = load float, ptr %agg.tmp27.sroa.0.sroa.4.0.o.sroa_idx.i, align 4, !noalias !149
  %agg.tmp27.sroa.0.sroa.5.0.o.sroa_idx.i = getelementptr inbounds i8, ptr %o.i, i64 16
  %agg.tmp27.sroa.0.sroa.5.0.copyload.i = load float, ptr %agg.tmp27.sroa.0.sroa.5.0.o.sroa_idx.i, align 16, !noalias !149
  %agg.tmp27.sroa.0.sroa.6.0.o.sroa_idx.i = getelementptr inbounds i8, ptr %o.i, i64 20
  %agg.tmp27.sroa.0.sroa.6.0.copyload.i = load float, ptr %agg.tmp27.sroa.0.sroa.6.0.o.sroa_idx.i, align 4, !noalias !149
  %29 = load <2 x float>, ptr %agg.tmp27.sroa.0.sroa.2.0.o.sroa_idx.i, align 4, !noalias !149
  %30 = insertelement <2 x float> %28, float %agg.tmp27.sroa.0.sroa.4.0.copyload.i, i64 1
  %31 = fadd <2 x float> %29, %30
  %32 = fmul <2 x float> %31, <float 5.000000e-01, float 5.000000e-01>
  %add.i.i5.i.i = fadd float %agg.tmp27.sroa.0.sroa.5.0.copyload.i, %agg.tmp27.sroa.0.sroa.6.0.copyload.i
  %div.i.i6.i.i = fmul float %add.i.i5.i.i, 5.000000e-01
  %medium.i = getelementptr inbounds %"class.pbrt::Ray", ptr %ray, i64 0, i32 3
  %33 = load i64, ptr %medium.i, align 8
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %o.i)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %ref.tmp.i)
  store <2 x float> %32, ptr %ray, align 8
  store float %div.i.i6.i.i, ptr %z.i.i, align 8
  store <2 x float> %call.fca.0.extract.i, ptr %d3.i, align 4
  store float %call.fca.1.extract.i, ptr %agg.tmp.sroa.2.0.d3.sroa_idx.i, align 4
  %34 = extractelement <2 x float> %call.fca.0.extract.i, i64 1
  %div.i2 = fdiv float 1.000000e+00, %34
  %y.i17.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %this, i64 0, i32 1
  %retval.0.i18.i = load float, ptr %y.i17.i, align 4
  %35 = extractelement <2 x float> %32, i64 1
  %sub.i3 = fsub float %retval.0.i18.i, %35
  %mul.i = fmul float %div.i2, %sub.i3
  %y.i27.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %this, i64 0, i32 1, i32 0, i32 1
  %36 = extractelement <2 x float> %call.fca.0.extract.i, i64 0
  %div52.i = fdiv float 1.000000e+00, %36
  %retval.0.i1866.i = load float, ptr %this, align 8
  %37 = extractelement <2 x float> %32, i64 0
  %sub87.i = fsub float %retval.0.i1866.i, %37
  %mul88.i = fmul float %div52.i, %sub87.i
  %pMax89.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %this, i64 0, i32 1
  %div47.i = fdiv float 1.000000e+00, %call.fca.1.extract.i
  %z.i20.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %this, i64 0, i32 2
  %retval.0.i1855.i = load float, ptr %z.i20.i, align 8
  %sub72.i = fsub float %retval.0.i1855.i, %div.i.i6.i.i
  %mul73.i = fmul float %div47.i, %sub72.i
  %z.i31.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %this, i64 0, i32 1, i32 0, i32 2
  br label %for.body.i

for.cond.i:                                       ; preds = %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i
  %inc.i = add nuw nsw i32 %i.0113.i, 1
  %cmp.i4 = icmp ugt i32 %i.0113.i, 1
  %exitcond.i = icmp eq i32 %inc.i, 3
  br i1 %exitcond.i, label %_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit, label %for.body.i, !llvm.loop !145

for.body.i:                                       ; preds = %for.cond.i, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit
  %cmp114.i = phi i1 [ false, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit ], [ %cmp.i4, %for.cond.i ]
  %i.0113.i = phi i32 [ 0, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit ], [ %inc.i, %for.cond.i ]
  %t1.0112.i = phi float [ %raytMax.addr.0, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit ], [ %cond18.i, %for.cond.i ]
  %t0.0111.i = phi float [ 0.000000e+00, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit ], [ %cond.i, %for.cond.i ]
  switch i32 %i.0113.i, label %if.end4.i36.i [
    i32 0, label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i
    i32 1, label %if.then3.i33.i
  ]

if.then3.i33.i:                                   ; preds = %for.body.i
  br label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i

if.end4.i36.i:                                    ; preds = %for.body.i
  br label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i

_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i:       ; preds = %if.end4.i36.i, %if.then3.i33.i, %for.body.i
  %retval.0.i2999.in.i = phi ptr [ %y.i27.i, %if.then3.i33.i ], [ %z.i31.i, %if.end4.i36.i ], [ %pMax89.i, %for.body.i ]
  %div48577797.i = phi float [ %div.i2, %if.then3.i33.i ], [ %div47.i, %if.end4.i36.i ], [ %div52.i, %for.body.i ]
  %mul7995.i = phi float [ %mul.i, %if.then3.i33.i ], [ %mul73.i, %if.end4.i36.i ], [ %mul88.i, %for.body.i ]
  %retval.0.i35.sroa.speculated.i = phi float [ %35, %if.then3.i33.i ], [ %div.i.i6.i.i, %if.end4.i36.i ], [ %37, %for.body.i ]
  %retval.0.i2999.i = load float, ptr %retval.0.i2999.in.i, align 4
  %sub7.i = fsub float %retval.0.i2999.i, %retval.0.i35.sroa.speculated.i
  %mul8.i = fmul float %div48577797.i, %sub7.i
  %cmp9.i = fcmp ogt float %mul7995.i, %mul8.i
  %tNear.0.i = select i1 %cmp9.i, float %mul8.i, float %mul7995.i
  %tFar.0.i = select i1 %cmp9.i, float %mul7995.i, float %mul8.i
  %mul12.i = fmul float %tFar.0.i, 0x3FF0000060000000
  %cmp13.i = fcmp ogt float %tNear.0.i, %t0.0111.i
  %cond.i = select i1 %cmp13.i, float %tNear.0.i, float %t0.0111.i
  %cmp14.i = fcmp olt float %mul12.i, %t1.0112.i
  %cond18.i = select i1 %cmp14.i, float %mul12.i, float %t1.0112.i
  %cmp19.i = fcmp ogt float %cond.i, %cond18.i
  br i1 %cmp19.i, label %_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit, label %for.cond.i

_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit: ; preds = %for.cond.i, %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i
  %cmp108.i = phi i1 [ %cmp114.i, %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i ], [ %cmp.i4, %for.cond.i ]
  br i1 %cmp108.i, label %do.end, label %if.then

if.then:                                          ; preds = %_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit
  %tMin.i = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %agg.result, i64 0, i32 1
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(96) %agg.result, i8 0, i64 96, i1 false)
  store <2 x float> <float 0x7FF0000000000000, float 0xFFF0000000000000>, ptr %tMin.i, align 8
  br label %return

do.end:                                           ; preds = %_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %sigma_t, i8 0, i64 16, i1 false)
  br label %for.body.i.i

for.body.i.i:                                     ; preds = %for.body.i.i, %do.end
  %indvars.iv.i.i = phi i64 [ 0, %do.end ], [ %indvars.iv.next.i.i, %for.body.i.i ]
  %arrayidx.i.i = getelementptr inbounds [4 x float], ptr %sigma_t, i64 0, i64 %indvars.iv.i.i
  store float 1.000000e+00, ptr %arrayidx.i.i, align 4
  %indvars.iv.next.i.i = add nuw nsw i64 %indvars.iv.i.i, 1
  %exitcond.not.i.i = icmp eq i64 %indvars.iv.next.i.i, 4
  br i1 %exitcond.not.i.i, label %_ZN4pbrt15SampledSpectrumC2Ef.exit, label %for.body.i.i, !llvm.loop !103

_ZN4pbrt15SampledSpectrumC2Ef.exit:               ; preds = %for.body.i.i
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(28) %agg.tmp4, ptr noundef nonnull align 8 dereferenceable(28) %ray, i64 28, i1 false)
  %medium.i5 = getelementptr inbounds %"class.pbrt::Ray", ptr %agg.tmp4, i64 0, i32 3
  store i64 %33, ptr %medium.i5, align 8
  %majorantGrid = getelementptr inbounds %"class.pbrt::RGBGridMedium", ptr %this, i64 0, i32 9
  %agg.tmp5.sroa.0.0.copyload = load <2 x float>, ptr %sigma_t, align 8
  %agg.tmp5.sroa.2.0.sigma_t.sroa_idx = getelementptr inbounds i8, ptr %sigma_t, i64 8
  %agg.tmp5.sroa.2.0.copyload = load <2 x float>, ptr %agg.tmp5.sroa.2.0.sigma_t.sroa_idx, align 8
  call void @_ZN4pbrt19DDAMajorantIteratorC2ENS_3RayEffPKNS_12MajorantGridENS_15SampledSpectrumE(ptr noundef nonnull align 8 dereferenceable(92) %agg.result, ptr noundef nonnull %agg.tmp4, float noundef %cond.i, float noundef %cond18.i, ptr noundef nonnull %majorantGrid, <2 x float> %agg.tmp5.sroa.0.0.copyload, <2 x float> %agg.tmp5.sroa.2.0.copyload)
  br label %return

return:                                           ; preds = %_ZN4pbrt15SampledSpectrumC2Ef.exit, %if.then
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local { <2 x float>, <2 x float> } @_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaS6_T_(ptr noundef nonnull align 8 dereferenceable(44) %this, <2 x float> %p.coerce0, float %p.coerce1, ptr noundef byval(%class.anon.239) align 8 %convert) local_unnamed_addr #9 comdat align 2 {
entry:
  %ret.i.i999 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i2.i1000 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i1001 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp2.i1002 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i.i961 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i2.i962 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i963 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp2.i964 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i.i923 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i2.i924 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i925 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp2.i926 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i.i885 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i2.i886 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i887 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp2.i888 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i8.i790 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i791 = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp97789 = alloca %class.anon.239, align 8
  %retval.i.i8.i678 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i679 = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp87677 = alloca %class.anon.239, align 8
  %ret.i.i623 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i2.i624 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i625 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp2.i626 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i8.i528 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i529 = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp73527 = alloca %class.anon.239, align 8
  %retval.i.i8.i416 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i417 = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp63415 = alloca %class.anon.239, align 8
  %ret.i.i361 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i2.i362 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i363 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp2.i364 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i8.i266 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i267 = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp49265 = alloca %class.anon.239, align 8
  %retval.i.i8.i154 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i155 = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp39153 = alloca %class.anon.239, align 8
  %ret.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i2.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i127 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp2.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i8.i32 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i33 = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp2531 = alloca %class.anon.239, align 8
  %retval.i.i8.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp1522 = alloca %class.anon.239, align 8
  %p.sroa.0.0.vec.extract = extractelement <2 x float> %p.coerce0, i64 0
  %nx = getelementptr inbounds %"class.pbrt::SampledGrid.240", ptr %this, i64 0, i32 1
  %0 = load i32, ptr %nx, align 8
  %conv = sitofp i32 %0 to float
  %mul = fmul float %p.sroa.0.0.vec.extract, %conv
  %sub = fadd float %mul, -5.000000e-01
  %p.sroa.0.4.vec.extract = extractelement <2 x float> %p.coerce0, i64 1
  %ny = getelementptr inbounds %"class.pbrt::SampledGrid.240", ptr %this, i64 0, i32 2
  %1 = load i32, ptr %ny, align 4
  %conv2 = sitofp i32 %1 to float
  %mul3 = fmul float %p.sroa.0.4.vec.extract, %conv2
  %sub4 = fadd float %mul3, -5.000000e-01
  %nz = getelementptr inbounds %"class.pbrt::SampledGrid.240", ptr %this, i64 0, i32 3
  %2 = load i32, ptr %nz, align 8
  %conv5 = sitofp i32 %2 to float
  %mul6 = fmul float %conv5, %p.coerce1
  %sub7 = fadd float %mul6, -5.000000e-01
  %3 = tail call noundef float @llvm.floor.f32(float %sub)
  %4 = tail call noundef float @llvm.floor.f32(float %sub4)
  %5 = tail call noundef float @llvm.floor.f32(float %sub7)
  %conv.i = fptosi float %3 to i32
  %conv2.i = fptosi float %4 to i32
  %conv3.i = fptosi float %5 to i32
  %conv.i11 = sitofp i32 %conv.i to float
  %conv2.i12 = sitofp i32 %conv2.i to float
  %conv3.i13 = sitofp i32 %conv3.i to float
  %sub.i = fsub float %sub, %conv.i11
  %sub4.i = fsub float %sub4, %conv2.i12
  %sub6.i = fsub float %sub7, %conv3.i13
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp1522)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp1522, ptr noundef nonnull align 8 dereferenceable(32) %convert, i64 32, i1 false)
  %.sroa.speculated10.i.i.i = tail call i32 @llvm.smin.i32(i32 %0, i32 0)
  %.sroa.speculated7.i.i.i = tail call i32 @llvm.smin.i32(i32 %1, i32 0)
  %.sroa.speculated.i.i.i = tail call i32 @llvm.smin.i32(i32 %2, i32 0)
  %.sroa.speculated10.i11.i.i = tail call i32 @llvm.smax.i32(i32 %0, i32 0)
  %.sroa.speculated7.i12.i.i = tail call i32 @llvm.smax.i32(i32 %1, i32 0)
  %.sroa.speculated.i13.i.i = tail call i32 @llvm.smax.i32(i32 %2, i32 0)
  %cmp.not.i.i = icmp sle i32 %.sroa.speculated10.i.i.i, %conv.i
  %cmp4.i.i = icmp sgt i32 %.sroa.speculated10.i11.i.i, %conv.i
  %or.cond.not12.not.not.i.not.i = select i1 %cmp.not.i.i, i1 %cmp4.i.i, i1 false
  %cmp8.not.i.i = icmp sle i32 %.sroa.speculated7.i.i.i, %conv2.i
  %or.cond9.i.i = select i1 %or.cond.not12.not.not.i.not.i, i1 %cmp8.not.i.i, i1 false
  %cmp13.i.i = icmp sgt i32 %.sroa.speculated7.i12.i.i, %conv2.i
  %or.cond10.i.i = select i1 %or.cond9.i.i, i1 %cmp13.i.i, i1 false
  %cmp17.not.i.i = icmp sle i32 %.sroa.speculated.i.i.i, %conv3.i
  %or.cond11.i.i = select i1 %or.cond10.i.i, i1 %cmp17.not.i.i, i1 false
  %cmp21.i.i = icmp sgt i32 %.sroa.speculated.i13.i.i, %conv3.i
  %or.cond.i = select i1 %or.cond11.i.i, i1 %cmp21.i.i, i1 false
  br i1 %or.cond.i, label %if.end.i, label %if.then.i

if.then.i:                                        ; preds = %entry
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i.i, i8 0, i64 16, i1 false)
  br label %for.body.i.i.i

for.body.i.i.i:                                   ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i, %if.then.i
  %indvars.iv.i.i.i = phi i64 [ 0, %if.then.i ], [ %indvars.iv.next.i.i.i, %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i ]
  %arrayidx.i.i.i.i.i = getelementptr inbounds [4 x float], ptr %agg.tmp1522, i64 0, i64 %indvars.iv.i.i.i
  %6 = load float, ptr %arrayidx.i.i.i.i.i, align 4
  %7 = tail call noundef float @llvm.fma.f32(float %6, float 0.000000e+00, float 0.000000e+00)
  %8 = tail call noundef float @llvm.fma.f32(float %6, float %7, float 0.000000e+00)
  %9 = tail call float @llvm.fabs.f32(float %8)
  %10 = fcmp oeq float %9, 0x7FF0000000000000
  br i1 %10, label %if.then.i.i.i.i.i, label %if.end.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %for.body.i.i.i
  %cmp.i.i.i.i.i = fcmp ogt float %8, 0.000000e+00
  %conv.i.i.i.i.i = uitofp i1 %cmp.i.i.i.i.i to float
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i

if.end.i.i.i.i.i:                                 ; preds = %for.body.i.i.i
  %mul.i.i.i.i.i.i = fmul float %8, %8
  %add.i.i.i.i.i = fadd float %mul.i.i.i.i.i.i, 1.000000e+00
  %sqrt.i.i.i.i.i = tail call float @llvm.sqrt.f32(float %add.i.i.i.i.i)
  %mul.i.i.i.i.i = fmul float %sqrt.i.i.i.i.i, 2.000000e+00
  %div.i.i.i.i.i = fdiv float %8, %mul.i.i.i.i.i
  %add3.i.i.i.i.i = fadd float %div.i.i.i.i.i, 5.000000e-01
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i

_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i:   ; preds = %if.end.i.i.i.i.i, %if.then.i.i.i.i.i
  %retval.0.i.i.i.i.i = phi float [ %conv.i.i.i.i.i, %if.then.i.i.i.i.i ], [ %add3.i.i.i.i.i, %if.end.i.i.i.i.i ]
  %mul.i.i.i = fmul float %retval.0.i.i.i.i.i, 0.000000e+00
  %arrayidx.i.i5.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i.i, i64 0, i64 %indvars.iv.i.i.i
  store float %mul.i.i.i, ptr %arrayidx.i.i5.i.i.i, align 4
  %indvars.iv.next.i.i.i = add nuw nsw i64 %indvars.iv.i.i.i, 1
  %exitcond.not.i.i.i = icmp eq i64 %indvars.iv.next.i.i.i, 4
  br i1 %exitcond.not.i.i.i, label %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i, label %for.body.i.i.i, !llvm.loop !152

_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i: ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i
  %.fca.0.load.i.i.i = load <2 x float>, ptr %retval.i.i.i, align 8
  %.fca.1.gep.i.i.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i.i, i64 0, i32 1
  %.fca.1.load.i.i.i = load <2 x float>, ptr %.fca.1.gep.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i)
  br label %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit

if.end.i:                                         ; preds = %entry
  %mul.i = mul nsw i32 %1, %conv3.i
  %add.i = add nsw i32 %mul.i, %conv2.i
  %mul10.i = mul nsw i32 %add.i, %0
  %add11.i = add nsw i32 %mul10.i, %conv.i
  %conv.i23 = sext i32 %add11.i to i64
  %ptr.i.i = getelementptr inbounds %"class.pstd::vector.241", ptr %this, i64 0, i32 1
  %11 = load ptr, ptr %ptr.i.i, align 8
  %arrayidx.i.i = getelementptr inbounds %"class.pbrt::RGBUnboundedSpectrum", ptr %11, i64 %conv.i23
  %agg.tmp7.sroa.0.0.copyload.i = load <2 x float>, ptr %arrayidx.i.i, align 4
  %agg.tmp7.sroa.2.0.call12.sroa_idx.i = getelementptr inbounds i8, ptr %arrayidx.i.i, i64 8
  %agg.tmp7.sroa.2.0.copyload.i = load <2 x float>, ptr %agg.tmp7.sroa.2.0.call12.sroa_idx.i, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i8.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i8.i, i8 0, i64 16, i1 false)
  %s.sroa.0.0.vec.extract.i9.i = extractelement <2 x float> %agg.tmp7.sroa.0.0.copyload.i, i64 0
  %s.sroa.3.12.vec.extract.i10.i = extractelement <2 x float> %agg.tmp7.sroa.2.0.copyload.i, i64 1
  %s.sroa.3.8.vec.extract.i11.i = extractelement <2 x float> %agg.tmp7.sroa.2.0.copyload.i, i64 0
  %s.sroa.0.4.vec.extract.i12.i = extractelement <2 x float> %agg.tmp7.sroa.0.0.copyload.i, i64 1
  br label %for.body.i.i13.i

for.body.i.i13.i:                                 ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i, %if.end.i
  %indvars.iv.i.i14.i = phi i64 [ 0, %if.end.i ], [ %indvars.iv.next.i.i27.i, %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i ]
  %arrayidx.i.i.i.i15.i = getelementptr inbounds [4 x float], ptr %agg.tmp1522, i64 0, i64 %indvars.iv.i.i14.i
  %12 = load float, ptr %arrayidx.i.i.i.i15.i, align 4
  %13 = tail call noundef float @llvm.fma.f32(float %12, float %s.sroa.0.4.vec.extract.i12.i, float %s.sroa.3.8.vec.extract.i11.i)
  %14 = tail call noundef float @llvm.fma.f32(float %12, float %13, float %s.sroa.3.12.vec.extract.i10.i)
  %15 = tail call float @llvm.fabs.f32(float %14)
  %16 = fcmp oeq float %15, 0x7FF0000000000000
  br i1 %16, label %if.then.i.i.i.i34.i, label %if.end.i.i.i.i16.i

if.then.i.i.i.i34.i:                              ; preds = %for.body.i.i13.i
  %cmp.i.i.i.i35.i = fcmp ogt float %14, 0.000000e+00
  %conv.i.i.i.i36.i = uitofp i1 %cmp.i.i.i.i35.i to float
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i

if.end.i.i.i.i16.i:                               ; preds = %for.body.i.i13.i
  %mul.i.i.i.i.i17.i = fmul float %14, %14
  %add.i.i.i.i18.i = fadd float %mul.i.i.i.i.i17.i, 1.000000e+00
  %sqrt.i.i.i.i19.i = tail call float @llvm.sqrt.f32(float %add.i.i.i.i18.i)
  %mul.i.i.i.i20.i = fmul float %sqrt.i.i.i.i19.i, 2.000000e+00
  %div.i.i.i.i21.i = fdiv float %14, %mul.i.i.i.i20.i
  %add3.i.i.i.i22.i = fadd float %div.i.i.i.i21.i, 5.000000e-01
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i

_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i: ; preds = %if.end.i.i.i.i16.i, %if.then.i.i.i.i34.i
  %retval.0.i.i.i.i24.i = phi float [ %conv.i.i.i.i36.i, %if.then.i.i.i.i34.i ], [ %add3.i.i.i.i22.i, %if.end.i.i.i.i16.i ]
  %mul.i.i25.i = fmul float %s.sroa.0.0.vec.extract.i9.i, %retval.0.i.i.i.i24.i
  %arrayidx.i.i5.i.i26.i = getelementptr inbounds [4 x float], ptr %retval.i.i8.i, i64 0, i64 %indvars.iv.i.i14.i
  store float %mul.i.i25.i, ptr %arrayidx.i.i5.i.i26.i, align 4
  %indvars.iv.next.i.i27.i = add nuw nsw i64 %indvars.iv.i.i14.i, 1
  %exitcond.not.i.i28.i = icmp eq i64 %indvars.iv.next.i.i27.i, 4
  br i1 %exitcond.not.i.i28.i, label %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i, label %for.body.i.i13.i, !llvm.loop !152

_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i: ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i
  %.fca.0.load.i.i29.i = load <2 x float>, ptr %retval.i.i8.i, align 8
  %.fca.1.gep.i.i31.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i8.i, i64 0, i32 1
  %.fca.1.load.i.i32.i = load <2 x float>, ptr %.fca.1.gep.i.i31.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i8.i)
  br label %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit

_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit: ; preds = %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i
  %.fca.0.load.i.i29.pn.i = phi <2 x float> [ %.fca.0.load.i.i29.i, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i ], [ %.fca.0.load.i.i.i, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i ]
  %.fca.1.load.i.i32.pn.i = phi <2 x float> [ %.fca.1.load.i.i32.i, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i ], [ %.fca.1.load.i.i.i, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i ]
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp1522)
  %add.i26 = add nsw i32 %conv.i, 1
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp2531)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp2531, ptr noundef nonnull align 8 dereferenceable(32) %convert, i64 32, i1 false)
  %cmp.not.i.i49 = icmp sle i32 %.sroa.speculated10.i.i.i, %add.i26
  %cmp4.i.i50 = icmp sgt i32 %.sroa.speculated10.i11.i.i, %add.i26
  %or.cond.not12.not.not.i.not.i51 = select i1 %cmp.not.i.i49, i1 %cmp4.i.i50, i1 false
  %or.cond9.i.i53 = select i1 %or.cond.not12.not.not.i.not.i51, i1 %cmp8.not.i.i, i1 false
  %or.cond10.i.i55 = select i1 %or.cond9.i.i53, i1 %cmp13.i.i, i1 false
  %or.cond11.i.i57 = select i1 %or.cond10.i.i55, i1 %cmp17.not.i.i, i1 false
  %or.cond.i59 = select i1 %or.cond11.i.i57, i1 %cmp21.i.i, i1 false
  br i1 %or.cond.i59, label %if.end.i88, label %if.then.i60

if.then.i60:                                      ; preds = %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i33)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i.i33, i8 0, i64 16, i1 false)
  br label %for.body.i.i.i61

for.body.i.i.i61:                                 ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i71, %if.then.i60
  %indvars.iv.i.i.i62 = phi i64 [ 0, %if.then.i60 ], [ %indvars.iv.next.i.i.i75, %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i71 ]
  %arrayidx.i.i.i.i.i63 = getelementptr inbounds [4 x float], ptr %agg.tmp2531, i64 0, i64 %indvars.iv.i.i.i62
  %17 = load float, ptr %arrayidx.i.i.i.i.i63, align 4
  %18 = tail call noundef float @llvm.fma.f32(float %17, float 0.000000e+00, float 0.000000e+00)
  %19 = tail call noundef float @llvm.fma.f32(float %17, float %18, float 0.000000e+00)
  %20 = tail call float @llvm.fabs.f32(float %19)
  %21 = fcmp oeq float %20, 0x7FF0000000000000
  br i1 %21, label %if.then.i.i.i.i.i85, label %if.end.i.i.i.i.i64

if.then.i.i.i.i.i85:                              ; preds = %for.body.i.i.i61
  %cmp.i.i.i.i.i86 = fcmp ogt float %19, 0.000000e+00
  %conv.i.i.i.i.i87 = uitofp i1 %cmp.i.i.i.i.i86 to float
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i71

if.end.i.i.i.i.i64:                               ; preds = %for.body.i.i.i61
  %mul.i.i.i.i.i.i65 = fmul float %19, %19
  %add.i.i.i.i.i66 = fadd float %mul.i.i.i.i.i.i65, 1.000000e+00
  %sqrt.i.i.i.i.i67 = tail call float @llvm.sqrt.f32(float %add.i.i.i.i.i66)
  %mul.i.i.i.i.i68 = fmul float %sqrt.i.i.i.i.i67, 2.000000e+00
  %div.i.i.i.i.i69 = fdiv float %19, %mul.i.i.i.i.i68
  %add3.i.i.i.i.i70 = fadd float %div.i.i.i.i.i69, 5.000000e-01
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i71

_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i71: ; preds = %if.end.i.i.i.i.i64, %if.then.i.i.i.i.i85
  %retval.0.i.i.i.i.i72 = phi float [ %conv.i.i.i.i.i87, %if.then.i.i.i.i.i85 ], [ %add3.i.i.i.i.i70, %if.end.i.i.i.i.i64 ]
  %mul.i.i.i73 = fmul float %retval.0.i.i.i.i.i72, 0.000000e+00
  %arrayidx.i.i5.i.i.i74 = getelementptr inbounds [4 x float], ptr %retval.i.i.i33, i64 0, i64 %indvars.iv.i.i.i62
  store float %mul.i.i.i73, ptr %arrayidx.i.i5.i.i.i74, align 4
  %indvars.iv.next.i.i.i75 = add nuw nsw i64 %indvars.iv.i.i.i62, 1
  %exitcond.not.i.i.i76 = icmp eq i64 %indvars.iv.next.i.i.i75, 4
  br i1 %exitcond.not.i.i.i76, label %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i77, label %for.body.i.i.i61, !llvm.loop !152

_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i77: ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i71
  %.fca.0.load.i.i.i78 = load <2 x float>, ptr %retval.i.i.i33, align 8
  %.fca.1.gep.i.i.i79 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i.i33, i64 0, i32 1
  %.fca.1.load.i.i.i80 = load <2 x float>, ptr %.fca.1.gep.i.i.i79, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i33)
  br label %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit126

if.end.i88:                                       ; preds = %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit
  %mul.i89 = mul nsw i32 %1, %conv3.i
  %add.i90 = add nsw i32 %mul.i89, %conv2.i
  %mul10.i91 = mul nsw i32 %add.i90, %0
  %add11.i92 = add nsw i32 %mul10.i91, %add.i26
  %conv.i93 = sext i32 %add11.i92 to i64
  %ptr.i.i94 = getelementptr inbounds %"class.pstd::vector.241", ptr %this, i64 0, i32 1
  %22 = load ptr, ptr %ptr.i.i94, align 8
  %arrayidx.i.i95 = getelementptr inbounds %"class.pbrt::RGBUnboundedSpectrum", ptr %22, i64 %conv.i93
  %agg.tmp7.sroa.0.0.copyload.i96 = load <2 x float>, ptr %arrayidx.i.i95, align 4
  %agg.tmp7.sroa.2.0.call12.sroa_idx.i97 = getelementptr inbounds i8, ptr %arrayidx.i.i95, i64 8
  %agg.tmp7.sroa.2.0.copyload.i98 = load <2 x float>, ptr %agg.tmp7.sroa.2.0.call12.sroa_idx.i97, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i8.i32)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i8.i32, i8 0, i64 16, i1 false)
  %s.sroa.0.0.vec.extract.i9.i99 = extractelement <2 x float> %agg.tmp7.sroa.0.0.copyload.i96, i64 0
  %s.sroa.3.12.vec.extract.i10.i100 = extractelement <2 x float> %agg.tmp7.sroa.2.0.copyload.i98, i64 1
  %s.sroa.3.8.vec.extract.i11.i101 = extractelement <2 x float> %agg.tmp7.sroa.2.0.copyload.i98, i64 0
  %s.sroa.0.4.vec.extract.i12.i102 = extractelement <2 x float> %agg.tmp7.sroa.0.0.copyload.i96, i64 1
  br label %for.body.i.i13.i103

for.body.i.i13.i103:                              ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i113, %if.end.i88
  %indvars.iv.i.i14.i104 = phi i64 [ 0, %if.end.i88 ], [ %indvars.iv.next.i.i27.i117, %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i113 ]
  %arrayidx.i.i.i.i15.i105 = getelementptr inbounds [4 x float], ptr %agg.tmp2531, i64 0, i64 %indvars.iv.i.i14.i104
  %23 = load float, ptr %arrayidx.i.i.i.i15.i105, align 4
  %24 = tail call noundef float @llvm.fma.f32(float %23, float %s.sroa.0.4.vec.extract.i12.i102, float %s.sroa.3.8.vec.extract.i11.i101)
  %25 = tail call noundef float @llvm.fma.f32(float %23, float %24, float %s.sroa.3.12.vec.extract.i10.i100)
  %26 = tail call float @llvm.fabs.f32(float %25)
  %27 = fcmp oeq float %26, 0x7FF0000000000000
  br i1 %27, label %if.then.i.i.i.i34.i123, label %if.end.i.i.i.i16.i106

if.then.i.i.i.i34.i123:                           ; preds = %for.body.i.i13.i103
  %cmp.i.i.i.i35.i124 = fcmp ogt float %25, 0.000000e+00
  %conv.i.i.i.i36.i125 = uitofp i1 %cmp.i.i.i.i35.i124 to float
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i113

if.end.i.i.i.i16.i106:                            ; preds = %for.body.i.i13.i103
  %mul.i.i.i.i.i17.i107 = fmul float %25, %25
  %add.i.i.i.i18.i108 = fadd float %mul.i.i.i.i.i17.i107, 1.000000e+00
  %sqrt.i.i.i.i19.i109 = tail call float @llvm.sqrt.f32(float %add.i.i.i.i18.i108)
  %mul.i.i.i.i20.i110 = fmul float %sqrt.i.i.i.i19.i109, 2.000000e+00
  %div.i.i.i.i21.i111 = fdiv float %25, %mul.i.i.i.i20.i110
  %add3.i.i.i.i22.i112 = fadd float %div.i.i.i.i21.i111, 5.000000e-01
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i113

_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i113: ; preds = %if.end.i.i.i.i16.i106, %if.then.i.i.i.i34.i123
  %retval.0.i.i.i.i24.i114 = phi float [ %conv.i.i.i.i36.i125, %if.then.i.i.i.i34.i123 ], [ %add3.i.i.i.i22.i112, %if.end.i.i.i.i16.i106 ]
  %mul.i.i25.i115 = fmul float %s.sroa.0.0.vec.extract.i9.i99, %retval.0.i.i.i.i24.i114
  %arrayidx.i.i5.i.i26.i116 = getelementptr inbounds [4 x float], ptr %retval.i.i8.i32, i64 0, i64 %indvars.iv.i.i14.i104
  store float %mul.i.i25.i115, ptr %arrayidx.i.i5.i.i26.i116, align 4
  %indvars.iv.next.i.i27.i117 = add nuw nsw i64 %indvars.iv.i.i14.i104, 1
  %exitcond.not.i.i28.i118 = icmp eq i64 %indvars.iv.next.i.i27.i117, 4
  br i1 %exitcond.not.i.i28.i118, label %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i119, label %for.body.i.i13.i103, !llvm.loop !152

_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i119: ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i113
  %.fca.0.load.i.i29.i120 = load <2 x float>, ptr %retval.i.i8.i32, align 8
  %.fca.1.gep.i.i31.i121 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i8.i32, i64 0, i32 1
  %.fca.1.load.i.i32.i122 = load <2 x float>, ptr %.fca.1.gep.i.i31.i121, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i8.i32)
  br label %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit126

_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit126: ; preds = %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i77, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i119
  %.fca.0.load.i.i29.pn.i81 = phi <2 x float> [ %.fca.0.load.i.i29.i120, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i119 ], [ %.fca.0.load.i.i.i78, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i77 ]
  %.fca.1.load.i.i32.pn.i82 = phi <2 x float> [ %.fca.1.load.i.i32.i122, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i119 ], [ %.fca.1.load.i.i.i80, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i77 ]
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp2531)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp2.i)
  %sub.i128 = fsub float 1.000000e+00, %sub.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i127)
  store <2 x float> %.fca.0.load.i.i29.pn.i, ptr %retval.i.i.i127, align 8
  %ref.tmp.sroa.2.0.retval.i.i.i127.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i.i127, i64 8
  store <2 x float> %.fca.1.load.i.i32.pn.i, ptr %ref.tmp.sroa.2.0.retval.i.i.i127.sroa_idx, align 8
  br label %for.body.i.i.i129

for.body.i.i.i129:                                ; preds = %for.body.i.i.i129, %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit126
  %indvars.iv.i.i.i130 = phi i64 [ 0, %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit126 ], [ %indvars.iv.next.i.i.i132, %for.body.i.i.i129 ]
  %arrayidx.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i.i127, i64 0, i64 %indvars.iv.i.i.i130
  %28 = load float, ptr %arrayidx.i.i.i.i, align 4
  %mul.i.i.i131 = fmul float %sub.i128, %28
  store float %mul.i.i.i131, ptr %arrayidx.i.i.i.i, align 4
  %indvars.iv.next.i.i.i132 = add nuw nsw i64 %indvars.iv.i.i.i130, 1
  %exitcond.not.i.i.i133 = icmp eq i64 %indvars.iv.next.i.i.i132, 4
  br i1 %exitcond.not.i.i.i133, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i, label %for.body.i.i.i129, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i:       ; preds = %for.body.i.i.i129
  %.fca.0.load.i.i.i134 = load <2 x float>, ptr %retval.i.i.i127, align 8
  %.fca.1.load.i.i.i136 = load <2 x float>, ptr %ref.tmp.sroa.2.0.retval.i.i.i127.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i127)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i2.i)
  store <2 x float> %.fca.0.load.i.i29.pn.i81, ptr %retval.i.i2.i, align 8
  %ref.tmp19.sroa.2.0.retval.i.i2.i.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i2.i, i64 8
  store <2 x float> %.fca.1.load.i.i32.pn.i82, ptr %ref.tmp19.sroa.2.0.retval.i.i2.i.sroa_idx, align 8
  br label %for.body.i.i3.i

for.body.i.i3.i:                                  ; preds = %for.body.i.i3.i, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i
  %indvars.iv.i.i4.i = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i ], [ %indvars.iv.next.i.i7.i, %for.body.i.i3.i ]
  %arrayidx.i.i.i5.i = getelementptr inbounds [4 x float], ptr %retval.i.i2.i, i64 0, i64 %indvars.iv.i.i4.i
  %29 = load float, ptr %arrayidx.i.i.i5.i, align 4
  %mul.i.i6.i = fmul float %sub.i, %29
  store float %mul.i.i6.i, ptr %arrayidx.i.i.i5.i, align 4
  %indvars.iv.next.i.i7.i = add nuw nsw i64 %indvars.iv.i.i4.i, 1
  %exitcond.not.i.i8.i = icmp eq i64 %indvars.iv.next.i.i7.i, 4
  br i1 %exitcond.not.i.i8.i, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i, label %for.body.i.i3.i, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i:     ; preds = %for.body.i.i3.i
  %.fca.0.load.i.i9.i = load <2 x float>, ptr %retval.i.i2.i, align 8
  %.fca.1.load.i.i12.i = load <2 x float>, ptr %ref.tmp19.sroa.2.0.retval.i.i2.i.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i2.i)
  store <2 x float> %.fca.0.load.i.i9.i, ptr %ref.tmp2.i, align 8
  %30 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp2.i, i64 0, i32 1
  store <2 x float> %.fca.1.load.i.i12.i, ptr %30, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i.i)
  store <2 x float> %.fca.0.load.i.i.i134, ptr %ret.i.i, align 8
  %ref.tmp.sroa.2.0.ret.i.sroa_idx.i = getelementptr inbounds i8, ptr %ret.i.i, i64 8
  store <2 x float> %.fca.1.load.i.i.i136, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i, align 8
  br label %for.body.i.i15.i

for.body.i.i15.i:                                 ; preds = %for.body.i.i15.i, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i
  %indvars.iv.i.i16.i = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i ], [ %indvars.iv.next.i.i18.i, %for.body.i.i15.i ]
  %arrayidx.i.i.i17.i = getelementptr inbounds [4 x float], ptr %ref.tmp2.i, i64 0, i64 %indvars.iv.i.i16.i
  %31 = load float, ptr %arrayidx.i.i.i17.i, align 4
  %arrayidx.i4.i.i.i = getelementptr inbounds [4 x float], ptr %ret.i.i, i64 0, i64 %indvars.iv.i.i16.i
  %32 = load float, ptr %arrayidx.i4.i.i.i, align 4
  %add.i.i.i = fadd float %31, %32
  store float %add.i.i.i, ptr %arrayidx.i4.i.i.i, align 4
  %indvars.iv.next.i.i18.i = add nuw nsw i64 %indvars.iv.i.i16.i, 1
  %exitcond.not.i.i19.i = icmp eq i64 %indvars.iv.next.i.i18.i, 4
  br i1 %exitcond.not.i.i19.i, label %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit, label %for.body.i.i15.i, !llvm.loop !87

_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit:   ; preds = %for.body.i.i15.i
  %retval.sroa.0.0.copyload.i.i = load <2 x float>, ptr %ret.i.i, align 8
  %retval.sroa.2.0.copyload.i.i = load <2 x float>, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp2.i)
  %add4.i144 = add nsw i32 %conv2.i, 1
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp39153)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp39153, ptr noundef nonnull align 8 dereferenceable(32) %convert, i64 32, i1 false)
  %cmp8.not.i.i174 = icmp sle i32 %.sroa.speculated7.i.i.i, %add4.i144
  %or.cond9.i.i175 = select i1 %or.cond.not12.not.not.i.not.i, i1 %cmp8.not.i.i174, i1 false
  %cmp13.i.i176 = icmp sgt i32 %.sroa.speculated7.i12.i.i, %add4.i144
  %or.cond10.i.i177 = select i1 %or.cond9.i.i175, i1 %cmp13.i.i176, i1 false
  %or.cond11.i.i179 = select i1 %or.cond10.i.i177, i1 %cmp17.not.i.i, i1 false
  %or.cond.i181 = select i1 %or.cond11.i.i179, i1 %cmp21.i.i, i1 false
  br i1 %or.cond.i181, label %if.end.i210, label %if.then.i182

if.then.i182:                                     ; preds = %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i155)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i.i155, i8 0, i64 16, i1 false)
  br label %for.body.i.i.i183

for.body.i.i.i183:                                ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i193, %if.then.i182
  %indvars.iv.i.i.i184 = phi i64 [ 0, %if.then.i182 ], [ %indvars.iv.next.i.i.i197, %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i193 ]
  %arrayidx.i.i.i.i.i185 = getelementptr inbounds [4 x float], ptr %agg.tmp39153, i64 0, i64 %indvars.iv.i.i.i184
  %33 = load float, ptr %arrayidx.i.i.i.i.i185, align 4
  %34 = tail call noundef float @llvm.fma.f32(float %33, float 0.000000e+00, float 0.000000e+00)
  %35 = tail call noundef float @llvm.fma.f32(float %33, float %34, float 0.000000e+00)
  %36 = tail call float @llvm.fabs.f32(float %35)
  %37 = fcmp oeq float %36, 0x7FF0000000000000
  br i1 %37, label %if.then.i.i.i.i.i207, label %if.end.i.i.i.i.i186

if.then.i.i.i.i.i207:                             ; preds = %for.body.i.i.i183
  %cmp.i.i.i.i.i208 = fcmp ogt float %35, 0.000000e+00
  %conv.i.i.i.i.i209 = uitofp i1 %cmp.i.i.i.i.i208 to float
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i193

if.end.i.i.i.i.i186:                              ; preds = %for.body.i.i.i183
  %mul.i.i.i.i.i.i187 = fmul float %35, %35
  %add.i.i.i.i.i188 = fadd float %mul.i.i.i.i.i.i187, 1.000000e+00
  %sqrt.i.i.i.i.i189 = tail call float @llvm.sqrt.f32(float %add.i.i.i.i.i188)
  %mul.i.i.i.i.i190 = fmul float %sqrt.i.i.i.i.i189, 2.000000e+00
  %div.i.i.i.i.i191 = fdiv float %35, %mul.i.i.i.i.i190
  %add3.i.i.i.i.i192 = fadd float %div.i.i.i.i.i191, 5.000000e-01
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i193

_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i193: ; preds = %if.end.i.i.i.i.i186, %if.then.i.i.i.i.i207
  %retval.0.i.i.i.i.i194 = phi float [ %conv.i.i.i.i.i209, %if.then.i.i.i.i.i207 ], [ %add3.i.i.i.i.i192, %if.end.i.i.i.i.i186 ]
  %mul.i.i.i195 = fmul float %retval.0.i.i.i.i.i194, 0.000000e+00
  %arrayidx.i.i5.i.i.i196 = getelementptr inbounds [4 x float], ptr %retval.i.i.i155, i64 0, i64 %indvars.iv.i.i.i184
  store float %mul.i.i.i195, ptr %arrayidx.i.i5.i.i.i196, align 4
  %indvars.iv.next.i.i.i197 = add nuw nsw i64 %indvars.iv.i.i.i184, 1
  %exitcond.not.i.i.i198 = icmp eq i64 %indvars.iv.next.i.i.i197, 4
  br i1 %exitcond.not.i.i.i198, label %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i199, label %for.body.i.i.i183, !llvm.loop !152

_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i199: ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i193
  %.fca.0.load.i.i.i200 = load <2 x float>, ptr %retval.i.i.i155, align 8
  %.fca.1.gep.i.i.i201 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i.i155, i64 0, i32 1
  %.fca.1.load.i.i.i202 = load <2 x float>, ptr %.fca.1.gep.i.i.i201, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i155)
  br label %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit248

if.end.i210:                                      ; preds = %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit
  %mul.i211 = mul nsw i32 %1, %conv3.i
  %add.i212 = add nsw i32 %mul.i211, %add4.i144
  %mul10.i213 = mul nsw i32 %add.i212, %0
  %add11.i214 = add nsw i32 %mul10.i213, %conv.i
  %conv.i215 = sext i32 %add11.i214 to i64
  %ptr.i.i216 = getelementptr inbounds %"class.pstd::vector.241", ptr %this, i64 0, i32 1
  %38 = load ptr, ptr %ptr.i.i216, align 8
  %arrayidx.i.i217 = getelementptr inbounds %"class.pbrt::RGBUnboundedSpectrum", ptr %38, i64 %conv.i215
  %agg.tmp7.sroa.0.0.copyload.i218 = load <2 x float>, ptr %arrayidx.i.i217, align 4
  %agg.tmp7.sroa.2.0.call12.sroa_idx.i219 = getelementptr inbounds i8, ptr %arrayidx.i.i217, i64 8
  %agg.tmp7.sroa.2.0.copyload.i220 = load <2 x float>, ptr %agg.tmp7.sroa.2.0.call12.sroa_idx.i219, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i8.i154)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i8.i154, i8 0, i64 16, i1 false)
  %s.sroa.0.0.vec.extract.i9.i221 = extractelement <2 x float> %agg.tmp7.sroa.0.0.copyload.i218, i64 0
  %s.sroa.3.12.vec.extract.i10.i222 = extractelement <2 x float> %agg.tmp7.sroa.2.0.copyload.i220, i64 1
  %s.sroa.3.8.vec.extract.i11.i223 = extractelement <2 x float> %agg.tmp7.sroa.2.0.copyload.i220, i64 0
  %s.sroa.0.4.vec.extract.i12.i224 = extractelement <2 x float> %agg.tmp7.sroa.0.0.copyload.i218, i64 1
  br label %for.body.i.i13.i225

for.body.i.i13.i225:                              ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i235, %if.end.i210
  %indvars.iv.i.i14.i226 = phi i64 [ 0, %if.end.i210 ], [ %indvars.iv.next.i.i27.i239, %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i235 ]
  %arrayidx.i.i.i.i15.i227 = getelementptr inbounds [4 x float], ptr %agg.tmp39153, i64 0, i64 %indvars.iv.i.i14.i226
  %39 = load float, ptr %arrayidx.i.i.i.i15.i227, align 4
  %40 = tail call noundef float @llvm.fma.f32(float %39, float %s.sroa.0.4.vec.extract.i12.i224, float %s.sroa.3.8.vec.extract.i11.i223)
  %41 = tail call noundef float @llvm.fma.f32(float %39, float %40, float %s.sroa.3.12.vec.extract.i10.i222)
  %42 = tail call float @llvm.fabs.f32(float %41)
  %43 = fcmp oeq float %42, 0x7FF0000000000000
  br i1 %43, label %if.then.i.i.i.i34.i245, label %if.end.i.i.i.i16.i228

if.then.i.i.i.i34.i245:                           ; preds = %for.body.i.i13.i225
  %cmp.i.i.i.i35.i246 = fcmp ogt float %41, 0.000000e+00
  %conv.i.i.i.i36.i247 = uitofp i1 %cmp.i.i.i.i35.i246 to float
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i235

if.end.i.i.i.i16.i228:                            ; preds = %for.body.i.i13.i225
  %mul.i.i.i.i.i17.i229 = fmul float %41, %41
  %add.i.i.i.i18.i230 = fadd float %mul.i.i.i.i.i17.i229, 1.000000e+00
  %sqrt.i.i.i.i19.i231 = tail call float @llvm.sqrt.f32(float %add.i.i.i.i18.i230)
  %mul.i.i.i.i20.i232 = fmul float %sqrt.i.i.i.i19.i231, 2.000000e+00
  %div.i.i.i.i21.i233 = fdiv float %41, %mul.i.i.i.i20.i232
  %add3.i.i.i.i22.i234 = fadd float %div.i.i.i.i21.i233, 5.000000e-01
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i235

_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i235: ; preds = %if.end.i.i.i.i16.i228, %if.then.i.i.i.i34.i245
  %retval.0.i.i.i.i24.i236 = phi float [ %conv.i.i.i.i36.i247, %if.then.i.i.i.i34.i245 ], [ %add3.i.i.i.i22.i234, %if.end.i.i.i.i16.i228 ]
  %mul.i.i25.i237 = fmul float %s.sroa.0.0.vec.extract.i9.i221, %retval.0.i.i.i.i24.i236
  %arrayidx.i.i5.i.i26.i238 = getelementptr inbounds [4 x float], ptr %retval.i.i8.i154, i64 0, i64 %indvars.iv.i.i14.i226
  store float %mul.i.i25.i237, ptr %arrayidx.i.i5.i.i26.i238, align 4
  %indvars.iv.next.i.i27.i239 = add nuw nsw i64 %indvars.iv.i.i14.i226, 1
  %exitcond.not.i.i28.i240 = icmp eq i64 %indvars.iv.next.i.i27.i239, 4
  br i1 %exitcond.not.i.i28.i240, label %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i241, label %for.body.i.i13.i225, !llvm.loop !152

_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i241: ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i235
  %.fca.0.load.i.i29.i242 = load <2 x float>, ptr %retval.i.i8.i154, align 8
  %.fca.1.gep.i.i31.i243 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i8.i154, i64 0, i32 1
  %.fca.1.load.i.i32.i244 = load <2 x float>, ptr %.fca.1.gep.i.i31.i243, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i8.i154)
  br label %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit248

_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit248: ; preds = %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i199, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i241
  %.fca.0.load.i.i29.pn.i203 = phi <2 x float> [ %.fca.0.load.i.i29.i242, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i241 ], [ %.fca.0.load.i.i.i200, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i199 ]
  %.fca.1.load.i.i32.pn.i204 = phi <2 x float> [ %.fca.1.load.i.i32.i244, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i241 ], [ %.fca.1.load.i.i.i202, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i199 ]
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp39153)
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp49265)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp49265, ptr noundef nonnull align 8 dereferenceable(32) %convert, i64 32, i1 false)
  %or.cond9.i.i287 = select i1 %or.cond.not12.not.not.i.not.i51, i1 %cmp8.not.i.i174, i1 false
  %or.cond10.i.i289 = select i1 %or.cond9.i.i287, i1 %cmp13.i.i176, i1 false
  %or.cond11.i.i291 = select i1 %or.cond10.i.i289, i1 %cmp17.not.i.i, i1 false
  %or.cond.i293 = select i1 %or.cond11.i.i291, i1 %cmp21.i.i, i1 false
  br i1 %or.cond.i293, label %if.end.i322, label %if.then.i294

if.then.i294:                                     ; preds = %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit248
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i267)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i.i267, i8 0, i64 16, i1 false)
  br label %for.body.i.i.i295

for.body.i.i.i295:                                ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i305, %if.then.i294
  %indvars.iv.i.i.i296 = phi i64 [ 0, %if.then.i294 ], [ %indvars.iv.next.i.i.i309, %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i305 ]
  %arrayidx.i.i.i.i.i297 = getelementptr inbounds [4 x float], ptr %agg.tmp49265, i64 0, i64 %indvars.iv.i.i.i296
  %44 = load float, ptr %arrayidx.i.i.i.i.i297, align 4
  %45 = tail call noundef float @llvm.fma.f32(float %44, float 0.000000e+00, float 0.000000e+00)
  %46 = tail call noundef float @llvm.fma.f32(float %44, float %45, float 0.000000e+00)
  %47 = tail call float @llvm.fabs.f32(float %46)
  %48 = fcmp oeq float %47, 0x7FF0000000000000
  br i1 %48, label %if.then.i.i.i.i.i319, label %if.end.i.i.i.i.i298

if.then.i.i.i.i.i319:                             ; preds = %for.body.i.i.i295
  %cmp.i.i.i.i.i320 = fcmp ogt float %46, 0.000000e+00
  %conv.i.i.i.i.i321 = uitofp i1 %cmp.i.i.i.i.i320 to float
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i305

if.end.i.i.i.i.i298:                              ; preds = %for.body.i.i.i295
  %mul.i.i.i.i.i.i299 = fmul float %46, %46
  %add.i.i.i.i.i300 = fadd float %mul.i.i.i.i.i.i299, 1.000000e+00
  %sqrt.i.i.i.i.i301 = tail call float @llvm.sqrt.f32(float %add.i.i.i.i.i300)
  %mul.i.i.i.i.i302 = fmul float %sqrt.i.i.i.i.i301, 2.000000e+00
  %div.i.i.i.i.i303 = fdiv float %46, %mul.i.i.i.i.i302
  %add3.i.i.i.i.i304 = fadd float %div.i.i.i.i.i303, 5.000000e-01
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i305

_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i305: ; preds = %if.end.i.i.i.i.i298, %if.then.i.i.i.i.i319
  %retval.0.i.i.i.i.i306 = phi float [ %conv.i.i.i.i.i321, %if.then.i.i.i.i.i319 ], [ %add3.i.i.i.i.i304, %if.end.i.i.i.i.i298 ]
  %mul.i.i.i307 = fmul float %retval.0.i.i.i.i.i306, 0.000000e+00
  %arrayidx.i.i5.i.i.i308 = getelementptr inbounds [4 x float], ptr %retval.i.i.i267, i64 0, i64 %indvars.iv.i.i.i296
  store float %mul.i.i.i307, ptr %arrayidx.i.i5.i.i.i308, align 4
  %indvars.iv.next.i.i.i309 = add nuw nsw i64 %indvars.iv.i.i.i296, 1
  %exitcond.not.i.i.i310 = icmp eq i64 %indvars.iv.next.i.i.i309, 4
  br i1 %exitcond.not.i.i.i310, label %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i311, label %for.body.i.i.i295, !llvm.loop !152

_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i311: ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i305
  %.fca.0.load.i.i.i312 = load <2 x float>, ptr %retval.i.i.i267, align 8
  %.fca.1.gep.i.i.i313 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i.i267, i64 0, i32 1
  %.fca.1.load.i.i.i314 = load <2 x float>, ptr %.fca.1.gep.i.i.i313, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i267)
  br label %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit360

if.end.i322:                                      ; preds = %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit248
  %mul.i323 = mul nsw i32 %1, %conv3.i
  %add.i324 = add nsw i32 %mul.i323, %add4.i144
  %mul10.i325 = mul nsw i32 %add.i324, %0
  %add11.i326 = add nsw i32 %mul10.i325, %add.i26
  %conv.i327 = sext i32 %add11.i326 to i64
  %ptr.i.i328 = getelementptr inbounds %"class.pstd::vector.241", ptr %this, i64 0, i32 1
  %49 = load ptr, ptr %ptr.i.i328, align 8
  %arrayidx.i.i329 = getelementptr inbounds %"class.pbrt::RGBUnboundedSpectrum", ptr %49, i64 %conv.i327
  %agg.tmp7.sroa.0.0.copyload.i330 = load <2 x float>, ptr %arrayidx.i.i329, align 4
  %agg.tmp7.sroa.2.0.call12.sroa_idx.i331 = getelementptr inbounds i8, ptr %arrayidx.i.i329, i64 8
  %agg.tmp7.sroa.2.0.copyload.i332 = load <2 x float>, ptr %agg.tmp7.sroa.2.0.call12.sroa_idx.i331, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i8.i266)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i8.i266, i8 0, i64 16, i1 false)
  %s.sroa.0.0.vec.extract.i9.i333 = extractelement <2 x float> %agg.tmp7.sroa.0.0.copyload.i330, i64 0
  %s.sroa.3.12.vec.extract.i10.i334 = extractelement <2 x float> %agg.tmp7.sroa.2.0.copyload.i332, i64 1
  %s.sroa.3.8.vec.extract.i11.i335 = extractelement <2 x float> %agg.tmp7.sroa.2.0.copyload.i332, i64 0
  %s.sroa.0.4.vec.extract.i12.i336 = extractelement <2 x float> %agg.tmp7.sroa.0.0.copyload.i330, i64 1
  br label %for.body.i.i13.i337

for.body.i.i13.i337:                              ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i347, %if.end.i322
  %indvars.iv.i.i14.i338 = phi i64 [ 0, %if.end.i322 ], [ %indvars.iv.next.i.i27.i351, %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i347 ]
  %arrayidx.i.i.i.i15.i339 = getelementptr inbounds [4 x float], ptr %agg.tmp49265, i64 0, i64 %indvars.iv.i.i14.i338
  %50 = load float, ptr %arrayidx.i.i.i.i15.i339, align 4
  %51 = tail call noundef float @llvm.fma.f32(float %50, float %s.sroa.0.4.vec.extract.i12.i336, float %s.sroa.3.8.vec.extract.i11.i335)
  %52 = tail call noundef float @llvm.fma.f32(float %50, float %51, float %s.sroa.3.12.vec.extract.i10.i334)
  %53 = tail call float @llvm.fabs.f32(float %52)
  %54 = fcmp oeq float %53, 0x7FF0000000000000
  br i1 %54, label %if.then.i.i.i.i34.i357, label %if.end.i.i.i.i16.i340

if.then.i.i.i.i34.i357:                           ; preds = %for.body.i.i13.i337
  %cmp.i.i.i.i35.i358 = fcmp ogt float %52, 0.000000e+00
  %conv.i.i.i.i36.i359 = uitofp i1 %cmp.i.i.i.i35.i358 to float
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i347

if.end.i.i.i.i16.i340:                            ; preds = %for.body.i.i13.i337
  %mul.i.i.i.i.i17.i341 = fmul float %52, %52
  %add.i.i.i.i18.i342 = fadd float %mul.i.i.i.i.i17.i341, 1.000000e+00
  %sqrt.i.i.i.i19.i343 = tail call float @llvm.sqrt.f32(float %add.i.i.i.i18.i342)
  %mul.i.i.i.i20.i344 = fmul float %sqrt.i.i.i.i19.i343, 2.000000e+00
  %div.i.i.i.i21.i345 = fdiv float %52, %mul.i.i.i.i20.i344
  %add3.i.i.i.i22.i346 = fadd float %div.i.i.i.i21.i345, 5.000000e-01
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i347

_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i347: ; preds = %if.end.i.i.i.i16.i340, %if.then.i.i.i.i34.i357
  %retval.0.i.i.i.i24.i348 = phi float [ %conv.i.i.i.i36.i359, %if.then.i.i.i.i34.i357 ], [ %add3.i.i.i.i22.i346, %if.end.i.i.i.i16.i340 ]
  %mul.i.i25.i349 = fmul float %s.sroa.0.0.vec.extract.i9.i333, %retval.0.i.i.i.i24.i348
  %arrayidx.i.i5.i.i26.i350 = getelementptr inbounds [4 x float], ptr %retval.i.i8.i266, i64 0, i64 %indvars.iv.i.i14.i338
  store float %mul.i.i25.i349, ptr %arrayidx.i.i5.i.i26.i350, align 4
  %indvars.iv.next.i.i27.i351 = add nuw nsw i64 %indvars.iv.i.i14.i338, 1
  %exitcond.not.i.i28.i352 = icmp eq i64 %indvars.iv.next.i.i27.i351, 4
  br i1 %exitcond.not.i.i28.i352, label %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i353, label %for.body.i.i13.i337, !llvm.loop !152

_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i353: ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i347
  %.fca.0.load.i.i29.i354 = load <2 x float>, ptr %retval.i.i8.i266, align 8
  %.fca.1.gep.i.i31.i355 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i8.i266, i64 0, i32 1
  %.fca.1.load.i.i32.i356 = load <2 x float>, ptr %.fca.1.gep.i.i31.i355, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i8.i266)
  br label %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit360

_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit360: ; preds = %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i311, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i353
  %.fca.0.load.i.i29.pn.i315 = phi <2 x float> [ %.fca.0.load.i.i29.i354, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i353 ], [ %.fca.0.load.i.i.i312, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i311 ]
  %.fca.1.load.i.i32.pn.i316 = phi <2 x float> [ %.fca.1.load.i.i32.i356, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i353 ], [ %.fca.1.load.i.i.i314, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i311 ]
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp49265)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp2.i364)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i363)
  store <2 x float> %.fca.0.load.i.i29.pn.i203, ptr %retval.i.i.i363, align 8
  %ref.tmp33.sroa.2.0.retval.i.i.i363.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i.i363, i64 8
  store <2 x float> %.fca.1.load.i.i32.pn.i204, ptr %ref.tmp33.sroa.2.0.retval.i.i.i363.sroa_idx, align 8
  br label %for.body.i.i.i366

for.body.i.i.i366:                                ; preds = %for.body.i.i.i366, %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit360
  %indvars.iv.i.i.i367 = phi i64 [ 0, %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit360 ], [ %indvars.iv.next.i.i.i370, %for.body.i.i.i366 ]
  %arrayidx.i.i.i.i368 = getelementptr inbounds [4 x float], ptr %retval.i.i.i363, i64 0, i64 %indvars.iv.i.i.i367
  %55 = load float, ptr %arrayidx.i.i.i.i368, align 4
  %mul.i.i.i369 = fmul float %sub.i128, %55
  store float %mul.i.i.i369, ptr %arrayidx.i.i.i.i368, align 4
  %indvars.iv.next.i.i.i370 = add nuw nsw i64 %indvars.iv.i.i.i367, 1
  %exitcond.not.i.i.i371 = icmp eq i64 %indvars.iv.next.i.i.i370, 4
  br i1 %exitcond.not.i.i.i371, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i372, label %for.body.i.i.i366, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i372:    ; preds = %for.body.i.i.i366
  %.fca.0.load.i.i.i373 = load <2 x float>, ptr %retval.i.i.i363, align 8
  %.fca.1.load.i.i.i375 = load <2 x float>, ptr %ref.tmp33.sroa.2.0.retval.i.i.i363.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i363)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i2.i362)
  store <2 x float> %.fca.0.load.i.i29.pn.i315, ptr %retval.i.i2.i362, align 8
  %ref.tmp43.sroa.2.0.retval.i.i2.i362.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i2.i362, i64 8
  store <2 x float> %.fca.1.load.i.i32.pn.i316, ptr %ref.tmp43.sroa.2.0.retval.i.i2.i362.sroa_idx, align 8
  br label %for.body.i.i3.i376

for.body.i.i3.i376:                               ; preds = %for.body.i.i3.i376, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i372
  %indvars.iv.i.i4.i377 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i372 ], [ %indvars.iv.next.i.i7.i380, %for.body.i.i3.i376 ]
  %arrayidx.i.i.i5.i378 = getelementptr inbounds [4 x float], ptr %retval.i.i2.i362, i64 0, i64 %indvars.iv.i.i4.i377
  %56 = load float, ptr %arrayidx.i.i.i5.i378, align 4
  %mul.i.i6.i379 = fmul float %sub.i, %56
  store float %mul.i.i6.i379, ptr %arrayidx.i.i.i5.i378, align 4
  %indvars.iv.next.i.i7.i380 = add nuw nsw i64 %indvars.iv.i.i4.i377, 1
  %exitcond.not.i.i8.i381 = icmp eq i64 %indvars.iv.next.i.i7.i380, 4
  br i1 %exitcond.not.i.i8.i381, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i382, label %for.body.i.i3.i376, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i382:  ; preds = %for.body.i.i3.i376
  %.fca.0.load.i.i9.i383 = load <2 x float>, ptr %retval.i.i2.i362, align 8
  %.fca.1.load.i.i12.i385 = load <2 x float>, ptr %ref.tmp43.sroa.2.0.retval.i.i2.i362.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i2.i362)
  store <2 x float> %.fca.0.load.i.i9.i383, ptr %ref.tmp2.i364, align 8
  %57 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp2.i364, i64 0, i32 1
  store <2 x float> %.fca.1.load.i.i12.i385, ptr %57, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i.i361)
  store <2 x float> %.fca.0.load.i.i.i373, ptr %ret.i.i361, align 8
  %ref.tmp.sroa.2.0.ret.i.sroa_idx.i386 = getelementptr inbounds i8, ptr %ret.i.i361, i64 8
  store <2 x float> %.fca.1.load.i.i.i375, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i386, align 8
  br label %for.body.i.i15.i387

for.body.i.i15.i387:                              ; preds = %for.body.i.i15.i387, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i382
  %indvars.iv.i.i16.i388 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i382 ], [ %indvars.iv.next.i.i18.i392, %for.body.i.i15.i387 ]
  %arrayidx.i.i.i17.i389 = getelementptr inbounds [4 x float], ptr %ref.tmp2.i364, i64 0, i64 %indvars.iv.i.i16.i388
  %58 = load float, ptr %arrayidx.i.i.i17.i389, align 4
  %arrayidx.i4.i.i.i390 = getelementptr inbounds [4 x float], ptr %ret.i.i361, i64 0, i64 %indvars.iv.i.i16.i388
  %59 = load float, ptr %arrayidx.i4.i.i.i390, align 4
  %add.i.i.i391 = fadd float %58, %59
  store float %add.i.i.i391, ptr %arrayidx.i4.i.i.i390, align 4
  %indvars.iv.next.i.i18.i392 = add nuw nsw i64 %indvars.iv.i.i16.i388, 1
  %exitcond.not.i.i19.i393 = icmp eq i64 %indvars.iv.next.i.i18.i392, 4
  br i1 %exitcond.not.i.i19.i393, label %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit398, label %for.body.i.i15.i387, !llvm.loop !87

_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit398: ; preds = %for.body.i.i15.i387
  %retval.sroa.0.0.copyload.i.i394 = load <2 x float>, ptr %ret.i.i361, align 8
  %retval.sroa.2.0.copyload.i.i395 = load <2 x float>, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i386, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i.i361)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp2.i364)
  %add6.i408 = add nsw i32 %conv3.i, 1
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp63415)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp63415, ptr noundef nonnull align 8 dereferenceable(32) %convert, i64 32, i1 false)
  %cmp17.not.i.i440 = icmp sle i32 %.sroa.speculated.i.i.i, %add6.i408
  %or.cond11.i.i441 = select i1 %or.cond10.i.i, i1 %cmp17.not.i.i440, i1 false
  %cmp21.i.i442 = icmp sgt i32 %.sroa.speculated.i13.i.i, %add6.i408
  %or.cond.i443 = select i1 %or.cond11.i.i441, i1 %cmp21.i.i442, i1 false
  br i1 %or.cond.i443, label %if.end.i472, label %if.then.i444

if.then.i444:                                     ; preds = %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit398
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i417)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i.i417, i8 0, i64 16, i1 false)
  br label %for.body.i.i.i445

for.body.i.i.i445:                                ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i455, %if.then.i444
  %indvars.iv.i.i.i446 = phi i64 [ 0, %if.then.i444 ], [ %indvars.iv.next.i.i.i459, %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i455 ]
  %arrayidx.i.i.i.i.i447 = getelementptr inbounds [4 x float], ptr %agg.tmp63415, i64 0, i64 %indvars.iv.i.i.i446
  %60 = load float, ptr %arrayidx.i.i.i.i.i447, align 4
  %61 = tail call noundef float @llvm.fma.f32(float %60, float 0.000000e+00, float 0.000000e+00)
  %62 = tail call noundef float @llvm.fma.f32(float %60, float %61, float 0.000000e+00)
  %63 = tail call float @llvm.fabs.f32(float %62)
  %64 = fcmp oeq float %63, 0x7FF0000000000000
  br i1 %64, label %if.then.i.i.i.i.i469, label %if.end.i.i.i.i.i448

if.then.i.i.i.i.i469:                             ; preds = %for.body.i.i.i445
  %cmp.i.i.i.i.i470 = fcmp ogt float %62, 0.000000e+00
  %conv.i.i.i.i.i471 = uitofp i1 %cmp.i.i.i.i.i470 to float
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i455

if.end.i.i.i.i.i448:                              ; preds = %for.body.i.i.i445
  %mul.i.i.i.i.i.i449 = fmul float %62, %62
  %add.i.i.i.i.i450 = fadd float %mul.i.i.i.i.i.i449, 1.000000e+00
  %sqrt.i.i.i.i.i451 = tail call float @llvm.sqrt.f32(float %add.i.i.i.i.i450)
  %mul.i.i.i.i.i452 = fmul float %sqrt.i.i.i.i.i451, 2.000000e+00
  %div.i.i.i.i.i453 = fdiv float %62, %mul.i.i.i.i.i452
  %add3.i.i.i.i.i454 = fadd float %div.i.i.i.i.i453, 5.000000e-01
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i455

_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i455: ; preds = %if.end.i.i.i.i.i448, %if.then.i.i.i.i.i469
  %retval.0.i.i.i.i.i456 = phi float [ %conv.i.i.i.i.i471, %if.then.i.i.i.i.i469 ], [ %add3.i.i.i.i.i454, %if.end.i.i.i.i.i448 ]
  %mul.i.i.i457 = fmul float %retval.0.i.i.i.i.i456, 0.000000e+00
  %arrayidx.i.i5.i.i.i458 = getelementptr inbounds [4 x float], ptr %retval.i.i.i417, i64 0, i64 %indvars.iv.i.i.i446
  store float %mul.i.i.i457, ptr %arrayidx.i.i5.i.i.i458, align 4
  %indvars.iv.next.i.i.i459 = add nuw nsw i64 %indvars.iv.i.i.i446, 1
  %exitcond.not.i.i.i460 = icmp eq i64 %indvars.iv.next.i.i.i459, 4
  br i1 %exitcond.not.i.i.i460, label %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i461, label %for.body.i.i.i445, !llvm.loop !152

_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i461: ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i455
  %.fca.0.load.i.i.i462 = load <2 x float>, ptr %retval.i.i.i417, align 8
  %.fca.1.gep.i.i.i463 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i.i417, i64 0, i32 1
  %.fca.1.load.i.i.i464 = load <2 x float>, ptr %.fca.1.gep.i.i.i463, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i417)
  br label %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit510

if.end.i472:                                      ; preds = %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit398
  %mul.i473 = mul nsw i32 %1, %add6.i408
  %add.i474 = add nsw i32 %mul.i473, %conv2.i
  %mul10.i475 = mul nsw i32 %add.i474, %0
  %add11.i476 = add nsw i32 %mul10.i475, %conv.i
  %conv.i477 = sext i32 %add11.i476 to i64
  %ptr.i.i478 = getelementptr inbounds %"class.pstd::vector.241", ptr %this, i64 0, i32 1
  %65 = load ptr, ptr %ptr.i.i478, align 8
  %arrayidx.i.i479 = getelementptr inbounds %"class.pbrt::RGBUnboundedSpectrum", ptr %65, i64 %conv.i477
  %agg.tmp7.sroa.0.0.copyload.i480 = load <2 x float>, ptr %arrayidx.i.i479, align 4
  %agg.tmp7.sroa.2.0.call12.sroa_idx.i481 = getelementptr inbounds i8, ptr %arrayidx.i.i479, i64 8
  %agg.tmp7.sroa.2.0.copyload.i482 = load <2 x float>, ptr %agg.tmp7.sroa.2.0.call12.sroa_idx.i481, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i8.i416)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i8.i416, i8 0, i64 16, i1 false)
  %s.sroa.0.0.vec.extract.i9.i483 = extractelement <2 x float> %agg.tmp7.sroa.0.0.copyload.i480, i64 0
  %s.sroa.3.12.vec.extract.i10.i484 = extractelement <2 x float> %agg.tmp7.sroa.2.0.copyload.i482, i64 1
  %s.sroa.3.8.vec.extract.i11.i485 = extractelement <2 x float> %agg.tmp7.sroa.2.0.copyload.i482, i64 0
  %s.sroa.0.4.vec.extract.i12.i486 = extractelement <2 x float> %agg.tmp7.sroa.0.0.copyload.i480, i64 1
  br label %for.body.i.i13.i487

for.body.i.i13.i487:                              ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i497, %if.end.i472
  %indvars.iv.i.i14.i488 = phi i64 [ 0, %if.end.i472 ], [ %indvars.iv.next.i.i27.i501, %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i497 ]
  %arrayidx.i.i.i.i15.i489 = getelementptr inbounds [4 x float], ptr %agg.tmp63415, i64 0, i64 %indvars.iv.i.i14.i488
  %66 = load float, ptr %arrayidx.i.i.i.i15.i489, align 4
  %67 = tail call noundef float @llvm.fma.f32(float %66, float %s.sroa.0.4.vec.extract.i12.i486, float %s.sroa.3.8.vec.extract.i11.i485)
  %68 = tail call noundef float @llvm.fma.f32(float %66, float %67, float %s.sroa.3.12.vec.extract.i10.i484)
  %69 = tail call float @llvm.fabs.f32(float %68)
  %70 = fcmp oeq float %69, 0x7FF0000000000000
  br i1 %70, label %if.then.i.i.i.i34.i507, label %if.end.i.i.i.i16.i490

if.then.i.i.i.i34.i507:                           ; preds = %for.body.i.i13.i487
  %cmp.i.i.i.i35.i508 = fcmp ogt float %68, 0.000000e+00
  %conv.i.i.i.i36.i509 = uitofp i1 %cmp.i.i.i.i35.i508 to float
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i497

if.end.i.i.i.i16.i490:                            ; preds = %for.body.i.i13.i487
  %mul.i.i.i.i.i17.i491 = fmul float %68, %68
  %add.i.i.i.i18.i492 = fadd float %mul.i.i.i.i.i17.i491, 1.000000e+00
  %sqrt.i.i.i.i19.i493 = tail call float @llvm.sqrt.f32(float %add.i.i.i.i18.i492)
  %mul.i.i.i.i20.i494 = fmul float %sqrt.i.i.i.i19.i493, 2.000000e+00
  %div.i.i.i.i21.i495 = fdiv float %68, %mul.i.i.i.i20.i494
  %add3.i.i.i.i22.i496 = fadd float %div.i.i.i.i21.i495, 5.000000e-01
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i497

_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i497: ; preds = %if.end.i.i.i.i16.i490, %if.then.i.i.i.i34.i507
  %retval.0.i.i.i.i24.i498 = phi float [ %conv.i.i.i.i36.i509, %if.then.i.i.i.i34.i507 ], [ %add3.i.i.i.i22.i496, %if.end.i.i.i.i16.i490 ]
  %mul.i.i25.i499 = fmul float %s.sroa.0.0.vec.extract.i9.i483, %retval.0.i.i.i.i24.i498
  %arrayidx.i.i5.i.i26.i500 = getelementptr inbounds [4 x float], ptr %retval.i.i8.i416, i64 0, i64 %indvars.iv.i.i14.i488
  store float %mul.i.i25.i499, ptr %arrayidx.i.i5.i.i26.i500, align 4
  %indvars.iv.next.i.i27.i501 = add nuw nsw i64 %indvars.iv.i.i14.i488, 1
  %exitcond.not.i.i28.i502 = icmp eq i64 %indvars.iv.next.i.i27.i501, 4
  br i1 %exitcond.not.i.i28.i502, label %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i503, label %for.body.i.i13.i487, !llvm.loop !152

_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i503: ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i497
  %.fca.0.load.i.i29.i504 = load <2 x float>, ptr %retval.i.i8.i416, align 8
  %.fca.1.gep.i.i31.i505 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i8.i416, i64 0, i32 1
  %.fca.1.load.i.i32.i506 = load <2 x float>, ptr %.fca.1.gep.i.i31.i505, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i8.i416)
  br label %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit510

_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit510: ; preds = %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i461, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i503
  %.fca.0.load.i.i29.pn.i465 = phi <2 x float> [ %.fca.0.load.i.i29.i504, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i503 ], [ %.fca.0.load.i.i.i462, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i461 ]
  %.fca.1.load.i.i32.pn.i466 = phi <2 x float> [ %.fca.1.load.i.i32.i506, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i503 ], [ %.fca.1.load.i.i.i464, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i461 ]
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp63415)
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp73527)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp73527, ptr noundef nonnull align 8 dereferenceable(32) %convert, i64 32, i1 false)
  %or.cond11.i.i553 = select i1 %or.cond10.i.i55, i1 %cmp17.not.i.i440, i1 false
  %or.cond.i555 = select i1 %or.cond11.i.i553, i1 %cmp21.i.i442, i1 false
  br i1 %or.cond.i555, label %if.end.i584, label %if.then.i556

if.then.i556:                                     ; preds = %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit510
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i529)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i.i529, i8 0, i64 16, i1 false)
  br label %for.body.i.i.i557

for.body.i.i.i557:                                ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i567, %if.then.i556
  %indvars.iv.i.i.i558 = phi i64 [ 0, %if.then.i556 ], [ %indvars.iv.next.i.i.i571, %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i567 ]
  %arrayidx.i.i.i.i.i559 = getelementptr inbounds [4 x float], ptr %agg.tmp73527, i64 0, i64 %indvars.iv.i.i.i558
  %71 = load float, ptr %arrayidx.i.i.i.i.i559, align 4
  %72 = tail call noundef float @llvm.fma.f32(float %71, float 0.000000e+00, float 0.000000e+00)
  %73 = tail call noundef float @llvm.fma.f32(float %71, float %72, float 0.000000e+00)
  %74 = tail call float @llvm.fabs.f32(float %73)
  %75 = fcmp oeq float %74, 0x7FF0000000000000
  br i1 %75, label %if.then.i.i.i.i.i581, label %if.end.i.i.i.i.i560

if.then.i.i.i.i.i581:                             ; preds = %for.body.i.i.i557
  %cmp.i.i.i.i.i582 = fcmp ogt float %73, 0.000000e+00
  %conv.i.i.i.i.i583 = uitofp i1 %cmp.i.i.i.i.i582 to float
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i567

if.end.i.i.i.i.i560:                              ; preds = %for.body.i.i.i557
  %mul.i.i.i.i.i.i561 = fmul float %73, %73
  %add.i.i.i.i.i562 = fadd float %mul.i.i.i.i.i.i561, 1.000000e+00
  %sqrt.i.i.i.i.i563 = tail call float @llvm.sqrt.f32(float %add.i.i.i.i.i562)
  %mul.i.i.i.i.i564 = fmul float %sqrt.i.i.i.i.i563, 2.000000e+00
  %div.i.i.i.i.i565 = fdiv float %73, %mul.i.i.i.i.i564
  %add3.i.i.i.i.i566 = fadd float %div.i.i.i.i.i565, 5.000000e-01
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i567

_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i567: ; preds = %if.end.i.i.i.i.i560, %if.then.i.i.i.i.i581
  %retval.0.i.i.i.i.i568 = phi float [ %conv.i.i.i.i.i583, %if.then.i.i.i.i.i581 ], [ %add3.i.i.i.i.i566, %if.end.i.i.i.i.i560 ]
  %mul.i.i.i569 = fmul float %retval.0.i.i.i.i.i568, 0.000000e+00
  %arrayidx.i.i5.i.i.i570 = getelementptr inbounds [4 x float], ptr %retval.i.i.i529, i64 0, i64 %indvars.iv.i.i.i558
  store float %mul.i.i.i569, ptr %arrayidx.i.i5.i.i.i570, align 4
  %indvars.iv.next.i.i.i571 = add nuw nsw i64 %indvars.iv.i.i.i558, 1
  %exitcond.not.i.i.i572 = icmp eq i64 %indvars.iv.next.i.i.i571, 4
  br i1 %exitcond.not.i.i.i572, label %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i573, label %for.body.i.i.i557, !llvm.loop !152

_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i573: ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i567
  %.fca.0.load.i.i.i574 = load <2 x float>, ptr %retval.i.i.i529, align 8
  %.fca.1.gep.i.i.i575 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i.i529, i64 0, i32 1
  %.fca.1.load.i.i.i576 = load <2 x float>, ptr %.fca.1.gep.i.i.i575, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i529)
  br label %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit622

if.end.i584:                                      ; preds = %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit510
  %mul.i585 = mul nsw i32 %1, %add6.i408
  %add.i586 = add nsw i32 %mul.i585, %conv2.i
  %mul10.i587 = mul nsw i32 %add.i586, %0
  %add11.i588 = add nsw i32 %mul10.i587, %add.i26
  %conv.i589 = sext i32 %add11.i588 to i64
  %ptr.i.i590 = getelementptr inbounds %"class.pstd::vector.241", ptr %this, i64 0, i32 1
  %76 = load ptr, ptr %ptr.i.i590, align 8
  %arrayidx.i.i591 = getelementptr inbounds %"class.pbrt::RGBUnboundedSpectrum", ptr %76, i64 %conv.i589
  %agg.tmp7.sroa.0.0.copyload.i592 = load <2 x float>, ptr %arrayidx.i.i591, align 4
  %agg.tmp7.sroa.2.0.call12.sroa_idx.i593 = getelementptr inbounds i8, ptr %arrayidx.i.i591, i64 8
  %agg.tmp7.sroa.2.0.copyload.i594 = load <2 x float>, ptr %agg.tmp7.sroa.2.0.call12.sroa_idx.i593, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i8.i528)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i8.i528, i8 0, i64 16, i1 false)
  %s.sroa.0.0.vec.extract.i9.i595 = extractelement <2 x float> %agg.tmp7.sroa.0.0.copyload.i592, i64 0
  %s.sroa.3.12.vec.extract.i10.i596 = extractelement <2 x float> %agg.tmp7.sroa.2.0.copyload.i594, i64 1
  %s.sroa.3.8.vec.extract.i11.i597 = extractelement <2 x float> %agg.tmp7.sroa.2.0.copyload.i594, i64 0
  %s.sroa.0.4.vec.extract.i12.i598 = extractelement <2 x float> %agg.tmp7.sroa.0.0.copyload.i592, i64 1
  br label %for.body.i.i13.i599

for.body.i.i13.i599:                              ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i609, %if.end.i584
  %indvars.iv.i.i14.i600 = phi i64 [ 0, %if.end.i584 ], [ %indvars.iv.next.i.i27.i613, %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i609 ]
  %arrayidx.i.i.i.i15.i601 = getelementptr inbounds [4 x float], ptr %agg.tmp73527, i64 0, i64 %indvars.iv.i.i14.i600
  %77 = load float, ptr %arrayidx.i.i.i.i15.i601, align 4
  %78 = tail call noundef float @llvm.fma.f32(float %77, float %s.sroa.0.4.vec.extract.i12.i598, float %s.sroa.3.8.vec.extract.i11.i597)
  %79 = tail call noundef float @llvm.fma.f32(float %77, float %78, float %s.sroa.3.12.vec.extract.i10.i596)
  %80 = tail call float @llvm.fabs.f32(float %79)
  %81 = fcmp oeq float %80, 0x7FF0000000000000
  br i1 %81, label %if.then.i.i.i.i34.i619, label %if.end.i.i.i.i16.i602

if.then.i.i.i.i34.i619:                           ; preds = %for.body.i.i13.i599
  %cmp.i.i.i.i35.i620 = fcmp ogt float %79, 0.000000e+00
  %conv.i.i.i.i36.i621 = uitofp i1 %cmp.i.i.i.i35.i620 to float
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i609

if.end.i.i.i.i16.i602:                            ; preds = %for.body.i.i13.i599
  %mul.i.i.i.i.i17.i603 = fmul float %79, %79
  %add.i.i.i.i18.i604 = fadd float %mul.i.i.i.i.i17.i603, 1.000000e+00
  %sqrt.i.i.i.i19.i605 = tail call float @llvm.sqrt.f32(float %add.i.i.i.i18.i604)
  %mul.i.i.i.i20.i606 = fmul float %sqrt.i.i.i.i19.i605, 2.000000e+00
  %div.i.i.i.i21.i607 = fdiv float %79, %mul.i.i.i.i20.i606
  %add3.i.i.i.i22.i608 = fadd float %div.i.i.i.i21.i607, 5.000000e-01
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i609

_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i609: ; preds = %if.end.i.i.i.i16.i602, %if.then.i.i.i.i34.i619
  %retval.0.i.i.i.i24.i610 = phi float [ %conv.i.i.i.i36.i621, %if.then.i.i.i.i34.i619 ], [ %add3.i.i.i.i22.i608, %if.end.i.i.i.i16.i602 ]
  %mul.i.i25.i611 = fmul float %s.sroa.0.0.vec.extract.i9.i595, %retval.0.i.i.i.i24.i610
  %arrayidx.i.i5.i.i26.i612 = getelementptr inbounds [4 x float], ptr %retval.i.i8.i528, i64 0, i64 %indvars.iv.i.i14.i600
  store float %mul.i.i25.i611, ptr %arrayidx.i.i5.i.i26.i612, align 4
  %indvars.iv.next.i.i27.i613 = add nuw nsw i64 %indvars.iv.i.i14.i600, 1
  %exitcond.not.i.i28.i614 = icmp eq i64 %indvars.iv.next.i.i27.i613, 4
  br i1 %exitcond.not.i.i28.i614, label %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i615, label %for.body.i.i13.i599, !llvm.loop !152

_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i615: ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i609
  %.fca.0.load.i.i29.i616 = load <2 x float>, ptr %retval.i.i8.i528, align 8
  %.fca.1.gep.i.i31.i617 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i8.i528, i64 0, i32 1
  %.fca.1.load.i.i32.i618 = load <2 x float>, ptr %.fca.1.gep.i.i31.i617, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i8.i528)
  br label %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit622

_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit622: ; preds = %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i573, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i615
  %.fca.0.load.i.i29.pn.i577 = phi <2 x float> [ %.fca.0.load.i.i29.i616, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i615 ], [ %.fca.0.load.i.i.i574, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i573 ]
  %.fca.1.load.i.i32.pn.i578 = phi <2 x float> [ %.fca.1.load.i.i32.i618, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i615 ], [ %.fca.1.load.i.i.i576, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i573 ]
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp73527)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp2.i626)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i625)
  store <2 x float> %.fca.0.load.i.i29.pn.i465, ptr %retval.i.i.i625, align 8
  %ref.tmp57.sroa.2.0.retval.i.i.i625.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i.i625, i64 8
  store <2 x float> %.fca.1.load.i.i32.pn.i466, ptr %ref.tmp57.sroa.2.0.retval.i.i.i625.sroa_idx, align 8
  br label %for.body.i.i.i628

for.body.i.i.i628:                                ; preds = %for.body.i.i.i628, %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit622
  %indvars.iv.i.i.i629 = phi i64 [ 0, %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit622 ], [ %indvars.iv.next.i.i.i632, %for.body.i.i.i628 ]
  %arrayidx.i.i.i.i630 = getelementptr inbounds [4 x float], ptr %retval.i.i.i625, i64 0, i64 %indvars.iv.i.i.i629
  %82 = load float, ptr %arrayidx.i.i.i.i630, align 4
  %mul.i.i.i631 = fmul float %sub.i128, %82
  store float %mul.i.i.i631, ptr %arrayidx.i.i.i.i630, align 4
  %indvars.iv.next.i.i.i632 = add nuw nsw i64 %indvars.iv.i.i.i629, 1
  %exitcond.not.i.i.i633 = icmp eq i64 %indvars.iv.next.i.i.i632, 4
  br i1 %exitcond.not.i.i.i633, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i634, label %for.body.i.i.i628, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i634:    ; preds = %for.body.i.i.i628
  %.fca.0.load.i.i.i635 = load <2 x float>, ptr %retval.i.i.i625, align 8
  %.fca.1.load.i.i.i637 = load <2 x float>, ptr %ref.tmp57.sroa.2.0.retval.i.i.i625.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i625)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i2.i624)
  store <2 x float> %.fca.0.load.i.i29.pn.i577, ptr %retval.i.i2.i624, align 8
  %ref.tmp67.sroa.2.0.retval.i.i2.i624.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i2.i624, i64 8
  store <2 x float> %.fca.1.load.i.i32.pn.i578, ptr %ref.tmp67.sroa.2.0.retval.i.i2.i624.sroa_idx, align 8
  br label %for.body.i.i3.i638

for.body.i.i3.i638:                               ; preds = %for.body.i.i3.i638, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i634
  %indvars.iv.i.i4.i639 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i634 ], [ %indvars.iv.next.i.i7.i642, %for.body.i.i3.i638 ]
  %arrayidx.i.i.i5.i640 = getelementptr inbounds [4 x float], ptr %retval.i.i2.i624, i64 0, i64 %indvars.iv.i.i4.i639
  %83 = load float, ptr %arrayidx.i.i.i5.i640, align 4
  %mul.i.i6.i641 = fmul float %sub.i, %83
  store float %mul.i.i6.i641, ptr %arrayidx.i.i.i5.i640, align 4
  %indvars.iv.next.i.i7.i642 = add nuw nsw i64 %indvars.iv.i.i4.i639, 1
  %exitcond.not.i.i8.i643 = icmp eq i64 %indvars.iv.next.i.i7.i642, 4
  br i1 %exitcond.not.i.i8.i643, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i644, label %for.body.i.i3.i638, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i644:  ; preds = %for.body.i.i3.i638
  %.fca.0.load.i.i9.i645 = load <2 x float>, ptr %retval.i.i2.i624, align 8
  %.fca.1.load.i.i12.i647 = load <2 x float>, ptr %ref.tmp67.sroa.2.0.retval.i.i2.i624.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i2.i624)
  store <2 x float> %.fca.0.load.i.i9.i645, ptr %ref.tmp2.i626, align 8
  %84 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp2.i626, i64 0, i32 1
  store <2 x float> %.fca.1.load.i.i12.i647, ptr %84, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i.i623)
  store <2 x float> %.fca.0.load.i.i.i635, ptr %ret.i.i623, align 8
  %ref.tmp.sroa.2.0.ret.i.sroa_idx.i648 = getelementptr inbounds i8, ptr %ret.i.i623, i64 8
  store <2 x float> %.fca.1.load.i.i.i637, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i648, align 8
  br label %for.body.i.i15.i649

for.body.i.i15.i649:                              ; preds = %for.body.i.i15.i649, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i644
  %indvars.iv.i.i16.i650 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i644 ], [ %indvars.iv.next.i.i18.i654, %for.body.i.i15.i649 ]
  %arrayidx.i.i.i17.i651 = getelementptr inbounds [4 x float], ptr %ref.tmp2.i626, i64 0, i64 %indvars.iv.i.i16.i650
  %85 = load float, ptr %arrayidx.i.i.i17.i651, align 4
  %arrayidx.i4.i.i.i652 = getelementptr inbounds [4 x float], ptr %ret.i.i623, i64 0, i64 %indvars.iv.i.i16.i650
  %86 = load float, ptr %arrayidx.i4.i.i.i652, align 4
  %add.i.i.i653 = fadd float %85, %86
  store float %add.i.i.i653, ptr %arrayidx.i4.i.i.i652, align 4
  %indvars.iv.next.i.i18.i654 = add nuw nsw i64 %indvars.iv.i.i16.i650, 1
  %exitcond.not.i.i19.i655 = icmp eq i64 %indvars.iv.next.i.i18.i654, 4
  br i1 %exitcond.not.i.i19.i655, label %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit660, label %for.body.i.i15.i649, !llvm.loop !87

_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit660: ; preds = %for.body.i.i15.i649
  %retval.sroa.0.0.copyload.i.i656 = load <2 x float>, ptr %ret.i.i623, align 8
  %retval.sroa.2.0.copyload.i.i657 = load <2 x float>, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i648, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i.i623)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp2.i626)
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp87677)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp87677, ptr noundef nonnull align 8 dereferenceable(32) %convert, i64 32, i1 false)
  %or.cond11.i.i703 = select i1 %or.cond10.i.i177, i1 %cmp17.not.i.i440, i1 false
  %or.cond.i705 = select i1 %or.cond11.i.i703, i1 %cmp21.i.i442, i1 false
  br i1 %or.cond.i705, label %if.end.i734, label %if.then.i706

if.then.i706:                                     ; preds = %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit660
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i679)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i.i679, i8 0, i64 16, i1 false)
  br label %for.body.i.i.i707

for.body.i.i.i707:                                ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i717, %if.then.i706
  %indvars.iv.i.i.i708 = phi i64 [ 0, %if.then.i706 ], [ %indvars.iv.next.i.i.i721, %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i717 ]
  %arrayidx.i.i.i.i.i709 = getelementptr inbounds [4 x float], ptr %agg.tmp87677, i64 0, i64 %indvars.iv.i.i.i708
  %87 = load float, ptr %arrayidx.i.i.i.i.i709, align 4
  %88 = tail call noundef float @llvm.fma.f32(float %87, float 0.000000e+00, float 0.000000e+00)
  %89 = tail call noundef float @llvm.fma.f32(float %87, float %88, float 0.000000e+00)
  %90 = tail call float @llvm.fabs.f32(float %89)
  %91 = fcmp oeq float %90, 0x7FF0000000000000
  br i1 %91, label %if.then.i.i.i.i.i731, label %if.end.i.i.i.i.i710

if.then.i.i.i.i.i731:                             ; preds = %for.body.i.i.i707
  %cmp.i.i.i.i.i732 = fcmp ogt float %89, 0.000000e+00
  %conv.i.i.i.i.i733 = uitofp i1 %cmp.i.i.i.i.i732 to float
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i717

if.end.i.i.i.i.i710:                              ; preds = %for.body.i.i.i707
  %mul.i.i.i.i.i.i711 = fmul float %89, %89
  %add.i.i.i.i.i712 = fadd float %mul.i.i.i.i.i.i711, 1.000000e+00
  %sqrt.i.i.i.i.i713 = tail call float @llvm.sqrt.f32(float %add.i.i.i.i.i712)
  %mul.i.i.i.i.i714 = fmul float %sqrt.i.i.i.i.i713, 2.000000e+00
  %div.i.i.i.i.i715 = fdiv float %89, %mul.i.i.i.i.i714
  %add3.i.i.i.i.i716 = fadd float %div.i.i.i.i.i715, 5.000000e-01
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i717

_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i717: ; preds = %if.end.i.i.i.i.i710, %if.then.i.i.i.i.i731
  %retval.0.i.i.i.i.i718 = phi float [ %conv.i.i.i.i.i733, %if.then.i.i.i.i.i731 ], [ %add3.i.i.i.i.i716, %if.end.i.i.i.i.i710 ]
  %mul.i.i.i719 = fmul float %retval.0.i.i.i.i.i718, 0.000000e+00
  %arrayidx.i.i5.i.i.i720 = getelementptr inbounds [4 x float], ptr %retval.i.i.i679, i64 0, i64 %indvars.iv.i.i.i708
  store float %mul.i.i.i719, ptr %arrayidx.i.i5.i.i.i720, align 4
  %indvars.iv.next.i.i.i721 = add nuw nsw i64 %indvars.iv.i.i.i708, 1
  %exitcond.not.i.i.i722 = icmp eq i64 %indvars.iv.next.i.i.i721, 4
  br i1 %exitcond.not.i.i.i722, label %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i723, label %for.body.i.i.i707, !llvm.loop !152

_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i723: ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i717
  %.fca.0.load.i.i.i724 = load <2 x float>, ptr %retval.i.i.i679, align 8
  %.fca.1.gep.i.i.i725 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i.i679, i64 0, i32 1
  %.fca.1.load.i.i.i726 = load <2 x float>, ptr %.fca.1.gep.i.i.i725, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i679)
  br label %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit772

if.end.i734:                                      ; preds = %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit660
  %mul.i735 = mul nsw i32 %1, %add6.i408
  %add.i736 = add nsw i32 %mul.i735, %add4.i144
  %mul10.i737 = mul nsw i32 %add.i736, %0
  %add11.i738 = add nsw i32 %mul10.i737, %conv.i
  %conv.i739 = sext i32 %add11.i738 to i64
  %ptr.i.i740 = getelementptr inbounds %"class.pstd::vector.241", ptr %this, i64 0, i32 1
  %92 = load ptr, ptr %ptr.i.i740, align 8
  %arrayidx.i.i741 = getelementptr inbounds %"class.pbrt::RGBUnboundedSpectrum", ptr %92, i64 %conv.i739
  %agg.tmp7.sroa.0.0.copyload.i742 = load <2 x float>, ptr %arrayidx.i.i741, align 4
  %agg.tmp7.sroa.2.0.call12.sroa_idx.i743 = getelementptr inbounds i8, ptr %arrayidx.i.i741, i64 8
  %agg.tmp7.sroa.2.0.copyload.i744 = load <2 x float>, ptr %agg.tmp7.sroa.2.0.call12.sroa_idx.i743, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i8.i678)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i8.i678, i8 0, i64 16, i1 false)
  %s.sroa.0.0.vec.extract.i9.i745 = extractelement <2 x float> %agg.tmp7.sroa.0.0.copyload.i742, i64 0
  %s.sroa.3.12.vec.extract.i10.i746 = extractelement <2 x float> %agg.tmp7.sroa.2.0.copyload.i744, i64 1
  %s.sroa.3.8.vec.extract.i11.i747 = extractelement <2 x float> %agg.tmp7.sroa.2.0.copyload.i744, i64 0
  %s.sroa.0.4.vec.extract.i12.i748 = extractelement <2 x float> %agg.tmp7.sroa.0.0.copyload.i742, i64 1
  br label %for.body.i.i13.i749

for.body.i.i13.i749:                              ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i759, %if.end.i734
  %indvars.iv.i.i14.i750 = phi i64 [ 0, %if.end.i734 ], [ %indvars.iv.next.i.i27.i763, %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i759 ]
  %arrayidx.i.i.i.i15.i751 = getelementptr inbounds [4 x float], ptr %agg.tmp87677, i64 0, i64 %indvars.iv.i.i14.i750
  %93 = load float, ptr %arrayidx.i.i.i.i15.i751, align 4
  %94 = tail call noundef float @llvm.fma.f32(float %93, float %s.sroa.0.4.vec.extract.i12.i748, float %s.sroa.3.8.vec.extract.i11.i747)
  %95 = tail call noundef float @llvm.fma.f32(float %93, float %94, float %s.sroa.3.12.vec.extract.i10.i746)
  %96 = tail call float @llvm.fabs.f32(float %95)
  %97 = fcmp oeq float %96, 0x7FF0000000000000
  br i1 %97, label %if.then.i.i.i.i34.i769, label %if.end.i.i.i.i16.i752

if.then.i.i.i.i34.i769:                           ; preds = %for.body.i.i13.i749
  %cmp.i.i.i.i35.i770 = fcmp ogt float %95, 0.000000e+00
  %conv.i.i.i.i36.i771 = uitofp i1 %cmp.i.i.i.i35.i770 to float
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i759

if.end.i.i.i.i16.i752:                            ; preds = %for.body.i.i13.i749
  %mul.i.i.i.i.i17.i753 = fmul float %95, %95
  %add.i.i.i.i18.i754 = fadd float %mul.i.i.i.i.i17.i753, 1.000000e+00
  %sqrt.i.i.i.i19.i755 = tail call float @llvm.sqrt.f32(float %add.i.i.i.i18.i754)
  %mul.i.i.i.i20.i756 = fmul float %sqrt.i.i.i.i19.i755, 2.000000e+00
  %div.i.i.i.i21.i757 = fdiv float %95, %mul.i.i.i.i20.i756
  %add3.i.i.i.i22.i758 = fadd float %div.i.i.i.i21.i757, 5.000000e-01
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i759

_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i759: ; preds = %if.end.i.i.i.i16.i752, %if.then.i.i.i.i34.i769
  %retval.0.i.i.i.i24.i760 = phi float [ %conv.i.i.i.i36.i771, %if.then.i.i.i.i34.i769 ], [ %add3.i.i.i.i22.i758, %if.end.i.i.i.i16.i752 ]
  %mul.i.i25.i761 = fmul float %s.sroa.0.0.vec.extract.i9.i745, %retval.0.i.i.i.i24.i760
  %arrayidx.i.i5.i.i26.i762 = getelementptr inbounds [4 x float], ptr %retval.i.i8.i678, i64 0, i64 %indvars.iv.i.i14.i750
  store float %mul.i.i25.i761, ptr %arrayidx.i.i5.i.i26.i762, align 4
  %indvars.iv.next.i.i27.i763 = add nuw nsw i64 %indvars.iv.i.i14.i750, 1
  %exitcond.not.i.i28.i764 = icmp eq i64 %indvars.iv.next.i.i27.i763, 4
  br i1 %exitcond.not.i.i28.i764, label %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i765, label %for.body.i.i13.i749, !llvm.loop !152

_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i765: ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i759
  %.fca.0.load.i.i29.i766 = load <2 x float>, ptr %retval.i.i8.i678, align 8
  %.fca.1.gep.i.i31.i767 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i8.i678, i64 0, i32 1
  %.fca.1.load.i.i32.i768 = load <2 x float>, ptr %.fca.1.gep.i.i31.i767, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i8.i678)
  br label %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit772

_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit772: ; preds = %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i723, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i765
  %.fca.0.load.i.i29.pn.i727 = phi <2 x float> [ %.fca.0.load.i.i29.i766, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i765 ], [ %.fca.0.load.i.i.i724, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i723 ]
  %.fca.1.load.i.i32.pn.i728 = phi <2 x float> [ %.fca.1.load.i.i32.i768, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i765 ], [ %.fca.1.load.i.i.i726, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i723 ]
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp87677)
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp97789)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp97789, ptr noundef nonnull align 8 dereferenceable(32) %convert, i64 32, i1 false)
  %or.cond11.i.i815 = select i1 %or.cond10.i.i289, i1 %cmp17.not.i.i440, i1 false
  %or.cond.i817 = select i1 %or.cond11.i.i815, i1 %cmp21.i.i442, i1 false
  br i1 %or.cond.i817, label %if.end.i846, label %if.then.i818

if.then.i818:                                     ; preds = %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit772
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i791)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i.i791, i8 0, i64 16, i1 false)
  br label %for.body.i.i.i819

for.body.i.i.i819:                                ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i829, %if.then.i818
  %indvars.iv.i.i.i820 = phi i64 [ 0, %if.then.i818 ], [ %indvars.iv.next.i.i.i833, %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i829 ]
  %arrayidx.i.i.i.i.i821 = getelementptr inbounds [4 x float], ptr %agg.tmp97789, i64 0, i64 %indvars.iv.i.i.i820
  %98 = load float, ptr %arrayidx.i.i.i.i.i821, align 4
  %99 = tail call noundef float @llvm.fma.f32(float %98, float 0.000000e+00, float 0.000000e+00)
  %100 = tail call noundef float @llvm.fma.f32(float %98, float %99, float 0.000000e+00)
  %101 = tail call float @llvm.fabs.f32(float %100)
  %102 = fcmp oeq float %101, 0x7FF0000000000000
  br i1 %102, label %if.then.i.i.i.i.i843, label %if.end.i.i.i.i.i822

if.then.i.i.i.i.i843:                             ; preds = %for.body.i.i.i819
  %cmp.i.i.i.i.i844 = fcmp ogt float %100, 0.000000e+00
  %conv.i.i.i.i.i845 = uitofp i1 %cmp.i.i.i.i.i844 to float
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i829

if.end.i.i.i.i.i822:                              ; preds = %for.body.i.i.i819
  %mul.i.i.i.i.i.i823 = fmul float %100, %100
  %add.i.i.i.i.i824 = fadd float %mul.i.i.i.i.i.i823, 1.000000e+00
  %sqrt.i.i.i.i.i825 = tail call float @llvm.sqrt.f32(float %add.i.i.i.i.i824)
  %mul.i.i.i.i.i826 = fmul float %sqrt.i.i.i.i.i825, 2.000000e+00
  %div.i.i.i.i.i827 = fdiv float %100, %mul.i.i.i.i.i826
  %add3.i.i.i.i.i828 = fadd float %div.i.i.i.i.i827, 5.000000e-01
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i829

_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i829: ; preds = %if.end.i.i.i.i.i822, %if.then.i.i.i.i.i843
  %retval.0.i.i.i.i.i830 = phi float [ %conv.i.i.i.i.i845, %if.then.i.i.i.i.i843 ], [ %add3.i.i.i.i.i828, %if.end.i.i.i.i.i822 ]
  %mul.i.i.i831 = fmul float %retval.0.i.i.i.i.i830, 0.000000e+00
  %arrayidx.i.i5.i.i.i832 = getelementptr inbounds [4 x float], ptr %retval.i.i.i791, i64 0, i64 %indvars.iv.i.i.i820
  store float %mul.i.i.i831, ptr %arrayidx.i.i5.i.i.i832, align 4
  %indvars.iv.next.i.i.i833 = add nuw nsw i64 %indvars.iv.i.i.i820, 1
  %exitcond.not.i.i.i834 = icmp eq i64 %indvars.iv.next.i.i.i833, 4
  br i1 %exitcond.not.i.i.i834, label %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i835, label %for.body.i.i.i819, !llvm.loop !152

_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i835: ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i.i829
  %.fca.0.load.i.i.i836 = load <2 x float>, ptr %retval.i.i.i791, align 8
  %.fca.1.gep.i.i.i837 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i.i791, i64 0, i32 1
  %.fca.1.load.i.i.i838 = load <2 x float>, ptr %.fca.1.gep.i.i.i837, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i791)
  br label %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit884

if.end.i846:                                      ; preds = %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit772
  %mul.i847 = mul nsw i32 %1, %add6.i408
  %add.i848 = add nsw i32 %mul.i847, %add4.i144
  %mul10.i849 = mul nsw i32 %add.i848, %0
  %add11.i850 = add nsw i32 %mul10.i849, %add.i26
  %conv.i851 = sext i32 %add11.i850 to i64
  %ptr.i.i852 = getelementptr inbounds %"class.pstd::vector.241", ptr %this, i64 0, i32 1
  %103 = load ptr, ptr %ptr.i.i852, align 8
  %arrayidx.i.i853 = getelementptr inbounds %"class.pbrt::RGBUnboundedSpectrum", ptr %103, i64 %conv.i851
  %agg.tmp7.sroa.0.0.copyload.i854 = load <2 x float>, ptr %arrayidx.i.i853, align 4
  %agg.tmp7.sroa.2.0.call12.sroa_idx.i855 = getelementptr inbounds i8, ptr %arrayidx.i.i853, i64 8
  %agg.tmp7.sroa.2.0.copyload.i856 = load <2 x float>, ptr %agg.tmp7.sroa.2.0.call12.sroa_idx.i855, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i8.i790)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i.i8.i790, i8 0, i64 16, i1 false)
  %s.sroa.0.0.vec.extract.i9.i857 = extractelement <2 x float> %agg.tmp7.sroa.0.0.copyload.i854, i64 0
  %s.sroa.3.12.vec.extract.i10.i858 = extractelement <2 x float> %agg.tmp7.sroa.2.0.copyload.i856, i64 1
  %s.sroa.3.8.vec.extract.i11.i859 = extractelement <2 x float> %agg.tmp7.sroa.2.0.copyload.i856, i64 0
  %s.sroa.0.4.vec.extract.i12.i860 = extractelement <2 x float> %agg.tmp7.sroa.0.0.copyload.i854, i64 1
  br label %for.body.i.i13.i861

for.body.i.i13.i861:                              ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i871, %if.end.i846
  %indvars.iv.i.i14.i862 = phi i64 [ 0, %if.end.i846 ], [ %indvars.iv.next.i.i27.i875, %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i871 ]
  %arrayidx.i.i.i.i15.i863 = getelementptr inbounds [4 x float], ptr %agg.tmp97789, i64 0, i64 %indvars.iv.i.i14.i862
  %104 = load float, ptr %arrayidx.i.i.i.i15.i863, align 4
  %105 = tail call noundef float @llvm.fma.f32(float %104, float %s.sroa.0.4.vec.extract.i12.i860, float %s.sroa.3.8.vec.extract.i11.i859)
  %106 = tail call noundef float @llvm.fma.f32(float %104, float %105, float %s.sroa.3.12.vec.extract.i10.i858)
  %107 = tail call float @llvm.fabs.f32(float %106)
  %108 = fcmp oeq float %107, 0x7FF0000000000000
  br i1 %108, label %if.then.i.i.i.i34.i881, label %if.end.i.i.i.i16.i864

if.then.i.i.i.i34.i881:                           ; preds = %for.body.i.i13.i861
  %cmp.i.i.i.i35.i882 = fcmp ogt float %106, 0.000000e+00
  %conv.i.i.i.i36.i883 = uitofp i1 %cmp.i.i.i.i35.i882 to float
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i871

if.end.i.i.i.i16.i864:                            ; preds = %for.body.i.i13.i861
  %mul.i.i.i.i.i17.i865 = fmul float %106, %106
  %add.i.i.i.i18.i866 = fadd float %mul.i.i.i.i.i17.i865, 1.000000e+00
  %sqrt.i.i.i.i19.i867 = tail call float @llvm.sqrt.f32(float %add.i.i.i.i18.i866)
  %mul.i.i.i.i20.i868 = fmul float %sqrt.i.i.i.i19.i867, 2.000000e+00
  %div.i.i.i.i21.i869 = fdiv float %106, %mul.i.i.i.i20.i868
  %add3.i.i.i.i22.i870 = fadd float %div.i.i.i.i21.i869, 5.000000e-01
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i871

_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i871: ; preds = %if.end.i.i.i.i16.i864, %if.then.i.i.i.i34.i881
  %retval.0.i.i.i.i24.i872 = phi float [ %conv.i.i.i.i36.i883, %if.then.i.i.i.i34.i881 ], [ %add3.i.i.i.i22.i870, %if.end.i.i.i.i16.i864 ]
  %mul.i.i25.i873 = fmul float %s.sroa.0.0.vec.extract.i9.i857, %retval.0.i.i.i.i24.i872
  %arrayidx.i.i5.i.i26.i874 = getelementptr inbounds [4 x float], ptr %retval.i.i8.i790, i64 0, i64 %indvars.iv.i.i14.i862
  store float %mul.i.i25.i873, ptr %arrayidx.i.i5.i.i26.i874, align 4
  %indvars.iv.next.i.i27.i875 = add nuw nsw i64 %indvars.iv.i.i14.i862, 1
  %exitcond.not.i.i28.i876 = icmp eq i64 %indvars.iv.next.i.i27.i875, 4
  br i1 %exitcond.not.i.i28.i876, label %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i877, label %for.body.i.i13.i861, !llvm.loop !152

_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i877: ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit.i.i23.i871
  %.fca.0.load.i.i29.i878 = load <2 x float>, ptr %retval.i.i8.i790, align 8
  %.fca.1.gep.i.i31.i879 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i.i8.i790, i64 0, i32 1
  %.fca.1.load.i.i32.i880 = load <2 x float>, ptr %.fca.1.gep.i.i31.i879, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i8.i790)
  br label %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit884

_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit884: ; preds = %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i835, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i877
  %.fca.0.load.i.i29.pn.i839 = phi <2 x float> [ %.fca.0.load.i.i29.i878, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i877 ], [ %.fca.0.load.i.i.i836, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i835 ]
  %.fca.1.load.i.i32.pn.i840 = phi <2 x float> [ %.fca.1.load.i.i32.i880, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit37.i877 ], [ %.fca.1.load.i.i.i838, %_ZZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEENKUlNS_20RGBUnboundedSpectrumEE_clES6_.exit.i835 ]
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp97789)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp2.i888)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i887)
  store <2 x float> %.fca.0.load.i.i29.pn.i727, ptr %retval.i.i.i887, align 8
  %ref.tmp81.sroa.2.0.retval.i.i.i887.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i.i887, i64 8
  store <2 x float> %.fca.1.load.i.i32.pn.i728, ptr %ref.tmp81.sroa.2.0.retval.i.i.i887.sroa_idx, align 8
  br label %for.body.i.i.i890

for.body.i.i.i890:                                ; preds = %for.body.i.i.i890, %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit884
  %indvars.iv.i.i.i891 = phi i64 [ 0, %_ZNK4pbrt11SampledGridINS_20RGBUnboundedSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit884 ], [ %indvars.iv.next.i.i.i894, %for.body.i.i.i890 ]
  %arrayidx.i.i.i.i892 = getelementptr inbounds [4 x float], ptr %retval.i.i.i887, i64 0, i64 %indvars.iv.i.i.i891
  %109 = load float, ptr %arrayidx.i.i.i.i892, align 4
  %mul.i.i.i893 = fmul float %sub.i128, %109
  store float %mul.i.i.i893, ptr %arrayidx.i.i.i.i892, align 4
  %indvars.iv.next.i.i.i894 = add nuw nsw i64 %indvars.iv.i.i.i891, 1
  %exitcond.not.i.i.i895 = icmp eq i64 %indvars.iv.next.i.i.i894, 4
  br i1 %exitcond.not.i.i.i895, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i896, label %for.body.i.i.i890, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i896:    ; preds = %for.body.i.i.i890
  %.fca.0.load.i.i.i897 = load <2 x float>, ptr %retval.i.i.i887, align 8
  %.fca.1.load.i.i.i899 = load <2 x float>, ptr %ref.tmp81.sroa.2.0.retval.i.i.i887.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i887)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i2.i886)
  store <2 x float> %.fca.0.load.i.i29.pn.i839, ptr %retval.i.i2.i886, align 8
  %ref.tmp91.sroa.2.0.retval.i.i2.i886.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i2.i886, i64 8
  store <2 x float> %.fca.1.load.i.i32.pn.i840, ptr %ref.tmp91.sroa.2.0.retval.i.i2.i886.sroa_idx, align 8
  br label %for.body.i.i3.i900

for.body.i.i3.i900:                               ; preds = %for.body.i.i3.i900, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i896
  %indvars.iv.i.i4.i901 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i896 ], [ %indvars.iv.next.i.i7.i904, %for.body.i.i3.i900 ]
  %arrayidx.i.i.i5.i902 = getelementptr inbounds [4 x float], ptr %retval.i.i2.i886, i64 0, i64 %indvars.iv.i.i4.i901
  %110 = load float, ptr %arrayidx.i.i.i5.i902, align 4
  %mul.i.i6.i903 = fmul float %sub.i, %110
  store float %mul.i.i6.i903, ptr %arrayidx.i.i.i5.i902, align 4
  %indvars.iv.next.i.i7.i904 = add nuw nsw i64 %indvars.iv.i.i4.i901, 1
  %exitcond.not.i.i8.i905 = icmp eq i64 %indvars.iv.next.i.i7.i904, 4
  br i1 %exitcond.not.i.i8.i905, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i906, label %for.body.i.i3.i900, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i906:  ; preds = %for.body.i.i3.i900
  %.fca.0.load.i.i9.i907 = load <2 x float>, ptr %retval.i.i2.i886, align 8
  %.fca.1.load.i.i12.i909 = load <2 x float>, ptr %ref.tmp91.sroa.2.0.retval.i.i2.i886.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i2.i886)
  store <2 x float> %.fca.0.load.i.i9.i907, ptr %ref.tmp2.i888, align 8
  %111 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp2.i888, i64 0, i32 1
  store <2 x float> %.fca.1.load.i.i12.i909, ptr %111, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i.i885)
  store <2 x float> %.fca.0.load.i.i.i897, ptr %ret.i.i885, align 8
  %ref.tmp.sroa.2.0.ret.i.sroa_idx.i910 = getelementptr inbounds i8, ptr %ret.i.i885, i64 8
  store <2 x float> %.fca.1.load.i.i.i899, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i910, align 8
  br label %for.body.i.i15.i911

for.body.i.i15.i911:                              ; preds = %for.body.i.i15.i911, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i906
  %indvars.iv.i.i16.i912 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i906 ], [ %indvars.iv.next.i.i18.i916, %for.body.i.i15.i911 ]
  %arrayidx.i.i.i17.i913 = getelementptr inbounds [4 x float], ptr %ref.tmp2.i888, i64 0, i64 %indvars.iv.i.i16.i912
  %112 = load float, ptr %arrayidx.i.i.i17.i913, align 4
  %arrayidx.i4.i.i.i914 = getelementptr inbounds [4 x float], ptr %ret.i.i885, i64 0, i64 %indvars.iv.i.i16.i912
  %113 = load float, ptr %arrayidx.i4.i.i.i914, align 4
  %add.i.i.i915 = fadd float %112, %113
  store float %add.i.i.i915, ptr %arrayidx.i4.i.i.i914, align 4
  %indvars.iv.next.i.i18.i916 = add nuw nsw i64 %indvars.iv.i.i16.i912, 1
  %exitcond.not.i.i19.i917 = icmp eq i64 %indvars.iv.next.i.i18.i916, 4
  br i1 %exitcond.not.i.i19.i917, label %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit922, label %for.body.i.i15.i911, !llvm.loop !87

_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit922: ; preds = %for.body.i.i15.i911
  %retval.sroa.0.0.copyload.i.i918 = load <2 x float>, ptr %ret.i.i885, align 8
  %retval.sroa.2.0.copyload.i.i919 = load <2 x float>, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i910, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i.i885)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp2.i888)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp2.i926)
  %sub.i927 = fsub float 1.000000e+00, %sub4.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i925)
  store <2 x float> %retval.sroa.0.0.copyload.i.i, ptr %retval.i.i.i925, align 8
  %d00.sroa.2.0.retval.i.i.i925.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i.i925, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i.i, ptr %d00.sroa.2.0.retval.i.i.i925.sroa_idx, align 8
  br label %for.body.i.i.i928

for.body.i.i.i928:                                ; preds = %for.body.i.i.i928, %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit922
  %indvars.iv.i.i.i929 = phi i64 [ 0, %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit922 ], [ %indvars.iv.next.i.i.i932, %for.body.i.i.i928 ]
  %arrayidx.i.i.i.i930 = getelementptr inbounds [4 x float], ptr %retval.i.i.i925, i64 0, i64 %indvars.iv.i.i.i929
  %114 = load float, ptr %arrayidx.i.i.i.i930, align 4
  %mul.i.i.i931 = fmul float %sub.i927, %114
  store float %mul.i.i.i931, ptr %arrayidx.i.i.i.i930, align 4
  %indvars.iv.next.i.i.i932 = add nuw nsw i64 %indvars.iv.i.i.i929, 1
  %exitcond.not.i.i.i933 = icmp eq i64 %indvars.iv.next.i.i.i932, 4
  br i1 %exitcond.not.i.i.i933, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i934, label %for.body.i.i.i928, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i934:    ; preds = %for.body.i.i.i928
  %.fca.0.load.i.i.i935 = load <2 x float>, ptr %retval.i.i.i925, align 8
  %.fca.1.load.i.i.i937 = load <2 x float>, ptr %d00.sroa.2.0.retval.i.i.i925.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i925)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i2.i924)
  store <2 x float> %retval.sroa.0.0.copyload.i.i394, ptr %retval.i.i2.i924, align 8
  %d10.sroa.2.0.retval.i.i2.i924.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i2.i924, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i.i395, ptr %d10.sroa.2.0.retval.i.i2.i924.sroa_idx, align 8
  br label %for.body.i.i3.i938

for.body.i.i3.i938:                               ; preds = %for.body.i.i3.i938, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i934
  %indvars.iv.i.i4.i939 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i934 ], [ %indvars.iv.next.i.i7.i942, %for.body.i.i3.i938 ]
  %arrayidx.i.i.i5.i940 = getelementptr inbounds [4 x float], ptr %retval.i.i2.i924, i64 0, i64 %indvars.iv.i.i4.i939
  %115 = load float, ptr %arrayidx.i.i.i5.i940, align 4
  %mul.i.i6.i941 = fmul float %sub4.i, %115
  store float %mul.i.i6.i941, ptr %arrayidx.i.i.i5.i940, align 4
  %indvars.iv.next.i.i7.i942 = add nuw nsw i64 %indvars.iv.i.i4.i939, 1
  %exitcond.not.i.i8.i943 = icmp eq i64 %indvars.iv.next.i.i7.i942, 4
  br i1 %exitcond.not.i.i8.i943, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i944, label %for.body.i.i3.i938, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i944:  ; preds = %for.body.i.i3.i938
  %.fca.0.load.i.i9.i945 = load <2 x float>, ptr %retval.i.i2.i924, align 8
  %.fca.1.load.i.i12.i947 = load <2 x float>, ptr %d10.sroa.2.0.retval.i.i2.i924.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i2.i924)
  store <2 x float> %.fca.0.load.i.i9.i945, ptr %ref.tmp2.i926, align 8
  %116 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp2.i926, i64 0, i32 1
  store <2 x float> %.fca.1.load.i.i12.i947, ptr %116, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i.i923)
  store <2 x float> %.fca.0.load.i.i.i935, ptr %ret.i.i923, align 8
  %ref.tmp.sroa.2.0.ret.i.sroa_idx.i948 = getelementptr inbounds i8, ptr %ret.i.i923, i64 8
  store <2 x float> %.fca.1.load.i.i.i937, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i948, align 8
  br label %for.body.i.i15.i949

for.body.i.i15.i949:                              ; preds = %for.body.i.i15.i949, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i944
  %indvars.iv.i.i16.i950 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i944 ], [ %indvars.iv.next.i.i18.i954, %for.body.i.i15.i949 ]
  %arrayidx.i.i.i17.i951 = getelementptr inbounds [4 x float], ptr %ref.tmp2.i926, i64 0, i64 %indvars.iv.i.i16.i950
  %117 = load float, ptr %arrayidx.i.i.i17.i951, align 4
  %arrayidx.i4.i.i.i952 = getelementptr inbounds [4 x float], ptr %ret.i.i923, i64 0, i64 %indvars.iv.i.i16.i950
  %118 = load float, ptr %arrayidx.i4.i.i.i952, align 4
  %add.i.i.i953 = fadd float %117, %118
  store float %add.i.i.i953, ptr %arrayidx.i4.i.i.i952, align 4
  %indvars.iv.next.i.i18.i954 = add nuw nsw i64 %indvars.iv.i.i16.i950, 1
  %exitcond.not.i.i19.i955 = icmp eq i64 %indvars.iv.next.i.i18.i954, 4
  br i1 %exitcond.not.i.i19.i955, label %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit960, label %for.body.i.i15.i949, !llvm.loop !87

_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit960: ; preds = %for.body.i.i15.i949
  %retval.sroa.0.0.copyload.i.i956 = load <2 x float>, ptr %ret.i.i923, align 8
  %retval.sroa.2.0.copyload.i.i957 = load <2 x float>, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i948, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i.i923)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp2.i926)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp2.i964)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i963)
  store <2 x float> %retval.sroa.0.0.copyload.i.i656, ptr %retval.i.i.i963, align 8
  %d01.sroa.2.0.retval.i.i.i963.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i.i963, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i.i657, ptr %d01.sroa.2.0.retval.i.i.i963.sroa_idx, align 8
  br label %for.body.i.i.i966

for.body.i.i.i966:                                ; preds = %for.body.i.i.i966, %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit960
  %indvars.iv.i.i.i967 = phi i64 [ 0, %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit960 ], [ %indvars.iv.next.i.i.i970, %for.body.i.i.i966 ]
  %arrayidx.i.i.i.i968 = getelementptr inbounds [4 x float], ptr %retval.i.i.i963, i64 0, i64 %indvars.iv.i.i.i967
  %119 = load float, ptr %arrayidx.i.i.i.i968, align 4
  %mul.i.i.i969 = fmul float %sub.i927, %119
  store float %mul.i.i.i969, ptr %arrayidx.i.i.i.i968, align 4
  %indvars.iv.next.i.i.i970 = add nuw nsw i64 %indvars.iv.i.i.i967, 1
  %exitcond.not.i.i.i971 = icmp eq i64 %indvars.iv.next.i.i.i970, 4
  br i1 %exitcond.not.i.i.i971, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i972, label %for.body.i.i.i966, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i972:    ; preds = %for.body.i.i.i966
  %.fca.0.load.i.i.i973 = load <2 x float>, ptr %retval.i.i.i963, align 8
  %.fca.1.load.i.i.i975 = load <2 x float>, ptr %d01.sroa.2.0.retval.i.i.i963.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i963)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i2.i962)
  store <2 x float> %retval.sroa.0.0.copyload.i.i918, ptr %retval.i.i2.i962, align 8
  %d11.sroa.2.0.retval.i.i2.i962.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i2.i962, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i.i919, ptr %d11.sroa.2.0.retval.i.i2.i962.sroa_idx, align 8
  br label %for.body.i.i3.i976

for.body.i.i3.i976:                               ; preds = %for.body.i.i3.i976, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i972
  %indvars.iv.i.i4.i977 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i972 ], [ %indvars.iv.next.i.i7.i980, %for.body.i.i3.i976 ]
  %arrayidx.i.i.i5.i978 = getelementptr inbounds [4 x float], ptr %retval.i.i2.i962, i64 0, i64 %indvars.iv.i.i4.i977
  %120 = load float, ptr %arrayidx.i.i.i5.i978, align 4
  %mul.i.i6.i979 = fmul float %sub4.i, %120
  store float %mul.i.i6.i979, ptr %arrayidx.i.i.i5.i978, align 4
  %indvars.iv.next.i.i7.i980 = add nuw nsw i64 %indvars.iv.i.i4.i977, 1
  %exitcond.not.i.i8.i981 = icmp eq i64 %indvars.iv.next.i.i7.i980, 4
  br i1 %exitcond.not.i.i8.i981, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i982, label %for.body.i.i3.i976, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i982:  ; preds = %for.body.i.i3.i976
  %.fca.0.load.i.i9.i983 = load <2 x float>, ptr %retval.i.i2.i962, align 8
  %.fca.1.load.i.i12.i985 = load <2 x float>, ptr %d11.sroa.2.0.retval.i.i2.i962.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i2.i962)
  store <2 x float> %.fca.0.load.i.i9.i983, ptr %ref.tmp2.i964, align 8
  %121 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp2.i964, i64 0, i32 1
  store <2 x float> %.fca.1.load.i.i12.i985, ptr %121, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i.i961)
  store <2 x float> %.fca.0.load.i.i.i973, ptr %ret.i.i961, align 8
  %ref.tmp.sroa.2.0.ret.i.sroa_idx.i986 = getelementptr inbounds i8, ptr %ret.i.i961, i64 8
  store <2 x float> %.fca.1.load.i.i.i975, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i986, align 8
  br label %for.body.i.i15.i987

for.body.i.i15.i987:                              ; preds = %for.body.i.i15.i987, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i982
  %indvars.iv.i.i16.i988 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i982 ], [ %indvars.iv.next.i.i18.i992, %for.body.i.i15.i987 ]
  %arrayidx.i.i.i17.i989 = getelementptr inbounds [4 x float], ptr %ref.tmp2.i964, i64 0, i64 %indvars.iv.i.i16.i988
  %122 = load float, ptr %arrayidx.i.i.i17.i989, align 4
  %arrayidx.i4.i.i.i990 = getelementptr inbounds [4 x float], ptr %ret.i.i961, i64 0, i64 %indvars.iv.i.i16.i988
  %123 = load float, ptr %arrayidx.i4.i.i.i990, align 4
  %add.i.i.i991 = fadd float %122, %123
  store float %add.i.i.i991, ptr %arrayidx.i4.i.i.i990, align 4
  %indvars.iv.next.i.i18.i992 = add nuw nsw i64 %indvars.iv.i.i16.i988, 1
  %exitcond.not.i.i19.i993 = icmp eq i64 %indvars.iv.next.i.i18.i992, 4
  br i1 %exitcond.not.i.i19.i993, label %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit998, label %for.body.i.i15.i987, !llvm.loop !87

_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit998: ; preds = %for.body.i.i15.i987
  %retval.sroa.0.0.copyload.i.i994 = load <2 x float>, ptr %ret.i.i961, align 8
  %retval.sroa.2.0.copyload.i.i995 = load <2 x float>, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i986, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i.i961)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp2.i964)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp2.i1002)
  %sub.i1003 = fsub float 1.000000e+00, %sub6.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i1001)
  store <2 x float> %retval.sroa.0.0.copyload.i.i956, ptr %retval.i.i.i1001, align 8
  %ref.tmp105.sroa.2.0.retval.i.i.i1001.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i.i1001, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i.i957, ptr %ref.tmp105.sroa.2.0.retval.i.i.i1001.sroa_idx, align 8
  br label %for.body.i.i.i1004

for.body.i.i.i1004:                               ; preds = %for.body.i.i.i1004, %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit998
  %indvars.iv.i.i.i1005 = phi i64 [ 0, %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit998 ], [ %indvars.iv.next.i.i.i1008, %for.body.i.i.i1004 ]
  %arrayidx.i.i.i.i1006 = getelementptr inbounds [4 x float], ptr %retval.i.i.i1001, i64 0, i64 %indvars.iv.i.i.i1005
  %124 = load float, ptr %arrayidx.i.i.i.i1006, align 4
  %mul.i.i.i1007 = fmul float %sub.i1003, %124
  store float %mul.i.i.i1007, ptr %arrayidx.i.i.i.i1006, align 4
  %indvars.iv.next.i.i.i1008 = add nuw nsw i64 %indvars.iv.i.i.i1005, 1
  %exitcond.not.i.i.i1009 = icmp eq i64 %indvars.iv.next.i.i.i1008, 4
  br i1 %exitcond.not.i.i.i1009, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i1010, label %for.body.i.i.i1004, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i1010:   ; preds = %for.body.i.i.i1004
  %.fca.0.load.i.i.i1011 = load <2 x float>, ptr %retval.i.i.i1001, align 8
  %.fca.1.load.i.i.i1013 = load <2 x float>, ptr %ref.tmp105.sroa.2.0.retval.i.i.i1001.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i1001)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i2.i1000)
  store <2 x float> %retval.sroa.0.0.copyload.i.i994, ptr %retval.i.i2.i1000, align 8
  %ref.tmp110.sroa.2.0.retval.i.i2.i1000.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i2.i1000, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i.i995, ptr %ref.tmp110.sroa.2.0.retval.i.i2.i1000.sroa_idx, align 8
  br label %for.body.i.i3.i1014

for.body.i.i3.i1014:                              ; preds = %for.body.i.i3.i1014, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i1010
  %indvars.iv.i.i4.i1015 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i1010 ], [ %indvars.iv.next.i.i7.i1018, %for.body.i.i3.i1014 ]
  %arrayidx.i.i.i5.i1016 = getelementptr inbounds [4 x float], ptr %retval.i.i2.i1000, i64 0, i64 %indvars.iv.i.i4.i1015
  %125 = load float, ptr %arrayidx.i.i.i5.i1016, align 4
  %mul.i.i6.i1017 = fmul float %sub6.i, %125
  store float %mul.i.i6.i1017, ptr %arrayidx.i.i.i5.i1016, align 4
  %indvars.iv.next.i.i7.i1018 = add nuw nsw i64 %indvars.iv.i.i4.i1015, 1
  %exitcond.not.i.i8.i1019 = icmp eq i64 %indvars.iv.next.i.i7.i1018, 4
  br i1 %exitcond.not.i.i8.i1019, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i1020, label %for.body.i.i3.i1014, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i1020: ; preds = %for.body.i.i3.i1014
  %.fca.0.load.i.i9.i1021 = load <2 x float>, ptr %retval.i.i2.i1000, align 8
  %.fca.1.load.i.i12.i1023 = load <2 x float>, ptr %ref.tmp110.sroa.2.0.retval.i.i2.i1000.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i2.i1000)
  store <2 x float> %.fca.0.load.i.i9.i1021, ptr %ref.tmp2.i1002, align 8
  %126 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp2.i1002, i64 0, i32 1
  store <2 x float> %.fca.1.load.i.i12.i1023, ptr %126, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i.i999)
  store <2 x float> %.fca.0.load.i.i.i1011, ptr %ret.i.i999, align 8
  %ref.tmp.sroa.2.0.ret.i.sroa_idx.i1024 = getelementptr inbounds i8, ptr %ret.i.i999, i64 8
  store <2 x float> %.fca.1.load.i.i.i1013, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i1024, align 8
  br label %for.body.i.i15.i1025

for.body.i.i15.i1025:                             ; preds = %for.body.i.i15.i1025, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i1020
  %indvars.iv.i.i16.i1026 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i1020 ], [ %indvars.iv.next.i.i18.i1030, %for.body.i.i15.i1025 ]
  %arrayidx.i.i.i17.i1027 = getelementptr inbounds [4 x float], ptr %ref.tmp2.i1002, i64 0, i64 %indvars.iv.i.i16.i1026
  %127 = load float, ptr %arrayidx.i.i.i17.i1027, align 4
  %arrayidx.i4.i.i.i1028 = getelementptr inbounds [4 x float], ptr %ret.i.i999, i64 0, i64 %indvars.iv.i.i16.i1026
  %128 = load float, ptr %arrayidx.i4.i.i.i1028, align 4
  %add.i.i.i1029 = fadd float %127, %128
  store float %add.i.i.i1029, ptr %arrayidx.i4.i.i.i1028, align 4
  %indvars.iv.next.i.i18.i1030 = add nuw nsw i64 %indvars.iv.i.i16.i1026, 1
  %exitcond.not.i.i19.i1031 = icmp eq i64 %indvars.iv.next.i.i18.i1030, 4
  br i1 %exitcond.not.i.i19.i1031, label %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit1036, label %for.body.i.i15.i1025, !llvm.loop !87

_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit1036: ; preds = %for.body.i.i15.i1025
  %retval.sroa.0.0.copyload.i.i1032 = load <2 x float>, ptr %ret.i.i999, align 8
  %retval.sroa.2.0.copyload.i.i1033 = load <2 x float>, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i1024, align 8
  %.fca.0.insert.i.i1034 = insertvalue { <2 x float>, <2 x float> } poison, <2 x float> %retval.sroa.0.0.copyload.i.i1032, 0
  %.fca.1.insert.i.i1035 = insertvalue { <2 x float>, <2 x float> } %.fca.0.insert.i.i1034, <2 x float> %retval.sroa.2.0.copyload.i.i1033, 1
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i.i999)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp2.i1002)
  ret { <2 x float>, <2 x float> } %.fca.1.insert.i.i1035
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local { <2 x float>, <2 x float> } @_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaS6_T_(ptr noundef nonnull align 8 dereferenceable(44) %this, <2 x float> %p.coerce0, float %p.coerce1, ptr noundef byval(%class.anon.244) align 8 %convert) local_unnamed_addr #9 comdat align 2 {
entry:
  %ret.i.i619 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i2.i620 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i621 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp2.i622 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i.i581 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i2.i582 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i583 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp2.i584 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i.i543 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i2.i544 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i545 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp2.i546 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ret.i.i505 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i2.i506 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i507 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp2.i508 = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp79.i463 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp48.i464 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp7.i465 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp97462 = alloca %class.anon.244, align 8
  %agg.tmp79.i404 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp48.i405 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp7.i406 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp87403 = alloca %class.anon.244, align 8
  %ret.i.i349 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i2.i350 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i351 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp2.i352 = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp79.i307 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp48.i308 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp7.i309 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp73306 = alloca %class.anon.244, align 8
  %agg.tmp79.i248 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp48.i249 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp7.i250 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp63247 = alloca %class.anon.244, align 8
  %ret.i.i193 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i2.i194 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i195 = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp2.i196 = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp79.i151 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp48.i152 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp7.i153 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp49150 = alloca %class.anon.244, align 8
  %agg.tmp79.i92 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp48.i93 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp7.i94 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp3991 = alloca %class.anon.244, align 8
  %ret.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i2.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp2.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp79.i32 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp48.i33 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp7.i34 = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp2531 = alloca %class.anon.244, align 8
  %agg.tmp79.i = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp48.i = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp7.i = alloca %"class.pbrt::RGBIlluminantSpectrum", align 8
  %agg.tmp1522 = alloca %class.anon.244, align 8
  %nx = getelementptr inbounds %"class.pbrt::SampledGrid.245", ptr %this, i64 0, i32 1
  %ny = getelementptr inbounds %"class.pbrt::SampledGrid.245", ptr %this, i64 0, i32 2
  %nz = getelementptr inbounds %"class.pbrt::SampledGrid.245", ptr %this, i64 0, i32 3
  %0 = load i32, ptr %nz, align 8
  %conv5 = sitofp i32 %0 to float
  %mul6 = fmul float %conv5, %p.coerce1
  %sub7 = fadd float %mul6, -5.000000e-01
  %1 = tail call noundef float @llvm.floor.f32(float %sub7)
  %2 = load <2 x i32>, ptr %nx, align 8
  %3 = sitofp <2 x i32> %2 to <2 x float>
  %4 = fmul <2 x float> %3, %p.coerce0
  %5 = fadd <2 x float> %4, <float -5.000000e-01, float -5.000000e-01>
  %6 = tail call <2 x float> @llvm.floor.v2f32(<2 x float> %5)
  %7 = fptosi <2 x float> %6 to <2 x i32>
  %conv3.i = fptosi float %1 to i32
  %8 = extractelement <2 x i32> %7, i64 0
  %conv.i11 = sitofp i32 %8 to float
  %9 = extractelement <2 x i32> %7, i64 1
  %conv2.i12 = sitofp i32 %9 to float
  %conv3.i13 = sitofp i32 %conv3.i to float
  %10 = extractelement <2 x float> %5, i64 0
  %sub.i = fsub float %10, %conv.i11
  %11 = extractelement <2 x float> %5, i64 1
  %sub4.i = fsub float %11, %conv2.i12
  %sub6.i = fsub float %sub7, %conv3.i13
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp1522)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp1522, ptr noundef nonnull align 8 dereferenceable(32) %convert, i64 32, i1 false)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp7.i)
  %12 = extractelement <2 x i32> %2, i64 0
  %.sroa.speculated10.i.i.i = tail call i32 @llvm.smin.i32(i32 %12, i32 0)
  %13 = extractelement <2 x i32> %2, i64 1
  %.sroa.speculated7.i.i.i = tail call i32 @llvm.smin.i32(i32 %13, i32 0)
  %.sroa.speculated.i.i.i = tail call i32 @llvm.smin.i32(i32 %0, i32 0)
  %.sroa.speculated10.i11.i.i = tail call i32 @llvm.smax.i32(i32 %12, i32 0)
  %.sroa.speculated7.i12.i.i = tail call i32 @llvm.smax.i32(i32 %13, i32 0)
  %.sroa.speculated.i13.i.i = tail call i32 @llvm.smax.i32(i32 %0, i32 0)
  %cmp.not.i.i = icmp sle i32 %.sroa.speculated10.i.i.i, %8
  %cmp4.i.i = icmp sgt i32 %.sroa.speculated10.i11.i.i, %8
  %or.cond.not12.not.not.i.not.i = select i1 %cmp.not.i.i, i1 %cmp4.i.i, i1 false
  %cmp8.not.i.i = icmp sle i32 %.sroa.speculated7.i.i.i, %9
  %or.cond9.i.i = select i1 %or.cond.not12.not.not.i.not.i, i1 %cmp8.not.i.i, i1 false
  %cmp13.i.i = icmp sgt i32 %.sroa.speculated7.i12.i.i, %9
  %or.cond10.i.i = select i1 %or.cond9.i.i, i1 %cmp13.i.i, i1 false
  %cmp17.not.i.i = icmp sle i32 %.sroa.speculated.i.i.i, %conv3.i
  %or.cond11.i.i = select i1 %or.cond10.i.i, i1 %cmp17.not.i.i, i1 false
  %cmp21.i.i = icmp sgt i32 %.sroa.speculated.i13.i.i, %conv3.i
  %or.cond.i = select i1 %or.cond11.i.i, i1 %cmp21.i.i, i1 false
  br i1 %or.cond.i, label %if.end.i, label %if.then.i

if.then.i:                                        ; preds = %entry
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp48.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp48.i, i8 0, i64 24, i1 false)
  %call.i.i = call { <2 x float>, <2 x float> } @_ZNK4pbrt21RGBIlluminantSpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp48.i, ptr noundef nonnull align 4 dereferenceable(32) %agg.tmp1522)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp48.i)
  br label %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit

if.end.i:                                         ; preds = %entry
  %mul.i = mul nsw i32 %13, %conv3.i
  %add.i = add nsw i32 %mul.i, %9
  %mul10.i = mul nsw i32 %add.i, %12
  %add11.i = add nsw i32 %mul10.i, %8
  %conv.i23 = sext i32 %add11.i to i64
  %ptr.i.i = getelementptr inbounds %"class.pstd::vector.246", ptr %this, i64 0, i32 1
  %14 = load ptr, ptr %ptr.i.i, align 8
  %arrayidx.i.i = getelementptr inbounds %"class.pbrt::RGBIlluminantSpectrum", ptr %14, i64 %conv.i23
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp7.i, ptr noundef nonnull align 8 dereferenceable(24) %arrayidx.i.i, i64 24, i1 false)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp79.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp79.i, ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp7.i, i64 24, i1 false)
  %call.i10.i = call { <2 x float>, <2 x float> } @_ZNK4pbrt21RGBIlluminantSpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp79.i, ptr noundef nonnull align 4 dereferenceable(32) %agg.tmp1522)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp79.i)
  br label %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit

_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit: ; preds = %if.then.i, %if.end.i
  %call13.pn.i = phi { <2 x float>, <2 x float> } [ %call.i10.i, %if.end.i ], [ %call.i.i, %if.then.i ]
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp1522)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp7.i)
  %15 = extractvalue { <2 x float>, <2 x float> } %call13.pn.i, 0
  %16 = extractvalue { <2 x float>, <2 x float> } %call13.pn.i, 1
  %add.i26 = add nsw i32 %8, 1
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp2531)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp2531, ptr noundef nonnull align 8 dereferenceable(32) %convert, i64 32, i1 false)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp7.i34)
  %17 = load i32, ptr %nx, align 8
  %18 = load i32, ptr %ny, align 4
  %19 = load i32, ptr %nz, align 8
  %.sroa.speculated10.i.i.i38 = call i32 @llvm.smin.i32(i32 %17, i32 0)
  %.sroa.speculated7.i.i.i39 = call i32 @llvm.smin.i32(i32 %18, i32 0)
  %.sroa.speculated.i.i.i40 = call i32 @llvm.smin.i32(i32 %19, i32 0)
  %.sroa.speculated10.i11.i.i41 = call i32 @llvm.smax.i32(i32 %17, i32 0)
  %.sroa.speculated7.i12.i.i42 = call i32 @llvm.smax.i32(i32 %18, i32 0)
  %.sroa.speculated.i13.i.i43 = call i32 @llvm.smax.i32(i32 %19, i32 0)
  %cmp.not.i.i50 = icmp sle i32 %.sroa.speculated10.i.i.i38, %add.i26
  %cmp4.i.i51 = icmp sgt i32 %.sroa.speculated10.i11.i.i41, %add.i26
  %or.cond.not12.not.not.i.not.i52 = select i1 %cmp.not.i.i50, i1 %cmp4.i.i51, i1 false
  %cmp8.not.i.i53 = icmp sle i32 %.sroa.speculated7.i.i.i39, %9
  %or.cond9.i.i54 = select i1 %or.cond.not12.not.not.i.not.i52, i1 %cmp8.not.i.i53, i1 false
  %cmp13.i.i55 = icmp sgt i32 %.sroa.speculated7.i12.i.i42, %9
  %or.cond10.i.i56 = select i1 %or.cond9.i.i54, i1 %cmp13.i.i55, i1 false
  %cmp17.not.i.i57 = icmp sle i32 %.sroa.speculated.i.i.i40, %conv3.i
  %or.cond11.i.i58 = select i1 %or.cond10.i.i56, i1 %cmp17.not.i.i57, i1 false
  %cmp21.i.i59 = icmp sgt i32 %.sroa.speculated.i13.i.i43, %conv3.i
  %or.cond.i60 = select i1 %or.cond11.i.i58, i1 %cmp21.i.i59, i1 false
  br i1 %or.cond.i60, label %if.end.i64, label %if.then.i61

if.then.i61:                                      ; preds = %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp48.i33)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp48.i33, i8 0, i64 24, i1 false)
  %call.i.i62 = call { <2 x float>, <2 x float> } @_ZNK4pbrt21RGBIlluminantSpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp48.i33, ptr noundef nonnull align 4 dereferenceable(32) %agg.tmp2531)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp48.i33)
  br label %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit73

if.end.i64:                                       ; preds = %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit
  %mul.i65 = mul nsw i32 %18, %conv3.i
  %add.i66 = add nsw i32 %mul.i65, %9
  %mul10.i67 = mul nsw i32 %add.i66, %17
  %add11.i68 = add nsw i32 %mul10.i67, %add.i26
  %conv.i69 = sext i32 %add11.i68 to i64
  %ptr.i.i70 = getelementptr inbounds %"class.pstd::vector.246", ptr %this, i64 0, i32 1
  %20 = load ptr, ptr %ptr.i.i70, align 8
  %arrayidx.i.i71 = getelementptr inbounds %"class.pbrt::RGBIlluminantSpectrum", ptr %20, i64 %conv.i69
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp7.i34, ptr noundef nonnull align 8 dereferenceable(24) %arrayidx.i.i71, i64 24, i1 false)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp79.i32)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp79.i32, ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp7.i34, i64 24, i1 false)
  %call.i10.i72 = call { <2 x float>, <2 x float> } @_ZNK4pbrt21RGBIlluminantSpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp79.i32, ptr noundef nonnull align 4 dereferenceable(32) %agg.tmp2531)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp79.i32)
  br label %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit73

_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit73: ; preds = %if.then.i61, %if.end.i64
  %call13.pn.i63 = phi { <2 x float>, <2 x float> } [ %call.i10.i72, %if.end.i64 ], [ %call.i.i62, %if.then.i61 ]
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp2531)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp7.i34)
  %21 = extractvalue { <2 x float>, <2 x float> } %call13.pn.i63, 0
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp2.i)
  %sub.i74 = fsub float 1.000000e+00, %sub.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i)
  store <2 x float> %15, ptr %retval.i.i.i, align 8
  %ref.tmp.sroa.2.0.retval.i.i.i.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i.i, i64 8
  store <2 x float> %16, ptr %ref.tmp.sroa.2.0.retval.i.i.i.sroa_idx, align 8
  br label %for.body.i.i.i

for.body.i.i.i:                                   ; preds = %for.body.i.i.i, %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit73
  %indvars.iv.i.i.i = phi i64 [ 0, %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit73 ], [ %indvars.iv.next.i.i.i, %for.body.i.i.i ]
  %arrayidx.i.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i.i, i64 0, i64 %indvars.iv.i.i.i
  %22 = load float, ptr %arrayidx.i.i.i.i, align 4
  %mul.i.i.i = fmul float %sub.i74, %22
  store float %mul.i.i.i, ptr %arrayidx.i.i.i.i, align 4
  %indvars.iv.next.i.i.i = add nuw nsw i64 %indvars.iv.i.i.i, 1
  %exitcond.not.i.i.i = icmp eq i64 %indvars.iv.next.i.i.i, 4
  br i1 %exitcond.not.i.i.i, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i, label %for.body.i.i.i, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i:       ; preds = %for.body.i.i.i
  %23 = extractvalue { <2 x float>, <2 x float> } %call13.pn.i63, 1
  %.fca.0.load.i.i.i = load <2 x float>, ptr %retval.i.i.i, align 8
  %.fca.1.load.i.i.i = load <2 x float>, ptr %ref.tmp.sroa.2.0.retval.i.i.i.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i2.i)
  store <2 x float> %21, ptr %retval.i.i2.i, align 8
  %ref.tmp19.sroa.2.0.retval.i.i2.i.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i2.i, i64 8
  store <2 x float> %23, ptr %ref.tmp19.sroa.2.0.retval.i.i2.i.sroa_idx, align 8
  br label %for.body.i.i3.i

for.body.i.i3.i:                                  ; preds = %for.body.i.i3.i, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i
  %indvars.iv.i.i4.i = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i ], [ %indvars.iv.next.i.i7.i, %for.body.i.i3.i ]
  %arrayidx.i.i.i5.i = getelementptr inbounds [4 x float], ptr %retval.i.i2.i, i64 0, i64 %indvars.iv.i.i4.i
  %24 = load float, ptr %arrayidx.i.i.i5.i, align 4
  %mul.i.i6.i = fmul float %sub.i, %24
  store float %mul.i.i6.i, ptr %arrayidx.i.i.i5.i, align 4
  %indvars.iv.next.i.i7.i = add nuw nsw i64 %indvars.iv.i.i4.i, 1
  %exitcond.not.i.i8.i = icmp eq i64 %indvars.iv.next.i.i7.i, 4
  br i1 %exitcond.not.i.i8.i, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i, label %for.body.i.i3.i, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i:     ; preds = %for.body.i.i3.i
  %.fca.0.load.i.i9.i = load <2 x float>, ptr %retval.i.i2.i, align 8
  %.fca.1.load.i.i12.i = load <2 x float>, ptr %ref.tmp19.sroa.2.0.retval.i.i2.i.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i2.i)
  store <2 x float> %.fca.0.load.i.i9.i, ptr %ref.tmp2.i, align 8
  %25 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp2.i, i64 0, i32 1
  store <2 x float> %.fca.1.load.i.i12.i, ptr %25, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i.i)
  store <2 x float> %.fca.0.load.i.i.i, ptr %ret.i.i, align 8
  %ref.tmp.sroa.2.0.ret.i.sroa_idx.i = getelementptr inbounds i8, ptr %ret.i.i, i64 8
  store <2 x float> %.fca.1.load.i.i.i, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i, align 8
  br label %for.body.i.i15.i

for.body.i.i15.i:                                 ; preds = %for.body.i.i15.i, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i
  %indvars.iv.i.i16.i = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i ], [ %indvars.iv.next.i.i18.i, %for.body.i.i15.i ]
  %arrayidx.i.i.i17.i = getelementptr inbounds [4 x float], ptr %ref.tmp2.i, i64 0, i64 %indvars.iv.i.i16.i
  %26 = load float, ptr %arrayidx.i.i.i17.i, align 4
  %arrayidx.i4.i.i.i = getelementptr inbounds [4 x float], ptr %ret.i.i, i64 0, i64 %indvars.iv.i.i16.i
  %27 = load float, ptr %arrayidx.i4.i.i.i, align 4
  %add.i.i.i = fadd float %26, %27
  store float %add.i.i.i, ptr %arrayidx.i4.i.i.i, align 4
  %indvars.iv.next.i.i18.i = add nuw nsw i64 %indvars.iv.i.i16.i, 1
  %exitcond.not.i.i19.i = icmp eq i64 %indvars.iv.next.i.i18.i, 4
  br i1 %exitcond.not.i.i19.i, label %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit, label %for.body.i.i15.i, !llvm.loop !87

_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit:   ; preds = %for.body.i.i15.i
  %retval.sroa.0.0.copyload.i.i = load <2 x float>, ptr %ret.i.i, align 8
  %retval.sroa.2.0.copyload.i.i = load <2 x float>, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp2.i)
  %add4.i82 = add nsw i32 %9, 1
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp3991)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp3991, ptr noundef nonnull align 8 dereferenceable(32) %convert, i64 32, i1 false)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp7.i94)
  %28 = load i32, ptr %nx, align 8
  %29 = load i32, ptr %ny, align 4
  %30 = load i32, ptr %nz, align 8
  %.sroa.speculated10.i.i.i98 = call i32 @llvm.smin.i32(i32 %28, i32 0)
  %.sroa.speculated7.i.i.i99 = call i32 @llvm.smin.i32(i32 %29, i32 0)
  %.sroa.speculated.i.i.i100 = call i32 @llvm.smin.i32(i32 %30, i32 0)
  %.sroa.speculated10.i11.i.i101 = call i32 @llvm.smax.i32(i32 %28, i32 0)
  %.sroa.speculated7.i12.i.i102 = call i32 @llvm.smax.i32(i32 %29, i32 0)
  %.sroa.speculated.i13.i.i103 = call i32 @llvm.smax.i32(i32 %30, i32 0)
  %cmp.not.i.i110 = icmp sle i32 %.sroa.speculated10.i.i.i98, %8
  %cmp4.i.i111 = icmp sgt i32 %.sroa.speculated10.i11.i.i101, %8
  %or.cond.not12.not.not.i.not.i112 = select i1 %cmp.not.i.i110, i1 %cmp4.i.i111, i1 false
  %cmp8.not.i.i113 = icmp sle i32 %.sroa.speculated7.i.i.i99, %add4.i82
  %or.cond9.i.i114 = select i1 %or.cond.not12.not.not.i.not.i112, i1 %cmp8.not.i.i113, i1 false
  %cmp13.i.i115 = icmp sgt i32 %.sroa.speculated7.i12.i.i102, %add4.i82
  %or.cond10.i.i116 = select i1 %or.cond9.i.i114, i1 %cmp13.i.i115, i1 false
  %cmp17.not.i.i117 = icmp sle i32 %.sroa.speculated.i.i.i100, %conv3.i
  %or.cond11.i.i118 = select i1 %or.cond10.i.i116, i1 %cmp17.not.i.i117, i1 false
  %cmp21.i.i119 = icmp sgt i32 %.sroa.speculated.i13.i.i103, %conv3.i
  %or.cond.i120 = select i1 %or.cond11.i.i118, i1 %cmp21.i.i119, i1 false
  br i1 %or.cond.i120, label %if.end.i124, label %if.then.i121

if.then.i121:                                     ; preds = %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp48.i93)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp48.i93, i8 0, i64 24, i1 false)
  %call.i.i122 = call { <2 x float>, <2 x float> } @_ZNK4pbrt21RGBIlluminantSpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp48.i93, ptr noundef nonnull align 4 dereferenceable(32) %agg.tmp3991)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp48.i93)
  br label %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit133

if.end.i124:                                      ; preds = %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit
  %mul.i125 = mul nsw i32 %29, %conv3.i
  %add.i126 = add nsw i32 %mul.i125, %add4.i82
  %mul10.i127 = mul nsw i32 %add.i126, %28
  %add11.i128 = add nsw i32 %mul10.i127, %8
  %conv.i129 = sext i32 %add11.i128 to i64
  %ptr.i.i130 = getelementptr inbounds %"class.pstd::vector.246", ptr %this, i64 0, i32 1
  %31 = load ptr, ptr %ptr.i.i130, align 8
  %arrayidx.i.i131 = getelementptr inbounds %"class.pbrt::RGBIlluminantSpectrum", ptr %31, i64 %conv.i129
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp7.i94, ptr noundef nonnull align 8 dereferenceable(24) %arrayidx.i.i131, i64 24, i1 false)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp79.i92)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp79.i92, ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp7.i94, i64 24, i1 false)
  %call.i10.i132 = call { <2 x float>, <2 x float> } @_ZNK4pbrt21RGBIlluminantSpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp79.i92, ptr noundef nonnull align 4 dereferenceable(32) %agg.tmp3991)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp79.i92)
  br label %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit133

_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit133: ; preds = %if.then.i121, %if.end.i124
  %call13.pn.i123 = phi { <2 x float>, <2 x float> } [ %call.i10.i132, %if.end.i124 ], [ %call.i.i122, %if.then.i121 ]
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp3991)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp7.i94)
  %32 = extractvalue { <2 x float>, <2 x float> } %call13.pn.i123, 0
  %33 = extractvalue { <2 x float>, <2 x float> } %call13.pn.i123, 1
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp49150)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp49150, ptr noundef nonnull align 8 dereferenceable(32) %convert, i64 32, i1 false)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp7.i153)
  %34 = load i32, ptr %nx, align 8
  %35 = load i32, ptr %ny, align 4
  %36 = load i32, ptr %nz, align 8
  %.sroa.speculated10.i.i.i157 = call i32 @llvm.smin.i32(i32 %34, i32 0)
  %.sroa.speculated7.i.i.i158 = call i32 @llvm.smin.i32(i32 %35, i32 0)
  %.sroa.speculated.i.i.i159 = call i32 @llvm.smin.i32(i32 %36, i32 0)
  %.sroa.speculated10.i11.i.i160 = call i32 @llvm.smax.i32(i32 %34, i32 0)
  %.sroa.speculated7.i12.i.i161 = call i32 @llvm.smax.i32(i32 %35, i32 0)
  %.sroa.speculated.i13.i.i162 = call i32 @llvm.smax.i32(i32 %36, i32 0)
  %cmp.not.i.i169 = icmp sle i32 %.sroa.speculated10.i.i.i157, %add.i26
  %cmp4.i.i170 = icmp sgt i32 %.sroa.speculated10.i11.i.i160, %add.i26
  %or.cond.not12.not.not.i.not.i171 = select i1 %cmp.not.i.i169, i1 %cmp4.i.i170, i1 false
  %cmp8.not.i.i172 = icmp sle i32 %.sroa.speculated7.i.i.i158, %add4.i82
  %or.cond9.i.i173 = select i1 %or.cond.not12.not.not.i.not.i171, i1 %cmp8.not.i.i172, i1 false
  %cmp13.i.i174 = icmp sgt i32 %.sroa.speculated7.i12.i.i161, %add4.i82
  %or.cond10.i.i175 = select i1 %or.cond9.i.i173, i1 %cmp13.i.i174, i1 false
  %cmp17.not.i.i176 = icmp sle i32 %.sroa.speculated.i.i.i159, %conv3.i
  %or.cond11.i.i177 = select i1 %or.cond10.i.i175, i1 %cmp17.not.i.i176, i1 false
  %cmp21.i.i178 = icmp sgt i32 %.sroa.speculated.i13.i.i162, %conv3.i
  %or.cond.i179 = select i1 %or.cond11.i.i177, i1 %cmp21.i.i178, i1 false
  br i1 %or.cond.i179, label %if.end.i183, label %if.then.i180

if.then.i180:                                     ; preds = %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit133
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp48.i152)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp48.i152, i8 0, i64 24, i1 false)
  %call.i.i181 = call { <2 x float>, <2 x float> } @_ZNK4pbrt21RGBIlluminantSpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp48.i152, ptr noundef nonnull align 4 dereferenceable(32) %agg.tmp49150)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp48.i152)
  br label %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit192

if.end.i183:                                      ; preds = %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit133
  %mul.i184 = mul nsw i32 %35, %conv3.i
  %add.i185 = add nsw i32 %mul.i184, %add4.i82
  %mul10.i186 = mul nsw i32 %add.i185, %34
  %add11.i187 = add nsw i32 %mul10.i186, %add.i26
  %conv.i188 = sext i32 %add11.i187 to i64
  %ptr.i.i189 = getelementptr inbounds %"class.pstd::vector.246", ptr %this, i64 0, i32 1
  %37 = load ptr, ptr %ptr.i.i189, align 8
  %arrayidx.i.i190 = getelementptr inbounds %"class.pbrt::RGBIlluminantSpectrum", ptr %37, i64 %conv.i188
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp7.i153, ptr noundef nonnull align 8 dereferenceable(24) %arrayidx.i.i190, i64 24, i1 false)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp79.i151)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp79.i151, ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp7.i153, i64 24, i1 false)
  %call.i10.i191 = call { <2 x float>, <2 x float> } @_ZNK4pbrt21RGBIlluminantSpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp79.i151, ptr noundef nonnull align 4 dereferenceable(32) %agg.tmp49150)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp79.i151)
  br label %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit192

_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit192: ; preds = %if.then.i180, %if.end.i183
  %call13.pn.i182 = phi { <2 x float>, <2 x float> } [ %call.i10.i191, %if.end.i183 ], [ %call.i.i181, %if.then.i180 ]
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp49150)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp7.i153)
  %38 = extractvalue { <2 x float>, <2 x float> } %call13.pn.i182, 0
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp2.i196)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i195)
  store <2 x float> %32, ptr %retval.i.i.i195, align 8
  %ref.tmp33.sroa.2.0.retval.i.i.i195.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i.i195, i64 8
  store <2 x float> %33, ptr %ref.tmp33.sroa.2.0.retval.i.i.i195.sroa_idx, align 8
  br label %for.body.i.i.i198

for.body.i.i.i198:                                ; preds = %for.body.i.i.i198, %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit192
  %indvars.iv.i.i.i199 = phi i64 [ 0, %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit192 ], [ %indvars.iv.next.i.i.i202, %for.body.i.i.i198 ]
  %arrayidx.i.i.i.i200 = getelementptr inbounds [4 x float], ptr %retval.i.i.i195, i64 0, i64 %indvars.iv.i.i.i199
  %39 = load float, ptr %arrayidx.i.i.i.i200, align 4
  %mul.i.i.i201 = fmul float %sub.i74, %39
  store float %mul.i.i.i201, ptr %arrayidx.i.i.i.i200, align 4
  %indvars.iv.next.i.i.i202 = add nuw nsw i64 %indvars.iv.i.i.i199, 1
  %exitcond.not.i.i.i203 = icmp eq i64 %indvars.iv.next.i.i.i202, 4
  br i1 %exitcond.not.i.i.i203, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i204, label %for.body.i.i.i198, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i204:    ; preds = %for.body.i.i.i198
  %40 = extractvalue { <2 x float>, <2 x float> } %call13.pn.i182, 1
  %.fca.0.load.i.i.i205 = load <2 x float>, ptr %retval.i.i.i195, align 8
  %.fca.1.load.i.i.i207 = load <2 x float>, ptr %ref.tmp33.sroa.2.0.retval.i.i.i195.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i195)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i2.i194)
  store <2 x float> %38, ptr %retval.i.i2.i194, align 8
  %ref.tmp43.sroa.2.0.retval.i.i2.i194.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i2.i194, i64 8
  store <2 x float> %40, ptr %ref.tmp43.sroa.2.0.retval.i.i2.i194.sroa_idx, align 8
  br label %for.body.i.i3.i208

for.body.i.i3.i208:                               ; preds = %for.body.i.i3.i208, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i204
  %indvars.iv.i.i4.i209 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i204 ], [ %indvars.iv.next.i.i7.i212, %for.body.i.i3.i208 ]
  %arrayidx.i.i.i5.i210 = getelementptr inbounds [4 x float], ptr %retval.i.i2.i194, i64 0, i64 %indvars.iv.i.i4.i209
  %41 = load float, ptr %arrayidx.i.i.i5.i210, align 4
  %mul.i.i6.i211 = fmul float %sub.i, %41
  store float %mul.i.i6.i211, ptr %arrayidx.i.i.i5.i210, align 4
  %indvars.iv.next.i.i7.i212 = add nuw nsw i64 %indvars.iv.i.i4.i209, 1
  %exitcond.not.i.i8.i213 = icmp eq i64 %indvars.iv.next.i.i7.i212, 4
  br i1 %exitcond.not.i.i8.i213, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i214, label %for.body.i.i3.i208, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i214:  ; preds = %for.body.i.i3.i208
  %.fca.0.load.i.i9.i215 = load <2 x float>, ptr %retval.i.i2.i194, align 8
  %.fca.1.load.i.i12.i217 = load <2 x float>, ptr %ref.tmp43.sroa.2.0.retval.i.i2.i194.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i2.i194)
  store <2 x float> %.fca.0.load.i.i9.i215, ptr %ref.tmp2.i196, align 8
  %42 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp2.i196, i64 0, i32 1
  store <2 x float> %.fca.1.load.i.i12.i217, ptr %42, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i.i193)
  store <2 x float> %.fca.0.load.i.i.i205, ptr %ret.i.i193, align 8
  %ref.tmp.sroa.2.0.ret.i.sroa_idx.i218 = getelementptr inbounds i8, ptr %ret.i.i193, i64 8
  store <2 x float> %.fca.1.load.i.i.i207, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i218, align 8
  br label %for.body.i.i15.i219

for.body.i.i15.i219:                              ; preds = %for.body.i.i15.i219, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i214
  %indvars.iv.i.i16.i220 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i214 ], [ %indvars.iv.next.i.i18.i224, %for.body.i.i15.i219 ]
  %arrayidx.i.i.i17.i221 = getelementptr inbounds [4 x float], ptr %ref.tmp2.i196, i64 0, i64 %indvars.iv.i.i16.i220
  %43 = load float, ptr %arrayidx.i.i.i17.i221, align 4
  %arrayidx.i4.i.i.i222 = getelementptr inbounds [4 x float], ptr %ret.i.i193, i64 0, i64 %indvars.iv.i.i16.i220
  %44 = load float, ptr %arrayidx.i4.i.i.i222, align 4
  %add.i.i.i223 = fadd float %43, %44
  store float %add.i.i.i223, ptr %arrayidx.i4.i.i.i222, align 4
  %indvars.iv.next.i.i18.i224 = add nuw nsw i64 %indvars.iv.i.i16.i220, 1
  %exitcond.not.i.i19.i225 = icmp eq i64 %indvars.iv.next.i.i18.i224, 4
  br i1 %exitcond.not.i.i19.i225, label %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit230, label %for.body.i.i15.i219, !llvm.loop !87

_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit230: ; preds = %for.body.i.i15.i219
  %retval.sroa.0.0.copyload.i.i226 = load <2 x float>, ptr %ret.i.i193, align 8
  %retval.sroa.2.0.copyload.i.i227 = load <2 x float>, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i218, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i.i193)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp2.i196)
  %add6.i240 = add nsw i32 %conv3.i, 1
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp63247)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp63247, ptr noundef nonnull align 8 dereferenceable(32) %convert, i64 32, i1 false)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp7.i250)
  %45 = load i32, ptr %nz, align 8
  %.sroa.speculated.i.i.i256 = call i32 @llvm.smin.i32(i32 %45, i32 0)
  %.sroa.speculated.i13.i.i259 = call i32 @llvm.smax.i32(i32 %45, i32 0)
  %46 = load <2 x i32>, ptr %nx, align 8
  %47 = call <2 x i32> @llvm.smin.v2i32(<2 x i32> %46, <2 x i32> zeroinitializer)
  %48 = extractelement <2 x i32> %46, i64 0
  %.sroa.speculated10.i11.i.i257 = call i32 @llvm.smax.i32(i32 %48, i32 0)
  %49 = extractelement <2 x i32> %46, i64 1
  %.sroa.speculated7.i12.i.i258 = call i32 @llvm.smax.i32(i32 %49, i32 0)
  %cmp4.i.i267 = icmp sgt i32 %.sroa.speculated10.i11.i.i257, %8
  %50 = icmp sle <2 x i32> %47, %7
  %51 = extractelement <2 x i1> %50, i64 0
  %or.cond.not12.not.not.i.not.i268 = select i1 %51, i1 %cmp4.i.i267, i1 false
  %52 = extractelement <2 x i1> %50, i64 1
  %or.cond9.i.i270 = select i1 %or.cond.not12.not.not.i.not.i268, i1 %52, i1 false
  %cmp13.i.i271 = icmp sgt i32 %.sroa.speculated7.i12.i.i258, %9
  %or.cond10.i.i272 = select i1 %or.cond9.i.i270, i1 %cmp13.i.i271, i1 false
  %cmp17.not.i.i273 = icmp sle i32 %.sroa.speculated.i.i.i256, %add6.i240
  %or.cond11.i.i274 = select i1 %or.cond10.i.i272, i1 %cmp17.not.i.i273, i1 false
  %cmp21.i.i275 = icmp sgt i32 %.sroa.speculated.i13.i.i259, %add6.i240
  %or.cond.i276 = select i1 %or.cond11.i.i274, i1 %cmp21.i.i275, i1 false
  br i1 %or.cond.i276, label %if.end.i280, label %if.then.i277

if.then.i277:                                     ; preds = %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit230
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp48.i249)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp48.i249, i8 0, i64 24, i1 false)
  %call.i.i278 = call { <2 x float>, <2 x float> } @_ZNK4pbrt21RGBIlluminantSpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp48.i249, ptr noundef nonnull align 4 dereferenceable(32) %agg.tmp63247)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp48.i249)
  br label %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit289

if.end.i280:                                      ; preds = %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit230
  %mul.i281 = mul nsw i32 %49, %add6.i240
  %add.i282 = add nsw i32 %mul.i281, %9
  %mul10.i283 = mul nsw i32 %add.i282, %48
  %add11.i284 = add nsw i32 %mul10.i283, %8
  %conv.i285 = sext i32 %add11.i284 to i64
  %ptr.i.i286 = getelementptr inbounds %"class.pstd::vector.246", ptr %this, i64 0, i32 1
  %53 = load ptr, ptr %ptr.i.i286, align 8
  %arrayidx.i.i287 = getelementptr inbounds %"class.pbrt::RGBIlluminantSpectrum", ptr %53, i64 %conv.i285
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp7.i250, ptr noundef nonnull align 8 dereferenceable(24) %arrayidx.i.i287, i64 24, i1 false)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp79.i248)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp79.i248, ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp7.i250, i64 24, i1 false)
  %call.i10.i288 = call { <2 x float>, <2 x float> } @_ZNK4pbrt21RGBIlluminantSpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp79.i248, ptr noundef nonnull align 4 dereferenceable(32) %agg.tmp63247)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp79.i248)
  br label %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit289

_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit289: ; preds = %if.then.i277, %if.end.i280
  %call13.pn.i279 = phi { <2 x float>, <2 x float> } [ %call.i10.i288, %if.end.i280 ], [ %call.i.i278, %if.then.i277 ]
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp63247)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp7.i250)
  %54 = extractvalue { <2 x float>, <2 x float> } %call13.pn.i279, 0
  %55 = extractvalue { <2 x float>, <2 x float> } %call13.pn.i279, 1
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp73306)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp73306, ptr noundef nonnull align 8 dereferenceable(32) %convert, i64 32, i1 false)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp7.i309)
  %56 = load i32, ptr %nx, align 8
  %57 = load i32, ptr %ny, align 4
  %58 = load i32, ptr %nz, align 8
  %.sroa.speculated10.i.i.i313 = call i32 @llvm.smin.i32(i32 %56, i32 0)
  %.sroa.speculated7.i.i.i314 = call i32 @llvm.smin.i32(i32 %57, i32 0)
  %.sroa.speculated.i.i.i315 = call i32 @llvm.smin.i32(i32 %58, i32 0)
  %.sroa.speculated10.i11.i.i316 = call i32 @llvm.smax.i32(i32 %56, i32 0)
  %.sroa.speculated7.i12.i.i317 = call i32 @llvm.smax.i32(i32 %57, i32 0)
  %.sroa.speculated.i13.i.i318 = call i32 @llvm.smax.i32(i32 %58, i32 0)
  %cmp.not.i.i325 = icmp sle i32 %.sroa.speculated10.i.i.i313, %add.i26
  %cmp4.i.i326 = icmp sgt i32 %.sroa.speculated10.i11.i.i316, %add.i26
  %or.cond.not12.not.not.i.not.i327 = select i1 %cmp.not.i.i325, i1 %cmp4.i.i326, i1 false
  %cmp8.not.i.i328 = icmp sle i32 %.sroa.speculated7.i.i.i314, %9
  %or.cond9.i.i329 = select i1 %or.cond.not12.not.not.i.not.i327, i1 %cmp8.not.i.i328, i1 false
  %cmp13.i.i330 = icmp sgt i32 %.sroa.speculated7.i12.i.i317, %9
  %or.cond10.i.i331 = select i1 %or.cond9.i.i329, i1 %cmp13.i.i330, i1 false
  %cmp17.not.i.i332 = icmp sle i32 %.sroa.speculated.i.i.i315, %add6.i240
  %or.cond11.i.i333 = select i1 %or.cond10.i.i331, i1 %cmp17.not.i.i332, i1 false
  %cmp21.i.i334 = icmp sgt i32 %.sroa.speculated.i13.i.i318, %add6.i240
  %or.cond.i335 = select i1 %or.cond11.i.i333, i1 %cmp21.i.i334, i1 false
  br i1 %or.cond.i335, label %if.end.i339, label %if.then.i336

if.then.i336:                                     ; preds = %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit289
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp48.i308)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp48.i308, i8 0, i64 24, i1 false)
  %call.i.i337 = call { <2 x float>, <2 x float> } @_ZNK4pbrt21RGBIlluminantSpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp48.i308, ptr noundef nonnull align 4 dereferenceable(32) %agg.tmp73306)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp48.i308)
  br label %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit348

if.end.i339:                                      ; preds = %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit289
  %mul.i340 = mul nsw i32 %57, %add6.i240
  %add.i341 = add nsw i32 %mul.i340, %9
  %mul10.i342 = mul nsw i32 %add.i341, %56
  %add11.i343 = add nsw i32 %mul10.i342, %add.i26
  %conv.i344 = sext i32 %add11.i343 to i64
  %ptr.i.i345 = getelementptr inbounds %"class.pstd::vector.246", ptr %this, i64 0, i32 1
  %59 = load ptr, ptr %ptr.i.i345, align 8
  %arrayidx.i.i346 = getelementptr inbounds %"class.pbrt::RGBIlluminantSpectrum", ptr %59, i64 %conv.i344
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp7.i309, ptr noundef nonnull align 8 dereferenceable(24) %arrayidx.i.i346, i64 24, i1 false)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp79.i307)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp79.i307, ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp7.i309, i64 24, i1 false)
  %call.i10.i347 = call { <2 x float>, <2 x float> } @_ZNK4pbrt21RGBIlluminantSpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp79.i307, ptr noundef nonnull align 4 dereferenceable(32) %agg.tmp73306)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp79.i307)
  br label %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit348

_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit348: ; preds = %if.then.i336, %if.end.i339
  %call13.pn.i338 = phi { <2 x float>, <2 x float> } [ %call.i10.i347, %if.end.i339 ], [ %call.i.i337, %if.then.i336 ]
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp73306)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp7.i309)
  %60 = extractvalue { <2 x float>, <2 x float> } %call13.pn.i338, 0
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp2.i352)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i351)
  store <2 x float> %54, ptr %retval.i.i.i351, align 8
  %ref.tmp57.sroa.2.0.retval.i.i.i351.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i.i351, i64 8
  store <2 x float> %55, ptr %ref.tmp57.sroa.2.0.retval.i.i.i351.sroa_idx, align 8
  br label %for.body.i.i.i354

for.body.i.i.i354:                                ; preds = %for.body.i.i.i354, %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit348
  %indvars.iv.i.i.i355 = phi i64 [ 0, %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit348 ], [ %indvars.iv.next.i.i.i358, %for.body.i.i.i354 ]
  %arrayidx.i.i.i.i356 = getelementptr inbounds [4 x float], ptr %retval.i.i.i351, i64 0, i64 %indvars.iv.i.i.i355
  %61 = load float, ptr %arrayidx.i.i.i.i356, align 4
  %mul.i.i.i357 = fmul float %sub.i74, %61
  store float %mul.i.i.i357, ptr %arrayidx.i.i.i.i356, align 4
  %indvars.iv.next.i.i.i358 = add nuw nsw i64 %indvars.iv.i.i.i355, 1
  %exitcond.not.i.i.i359 = icmp eq i64 %indvars.iv.next.i.i.i358, 4
  br i1 %exitcond.not.i.i.i359, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i360, label %for.body.i.i.i354, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i360:    ; preds = %for.body.i.i.i354
  %62 = extractvalue { <2 x float>, <2 x float> } %call13.pn.i338, 1
  %.fca.0.load.i.i.i361 = load <2 x float>, ptr %retval.i.i.i351, align 8
  %.fca.1.load.i.i.i363 = load <2 x float>, ptr %ref.tmp57.sroa.2.0.retval.i.i.i351.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i351)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i2.i350)
  store <2 x float> %60, ptr %retval.i.i2.i350, align 8
  %ref.tmp67.sroa.2.0.retval.i.i2.i350.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i2.i350, i64 8
  store <2 x float> %62, ptr %ref.tmp67.sroa.2.0.retval.i.i2.i350.sroa_idx, align 8
  br label %for.body.i.i3.i364

for.body.i.i3.i364:                               ; preds = %for.body.i.i3.i364, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i360
  %indvars.iv.i.i4.i365 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i360 ], [ %indvars.iv.next.i.i7.i368, %for.body.i.i3.i364 ]
  %arrayidx.i.i.i5.i366 = getelementptr inbounds [4 x float], ptr %retval.i.i2.i350, i64 0, i64 %indvars.iv.i.i4.i365
  %63 = load float, ptr %arrayidx.i.i.i5.i366, align 4
  %mul.i.i6.i367 = fmul float %sub.i, %63
  store float %mul.i.i6.i367, ptr %arrayidx.i.i.i5.i366, align 4
  %indvars.iv.next.i.i7.i368 = add nuw nsw i64 %indvars.iv.i.i4.i365, 1
  %exitcond.not.i.i8.i369 = icmp eq i64 %indvars.iv.next.i.i7.i368, 4
  br i1 %exitcond.not.i.i8.i369, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i370, label %for.body.i.i3.i364, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i370:  ; preds = %for.body.i.i3.i364
  %.fca.0.load.i.i9.i371 = load <2 x float>, ptr %retval.i.i2.i350, align 8
  %.fca.1.load.i.i12.i373 = load <2 x float>, ptr %ref.tmp67.sroa.2.0.retval.i.i2.i350.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i2.i350)
  store <2 x float> %.fca.0.load.i.i9.i371, ptr %ref.tmp2.i352, align 8
  %64 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp2.i352, i64 0, i32 1
  store <2 x float> %.fca.1.load.i.i12.i373, ptr %64, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i.i349)
  store <2 x float> %.fca.0.load.i.i.i361, ptr %ret.i.i349, align 8
  %ref.tmp.sroa.2.0.ret.i.sroa_idx.i374 = getelementptr inbounds i8, ptr %ret.i.i349, i64 8
  store <2 x float> %.fca.1.load.i.i.i363, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i374, align 8
  br label %for.body.i.i15.i375

for.body.i.i15.i375:                              ; preds = %for.body.i.i15.i375, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i370
  %indvars.iv.i.i16.i376 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i370 ], [ %indvars.iv.next.i.i18.i380, %for.body.i.i15.i375 ]
  %arrayidx.i.i.i17.i377 = getelementptr inbounds [4 x float], ptr %ref.tmp2.i352, i64 0, i64 %indvars.iv.i.i16.i376
  %65 = load float, ptr %arrayidx.i.i.i17.i377, align 4
  %arrayidx.i4.i.i.i378 = getelementptr inbounds [4 x float], ptr %ret.i.i349, i64 0, i64 %indvars.iv.i.i16.i376
  %66 = load float, ptr %arrayidx.i4.i.i.i378, align 4
  %add.i.i.i379 = fadd float %65, %66
  store float %add.i.i.i379, ptr %arrayidx.i4.i.i.i378, align 4
  %indvars.iv.next.i.i18.i380 = add nuw nsw i64 %indvars.iv.i.i16.i376, 1
  %exitcond.not.i.i19.i381 = icmp eq i64 %indvars.iv.next.i.i18.i380, 4
  br i1 %exitcond.not.i.i19.i381, label %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit386, label %for.body.i.i15.i375, !llvm.loop !87

_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit386: ; preds = %for.body.i.i15.i375
  %retval.sroa.0.0.copyload.i.i382 = load <2 x float>, ptr %ret.i.i349, align 8
  %retval.sroa.2.0.copyload.i.i383 = load <2 x float>, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i374, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i.i349)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp2.i352)
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp87403)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp87403, ptr noundef nonnull align 8 dereferenceable(32) %convert, i64 32, i1 false)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp7.i406)
  %67 = load i32, ptr %nx, align 8
  %68 = load i32, ptr %ny, align 4
  %69 = load i32, ptr %nz, align 8
  %.sroa.speculated10.i.i.i410 = call i32 @llvm.smin.i32(i32 %67, i32 0)
  %.sroa.speculated7.i.i.i411 = call i32 @llvm.smin.i32(i32 %68, i32 0)
  %.sroa.speculated.i.i.i412 = call i32 @llvm.smin.i32(i32 %69, i32 0)
  %.sroa.speculated10.i11.i.i413 = call i32 @llvm.smax.i32(i32 %67, i32 0)
  %.sroa.speculated7.i12.i.i414 = call i32 @llvm.smax.i32(i32 %68, i32 0)
  %.sroa.speculated.i13.i.i415 = call i32 @llvm.smax.i32(i32 %69, i32 0)
  %cmp.not.i.i422 = icmp sle i32 %.sroa.speculated10.i.i.i410, %8
  %cmp4.i.i423 = icmp sgt i32 %.sroa.speculated10.i11.i.i413, %8
  %or.cond.not12.not.not.i.not.i424 = select i1 %cmp.not.i.i422, i1 %cmp4.i.i423, i1 false
  %cmp8.not.i.i425 = icmp sle i32 %.sroa.speculated7.i.i.i411, %add4.i82
  %or.cond9.i.i426 = select i1 %or.cond.not12.not.not.i.not.i424, i1 %cmp8.not.i.i425, i1 false
  %cmp13.i.i427 = icmp sgt i32 %.sroa.speculated7.i12.i.i414, %add4.i82
  %or.cond10.i.i428 = select i1 %or.cond9.i.i426, i1 %cmp13.i.i427, i1 false
  %cmp17.not.i.i429 = icmp sle i32 %.sroa.speculated.i.i.i412, %add6.i240
  %or.cond11.i.i430 = select i1 %or.cond10.i.i428, i1 %cmp17.not.i.i429, i1 false
  %cmp21.i.i431 = icmp sgt i32 %.sroa.speculated.i13.i.i415, %add6.i240
  %or.cond.i432 = select i1 %or.cond11.i.i430, i1 %cmp21.i.i431, i1 false
  br i1 %or.cond.i432, label %if.end.i436, label %if.then.i433

if.then.i433:                                     ; preds = %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit386
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp48.i405)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp48.i405, i8 0, i64 24, i1 false)
  %call.i.i434 = call { <2 x float>, <2 x float> } @_ZNK4pbrt21RGBIlluminantSpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp48.i405, ptr noundef nonnull align 4 dereferenceable(32) %agg.tmp87403)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp48.i405)
  br label %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit445

if.end.i436:                                      ; preds = %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit386
  %mul.i437 = mul nsw i32 %68, %add6.i240
  %add.i438 = add nsw i32 %mul.i437, %add4.i82
  %mul10.i439 = mul nsw i32 %add.i438, %67
  %add11.i440 = add nsw i32 %mul10.i439, %8
  %conv.i441 = sext i32 %add11.i440 to i64
  %ptr.i.i442 = getelementptr inbounds %"class.pstd::vector.246", ptr %this, i64 0, i32 1
  %70 = load ptr, ptr %ptr.i.i442, align 8
  %arrayidx.i.i443 = getelementptr inbounds %"class.pbrt::RGBIlluminantSpectrum", ptr %70, i64 %conv.i441
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp7.i406, ptr noundef nonnull align 8 dereferenceable(24) %arrayidx.i.i443, i64 24, i1 false)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp79.i404)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp79.i404, ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp7.i406, i64 24, i1 false)
  %call.i10.i444 = call { <2 x float>, <2 x float> } @_ZNK4pbrt21RGBIlluminantSpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp79.i404, ptr noundef nonnull align 4 dereferenceable(32) %agg.tmp87403)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp79.i404)
  br label %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit445

_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit445: ; preds = %if.then.i433, %if.end.i436
  %call13.pn.i435 = phi { <2 x float>, <2 x float> } [ %call.i10.i444, %if.end.i436 ], [ %call.i.i434, %if.then.i433 ]
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp87403)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp7.i406)
  %71 = extractvalue { <2 x float>, <2 x float> } %call13.pn.i435, 0
  %72 = extractvalue { <2 x float>, <2 x float> } %call13.pn.i435, 1
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp97462)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp97462, ptr noundef nonnull align 8 dereferenceable(32) %convert, i64 32, i1 false)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp7.i465)
  %73 = load i32, ptr %nx, align 8
  %74 = load i32, ptr %ny, align 4
  %75 = load i32, ptr %nz, align 8
  %.sroa.speculated10.i.i.i469 = call i32 @llvm.smin.i32(i32 %73, i32 0)
  %.sroa.speculated7.i.i.i470 = call i32 @llvm.smin.i32(i32 %74, i32 0)
  %.sroa.speculated.i.i.i471 = call i32 @llvm.smin.i32(i32 %75, i32 0)
  %.sroa.speculated10.i11.i.i472 = call i32 @llvm.smax.i32(i32 %73, i32 0)
  %.sroa.speculated7.i12.i.i473 = call i32 @llvm.smax.i32(i32 %74, i32 0)
  %.sroa.speculated.i13.i.i474 = call i32 @llvm.smax.i32(i32 %75, i32 0)
  %cmp.not.i.i481 = icmp sle i32 %.sroa.speculated10.i.i.i469, %add.i26
  %cmp4.i.i482 = icmp sgt i32 %.sroa.speculated10.i11.i.i472, %add.i26
  %or.cond.not12.not.not.i.not.i483 = select i1 %cmp.not.i.i481, i1 %cmp4.i.i482, i1 false
  %cmp8.not.i.i484 = icmp sle i32 %.sroa.speculated7.i.i.i470, %add4.i82
  %or.cond9.i.i485 = select i1 %or.cond.not12.not.not.i.not.i483, i1 %cmp8.not.i.i484, i1 false
  %cmp13.i.i486 = icmp sgt i32 %.sroa.speculated7.i12.i.i473, %add4.i82
  %or.cond10.i.i487 = select i1 %or.cond9.i.i485, i1 %cmp13.i.i486, i1 false
  %cmp17.not.i.i488 = icmp sle i32 %.sroa.speculated.i.i.i471, %add6.i240
  %or.cond11.i.i489 = select i1 %or.cond10.i.i487, i1 %cmp17.not.i.i488, i1 false
  %cmp21.i.i490 = icmp sgt i32 %.sroa.speculated.i13.i.i474, %add6.i240
  %or.cond.i491 = select i1 %or.cond11.i.i489, i1 %cmp21.i.i490, i1 false
  br i1 %or.cond.i491, label %if.end.i495, label %if.then.i492

if.then.i492:                                     ; preds = %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit445
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp48.i464)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp48.i464, i8 0, i64 24, i1 false)
  %call.i.i493 = call { <2 x float>, <2 x float> } @_ZNK4pbrt21RGBIlluminantSpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp48.i464, ptr noundef nonnull align 4 dereferenceable(32) %agg.tmp97462)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp48.i464)
  br label %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit504

if.end.i495:                                      ; preds = %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit445
  %mul.i496 = mul nsw i32 %74, %add6.i240
  %add.i497 = add nsw i32 %mul.i496, %add4.i82
  %mul10.i498 = mul nsw i32 %add.i497, %73
  %add11.i499 = add nsw i32 %mul10.i498, %add.i26
  %conv.i500 = sext i32 %add11.i499 to i64
  %ptr.i.i501 = getelementptr inbounds %"class.pstd::vector.246", ptr %this, i64 0, i32 1
  %76 = load ptr, ptr %ptr.i.i501, align 8
  %arrayidx.i.i502 = getelementptr inbounds %"class.pbrt::RGBIlluminantSpectrum", ptr %76, i64 %conv.i500
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp7.i465, ptr noundef nonnull align 8 dereferenceable(24) %arrayidx.i.i502, i64 24, i1 false)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp79.i463)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp79.i463, ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp7.i465, i64 24, i1 false)
  %call.i10.i503 = call { <2 x float>, <2 x float> } @_ZNK4pbrt21RGBIlluminantSpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp79.i463, ptr noundef nonnull align 4 dereferenceable(32) %agg.tmp97462)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp79.i463)
  br label %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit504

_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit504: ; preds = %if.then.i492, %if.end.i495
  %call13.pn.i494 = phi { <2 x float>, <2 x float> } [ %call.i10.i503, %if.end.i495 ], [ %call.i.i493, %if.then.i492 ]
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp97462)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp7.i465)
  %77 = extractvalue { <2 x float>, <2 x float> } %call13.pn.i494, 0
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp2.i508)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i507)
  store <2 x float> %71, ptr %retval.i.i.i507, align 8
  %ref.tmp81.sroa.2.0.retval.i.i.i507.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i.i507, i64 8
  store <2 x float> %72, ptr %ref.tmp81.sroa.2.0.retval.i.i.i507.sroa_idx, align 8
  br label %for.body.i.i.i510

for.body.i.i.i510:                                ; preds = %for.body.i.i.i510, %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit504
  %indvars.iv.i.i.i511 = phi i64 [ 0, %_ZNK4pbrt11SampledGridINS_21RGBIlluminantSpectrumEE6LookupIZNKS_13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsEEUlS1_E_EEDaRKNS5_IiEET_.exit504 ], [ %indvars.iv.next.i.i.i514, %for.body.i.i.i510 ]
  %arrayidx.i.i.i.i512 = getelementptr inbounds [4 x float], ptr %retval.i.i.i507, i64 0, i64 %indvars.iv.i.i.i511
  %78 = load float, ptr %arrayidx.i.i.i.i512, align 4
  %mul.i.i.i513 = fmul float %sub.i74, %78
  store float %mul.i.i.i513, ptr %arrayidx.i.i.i.i512, align 4
  %indvars.iv.next.i.i.i514 = add nuw nsw i64 %indvars.iv.i.i.i511, 1
  %exitcond.not.i.i.i515 = icmp eq i64 %indvars.iv.next.i.i.i514, 4
  br i1 %exitcond.not.i.i.i515, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i516, label %for.body.i.i.i510, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i516:    ; preds = %for.body.i.i.i510
  %79 = extractvalue { <2 x float>, <2 x float> } %call13.pn.i494, 1
  %.fca.0.load.i.i.i517 = load <2 x float>, ptr %retval.i.i.i507, align 8
  %.fca.1.load.i.i.i519 = load <2 x float>, ptr %ref.tmp81.sroa.2.0.retval.i.i.i507.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i507)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i2.i506)
  store <2 x float> %77, ptr %retval.i.i2.i506, align 8
  %ref.tmp91.sroa.2.0.retval.i.i2.i506.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i2.i506, i64 8
  store <2 x float> %79, ptr %ref.tmp91.sroa.2.0.retval.i.i2.i506.sroa_idx, align 8
  br label %for.body.i.i3.i520

for.body.i.i3.i520:                               ; preds = %for.body.i.i3.i520, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i516
  %indvars.iv.i.i4.i521 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i516 ], [ %indvars.iv.next.i.i7.i524, %for.body.i.i3.i520 ]
  %arrayidx.i.i.i5.i522 = getelementptr inbounds [4 x float], ptr %retval.i.i2.i506, i64 0, i64 %indvars.iv.i.i4.i521
  %80 = load float, ptr %arrayidx.i.i.i5.i522, align 4
  %mul.i.i6.i523 = fmul float %sub.i, %80
  store float %mul.i.i6.i523, ptr %arrayidx.i.i.i5.i522, align 4
  %indvars.iv.next.i.i7.i524 = add nuw nsw i64 %indvars.iv.i.i4.i521, 1
  %exitcond.not.i.i8.i525 = icmp eq i64 %indvars.iv.next.i.i7.i524, 4
  br i1 %exitcond.not.i.i8.i525, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i526, label %for.body.i.i3.i520, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i526:  ; preds = %for.body.i.i3.i520
  %.fca.0.load.i.i9.i527 = load <2 x float>, ptr %retval.i.i2.i506, align 8
  %.fca.1.load.i.i12.i529 = load <2 x float>, ptr %ref.tmp91.sroa.2.0.retval.i.i2.i506.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i2.i506)
  store <2 x float> %.fca.0.load.i.i9.i527, ptr %ref.tmp2.i508, align 8
  %81 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp2.i508, i64 0, i32 1
  store <2 x float> %.fca.1.load.i.i12.i529, ptr %81, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i.i505)
  store <2 x float> %.fca.0.load.i.i.i517, ptr %ret.i.i505, align 8
  %ref.tmp.sroa.2.0.ret.i.sroa_idx.i530 = getelementptr inbounds i8, ptr %ret.i.i505, i64 8
  store <2 x float> %.fca.1.load.i.i.i519, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i530, align 8
  br label %for.body.i.i15.i531

for.body.i.i15.i531:                              ; preds = %for.body.i.i15.i531, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i526
  %indvars.iv.i.i16.i532 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i526 ], [ %indvars.iv.next.i.i18.i536, %for.body.i.i15.i531 ]
  %arrayidx.i.i.i17.i533 = getelementptr inbounds [4 x float], ptr %ref.tmp2.i508, i64 0, i64 %indvars.iv.i.i16.i532
  %82 = load float, ptr %arrayidx.i.i.i17.i533, align 4
  %arrayidx.i4.i.i.i534 = getelementptr inbounds [4 x float], ptr %ret.i.i505, i64 0, i64 %indvars.iv.i.i16.i532
  %83 = load float, ptr %arrayidx.i4.i.i.i534, align 4
  %add.i.i.i535 = fadd float %82, %83
  store float %add.i.i.i535, ptr %arrayidx.i4.i.i.i534, align 4
  %indvars.iv.next.i.i18.i536 = add nuw nsw i64 %indvars.iv.i.i16.i532, 1
  %exitcond.not.i.i19.i537 = icmp eq i64 %indvars.iv.next.i.i18.i536, 4
  br i1 %exitcond.not.i.i19.i537, label %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit542, label %for.body.i.i15.i531, !llvm.loop !87

_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit542: ; preds = %for.body.i.i15.i531
  %retval.sroa.0.0.copyload.i.i538 = load <2 x float>, ptr %ret.i.i505, align 8
  %retval.sroa.2.0.copyload.i.i539 = load <2 x float>, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i530, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i.i505)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp2.i508)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp2.i546)
  %sub.i547 = fsub float 1.000000e+00, %sub4.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i545)
  store <2 x float> %retval.sroa.0.0.copyload.i.i, ptr %retval.i.i.i545, align 8
  %d00.sroa.2.0.retval.i.i.i545.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i.i545, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i.i, ptr %d00.sroa.2.0.retval.i.i.i545.sroa_idx, align 8
  br label %for.body.i.i.i548

for.body.i.i.i548:                                ; preds = %for.body.i.i.i548, %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit542
  %indvars.iv.i.i.i549 = phi i64 [ 0, %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit542 ], [ %indvars.iv.next.i.i.i552, %for.body.i.i.i548 ]
  %arrayidx.i.i.i.i550 = getelementptr inbounds [4 x float], ptr %retval.i.i.i545, i64 0, i64 %indvars.iv.i.i.i549
  %84 = load float, ptr %arrayidx.i.i.i.i550, align 4
  %mul.i.i.i551 = fmul float %sub.i547, %84
  store float %mul.i.i.i551, ptr %arrayidx.i.i.i.i550, align 4
  %indvars.iv.next.i.i.i552 = add nuw nsw i64 %indvars.iv.i.i.i549, 1
  %exitcond.not.i.i.i553 = icmp eq i64 %indvars.iv.next.i.i.i552, 4
  br i1 %exitcond.not.i.i.i553, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i554, label %for.body.i.i.i548, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i554:    ; preds = %for.body.i.i.i548
  %.fca.0.load.i.i.i555 = load <2 x float>, ptr %retval.i.i.i545, align 8
  %.fca.1.load.i.i.i557 = load <2 x float>, ptr %d00.sroa.2.0.retval.i.i.i545.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i545)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i2.i544)
  store <2 x float> %retval.sroa.0.0.copyload.i.i226, ptr %retval.i.i2.i544, align 8
  %d10.sroa.2.0.retval.i.i2.i544.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i2.i544, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i.i227, ptr %d10.sroa.2.0.retval.i.i2.i544.sroa_idx, align 8
  br label %for.body.i.i3.i558

for.body.i.i3.i558:                               ; preds = %for.body.i.i3.i558, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i554
  %indvars.iv.i.i4.i559 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i554 ], [ %indvars.iv.next.i.i7.i562, %for.body.i.i3.i558 ]
  %arrayidx.i.i.i5.i560 = getelementptr inbounds [4 x float], ptr %retval.i.i2.i544, i64 0, i64 %indvars.iv.i.i4.i559
  %85 = load float, ptr %arrayidx.i.i.i5.i560, align 4
  %mul.i.i6.i561 = fmul float %sub4.i, %85
  store float %mul.i.i6.i561, ptr %arrayidx.i.i.i5.i560, align 4
  %indvars.iv.next.i.i7.i562 = add nuw nsw i64 %indvars.iv.i.i4.i559, 1
  %exitcond.not.i.i8.i563 = icmp eq i64 %indvars.iv.next.i.i7.i562, 4
  br i1 %exitcond.not.i.i8.i563, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i564, label %for.body.i.i3.i558, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i564:  ; preds = %for.body.i.i3.i558
  %.fca.0.load.i.i9.i565 = load <2 x float>, ptr %retval.i.i2.i544, align 8
  %.fca.1.load.i.i12.i567 = load <2 x float>, ptr %d10.sroa.2.0.retval.i.i2.i544.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i2.i544)
  store <2 x float> %.fca.0.load.i.i9.i565, ptr %ref.tmp2.i546, align 8
  %86 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp2.i546, i64 0, i32 1
  store <2 x float> %.fca.1.load.i.i12.i567, ptr %86, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i.i543)
  store <2 x float> %.fca.0.load.i.i.i555, ptr %ret.i.i543, align 8
  %ref.tmp.sroa.2.0.ret.i.sroa_idx.i568 = getelementptr inbounds i8, ptr %ret.i.i543, i64 8
  store <2 x float> %.fca.1.load.i.i.i557, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i568, align 8
  br label %for.body.i.i15.i569

for.body.i.i15.i569:                              ; preds = %for.body.i.i15.i569, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i564
  %indvars.iv.i.i16.i570 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i564 ], [ %indvars.iv.next.i.i18.i574, %for.body.i.i15.i569 ]
  %arrayidx.i.i.i17.i571 = getelementptr inbounds [4 x float], ptr %ref.tmp2.i546, i64 0, i64 %indvars.iv.i.i16.i570
  %87 = load float, ptr %arrayidx.i.i.i17.i571, align 4
  %arrayidx.i4.i.i.i572 = getelementptr inbounds [4 x float], ptr %ret.i.i543, i64 0, i64 %indvars.iv.i.i16.i570
  %88 = load float, ptr %arrayidx.i4.i.i.i572, align 4
  %add.i.i.i573 = fadd float %87, %88
  store float %add.i.i.i573, ptr %arrayidx.i4.i.i.i572, align 4
  %indvars.iv.next.i.i18.i574 = add nuw nsw i64 %indvars.iv.i.i16.i570, 1
  %exitcond.not.i.i19.i575 = icmp eq i64 %indvars.iv.next.i.i18.i574, 4
  br i1 %exitcond.not.i.i19.i575, label %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit580, label %for.body.i.i15.i569, !llvm.loop !87

_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit580: ; preds = %for.body.i.i15.i569
  %retval.sroa.0.0.copyload.i.i576 = load <2 x float>, ptr %ret.i.i543, align 8
  %retval.sroa.2.0.copyload.i.i577 = load <2 x float>, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i568, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i.i543)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp2.i546)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp2.i584)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i583)
  store <2 x float> %retval.sroa.0.0.copyload.i.i382, ptr %retval.i.i.i583, align 8
  %d01.sroa.2.0.retval.i.i.i583.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i.i583, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i.i383, ptr %d01.sroa.2.0.retval.i.i.i583.sroa_idx, align 8
  br label %for.body.i.i.i586

for.body.i.i.i586:                                ; preds = %for.body.i.i.i586, %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit580
  %indvars.iv.i.i.i587 = phi i64 [ 0, %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit580 ], [ %indvars.iv.next.i.i.i590, %for.body.i.i.i586 ]
  %arrayidx.i.i.i.i588 = getelementptr inbounds [4 x float], ptr %retval.i.i.i583, i64 0, i64 %indvars.iv.i.i.i587
  %89 = load float, ptr %arrayidx.i.i.i.i588, align 4
  %mul.i.i.i589 = fmul float %sub.i547, %89
  store float %mul.i.i.i589, ptr %arrayidx.i.i.i.i588, align 4
  %indvars.iv.next.i.i.i590 = add nuw nsw i64 %indvars.iv.i.i.i587, 1
  %exitcond.not.i.i.i591 = icmp eq i64 %indvars.iv.next.i.i.i590, 4
  br i1 %exitcond.not.i.i.i591, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i592, label %for.body.i.i.i586, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i592:    ; preds = %for.body.i.i.i586
  %.fca.0.load.i.i.i593 = load <2 x float>, ptr %retval.i.i.i583, align 8
  %.fca.1.load.i.i.i595 = load <2 x float>, ptr %d01.sroa.2.0.retval.i.i.i583.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i583)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i2.i582)
  store <2 x float> %retval.sroa.0.0.copyload.i.i538, ptr %retval.i.i2.i582, align 8
  %d11.sroa.2.0.retval.i.i2.i582.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i2.i582, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i.i539, ptr %d11.sroa.2.0.retval.i.i2.i582.sroa_idx, align 8
  br label %for.body.i.i3.i596

for.body.i.i3.i596:                               ; preds = %for.body.i.i3.i596, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i592
  %indvars.iv.i.i4.i597 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i592 ], [ %indvars.iv.next.i.i7.i600, %for.body.i.i3.i596 ]
  %arrayidx.i.i.i5.i598 = getelementptr inbounds [4 x float], ptr %retval.i.i2.i582, i64 0, i64 %indvars.iv.i.i4.i597
  %90 = load float, ptr %arrayidx.i.i.i5.i598, align 4
  %mul.i.i6.i599 = fmul float %sub4.i, %90
  store float %mul.i.i6.i599, ptr %arrayidx.i.i.i5.i598, align 4
  %indvars.iv.next.i.i7.i600 = add nuw nsw i64 %indvars.iv.i.i4.i597, 1
  %exitcond.not.i.i8.i601 = icmp eq i64 %indvars.iv.next.i.i7.i600, 4
  br i1 %exitcond.not.i.i8.i601, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i602, label %for.body.i.i3.i596, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i602:  ; preds = %for.body.i.i3.i596
  %.fca.0.load.i.i9.i603 = load <2 x float>, ptr %retval.i.i2.i582, align 8
  %.fca.1.load.i.i12.i605 = load <2 x float>, ptr %d11.sroa.2.0.retval.i.i2.i582.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i2.i582)
  store <2 x float> %.fca.0.load.i.i9.i603, ptr %ref.tmp2.i584, align 8
  %91 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp2.i584, i64 0, i32 1
  store <2 x float> %.fca.1.load.i.i12.i605, ptr %91, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i.i581)
  store <2 x float> %.fca.0.load.i.i.i593, ptr %ret.i.i581, align 8
  %ref.tmp.sroa.2.0.ret.i.sroa_idx.i606 = getelementptr inbounds i8, ptr %ret.i.i581, i64 8
  store <2 x float> %.fca.1.load.i.i.i595, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i606, align 8
  br label %for.body.i.i15.i607

for.body.i.i15.i607:                              ; preds = %for.body.i.i15.i607, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i602
  %indvars.iv.i.i16.i608 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i602 ], [ %indvars.iv.next.i.i18.i612, %for.body.i.i15.i607 ]
  %arrayidx.i.i.i17.i609 = getelementptr inbounds [4 x float], ptr %ref.tmp2.i584, i64 0, i64 %indvars.iv.i.i16.i608
  %92 = load float, ptr %arrayidx.i.i.i17.i609, align 4
  %arrayidx.i4.i.i.i610 = getelementptr inbounds [4 x float], ptr %ret.i.i581, i64 0, i64 %indvars.iv.i.i16.i608
  %93 = load float, ptr %arrayidx.i4.i.i.i610, align 4
  %add.i.i.i611 = fadd float %92, %93
  store float %add.i.i.i611, ptr %arrayidx.i4.i.i.i610, align 4
  %indvars.iv.next.i.i18.i612 = add nuw nsw i64 %indvars.iv.i.i16.i608, 1
  %exitcond.not.i.i19.i613 = icmp eq i64 %indvars.iv.next.i.i18.i612, 4
  br i1 %exitcond.not.i.i19.i613, label %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit618, label %for.body.i.i15.i607, !llvm.loop !87

_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit618: ; preds = %for.body.i.i15.i607
  %retval.sroa.0.0.copyload.i.i614 = load <2 x float>, ptr %ret.i.i581, align 8
  %retval.sroa.2.0.copyload.i.i615 = load <2 x float>, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i606, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i.i581)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp2.i584)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp2.i622)
  %sub.i623 = fsub float 1.000000e+00, %sub6.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i.i621)
  store <2 x float> %retval.sroa.0.0.copyload.i.i576, ptr %retval.i.i.i621, align 8
  %ref.tmp105.sroa.2.0.retval.i.i.i621.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i.i621, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i.i577, ptr %ref.tmp105.sroa.2.0.retval.i.i.i621.sroa_idx, align 8
  br label %for.body.i.i.i624

for.body.i.i.i624:                                ; preds = %for.body.i.i.i624, %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit618
  %indvars.iv.i.i.i625 = phi i64 [ 0, %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit618 ], [ %indvars.iv.next.i.i.i628, %for.body.i.i.i624 ]
  %arrayidx.i.i.i.i626 = getelementptr inbounds [4 x float], ptr %retval.i.i.i621, i64 0, i64 %indvars.iv.i.i.i625
  %94 = load float, ptr %arrayidx.i.i.i.i626, align 4
  %mul.i.i.i627 = fmul float %sub.i623, %94
  store float %mul.i.i.i627, ptr %arrayidx.i.i.i.i626, align 4
  %indvars.iv.next.i.i.i628 = add nuw nsw i64 %indvars.iv.i.i.i625, 1
  %exitcond.not.i.i.i629 = icmp eq i64 %indvars.iv.next.i.i.i628, 4
  br i1 %exitcond.not.i.i.i629, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i630, label %for.body.i.i.i624, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i630:    ; preds = %for.body.i.i.i624
  %.fca.0.load.i.i.i631 = load <2 x float>, ptr %retval.i.i.i621, align 8
  %.fca.1.load.i.i.i633 = load <2 x float>, ptr %ref.tmp105.sroa.2.0.retval.i.i.i621.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i.i621)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i2.i620)
  store <2 x float> %retval.sroa.0.0.copyload.i.i614, ptr %retval.i.i2.i620, align 8
  %ref.tmp110.sroa.2.0.retval.i.i2.i620.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i2.i620, i64 8
  store <2 x float> %retval.sroa.2.0.copyload.i.i615, ptr %ref.tmp110.sroa.2.0.retval.i.i2.i620.sroa_idx, align 8
  br label %for.body.i.i3.i634

for.body.i.i3.i634:                               ; preds = %for.body.i.i3.i634, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i630
  %indvars.iv.i.i4.i635 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit.i630 ], [ %indvars.iv.next.i.i7.i638, %for.body.i.i3.i634 ]
  %arrayidx.i.i.i5.i636 = getelementptr inbounds [4 x float], ptr %retval.i.i2.i620, i64 0, i64 %indvars.iv.i.i4.i635
  %95 = load float, ptr %arrayidx.i.i.i5.i636, align 4
  %mul.i.i6.i637 = fmul float %sub6.i, %95
  store float %mul.i.i6.i637, ptr %arrayidx.i.i.i5.i636, align 4
  %indvars.iv.next.i.i7.i638 = add nuw nsw i64 %indvars.iv.i.i4.i635, 1
  %exitcond.not.i.i8.i639 = icmp eq i64 %indvars.iv.next.i.i7.i638, 4
  br i1 %exitcond.not.i.i8.i639, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i640, label %for.body.i.i3.i634, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i640:  ; preds = %for.body.i.i3.i634
  %.fca.0.load.i.i9.i641 = load <2 x float>, ptr %retval.i.i2.i620, align 8
  %.fca.1.load.i.i12.i643 = load <2 x float>, ptr %ref.tmp110.sroa.2.0.retval.i.i2.i620.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i2.i620)
  store <2 x float> %.fca.0.load.i.i9.i641, ptr %ref.tmp2.i622, align 8
  %96 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp2.i622, i64 0, i32 1
  store <2 x float> %.fca.1.load.i.i12.i643, ptr %96, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i.i619)
  store <2 x float> %.fca.0.load.i.i.i631, ptr %ret.i.i619, align 8
  %ref.tmp.sroa.2.0.ret.i.sroa_idx.i644 = getelementptr inbounds i8, ptr %ret.i.i619, i64 8
  store <2 x float> %.fca.1.load.i.i.i633, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i644, align 8
  br label %for.body.i.i15.i645

for.body.i.i15.i645:                              ; preds = %for.body.i.i15.i645, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i640
  %indvars.iv.i.i16.i646 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit14.i640 ], [ %indvars.iv.next.i.i18.i650, %for.body.i.i15.i645 ]
  %arrayidx.i.i.i17.i647 = getelementptr inbounds [4 x float], ptr %ref.tmp2.i622, i64 0, i64 %indvars.iv.i.i16.i646
  %97 = load float, ptr %arrayidx.i.i.i17.i647, align 4
  %arrayidx.i4.i.i.i648 = getelementptr inbounds [4 x float], ptr %ret.i.i619, i64 0, i64 %indvars.iv.i.i16.i646
  %98 = load float, ptr %arrayidx.i4.i.i.i648, align 4
  %add.i.i.i649 = fadd float %97, %98
  store float %add.i.i.i649, ptr %arrayidx.i4.i.i.i648, align 4
  %indvars.iv.next.i.i18.i650 = add nuw nsw i64 %indvars.iv.i.i16.i646, 1
  %exitcond.not.i.i19.i651 = icmp eq i64 %indvars.iv.next.i.i18.i650, 4
  br i1 %exitcond.not.i.i19.i651, label %_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit656, label %for.body.i.i15.i645, !llvm.loop !87

_ZN4pbrt4LerpEfRKNS_15SampledSpectrumES2_.exit656: ; preds = %for.body.i.i15.i645
  %retval.sroa.0.0.copyload.i.i652 = load <2 x float>, ptr %ret.i.i619, align 8
  %retval.sroa.2.0.copyload.i.i653 = load <2 x float>, ptr %ref.tmp.sroa.2.0.ret.i.sroa_idx.i644, align 8
  %.fca.0.insert.i.i654 = insertvalue { <2 x float>, <2 x float> } poison, <2 x float> %retval.sroa.0.0.copyload.i.i652, 0
  %.fca.1.insert.i.i655 = insertvalue { <2 x float>, <2 x float> } %.fca.0.insert.i.i654, <2 x float> %retval.sroa.2.0.copyload.i.i653, 1
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i.i619)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp2.i622)
  ret { <2 x float>, <2 x float> } %.fca.1.insert.i.i655
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local { <2 x float>, <2 x float> } @_ZNK4pbrt21RGBIlluminantSpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 8 dereferenceable(24) %this, ptr noundef nonnull align 4 dereferenceable(32) %lambda) local_unnamed_addr #9 comdat align 2 {
entry:
  %retval.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %s = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp = alloca %"class.pbrt::SampledSpectrum", align 8
  %illuminant = getelementptr inbounds %"class.pbrt::RGBIlluminantSpectrum", ptr %this, i64 0, i32 2
  %0 = load ptr, ptr %illuminant, align 8
  %tobool.not = icmp eq ptr %0, null
  br i1 %tobool.not, label %return, label %if.end

if.end:                                           ; preds = %entry
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %s, i8 0, i64 16, i1 false)
  %1 = load float, ptr %this, align 8
  %rsp = getelementptr inbounds %"class.pbrt::RGBIlluminantSpectrum", ptr %this, i64 0, i32 1
  %c2.i = getelementptr inbounds %"class.pbrt::RGBIlluminantSpectrum", ptr %this, i64 0, i32 1, i32 2
  %2 = load float, ptr %c2.i, align 4
  %c1.i = getelementptr inbounds %"class.pbrt::RGBIlluminantSpectrum", ptr %this, i64 0, i32 1, i32 1
  %3 = load float, ptr %c1.i, align 8
  %4 = load float, ptr %rsp, align 4
  br label %for.body

for.body:                                         ; preds = %if.end, %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit
  %indvars.iv = phi i64 [ 0, %if.end ], [ %indvars.iv.next, %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit ]
  %arrayidx.i.i5 = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv
  %5 = load float, ptr %arrayidx.i.i5, align 4
  %6 = tail call noundef float @llvm.fma.f32(float %5, float %4, float %3)
  %7 = tail call noundef float @llvm.fma.f32(float %5, float %6, float %2)
  %8 = tail call float @llvm.fabs.f32(float %7)
  %9 = fcmp oeq float %8, 0x7FF0000000000000
  br i1 %9, label %if.then.i.i, label %if.end.i.i

if.then.i.i:                                      ; preds = %for.body
  %cmp.i.i = fcmp ogt float %7, 0.000000e+00
  %conv.i.i = uitofp i1 %cmp.i.i to float
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit

if.end.i.i:                                       ; preds = %for.body
  %mul.i.i.i = fmul float %7, %7
  %add.i.i = fadd float %mul.i.i.i, 1.000000e+00
  %sqrt.i.i = tail call float @llvm.sqrt.f32(float %add.i.i)
  %mul.i.i = fmul float %sqrt.i.i, 2.000000e+00
  %div.i.i = fdiv float %7, %mul.i.i
  %add3.i.i = fadd float %div.i.i, 5.000000e-01
  br label %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit

_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit:         ; preds = %if.then.i.i, %if.end.i.i
  %retval.0.i.i = phi float [ %conv.i.i, %if.then.i.i ], [ %add3.i.i, %if.end.i.i ]
  %mul = fmul float %1, %retval.0.i.i
  %arrayidx.i.i7 = getelementptr inbounds [4 x float], ptr %s, i64 0, i64 %indvars.iv
  store float %mul, ptr %arrayidx.i.i7, align 4
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %exitcond.not = icmp eq i64 %indvars.iv.next, 4
  br i1 %exitcond.not, label %for.end, label %for.body, !llvm.loop !153

for.end:                                          ; preds = %_ZNK4pbrt20RGBSigmoidPolynomialclEf.exit
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i, i8 0, i64 16, i1 false)
  %nStored.i.i = getelementptr inbounds %"class.pbrt::DenselySampledSpectrum", ptr %0, i64 0, i32 2, i32 3
  %ptr.i.i = getelementptr inbounds %"class.pbrt::DenselySampledSpectrum", ptr %0, i64 0, i32 2, i32 1
  br label %for.body.i

for.body.i:                                       ; preds = %for.inc.i, %for.end
  %indvars.iv.i = phi i64 [ 0, %for.end ], [ %indvars.iv.next.i, %for.inc.i ]
  %arrayidx.i.i.i = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv.i
  %10 = load float, ptr %arrayidx.i.i.i, align 4
  %call.i.i = tail call noundef i64 @lroundf(float noundef %10) #25
  %11 = load i32, ptr %0, align 8
  %12 = trunc i64 %call.i.i to i32
  %conv3.i = sub i32 %12, %11
  %cmp4.i = icmp slt i32 %conv3.i, 0
  br i1 %cmp4.i, label %for.inc.i, label %lor.lhs.false.i

lor.lhs.false.i:                                  ; preds = %for.body.i
  %conv5.i = zext nneg i32 %conv3.i to i64
  %13 = load i64, ptr %nStored.i.i, align 8
  %cmp7.not.i = icmp ugt i64 %13, %conv5.i
  br i1 %cmp7.not.i, label %if.else.i, label %for.inc.i

if.else.i:                                        ; preds = %lor.lhs.false.i
  %14 = load ptr, ptr %ptr.i.i, align 8
  %arrayidx.i.i8 = getelementptr inbounds float, ptr %14, i64 %conv5.i
  %15 = load float, ptr %arrayidx.i.i8, align 4
  br label %for.inc.i

for.inc.i:                                        ; preds = %if.else.i, %lor.lhs.false.i, %for.body.i
  %.sink.i = phi float [ %15, %if.else.i ], [ 0.000000e+00, %lor.lhs.false.i ], [ 0.000000e+00, %for.body.i ]
  %arrayidx.i.i8.i = getelementptr inbounds [4 x float], ptr %retval.i, i64 0, i64 %indvars.iv.i
  store float %.sink.i, ptr %arrayidx.i.i8.i, align 4
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  %exitcond.not.i = icmp eq i64 %indvars.iv.next.i, 4
  br i1 %exitcond.not.i, label %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit, label %for.body.i, !llvm.loop !138

_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit: ; preds = %for.inc.i
  %.fca.0.load.i = load <2 x float>, ptr %retval.i, align 8
  %.fca.1.gep.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i, i64 0, i32 1
  %.fca.1.load.i = load <2 x float>, ptr %.fca.1.gep.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i)
  store <2 x float> %.fca.0.load.i, ptr %ref.tmp, align 8
  %16 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %ref.tmp, i64 0, i32 1
  store <2 x float> %.fca.1.load.i, ptr %16, align 8
  br label %for.body.i.i9

for.body.i.i9:                                    ; preds = %for.body.i.i9, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit
  %indvars.iv.i.i10 = phi i64 [ 0, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit ], [ %indvars.iv.next.i.i13, %for.body.i.i9 ]
  %arrayidx.i.i.i11 = getelementptr inbounds [4 x float], ptr %ref.tmp, i64 0, i64 %indvars.iv.i.i10
  %17 = load float, ptr %arrayidx.i.i.i11, align 4
  %arrayidx.i4.i.i = getelementptr inbounds [4 x float], ptr %s, i64 0, i64 %indvars.iv.i.i10
  %18 = load float, ptr %arrayidx.i4.i.i, align 4
  %mul.i.i12 = fmul float %17, %18
  store float %mul.i.i12, ptr %arrayidx.i4.i.i, align 4
  %indvars.iv.next.i.i13 = add nuw nsw i64 %indvars.iv.i.i10, 1
  %exitcond.not.i.i14 = icmp eq i64 %indvars.iv.next.i.i13, 4
  br i1 %exitcond.not.i.i14, label %_ZNK4pbrt15SampledSpectrummlERKS0_.exit, label %for.body.i.i9, !llvm.loop !112

_ZNK4pbrt15SampledSpectrummlERKS0_.exit:          ; preds = %for.body.i.i9
  %retval.sroa.0.0.copyload.i = load <2 x float>, ptr %s, align 8
  %retval.sroa.2.0.call.sroa_idx.i = getelementptr inbounds i8, ptr %s, i64 8
  %retval.sroa.2.0.copyload.i = load <2 x float>, ptr %retval.sroa.2.0.call.sroa_idx.i, align 8
  br label %return

return:                                           ; preds = %entry, %_ZNK4pbrt15SampledSpectrummlERKS0_.exit
  %retval.sroa.4.0 = phi <2 x float> [ %retval.sroa.2.0.copyload.i, %_ZNK4pbrt15SampledSpectrummlERKS0_.exit ], [ zeroinitializer, %entry ]
  %retval.sroa.0.0 = phi <2 x float> [ %retval.sroa.0.0.copyload.i, %_ZNK4pbrt15SampledSpectrummlERKS0_.exit ], [ zeroinitializer, %entry ]
  %.fca.0.insert = insertvalue { <2 x float>, <2 x float> } poison, <2 x float> %retval.sroa.0.0, 0
  %.fca.1.insert = insertvalue { <2 x float>, <2 x float> } %.fca.0.insert, <2 x float> %retval.sroa.4.0, 1
  ret { <2 x float>, <2 x float> } %.fca.1.insert
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZNK4pbrt11CloudMedium9SampleRayENS_3RayEfRKNS_18SampledWavelengthsE(ptr noalias sret(%"class.pbrt::HomogeneousMajorantIterator") align 4 %agg.result, ptr noundef nonnull align 8 dereferenceable(252) %this, ptr noundef %ray, float noundef %raytMax, ptr noundef nonnull align 4 dereferenceable(32) %lambda) local_unnamed_addr #9 comdat align 2 {
entry:
  %ret.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i8 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %o.i = alloca %"class.pbrt::Point3fi", align 16
  %ref.tmp.i = alloca %"class.pbrt::Point3fi", align 8
  %sigma_s = alloca %"class.pbrt::SampledSpectrum", align 8
  %renderFromMedium = getelementptr inbounds %"class.pbrt::CloudMedium", ptr %this, i64 0, i32 1
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %o.i)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %ref.tmp.i)
  %0 = load <4 x float>, ptr %ray, align 8, !noalias !154
  %agg.tmp.sroa.0.4.vec.insert.i.i = shufflevector <4 x float> %0, <4 x float> poison, <2 x i32> zeroinitializer
  %y.i.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %ray, i64 0, i32 1
  %1 = load <4 x float>, ptr %y.i.i, align 4, !noalias !154
  %agg.tmp2.sroa.0.4.vec.insert.i.i = shufflevector <4 x float> %1, <4 x float> poison, <2 x i32> zeroinitializer
  %z.i.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %ray, i64 0, i32 2
  %2 = load <4 x float>, ptr %z.i.i, align 4, !noalias !154
  %agg.tmp3.sroa.0.4.vec.insert.i.i = shufflevector <4 x float> %2, <4 x float> poison, <2 x i32> zeroinitializer
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i.i, ptr %ref.tmp.i, align 8, !noalias !154
  %y3.i.i.i.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %ref.tmp.i, i64 0, i32 1
  store <2 x float> %agg.tmp2.sroa.0.4.vec.insert.i.i, ptr %y3.i.i.i.i, align 8, !noalias !154
  %z4.i.i.i.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %ref.tmp.i, i64 0, i32 2
  store <2 x float> %agg.tmp3.sroa.0.4.vec.insert.i.i, ptr %z4.i.i.i.i, align 8, !noalias !154
  call void @_ZNK4pbrt9Transform12ApplyInverseERKNS_8Point3fiE(ptr nonnull sret(%"class.pbrt::Point3fi") align 4 %o.i, ptr noundef nonnull align 4 dereferenceable(128) %renderFromMedium, ptr noundef nonnull align 4 dereferenceable(24) %ref.tmp.i), !noalias !154
  %d3.i = getelementptr inbounds %"class.pbrt::Ray", ptr %ray, i64 0, i32 1
  %agg.tmp.sroa.0.0.copyload.i = load <2 x float>, ptr %d3.i, align 4, !noalias !154
  %agg.tmp.sroa.2.0.d3.sroa_idx.i = getelementptr inbounds %"class.pbrt::Ray", ptr %ray, i64 0, i32 1, i32 0, i32 2
  %agg.tmp.sroa.2.0.copyload.i = load float, ptr %agg.tmp.sroa.2.0.d3.sroa_idx.i, align 4, !noalias !154
  %call.i = call { <2 x float>, float } @_ZNK4pbrt9Transform12ApplyInverseIfEENS_7Vector3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %renderFromMedium, <2 x float> %agg.tmp.sroa.0.0.copyload.i, float %agg.tmp.sroa.2.0.copyload.i), !noalias !154
  %call.fca.0.extract.i = extractvalue { <2 x float>, float } %call.i, 0
  %call.fca.1.extract.i = extractvalue { <2 x float>, float } %call.i, 1
  %3 = fmul <2 x float> %call.fca.0.extract.i, %call.fca.0.extract.i
  %shift = shufflevector <2 x float> %3, <2 x float> poison, <2 x i32> <i32 1, i32 poison>
  %4 = fadd <2 x float> %3, %shift
  %add.i.i = extractelement <2 x float> %4, i64 0
  %mul.i2.i.i = fmul float %call.fca.1.extract.i, %call.fca.1.extract.i
  %add3.i.i = fadd float %mul.i2.i.i, %add.i.i
  %cmp.i = fcmp ogt float %add3.i.i, 0.000000e+00
  br i1 %cmp.i, label %if.then.i, label %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit

if.then.i:                                        ; preds = %entry
  %high.i.i = getelementptr inbounds %"class.pbrt::Interval", ptr %o.i, i64 0, i32 1
  %5 = load <4 x float>, ptr %high.i.i, align 4
  %6 = shufflevector <4 x float> %5, <4 x float> poison, <2 x i32> <i32 0, i32 poison>
  %7 = load <4 x float>, ptr %o.i, align 16
  %8 = shufflevector <4 x float> %7, <4 x float> poison, <2 x i32> <i32 0, i32 poison>
  %y.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %o.i, i64 0, i32 1
  %high.i7.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %o.i, i64 0, i32 1, i32 1
  %9 = load float, ptr %high.i7.i, align 4, !noalias !154
  %10 = load float, ptr %y.i, align 8, !noalias !154
  %sub.i8.i = fsub float %9, %10
  %div8.i = fmul float %sub.i8.i, 5.000000e-01
  %z.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %o.i, i64 0, i32 2
  %high.i9.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %o.i, i64 0, i32 2, i32 1
  %11 = load float, ptr %high.i9.i, align 4, !noalias !154
  %12 = load float, ptr %z.i, align 16, !noalias !154
  %13 = insertelement <2 x float> %call.fca.0.extract.i, float %call.fca.1.extract.i, i64 1
  %14 = call <2 x float> @llvm.fabs.v2f32(<2 x float> %13)
  %15 = extractelement <2 x float> %call.fca.0.extract.i, i64 1
  %16 = call noundef float @llvm.fabs.f32(float %15)
  %mul4.i.i = fmul float %16, %div8.i
  %17 = insertelement <2 x float> %6, float %11, i64 1
  %18 = insertelement <2 x float> %8, float %12, i64 1
  %19 = fsub <2 x float> %17, %18
  %20 = fmul <2 x float> %19, <float 5.000000e-01, float 5.000000e-01>
  %21 = fmul <2 x float> %14, %20
  %22 = extractelement <2 x float> %21, i64 0
  %add.i13.i = fadd float %22, %mul4.i.i
  %23 = extractelement <2 x float> %21, i64 1
  %add7.i.i = fadd float %add.i13.i, %23
  %div18.i = fdiv float %add7.i.i, %add3.i.i
  %24 = insertelement <2 x float> poison, float %div18.i, i64 0
  %25 = shufflevector <2 x float> %24, <2 x float> poison, <2 x i32> zeroinitializer
  %26 = fmul <2 x float> %call.fca.0.extract.i, %25
  %mul3.i.i = fmul float %call.fca.1.extract.i, %div18.i
  %call23.i = call noundef nonnull align 4 dereferenceable(24) ptr @_ZN4pbrt8Point3fipLIfEERS0_NS_7Vector3IT_EE(ptr noundef nonnull align 4 dereferenceable(24) %o.i, <2 x float> %26, float %mul3.i.i), !noalias !154
  %sub.i = fsub float %raytMax, %div18.i
  br label %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit

_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit: ; preds = %entry, %if.then.i
  %raytMax.addr.0 = phi float [ %sub.i, %if.then.i ], [ %raytMax, %entry ]
  %27 = load <4 x float>, ptr %o.i, align 16
  %28 = shufflevector <4 x float> %27, <4 x float> poison, <2 x i32> <i32 0, i32 poison>
  %agg.tmp27.sroa.0.sroa.2.0.o.sroa_idx.i = getelementptr inbounds i8, ptr %o.i, i64 4
  %agg.tmp27.sroa.0.sroa.4.0.o.sroa_idx.i = getelementptr inbounds i8, ptr %o.i, i64 12
  %agg.tmp27.sroa.0.sroa.4.0.copyload.i = load float, ptr %agg.tmp27.sroa.0.sroa.4.0.o.sroa_idx.i, align 4, !noalias !154
  %agg.tmp27.sroa.0.sroa.5.0.o.sroa_idx.i = getelementptr inbounds i8, ptr %o.i, i64 16
  %agg.tmp27.sroa.0.sroa.5.0.copyload.i = load float, ptr %agg.tmp27.sroa.0.sroa.5.0.o.sroa_idx.i, align 16, !noalias !154
  %agg.tmp27.sroa.0.sroa.6.0.o.sroa_idx.i = getelementptr inbounds i8, ptr %o.i, i64 20
  %agg.tmp27.sroa.0.sroa.6.0.copyload.i = load float, ptr %agg.tmp27.sroa.0.sroa.6.0.o.sroa_idx.i, align 4, !noalias !154
  %29 = load <2 x float>, ptr %agg.tmp27.sroa.0.sroa.2.0.o.sroa_idx.i, align 4, !noalias !154
  %30 = insertelement <2 x float> %28, float %agg.tmp27.sroa.0.sroa.4.0.copyload.i, i64 1
  %31 = fadd <2 x float> %29, %30
  %32 = fmul <2 x float> %31, <float 5.000000e-01, float 5.000000e-01>
  %add.i.i5.i.i = fadd float %agg.tmp27.sroa.0.sroa.5.0.copyload.i, %agg.tmp27.sroa.0.sroa.6.0.copyload.i
  %div.i.i6.i.i = fmul float %add.i.i5.i.i, 5.000000e-01
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %o.i)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %ref.tmp.i)
  store <2 x float> %32, ptr %ray, align 8
  store float %div.i.i6.i.i, ptr %z.i.i, align 8
  store <2 x float> %call.fca.0.extract.i, ptr %d3.i, align 4
  store float %call.fca.1.extract.i, ptr %agg.tmp.sroa.2.0.d3.sroa_idx.i, align 4
  %33 = extractelement <2 x float> %call.fca.0.extract.i, i64 1
  %div.i3 = fdiv float 1.000000e+00, %33
  %y.i17.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %this, i64 0, i32 1
  %retval.0.i18.i = load float, ptr %y.i17.i, align 4
  %34 = extractelement <2 x float> %32, i64 1
  %sub.i4 = fsub float %retval.0.i18.i, %34
  %mul.i = fmul float %div.i3, %sub.i4
  %y.i27.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %this, i64 0, i32 1, i32 0, i32 1
  %35 = extractelement <2 x float> %call.fca.0.extract.i, i64 0
  %div52.i = fdiv float 1.000000e+00, %35
  %retval.0.i1866.i = load float, ptr %this, align 8
  %36 = extractelement <2 x float> %32, i64 0
  %sub87.i = fsub float %retval.0.i1866.i, %36
  %mul88.i = fmul float %div52.i, %sub87.i
  %pMax89.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %this, i64 0, i32 1
  %div47.i = fdiv float 1.000000e+00, %call.fca.1.extract.i
  %z.i20.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %this, i64 0, i32 2
  %retval.0.i1855.i = load float, ptr %z.i20.i, align 8
  %sub72.i = fsub float %retval.0.i1855.i, %div.i.i6.i.i
  %mul73.i = fmul float %div47.i, %sub72.i
  %z.i31.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %this, i64 0, i32 1, i32 0, i32 2
  br label %for.body.i

for.cond.i:                                       ; preds = %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i
  %inc.i = add nuw nsw i32 %i.0113.i, 1
  %cmp.i5 = icmp ugt i32 %i.0113.i, 1
  %exitcond.i = icmp eq i32 %inc.i, 3
  br i1 %exitcond.i, label %_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit, label %for.body.i, !llvm.loop !145

for.body.i:                                       ; preds = %for.cond.i, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit
  %cmp114.i = phi i1 [ false, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit ], [ %cmp.i5, %for.cond.i ]
  %i.0113.i = phi i32 [ 0, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit ], [ %inc.i, %for.cond.i ]
  %t1.0112.i = phi float [ %raytMax.addr.0, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit ], [ %cond18.i, %for.cond.i ]
  %t0.0111.i = phi float [ 0.000000e+00, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit ], [ %cond.i, %for.cond.i ]
  switch i32 %i.0113.i, label %if.end4.i36.i [
    i32 0, label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i
    i32 1, label %if.then3.i33.i
  ]

if.then3.i33.i:                                   ; preds = %for.body.i
  br label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i

if.end4.i36.i:                                    ; preds = %for.body.i
  br label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i

_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i:       ; preds = %if.end4.i36.i, %if.then3.i33.i, %for.body.i
  %retval.0.i2999.in.i = phi ptr [ %y.i27.i, %if.then3.i33.i ], [ %z.i31.i, %if.end4.i36.i ], [ %pMax89.i, %for.body.i ]
  %div48577797.i = phi float [ %div.i3, %if.then3.i33.i ], [ %div47.i, %if.end4.i36.i ], [ %div52.i, %for.body.i ]
  %mul7995.i = phi float [ %mul.i, %if.then3.i33.i ], [ %mul73.i, %if.end4.i36.i ], [ %mul88.i, %for.body.i ]
  %retval.0.i35.sroa.speculated.i = phi float [ %34, %if.then3.i33.i ], [ %div.i.i6.i.i, %if.end4.i36.i ], [ %36, %for.body.i ]
  %retval.0.i2999.i = load float, ptr %retval.0.i2999.in.i, align 4
  %sub7.i = fsub float %retval.0.i2999.i, %retval.0.i35.sroa.speculated.i
  %mul8.i = fmul float %div48577797.i, %sub7.i
  %cmp9.i = fcmp ogt float %mul7995.i, %mul8.i
  %tNear.0.i = select i1 %cmp9.i, float %mul8.i, float %mul7995.i
  %tFar.0.i = select i1 %cmp9.i, float %mul7995.i, float %mul8.i
  %mul12.i = fmul float %tFar.0.i, 0x3FF0000060000000
  %cmp13.i = fcmp ogt float %tNear.0.i, %t0.0111.i
  %cond.i = select i1 %cmp13.i, float %tNear.0.i, float %t0.0111.i
  %cmp14.i = fcmp olt float %mul12.i, %t1.0112.i
  %cond18.i = select i1 %cmp14.i, float %mul12.i, float %t1.0112.i
  %cmp19.i = fcmp ogt float %cond.i, %cond18.i
  br i1 %cmp19.i, label %_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit, label %for.cond.i

_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit: ; preds = %for.cond.i, %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i
  %cmp108.i = phi i1 [ %cmp114.i, %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i ], [ %cmp.i5, %for.cond.i ]
  br i1 %cmp108.i, label %do.end, label %if.then

if.then:                                          ; preds = %_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit
  %sigma_maj.i.i = getelementptr inbounds %"struct.pbrt::RayMajorantSegment", ptr %agg.result, i64 0, i32 2
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 4 dereferenceable(16) %sigma_maj.i.i, i8 0, i64 16, i1 false)
  br label %return

do.end:                                           ; preds = %_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit
  %sigma_a_spec = getelementptr inbounds %"class.pbrt::CloudMedium", ptr %this, i64 0, i32 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i, i8 0, i64 16, i1 false)
  %nStored.i.i = getelementptr inbounds %"class.pbrt::CloudMedium", ptr %this, i64 0, i32 4, i32 2, i32 3
  %ptr.i.i = getelementptr inbounds %"class.pbrt::CloudMedium", ptr %this, i64 0, i32 4, i32 2, i32 1
  br label %for.body.i6

for.body.i6:                                      ; preds = %for.inc.i, %do.end
  %indvars.iv.i = phi i64 [ 0, %do.end ], [ %indvars.iv.next.i, %for.inc.i ]
  %arrayidx.i.i.i = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv.i
  %37 = load float, ptr %arrayidx.i.i.i, align 4
  %call.i.i = call noundef i64 @lroundf(float noundef %37) #25
  %38 = load i32, ptr %sigma_a_spec, align 8
  %39 = trunc i64 %call.i.i to i32
  %conv3.i = sub i32 %39, %38
  %cmp4.i = icmp slt i32 %conv3.i, 0
  br i1 %cmp4.i, label %for.inc.i, label %lor.lhs.false.i

lor.lhs.false.i:                                  ; preds = %for.body.i6
  %conv5.i = zext nneg i32 %conv3.i to i64
  %40 = load i64, ptr %nStored.i.i, align 8
  %cmp7.not.i = icmp ugt i64 %40, %conv5.i
  br i1 %cmp7.not.i, label %if.else.i, label %for.inc.i

if.else.i:                                        ; preds = %lor.lhs.false.i
  %41 = load ptr, ptr %ptr.i.i, align 8
  %arrayidx.i.i = getelementptr inbounds float, ptr %41, i64 %conv5.i
  %42 = load float, ptr %arrayidx.i.i, align 4
  br label %for.inc.i

for.inc.i:                                        ; preds = %if.else.i, %lor.lhs.false.i, %for.body.i6
  %.sink.i = phi float [ %42, %if.else.i ], [ 0.000000e+00, %lor.lhs.false.i ], [ 0.000000e+00, %for.body.i6 ]
  %arrayidx.i.i8.i = getelementptr inbounds [4 x float], ptr %retval.i, i64 0, i64 %indvars.iv.i
  store float %.sink.i, ptr %arrayidx.i.i8.i, align 4
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  %exitcond.not.i = icmp eq i64 %indvars.iv.next.i, 4
  br i1 %exitcond.not.i, label %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit, label %for.body.i6, !llvm.loop !138

_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit: ; preds = %for.inc.i
  %.fca.0.load.i = load <2 x float>, ptr %retval.i, align 8
  %.fca.1.gep.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i, i64 0, i32 1
  %.fca.1.load.i = load <2 x float>, ptr %.fca.1.gep.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i)
  %sigma_s_spec = getelementptr inbounds %"class.pbrt::CloudMedium", ptr %this, i64 0, i32 5
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i8)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i8, i8 0, i64 16, i1 false)
  %nStored.i.i9 = getelementptr inbounds %"class.pbrt::CloudMedium", ptr %this, i64 0, i32 5, i32 2, i32 3
  %ptr.i.i10 = getelementptr inbounds %"class.pbrt::CloudMedium", ptr %this, i64 0, i32 5, i32 2, i32 1
  br label %for.body.i11

for.body.i11:                                     ; preds = %for.inc.i20, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit
  %indvars.iv.i12 = phi i64 [ 0, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit ], [ %indvars.iv.next.i23, %for.inc.i20 ]
  %arrayidx.i.i.i13 = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv.i12
  %43 = load float, ptr %arrayidx.i.i.i13, align 4
  %call.i.i14 = call noundef i64 @lroundf(float noundef %43) #25
  %44 = load i32, ptr %sigma_s_spec, align 8
  %45 = trunc i64 %call.i.i14 to i32
  %conv3.i15 = sub i32 %45, %44
  %cmp4.i16 = icmp slt i32 %conv3.i15, 0
  br i1 %cmp4.i16, label %for.inc.i20, label %lor.lhs.false.i17

lor.lhs.false.i17:                                ; preds = %for.body.i11
  %conv5.i18 = zext nneg i32 %conv3.i15 to i64
  %46 = load i64, ptr %nStored.i.i9, align 8
  %cmp7.not.i19 = icmp ugt i64 %46, %conv5.i18
  br i1 %cmp7.not.i19, label %if.else.i31, label %for.inc.i20

if.else.i31:                                      ; preds = %lor.lhs.false.i17
  %47 = load ptr, ptr %ptr.i.i10, align 8
  %arrayidx.i.i32 = getelementptr inbounds float, ptr %47, i64 %conv5.i18
  %48 = load float, ptr %arrayidx.i.i32, align 4
  br label %for.inc.i20

for.inc.i20:                                      ; preds = %if.else.i31, %lor.lhs.false.i17, %for.body.i11
  %.sink.i21 = phi float [ %48, %if.else.i31 ], [ 0.000000e+00, %lor.lhs.false.i17 ], [ 0.000000e+00, %for.body.i11 ]
  %arrayidx.i.i8.i22 = getelementptr inbounds [4 x float], ptr %retval.i8, i64 0, i64 %indvars.iv.i12
  store float %.sink.i21, ptr %arrayidx.i.i8.i22, align 4
  %indvars.iv.next.i23 = add nuw nsw i64 %indvars.iv.i12, 1
  %exitcond.not.i24 = icmp eq i64 %indvars.iv.next.i23, 4
  br i1 %exitcond.not.i24, label %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit33, label %for.body.i11, !llvm.loop !138

_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit33: ; preds = %for.inc.i20
  %.fca.0.load.i26 = load <2 x float>, ptr %retval.i8, align 8
  %.fca.1.gep.i28 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i8, i64 0, i32 1
  %.fca.1.load.i29 = load <2 x float>, ptr %.fca.1.gep.i28, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i8)
  store <2 x float> %.fca.0.load.i26, ptr %sigma_s, align 8
  %49 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %sigma_s, i64 0, i32 1
  store <2 x float> %.fca.1.load.i29, ptr %49, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i)
  store <2 x float> %.fca.0.load.i, ptr %ret.i, align 8
  %sigma_a.sroa.2.0.ret.i.sroa_idx = getelementptr inbounds i8, ptr %ret.i, i64 8
  store <2 x float> %.fca.1.load.i, ptr %sigma_a.sroa.2.0.ret.i.sroa_idx, align 8
  br label %for.body.i.i

for.body.i.i:                                     ; preds = %for.body.i.i, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit33
  %indvars.iv.i.i = phi i64 [ 0, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit33 ], [ %indvars.iv.next.i.i, %for.body.i.i ]
  %arrayidx.i.i.i34 = getelementptr inbounds [4 x float], ptr %sigma_s, i64 0, i64 %indvars.iv.i.i
  %50 = load float, ptr %arrayidx.i.i.i34, align 4
  %arrayidx.i4.i.i = getelementptr inbounds [4 x float], ptr %ret.i, i64 0, i64 %indvars.iv.i.i
  %51 = load float, ptr %arrayidx.i4.i.i, align 4
  %add.i.i35 = fadd float %50, %51
  store float %add.i.i35, ptr %arrayidx.i4.i.i, align 4
  %indvars.iv.next.i.i = add nuw nsw i64 %indvars.iv.i.i, 1
  %exitcond.not.i.i = icmp eq i64 %indvars.iv.next.i.i, 4
  br i1 %exitcond.not.i.i, label %_ZNK4pbrt15SampledSpectrumplERKS0_.exit, label %for.body.i.i, !llvm.loop !87

_ZNK4pbrt15SampledSpectrumplERKS0_.exit:          ; preds = %for.body.i.i
  %retval.sroa.0.0.copyload.i = load <2 x float>, ptr %ret.i, align 8
  %retval.sroa.2.0.copyload.i = load <2 x float>, ptr %sigma_a.sroa.2.0.ret.i.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i)
  store float %cond.i, ptr %agg.result, align 4
  %tMax3.i = getelementptr inbounds %"struct.pbrt::RayMajorantSegment", ptr %agg.result, i64 0, i32 1
  store float %cond18.i, ptr %tMax3.i, align 4
  %sigma_maj4.i = getelementptr inbounds %"struct.pbrt::RayMajorantSegment", ptr %agg.result, i64 0, i32 2
  store <2 x float> %retval.sroa.0.0.copyload.i, ptr %sigma_maj4.i, align 4
  %sigma_maj.sroa.2.0.sigma_maj4.sroa_idx.i = getelementptr inbounds %"struct.pbrt::RayMajorantSegment", ptr %agg.result, i64 0, i32 2, i32 0, i32 0, i64 2
  store <2 x float> %retval.sroa.2.0.copyload.i, ptr %sigma_maj.sroa.2.0.sigma_maj4.sroa_idx.i, align 4
  br label %return

return:                                           ; preds = %_ZNK4pbrt15SampledSpectrumplERKS0_.exit, %if.then
  %.sink = phi i8 [ 0, %_ZNK4pbrt15SampledSpectrumplERKS0_.exit ], [ 1, %if.then ]
  %called.i38 = getelementptr inbounds %"class.pbrt::HomogeneousMajorantIterator", ptr %agg.result, i64 0, i32 1
  store i8 %.sink, ptr %called.i38, align 4
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZNK4pbrt11CloudMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsE(ptr noalias sret(%"struct.pbrt::MediumProperties") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(252) %this, <2 x float> %p.coerce0, float %p.coerce1, ptr noundef nonnull align 4 dereferenceable(32) %lambda) local_unnamed_addr #9 comdat align 2 {
entry:
  %retval.i.i31 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i6 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %renderFromMedium = getelementptr inbounds %"class.pbrt::CloudMedium", ptr %this, i64 0, i32 1
  %call = tail call { <2 x float>, float } @_ZNK4pbrt9Transform12ApplyInverseIfEENS_6Point3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %renderFromMedium, <2 x float> %p.coerce0, float %p.coerce1)
  %call.fca.0.extract = extractvalue { <2 x float>, float } %call, 0
  %call.fca.1.extract = extractvalue { <2 x float>, float } %call, 1
  %frequency.i = getelementptr inbounds %"class.pbrt::CloudMedium", ptr %this, i64 0, i32 8
  %0 = load float, ptr %frequency.i, align 8
  %1 = insertelement <2 x float> poison, float %0, i64 0
  %2 = shufflevector <2 x float> %1, <2 x float> poison, <2 x i32> zeroinitializer
  %3 = fmul <2 x float> %2, %call.fca.0.extract
  %mul3.i.i.i = fmul float %0, %call.fca.1.extract
  %wispiness.i = getelementptr inbounds %"class.pbrt::CloudMedium", ptr %this, i64 0, i32 7
  %4 = load float, ptr %wispiness.i, align 4
  %cmp.i = fcmp ogt float %4, 0.000000e+00
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %entry
  %mul.i = fmul float %4, 0x3FA99999A0000000
  br label %for.body.i

for.body.i:                                       ; preds = %for.body.i, %if.then.i
  %vomega.052.i = phi float [ %mul.i, %if.then.i ], [ %mul18.i, %for.body.i ]
  %vlambda.051.i = phi float [ 1.000000e+01, %if.then.i ], [ %mul19.i, %for.body.i ]
  %cmp3.i = phi i1 [ true, %if.then.i ], [ false, %for.body.i ]
  %pp.sroa.7.049.i = phi float [ %mul3.i.i.i, %if.then.i ], [ %add6.i.i, %for.body.i ]
  %pp.sroa.0.048.i = phi <2 x float> [ %3, %if.then.i ], [ %11, %for.body.i ]
  %5 = insertelement <2 x float> poison, float %vlambda.051.i, i64 0
  %6 = shufflevector <2 x float> %5, <2 x float> poison, <2 x i32> zeroinitializer
  %7 = fmul <2 x float> %6, %pp.sroa.0.048.i
  %mul3.i.i16.i = fmul float %vlambda.051.i, %pp.sroa.7.049.i
  %call11.i = tail call { <2 x float>, float } @_ZN4pbrt6DNoiseENS_6Point3IfEE(<2 x float> %7, float %mul3.i.i16.i)
  %call11.fca.0.extract.i = extractvalue { <2 x float>, float } %call11.i, 0
  %call11.fca.1.extract.i = extractvalue { <2 x float>, float } %call11.i, 1
  %mul3.i.i25.i = fmul float %vomega.052.i, %call11.fca.1.extract.i
  %8 = insertelement <2 x float> poison, float %vomega.052.i, i64 0
  %9 = shufflevector <2 x float> %8, <2 x float> poison, <2 x i32> zeroinitializer
  %10 = fmul <2 x float> %9, %call11.fca.0.extract.i
  %11 = fadd <2 x float> %pp.sroa.0.048.i, %10
  %add6.i.i = fadd float %pp.sroa.7.049.i, %mul3.i.i25.i
  %mul18.i = fmul float %vomega.052.i, 5.000000e-01
  %mul19.i = fmul float %vlambda.051.i, 0x3FFFD70A40000000
  br i1 %cmp3.i, label %for.body.i, label %if.end.i, !llvm.loop !157

if.end.i:                                         ; preds = %for.body.i, %entry
  %pp.sroa.0.1.i = phi <2 x float> [ %3, %entry ], [ %11, %for.body.i ]
  %pp.sroa.7.1.i = phi float [ %mul3.i.i.i, %entry ], [ %add6.i.i, %for.body.i ]
  br label %for.body23.i

for.body23.i:                                     ; preds = %for.body23.i, %if.end.i
  %d.056.i = phi float [ 0.000000e+00, %if.end.i ], [ %add.i, %for.body23.i ]
  %omega.055.i = phi float [ 5.000000e-01, %if.end.i ], [ %mul31.i, %for.body23.i ]
  %lambda.054.i = phi float [ 1.000000e+00, %if.end.i ], [ %mul32.i, %for.body23.i ]
  %i20.053.i = phi i32 [ 0, %if.end.i ], [ %inc34.i, %for.body23.i ]
  %12 = insertelement <2 x float> poison, float %lambda.054.i, i64 0
  %13 = shufflevector <2 x float> %12, <2 x float> poison, <2 x i32> zeroinitializer
  %14 = fmul <2 x float> %pp.sroa.0.1.i, %13
  %mul3.i.i34.i = fmul float %pp.sroa.7.1.i, %lambda.054.i
  %call29.i = tail call noundef float @_ZN4pbrt5NoiseENS_6Point3IfEE(<2 x float> %14, float %mul3.i.i34.i)
  %mul30.i = fmul float %omega.055.i, %call29.i
  %add.i = fadd float %d.056.i, %mul30.i
  %mul31.i = fmul float %omega.055.i, 5.000000e-01
  %mul32.i = fmul float %lambda.054.i, 0x3FFFD70A40000000
  %inc34.i = add nuw nsw i32 %i20.053.i, 1
  %exitcond.not.i = icmp eq i32 %inc34.i, 5
  br i1 %exitcond.not.i, label %_ZNK4pbrt11CloudMedium7DensityENS_6Point3IfEE.exit, label %for.body23.i, !llvm.loop !158

_ZNK4pbrt11CloudMedium7DensityENS_6Point3IfEE.exit: ; preds = %for.body23.i
  %15 = extractelement <2 x float> %call.fca.0.extract, i64 1
  %sub.i = fsub float 1.000000e+00, %15
  %mul36.i = fmul float %sub.i, 4.500000e+00
  %density.i = getelementptr inbounds %"class.pbrt::CloudMedium", ptr %this, i64 0, i32 6
  %16 = load float, ptr %density.i, align 8
  %mul37.i = fmul float %mul36.i, %16
  %mul38.i = fmul float %add.i, %mul37.i
  %cmp.i.i = fcmp olt float %mul38.i, 0.000000e+00
  %cmp3.i.i = fcmp ogt float %mul38.i, 1.000000e+00
  %conv2.val.i.i = select i1 %cmp3.i.i, float 1.000000e+00, float %mul38.i
  %retval.0.i.i = select i1 %cmp.i.i, float 0.000000e+00, float %conv2.val.i.i
  %sub43.i = fsub float 5.000000e-01, %15
  %cmp.i39.i = fcmp ogt float %sub43.i, 0.000000e+00
  %.sroa.speculated.i = select i1 %cmp.i39.i, float %sub43.i, float 0.000000e+00
  %mul45.i = fmul float %.sroa.speculated.i, 2.000000e+00
  %add46.i = fadd float %mul45.i, %retval.0.i.i
  %cmp3.i41.i = fcmp ogt float %add46.i, 1.000000e+00
  %conv2.val.i42.i = select i1 %cmp3.i41.i, float 1.000000e+00, float %add46.i
  %sigma_a_spec = getelementptr inbounds %"class.pbrt::CloudMedium", ptr %this, i64 0, i32 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i, i8 0, i64 16, i1 false)
  %nStored.i.i = getelementptr inbounds %"class.pbrt::CloudMedium", ptr %this, i64 0, i32 4, i32 2, i32 3
  %ptr.i.i = getelementptr inbounds %"class.pbrt::CloudMedium", ptr %this, i64 0, i32 4, i32 2, i32 1
  br label %for.body.i3

for.body.i3:                                      ; preds = %for.inc.i, %_ZNK4pbrt11CloudMedium7DensityENS_6Point3IfEE.exit
  %indvars.iv.i = phi i64 [ 0, %_ZNK4pbrt11CloudMedium7DensityENS_6Point3IfEE.exit ], [ %indvars.iv.next.i, %for.inc.i ]
  %arrayidx.i.i.i = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv.i
  %17 = load float, ptr %arrayidx.i.i.i, align 4
  %call.i.i = tail call noundef i64 @lroundf(float noundef %17) #25
  %18 = load i32, ptr %sigma_a_spec, align 8
  %19 = trunc i64 %call.i.i to i32
  %conv3.i = sub i32 %19, %18
  %cmp4.i = icmp slt i32 %conv3.i, 0
  br i1 %cmp4.i, label %for.inc.i, label %lor.lhs.false.i

lor.lhs.false.i:                                  ; preds = %for.body.i3
  %conv5.i = zext nneg i32 %conv3.i to i64
  %20 = load i64, ptr %nStored.i.i, align 8
  %cmp7.not.i = icmp ugt i64 %20, %conv5.i
  br i1 %cmp7.not.i, label %if.else.i, label %for.inc.i

if.else.i:                                        ; preds = %lor.lhs.false.i
  %21 = load ptr, ptr %ptr.i.i, align 8
  %arrayidx.i.i = getelementptr inbounds float, ptr %21, i64 %conv5.i
  %22 = load float, ptr %arrayidx.i.i, align 4
  br label %for.inc.i

for.inc.i:                                        ; preds = %if.else.i, %lor.lhs.false.i, %for.body.i3
  %.sink.i = phi float [ %22, %if.else.i ], [ 0.000000e+00, %lor.lhs.false.i ], [ 0.000000e+00, %for.body.i3 ]
  %arrayidx.i.i8.i = getelementptr inbounds [4 x float], ptr %retval.i, i64 0, i64 %indvars.iv.i
  store float %.sink.i, ptr %arrayidx.i.i8.i, align 4
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  %exitcond.not.i4 = icmp eq i64 %indvars.iv.next.i, 4
  br i1 %exitcond.not.i4, label %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit, label %for.body.i3, !llvm.loop !138

_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit: ; preds = %for.inc.i
  %cmp.i40.i = fcmp olt float %add46.i, 0.000000e+00
  %retval.0.i43.i = select i1 %cmp.i40.i, float 0.000000e+00, float %conv2.val.i42.i
  %.fca.0.load.i = load <2 x float>, ptr %retval.i, align 8
  %.fca.1.gep.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i, i64 0, i32 1
  %.fca.1.load.i = load <2 x float>, ptr %.fca.1.gep.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i)
  store <2 x float> %.fca.0.load.i, ptr %retval.i.i, align 8
  %ref.tmp.sroa.2.0.retval.i.i.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i, i64 8
  store <2 x float> %.fca.1.load.i, ptr %ref.tmp.sroa.2.0.retval.i.i.sroa_idx, align 8
  br label %for.body.i.i

for.body.i.i:                                     ; preds = %for.body.i.i, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit
  %indvars.iv.i.i = phi i64 [ 0, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit ], [ %indvars.iv.next.i.i, %for.body.i.i ]
  %arrayidx.i.i.i5 = getelementptr inbounds [4 x float], ptr %retval.i.i, i64 0, i64 %indvars.iv.i.i
  %23 = load float, ptr %arrayidx.i.i.i5, align 4
  %mul.i.i = fmul float %retval.0.i43.i, %23
  store float %mul.i.i, ptr %arrayidx.i.i.i5, align 4
  %indvars.iv.next.i.i = add nuw nsw i64 %indvars.iv.i.i, 1
  %exitcond.not.i.i = icmp eq i64 %indvars.iv.next.i.i, 4
  br i1 %exitcond.not.i.i, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit, label %for.body.i.i, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit:         ; preds = %for.body.i.i
  %.fca.0.load.i.i = load <2 x float>, ptr %retval.i.i, align 8
  %.fca.1.load.i.i = load <2 x float>, ptr %ref.tmp.sroa.2.0.retval.i.i.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i)
  %sigma_s_spec = getelementptr inbounds %"class.pbrt::CloudMedium", ptr %this, i64 0, i32 5
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i6)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i6, i8 0, i64 16, i1 false)
  %nStored.i.i7 = getelementptr inbounds %"class.pbrt::CloudMedium", ptr %this, i64 0, i32 5, i32 2, i32 3
  %ptr.i.i8 = getelementptr inbounds %"class.pbrt::CloudMedium", ptr %this, i64 0, i32 5, i32 2, i32 1
  br label %for.body.i9

for.body.i9:                                      ; preds = %for.inc.i18, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit
  %indvars.iv.i10 = phi i64 [ 0, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit ], [ %indvars.iv.next.i21, %for.inc.i18 ]
  %arrayidx.i.i.i11 = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv.i10
  %24 = load float, ptr %arrayidx.i.i.i11, align 4
  %call.i.i12 = tail call noundef i64 @lroundf(float noundef %24) #25
  %25 = load i32, ptr %sigma_s_spec, align 8
  %26 = trunc i64 %call.i.i12 to i32
  %conv3.i13 = sub i32 %26, %25
  %cmp4.i14 = icmp slt i32 %conv3.i13, 0
  br i1 %cmp4.i14, label %for.inc.i18, label %lor.lhs.false.i15

lor.lhs.false.i15:                                ; preds = %for.body.i9
  %conv5.i16 = zext nneg i32 %conv3.i13 to i64
  %27 = load i64, ptr %nStored.i.i7, align 8
  %cmp7.not.i17 = icmp ugt i64 %27, %conv5.i16
  br i1 %cmp7.not.i17, label %if.else.i28, label %for.inc.i18

if.else.i28:                                      ; preds = %lor.lhs.false.i15
  %28 = load ptr, ptr %ptr.i.i8, align 8
  %arrayidx.i.i29 = getelementptr inbounds float, ptr %28, i64 %conv5.i16
  %29 = load float, ptr %arrayidx.i.i29, align 4
  br label %for.inc.i18

for.inc.i18:                                      ; preds = %if.else.i28, %lor.lhs.false.i15, %for.body.i9
  %.sink.i19 = phi float [ %29, %if.else.i28 ], [ 0.000000e+00, %lor.lhs.false.i15 ], [ 0.000000e+00, %for.body.i9 ]
  %arrayidx.i.i8.i20 = getelementptr inbounds [4 x float], ptr %retval.i6, i64 0, i64 %indvars.iv.i10
  store float %.sink.i19, ptr %arrayidx.i.i8.i20, align 4
  %indvars.iv.next.i21 = add nuw nsw i64 %indvars.iv.i10, 1
  %exitcond.not.i22 = icmp eq i64 %indvars.iv.next.i21, 4
  br i1 %exitcond.not.i22, label %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit30, label %for.body.i9, !llvm.loop !138

_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit30: ; preds = %for.inc.i18
  %.fca.0.load.i23 = load <2 x float>, ptr %retval.i6, align 8
  %.fca.1.gep.i25 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i6, i64 0, i32 1
  %.fca.1.load.i26 = load <2 x float>, ptr %.fca.1.gep.i25, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i6)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i31)
  store <2 x float> %.fca.0.load.i23, ptr %retval.i.i31, align 8
  %ref.tmp10.sroa.2.0.retval.i.i31.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i31, i64 8
  store <2 x float> %.fca.1.load.i26, ptr %ref.tmp10.sroa.2.0.retval.i.i31.sroa_idx, align 8
  br label %for.body.i.i32

for.body.i.i32:                                   ; preds = %for.body.i.i32, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit30
  %indvars.iv.i.i33 = phi i64 [ 0, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit30 ], [ %indvars.iv.next.i.i36, %for.body.i.i32 ]
  %arrayidx.i.i.i34 = getelementptr inbounds [4 x float], ptr %retval.i.i31, i64 0, i64 %indvars.iv.i.i33
  %30 = load float, ptr %arrayidx.i.i.i34, align 4
  %mul.i.i35 = fmul float %retval.0.i43.i, %30
  store float %mul.i.i35, ptr %arrayidx.i.i.i34, align 4
  %indvars.iv.next.i.i36 = add nuw nsw i64 %indvars.iv.i.i33, 1
  %exitcond.not.i.i37 = icmp eq i64 %indvars.iv.next.i.i36, 4
  br i1 %exitcond.not.i.i37, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit43, label %for.body.i.i32, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit43:       ; preds = %for.body.i.i32
  %.fca.0.load.i.i38 = load <2 x float>, ptr %retval.i.i31, align 8
  %.fca.1.load.i.i41 = load <2 x float>, ptr %ref.tmp10.sroa.2.0.retval.i.i31.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i31)
  store <2 x float> %.fca.0.load.i.i, ptr %agg.result, align 8
  %sigma_a.sroa.2.0.sigma_a17.sroa_idx = getelementptr inbounds i8, ptr %agg.result, i64 8
  store <2 x float> %.fca.1.load.i.i, ptr %sigma_a.sroa.2.0.sigma_a17.sroa_idx, align 8
  %sigma_s18 = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.result, i64 0, i32 1
  store <2 x float> %.fca.0.load.i.i38, ptr %sigma_s18, align 8
  %sigma_s.sroa.2.0.sigma_s18.sroa_idx = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.result, i64 0, i32 1, i32 0, i32 0, i64 2
  store <2 x float> %.fca.1.load.i.i41, ptr %sigma_s.sroa.2.0.sigma_s18.sroa_idx, align 8
  %phase = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.result, i64 0, i32 2
  %phase19 = getelementptr inbounds %"class.pbrt::CloudMedium", ptr %this, i64 0, i32 2
  %31 = ptrtoint ptr %phase19 to i64
  %or.i.i = or i64 %31, 144115188075855872
  store i64 %or.i.i, ptr %phase, align 8
  %Le = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.result, i64 0, i32 3
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %Le, i8 0, i64 16, i1 false)
  ret void
}

declare { <2 x float>, float } @_ZN4pbrt6DNoiseENS_6Point3IfEE(<2 x float>, float) local_unnamed_addr #0

declare noundef float @_ZN4pbrt5NoiseENS_6Point3IfEE(<2 x float>, float) local_unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZNK4pbrt13NanoVDBMedium9SampleRayENS_3RayEfRKNS_18SampledWavelengthsE(ptr noalias sret(%"class.pbrt::DDAMajorantIterator") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(404) %this, ptr noundef %ray, float noundef %raytMax, ptr noundef nonnull align 4 dereferenceable(32) %lambda) local_unnamed_addr #9 comdat align 2 {
entry:
  %ret.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i8 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %o.i = alloca %"class.pbrt::Point3fi", align 16
  %ref.tmp.i = alloca %"class.pbrt::Point3fi", align 8
  %sigma_s = alloca %"class.pbrt::SampledSpectrum", align 8
  %agg.tmp12 = alloca %"class.pbrt::Ray", align 8
  %renderFromMedium = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 1
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %o.i)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %ref.tmp.i)
  %0 = load <4 x float>, ptr %ray, align 8, !noalias !159
  %agg.tmp.sroa.0.4.vec.insert.i.i = shufflevector <4 x float> %0, <4 x float> poison, <2 x i32> zeroinitializer
  %y.i.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %ray, i64 0, i32 1
  %1 = load <4 x float>, ptr %y.i.i, align 4, !noalias !159
  %agg.tmp2.sroa.0.4.vec.insert.i.i = shufflevector <4 x float> %1, <4 x float> poison, <2 x i32> zeroinitializer
  %z.i.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %ray, i64 0, i32 2
  %2 = load <4 x float>, ptr %z.i.i, align 4, !noalias !159
  %agg.tmp3.sroa.0.4.vec.insert.i.i = shufflevector <4 x float> %2, <4 x float> poison, <2 x i32> zeroinitializer
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i.i, ptr %ref.tmp.i, align 8, !noalias !159
  %y3.i.i.i.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %ref.tmp.i, i64 0, i32 1
  store <2 x float> %agg.tmp2.sroa.0.4.vec.insert.i.i, ptr %y3.i.i.i.i, align 8, !noalias !159
  %z4.i.i.i.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %ref.tmp.i, i64 0, i32 2
  store <2 x float> %agg.tmp3.sroa.0.4.vec.insert.i.i, ptr %z4.i.i.i.i, align 8, !noalias !159
  call void @_ZNK4pbrt9Transform12ApplyInverseERKNS_8Point3fiE(ptr nonnull sret(%"class.pbrt::Point3fi") align 4 %o.i, ptr noundef nonnull align 4 dereferenceable(128) %renderFromMedium, ptr noundef nonnull align 4 dereferenceable(24) %ref.tmp.i), !noalias !159
  %d3.i = getelementptr inbounds %"class.pbrt::Ray", ptr %ray, i64 0, i32 1
  %agg.tmp.sroa.0.0.copyload.i = load <2 x float>, ptr %d3.i, align 4, !noalias !159
  %agg.tmp.sroa.2.0.d3.sroa_idx.i = getelementptr inbounds %"class.pbrt::Ray", ptr %ray, i64 0, i32 1, i32 0, i32 2
  %agg.tmp.sroa.2.0.copyload.i = load float, ptr %agg.tmp.sroa.2.0.d3.sroa_idx.i, align 4, !noalias !159
  %call.i = call { <2 x float>, float } @_ZNK4pbrt9Transform12ApplyInverseIfEENS_7Vector3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %renderFromMedium, <2 x float> %agg.tmp.sroa.0.0.copyload.i, float %agg.tmp.sroa.2.0.copyload.i), !noalias !159
  %call.fca.0.extract.i = extractvalue { <2 x float>, float } %call.i, 0
  %call.fca.1.extract.i = extractvalue { <2 x float>, float } %call.i, 1
  %3 = fmul <2 x float> %call.fca.0.extract.i, %call.fca.0.extract.i
  %shift = shufflevector <2 x float> %3, <2 x float> poison, <2 x i32> <i32 1, i32 poison>
  %4 = fadd <2 x float> %3, %shift
  %add.i.i = extractelement <2 x float> %4, i64 0
  %mul.i2.i.i = fmul float %call.fca.1.extract.i, %call.fca.1.extract.i
  %add3.i.i = fadd float %mul.i2.i.i, %add.i.i
  %cmp.i = fcmp ogt float %add3.i.i, 0.000000e+00
  br i1 %cmp.i, label %if.then.i, label %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit

if.then.i:                                        ; preds = %entry
  %high.i.i = getelementptr inbounds %"class.pbrt::Interval", ptr %o.i, i64 0, i32 1
  %5 = load <4 x float>, ptr %high.i.i, align 4
  %6 = shufflevector <4 x float> %5, <4 x float> poison, <2 x i32> <i32 0, i32 poison>
  %7 = load <4 x float>, ptr %o.i, align 16
  %8 = shufflevector <4 x float> %7, <4 x float> poison, <2 x i32> <i32 0, i32 poison>
  %y.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %o.i, i64 0, i32 1
  %high.i7.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %o.i, i64 0, i32 1, i32 1
  %9 = load float, ptr %high.i7.i, align 4, !noalias !159
  %10 = load float, ptr %y.i, align 8, !noalias !159
  %sub.i8.i = fsub float %9, %10
  %div8.i = fmul float %sub.i8.i, 5.000000e-01
  %z.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %o.i, i64 0, i32 2
  %high.i9.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %o.i, i64 0, i32 2, i32 1
  %11 = load float, ptr %high.i9.i, align 4, !noalias !159
  %12 = load float, ptr %z.i, align 16, !noalias !159
  %13 = insertelement <2 x float> %call.fca.0.extract.i, float %call.fca.1.extract.i, i64 1
  %14 = call <2 x float> @llvm.fabs.v2f32(<2 x float> %13)
  %15 = extractelement <2 x float> %call.fca.0.extract.i, i64 1
  %16 = call noundef float @llvm.fabs.f32(float %15)
  %mul4.i.i = fmul float %16, %div8.i
  %17 = insertelement <2 x float> %6, float %11, i64 1
  %18 = insertelement <2 x float> %8, float %12, i64 1
  %19 = fsub <2 x float> %17, %18
  %20 = fmul <2 x float> %19, <float 5.000000e-01, float 5.000000e-01>
  %21 = fmul <2 x float> %14, %20
  %22 = extractelement <2 x float> %21, i64 0
  %add.i13.i = fadd float %22, %mul4.i.i
  %23 = extractelement <2 x float> %21, i64 1
  %add7.i.i = fadd float %add.i13.i, %23
  %div18.i = fdiv float %add7.i.i, %add3.i.i
  %24 = insertelement <2 x float> poison, float %div18.i, i64 0
  %25 = shufflevector <2 x float> %24, <2 x float> poison, <2 x i32> zeroinitializer
  %26 = fmul <2 x float> %call.fca.0.extract.i, %25
  %mul3.i.i = fmul float %call.fca.1.extract.i, %div18.i
  %call23.i = call noundef nonnull align 4 dereferenceable(24) ptr @_ZN4pbrt8Point3fipLIfEERS0_NS_7Vector3IT_EE(ptr noundef nonnull align 4 dereferenceable(24) %o.i, <2 x float> %26, float %mul3.i.i), !noalias !159
  %sub.i = fsub float %raytMax, %div18.i
  br label %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit

_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit: ; preds = %entry, %if.then.i
  %raytMax.addr.0 = phi float [ %sub.i, %if.then.i ], [ %raytMax, %entry ]
  %27 = load <4 x float>, ptr %o.i, align 16
  %28 = shufflevector <4 x float> %27, <4 x float> poison, <2 x i32> <i32 0, i32 poison>
  %agg.tmp27.sroa.0.sroa.2.0.o.sroa_idx.i = getelementptr inbounds i8, ptr %o.i, i64 4
  %agg.tmp27.sroa.0.sroa.4.0.o.sroa_idx.i = getelementptr inbounds i8, ptr %o.i, i64 12
  %agg.tmp27.sroa.0.sroa.4.0.copyload.i = load float, ptr %agg.tmp27.sroa.0.sroa.4.0.o.sroa_idx.i, align 4, !noalias !159
  %agg.tmp27.sroa.0.sroa.5.0.o.sroa_idx.i = getelementptr inbounds i8, ptr %o.i, i64 16
  %agg.tmp27.sroa.0.sroa.5.0.copyload.i = load float, ptr %agg.tmp27.sroa.0.sroa.5.0.o.sroa_idx.i, align 16, !noalias !159
  %agg.tmp27.sroa.0.sroa.6.0.o.sroa_idx.i = getelementptr inbounds i8, ptr %o.i, i64 20
  %agg.tmp27.sroa.0.sroa.6.0.copyload.i = load float, ptr %agg.tmp27.sroa.0.sroa.6.0.o.sroa_idx.i, align 4, !noalias !159
  %29 = load <2 x float>, ptr %agg.tmp27.sroa.0.sroa.2.0.o.sroa_idx.i, align 4, !noalias !159
  %30 = insertelement <2 x float> %28, float %agg.tmp27.sroa.0.sroa.4.0.copyload.i, i64 1
  %31 = fadd <2 x float> %29, %30
  %32 = fmul <2 x float> %31, <float 5.000000e-01, float 5.000000e-01>
  %add.i.i5.i.i = fadd float %agg.tmp27.sroa.0.sroa.5.0.copyload.i, %agg.tmp27.sroa.0.sroa.6.0.copyload.i
  %div.i.i6.i.i = fmul float %add.i.i5.i.i, 5.000000e-01
  %medium.i = getelementptr inbounds %"class.pbrt::Ray", ptr %ray, i64 0, i32 3
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %o.i)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %ref.tmp.i)
  store <2 x float> %32, ptr %ray, align 8
  store float %div.i.i6.i.i, ptr %z.i.i, align 8
  store <2 x float> %call.fca.0.extract.i, ptr %d3.i, align 4
  store float %call.fca.1.extract.i, ptr %agg.tmp.sroa.2.0.d3.sroa_idx.i, align 4
  %33 = extractelement <2 x float> %call.fca.0.extract.i, i64 1
  %div.i3 = fdiv float 1.000000e+00, %33
  %y.i17.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %this, i64 0, i32 1
  %retval.0.i18.i = load float, ptr %y.i17.i, align 4
  %34 = extractelement <2 x float> %32, i64 1
  %sub.i4 = fsub float %retval.0.i18.i, %34
  %mul.i = fmul float %div.i3, %sub.i4
  %y.i27.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %this, i64 0, i32 1, i32 0, i32 1
  %35 = extractelement <2 x float> %call.fca.0.extract.i, i64 0
  %div52.i = fdiv float 1.000000e+00, %35
  %retval.0.i1866.i = load float, ptr %this, align 8
  %36 = extractelement <2 x float> %32, i64 0
  %sub87.i = fsub float %retval.0.i1866.i, %36
  %mul88.i = fmul float %div52.i, %sub87.i
  %pMax89.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %this, i64 0, i32 1
  %div47.i = fdiv float 1.000000e+00, %call.fca.1.extract.i
  %z.i20.i = getelementptr inbounds %"class.pbrt::Tuple3", ptr %this, i64 0, i32 2
  %retval.0.i1855.i = load float, ptr %z.i20.i, align 8
  %sub72.i = fsub float %retval.0.i1855.i, %div.i.i6.i.i
  %mul73.i = fmul float %div47.i, %sub72.i
  %z.i31.i = getelementptr inbounds %"class.pbrt::Bounds3", ptr %this, i64 0, i32 1, i32 0, i32 2
  br label %for.body.i

for.cond.i:                                       ; preds = %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i
  %inc.i = add nuw nsw i32 %i.0113.i, 1
  %cmp.i5 = icmp ugt i32 %i.0113.i, 1
  %exitcond.i = icmp eq i32 %inc.i, 3
  br i1 %exitcond.i, label %_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit, label %for.body.i, !llvm.loop !145

for.body.i:                                       ; preds = %for.cond.i, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit
  %cmp114.i = phi i1 [ false, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit ], [ %cmp.i5, %for.cond.i ]
  %i.0113.i = phi i32 [ 0, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit ], [ %inc.i, %for.cond.i ]
  %t1.0112.i = phi float [ %raytMax.addr.0, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit ], [ %cond18.i, %for.cond.i ]
  %t0.0111.i = phi float [ 0.000000e+00, %_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf.exit ], [ %cond.i, %for.cond.i ]
  switch i32 %i.0113.i, label %if.end4.i36.i [
    i32 0, label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i
    i32 1, label %if.then3.i33.i
  ]

if.then3.i33.i:                                   ; preds = %for.body.i
  br label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i

if.end4.i36.i:                                    ; preds = %for.body.i
  br label %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i

_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i:       ; preds = %if.end4.i36.i, %if.then3.i33.i, %for.body.i
  %retval.0.i2999.in.i = phi ptr [ %y.i27.i, %if.then3.i33.i ], [ %z.i31.i, %if.end4.i36.i ], [ %pMax89.i, %for.body.i ]
  %div48577797.i = phi float [ %div.i3, %if.then3.i33.i ], [ %div47.i, %if.end4.i36.i ], [ %div52.i, %for.body.i ]
  %mul7995.i = phi float [ %mul.i, %if.then3.i33.i ], [ %mul73.i, %if.end4.i36.i ], [ %mul88.i, %for.body.i ]
  %retval.0.i35.sroa.speculated.i = phi float [ %34, %if.then3.i33.i ], [ %div.i.i6.i.i, %if.end4.i36.i ], [ %36, %for.body.i ]
  %retval.0.i2999.i = load float, ptr %retval.0.i2999.in.i, align 4
  %sub7.i = fsub float %retval.0.i2999.i, %retval.0.i35.sroa.speculated.i
  %mul8.i = fmul float %div48577797.i, %sub7.i
  %cmp9.i = fcmp ogt float %mul7995.i, %mul8.i
  %tNear.0.i = select i1 %cmp9.i, float %mul8.i, float %mul7995.i
  %tFar.0.i = select i1 %cmp9.i, float %mul7995.i, float %mul8.i
  %mul12.i = fmul float %tFar.0.i, 0x3FF0000060000000
  %cmp13.i = fcmp ogt float %tNear.0.i, %t0.0111.i
  %cond.i = select i1 %cmp13.i, float %tNear.0.i, float %t0.0111.i
  %cmp14.i = fcmp olt float %mul12.i, %t1.0112.i
  %cond18.i = select i1 %cmp14.i, float %mul12.i, float %t1.0112.i
  %cmp19.i = fcmp ogt float %cond.i, %cond18.i
  br i1 %cmp19.i, label %_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit, label %for.cond.i

_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit: ; preds = %for.cond.i, %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i
  %cmp108.i = phi i1 [ %cmp114.i, %_ZN4pbrt6Tuple3INS_6Point3EfEixEi.exit38.i ], [ %cmp.i5, %for.cond.i ]
  br i1 %cmp108.i, label %do.end, label %if.then

if.then:                                          ; preds = %_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit
  %tMin.i = getelementptr inbounds %"class.pbrt::DDAMajorantIterator", ptr %agg.result, i64 0, i32 1
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(96) %agg.result, i8 0, i64 96, i1 false)
  store <2 x float> <float 0x7FF0000000000000, float 0xFFF0000000000000>, ptr %tMin.i, align 8
  br label %return

do.end:                                           ; preds = %_ZNK4pbrt7Bounds3IfE10IntersectPENS_6Point3IfEENS_7Vector3IfEEfPfS6_.exit
  %sigma_a_spec = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 2
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i, i8 0, i64 16, i1 false)
  %nStored.i.i = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 2, i32 2, i32 3
  %ptr.i.i = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 2, i32 2, i32 1
  br label %for.body.i6

for.body.i6:                                      ; preds = %for.inc.i, %do.end
  %indvars.iv.i = phi i64 [ 0, %do.end ], [ %indvars.iv.next.i, %for.inc.i ]
  %arrayidx.i.i.i = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv.i
  %37 = load float, ptr %arrayidx.i.i.i, align 4
  %call.i.i = call noundef i64 @lroundf(float noundef %37) #25
  %38 = load i32, ptr %sigma_a_spec, align 8
  %39 = trunc i64 %call.i.i to i32
  %conv3.i = sub i32 %39, %38
  %cmp4.i = icmp slt i32 %conv3.i, 0
  br i1 %cmp4.i, label %for.inc.i, label %lor.lhs.false.i

lor.lhs.false.i:                                  ; preds = %for.body.i6
  %conv5.i = zext nneg i32 %conv3.i to i64
  %40 = load i64, ptr %nStored.i.i, align 8
  %cmp7.not.i = icmp ugt i64 %40, %conv5.i
  br i1 %cmp7.not.i, label %if.else.i, label %for.inc.i

if.else.i:                                        ; preds = %lor.lhs.false.i
  %41 = load ptr, ptr %ptr.i.i, align 8
  %arrayidx.i.i = getelementptr inbounds float, ptr %41, i64 %conv5.i
  %42 = load float, ptr %arrayidx.i.i, align 4
  br label %for.inc.i

for.inc.i:                                        ; preds = %if.else.i, %lor.lhs.false.i, %for.body.i6
  %.sink.i = phi float [ %42, %if.else.i ], [ 0.000000e+00, %lor.lhs.false.i ], [ 0.000000e+00, %for.body.i6 ]
  %arrayidx.i.i8.i = getelementptr inbounds [4 x float], ptr %retval.i, i64 0, i64 %indvars.iv.i
  store float %.sink.i, ptr %arrayidx.i.i8.i, align 4
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  %exitcond.not.i = icmp eq i64 %indvars.iv.next.i, 4
  br i1 %exitcond.not.i, label %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit, label %for.body.i6, !llvm.loop !138

_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit: ; preds = %for.inc.i
  %.fca.0.load.i = load <2 x float>, ptr %retval.i, align 8
  %.fca.1.gep.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i, i64 0, i32 1
  %.fca.1.load.i = load <2 x float>, ptr %.fca.1.gep.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i)
  %sigma_s_spec = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 3
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i8)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i8, i8 0, i64 16, i1 false)
  %nStored.i.i9 = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 3, i32 2, i32 3
  %ptr.i.i10 = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 3, i32 2, i32 1
  br label %for.body.i11

for.body.i11:                                     ; preds = %for.inc.i20, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit
  %indvars.iv.i12 = phi i64 [ 0, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit ], [ %indvars.iv.next.i23, %for.inc.i20 ]
  %arrayidx.i.i.i13 = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv.i12
  %43 = load float, ptr %arrayidx.i.i.i13, align 4
  %call.i.i14 = call noundef i64 @lroundf(float noundef %43) #25
  %44 = load i32, ptr %sigma_s_spec, align 8
  %45 = trunc i64 %call.i.i14 to i32
  %conv3.i15 = sub i32 %45, %44
  %cmp4.i16 = icmp slt i32 %conv3.i15, 0
  br i1 %cmp4.i16, label %for.inc.i20, label %lor.lhs.false.i17

lor.lhs.false.i17:                                ; preds = %for.body.i11
  %conv5.i18 = zext nneg i32 %conv3.i15 to i64
  %46 = load i64, ptr %nStored.i.i9, align 8
  %cmp7.not.i19 = icmp ugt i64 %46, %conv5.i18
  br i1 %cmp7.not.i19, label %if.else.i31, label %for.inc.i20

if.else.i31:                                      ; preds = %lor.lhs.false.i17
  %47 = load ptr, ptr %ptr.i.i10, align 8
  %arrayidx.i.i32 = getelementptr inbounds float, ptr %47, i64 %conv5.i18
  %48 = load float, ptr %arrayidx.i.i32, align 4
  br label %for.inc.i20

for.inc.i20:                                      ; preds = %if.else.i31, %lor.lhs.false.i17, %for.body.i11
  %.sink.i21 = phi float [ %48, %if.else.i31 ], [ 0.000000e+00, %lor.lhs.false.i17 ], [ 0.000000e+00, %for.body.i11 ]
  %arrayidx.i.i8.i22 = getelementptr inbounds [4 x float], ptr %retval.i8, i64 0, i64 %indvars.iv.i12
  store float %.sink.i21, ptr %arrayidx.i.i8.i22, align 4
  %indvars.iv.next.i23 = add nuw nsw i64 %indvars.iv.i12, 1
  %exitcond.not.i24 = icmp eq i64 %indvars.iv.next.i23, 4
  br i1 %exitcond.not.i24, label %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit33, label %for.body.i11, !llvm.loop !138

_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit33: ; preds = %for.inc.i20
  %.fca.0.load.i26 = load <2 x float>, ptr %retval.i8, align 8
  %.fca.1.gep.i28 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i8, i64 0, i32 1
  %.fca.1.load.i29 = load <2 x float>, ptr %.fca.1.gep.i28, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i8)
  store <2 x float> %.fca.0.load.i26, ptr %sigma_s, align 8
  %49 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %sigma_s, i64 0, i32 1
  store <2 x float> %.fca.1.load.i29, ptr %49, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ret.i)
  store <2 x float> %.fca.0.load.i, ptr %ret.i, align 8
  %sigma_a.sroa.2.0.ret.i.sroa_idx = getelementptr inbounds i8, ptr %ret.i, i64 8
  store <2 x float> %.fca.1.load.i, ptr %sigma_a.sroa.2.0.ret.i.sroa_idx, align 8
  br label %for.body.i.i

for.body.i.i:                                     ; preds = %for.body.i.i, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit33
  %indvars.iv.i.i = phi i64 [ 0, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit33 ], [ %indvars.iv.next.i.i, %for.body.i.i ]
  %arrayidx.i.i.i34 = getelementptr inbounds [4 x float], ptr %sigma_s, i64 0, i64 %indvars.iv.i.i
  %50 = load float, ptr %arrayidx.i.i.i34, align 4
  %arrayidx.i4.i.i = getelementptr inbounds [4 x float], ptr %ret.i, i64 0, i64 %indvars.iv.i.i
  %51 = load float, ptr %arrayidx.i4.i.i, align 4
  %add.i.i35 = fadd float %50, %51
  store float %add.i.i35, ptr %arrayidx.i4.i.i, align 4
  %indvars.iv.next.i.i = add nuw nsw i64 %indvars.iv.i.i, 1
  %exitcond.not.i.i = icmp eq i64 %indvars.iv.next.i.i, 4
  br i1 %exitcond.not.i.i, label %_ZNK4pbrt15SampledSpectrumplERKS0_.exit, label %for.body.i.i, !llvm.loop !87

_ZNK4pbrt15SampledSpectrumplERKS0_.exit:          ; preds = %for.body.i.i
  %retval.sroa.0.0.copyload.i = load <2 x float>, ptr %ret.i, align 8
  %retval.sroa.2.0.copyload.i = load <2 x float>, ptr %sigma_a.sroa.2.0.ret.i.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ret.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(28) %agg.tmp12, ptr noundef nonnull align 8 dereferenceable(28) %ray, i64 28, i1 false)
  %medium.i38 = getelementptr inbounds %"class.pbrt::Ray", ptr %agg.tmp12, i64 0, i32 3
  %52 = load i64, ptr %medium.i, align 8
  store i64 %52, ptr %medium.i38, align 8
  %majorantGrid = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 6
  call void @_ZN4pbrt19DDAMajorantIteratorC2ENS_3RayEffPKNS_12MajorantGridENS_15SampledSpectrumE(ptr noundef nonnull align 8 dereferenceable(92) %agg.result, ptr noundef nonnull %agg.tmp12, float noundef %cond.i, float noundef %cond18.i, ptr noundef nonnull %majorantGrid, <2 x float> %retval.sroa.0.0.copyload.i, <2 x float> %retval.sroa.2.0.copyload.i)
  br label %return

return:                                           ; preds = %_ZNK4pbrt15SampledSpectrumplERKS0_.exit, %if.then
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZNK4pbrt13NanoVDBMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsE(ptr noalias sret(%"struct.pbrt::MediumProperties") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(404) %this, <2 x float> %p.coerce0, float %p.coerce1, ptr noundef nonnull align 4 dereferenceable(32) %lambda) local_unnamed_addr #9 comdat align 2 {
entry:
  %retval.i42 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i31 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i6 = alloca %"class.pbrt::SampledSpectrum", align 8
  %retval.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp12 = alloca %"class.nanovdb::SampleFromVoxels", align 8
  %sigma_a_spec = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 2
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i, i8 0, i64 16, i1 false)
  %nStored.i.i = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 2, i32 2, i32 3
  %ptr.i.i = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 2, i32 2, i32 1
  br label %for.body.i

for.body.i:                                       ; preds = %for.inc.i, %entry
  %indvars.iv.i = phi i64 [ 0, %entry ], [ %indvars.iv.next.i, %for.inc.i ]
  %arrayidx.i.i.i = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv.i
  %0 = load float, ptr %arrayidx.i.i.i, align 4
  %call.i.i = tail call noundef i64 @lroundf(float noundef %0) #25
  %1 = load i32, ptr %sigma_a_spec, align 8
  %2 = trunc i64 %call.i.i to i32
  %conv3.i = sub i32 %2, %1
  %cmp4.i = icmp slt i32 %conv3.i, 0
  br i1 %cmp4.i, label %for.inc.i, label %lor.lhs.false.i

lor.lhs.false.i:                                  ; preds = %for.body.i
  %conv5.i = zext nneg i32 %conv3.i to i64
  %3 = load i64, ptr %nStored.i.i, align 8
  %cmp7.not.i = icmp ugt i64 %3, %conv5.i
  br i1 %cmp7.not.i, label %if.else.i, label %for.inc.i

if.else.i:                                        ; preds = %lor.lhs.false.i
  %4 = load ptr, ptr %ptr.i.i, align 8
  %arrayidx.i.i = getelementptr inbounds float, ptr %4, i64 %conv5.i
  %5 = load float, ptr %arrayidx.i.i, align 4
  br label %for.inc.i

for.inc.i:                                        ; preds = %if.else.i, %lor.lhs.false.i, %for.body.i
  %.sink.i = phi float [ %5, %if.else.i ], [ 0.000000e+00, %lor.lhs.false.i ], [ 0.000000e+00, %for.body.i ]
  %arrayidx.i.i8.i = getelementptr inbounds [4 x float], ptr %retval.i, i64 0, i64 %indvars.iv.i
  store float %.sink.i, ptr %arrayidx.i.i8.i, align 4
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  %exitcond.not.i = icmp eq i64 %indvars.iv.next.i, 4
  br i1 %exitcond.not.i, label %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit, label %for.body.i, !llvm.loop !138

_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit: ; preds = %for.inc.i
  %.fca.0.load.i = load <2 x float>, ptr %retval.i, align 8
  %.fca.1.gep.i = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i, i64 0, i32 1
  %.fca.1.load.i = load <2 x float>, ptr %.fca.1.gep.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i)
  %sigma_s_spec = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 3
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i6)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %retval.i6, i8 0, i64 16, i1 false)
  %nStored.i.i7 = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 3, i32 2, i32 3
  %ptr.i.i8 = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 3, i32 2, i32 1
  br label %for.body.i9

for.body.i9:                                      ; preds = %for.inc.i18, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit
  %indvars.iv.i10 = phi i64 [ 0, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit ], [ %indvars.iv.next.i21, %for.inc.i18 ]
  %arrayidx.i.i.i11 = getelementptr inbounds [4 x float], ptr %lambda, i64 0, i64 %indvars.iv.i10
  %6 = load float, ptr %arrayidx.i.i.i11, align 4
  %call.i.i12 = tail call noundef i64 @lroundf(float noundef %6) #25
  %7 = load i32, ptr %sigma_s_spec, align 8
  %8 = trunc i64 %call.i.i12 to i32
  %conv3.i13 = sub i32 %8, %7
  %cmp4.i14 = icmp slt i32 %conv3.i13, 0
  br i1 %cmp4.i14, label %for.inc.i18, label %lor.lhs.false.i15

lor.lhs.false.i15:                                ; preds = %for.body.i9
  %conv5.i16 = zext nneg i32 %conv3.i13 to i64
  %9 = load i64, ptr %nStored.i.i7, align 8
  %cmp7.not.i17 = icmp ugt i64 %9, %conv5.i16
  br i1 %cmp7.not.i17, label %if.else.i28, label %for.inc.i18

if.else.i28:                                      ; preds = %lor.lhs.false.i15
  %10 = load ptr, ptr %ptr.i.i8, align 8
  %arrayidx.i.i29 = getelementptr inbounds float, ptr %10, i64 %conv5.i16
  %11 = load float, ptr %arrayidx.i.i29, align 4
  br label %for.inc.i18

for.inc.i18:                                      ; preds = %if.else.i28, %lor.lhs.false.i15, %for.body.i9
  %.sink.i19 = phi float [ %11, %if.else.i28 ], [ 0.000000e+00, %lor.lhs.false.i15 ], [ 0.000000e+00, %for.body.i9 ]
  %arrayidx.i.i8.i20 = getelementptr inbounds [4 x float], ptr %retval.i6, i64 0, i64 %indvars.iv.i10
  store float %.sink.i19, ptr %arrayidx.i.i8.i20, align 4
  %indvars.iv.next.i21 = add nuw nsw i64 %indvars.iv.i10, 1
  %exitcond.not.i22 = icmp eq i64 %indvars.iv.next.i21, 4
  br i1 %exitcond.not.i22, label %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit30, label %for.body.i9, !llvm.loop !138

_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit30: ; preds = %for.inc.i18
  %.fca.0.load.i23 = load <2 x float>, ptr %retval.i6, align 8
  %.fca.1.gep.i25 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %retval.i6, i64 0, i32 1
  %.fca.1.load.i26 = load <2 x float>, ptr %.fca.1.gep.i25, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i6)
  %renderFromMedium = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 1
  %call6 = tail call { <2 x float>, float } @_ZNK4pbrt9Transform12ApplyInverseIfEENS_6Point3IT_EES4_(ptr noundef nonnull align 4 dereferenceable(128) %renderFromMedium, <2 x float> %p.coerce0, float %p.coerce1)
  %call6.fca.0.extract = extractvalue { <2 x float>, float } %call6, 0
  %call6.fca.1.extract = extractvalue { <2 x float>, float } %call6, 1
  %densityFloatGrid = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 9
  %12 = load ptr, ptr %densityFloatGrid, align 8
  %p.sroa.0.0.vec.extract = extractelement <2 x float> %call6.fca.0.extract, i64 0
  %p.sroa.0.4.vec.extract = extractelement <2 x float> %call6.fca.0.extract, i64 1
  %mInvMatF.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %12, i64 0, i32 8, i32 1
  %mVecF.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %12, i64 0, i32 8, i32 2
  %13 = load float, ptr %mVecF.i.i.i, align 8
  %sub.i.i.i = fsub float %p.sroa.0.0.vec.extract, %13
  %arrayidx4.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %12, i64 0, i32 8, i32 2, i64 1
  %14 = load float, ptr %arrayidx4.i.i.i, align 4
  %sub5.i.i.i = fsub float %p.sroa.0.4.vec.extract, %14
  %arrayidx8.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %12, i64 0, i32 8, i32 2, i64 2
  %15 = load float, ptr %arrayidx8.i.i.i, align 8
  %sub9.i.i.i = fsub float %call6.fca.1.extract, %15
  %16 = load float, ptr %mInvMatF.i.i.i, align 4
  %arrayidx2.i.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %12, i64 0, i32 8, i32 1, i64 1
  %17 = load float, ptr %arrayidx2.i.i.i.i, align 4
  %arrayidx4.i.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %12, i64 0, i32 8, i32 1, i64 2
  %18 = load float, ptr %arrayidx4.i.i.i.i, align 4
  %mul.i.i.i.i = fmul float %sub9.i.i.i, %18
  %19 = tail call float @llvm.fma.f32(float %sub5.i.i.i, float %17, float %mul.i.i.i.i)
  %20 = tail call float @llvm.fma.f32(float %sub.i.i.i, float %16, float %19)
  %arrayidx6.i.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %12, i64 0, i32 8, i32 1, i64 3
  %21 = load float, ptr %arrayidx6.i.i.i.i, align 4
  %arrayidx8.i.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %12, i64 0, i32 8, i32 1, i64 4
  %22 = load float, ptr %arrayidx8.i.i.i.i, align 4
  %arrayidx10.i.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %12, i64 0, i32 8, i32 1, i64 5
  %23 = load float, ptr %arrayidx10.i.i.i.i, align 4
  %mul11.i.i.i.i = fmul float %sub9.i.i.i, %23
  %24 = tail call float @llvm.fma.f32(float %sub5.i.i.i, float %22, float %mul11.i.i.i.i)
  %25 = tail call float @llvm.fma.f32(float %sub.i.i.i, float %21, float %24)
  %arrayidx13.i.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %12, i64 0, i32 8, i32 1, i64 6
  %26 = load float, ptr %arrayidx13.i.i.i.i, align 4
  %arrayidx15.i.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %12, i64 0, i32 8, i32 1, i64 7
  %27 = load float, ptr %arrayidx15.i.i.i.i, align 4
  %arrayidx17.i.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %12, i64 0, i32 8, i32 1, i64 8
  %28 = load float, ptr %arrayidx17.i.i.i.i, align 4
  %mul18.i.i.i.i = fmul float %sub9.i.i.i, %28
  %29 = tail call float @llvm.fma.f32(float %sub5.i.i.i, float %27, float %mul18.i.i.i.i)
  %30 = tail call float @llvm.fma.f32(float %sub.i.i.i, float %26, float %29)
  %retval.sroa.0.0.vec.insert.i.i.i.i = insertelement <2 x float> poison, float %20, i64 0
  %retval.sroa.0.4.vec.insert.i.i.i.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i.i.i.i, float %25, i64 1
  %add.ptr.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %12, i64 1
  store ptr %add.ptr.i.i, ptr %ref.tmp12, align 8
  %call16 = call noundef float @_ZNK7nanovdb16SampleFromVoxelsINS_4TreeINS_8RootNodeINS_12InternalNodeINS3_INS_8LeafNodeIfNS_5CoordENS_4MaskELj3EEELj4EEELj5EEEEEEELi1ELb0EEclIfTtTpTyENS_4Vec3EEEfT0_IJT_EE(ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp12, <2 x float> %retval.sroa.0.4.vec.insert.i.i.i.i, float %30)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i31)
  store <2 x float> %.fca.0.load.i, ptr %retval.i31, align 8
  %sigma_a.sroa.2.0.retval.i31.sroa_idx = getelementptr inbounds i8, ptr %retval.i31, i64 8
  store <2 x float> %.fca.1.load.i, ptr %sigma_a.sroa.2.0.retval.i31.sroa_idx, align 8
  br label %for.body.i32

for.body.i32:                                     ; preds = %for.body.i32, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit30
  %indvars.iv.i33 = phi i64 [ 0, %_ZNK4pbrt22DenselySampledSpectrum6SampleERKNS_18SampledWavelengthsE.exit30 ], [ %indvars.iv.next.i35, %for.body.i32 ]
  %arrayidx.i.i34 = getelementptr inbounds [4 x float], ptr %retval.i31, i64 0, i64 %indvars.iv.i33
  %31 = load float, ptr %arrayidx.i.i34, align 4
  %mul.i = fmul float %call16, %31
  store float %mul.i, ptr %arrayidx.i.i34, align 4
  %indvars.iv.next.i35 = add nuw nsw i64 %indvars.iv.i33, 1
  %exitcond.not.i36 = icmp eq i64 %indvars.iv.next.i35, 4
  br i1 %exitcond.not.i36, label %_ZNK4pbrt15SampledSpectrummlEf.exit, label %for.body.i32, !llvm.loop !110

_ZNK4pbrt15SampledSpectrummlEf.exit:              ; preds = %for.body.i32
  %.fca.0.load.i37 = load <2 x float>, ptr %retval.i31, align 8
  %.fca.1.load.i40 = load <2 x float>, ptr %sigma_a.sroa.2.0.retval.i31.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i31)
  store <2 x float> %.fca.0.load.i37, ptr %agg.result, align 8
  %32 = getelementptr inbounds { <2 x float>, <2 x float> }, ptr %agg.result, i64 0, i32 1
  store <2 x float> %.fca.1.load.i40, ptr %32, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i42)
  store <2 x float> %.fca.0.load.i23, ptr %retval.i42, align 8
  %sigma_s.sroa.2.0.retval.i42.sroa_idx = getelementptr inbounds i8, ptr %retval.i42, i64 8
  store <2 x float> %.fca.1.load.i26, ptr %sigma_s.sroa.2.0.retval.i42.sroa_idx, align 8
  br label %for.body.i43

for.body.i43:                                     ; preds = %for.body.i43, %_ZNK4pbrt15SampledSpectrummlEf.exit
  %indvars.iv.i44 = phi i64 [ 0, %_ZNK4pbrt15SampledSpectrummlEf.exit ], [ %indvars.iv.next.i47, %for.body.i43 ]
  %arrayidx.i.i45 = getelementptr inbounds [4 x float], ptr %retval.i42, i64 0, i64 %indvars.iv.i44
  %33 = load float, ptr %arrayidx.i.i45, align 4
  %mul.i46 = fmul float %call16, %33
  store float %mul.i46, ptr %arrayidx.i.i45, align 4
  %indvars.iv.next.i47 = add nuw nsw i64 %indvars.iv.i44, 1
  %exitcond.not.i48 = icmp eq i64 %indvars.iv.next.i47, 4
  br i1 %exitcond.not.i48, label %_ZNK4pbrt15SampledSpectrummlEf.exit54, label %for.body.i43, !llvm.loop !110

_ZNK4pbrt15SampledSpectrummlEf.exit54:            ; preds = %for.body.i43
  %sigma_s21 = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.result, i64 0, i32 1
  %.fca.0.load.i49 = load <2 x float>, ptr %retval.i42, align 8
  %.fca.1.load.i52 = load <2 x float>, ptr %sigma_s.sroa.2.0.retval.i42.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i42)
  store <2 x float> %.fca.0.load.i49, ptr %sigma_s21, align 8
  %34 = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.result, i64 0, i32 1, i32 0, i32 0, i64 2
  store <2 x float> %.fca.1.load.i52, ptr %34, align 8
  %phase = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.result, i64 0, i32 2
  %phase25 = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 4
  %35 = ptrtoint ptr %phase25 to i64
  %or.i.i = or i64 %35, 144115188075855872
  store i64 %or.i.i, ptr %phase, align 8
  %Le = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.result, i64 0, i32 3
  %call27 = call { <2 x float>, <2 x float> } @_ZNK4pbrt13NanoVDBMedium2LeENS_6Point3IfEERKNS_18SampledWavelengthsE(ptr noundef nonnull align 8 dereferenceable(404) %this, <2 x float> %call6.fca.0.extract, float %call6.fca.1.extract, ptr noundef nonnull align 4 dereferenceable(32) %lambda)
  %36 = extractvalue { <2 x float>, <2 x float> } %call27, 0
  store <2 x float> %36, ptr %Le, align 8
  %37 = getelementptr inbounds %"struct.pbrt::MediumProperties", ptr %agg.result, i64 0, i32 3, i32 0, i32 0, i64 2
  %38 = extractvalue { <2 x float>, <2 x float> } %call27, 1
  store <2 x float> %38, ptr %37, align 8
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local noundef float @_ZNK7nanovdb16SampleFromVoxelsINS_4TreeINS_8RootNodeINS_12InternalNodeINS3_INS_8LeafNodeIfNS_5CoordENS_4MaskELj3EEELj4EEELj5EEEEEEELi1ELb0EEclIfTtTpTyENS_4Vec3EEEfT0_IJT_EE(ptr noundef nonnull align 8 dereferenceable(8) %this, <2 x float> %xyz.coerce0, float %xyz.coerce1) local_unnamed_addr #9 comdat align 2 {
entry:
  %coord = alloca %"class.nanovdb::Coord", align 8
  %xyz.sroa.0.0.vec.extract = extractelement <2 x float> %xyz.coerce0, i64 0
  %0 = tail call float @llvm.floor.f32(float %xyz.sroa.0.0.vec.extract)
  %xyz.sroa.0.4.vec.extract = extractelement <2 x float> %xyz.coerce0, i64 1
  %1 = tail call float @llvm.floor.f32(float %xyz.sroa.0.4.vec.extract)
  %2 = tail call float @llvm.floor.f32(float %xyz.coerce1)
  %sub.i = fsub float %xyz.sroa.0.0.vec.extract, %0
  %sub7.i = fsub float %xyz.sroa.0.4.vec.extract, %1
  %sub10.i = fsub float %xyz.coerce1, %2
  %conv.i = fptosi float %0 to i32
  %conv13.i = fptosi float %1 to i32
  %conv15.i = fptosi float %2 to i32
  %retval.sroa.2.0.insert.ext.i = zext i32 %conv13.i to i64
  %retval.sroa.2.0.insert.shift.i = shl nuw i64 %retval.sroa.2.0.insert.ext.i, 32
  %retval.sroa.0.0.insert.ext.i = zext i32 %conv.i to i64
  %retval.sroa.0.0.insert.insert.i = or disjoint i64 %retval.sroa.2.0.insert.shift.i, %retval.sroa.0.0.insert.ext.i
  store i64 %retval.sroa.0.0.insert.insert.i, ptr %coord, align 8
  %tmp.coerce.sroa.2.0.coerce.dive.sroa_idx = getelementptr inbounds i8, ptr %coord, i64 8
  store i32 %conv15.i, ptr %tmp.coerce.sroa.2.0.coerce.dive.sroa_idx, align 8
  %3 = load ptr, ptr %this, align 8
  %arrayidx.i.i.i = getelementptr inbounds [4 x i64], ptr %3, i64 0, i64 3
  %4 = load i64, ptr %arrayidx.i.i.i, align 8
  %add.ptr.i.i.i.i = getelementptr inbounds i8, ptr %3, i64 %4
  %call2.i = call noundef float @_ZNK7nanovdb8RootNodeINS_12InternalNodeINS1_INS_8LeafNodeIfNS_5CoordENS_4MaskELj3EEELj4EEELj5EEEE8getValueERKS3_(ptr noundef nonnull align 32 dereferenceable(48) %add.ptr.i.i.i.i, ptr noundef nonnull align 4 dereferenceable(12) %coord)
  %5 = load i32, ptr %tmp.coerce.sroa.2.0.coerce.dive.sroa_idx, align 8
  %add = add nsw i32 %5, 1
  store i32 %add, ptr %tmp.coerce.sroa.2.0.coerce.dive.sroa_idx, align 8
  %6 = load ptr, ptr %this, align 8
  %arrayidx.i.i.i9 = getelementptr inbounds [4 x i64], ptr %6, i64 0, i64 3
  %7 = load i64, ptr %arrayidx.i.i.i9, align 8
  %add.ptr.i.i.i.i10 = getelementptr inbounds i8, ptr %6, i64 %7
  %call2.i11 = call noundef float @_ZNK7nanovdb8RootNodeINS_12InternalNodeINS1_INS_8LeafNodeIfNS_5CoordENS_4MaskELj3EEELj4EEELj5EEEE8getValueERKS3_(ptr noundef nonnull align 32 dereferenceable(48) %add.ptr.i.i.i.i10, ptr noundef nonnull align 4 dereferenceable(12) %coord)
  %arrayidx.i14 = getelementptr inbounds [3 x i32], ptr %coord, i64 0, i64 1
  %8 = load i32, ptr %arrayidx.i14, align 4
  %add9 = add nsw i32 %8, 1
  store i32 %add9, ptr %arrayidx.i14, align 4
  %9 = load ptr, ptr %this, align 8
  %arrayidx.i.i.i15 = getelementptr inbounds [4 x i64], ptr %9, i64 0, i64 3
  %10 = load i64, ptr %arrayidx.i.i.i15, align 8
  %add.ptr.i.i.i.i16 = getelementptr inbounds i8, ptr %9, i64 %10
  %call2.i17 = call noundef float @_ZNK7nanovdb8RootNodeINS_12InternalNodeINS1_INS_8LeafNodeIfNS_5CoordENS_4MaskELj3EEELj4EEELj5EEEE8getValueERKS3_(ptr noundef nonnull align 32 dereferenceable(48) %add.ptr.i.i.i.i16, ptr noundef nonnull align 4 dereferenceable(12) %coord)
  %11 = load i32, ptr %tmp.coerce.sroa.2.0.coerce.dive.sroa_idx, align 8
  %sub = add nsw i32 %11, -1
  store i32 %sub, ptr %tmp.coerce.sroa.2.0.coerce.dive.sroa_idx, align 8
  %12 = load ptr, ptr %this, align 8
  %arrayidx.i.i.i19 = getelementptr inbounds [4 x i64], ptr %12, i64 0, i64 3
  %13 = load i64, ptr %arrayidx.i.i.i19, align 8
  %add.ptr.i.i.i.i20 = getelementptr inbounds i8, ptr %12, i64 %13
  %call2.i21 = call noundef float @_ZNK7nanovdb8RootNodeINS_12InternalNodeINS1_INS_8LeafNodeIfNS_5CoordENS_4MaskELj3EEELj4EEELj5EEEE8getValueERKS3_(ptr noundef nonnull align 32 dereferenceable(48) %add.ptr.i.i.i.i20, ptr noundef nonnull align 4 dereferenceable(12) %coord)
  %14 = load i32, ptr %coord, align 8
  %add20 = add nsw i32 %14, 1
  store i32 %add20, ptr %coord, align 8
  %15 = load ptr, ptr %this, align 8
  %arrayidx.i.i.i30 = getelementptr inbounds [4 x i64], ptr %15, i64 0, i64 3
  %16 = load i64, ptr %arrayidx.i.i.i30, align 8
  %add.ptr.i.i.i.i31 = getelementptr inbounds i8, ptr %15, i64 %16
  %call2.i32 = call noundef float @_ZNK7nanovdb8RootNodeINS_12InternalNodeINS1_INS_8LeafNodeIfNS_5CoordENS_4MaskELj3EEELj4EEELj5EEEE8getValueERKS3_(ptr noundef nonnull align 32 dereferenceable(48) %add.ptr.i.i.i.i31, ptr noundef nonnull align 4 dereferenceable(12) %coord)
  %17 = load i32, ptr %tmp.coerce.sroa.2.0.coerce.dive.sroa_idx, align 8
  %add24 = add nsw i32 %17, 1
  store i32 %add24, ptr %tmp.coerce.sroa.2.0.coerce.dive.sroa_idx, align 8
  %18 = load ptr, ptr %this, align 8
  %arrayidx.i.i.i34 = getelementptr inbounds [4 x i64], ptr %18, i64 0, i64 3
  %19 = load i64, ptr %arrayidx.i.i.i34, align 8
  %add.ptr.i.i.i.i35 = getelementptr inbounds i8, ptr %18, i64 %19
  %call2.i36 = call noundef float @_ZNK7nanovdb8RootNodeINS_12InternalNodeINS1_INS_8LeafNodeIfNS_5CoordENS_4MaskELj3EEELj4EEELj5EEEE8getValueERKS3_(ptr noundef nonnull align 32 dereferenceable(48) %add.ptr.i.i.i.i35, ptr noundef nonnull align 4 dereferenceable(12) %coord)
  %20 = load i32, ptr %arrayidx.i14, align 4
  %sub30 = add nsw i32 %20, -1
  store i32 %sub30, ptr %arrayidx.i14, align 4
  %21 = load ptr, ptr %this, align 8
  %arrayidx.i.i.i42 = getelementptr inbounds [4 x i64], ptr %21, i64 0, i64 3
  %22 = load i64, ptr %arrayidx.i.i.i42, align 8
  %add.ptr.i.i.i.i43 = getelementptr inbounds i8, ptr %21, i64 %22
  %call2.i44 = call noundef float @_ZNK7nanovdb8RootNodeINS_12InternalNodeINS1_INS_8LeafNodeIfNS_5CoordENS_4MaskELj3EEELj4EEELj5EEEE8getValueERKS3_(ptr noundef nonnull align 32 dereferenceable(48) %add.ptr.i.i.i.i43, ptr noundef nonnull align 4 dereferenceable(12) %coord)
  %23 = load i32, ptr %tmp.coerce.sroa.2.0.coerce.dive.sroa_idx, align 8
  %sub34 = add nsw i32 %23, -1
  store i32 %sub34, ptr %tmp.coerce.sroa.2.0.coerce.dive.sroa_idx, align 8
  %24 = load ptr, ptr %this, align 8
  %arrayidx.i.i.i46 = getelementptr inbounds [4 x i64], ptr %24, i64 0, i64 3
  %25 = load i64, ptr %arrayidx.i.i.i46, align 8
  %add.ptr.i.i.i.i47 = getelementptr inbounds i8, ptr %24, i64 %25
  %call2.i48 = call noundef float @_ZNK7nanovdb8RootNodeINS_12InternalNodeINS1_INS_8LeafNodeIfNS_5CoordENS_4MaskELj3EEELj4EEELj5EEEE8getValueERKS3_(ptr noundef nonnull align 32 dereferenceable(48) %add.ptr.i.i.i.i47, ptr noundef nonnull align 4 dereferenceable(12) %coord)
  %26 = insertelement <2 x float> poison, float %call2.i36, i64 0
  %27 = insertelement <2 x float> %26, float %call2.i17, i64 1
  %28 = insertelement <2 x float> poison, float %call2.i32, i64 0
  %29 = insertelement <2 x float> %28, float %call2.i21, i64 1
  %30 = fsub <2 x float> %27, %29
  %31 = insertelement <2 x float> poison, float %sub10.i, i64 0
  %32 = shufflevector <2 x float> %31, <2 x float> poison, <2 x i32> zeroinitializer
  %33 = fmul <2 x float> %32, %30
  %34 = fadd <2 x float> %29, %33
  %35 = insertelement <2 x float> poison, float %call2.i44, i64 0
  %36 = insertelement <2 x float> %35, float %call2.i11, i64 1
  %37 = insertelement <2 x float> poison, float %call2.i48, i64 0
  %38 = insertelement <2 x float> %37, float %call2.i, i64 1
  %39 = fsub <2 x float> %36, %38
  %40 = fmul <2 x float> %32, %39
  %41 = fadd <2 x float> %38, %40
  %42 = fsub <2 x float> %34, %41
  %43 = insertelement <2 x float> poison, float %sub7.i, i64 0
  %44 = shufflevector <2 x float> %43, <2 x float> poison, <2 x i32> zeroinitializer
  %45 = fmul <2 x float> %44, %42
  %46 = fadd <2 x float> %41, %45
  %47 = extractelement <2 x float> %46, i64 0
  %48 = extractelement <2 x float> %46, i64 1
  %sub.i57 = fsub float %47, %48
  %mul.i58 = fmul float %sub.i, %sub.i57
  %add.i59 = fadd float %48, %mul.i58
  ret float %add.i59
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local { <2 x float>, <2 x float> } @_ZNK4pbrt13NanoVDBMedium2LeENS_6Point3IfEERKNS_18SampledWavelengthsE(ptr noundef nonnull align 8 dereferenceable(404) %this, <2 x float> %p.coerce0, float %p.coerce1, ptr noundef nonnull align 4 dereferenceable(32) %lambda) local_unnamed_addr #9 comdat align 2 {
entry:
  %retval.i.i = alloca %"class.pbrt::SampledSpectrum", align 8
  %ref.tmp3 = alloca %"class.nanovdb::SampleFromVoxels", align 8
  %ref.tmp10 = alloca %"class.pbrt::BlackbodySpectrum", align 4
  %temperatureFloatGrid = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 10
  %0 = load ptr, ptr %temperatureFloatGrid, align 8
  %tobool.not = icmp eq ptr %0, null
  br i1 %tobool.not, label %return, label %if.end

if.end:                                           ; preds = %entry
  %p.sroa.0.0.vec.extract = extractelement <2 x float> %p.coerce0, i64 0
  %p.sroa.0.4.vec.extract = extractelement <2 x float> %p.coerce0, i64 1
  %mInvMatF.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %0, i64 0, i32 8, i32 1
  %mVecF.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %0, i64 0, i32 8, i32 2
  %1 = load float, ptr %mVecF.i.i.i, align 8
  %sub.i.i.i = fsub float %p.sroa.0.0.vec.extract, %1
  %arrayidx4.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %0, i64 0, i32 8, i32 2, i64 1
  %2 = load float, ptr %arrayidx4.i.i.i, align 4
  %sub5.i.i.i = fsub float %p.sroa.0.4.vec.extract, %2
  %arrayidx8.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %0, i64 0, i32 8, i32 2, i64 2
  %3 = load float, ptr %arrayidx8.i.i.i, align 8
  %sub9.i.i.i = fsub float %p.coerce1, %3
  %4 = load float, ptr %mInvMatF.i.i.i, align 4
  %arrayidx2.i.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %0, i64 0, i32 8, i32 1, i64 1
  %5 = load float, ptr %arrayidx2.i.i.i.i, align 4
  %arrayidx4.i.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %0, i64 0, i32 8, i32 1, i64 2
  %6 = load float, ptr %arrayidx4.i.i.i.i, align 4
  %mul.i.i.i.i = fmul float %sub9.i.i.i, %6
  %7 = tail call float @llvm.fma.f32(float %sub5.i.i.i, float %5, float %mul.i.i.i.i)
  %8 = tail call float @llvm.fma.f32(float %sub.i.i.i, float %4, float %7)
  %arrayidx6.i.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %0, i64 0, i32 8, i32 1, i64 3
  %9 = load float, ptr %arrayidx6.i.i.i.i, align 4
  %arrayidx8.i.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %0, i64 0, i32 8, i32 1, i64 4
  %10 = load float, ptr %arrayidx8.i.i.i.i, align 4
  %arrayidx10.i.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %0, i64 0, i32 8, i32 1, i64 5
  %11 = load float, ptr %arrayidx10.i.i.i.i, align 4
  %mul11.i.i.i.i = fmul float %sub9.i.i.i, %11
  %12 = tail call float @llvm.fma.f32(float %sub5.i.i.i, float %10, float %mul11.i.i.i.i)
  %13 = tail call float @llvm.fma.f32(float %sub.i.i.i, float %9, float %12)
  %arrayidx13.i.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %0, i64 0, i32 8, i32 1, i64 6
  %14 = load float, ptr %arrayidx13.i.i.i.i, align 4
  %arrayidx15.i.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %0, i64 0, i32 8, i32 1, i64 7
  %15 = load float, ptr %arrayidx15.i.i.i.i, align 4
  %arrayidx17.i.i.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %0, i64 0, i32 8, i32 1, i64 8
  %16 = load float, ptr %arrayidx17.i.i.i.i, align 4
  %mul18.i.i.i.i = fmul float %sub9.i.i.i, %16
  %17 = tail call float @llvm.fma.f32(float %sub5.i.i.i, float %15, float %mul18.i.i.i.i)
  %18 = tail call float @llvm.fma.f32(float %sub.i.i.i, float %14, float %17)
  %retval.sroa.0.0.vec.insert.i.i.i.i = insertelement <2 x float> poison, float %8, i64 0
  %retval.sroa.0.4.vec.insert.i.i.i.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i.i.i.i, float %13, i64 1
  %add.ptr.i.i = getelementptr inbounds %"struct.nanovdb::GridData", ptr %0, i64 1
  store ptr %add.ptr.i.i, ptr %ref.tmp3, align 8
  %call6 = call noundef float @_ZNK7nanovdb16SampleFromVoxelsINS_4TreeINS_8RootNodeINS_12InternalNodeINS3_INS_8LeafNodeIfNS_5CoordENS_4MaskELj3EEELj4EEELj5EEEEEEELi1ELb0EEclIfTtTpTyENS_4Vec3EEEfT0_IJT_EE(ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp3, <2 x float> %retval.sroa.0.4.vec.insert.i.i.i.i, float %18)
  %temperatureOffset = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 12
  %19 = load float, ptr %temperatureOffset, align 4
  %sub = fsub float %call6, %19
  %temperatureScale = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 13
  %20 = load float, ptr %temperatureScale, align 8
  %mul = fmul float %sub, %20
  %cmp = fcmp ugt float %mul, 1.000000e+02
  br i1 %cmp, label %if.end8, label %return

if.end8:                                          ; preds = %if.end
  %LeScale = getelementptr inbounds %"class.pbrt::NanoVDBMedium", ptr %this, i64 0, i32 11
  %21 = load float, ptr %LeScale, align 8
  store float %mul, ptr %ref.tmp10, align 4
  %cmp.i.i = fcmp ugt float %mul, 0.000000e+00
  br i1 %cmp.i.i, label %if.end.i.i, label %_ZN4pbrt17BlackbodySpectrumC2Ef.exit

if.end.i.i:                                       ; preds = %if.end8
  %div.i = fdiv float 0x3F67BD1180000000, %mul
  %mul.i = fmul float %div.i, 1.000000e+09
  %mul.i.i = fmul float %mul.i, 0x3E112E0BE0000000
  %mul.i.i.i.i9 = fmul float %mul.i.i, %mul.i.i
  %mul.i.i.i = fmul float %mul.i.i.i.i9, %mul.i.i.i.i9
  %mul2.i.i.i = fmul float %mul.i.i, %mul.i.i.i
  %mul1.i.i = fmul float %mul.i.i, 0x3B30B0E6A0000000
  %mul2.i.i = fmul float %mul, %mul1.i.i
  %div.i.i = fdiv float 0x3ACEBD1F40000000, %mul2.i.i
  %mul.i4.i.i = fmul float %div.i.i, 0x3FF7154760000000
  %22 = call noundef float @llvm.floor.f32(float %mul.i4.i.i)
  %sub.i.i.i10 = fsub float %mul.i4.i.i, %22
  %conv.i.i.i = fptosi float %22 to i32
  %23 = call noundef float @llvm.fma.f32(float %sub.i.i.i10, float 0x3FB4015920000000, float 0x3FCCF34160000000)
  %24 = call noundef float @llvm.fma.f32(float %sub.i.i.i10, float %23, float 0x3FE6420080000000)
  %25 = call noundef float @llvm.fma.f32(float %sub.i.i.i10, float %24, float 1.000000e+00)
  %26 = bitcast float %25 to i32
  %shr.i.i.i.i = lshr i32 %26, 23
  %sub.i.i.i.i = add i32 %conv.i.i.i, -127
  %add.i.i.i = add i32 %sub.i.i.i.i, %shr.i.i.i.i
  %cmp.i.i.i = icmp slt i32 %add.i.i.i, -126
  br i1 %cmp.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i.i, label %if.end.i.i.i

if.end.i.i.i:                                     ; preds = %if.end.i.i
  %cmp3.i.i.i = icmp sgt i32 %add.i.i.i, 127
  br i1 %cmp3.i.i.i, label %_ZN4pbrt7FastExpEf.exit.i.i, label %if.end5.i.i.i

if.end5.i.i.i:                                    ; preds = %if.end.i.i.i
  %and.i.i.i = and i32 %26, -2139095041
  %add7.i.i.i = shl nsw i32 %add.i.i.i, 23
  %shl.i.i.i = add i32 %add7.i.i.i, 1065353216
  %or.i.i.i = or i32 %shl.i.i.i, %and.i.i.i
  %27 = bitcast i32 %or.i.i.i to float
  %28 = fadd float %27, -1.000000e+00
  br label %_ZN4pbrt7FastExpEf.exit.i.i

_ZN4pbrt7FastExpEf.exit.i.i:                      ; preds = %if.end5.i.i.i, %if.end.i.i.i, %if.end.i.i
  %retval.0.i.i.i = phi float [ %28, %if.end5.i.i.i ], [ -1.000000e+00, %if.end.i.i ], [ 0x7FF0000000000000, %if.end.i.i.i ]
  %mul4.i.i = fmul float %mul2.i.i.i, %retval.0.i.i.i
  %div5.i.i = fdiv float 0x3CA12A2C20000000, %mul4.i.i
  %29 = fcmp uno float %div5.i.i, 0.000000e+00
  br i1 %29, label %land.rhs.i.i, label %_ZN4pbrt17BlackbodySpectrumC2Ef.exit

land.rhs.i.i:                                     ; preds = %_ZN4pbrt7FastExpEf.exit.i.i
  call void @_ZN4pbrt8LogFatalIJRA11_KcEEEvNS_8LogLevelEPS1_iS5_DpOT_(i32 noundef 2, ptr noundef nonnull @.str.28, i32 noundef 78, ptr noundef nonnull @.str.18, ptr noundef nonnull align 1 dereferenceable(11) @.str.29) #24
  unreachable

_ZN4pbrt17BlackbodySpectrumC2Ef.exit:             ; preds = %if.end8, %_ZN4pbrt7FastExpEf.exit.i.i
  %retval.0.i.i = phi float [ 0.000000e+00, %if.end8 ], [ %div5.i.i, %_ZN4pbrt7FastExpEf.exit.i.i ]
  %div3.i = fdiv float 1.000000e+00, %retval.0.i.i
  %normalizationFactor.i = getelementptr inbounds %"class.pbrt::BlackbodySpectrum", ptr %ref.tmp10, i64 0, i32 1
  store float %div3.i, ptr %normalizationFactor.i, align 4
  %call11 = call { <2 x float>, <2 x float> } @_ZNK4pbrt17BlackbodySpectrum6SampleERKNS_18SampledWavelengthsE(ptr noundef nonnull align 4 dereferenceable(8) %ref.tmp10, ptr noundef nonnull align 4 dereferenceable(32) %lambda)
  %30 = extractvalue { <2 x float>, <2 x float> } %call11, 0
  %31 = extractvalue { <2 x float>, <2 x float> } %call11, 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %retval.i.i)
  store <2 x float> %30, ptr %retval.i.i, align 8
  %ref.tmp9.sroa.2.0.retval.i.i.sroa_idx = getelementptr inbounds i8, ptr %retval.i.i, i64 8
  store <2 x float> %31, ptr %ref.tmp9.sroa.2.0.retval.i.i.sroa_idx, align 8
  br label %for.body.i.i11

for.body.i.i11:                                   ; preds = %for.body.i.i11, %_ZN4pbrt17BlackbodySpectrumC2Ef.exit
  %indvars.iv.i.i12 = phi i64 [ 0, %_ZN4pbrt17BlackbodySpectrumC2Ef.exit ], [ %indvars.iv.next.i.i14, %for.body.i.i11 ]
  %arrayidx.i.i.i = getelementptr inbounds [4 x float], ptr %retval.i.i, i64 0, i64 %indvars.iv.i.i12
  %32 = load float, ptr %arrayidx.i.i.i, align 4
  %mul.i.i13 = fmul float %21, %32
  store float %mul.i.i13, ptr %arrayidx.i.i.i, align 4
  %indvars.iv.next.i.i14 = add nuw nsw i64 %indvars.iv.i.i12, 1
  %exitcond.not.i.i15 = icmp eq i64 %indvars.iv.next.i.i14, 4
  br i1 %exitcond.not.i.i15, label %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit, label %for.body.i.i11, !llvm.loop !110

_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit:         ; preds = %for.body.i.i11
  %.fca.0.load.i.i = load <2 x float>, ptr %retval.i.i, align 8
  %.fca.1.load.i.i = load <2 x float>, ptr %ref.tmp9.sroa.2.0.retval.i.i.sroa_idx, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %retval.i.i)
  br label %return

return:                                           ; preds = %if.end, %entry, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit
  %retval.sroa.6.0 = phi <2 x float> [ %.fca.1.load.i.i, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit ], [ zeroinitializer, %entry ], [ zeroinitializer, %if.end ]
  %retval.sroa.0.0 = phi <2 x float> [ %.fca.0.load.i.i, %_ZN4pbrtmlEfRKNS_15SampledSpectrumE.exit ], [ zeroinitializer, %entry ], [ zeroinitializer, %if.end ]
  %.fca.0.insert = insertvalue { <2 x float>, <2 x float> } poison, <2 x float> %retval.sroa.0.0, 0
  %.fca.1.insert = insertvalue { <2 x float>, <2 x float> } %.fca.0.insert, <2 x float> %retval.sroa.6.0, 1
  ret { <2 x float>, <2 x float> } %.fca.1.insert
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local noundef float @_ZNK7nanovdb8RootNodeINS_12InternalNodeINS1_INS_8LeafNodeIfNS_5CoordENS_4MaskELj3EEELj4EEELj5EEEE8getValueERKS3_(ptr noundef nonnull align 32 dereferenceable(48) %this, ptr noundef nonnull align 4 dereferenceable(12) %ijk) local_unnamed_addr #1 comdat align 2 {
entry:
  %add.ptr.i = getelementptr inbounds %"class.nanovdb::RootNode", ptr %this, i64 1
  %arrayidx.i.i.i = getelementptr inbounds [3 x i32], ptr %ijk, i64 0, i64 2
  %0 = load i32, ptr %arrayidx.i.i.i, align 4
  %shr.i.i = lshr i32 %0, 12
  %conv.i.i = zext nneg i32 %shr.i.i to i64
  %arrayidx.i3.i.i = getelementptr inbounds [3 x i32], ptr %ijk, i64 0, i64 1
  %1 = load i32, ptr %arrayidx.i3.i.i, align 4
  %shr2.i.i = lshr i32 %1, 12
  %conv3.i.i = zext nneg i32 %shr2.i.i to i64
  %shl.i.i = shl nuw nsw i64 %conv3.i.i, 21
  %or.i.i = or disjoint i64 %shl.i.i, %conv.i.i
  %2 = load i32, ptr %ijk, align 4
  %shr5.i.i = lshr i32 %2, 12
  %conv6.i.i = zext nneg i32 %shr5.i.i to i64
  %shl7.i.i = shl nuw nsw i64 %conv6.i.i, 42
  %or8.i.i = or disjoint i64 %or.i.i, %shl7.i.i
  %mTableSize.i = getelementptr inbounds %"struct.nanovdb::RootData", ptr %this, i64 0, i32 1
  %3 = load i32, ptr %mTableSize.i, align 8
  %cmp5.not.i = icmp eq i32 %3, 0
  br i1 %cmp5.not.i, label %if.end, label %for.body.preheader.i

for.body.preheader.i:                             ; preds = %entry
  %wide.trip.count.i = zext i32 %3 to i64
  br label %for.body.i

for.cond.i:                                       ; preds = %for.body.i
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  %exitcond.not.i = icmp eq i64 %indvars.iv.next.i, %wide.trip.count.i
  br i1 %exitcond.not.i, label %if.end, label %for.body.i, !llvm.loop !162

for.body.i:                                       ; preds = %for.cond.i, %for.body.preheader.i
  %indvars.iv.i = phi i64 [ 0, %for.body.preheader.i ], [ %indvars.iv.next.i, %for.cond.i ]
  %arrayidx.i = getelementptr inbounds %"struct.nanovdb::RootData<nanovdb::InternalNode<nanovdb::InternalNode<nanovdb::LeafNode<float>, 4>, 5>>::Tile", ptr %add.ptr.i, i64 %indvars.iv.i
  %4 = load i64, ptr %arrayidx.i, align 32
  %cmp3.i = icmp eq i64 %4, %or8.i.i
  br i1 %cmp3.i, label %if.then, label %for.cond.i

if.then:                                          ; preds = %for.body.i
  %child.i = getelementptr inbounds %"struct.nanovdb::RootData<nanovdb::InternalNode<nanovdb::InternalNode<nanovdb::LeafNode<float>, 4>, 5>>::Tile", ptr %add.ptr.i, i64 %indvars.iv.i, i32 1
  %5 = load i64, ptr %child.i, align 8
  %tobool.i.not = icmp eq i64 %5, 0
  br i1 %tobool.i.not, label %cond.false, label %cond.true

cond.true:                                        ; preds = %if.then
  %add.ptr.i.i = getelementptr inbounds i8, ptr %this, i64 %5
  %6 = shl i32 %2, 3
  %shl.i.i6 = and i32 %6, 31744
  %7 = lshr i32 %1, 2
  %shl4.i.i = and i32 %7, 992
  %or.i.i8 = or disjoint i32 %shl.i.i6, %shl4.i.i
  %and6.i.i = lshr i32 %0, 7
  %shr7.i.i = and i32 %and6.i.i, 31
  %or8.i.i10 = or disjoint i32 %or.i.i8, %shr7.i.i
  %mChildMask.i = getelementptr inbounds %"struct.nanovdb::InternalData", ptr %add.ptr.i.i, i64 0, i32 3
  %shr.i.i11 = lshr i32 %or.i.i8, 6
  %idxprom.i.i = zext nneg i32 %shr.i.i11 to i64
  %arrayidx.i.i = getelementptr inbounds [512 x i64], ptr %mChildMask.i, i64 0, i64 %idxprom.i.i
  %8 = load i64, ptr %arrayidx.i.i, align 8
  %and.i.i = and i32 %or8.i.i10, 63
  %sh_prom.i.i = zext nneg i32 %and.i.i to i64
  %shl.i4.i = shl nuw i64 1, %sh_prom.i.i
  %and2.i.i = and i64 %8, %shl.i4.i
  %cmp.i.not.i = icmp eq i64 %and2.i.i, 0
  %idxprom.i = zext nneg i32 %or8.i.i10 to i64
  %arrayidx.i12 = getelementptr inbounds %"struct.nanovdb::InternalData", ptr %add.ptr.i.i, i64 0, i32 9, i64 %idxprom.i
  br i1 %cmp.i.not.i, label %return, label %cond.true.i

cond.true.i:                                      ; preds = %cond.true
  %9 = load i64, ptr %arrayidx.i12, align 8
  %add.ptr.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i.i, i64 %9
  %10 = shl i32 %2, 5
  %shl.i.i.i = and i32 %10, 3840
  %11 = shl i32 %1, 1
  %shl4.i.i.i = and i32 %11, 240
  %or.i.i.i = or disjoint i32 %shl.i.i.i, %shl4.i.i.i
  %and6.i.i.i = lshr i32 %0, 3
  %shr7.i.i.i = and i32 %and6.i.i.i, 15
  %or8.i.i.i = or disjoint i32 %or.i.i.i, %shr7.i.i.i
  %mChildMask.i.i = getelementptr inbounds %"struct.nanovdb::InternalData.256", ptr %add.ptr.i.i.i, i64 0, i32 3
  %shr.i.i.i = lshr i32 %or.i.i.i, 6
  %idxprom.i.i.i = zext nneg i32 %shr.i.i.i to i64
  %arrayidx.i.i7.i = getelementptr inbounds [64 x i64], ptr %mChildMask.i.i, i64 0, i64 %idxprom.i.i.i
  %12 = load i64, ptr %arrayidx.i.i7.i, align 8
  %and.i.i.i = and i32 %or8.i.i.i, 63
  %sh_prom.i.i.i = zext nneg i32 %and.i.i.i to i64
  %shl.i4.i.i = shl nuw i64 1, %sh_prom.i.i.i
  %and2.i.i.i = and i64 %12, %shl.i4.i.i
  %cmp.i.not.i.i = icmp eq i64 %and2.i.i.i, 0
  %idxprom.i8.i = zext nneg i32 %or8.i.i.i to i64
  %arrayidx.i9.i = getelementptr inbounds %"struct.nanovdb::InternalData.256", ptr %add.ptr.i.i.i, i64 0, i32 9, i64 %idxprom.i8.i
  br i1 %cmp.i.not.i.i, label %return, label %cond.true.i.i

cond.true.i.i:                                    ; preds = %cond.true.i
  %13 = load i64, ptr %arrayidx.i9.i, align 8
  %add.ptr.i.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i.i.i, i64 %13
  %and.i.i.i.i = shl i32 %2, 6
  %shl.i.i.i.i = and i32 %and.i.i.i.i, 448
  %and2.i.i.i.i = shl i32 %1, 3
  %shl3.i.i.i.i = and i32 %and2.i.i.i.i, 56
  %and5.i.i.i.i = and i32 %0, 7
  %or.i.i.i.i = or disjoint i32 %shl3.i.i.i.i, %and5.i.i.i.i
  %or6.i.i.i.i = or disjoint i32 %or.i.i.i.i, %shl.i.i.i.i
  %idxprom.i.i.i.i = zext nneg i32 %or6.i.i.i.i to i64
  %arrayidx.i.i7.i.i = getelementptr inbounds %"struct.nanovdb::LeafData", ptr %add.ptr.i.i.i.i, i64 0, i32 8, i64 %idxprom.i.i.i.i
  br label %return

cond.false:                                       ; preds = %if.then
  %value = getelementptr inbounds %"struct.nanovdb::RootData<nanovdb::InternalNode<nanovdb::InternalNode<nanovdb::LeafNode<float>, 4>, 5>>::Tile", ptr %add.ptr.i, i64 %indvars.iv.i, i32 3
  br label %return

if.end:                                           ; preds = %for.cond.i, %entry
  %mBackground = getelementptr inbounds %"struct.nanovdb::RootData", ptr %this, i64 0, i32 2
  br label %return

return:                                           ; preds = %cond.true.i.i, %cond.true.i, %cond.true, %cond.false, %if.end
  %retval.0.in = phi ptr [ %mBackground, %if.end ], [ %value, %cond.false ], [ %arrayidx.i.i7.i.i, %cond.true.i.i ], [ %arrayidx.i9.i, %cond.true.i ], [ %arrayidx.i12, %cond.true ]
  %retval.0 = load float, ptr %retval.0.in, align 4
  ret float %retval.0
}

; Function Attrs: mustprogress uwtable
define internal void @"_ZNSt17_Function_handlerIFvlEZNK4pbrt12CPUAggregate18IntersectOneRandomEiPNS1_22SubsurfaceScatterQueueEE3$_0E9_M_invokeERKSt9_Any_dataOl"(ptr nocapture noundef nonnull readonly align 8 dereferenceable(16) %__functor, ptr nocapture noundef nonnull readonly align 8 dereferenceable(8) %__args) #9 align 2 personality ptr @__gxx_personality_v0 {
entry:
  %buf.i.i.i.i = alloca [3 x i64], align 16
  %ref.tmp.i.i.i = alloca %"struct.pbrt::SubsurfaceScatterWorkItem", align 8
  %ref.tmp2.i.i.i = alloca %"struct.pbrt::SOA<pbrt::SubsurfaceScatterWorkItem>::GetSetIndirector", align 8
  %base.i.i.i = alloca %"class.pbrt::Interaction", align 16
  %r.i.i.i = alloca %"class.pbrt::Ray", align 8
  %si.i.i.i = alloca %"class.pstd::optional", align 8
  %__args.val = load i64, ptr %__args, align 8
  %conv.i.i = trunc i64 %__args.val to i32
  call void @llvm.lifetime.start.p0(i64 312, ptr nonnull %ref.tmp.i.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %ref.tmp2.i.i.i)
  call void @llvm.lifetime.start.p0(i64 80, ptr nonnull %base.i.i.i)
  call void @llvm.lifetime.start.p0(i64 40, ptr nonnull %r.i.i.i)
  call void @llvm.lifetime.start.p0(i64 264, ptr nonnull %si.i.i.i)
  %0 = getelementptr inbounds %class.anon.118, ptr %__functor, i64 0, i32 1
  %1 = load ptr, ptr %0, align 8
  %2 = load ptr, ptr %__functor, align 8
  store ptr %2, ptr %ref.tmp2.i.i.i, align 8
  %3 = getelementptr inbounds { ptr, i32 }, ptr %ref.tmp2.i.i.i, i64 0, i32 1
  store i32 %conv.i.i, ptr %3, align 8
  call void @_ZNK4pbrt3SOAINS_25SubsurfaceScatterWorkItemEE16GetSetIndirectorcvS1_Ev(ptr nonnull sret(%"struct.pbrt::SubsurfaceScatterWorkItem") align 8 %ref.tmp.i.i.i, ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp2.i.i.i)
  %agg.tmp.sroa.0.0.copyload.i.i.i = load <2 x float>, ptr %ref.tmp.i.i.i, align 8
  %agg.tmp.sroa.2.0.p0.sroa_idx.i.i.i = getelementptr inbounds i8, ptr %ref.tmp.i.i.i, i64 8
  %agg.tmp.sroa.2.0.copyload.i.i.i = load float, ptr %agg.tmp.sroa.2.0.p0.sroa_idx.i.i.i, align 8
  %p1.i.i.i = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %ref.tmp.i.i.i, i64 0, i32 1
  %agg.tmp3.sroa.0.0.copyload.i.i.i = load <2 x float>, ptr %p1.i.i.i, align 4
  %agg.tmp3.sroa.2.0.p1.sroa_idx.i.i.i = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %ref.tmp.i.i.i, i64 0, i32 1, i32 0, i32 2
  %agg.tmp3.sroa.2.0.copyload.i.i.i = load float, ptr %agg.tmp3.sroa.2.0.p1.sroa_idx.i.i.i, align 4
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %buf.i.i.i.i)
  store <2 x float> %agg.tmp.sroa.0.0.copyload.i.i.i, ptr %buf.i.i.i.i, align 16
  %v.sroa.2.0.buf.addr.0..sroa_idx.i.i.i.i.i = getelementptr inbounds i8, ptr %buf.i.i.i.i, i64 8
  store float %agg.tmp.sroa.2.0.copyload.i.i.i, ptr %v.sroa.2.0.buf.addr.0..sroa_idx.i.i.i.i.i, align 8
  %add.ptr.i.i.i.i.i = getelementptr inbounds i8, ptr %buf.i.i.i.i, i64 12
  store <2 x float> %agg.tmp3.sroa.0.0.copyload.i.i.i, ptr %add.ptr.i.i.i.i.i, align 4
  %v.sroa.2.0.buf.addr.0..sroa_idx.i.i.i.i.i.i = getelementptr inbounds i8, ptr %buf.i.i.i.i, i64 20
  store float %agg.tmp3.sroa.2.0.copyload.i.i.i, ptr %v.sroa.2.0.buf.addr.0..sroa_idx.i.i.i.i.i.i, align 4
  br label %while.body.i.i.i.i.i

while.body.i.i.i.i.i:                             ; preds = %while.body.i.i.i.i.i, %entry
  %key.addr.035.i.idx.i.i.i.i = phi i64 [ %key.addr.035.i.add.i.i.i.i, %while.body.i.i.i.i.i ], [ 0, %entry ]
  %h.034.i.i.i.i.i = phi i64 [ %mul7.i.i.i.i.i, %while.body.i.i.i.i.i ], [ -6958142991694436872, %entry ]
  %key.addr.035.i.ptr.i.i.i.i = getelementptr inbounds i8, ptr %buf.i.i.i.i, i64 %key.addr.035.i.idx.i.i.i.i
  %k.0.copyload.i.i.i.i.i = load i64, ptr %key.addr.035.i.ptr.i.i.i.i, align 8
  %key.addr.035.i.add.i.i.i.i = add nuw nsw i64 %key.addr.035.i.idx.i.i.i.i, 8
  %mul3.i.i.i.i.i = mul i64 %k.0.copyload.i.i.i.i.i, -4132994306676758123
  %shr.i.i.i.i.i = lshr i64 %mul3.i.i.i.i.i, 47
  %xor4.i.i.i.i.i = xor i64 %shr.i.i.i.i.i, %mul3.i.i.i.i.i
  %mul5.i.i.i.i.i = mul i64 %xor4.i.i.i.i.i, -4132994306676758123
  %xor6.i.i.i.i.i = xor i64 %mul5.i.i.i.i.i, %h.034.i.i.i.i.i
  %mul7.i.i.i.i.i = mul i64 %xor6.i.i.i.i.i, -4132994306676758123
  %cmp.not.i.i.i.i.i = icmp eq i64 %key.addr.035.i.add.i.i.i.i, 24
  br i1 %cmp.not.i.i.i.i.i, label %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i, label %while.body.i.i.i.i.i, !llvm.loop !25

_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i: ; preds = %while.body.i.i.i.i.i
  %shr39.i.i.i.i.i = lshr i64 %mul7.i.i.i.i.i, 47
  %xor40.i.i.i.i.i = xor i64 %shr39.i.i.i.i.i, %mul7.i.i.i.i.i
  %mul41.i.i.i.i.i = mul i64 %xor40.i.i.i.i.i, -4132994306676758123
  %shr42.i.i.i.i.i = lshr i64 %mul41.i.i.i.i.i, 47
  %xor43.i.i.i.i.i = xor i64 %shr42.i.i.i.i.i, %mul41.i.i.i.i.i
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %buf.i.i.i.i)
  %shr.i.i.i.i.i.i.i = lshr i64 %mul41.i.i.i.i.i, 31
  %xor.i.i.i.i.i.i.i = xor i64 %xor43.i.i.i.i.i, %shr.i.i.i.i.i.i.i
  %mul.i.i.i.i.i.i.i = mul i64 %xor.i.i.i.i.i.i.i, 9202493588570546565
  %shr1.i.i.i.i.i.i.i = lshr i64 %mul.i.i.i.i.i.i.i, 27
  %xor2.i.i.i.i.i.i.i = xor i64 %shr1.i.i.i.i.i.i.i, %mul.i.i.i.i.i.i.i
  %mul3.i.i.i.i.i.i.i = mul i64 %xor2.i.i.i.i.i.i.i, -9089707755183418291
  %shr4.i.i.i.i.i.i.i = lshr i64 %mul3.i.i.i.i.i.i.i, 33
  %xor5.i.i.i.i.i.i.i = xor i64 %shr4.i.i.i.i.i.i.i, %mul3.i.i.i.i.i.i.i
  %shl.i.i.i.i.i.i.i = shl i64 %xor43.i.i.i.i.i, 1
  %or.i.i.i.i.i.i.i = or disjoint i64 %shl.i.i.i.i.i.i.i, 1
  %add.i.i.i.i.i.i.i = add i64 %xor5.i.i.i.i.i.i.i, %or.i.i.i.i.i.i.i
  %mul.i1.i.i.i.i.i.i.i = mul i64 %add.i.i.i.i.i.i.i, 6364136223846793005
  %add.i3.i.i.i.i.i.i.i = add i64 %mul.i1.i.i.i.i.i.i.i, %or.i.i.i.i.i.i.i
  %agg.tmp.sroa.0.4.vec.insert.i.i.i.i.i = shufflevector <2 x float> %agg.tmp.sroa.0.0.copyload.i.i.i, <2 x float> poison, <2 x i32> zeroinitializer
  %agg.tmp2.sroa.0.4.vec.insert.i.i.i.i.i = shufflevector <2 x float> %agg.tmp.sroa.0.0.copyload.i.i.i, <2 x float> poison, <2 x i32> <i32 1, i32 1>
  %agg.tmp3.sroa.0.0.vec.insert.i.i.i.i.i = insertelement <2 x float> poison, float %agg.tmp.sroa.2.0.copyload.i.i.i, i64 0
  %agg.tmp3.sroa.0.4.vec.insert.i.i.i.i.i = shufflevector <2 x float> %agg.tmp3.sroa.0.0.vec.insert.i.i.i.i.i, <2 x float> poison, <2 x i32> zeroinitializer
  store <2 x float> %agg.tmp.sroa.0.4.vec.insert.i.i.i.i.i, ptr %base.i.i.i, align 16
  %y3.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %base.i.i.i, i64 0, i32 1
  store <2 x float> %agg.tmp2.sroa.0.4.vec.insert.i.i.i.i.i, ptr %y3.i.i.i.i.i.i.i, align 8
  %z4.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Tuple3.127", ptr %base.i.i.i, i64 0, i32 2
  store <2 x float> %agg.tmp3.sroa.0.4.vec.insert.i.i.i.i.i, ptr %z4.i.i.i.i.i.i.i, align 16
  %time2.i.i.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %base.i.i.i, i64 0, i32 1
  %mediumInterface.i.i.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %base.i.i.i, i64 0, i32 5
  %medium3.i.i.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %base.i.i.i, i64 0, i32 6
  %aggregate.i.i.i = getelementptr inbounds %"class.pbrt::CPUAggregate", ptr %1, i64 0, i32 1
  %agg.tmp1.i.sroa.4.0.base.sroa_idx.i.i.i = getelementptr inbounds i8, ptr %base.i.i.i, i64 4
  %agg.tmp1.i.sroa.6.0.base.sroa_idx.i.i.i = getelementptr inbounds i8, ptr %base.i.i.i, i64 12
  %agg.tmp1.i.sroa.8.0.base.sroa_idx.i.i.i = getelementptr inbounds i8, ptr %base.i.i.i, i64 20
  %n.i.i.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %base.i.i.i, i64 0, i32 3
  %agg.tmp2.sroa.2.0.n.sroa_idx.i.i.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %base.i.i.i, i64 0, i32 3, i32 0, i32 2
  %o.sroa.2.0.o3.sroa_idx.i.i.i.i.i.i.i = getelementptr inbounds i8, ptr %r.i.i.i, i64 8
  %d4.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Ray", ptr %r.i.i.i, i64 0, i32 1
  %d.sroa.2.0.d4.sroa_idx.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Ray", ptr %r.i.i.i, i64 0, i32 1, i32 0, i32 2
  %time5.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Ray", ptr %r.i.i.i, i64 0, i32 2
  %medium6.i.i.i.i.i.i.i = getelementptr inbounds %"class.pbrt::Ray", ptr %r.i.i.i, i64 0, i32 3
  %set.i.i.i.i = getelementptr inbounds %"class.pstd::optional", ptr %si.i.i.i, i64 0, i32 1
  %medium3.i11.i.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %si.i.i.i, i64 0, i32 6
  %material.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 7
  %material21.i.i.i = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %ref.tmp.i.i.i, i64 0, i32 3
  %ref.tmp25.sroa.30.84.dpdv10.i.sroa_idx.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 5, i32 2, i32 0, i32 2
  %dpdv10.i.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 5, i32 2
  %ref.tmp25.sroa.29.84.dpdv10.i.sroa_idx.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 5, i32 2, i32 0, i32 1
  %ref.tmp25.sroa.26.72.dpdu8.i.sroa_idx.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 5, i32 1, i32 0, i32 2
  %dpdu8.i.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 5, i32 1
  %ref.tmp25.sroa.25.72.dpdu8.i.sroa_idx.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 5, i32 1, i32 0, i32 1
  %ref.tmp25.sroa.22.60.dpdv6.i.sroa_idx.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 2, i32 0, i32 2
  %dpdv6.i.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 2
  %ref.tmp25.sroa.21.60.dpdv6.i.sroa_idx.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 2, i32 0, i32 1
  %ref.tmp25.sroa.18.48.dpdu5.i.sroa_idx.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 1, i32 0, i32 2
  %dpdu5.i.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 1
  %ref.tmp25.sroa.17.48.dpdu5.i.sroa_idx.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 1, i32 0, i32 1
  %ref.tmp25.sroa.14.36.shading.i.sroa_idx.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 5, i32 0, i32 0, i32 2
  %shading.i.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 5
  %ref.tmp25.sroa.13.36.shading.i.sroa_idx.i.i.i = getelementptr inbounds %"class.pbrt::SurfaceInteraction", ptr %si.i.i.i, i64 0, i32 5, i32 0, i32 0, i32 1
  %ref.tmp25.sroa.10.24.n3.i.sroa_idx.i.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %si.i.i.i, i64 0, i32 3, i32 0, i32 2
  %n3.i.i.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %si.i.i.i, i64 0, i32 3
  %ref.tmp25.sroa.9.24.n3.i.sroa_idx.i.i.i = getelementptr inbounds %"class.pbrt::Interaction", ptr %si.i.i.i, i64 0, i32 3, i32 0, i32 1
  %ref.tmp25.sroa.6.0.si.sroa_idx.i.i.i = getelementptr inbounds i8, ptr %si.i.i.i, i64 20
  %ref.tmp25.sroa.5.0.si.sroa_idx.i.i.i = getelementptr inbounds i8, ptr %si.i.i.i, i64 16
  %ref.tmp25.sroa.4.0.si.sroa_idx.i.i.i = getelementptr inbounds i8, ptr %si.i.i.i, i64 12
  %ref.tmp25.sroa.3.0.si.sroa_idx.i.i.i = getelementptr inbounds i8, ptr %si.i.i.i, i64 8
  %ref.tmp25.sroa.2.0.si.sroa_idx.i.i.i = getelementptr inbounds i8, ptr %si.i.i.i, i64 4
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(36) %time2.i.i.i.i, i8 0, i64 36, i1 false)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 16 dereferenceable(16) %mediumInterface.i.i.i.i, i8 0, i64 16, i1 false)
  br label %while.body.i.i.i

while.body.i.i.i:                                 ; preds = %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i
  %4 = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %.pre.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %agg.tmp2.sroa.2.0.copyload.i.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %agg.tmp2.sroa.2.0.copyload.i.pre.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %agg.tmp2.sroa.0.0.copyload.i.i.i.i = phi <2 x float> [ zeroinitializer, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %agg.tmp2.sroa.0.0.copyload.i.pre.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %agg.tmp1.i.sroa.8.0.copyload.i.i.i = phi float [ %agg.tmp.sroa.2.0.copyload.i.i.i, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %agg.tmp1.i.sroa.8.0.copyload.pre.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %agg.tmp1.i.sroa.7.0.copyload.i.i.i = phi float [ %agg.tmp.sroa.2.0.copyload.i.i.i, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %agg.tmp1.i.sroa.7.0.copyload.pre.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %agg.tmp8.sroa.2.0.copyload.i.i.i = phi float [ %agg.tmp3.sroa.2.0.copyload.i.i.i, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %agg.tmp8.sroa.2.0.copyload.pre.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %agg.tmp8.sroa.0.0.copyload.i.i.i = phi <2 x float> [ %agg.tmp3.sroa.0.0.copyload.i.i.i, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %agg.tmp8.sroa.0.0.copyload.pre.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.16.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.16.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.17.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.17.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.18.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.18.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.19.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.19.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.20.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.20.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.21.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.21.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.22.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.22.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.23.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.23.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.24.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.24.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.25.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.25.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.26.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.26.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.27.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.27.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.28.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.28.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.29.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.29.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.30.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.30.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.31.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.31.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.32.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.32.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.33.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.33.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.34.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.34.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.35.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.35.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.36.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.36.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.15.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.15.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.0.0.i.i.i = phi i64 [ %add.i3.i.i.i.i.i.i.i, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.0.1.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.14.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.14.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.12.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.12.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.10.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.10.2.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %wrs.sroa.5.0.i.i.i = phi float [ 0.000000e+00, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %wrs.sroa.5.1.ph.i.i.i, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %5 = phi <2 x float> [ %agg.tmp.sroa.0.0.copyload.i.i.i, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %28, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  %6 = phi <2 x float> [ %agg.tmp.sroa.0.0.copyload.i.i.i, %_ZN4pbrt4HashIJNS_6Point3IfEES2_EEEmDpT_.exit.i.i.i ], [ %29, %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i ]
  call void @llvm.experimental.noalias.scope.decl(metadata !163)
  %7 = fadd <2 x float> %5, %6
  %add.i.i5.i.i.i.i.i.i = fadd float %agg.tmp1.i.sroa.8.0.copyload.i.i.i, %agg.tmp1.i.sroa.7.0.copyload.i.i.i
  %div.i.i6.i.i.i.i.i.i = fmul float %add.i.i5.i.i.i.i.i.i, 5.000000e-01
  %8 = fmul <2 x float> %7, <float 5.000000e-01, float 5.000000e-01>
  %9 = fsub <2 x float> %agg.tmp8.sroa.0.0.copyload.i.i.i, %8
  %sub6.i.i.i.i.i.i = fsub float %agg.tmp8.sroa.2.0.copyload.i.i.i, %div.i.i6.i.i.i.i.i.i
  %call.i.i.i.i.i.i = call { <2 x float>, float } @_ZN4pbrt15OffsetRayOriginENS_8Point3fiENS_7Normal3IfEENS_7Vector3IfEE(ptr noundef nonnull byval(%"class.pbrt::Point3fi") align 8 %base.i.i.i, <2 x float> %agg.tmp2.sroa.0.0.copyload.i.i.i.i, float %agg.tmp2.sroa.2.0.copyload.i.i.i.i, <2 x float> %9, float %sub6.i.i.i.i.i.i), !noalias !163
  %call.fca.0.extract.i.i.i.i.i.i = extractvalue { <2 x float>, float } %call.i.i.i.i.i.i, 0
  %call.fca.1.extract.i.i.i.i.i.i = extractvalue { <2 x float>, float } %call.i.i.i.i.i.i, 1
  store <2 x float> %call.fca.0.extract.i.i.i.i.i.i, ptr %r.i.i.i, align 8, !alias.scope !166
  store float %call.fca.1.extract.i.i.i.i.i.i, ptr %o.sroa.2.0.o3.sroa_idx.i.i.i.i.i.i.i, align 8, !alias.scope !166
  store <2 x float> %9, ptr %d4.i.i.i.i.i.i.i, align 4, !alias.scope !166
  store float %sub6.i.i.i.i.i.i, ptr %d.sroa.2.0.d4.sroa_idx.i.i.i.i.i.i.i, align 4, !alias.scope !166
  store float %4, ptr %time5.i.i.i.i.i.i.i, align 8, !alias.scope !166
  %10 = load ptr, ptr %mediumInterface.i.i.i.i, align 16, !noalias !171
  %tobool.not.i.i.i.i.i = icmp eq ptr %10, null
  br i1 %tobool.not.i.i.i.i.i, label %_ZNK4pbrt11Interaction10SpawnRayToENS_6Point3IfEE.exit.i.i.i, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %while.body.i.i.i
  %agg.tmp2.sroa.0.0.copyload.i.i.i.i.i = load <2 x float>, ptr %n.i.i.i.i, align 8, !noalias !171
  %agg.tmp2.sroa.2.0.copyload.i.i.i.i.i = load float, ptr %agg.tmp2.sroa.2.0.n.sroa_idx.i.i.i.i, align 16, !noalias !171
  %n.sroa.0.0.vec.extract.i.i.i.i.i.i = extractelement <2 x float> %agg.tmp2.sroa.0.0.copyload.i.i.i.i.i, i64 0
  %n.sroa.0.4.vec.extract.i.i.i.i.i.i = extractelement <2 x float> %agg.tmp2.sroa.0.0.copyload.i.i.i.i.i, i64 1
  %mul.i.i.i.i8.i.i.i = fmul float %sub6.i.i.i.i.i.i, %agg.tmp2.sroa.2.0.copyload.i.i.i.i.i
  %11 = extractelement <2 x float> %9, i64 1
  %12 = call noundef float @llvm.fma.f32(float %n.sroa.0.4.vec.extract.i.i.i.i.i.i, float %11, float %mul.i.i.i.i8.i.i.i)
  %fneg.i.i.i.i.i.i.i = fneg float %mul.i.i.i.i8.i.i.i
  %13 = call noundef float @llvm.fma.f32(float %agg.tmp2.sroa.2.0.copyload.i.i.i.i.i, float %sub6.i.i.i.i.i.i, float %fneg.i.i.i.i.i.i.i)
  %add.i.i.i.i9.i.i.i = fadd float %12, %13
  %14 = extractelement <2 x float> %9, i64 0
  %15 = call noundef float @llvm.fma.f32(float %n.sroa.0.0.vec.extract.i.i.i.i.i.i, float %14, float %add.i.i.i.i9.i.i.i)
  %cmp.i.i.i.i.i = fcmp ogt float %15, 0.000000e+00
  %outside.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::MediumInterface", ptr %10, i64 0, i32 1
  %cond-lvalue.i.i.i.i.i = select i1 %cmp.i.i.i.i.i, ptr %outside.i.i.i.i.i, ptr %10
  br label %_ZNK4pbrt11Interaction10SpawnRayToENS_6Point3IfEE.exit.i.i.i

_ZNK4pbrt11Interaction10SpawnRayToENS_6Point3IfEE.exit.i.i.i: ; preds = %if.then.i.i.i.i.i, %while.body.i.i.i
  %storemerge.in.i.i.i.i.i = phi ptr [ %cond-lvalue.i.i.i.i.i, %if.then.i.i.i.i.i ], [ %medium3.i.i.i.i, %while.body.i.i.i ]
  %storemerge.i.i.i.i.i = load i64, ptr %storemerge.in.i.i.i.i.i, align 8, !noalias !171
  store i64 %storemerge.i.i.i.i.i, ptr %medium6.i.i.i.i.i.i.i, align 8, !alias.scope !163
  %16 = fcmp oeq <2 x float> %9, zeroinitializer
  %17 = extractelement <2 x i1> %16, i64 0
  %18 = extractelement <2 x i1> %16, i64 1
  %or.cond.i.i.i.i = select i1 %17, i1 %18, i1 false
  %cmp6.i.i.i.i = fcmp oeq float %sub6.i.i.i.i.i.i, 0.000000e+00
  %or.cond.i.i.i = select i1 %or.cond.i.i.i.i, i1 %cmp6.i.i.i.i, i1 false
  br i1 %or.cond.i.i.i, label %while.end.i.i.i, label %if.end.i.i.i

if.end.i.i.i:                                     ; preds = %_ZNK4pbrt11Interaction10SpawnRayToENS_6Point3IfEE.exit.i.i.i
  call void @_ZNK4pbrt9Primitive9IntersectERKNS_3RayEf(ptr nonnull sret(%"class.pstd::optional") align 8 %si.i.i.i, ptr noundef nonnull align 8 dereferenceable(8) %aggregate.i.i.i, ptr noundef nonnull align 8 dereferenceable(40) %r.i.i.i, float noundef 1.000000e+00)
  %19 = load i8, ptr %set.i.i.i.i, align 8
  %20 = and i8 %19, 1
  %tobool.i.not.i.i.i = icmp eq i8 %20, 0
  br i1 %tobool.i.not.i.i.i, label %while.end.i.i.i, label %invoke.cont18.i.i.i

invoke.cont18.i.i.i:                              ; preds = %if.end.i.i.i
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 16 dereferenceable(72) %base.i.i.i, ptr noundef nonnull align 8 dereferenceable(72) %si.i.i.i, i64 72, i1 false)
  %21 = load i64, ptr %medium3.i11.i.i.i, align 8
  store i64 %21, ptr %medium3.i.i.i.i, align 8
  %22 = load i64, ptr %material.i.i.i, align 8
  %23 = load i64, ptr %material21.i.i.i, align 8
  %cmp.i17.i.i.i = icmp eq i64 %22, %23
  br i1 %cmp.i17.i.i.i, label %invoke.cont26.i.i.i, label %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i

invoke.cont26.i.i.i:                              ; preds = %invoke.cont18.i.i.i
  %add.i.i.i.i = fadd float %wrs.sroa.5.0.i.i.i, 1.000000e+00
  %div.i.i.i.i = fdiv float 1.000000e+00, %add.i.i.i.i
  %mul.i.i.i.i.i.i = mul i64 %wrs.sroa.0.0.i.i.i, 6364136223846793005
  %add.i.i.i.i.i.i = add i64 %mul.i.i.i.i.i.i, %or.i.i.i.i.i.i.i
  %24 = lshr i64 %wrs.sroa.0.0.i.i.i, 45
  %25 = lshr i64 %wrs.sroa.0.0.i.i.i, 27
  %shr3.i.i.i.i.i.i = xor i64 %24, %25
  %conv.i.i.i.i.i.i = trunc i64 %shr3.i.i.i.i.i.i to i32
  %shr4.i.i.i.i.i.i = lshr i64 %wrs.sroa.0.0.i.i.i, 59
  %conv5.i.i.i.i.i.i = trunc i64 %shr4.i.i.i.i.i.i to i32
  %shr6.i.i.i.i.i.i = lshr i32 %conv.i.i.i.i.i.i, %conv5.i.i.i.i.i.i
  %add7.i.i.i.i.i.i = sub nsw i32 0, %conv5.i.i.i.i.i.i
  %and.i.i.i.i.i.i = and i32 %add7.i.i.i.i.i.i, 31
  %shl.i.i.i.i.i.i = shl i32 %conv.i.i.i.i.i.i, %and.i.i.i.i.i.i
  %or.i.i.i.i.i.i = or i32 %shr6.i.i.i.i.i.i, %shl.i.i.i.i.i.i
  %conv.i.i.i.i.i = uitofp i32 %or.i.i.i.i.i.i to float
  %mul.i.i.i.i.i = fmul float %conv.i.i.i.i.i, 0x3DF0000000000000
  %cmp.i.i.i.i.i.i = fcmp olt float %mul.i.i.i.i.i, 0x3FEFFFFFE0000000
  %.sroa.speculated.i.i.i.i.i = select i1 %cmp.i.i.i.i.i.i, float %mul.i.i.i.i.i, float 0x3FEFFFFFE0000000
  %cmp.i25.i.i.i = fcmp olt float %.sroa.speculated.i.i.i.i.i, %div.i.i.i.i
  br i1 %cmp.i25.i.i.i, label %if.then.i.i.i.i, label %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i

if.then.i.i.i.i:                                  ; preds = %invoke.cont26.i.i.i
  %ref.tmp25.sroa.30.84.copyload.i.i.i = load float, ptr %ref.tmp25.sroa.30.84.dpdv10.i.sroa_idx.i.i.i, align 8
  %ref.tmp25.sroa.29.84.copyload.i.i.i = load float, ptr %ref.tmp25.sroa.29.84.dpdv10.i.sroa_idx.i.i.i, align 4
  %ref.tmp25.sroa.27.84.copyload.i.i.i = load float, ptr %dpdv10.i.i.i.i, align 8
  %ref.tmp25.sroa.26.72.copyload.i.i.i = load float, ptr %ref.tmp25.sroa.26.72.dpdu8.i.sroa_idx.i.i.i, align 4
  %ref.tmp25.sroa.25.72.copyload.i.i.i = load float, ptr %ref.tmp25.sroa.25.72.dpdu8.i.sroa_idx.i.i.i, align 8
  %ref.tmp25.sroa.23.72.copyload.i.i.i = load float, ptr %dpdu8.i.i.i.i, align 4
  %ref.tmp25.sroa.22.60.copyload.i.i.i = load float, ptr %ref.tmp25.sroa.22.60.dpdv6.i.sroa_idx.i.i.i, align 4
  %ref.tmp25.sroa.21.60.copyload.i.i.i = load float, ptr %ref.tmp25.sroa.21.60.dpdv6.i.sroa_idx.i.i.i, align 8
  %ref.tmp25.sroa.19.60.copyload.i.i.i = load float, ptr %dpdv6.i.i.i.i, align 4
  %ref.tmp25.sroa.18.48.copyload.i.i.i = load float, ptr %ref.tmp25.sroa.18.48.dpdu5.i.sroa_idx.i.i.i, align 8
  %ref.tmp25.sroa.17.48.copyload.i.i.i = load float, ptr %ref.tmp25.sroa.17.48.dpdu5.i.sroa_idx.i.i.i, align 4
  %ref.tmp25.sroa.15.48.copyload.i.i.i = load float, ptr %dpdu5.i.i.i.i, align 8
  %ref.tmp25.sroa.14.36.copyload.i.i.i = load float, ptr %ref.tmp25.sroa.14.36.shading.i.sroa_idx.i.i.i, align 8
  %ref.tmp25.sroa.13.36.copyload.i.i.i = load float, ptr %ref.tmp25.sroa.13.36.shading.i.sroa_idx.i.i.i, align 4
  %ref.tmp25.sroa.11.36.copyload.i.i.i = load float, ptr %shading.i.i.i.i, align 8
  %ref.tmp25.sroa.10.24.copyload.i.i.i = load float, ptr %ref.tmp25.sroa.10.24.n3.i.sroa_idx.i.i.i, align 8
  %ref.tmp25.sroa.9.24.copyload.i.i.i = load float, ptr %ref.tmp25.sroa.9.24.n3.i.sroa_idx.i.i.i, align 4
  %ref.tmp25.sroa.7.24.copyload.i.i.i = load float, ptr %n3.i.i.i.i, align 8
  %ref.tmp25.sroa.6.0.copyload.i.i.i = load float, ptr %ref.tmp25.sroa.6.0.si.sroa_idx.i.i.i, align 4
  %ref.tmp25.sroa.5.0.copyload.i.i.i = load float, ptr %ref.tmp25.sroa.5.0.si.sroa_idx.i.i.i, align 8
  %ref.tmp25.sroa.4.0.copyload.i.i.i = load float, ptr %ref.tmp25.sroa.4.0.si.sroa_idx.i.i.i, align 4
  %ref.tmp25.sroa.3.0.copyload.i.i.i = load float, ptr %ref.tmp25.sroa.3.0.si.sroa_idx.i.i.i, align 8
  %ref.tmp25.sroa.2.0.copyload.i.i.i = load float, ptr %ref.tmp25.sroa.2.0.si.sroa_idx.i.i.i, align 4
  %ref.tmp25.sroa.0.0.copyload.i.i.i = load float, ptr %si.i.i.i, align 8
  br label %_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i

_ZN4pstd8optionalIN4pbrt17ShapeIntersectionEED2Ev.exit31.i.i.i: ; preds = %if.then.i.i.i.i, %invoke.cont26.i.i.i, %invoke.cont18.i.i.i
  %wrs.sroa.16.2.ph.i.i.i = phi float [ %wrs.sroa.16.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.4.0.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.16.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.17.2.ph.i.i.i = phi float [ %wrs.sroa.17.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.5.0.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.17.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.18.2.ph.i.i.i = phi float [ %wrs.sroa.18.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.6.0.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.18.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.19.2.ph.i.i.i = phi float [ %wrs.sroa.19.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.7.24.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.19.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.20.2.ph.i.i.i = phi float [ %wrs.sroa.20.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.9.24.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.20.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.21.2.ph.i.i.i = phi float [ %wrs.sroa.21.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.10.24.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.21.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.22.2.ph.i.i.i = phi float [ %wrs.sroa.22.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.11.36.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.22.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.23.2.ph.i.i.i = phi float [ %wrs.sroa.23.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.13.36.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.23.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.24.2.ph.i.i.i = phi float [ %wrs.sroa.24.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.14.36.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.24.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.25.2.ph.i.i.i = phi float [ %wrs.sroa.25.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.15.48.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.25.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.26.2.ph.i.i.i = phi float [ %wrs.sroa.26.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.17.48.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.26.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.27.2.ph.i.i.i = phi float [ %wrs.sroa.27.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.18.48.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.27.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.28.2.ph.i.i.i = phi float [ %wrs.sroa.28.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.19.60.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.28.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.29.2.ph.i.i.i = phi float [ %wrs.sroa.29.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.21.60.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.29.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.30.2.ph.i.i.i = phi float [ %wrs.sroa.30.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.22.60.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.30.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.31.2.ph.i.i.i = phi float [ %wrs.sroa.31.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.23.72.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.31.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.32.2.ph.i.i.i = phi float [ %wrs.sroa.32.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.25.72.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.32.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.33.2.ph.i.i.i = phi float [ %wrs.sroa.33.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.26.72.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.33.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.34.2.ph.i.i.i = phi float [ %wrs.sroa.34.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.27.84.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.34.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.35.2.ph.i.i.i = phi float [ %wrs.sroa.35.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.29.84.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.35.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.36.2.ph.i.i.i = phi float [ %wrs.sroa.36.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.30.84.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.36.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.15.2.ph.i.i.i = phi float [ %wrs.sroa.15.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.3.0.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.15.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.0.1.ph.i.i.i = phi i64 [ %add.i.i.i.i.i.i, %invoke.cont26.i.i.i ], [ %add.i.i.i.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.0.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.14.2.ph.i.i.i = phi float [ %wrs.sroa.14.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.2.0.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.14.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.12.2.ph.i.i.i = phi float [ %wrs.sroa.12.0.i.i.i, %invoke.cont26.i.i.i ], [ %ref.tmp25.sroa.0.0.copyload.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.12.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.10.2.ph.i.i.i = phi float [ %wrs.sroa.10.0.i.i.i, %invoke.cont26.i.i.i ], [ 1.000000e+00, %if.then.i.i.i.i ], [ %wrs.sroa.10.0.i.i.i, %invoke.cont18.i.i.i ]
  %wrs.sroa.5.1.ph.i.i.i = phi float [ %add.i.i.i.i, %invoke.cont26.i.i.i ], [ %add.i.i.i.i, %if.then.i.i.i.i ], [ %wrs.sroa.5.0.i.i.i, %invoke.cont18.i.i.i ]
  store i8 0, ptr %set.i.i.i.i, align 8
  %agg.tmp8.sroa.0.0.copyload.pre.i.i.i = load <2 x float>, ptr %p1.i.i.i, align 4
  %agg.tmp8.sroa.2.0.copyload.pre.i.i.i = load float, ptr %agg.tmp3.sroa.2.0.p1.sroa_idx.i.i.i, align 4
  %26 = load <4 x float>, ptr %base.i.i.i, align 16
  %27 = shufflevector <4 x float> %26, <4 x float> poison, <2 x i32> <i32 0, i32 poison>
  %28 = load <2 x float>, ptr %agg.tmp1.i.sroa.4.0.base.sroa_idx.i.i.i, align 4, !noalias !163
  %agg.tmp1.i.sroa.6.0.copyload.pre.i.i.i = load float, ptr %agg.tmp1.i.sroa.6.0.base.sroa_idx.i.i.i, align 4, !noalias !163
  %agg.tmp1.i.sroa.7.0.copyload.pre.i.i.i = load float, ptr %z4.i.i.i.i.i.i.i, align 16, !noalias !163
  %agg.tmp1.i.sroa.8.0.copyload.pre.i.i.i = load float, ptr %agg.tmp1.i.sroa.8.0.base.sroa_idx.i.i.i, align 4, !noalias !163
  %agg.tmp2.sroa.0.0.copyload.i.pre.i.i.i = load <2 x float>, ptr %n.i.i.i.i, align 8, !noalias !163
  %agg.tmp2.sroa.2.0.copyload.i.pre.i.i.i = load float, ptr %agg.tmp2.sroa.2.0.n.sroa_idx.i.i.i.i, align 16, !noalias !163
  %.pre.i.i.i = load float, ptr %time2.i.i.i.i, align 8, !noalias !163
  %29 = insertelement <2 x float> %27, float %agg.tmp1.i.sroa.6.0.copyload.pre.i.i.i, i64 1
  br label %while.body.i.i.i

while.end.i.i.i:                                  ; preds = %if.end.i.i.i, %_ZNK4pbrt11Interaction10SpawnRayToENS_6Point3IfEE.exit.i.i.i
  %cmp.i33.i.i.i = fcmp ule float %wrs.sroa.5.0.i.i.i, 0.000000e+00
  br i1 %cmp.i33.i.i.i, label %if.else.i.i.i, label %if.then34.i.i.i

if.then34.i.i.i:                                  ; preds = %while.end.i.i.i
  %div.i36.i.i.i = fdiv float %wrs.sroa.10.0.i.i.i, %wrs.sroa.5.0.i.i.i
  %30 = load ptr, ptr %__functor, align 8
  %reservoirPDF.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %30, i64 0, i32 12
  %31 = load ptr, ptr %reservoirPDF.i.i.i, align 8
  %sext.i.i = shl i64 %__args.val, 32
  %idxprom.i.i.i = ashr exact i64 %sext.i.i, 32
  %arrayidx.i.i.i = getelementptr inbounds float, ptr %31, i64 %idxprom.i.i.i
  store float %div.i36.i.i.i, ptr %arrayidx.i.i.i, align 4
  %32 = load ptr, ptr %__functor, align 8
  %low2.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 1, i32 1, i32 1
  %33 = load ptr, ptr %low2.i.i.i.i.i.i, align 8
  %arrayidx.i.i.i.i.i.i = getelementptr inbounds float, ptr %33, i64 %idxprom.i.i.i
  store float %wrs.sroa.12.0.i.i.i, ptr %arrayidx.i.i.i.i.i.i, align 4
  %high4.i.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 1, i32 1, i32 2
  %34 = load ptr, ptr %high4.i.i.i.i.i.i, align 8
  %arrayidx7.i.i.i.i.i.i = getelementptr inbounds float, ptr %34, i64 %idxprom.i.i.i
  store float %wrs.sroa.14.0.i.i.i, ptr %arrayidx7.i.i.i.i.i.i, align 4
  %low2.i5.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 1, i32 2, i32 1
  %35 = load ptr, ptr %low2.i5.i.i.i.i.i, align 8
  %arrayidx.i8.i.i.i.i.i = getelementptr inbounds float, ptr %35, i64 %idxprom.i.i.i
  store float %wrs.sroa.15.0.i.i.i, ptr %arrayidx.i8.i.i.i.i.i, align 4
  %high4.i10.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 1, i32 2, i32 2
  %36 = load ptr, ptr %high4.i10.i.i.i.i.i, align 8
  %arrayidx7.i12.i.i.i.i.i = getelementptr inbounds float, ptr %36, i64 %idxprom.i.i.i
  store float %wrs.sroa.16.0.i.i.i, ptr %arrayidx7.i12.i.i.i.i.i, align 4
  %low2.i15.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 1, i32 3, i32 1
  %37 = load ptr, ptr %low2.i15.i.i.i.i.i, align 8
  %arrayidx.i18.i.i.i.i.i = getelementptr inbounds float, ptr %37, i64 %idxprom.i.i.i
  store float %wrs.sroa.17.0.i.i.i, ptr %arrayidx.i18.i.i.i.i.i, align 4
  %high4.i20.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 1, i32 3, i32 2
  %38 = load ptr, ptr %high4.i20.i.i.i.i.i, align 8
  %arrayidx7.i22.i.i.i.i.i = getelementptr inbounds float, ptr %38, i64 %idxprom.i.i.i
  store float %wrs.sroa.18.0.i.i.i, ptr %arrayidx7.i22.i.i.i.i.i, align 4
  %x2.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 2, i32 1
  %39 = load ptr, ptr %x2.i.i.i.i.i, align 8
  %arrayidx.i.i.i.i.i = getelementptr inbounds float, ptr %39, i64 %idxprom.i.i.i
  store float %wrs.sroa.19.0.i.i.i, ptr %arrayidx.i.i.i.i.i, align 4
  %y4.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 2, i32 2
  %40 = load ptr, ptr %y4.i.i.i.i.i, align 8
  %arrayidx7.i.i.i.i.i = getelementptr inbounds float, ptr %40, i64 %idxprom.i.i.i
  store float %wrs.sroa.20.0.i.i.i, ptr %arrayidx7.i.i.i.i.i, align 4
  %z9.i.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 2, i32 3
  %41 = load ptr, ptr %z9.i.i.i.i.i, align 8
  %arrayidx12.i.i.i.i.i = getelementptr inbounds float, ptr %41, i64 %idxprom.i.i.i
  store float %wrs.sroa.21.0.i.i.i, ptr %arrayidx12.i.i.i.i.i, align 4
  %x2.i14.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 3, i32 1
  %42 = load ptr, ptr %x2.i14.i.i.i.i, align 8
  %arrayidx.i17.i.i.i.i = getelementptr inbounds float, ptr %42, i64 %idxprom.i.i.i
  store float %wrs.sroa.25.0.i.i.i, ptr %arrayidx.i17.i.i.i.i, align 4
  %y4.i19.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 3, i32 2
  %43 = load ptr, ptr %y4.i19.i.i.i.i, align 8
  %arrayidx7.i21.i.i.i.i = getelementptr inbounds float, ptr %43, i64 %idxprom.i.i.i
  store float %wrs.sroa.26.0.i.i.i, ptr %arrayidx7.i21.i.i.i.i, align 4
  %z9.i23.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 3, i32 3
  %44 = load ptr, ptr %z9.i23.i.i.i.i, align 8
  %arrayidx12.i25.i.i.i.i = getelementptr inbounds float, ptr %44, i64 %idxprom.i.i.i
  store float %wrs.sroa.27.0.i.i.i, ptr %arrayidx12.i25.i.i.i.i, align 4
  %x2.i28.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 4, i32 1
  %45 = load ptr, ptr %x2.i28.i.i.i.i, align 8
  %arrayidx.i31.i.i.i.i = getelementptr inbounds float, ptr %45, i64 %idxprom.i.i.i
  store float %wrs.sroa.28.0.i.i.i, ptr %arrayidx.i31.i.i.i.i, align 4
  %y4.i33.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 4, i32 2
  %46 = load ptr, ptr %y4.i33.i.i.i.i, align 8
  %arrayidx7.i35.i.i.i.i = getelementptr inbounds float, ptr %46, i64 %idxprom.i.i.i
  store float %wrs.sroa.29.0.i.i.i, ptr %arrayidx7.i35.i.i.i.i, align 4
  %z9.i37.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 4, i32 3
  %47 = load ptr, ptr %z9.i37.i.i.i.i, align 8
  %arrayidx12.i39.i.i.i.i = getelementptr inbounds float, ptr %47, i64 %idxprom.i.i.i
  store float %wrs.sroa.30.0.i.i.i, ptr %arrayidx12.i39.i.i.i.i, align 4
  %x2.i42.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 5, i32 1
  %48 = load ptr, ptr %x2.i42.i.i.i.i, align 8
  %arrayidx.i45.i.i.i.i = getelementptr inbounds float, ptr %48, i64 %idxprom.i.i.i
  store float %wrs.sroa.22.0.i.i.i, ptr %arrayidx.i45.i.i.i.i, align 4
  %y4.i47.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 5, i32 2
  %49 = load ptr, ptr %y4.i47.i.i.i.i, align 8
  %arrayidx7.i49.i.i.i.i = getelementptr inbounds float, ptr %49, i64 %idxprom.i.i.i
  store float %wrs.sroa.23.0.i.i.i, ptr %arrayidx7.i49.i.i.i.i, align 4
  %z9.i51.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 5, i32 3
  %50 = load ptr, ptr %z9.i51.i.i.i.i, align 8
  %arrayidx12.i53.i.i.i.i = getelementptr inbounds float, ptr %50, i64 %idxprom.i.i.i
  store float %wrs.sroa.24.0.i.i.i, ptr %arrayidx12.i53.i.i.i.i, align 4
  %x2.i56.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 6, i32 1
  %51 = load ptr, ptr %x2.i56.i.i.i.i, align 8
  %arrayidx.i59.i.i.i.i = getelementptr inbounds float, ptr %51, i64 %idxprom.i.i.i
  store float %wrs.sroa.31.0.i.i.i, ptr %arrayidx.i59.i.i.i.i, align 4
  %y4.i61.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 6, i32 2
  %52 = load ptr, ptr %y4.i61.i.i.i.i, align 8
  %arrayidx7.i63.i.i.i.i = getelementptr inbounds float, ptr %52, i64 %idxprom.i.i.i
  store float %wrs.sroa.32.0.i.i.i, ptr %arrayidx7.i63.i.i.i.i, align 4
  %z9.i65.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 6, i32 3
  %53 = load ptr, ptr %z9.i65.i.i.i.i, align 8
  %arrayidx12.i67.i.i.i.i = getelementptr inbounds float, ptr %53, i64 %idxprom.i.i.i
  store float %wrs.sroa.33.0.i.i.i, ptr %arrayidx12.i67.i.i.i.i, align 4
  %x2.i70.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 7, i32 1
  %54 = load ptr, ptr %x2.i70.i.i.i.i, align 8
  %arrayidx.i73.i.i.i.i = getelementptr inbounds float, ptr %54, i64 %idxprom.i.i.i
  store float %wrs.sroa.34.0.i.i.i, ptr %arrayidx.i73.i.i.i.i, align 4
  %y4.i75.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 7, i32 2
  %55 = load ptr, ptr %y4.i75.i.i.i.i, align 8
  %arrayidx7.i77.i.i.i.i = getelementptr inbounds float, ptr %55, i64 %idxprom.i.i.i
  store float %wrs.sroa.35.0.i.i.i, ptr %arrayidx7.i77.i.i.i.i, align 4
  %z9.i79.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %32, i64 0, i32 14, i32 7, i32 3
  %56 = load ptr, ptr %z9.i79.i.i.i.i, align 8
  %arrayidx12.i81.i.i.i.i = getelementptr inbounds float, ptr %56, i64 %idxprom.i.i.i
  store float %wrs.sroa.36.0.i.i.i, ptr %arrayidx12.i81.i.i.i.i, align 4
  br label %"_ZSt10__invoke_rIvRZNK4pbrt12CPUAggregate18IntersectOneRandomEiPNS0_22SubsurfaceScatterQueueEE3$_0JlEENSt9enable_ifIX16is_invocable_r_vIT_T0_DpT1_EES7_E4typeEOS8_DpOS9_.exit"

if.else.i.i.i:                                    ; preds = %while.end.i.i.i
  %57 = load ptr, ptr %__functor, align 8
  %reservoirPDF39.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %57, i64 0, i32 12
  %58 = load ptr, ptr %reservoirPDF39.i.i.i, align 8
  %sext1.i.i = shl i64 %__args.val, 32
  %idxprom40.i.i.i = ashr exact i64 %sext1.i.i, 32
  %arrayidx41.i.i.i = getelementptr inbounds float, ptr %58, i64 %idxprom40.i.i.i
  store float 0.000000e+00, ptr %arrayidx41.i.i.i, align 4
  br label %"_ZSt10__invoke_rIvRZNK4pbrt12CPUAggregate18IntersectOneRandomEiPNS0_22SubsurfaceScatterQueueEE3$_0JlEENSt9enable_ifIX16is_invocable_r_vIT_T0_DpT1_EES7_E4typeEOS8_DpOS9_.exit"

"_ZSt10__invoke_rIvRZNK4pbrt12CPUAggregate18IntersectOneRandomEiPNS0_22SubsurfaceScatterQueueEE3$_0JlEENSt9enable_ifIX16is_invocable_r_vIT_T0_DpT1_EES7_E4typeEOS8_DpOS9_.exit": ; preds = %if.then34.i.i.i, %if.else.i.i.i
  call void @llvm.lifetime.end.p0(i64 312, ptr nonnull %ref.tmp.i.i.i)
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %ref.tmp2.i.i.i)
  call void @llvm.lifetime.end.p0(i64 80, ptr nonnull %base.i.i.i)
  call void @llvm.lifetime.end.p0(i64 40, ptr nonnull %r.i.i.i)
  call void @llvm.lifetime.end.p0(i64 264, ptr nonnull %si.i.i.i)
  ret void
}

; Function Attrs: mustprogress nofree nosync nounwind willreturn memory(argmem: readwrite) uwtable
define internal noundef zeroext i1 @"_ZNSt17_Function_handlerIFvlEZNK4pbrt12CPUAggregate18IntersectOneRandomEiPNS1_22SubsurfaceScatterQueueEE3$_0E10_M_managerERSt9_Any_dataRKS7_St18_Manager_operation"(ptr nocapture noundef nonnull writeonly align 8 dereferenceable(16) %__dest, ptr noundef nonnull align 8 dereferenceable(16) %__source, i32 noundef %__op) #16 align 2 personality ptr @__gxx_personality_v0 {
entry:
  switch i32 %__op, label %sw.epilog [
    i32 0, label %sw.bb
    i32 1, label %sw.bb1
    i32 2, label %sw.bb4.i
  ]

sw.bb:                                            ; preds = %entry
  store ptr @"_ZTIZNK4pbrt12CPUAggregate18IntersectOneRandomEiPNS_22SubsurfaceScatterQueueEE3$_0", ptr %__dest, align 8
  br label %sw.epilog

sw.bb1:                                           ; preds = %entry
  store ptr %__source, ptr %__dest, align 8
  br label %sw.epilog

sw.bb4.i:                                         ; preds = %entry
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %__dest, ptr noundef nonnull align 8 dereferenceable(16) %__source, i64 16, i1 false)
  br label %sw.epilog

sw.epilog:                                        ; preds = %entry, %sw.bb4.i, %sw.bb1, %sw.bb
  ret i1 false
}

; Function Attrs: mustprogress uwtable
define linkonce_odr dso_local void @_ZNK4pbrt3SOAINS_25SubsurfaceScatterWorkItemEE16GetSetIndirectorcvS1_Ev(ptr noalias sret(%"struct.pbrt::SubsurfaceScatterWorkItem") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(16) %this) local_unnamed_addr #9 comdat align 2 {
entry:
  %material.i = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 3
  %sigma_t.i.i = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 4, i32 4
  %lambda.i = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 5
  %ssi.i = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 10
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(112) %ssi.i, i8 0, i64 96, i1 false)
  %0 = load ptr, ptr %this, align 8
  %i = getelementptr inbounds %"struct.pbrt::SOA<pbrt::SubsurfaceScatterWorkItem>::GetSetIndirector", ptr %this, i64 0, i32 1
  %1 = load i32, ptr %i, align 8
  %x.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 1, i32 1
  %2 = load ptr, ptr %x.i, align 8
  %idxprom.i = sext i32 %1 to i64
  %arrayidx.i = getelementptr inbounds float, ptr %2, i64 %idxprom.i
  %3 = load float, ptr %arrayidx.i, align 4
  %retval.sroa.0.0.vec.insert.i = insertelement <2 x float> poison, float %3, i64 0
  %y.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 1, i32 2
  %4 = load ptr, ptr %y.i, align 8
  %arrayidx6.i = getelementptr inbounds float, ptr %4, i64 %idxprom.i
  %5 = load float, ptr %arrayidx6.i, align 4
  %retval.sroa.0.4.vec.insert.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i, float %5, i64 1
  %z.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 1, i32 3
  %6 = load ptr, ptr %z.i, align 8
  %arrayidx11.i = getelementptr inbounds float, ptr %6, i64 %idxprom.i
  %7 = load float, ptr %arrayidx11.i, align 4
  store <2 x float> %retval.sroa.0.4.vec.insert.i, ptr %agg.result, align 8
  %ref.tmp.sroa.2.0.p04.sroa_idx = getelementptr inbounds i8, ptr %agg.result, i64 8
  store float %7, ptr %ref.tmp.sroa.2.0.p04.sroa_idx, align 8
  %x.i5 = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 2, i32 1
  %8 = load ptr, ptr %x.i5, align 8
  %arrayidx.i8 = getelementptr inbounds float, ptr %8, i64 %idxprom.i
  %9 = load float, ptr %arrayidx.i8, align 4
  %retval.sroa.0.0.vec.insert.i9 = insertelement <2 x float> poison, float %9, i64 0
  %y.i10 = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 2, i32 2
  %10 = load ptr, ptr %y.i10, align 8
  %arrayidx6.i11 = getelementptr inbounds float, ptr %10, i64 %idxprom.i
  %11 = load float, ptr %arrayidx6.i11, align 4
  %retval.sroa.0.4.vec.insert.i12 = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i9, float %11, i64 1
  %z.i13 = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 2, i32 3
  %12 = load ptr, ptr %z.i13, align 8
  %arrayidx11.i14 = getelementptr inbounds float, ptr %12, i64 %idxprom.i
  %13 = load float, ptr %arrayidx11.i14, align 4
  %p113 = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 1
  store <2 x float> %retval.sroa.0.4.vec.insert.i12, ptr %p113, align 4
  %ref.tmp5.sroa.2.0.p113.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 1, i32 0, i32 2
  store float %13, ptr %ref.tmp5.sroa.2.0.p113.sroa_idx, align 4
  %depth = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 3
  %14 = load ptr, ptr %depth, align 8
  %arrayidx = getelementptr inbounds i32, ptr %14, i64 %idxprom.i
  %15 = load i32, ptr %arrayidx, align 4
  %depth16 = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 2
  store i32 %15, ptr %depth16, align 8
  %material = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 4
  %16 = load ptr, ptr %material, align 8
  %arrayidx20 = getelementptr inbounds %"class.pbrt::Material", ptr %16, i64 %idxprom.i
  %17 = load i64, ptr %arrayidx20, align 8
  store i64 %17, ptr %material.i, align 8
  %x.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 5, i32 1, i32 1
  %18 = load ptr, ptr %x.i.i, align 8, !noalias !174
  %arrayidx.i.i = getelementptr inbounds float, ptr %18, i64 %idxprom.i
  %19 = load float, ptr %arrayidx.i.i, align 4, !noalias !174
  %retval.sroa.0.0.vec.insert.i.i = insertelement <2 x float> poison, float %19, i64 0
  %y.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 5, i32 1, i32 2
  %20 = load ptr, ptr %y.i.i, align 8, !noalias !174
  %arrayidx6.i.i = getelementptr inbounds float, ptr %20, i64 %idxprom.i
  %21 = load float, ptr %arrayidx6.i.i, align 4, !noalias !174
  %retval.sroa.0.4.vec.insert.i.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i.i, float %21, i64 1
  %z.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 5, i32 1, i32 3
  %22 = load ptr, ptr %z.i.i, align 8, !noalias !174
  %arrayidx11.i.i = getelementptr inbounds float, ptr %22, i64 %idxprom.i
  %23 = load float, ptr %arrayidx11.i.i, align 4, !noalias !174
  %x.i5.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 5, i32 2, i32 1
  %24 = load ptr, ptr %x.i5.i, align 8, !noalias !174
  %arrayidx.i8.i = getelementptr inbounds float, ptr %24, i64 %idxprom.i
  %25 = load float, ptr %arrayidx.i8.i, align 4, !noalias !174
  %retval.sroa.0.0.vec.insert.i9.i = insertelement <2 x float> poison, float %25, i64 0
  %y.i10.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 5, i32 2, i32 2
  %26 = load ptr, ptr %y.i10.i, align 8, !noalias !174
  %arrayidx6.i11.i = getelementptr inbounds float, ptr %26, i64 %idxprom.i
  %27 = load float, ptr %arrayidx6.i11.i, align 4, !noalias !174
  %retval.sroa.0.4.vec.insert.i12.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i9.i, float %27, i64 1
  %z.i13.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 5, i32 2, i32 3
  %28 = load ptr, ptr %z.i13.i, align 8, !noalias !174
  %arrayidx11.i14.i = getelementptr inbounds float, ptr %28, i64 %idxprom.i
  %29 = load float, ptr %arrayidx11.i14.i, align 4, !noalias !174
  %x.i19.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 5, i32 3, i32 1
  %30 = load ptr, ptr %x.i19.i, align 8, !noalias !174
  %arrayidx.i22.i = getelementptr inbounds float, ptr %30, i64 %idxprom.i
  %31 = load float, ptr %arrayidx.i22.i, align 4, !noalias !174
  %retval.sroa.0.0.vec.insert.i23.i = insertelement <2 x float> poison, float %31, i64 0
  %y.i24.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 5, i32 3, i32 2
  %32 = load ptr, ptr %y.i24.i, align 8, !noalias !174
  %arrayidx6.i25.i = getelementptr inbounds float, ptr %32, i64 %idxprom.i
  %33 = load float, ptr %arrayidx6.i25.i, align 4, !noalias !174
  %retval.sroa.0.4.vec.insert.i26.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i23.i, float %33, i64 1
  %z.i27.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 5, i32 3, i32 3
  %34 = load ptr, ptr %z.i27.i, align 8, !noalias !174
  %arrayidx11.i28.i = getelementptr inbounds float, ptr %34, i64 %idxprom.i
  %35 = load float, ptr %arrayidx11.i28.i, align 4, !noalias !174
  %eta.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 5, i32 4
  %36 = load ptr, ptr %eta.i, align 8, !noalias !174
  %arrayidx.i21 = getelementptr inbounds float, ptr %36, i64 %idxprom.i
  %37 = load float, ptr %arrayidx.i21, align 4, !noalias !174
  %table.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 5, i32 5
  %38 = load ptr, ptr %table.i, align 8, !noalias !174
  %arrayidx29.i = getelementptr inbounds ptr, ptr %38, i64 %idxprom.i
  %39 = load ptr, ptr %arrayidx29.i, align 8, !noalias !174
  %ptr4.i.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 5, i32 6, i32 1
  %40 = load ptr, ptr %ptr4.i.i.i.i, align 8, !noalias !174
  %add.ptr.i.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %40, i64 %idxprom.i
  %retval.sroa.0.0.copyload.i.i.i.i.i = load <2 x float>, ptr %add.ptr.i.i.i.i, align 16, !noalias !174
  %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i.i, align 8, !noalias !174
  %ptr4.i.i.i36.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 5, i32 7, i32 1
  %41 = load ptr, ptr %ptr4.i.i.i36.i, align 8, !noalias !174
  %add.ptr.i.i.i38.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %41, i64 %idxprom.i
  %retval.sroa.0.0.copyload.i.i.i.i39.i = load <2 x float>, ptr %add.ptr.i.i.i38.i, align 16, !noalias !174
  %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i40.i = getelementptr inbounds i8, ptr %add.ptr.i.i.i38.i, i64 8
  %retval.sroa.2.0.copyload.i.i.i.i41.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i40.i, align 8, !noalias !174
  %bssrdf28 = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 4
  store <2 x float> %retval.sroa.0.4.vec.insert.i.i, ptr %bssrdf28, align 8
  %ref.tmp23.sroa.2.0.bssrdf28.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 4, i32 0, i32 0, i32 2
  store float %23, ptr %ref.tmp23.sroa.2.0.bssrdf28.sroa_idx, align 8
  %ref.tmp23.sroa.3.0.bssrdf28.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 4, i32 1
  store <2 x float> %retval.sroa.0.4.vec.insert.i12.i, ptr %ref.tmp23.sroa.3.0.bssrdf28.sroa_idx, align 4
  %ref.tmp23.sroa.4.0.bssrdf28.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 4, i32 1, i32 0, i32 2
  store float %29, ptr %ref.tmp23.sroa.4.0.bssrdf28.sroa_idx, align 4
  %ref.tmp23.sroa.5.0.bssrdf28.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 4, i32 2
  store <2 x float> %retval.sroa.0.4.vec.insert.i26.i, ptr %ref.tmp23.sroa.5.0.bssrdf28.sroa_idx, align 8
  %ref.tmp23.sroa.6.0.bssrdf28.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 4, i32 2, i32 0, i32 2
  store float %35, ptr %ref.tmp23.sroa.6.0.bssrdf28.sroa_idx, align 8
  %ref.tmp23.sroa.7.0.bssrdf28.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 4, i32 3
  store float %37, ptr %ref.tmp23.sroa.7.0.bssrdf28.sroa_idx, align 4
  store <2 x float> %retval.sroa.0.0.copyload.i.i.i.i.i, ptr %sigma_t.i.i, align 8
  %ref.tmp23.sroa.9.0.bssrdf28.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 4, i32 4, i32 0, i32 0, i64 2
  store <2 x float> %retval.sroa.2.0.copyload.i.i.i.i.i, ptr %ref.tmp23.sroa.9.0.bssrdf28.sroa_idx, align 8
  %ref.tmp23.sroa.10.0.bssrdf28.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 4, i32 5
  store <2 x float> %retval.sroa.0.0.copyload.i.i.i.i39.i, ptr %ref.tmp23.sroa.10.0.bssrdf28.sroa_idx, align 8
  %ref.tmp23.sroa.11.0.bssrdf28.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 4, i32 5, i32 0, i32 0, i64 2
  store <2 x float> %retval.sroa.2.0.copyload.i.i.i.i41.i, ptr %ref.tmp23.sroa.11.0.bssrdf28.sroa_idx, align 8
  %ref.tmp23.sroa.12.0.bssrdf28.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 4, i32 6
  store ptr %39, ptr %ref.tmp23.sroa.12.0.bssrdf28.sroa_idx, align 8
  %lambda4.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 6, i32 1
  %42 = load ptr, ptr %lambda4.i.i.i, align 8, !noalias !177
  %pdf4.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 6, i32 2
  %43 = load ptr, ptr %pdf4.i.i.i, align 8, !noalias !177
  %add.ptr.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %42, i64 %idxprom.i
  %retval.sroa.0.0.copyload.i.i.i.i = load <2 x float>, ptr %add.ptr.i.i.i, align 16, !noalias !177
  %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i = getelementptr inbounds i8, ptr %add.ptr.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i, align 8, !noalias !177
  %add.ptr4.i.i.i = getelementptr inbounds %"struct.pbrt::Float4", ptr %43, i64 %idxprom.i
  %retval.sroa.0.0.copyload.i11.i.i.i = load <2 x float>, ptr %add.ptr4.i.i.i, align 16, !noalias !177
  %retval.sroa.2.0.p.addr.0..sroa_idx.i12.i.i.i = getelementptr inbounds i8, ptr %add.ptr4.i.i.i, i64 8
  %retval.sroa.2.0.copyload.i13.i.i.i = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i12.i.i.i, align 8, !noalias !177
  store <2 x float> %retval.sroa.0.0.copyload.i.i.i.i, ptr %lambda.i, align 8
  %ref.tmp29.sroa.2.0.lambda34.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 5, i32 0, i32 0, i64 2
  store <2 x float> %retval.sroa.2.0.copyload.i.i.i.i, ptr %ref.tmp29.sroa.2.0.lambda34.sroa_idx, align 8
  %ref.tmp29.sroa.3.0.lambda34.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 5, i32 1
  store <2 x float> %retval.sroa.0.0.copyload.i11.i.i.i, ptr %ref.tmp29.sroa.3.0.lambda34.sroa_idx, align 8
  %ref.tmp29.sroa.4.0.lambda34.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 5, i32 1, i32 0, i64 2
  store <2 x float> %retval.sroa.2.0.copyload.i13.i.i.i, ptr %ref.tmp29.sroa.4.0.lambda34.sroa_idx, align 8
  %ptr4.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 7, i32 1
  %44 = load ptr, ptr %ptr4.i.i.i, align 8
  %add.ptr.i.i.i28 = getelementptr inbounds %"struct.pbrt::Float4", ptr %44, i64 %idxprom.i
  %retval.sroa.0.0.copyload.i.i.i.i29 = load <2 x float>, ptr %add.ptr.i.i.i28, align 16
  %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i30 = getelementptr inbounds i8, ptr %add.ptr.i.i.i28, i64 8
  %retval.sroa.2.0.copyload.i.i.i.i31 = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i30, align 8
  %beta43 = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 6
  store <2 x float> %retval.sroa.0.0.copyload.i.i.i.i29, ptr %beta43, align 8
  %ref.tmp35.sroa.2.0.beta43.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 6, i32 0, i32 0, i64 2
  store <2 x float> %retval.sroa.2.0.copyload.i.i.i.i31, ptr %ref.tmp35.sroa.2.0.beta43.sroa_idx, align 8
  %ptr4.i.i.i35 = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 8, i32 1
  %45 = load ptr, ptr %ptr4.i.i.i35, align 8
  %add.ptr.i.i.i37 = getelementptr inbounds %"struct.pbrt::Float4", ptr %45, i64 %idxprom.i
  %retval.sroa.0.0.copyload.i.i.i.i38 = load <2 x float>, ptr %add.ptr.i.i.i37, align 16
  %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i39 = getelementptr inbounds i8, ptr %add.ptr.i.i.i37, i64 8
  %retval.sroa.2.0.copyload.i.i.i.i40 = load <2 x float>, ptr %retval.sroa.2.0.p.addr.0..sroa_idx.i.i.i.i39, align 8
  %r_u52 = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 7
  store <2 x float> %retval.sroa.0.0.copyload.i.i.i.i38, ptr %r_u52, align 8
  %ref.tmp44.sroa.2.0.r_u52.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 7, i32 0, i32 0, i64 2
  store <2 x float> %retval.sroa.2.0.copyload.i.i.i.i40, ptr %ref.tmp44.sroa.2.0.r_u52.sroa_idx, align 8
  %inside.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 9, i32 1
  %46 = load ptr, ptr %inside.i, align 8, !noalias !184
  %arrayidx.i47 = getelementptr inbounds %"class.pbrt::Medium", ptr %46, i64 %idxprom.i
  %47 = load i64, ptr %arrayidx.i47, align 8, !noalias !184
  %outside.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 9, i32 2
  %48 = load ptr, ptr %outside.i, align 8, !noalias !184
  %arrayidx6.i48 = getelementptr inbounds %"class.pbrt::Medium", ptr %48, i64 %idxprom.i
  %49 = load i64, ptr %arrayidx6.i48, align 8, !noalias !184
  %mediumInterface58 = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 11
  store i64 %47, ptr %mediumInterface58, align 8
  %outside.i49 = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 11, i32 1
  store i64 %49, ptr %outside.i49, align 8
  %etaScale = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 10
  %50 = load ptr, ptr %etaScale, align 8
  %arrayidx63 = getelementptr inbounds float, ptr %50, i64 %idxprom.i
  %51 = load float, ptr %arrayidx63, align 4
  %etaScale64 = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 12
  store float %51, ptr %etaScale64, align 8
  %pixelIndex = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 11
  %52 = load ptr, ptr %pixelIndex, align 8
  %arrayidx68 = getelementptr inbounds i32, ptr %52, i64 %idxprom.i
  %53 = load i32, ptr %arrayidx68, align 4
  %pixelIndex69 = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 13
  store i32 %53, ptr %pixelIndex69, align 4
  %reservoirPDF = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 12
  %54 = load ptr, ptr %reservoirPDF, align 8
  %arrayidx73 = getelementptr inbounds float, ptr %54, i64 %idxprom.i
  %55 = load float, ptr %arrayidx73, align 4
  %reservoirPDF74 = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 8
  store float %55, ptr %reservoirPDF74, align 8
  %uLight = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 13
  %56 = load ptr, ptr %uLight, align 8
  %arrayidx78 = getelementptr inbounds float, ptr %56, i64 %idxprom.i
  %57 = load float, ptr %arrayidx78, align 4
  %uLight79 = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 9
  store float %57, ptr %uLight79, align 4
  %low.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 1, i32 1, i32 1
  %58 = load ptr, ptr %low.i.i.i, align 8, !noalias !187
  %arrayidx.i.i.i = getelementptr inbounds float, ptr %58, i64 %idxprom.i
  %59 = load float, ptr %arrayidx.i.i.i, align 4, !noalias !187
  %retval.sroa.0.0.vec.insert.i.i.i = insertelement <2 x float> poison, float %59, i64 0
  %high.i.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 1, i32 1, i32 2
  %60 = load ptr, ptr %high.i.i.i, align 8, !noalias !187
  %arrayidx6.i.i.i = getelementptr inbounds float, ptr %60, i64 %idxprom.i
  %61 = load float, ptr %arrayidx6.i.i.i, align 4, !noalias !187
  %retval.sroa.0.4.vec.insert.i.i.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i.i.i, float %61, i64 1
  %low.i3.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 1, i32 2, i32 1
  %62 = load ptr, ptr %low.i3.i.i, align 8, !noalias !187
  %arrayidx.i6.i.i = getelementptr inbounds float, ptr %62, i64 %idxprom.i
  %63 = load float, ptr %arrayidx.i6.i.i, align 4, !noalias !187
  %retval.sroa.0.0.vec.insert.i7.i.i = insertelement <2 x float> poison, float %63, i64 0
  %high.i8.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 1, i32 2, i32 2
  %64 = load ptr, ptr %high.i8.i.i, align 8, !noalias !187
  %arrayidx6.i9.i.i = getelementptr inbounds float, ptr %64, i64 %idxprom.i
  %65 = load float, ptr %arrayidx6.i9.i.i, align 4, !noalias !187
  %retval.sroa.0.4.vec.insert.i10.i.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i7.i.i, float %65, i64 1
  %low.i13.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 1, i32 3, i32 1
  %66 = load ptr, ptr %low.i13.i.i, align 8, !noalias !187
  %arrayidx.i16.i.i = getelementptr inbounds float, ptr %66, i64 %idxprom.i
  %67 = load float, ptr %arrayidx.i16.i.i, align 4, !noalias !187
  %retval.sroa.0.0.vec.insert.i17.i.i = insertelement <2 x float> poison, float %67, i64 0
  %high.i18.i.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 1, i32 3, i32 2
  %68 = load ptr, ptr %high.i18.i.i, align 8, !noalias !187
  %arrayidx6.i19.i.i = getelementptr inbounds float, ptr %68, i64 %idxprom.i
  %69 = load float, ptr %arrayidx6.i19.i.i, align 4, !noalias !187
  %retval.sroa.0.4.vec.insert.i20.i.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i17.i.i, float %69, i64 1
  %x.i.i53 = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 2, i32 1
  %70 = load ptr, ptr %x.i.i53, align 8, !noalias !192
  %arrayidx.i.i54 = getelementptr inbounds float, ptr %70, i64 %idxprom.i
  %71 = load float, ptr %arrayidx.i.i54, align 4, !noalias !192
  %retval.sroa.0.0.vec.insert.i.i55 = insertelement <2 x float> poison, float %71, i64 0
  %y.i.i56 = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 2, i32 2
  %72 = load ptr, ptr %y.i.i56, align 8, !noalias !192
  %arrayidx6.i.i57 = getelementptr inbounds float, ptr %72, i64 %idxprom.i
  %73 = load float, ptr %arrayidx6.i.i57, align 4, !noalias !192
  %retval.sroa.0.4.vec.insert.i.i58 = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i.i55, float %73, i64 1
  %z.i.i59 = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 2, i32 3
  %74 = load ptr, ptr %z.i.i59, align 8, !noalias !192
  %arrayidx11.i.i60 = getelementptr inbounds float, ptr %74, i64 %idxprom.i
  %75 = load float, ptr %arrayidx11.i.i60, align 4, !noalias !192
  %x.i8.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 3, i32 1
  %76 = load ptr, ptr %x.i8.i, align 8, !noalias !192
  %arrayidx.i11.i = getelementptr inbounds float, ptr %76, i64 %idxprom.i
  %77 = load float, ptr %arrayidx.i11.i, align 4, !noalias !192
  %retval.sroa.0.0.vec.insert.i12.i = insertelement <2 x float> poison, float %77, i64 0
  %y.i13.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 3, i32 2
  %78 = load ptr, ptr %y.i13.i, align 8, !noalias !192
  %arrayidx6.i14.i = getelementptr inbounds float, ptr %78, i64 %idxprom.i
  %79 = load float, ptr %arrayidx6.i14.i, align 4, !noalias !192
  %retval.sroa.0.4.vec.insert.i15.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i12.i, float %79, i64 1
  %z.i16.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 3, i32 3
  %80 = load ptr, ptr %z.i16.i, align 8, !noalias !192
  %arrayidx11.i17.i = getelementptr inbounds float, ptr %80, i64 %idxprom.i
  %81 = load float, ptr %arrayidx11.i17.i, align 4, !noalias !192
  %x.i22.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 4, i32 1
  %82 = load ptr, ptr %x.i22.i, align 8, !noalias !192
  %arrayidx.i25.i = getelementptr inbounds float, ptr %82, i64 %idxprom.i
  %83 = load float, ptr %arrayidx.i25.i, align 4, !noalias !192
  %retval.sroa.0.0.vec.insert.i26.i = insertelement <2 x float> poison, float %83, i64 0
  %y.i27.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 4, i32 2
  %84 = load ptr, ptr %y.i27.i, align 8, !noalias !192
  %arrayidx6.i28.i = getelementptr inbounds float, ptr %84, i64 %idxprom.i
  %85 = load float, ptr %arrayidx6.i28.i, align 4, !noalias !192
  %retval.sroa.0.4.vec.insert.i29.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i26.i, float %85, i64 1
  %z.i30.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 4, i32 3
  %86 = load ptr, ptr %z.i30.i, align 8, !noalias !192
  %arrayidx11.i31.i = getelementptr inbounds float, ptr %86, i64 %idxprom.i
  %87 = load float, ptr %arrayidx11.i31.i, align 4, !noalias !192
  %x.i36.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 5, i32 1
  %88 = load ptr, ptr %x.i36.i, align 8, !noalias !192
  %arrayidx.i39.i = getelementptr inbounds float, ptr %88, i64 %idxprom.i
  %89 = load float, ptr %arrayidx.i39.i, align 4, !noalias !192
  %retval.sroa.0.0.vec.insert.i40.i = insertelement <2 x float> poison, float %89, i64 0
  %y.i41.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 5, i32 2
  %90 = load ptr, ptr %y.i41.i, align 8, !noalias !192
  %arrayidx6.i42.i = getelementptr inbounds float, ptr %90, i64 %idxprom.i
  %91 = load float, ptr %arrayidx6.i42.i, align 4, !noalias !192
  %retval.sroa.0.4.vec.insert.i43.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i40.i, float %91, i64 1
  %z.i44.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 5, i32 3
  %92 = load ptr, ptr %z.i44.i, align 8, !noalias !192
  %arrayidx11.i45.i = getelementptr inbounds float, ptr %92, i64 %idxprom.i
  %93 = load float, ptr %arrayidx11.i45.i, align 4, !noalias !192
  %x.i50.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 6, i32 1
  %94 = load ptr, ptr %x.i50.i, align 8, !noalias !192
  %arrayidx.i53.i = getelementptr inbounds float, ptr %94, i64 %idxprom.i
  %95 = load float, ptr %arrayidx.i53.i, align 4, !noalias !192
  %retval.sroa.0.0.vec.insert.i54.i = insertelement <2 x float> poison, float %95, i64 0
  %y.i55.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 6, i32 2
  %96 = load ptr, ptr %y.i55.i, align 8, !noalias !192
  %arrayidx6.i56.i = getelementptr inbounds float, ptr %96, i64 %idxprom.i
  %97 = load float, ptr %arrayidx6.i56.i, align 4, !noalias !192
  %retval.sroa.0.4.vec.insert.i57.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i54.i, float %97, i64 1
  %z.i58.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 6, i32 3
  %98 = load ptr, ptr %z.i58.i, align 8, !noalias !192
  %arrayidx11.i59.i = getelementptr inbounds float, ptr %98, i64 %idxprom.i
  %99 = load float, ptr %arrayidx11.i59.i, align 4, !noalias !192
  %x.i64.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 7, i32 1
  %100 = load ptr, ptr %x.i64.i, align 8, !noalias !192
  %arrayidx.i67.i = getelementptr inbounds float, ptr %100, i64 %idxprom.i
  %101 = load float, ptr %arrayidx.i67.i, align 4, !noalias !192
  %retval.sroa.0.0.vec.insert.i68.i = insertelement <2 x float> poison, float %101, i64 0
  %y.i69.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 7, i32 2
  %102 = load ptr, ptr %y.i69.i, align 8, !noalias !192
  %arrayidx6.i70.i = getelementptr inbounds float, ptr %102, i64 %idxprom.i
  %103 = load float, ptr %arrayidx6.i70.i, align 4, !noalias !192
  %retval.sroa.0.4.vec.insert.i71.i = insertelement <2 x float> %retval.sroa.0.0.vec.insert.i68.i, float %103, i64 1
  %z.i72.i = getelementptr inbounds %"struct.pbrt::SOA.113", ptr %0, i64 0, i32 14, i32 7, i32 3
  %104 = load ptr, ptr %z.i72.i, align 8, !noalias !192
  %arrayidx11.i73.i = getelementptr inbounds float, ptr %104, i64 %idxprom.i
  %105 = load float, ptr %arrayidx11.i73.i, align 4, !noalias !192
  store <2 x float> %retval.sroa.0.4.vec.insert.i.i.i, ptr %ssi.i, align 8
  %ref.tmp80.sroa.2.0.ssi85.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 10, i32 0, i32 0, i32 0, i32 1
  store <2 x float> %retval.sroa.0.4.vec.insert.i10.i.i, ptr %ref.tmp80.sroa.2.0.ssi85.sroa_idx, align 8
  %ref.tmp80.sroa.3.0.ssi85.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 10, i32 0, i32 0, i32 0, i32 2
  store <2 x float> %retval.sroa.0.4.vec.insert.i20.i.i, ptr %ref.tmp80.sroa.3.0.ssi85.sroa_idx, align 8
  %ref.tmp80.sroa.4.0.ssi85.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 10, i32 1
  store <2 x float> %retval.sroa.0.4.vec.insert.i.i58, ptr %ref.tmp80.sroa.4.0.ssi85.sroa_idx, align 8
  %ref.tmp80.sroa.5.0.ssi85.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 10, i32 1, i32 0, i32 2
  store float %75, ptr %ref.tmp80.sroa.5.0.ssi85.sroa_idx, align 8
  %ref.tmp80.sroa.6.0.ssi85.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 10, i32 2
  store <2 x float> %retval.sroa.0.4.vec.insert.i43.i, ptr %ref.tmp80.sroa.6.0.ssi85.sroa_idx, align 4
  %ref.tmp80.sroa.7.0.ssi85.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 10, i32 2, i32 0, i32 2
  store float %93, ptr %ref.tmp80.sroa.7.0.ssi85.sroa_idx, align 4
  %ref.tmp80.sroa.8.0.ssi85.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 10, i32 3
  store <2 x float> %retval.sroa.0.4.vec.insert.i15.i, ptr %ref.tmp80.sroa.8.0.ssi85.sroa_idx, align 8
  %ref.tmp80.sroa.9.0.ssi85.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 10, i32 3, i32 0, i32 2
  store float %81, ptr %ref.tmp80.sroa.9.0.ssi85.sroa_idx, align 8
  %ref.tmp80.sroa.10.0.ssi85.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 10, i32 4
  store <2 x float> %retval.sroa.0.4.vec.insert.i29.i, ptr %ref.tmp80.sroa.10.0.ssi85.sroa_idx, align 4
  %ref.tmp80.sroa.11.0.ssi85.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 10, i32 4, i32 0, i32 2
  store float %87, ptr %ref.tmp80.sroa.11.0.ssi85.sroa_idx, align 4
  %ref.tmp80.sroa.12.0.ssi85.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 10, i32 5
  store <2 x float> %retval.sroa.0.4.vec.insert.i57.i, ptr %ref.tmp80.sroa.12.0.ssi85.sroa_idx, align 8
  %ref.tmp80.sroa.13.0.ssi85.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 10, i32 5, i32 0, i32 2
  store float %99, ptr %ref.tmp80.sroa.13.0.ssi85.sroa_idx, align 8
  %ref.tmp80.sroa.14.0.ssi85.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 10, i32 6
  store <2 x float> %retval.sroa.0.4.vec.insert.i71.i, ptr %ref.tmp80.sroa.14.0.ssi85.sroa_idx, align 4
  %ref.tmp80.sroa.15.0.ssi85.sroa_idx = getelementptr inbounds %"struct.pbrt::SubsurfaceScatterWorkItem", ptr %agg.result, i64 0, i32 10, i32 6, i32 0, i32 2
  store float %105, ptr %ref.tmp80.sroa.15.0.ssi85.sroa_idx, align 4
  ret void
}

; Function Attrs: uwtable
define internal void @_GLOBAL__sub_I_aggregate.cpp() #17 section ".text.startup" {
entry:
  tail call void @_ZN4pbrt14StatRegistererC1EPFvRNS_16StatsAccumulatorEEPFvNS_6Point2IiEEiRNS_21PixelStatsAccumulatorEE(ptr noundef nonnull align 1 dereferenceable(1) @_ZN4pbrtL24STATS_REGprimitiveMemoryE, ptr noundef nonnull @"_ZN4pbrt3$_08__invokeERNS_16StatsAccumulatorE", ptr noundef null)
  tail call void @_ZN4pbrt14StatRegistererC1EPFvRNS_16StatsAccumulatorEEPFvNS_6Point2IiEEiRNS_21PixelStatsAccumulatorEE(ptr noundef nonnull align 1 dereferenceable(1) @_ZN4pbrtL29STATS_REGredundantBufferBytesE, ptr noundef nonnull @"_ZN4pbrt3$_18__invokeERNS_16StatsAccumulatorE", ptr noundef null)
  tail call void @_ZN4pbrt14StatRegistererC1EPFvRNS_16StatsAccumulatorEEPFvNS_6Point2IiEEiRNS_21PixelStatsAccumulatorEE(ptr noundef nonnull align 1 dereferenceable(1) @_ZN4pbrtL25STATS_REGnBufferCacheHitsE, ptr noundef nonnull @"_ZN4pbrt3$_28__invokeERNS_16StatsAccumulatorE", ptr noundef null)
  ret void
}

; Function Attrs: nocallback nofree nosync nounwind willreturn memory(inaccessiblemem: readwrite)
declare void @llvm.experimental.noalias.scope.decl(metadata) #18

; Function Attrs: nocallback nofree nosync nounwind willreturn memory(argmem: readwrite)
declare void @llvm.lifetime.start.p0(i64 immarg, ptr nocapture) #19

; Function Attrs: nocallback nofree nosync nounwind willreturn memory(argmem: readwrite)
declare void @llvm.lifetime.end.p0(i64 immarg, ptr nocapture) #19

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare float @llvm.sqrt.f32(float) #20

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare i32 @llvm.smin.i32(i32, i32) #20

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare i32 @llvm.smax.i32(i32, i32) #20

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare <2 x float> @llvm.sqrt.v2f32(<2 x float>) #20

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare <2 x float> @llvm.fabs.v2f32(<2 x float>) #20

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare <2 x i32> @llvm.smin.v2i32(<2 x i32>, <2 x i32>) #20

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare <2 x float> @llvm.floor.v2f32(<2 x float>) #20

attributes #0 = { "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="rocketlake" "target-features"="+64bit,+adx,+aes,+avx,+avx2,+avx512bitalg,+avx512bw,+avx512cd,+avx512dq,+avx512f,+avx512ifma,+avx512vbmi,+avx512vbmi2,+avx512vl,+avx512vnni,+avx512vpopcntdq,+bmi,+bmi2,+clflushopt,+cmov,+crc32,+cx16,+cx8,+evex512,+f16c,+fma,+fsgsbase,+fxsr,+gfni,+invpcid,+lzcnt,+mmx,+movbe,+pclmul,+pku,+popcnt,+prfchw,+rdpid,+rdrnd,+rdseed,+sahf,+sha,+sse,+sse2,+sse3,+sse4.1,+sse4.2,+ssse3,+vaes,+vpclmulqdq,+x87,+xsave,+xsavec,+xsaveopt,+xsaves,-amx-bf16,-amx-complex,-amx-fp16,-amx-int8,-amx-tile,-avx10.1-256,-avx10.1-512,-avx512bf16,-avx512er,-avx512fp16,-avx512pf,-avx512vp2intersect,-avxifma,-avxneconvert,-avxvnni,-avxvnniint16,-avxvnniint8,-cldemote,-clwb,-clzero,-cmpccxadd,-enqcmd,-fma4,-hreset,-kl,-lwp,-movdir64b,-movdiri,-mwaitx,-pconfig,-prefetchi,-prefetchwt1,-ptwrite,-raoint,-rdpru,-rtm,-serialize,-sgx,-sha512,-shstk,-sm3,-sm4,-sse4a,-tbm,-tsxldtrk,-uintr,-usermsr,-waitpkg,-wbnoinvd,-widekl,-xop" }
attributes #1 = { mustprogress uwtable "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="rocketlake" "target-features"="+64bit,+adx,+aes,+avx,+avx2,+avx512bitalg,+avx512bw,+avx512cd,+avx512dq,+avx512f,+avx512ifma,+avx512vbmi,+avx512vbmi2,+avx512vl,+avx512vnni,+avx512vpopcntdq,+bmi,+bmi2,+clflushopt,+cmov,+crc32,+cx16,+cx8,+evex512,+f16c,+fma,+fsgsbase,+fxsr,+gfni,+invpcid,+lzcnt,+mmx,+movbe,+pclmul,+pku,+popcnt,+prfchw,+rdpid,+rdrnd,+rdseed,+sahf,+sha,+sse,+sse2,+sse3,+sse4.1,+sse4.2,+ssse3,+vaes,+vpclmulqdq,+x87,+xsave,+xsavec,+xsaveopt,+xsaves,-amx-bf16,-amx-complex,-amx-fp16,-amx-int8,-amx-tile,-avx10.1-256,-avx10.1-512,-avx512bf16,-avx512er,-avx512fp16,-avx512pf,-avx512vp2intersect,-avxifma,-avxneconvert,-avxvnni,-avxvnniint16,-avxvnniint8,-cldemote,-clwb,-clzero,-cmpccxadd,-enqcmd,-fma4,-hreset,-kl,-lwp,-movdir64b,-movdiri,-mwaitx,-pconfig,-prefetchi,-prefetchwt1,-ptwrite,-raoint,-rdpru,-rtm,-serialize,-sgx,-sha512,-shstk,-sm3,-sm4,-sse4a,-tbm,-tsxldtrk,-uintr,-usermsr,-waitpkg,-wbnoinvd,-widekl,-xop" }
attributes #2 = { mustprogress nounwind uwtable "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="rocketlake" "target-features"="+64bit,+adx,+aes,+avx,+avx2,+avx512bitalg,+avx512bw,+avx512cd,+avx512dq,+avx512f,+avx512ifma,+avx512vbmi,+avx512vbmi2,+avx512vl,+avx512vnni,+avx512vpopcntdq,+bmi,+bmi2,+clflushopt,+cmov,+crc32,+cx16,+cx8,+evex512,+f16c,+fma,+fsgsbase,+fxsr,+gfni,+invpcid,+lzcnt,+mmx,+movbe,+pclmul,+pku,+popcnt,+prfchw,+rdpid,+rdrnd,+rdseed,+sahf,+sha,+sse,+sse2,+sse3,+sse4.1,+sse4.2,+ssse3,+vaes,+vpclmulqdq,+x87,+xsave,+xsavec,+xsaveopt,+xsaves,-amx-bf16,-amx-complex,-amx-fp16,-amx-int8,-amx-tile,-avx10.1-256,-avx10.1-512,-avx512bf16,-avx512er,-avx512fp16,-avx512pf,-avx512vp2intersect,-avxifma,-avxneconvert,-avxvnni,-avxvnniint16,-avxvnniint8,-cldemote,-clwb,-clzero,-cmpccxadd,-enqcmd,-fma4,-hreset,-kl,-lwp,-movdir64b,-movdiri,-mwaitx,-pconfig,-prefetchi,-prefetchwt1,-ptwrite,-raoint,-rdpru,-rtm,-serialize,-sgx,-sha512,-shstk,-sm3,-sm4,-sse4a,-tbm,-tsxldtrk,-uintr,-usermsr,-waitpkg,-wbnoinvd,-widekl,-xop" }
attributes #3 = { mustprogress nocallback nofree nosync nounwind speculatable willreturn memory(none) }
attributes #4 = { mustprogress nocallback nofree nounwind willreturn memory(argmem: write) }
attributes #5 = { noreturn nounwind uwtable "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="rocketlake" "target-features"="+64bit,+adx,+aes,+avx,+avx2,+avx512bitalg,+avx512bw,+avx512cd,+avx512dq,+avx512f,+avx512ifma,+avx512vbmi,+avx512vbmi2,+avx512vl,+avx512vnni,+avx512vpopcntdq,+bmi,+bmi2,+clflushopt,+cmov,+crc32,+cx16,+cx8,+evex512,+f16c,+fma,+fsgsbase,+fxsr,+gfni,+invpcid,+lzcnt,+mmx,+movbe,+pclmul,+pku,+popcnt,+prfchw,+rdpid,+rdrnd,+rdseed,+sahf,+sha,+sse,+sse2,+sse3,+sse4.1,+sse4.2,+ssse3,+vaes,+vpclmulqdq,+x87,+xsave,+xsavec,+xsaveopt,+xsaves,-amx-bf16,-amx-complex,-amx-fp16,-amx-int8,-amx-tile,-avx10.1-256,-avx10.1-512,-avx512bf16,-avx512er,-avx512fp16,-avx512pf,-avx512vp2intersect,-avxifma,-avxneconvert,-avxvnni,-avxvnniint16,-avxvnniint8,-cldemote,-clwb,-clzero,-cmpccxadd,-enqcmd,-fma4,-hreset,-kl,-lwp,-movdir64b,-movdiri,-mwaitx,-pconfig,-prefetchi,-prefetchwt1,-ptwrite,-raoint,-rdpru,-rtm,-serialize,-sgx,-sha512,-shstk,-sm3,-sm4,-sse4a,-tbm,-tsxldtrk,-uintr,-usermsr,-waitpkg,-wbnoinvd,-widekl,-xop" }
attributes #6 = { mustprogress nocallback nofree nounwind willreturn memory(argmem: readwrite) }
attributes #7 = { noreturn "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="rocketlake" "target-features"="+64bit,+adx,+aes,+avx,+avx2,+avx512bitalg,+avx512bw,+avx512cd,+avx512dq,+avx512f,+avx512ifma,+avx512vbmi,+avx512vbmi2,+avx512vl,+avx512vnni,+avx512vpopcntdq,+bmi,+bmi2,+clflushopt,+cmov,+crc32,+cx16,+cx8,+evex512,+f16c,+fma,+fsgsbase,+fxsr,+gfni,+invpcid,+lzcnt,+mmx,+movbe,+pclmul,+pku,+popcnt,+prfchw,+rdpid,+rdrnd,+rdseed,+sahf,+sha,+sse,+sse2,+sse3,+sse4.1,+sse4.2,+ssse3,+vaes,+vpclmulqdq,+x87,+xsave,+xsavec,+xsaveopt,+xsaves,-amx-bf16,-amx-complex,-amx-fp16,-amx-int8,-amx-tile,-avx10.1-256,-avx10.1-512,-avx512bf16,-avx512er,-avx512fp16,-avx512pf,-avx512vp2intersect,-avxifma,-avxneconvert,-avxvnni,-avxvnniint16,-avxvnniint8,-cldemote,-clwb,-clzero,-cmpccxadd,-enqcmd,-fma4,-hreset,-kl,-lwp,-movdir64b,-movdiri,-mwaitx,-pconfig,-prefetchi,-prefetchwt1,-ptwrite,-raoint,-rdpru,-rtm,-serialize,-sgx,-sha512,-shstk,-sm3,-sm4,-sse4a,-tbm,-tsxldtrk,-uintr,-usermsr,-waitpkg,-wbnoinvd,-widekl,-xop" }
attributes #8 = { nobuiltin nounwind "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="rocketlake" "target-features"="+64bit,+adx,+aes,+avx,+avx2,+avx512bitalg,+avx512bw,+avx512cd,+avx512dq,+avx512f,+avx512ifma,+avx512vbmi,+avx512vbmi2,+avx512vl,+avx512vnni,+avx512vpopcntdq,+bmi,+bmi2,+clflushopt,+cmov,+crc32,+cx16,+cx8,+evex512,+f16c,+fma,+fsgsbase,+fxsr,+gfni,+invpcid,+lzcnt,+mmx,+movbe,+pclmul,+pku,+popcnt,+prfchw,+rdpid,+rdrnd,+rdseed,+sahf,+sha,+sse,+sse2,+sse3,+sse4.1,+sse4.2,+ssse3,+vaes,+vpclmulqdq,+x87,+xsave,+xsavec,+xsaveopt,+xsaves,-amx-bf16,-amx-complex,-amx-fp16,-amx-int8,-amx-tile,-avx10.1-256,-avx10.1-512,-avx512bf16,-avx512er,-avx512fp16,-avx512pf,-avx512vp2intersect,-avxifma,-avxneconvert,-avxvnni,-avxvnniint16,-avxvnniint8,-cldemote,-clwb,-clzero,-cmpccxadd,-enqcmd,-fma4,-hreset,-kl,-lwp,-movdir64b,-movdiri,-mwaitx,-pconfig,-prefetchi,-prefetchwt1,-ptwrite,-raoint,-rdpru,-rtm,-serialize,-sgx,-sha512,-shstk,-sm3,-sm4,-sse4a,-tbm,-tsxldtrk,-uintr,-usermsr,-waitpkg,-wbnoinvd,-widekl,-xop" }
attributes #9 = { mustprogress uwtable "frame-pointer"="all" "min-legal-vector-width"="64" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="rocketlake" "target-features"="+64bit,+adx,+aes,+avx,+avx2,+avx512bitalg,+avx512bw,+avx512cd,+avx512dq,+avx512f,+avx512ifma,+avx512vbmi,+avx512vbmi2,+avx512vl,+avx512vnni,+avx512vpopcntdq,+bmi,+bmi2,+clflushopt,+cmov,+crc32,+cx16,+cx8,+evex512,+f16c,+fma,+fsgsbase,+fxsr,+gfni,+invpcid,+lzcnt,+mmx,+movbe,+pclmul,+pku,+popcnt,+prfchw,+rdpid,+rdrnd,+rdseed,+sahf,+sha,+sse,+sse2,+sse3,+sse4.1,+sse4.2,+ssse3,+vaes,+vpclmulqdq,+x87,+xsave,+xsavec,+xsaveopt,+xsaves,-amx-bf16,-amx-complex,-amx-fp16,-amx-int8,-amx-tile,-avx10.1-256,-avx10.1-512,-avx512bf16,-avx512er,-avx512fp16,-avx512pf,-avx512vp2intersect,-avxifma,-avxneconvert,-avxvnni,-avxvnniint16,-avxvnniint8,-cldemote,-clwb,-clzero,-cmpccxadd,-enqcmd,-fma4,-hreset,-kl,-lwp,-movdir64b,-movdiri,-mwaitx,-pconfig,-prefetchi,-prefetchwt1,-ptwrite,-raoint,-rdpru,-rtm,-serialize,-sgx,-sha512,-shstk,-sm3,-sm4,-sse4a,-tbm,-tsxldtrk,-uintr,-usermsr,-waitpkg,-wbnoinvd,-widekl,-xop" }
attributes #10 = { nobuiltin allocsize(0) "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="rocketlake" "target-features"="+64bit,+adx,+aes,+avx,+avx2,+avx512bitalg,+avx512bw,+avx512cd,+avx512dq,+avx512f,+avx512ifma,+avx512vbmi,+avx512vbmi2,+avx512vl,+avx512vnni,+avx512vpopcntdq,+bmi,+bmi2,+clflushopt,+cmov,+crc32,+cx16,+cx8,+evex512,+f16c,+fma,+fsgsbase,+fxsr,+gfni,+invpcid,+lzcnt,+mmx,+movbe,+pclmul,+pku,+popcnt,+prfchw,+rdpid,+rdrnd,+rdseed,+sahf,+sha,+sse,+sse2,+sse3,+sse4.1,+sse4.2,+ssse3,+vaes,+vpclmulqdq,+x87,+xsave,+xsavec,+xsaveopt,+xsaves,-amx-bf16,-amx-complex,-amx-fp16,-amx-int8,-amx-tile,-avx10.1-256,-avx10.1-512,-avx512bf16,-avx512er,-avx512fp16,-avx512pf,-avx512vp2intersect,-avxifma,-avxneconvert,-avxvnni,-avxvnniint16,-avxvnniint8,-cldemote,-clwb,-clzero,-cmpccxadd,-enqcmd,-fma4,-hreset,-kl,-lwp,-movdir64b,-movdiri,-mwaitx,-pconfig,-prefetchi,-prefetchwt1,-ptwrite,-raoint,-rdpru,-rtm,-serialize,-sgx,-sha512,-shstk,-sm3,-sm4,-sse4a,-tbm,-tsxldtrk,-uintr,-usermsr,-waitpkg,-wbnoinvd,-widekl,-xop" }
attributes #11 = { mustprogress noreturn uwtable "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="rocketlake" "target-features"="+64bit,+adx,+aes,+avx,+avx2,+avx512bitalg,+avx512bw,+avx512cd,+avx512dq,+avx512f,+avx512ifma,+avx512vbmi,+avx512vbmi2,+avx512vl,+avx512vnni,+avx512vpopcntdq,+bmi,+bmi2,+clflushopt,+cmov,+crc32,+cx16,+cx8,+evex512,+f16c,+fma,+fsgsbase,+fxsr,+gfni,+invpcid,+lzcnt,+mmx,+movbe,+pclmul,+pku,+popcnt,+prfchw,+rdpid,+rdrnd,+rdseed,+sahf,+sha,+sse,+sse2,+sse3,+sse4.1,+sse4.2,+ssse3,+vaes,+vpclmulqdq,+x87,+xsave,+xsavec,+xsaveopt,+xsaves,-amx-bf16,-amx-complex,-amx-fp16,-amx-int8,-amx-tile,-avx10.1-256,-avx10.1-512,-avx512bf16,-avx512er,-avx512fp16,-avx512pf,-avx512vp2intersect,-avxifma,-avxneconvert,-avxvnni,-avxvnniint16,-avxvnniint8,-cldemote,-clwb,-clzero,-cmpccxadd,-enqcmd,-fma4,-hreset,-kl,-lwp,-movdir64b,-movdiri,-mwaitx,-pconfig,-prefetchi,-prefetchwt1,-ptwrite,-raoint,-rdpru,-rtm,-serialize,-sgx,-sha512,-shstk,-sm3,-sm4,-sse4a,-tbm,-tsxldtrk,-uintr,-usermsr,-waitpkg,-wbnoinvd,-widekl,-xop" }
attributes #12 = { mustprogress nofree nounwind willreturn memory(write) "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="rocketlake" "target-features"="+64bit,+adx,+aes,+avx,+avx2,+avx512bitalg,+avx512bw,+avx512cd,+avx512dq,+avx512f,+avx512ifma,+avx512vbmi,+avx512vbmi2,+avx512vl,+avx512vnni,+avx512vpopcntdq,+bmi,+bmi2,+clflushopt,+cmov,+crc32,+cx16,+cx8,+evex512,+f16c,+fma,+fsgsbase,+fxsr,+gfni,+invpcid,+lzcnt,+mmx,+movbe,+pclmul,+pku,+popcnt,+prfchw,+rdpid,+rdrnd,+rdseed,+sahf,+sha,+sse,+sse2,+sse3,+sse4.1,+sse4.2,+ssse3,+vaes,+vpclmulqdq,+x87,+xsave,+xsavec,+xsaveopt,+xsaves,-amx-bf16,-amx-complex,-amx-fp16,-amx-int8,-amx-tile,-avx10.1-256,-avx10.1-512,-avx512bf16,-avx512er,-avx512fp16,-avx512pf,-avx512vp2intersect,-avxifma,-avxneconvert,-avxvnni,-avxvnniint16,-avxvnniint8,-cldemote,-clwb,-clzero,-cmpccxadd,-enqcmd,-fma4,-hreset,-kl,-lwp,-movdir64b,-movdiri,-mwaitx,-pconfig,-prefetchi,-prefetchwt1,-ptwrite,-raoint,-rdpru,-rtm,-serialize,-sgx,-sha512,-shstk,-sm3,-sm4,-sse4a,-tbm,-tsxldtrk,-uintr,-usermsr,-waitpkg,-wbnoinvd,-widekl,-xop" }
attributes #13 = { nounwind "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="rocketlake" "target-features"="+64bit,+adx,+aes,+avx,+avx2,+avx512bitalg,+avx512bw,+avx512cd,+avx512dq,+avx512f,+avx512ifma,+avx512vbmi,+avx512vbmi2,+avx512vl,+avx512vnni,+avx512vpopcntdq,+bmi,+bmi2,+clflushopt,+cmov,+crc32,+cx16,+cx8,+evex512,+f16c,+fma,+fsgsbase,+fxsr,+gfni,+invpcid,+lzcnt,+mmx,+movbe,+pclmul,+pku,+popcnt,+prfchw,+rdpid,+rdrnd,+rdseed,+sahf,+sha,+sse,+sse2,+sse3,+sse4.1,+sse4.2,+ssse3,+vaes,+vpclmulqdq,+x87,+xsave,+xsavec,+xsaveopt,+xsaves,-amx-bf16,-amx-complex,-amx-fp16,-amx-int8,-amx-tile,-avx10.1-256,-avx10.1-512,-avx512bf16,-avx512er,-avx512fp16,-avx512pf,-avx512vp2intersect,-avxifma,-avxneconvert,-avxvnni,-avxvnniint16,-avxvnniint8,-cldemote,-clwb,-clzero,-cmpccxadd,-enqcmd,-fma4,-hreset,-kl,-lwp,-movdir64b,-movdiri,-mwaitx,-pconfig,-prefetchi,-prefetchwt1,-ptwrite,-raoint,-rdpru,-rtm,-serialize,-sgx,-sha512,-shstk,-sm3,-sm4,-sse4a,-tbm,-tsxldtrk,-uintr,-usermsr,-waitpkg,-wbnoinvd,-widekl,-xop" }
attributes #14 = { nofree nounwind "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="rocketlake" "target-features"="+64bit,+adx,+aes,+avx,+avx2,+avx512bitalg,+avx512bw,+avx512cd,+avx512dq,+avx512f,+avx512ifma,+avx512vbmi,+avx512vbmi2,+avx512vl,+avx512vnni,+avx512vpopcntdq,+bmi,+bmi2,+clflushopt,+cmov,+crc32,+cx16,+cx8,+evex512,+f16c,+fma,+fsgsbase,+fxsr,+gfni,+invpcid,+lzcnt,+mmx,+movbe,+pclmul,+pku,+popcnt,+prfchw,+rdpid,+rdrnd,+rdseed,+sahf,+sha,+sse,+sse2,+sse3,+sse4.1,+sse4.2,+ssse3,+vaes,+vpclmulqdq,+x87,+xsave,+xsavec,+xsaveopt,+xsaves,-amx-bf16,-amx-complex,-amx-fp16,-amx-int8,-amx-tile,-avx10.1-256,-avx10.1-512,-avx512bf16,-avx512er,-avx512fp16,-avx512pf,-avx512vp2intersect,-avxifma,-avxneconvert,-avxvnni,-avxvnniint16,-avxvnniint8,-cldemote,-clwb,-clzero,-cmpccxadd,-enqcmd,-fma4,-hreset,-kl,-lwp,-movdir64b,-movdiri,-mwaitx,-pconfig,-prefetchi,-prefetchwt1,-ptwrite,-raoint,-rdpru,-rtm,-serialize,-sgx,-sha512,-shstk,-sm3,-sm4,-sse4a,-tbm,-tsxldtrk,-uintr,-usermsr,-waitpkg,-wbnoinvd,-widekl,-xop" }
attributes #15 = { mustprogress nofree nosync nounwind memory(readwrite, inaccessiblemem: none) uwtable "frame-pointer"="all" "min-legal-vector-width"="64" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="rocketlake" "target-features"="+64bit,+adx,+aes,+avx,+avx2,+avx512bitalg,+avx512bw,+avx512cd,+avx512dq,+avx512f,+avx512ifma,+avx512vbmi,+avx512vbmi2,+avx512vl,+avx512vnni,+avx512vpopcntdq,+bmi,+bmi2,+clflushopt,+cmov,+crc32,+cx16,+cx8,+evex512,+f16c,+fma,+fsgsbase,+fxsr,+gfni,+invpcid,+lzcnt,+mmx,+movbe,+pclmul,+pku,+popcnt,+prfchw,+rdpid,+rdrnd,+rdseed,+sahf,+sha,+sse,+sse2,+sse3,+sse4.1,+sse4.2,+ssse3,+vaes,+vpclmulqdq,+x87,+xsave,+xsavec,+xsaveopt,+xsaves,-amx-bf16,-amx-complex,-amx-fp16,-amx-int8,-amx-tile,-avx10.1-256,-avx10.1-512,-avx512bf16,-avx512er,-avx512fp16,-avx512pf,-avx512vp2intersect,-avxifma,-avxneconvert,-avxvnni,-avxvnniint16,-avxvnniint8,-cldemote,-clwb,-clzero,-cmpccxadd,-enqcmd,-fma4,-hreset,-kl,-lwp,-movdir64b,-movdiri,-mwaitx,-pconfig,-prefetchi,-prefetchwt1,-ptwrite,-raoint,-rdpru,-rtm,-serialize,-sgx,-sha512,-shstk,-sm3,-sm4,-sse4a,-tbm,-tsxldtrk,-uintr,-usermsr,-waitpkg,-wbnoinvd,-widekl,-xop" }
attributes #16 = { mustprogress nofree nosync nounwind willreturn memory(argmem: readwrite) uwtable "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="rocketlake" "target-features"="+64bit,+adx,+aes,+avx,+avx2,+avx512bitalg,+avx512bw,+avx512cd,+avx512dq,+avx512f,+avx512ifma,+avx512vbmi,+avx512vbmi2,+avx512vl,+avx512vnni,+avx512vpopcntdq,+bmi,+bmi2,+clflushopt,+cmov,+crc32,+cx16,+cx8,+evex512,+f16c,+fma,+fsgsbase,+fxsr,+gfni,+invpcid,+lzcnt,+mmx,+movbe,+pclmul,+pku,+popcnt,+prfchw,+rdpid,+rdrnd,+rdseed,+sahf,+sha,+sse,+sse2,+sse3,+sse4.1,+sse4.2,+ssse3,+vaes,+vpclmulqdq,+x87,+xsave,+xsavec,+xsaveopt,+xsaves,-amx-bf16,-amx-complex,-amx-fp16,-amx-int8,-amx-tile,-avx10.1-256,-avx10.1-512,-avx512bf16,-avx512er,-avx512fp16,-avx512pf,-avx512vp2intersect,-avxifma,-avxneconvert,-avxvnni,-avxvnniint16,-avxvnniint8,-cldemote,-clwb,-clzero,-cmpccxadd,-enqcmd,-fma4,-hreset,-kl,-lwp,-movdir64b,-movdiri,-mwaitx,-pconfig,-prefetchi,-prefetchwt1,-ptwrite,-raoint,-rdpru,-rtm,-serialize,-sgx,-sha512,-shstk,-sm3,-sm4,-sse4a,-tbm,-tsxldtrk,-uintr,-usermsr,-waitpkg,-wbnoinvd,-widekl,-xop" }
attributes #17 = { uwtable "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="rocketlake" "target-features"="+64bit,+adx,+aes,+avx,+avx2,+avx512bitalg,+avx512bw,+avx512cd,+avx512dq,+avx512f,+avx512ifma,+avx512vbmi,+avx512vbmi2,+avx512vl,+avx512vnni,+avx512vpopcntdq,+bmi,+bmi2,+clflushopt,+cmov,+crc32,+cx16,+cx8,+evex512,+f16c,+fma,+fsgsbase,+fxsr,+gfni,+invpcid,+lzcnt,+mmx,+movbe,+pclmul,+pku,+popcnt,+prfchw,+rdpid,+rdrnd,+rdseed,+sahf,+sha,+sse,+sse2,+sse3,+sse4.1,+sse4.2,+ssse3,+vaes,+vpclmulqdq,+x87,+xsave,+xsavec,+xsaveopt,+xsaves,-amx-bf16,-amx-complex,-amx-fp16,-amx-int8,-amx-tile,-avx10.1-256,-avx10.1-512,-avx512bf16,-avx512er,-avx512fp16,-avx512pf,-avx512vp2intersect,-avxifma,-avxneconvert,-avxvnni,-avxvnniint16,-avxvnniint8,-cldemote,-clwb,-clzero,-cmpccxadd,-enqcmd,-fma4,-hreset,-kl,-lwp,-movdir64b,-movdiri,-mwaitx,-pconfig,-prefetchi,-prefetchwt1,-ptwrite,-raoint,-rdpru,-rtm,-serialize,-sgx,-sha512,-shstk,-sm3,-sm4,-sse4a,-tbm,-tsxldtrk,-uintr,-usermsr,-waitpkg,-wbnoinvd,-widekl,-xop" }
attributes #18 = { nocallback nofree nosync nounwind willreturn memory(inaccessiblemem: readwrite) }
attributes #19 = { nocallback nofree nosync nounwind willreturn memory(argmem: readwrite) }
attributes #20 = { nocallback nofree nosync nounwind speculatable willreturn memory(none) }
attributes #21 = { builtin allocsize(0) }
attributes #22 = { noreturn nounwind }
attributes #23 = { builtin nounwind }
attributes #24 = { noreturn }
attributes #25 = { nounwind }

!llvm.module.flags = !{!0, !1, !2, !3, !4}

!0 = !{i32 1, !"wchar_size", i32 4}
!1 = !{i32 8, !"PIC Level", i32 2}
!2 = !{i32 7, !"PIE Level", i32 2}
!3 = !{i32 7, !"uwtable", i32 2}
!4 = !{i32 7, !"frame-pointer", i32 2}
!5 = distinct !{!5, !6}
!6 = !{!"llvm.loop.mustprogress"}
!7 = !{!8}
!8 = distinct !{!8, !9, !"_ZNK4pbrt3SOAINS_11RayWorkItemEEixEi: %agg.result"}
!9 = distinct !{!9, !"_ZNK4pbrt3SOAINS_11RayWorkItemEEixEi"}
!10 = !{!11, !8}
!11 = distinct !{!11, !12, !"_ZNK4pbrt3SOAINS_3RayEEixEi: %agg.result"}
!12 = distinct !{!12, !"_ZNK4pbrt3SOAINS_3RayEEixEi"}
!13 = !{!14, !8}
!14 = distinct !{!14, !15, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEEixEi: %agg.result"}
!15 = distinct !{!15, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEEixEi"}
!16 = !{!17, !19, !8}
!17 = distinct !{!17, !18, !"_ZNK4pbrt3SOAINS_8Point3fiEEixEi: %agg.result"}
!18 = distinct !{!18, !"_ZNK4pbrt3SOAINS_8Point3fiEEixEi"}
!19 = distinct !{!19, !20, !"_ZNK4pbrt3SOAINS_18LightSampleContextEEixEi: %agg.result"}
!20 = distinct !{!20, !"_ZNK4pbrt3SOAINS_18LightSampleContextEEixEi"}
!21 = !{!19, !8}
!22 = !{!23}
!23 = distinct !{!23, !24, !"_ZNK4pbrt11MixMaterial14ChooseMaterialINS_21BasicTextureEvaluatorEEENS_8MaterialET_NS_19MaterialEvalContextE: %agg.result"}
!24 = distinct !{!24, !"_ZNK4pbrt11MixMaterial14ChooseMaterialINS_21BasicTextureEvaluatorEEENS_8MaterialET_NS_19MaterialEvalContextE"}
!25 = distinct !{!25, !6}
!26 = !{!27}
!27 = distinct !{!27, !28, !"_ZNK4pbrt11Interaction8SpawnRayENS_7Vector3IfEE: %agg.result"}
!28 = distinct !{!28, !"_ZNK4pbrt11Interaction8SpawnRayENS_7Vector3IfEE"}
!29 = !{!30, !27}
!30 = distinct !{!30, !31, !"_ZNK4pbrt11Interaction9GetMediumENS_7Vector3IfEE: %agg.result"}
!31 = distinct !{!31, !"_ZNK4pbrt11Interaction9GetMediumENS_7Vector3IfEE"}
!32 = !{!33, !35, !37, !39}
!33 = distinct !{!33, !34, !"_ZN4pbrt6detail8DispatchIRZNKS_8Material15GetDisplacementEvEUlT_E_NS_12FloatTextureENS_18SubsurfaceMaterialENS_22ThinDielectricMaterialENS_11MixMaterialEEET0_OS3_PKvi: %agg.result"}
!34 = distinct !{!34, !"_ZN4pbrt6detail8DispatchIRZNKS_8Material15GetDisplacementEvEUlT_E_NS_12FloatTextureENS_18SubsurfaceMaterialENS_22ThinDielectricMaterialENS_11MixMaterialEEET0_OS3_PKvi"}
!35 = distinct !{!35, !36, !"_ZN4pbrt6detail8DispatchIRZNKS_8Material15GetDisplacementEvEUlT_E_NS_12FloatTextureENS_21CoatedDiffuseMaterialENS_23CoatedConductorMaterialENS_17ConductorMaterialENS_18DielectricMaterialENS_15DiffuseMaterialENS_27DiffuseTransmissionMaterialENS_12HairMaterialENS_16MeasuredMaterialEJNS_18SubsurfaceMaterialENS_22ThinDielectricMaterialENS_11MixMaterialEEvEET0_OS3_PKvi: %agg.result"}
!36 = distinct !{!36, !"_ZN4pbrt6detail8DispatchIRZNKS_8Material15GetDisplacementEvEUlT_E_NS_12FloatTextureENS_21CoatedDiffuseMaterialENS_23CoatedConductorMaterialENS_17ConductorMaterialENS_18DielectricMaterialENS_15DiffuseMaterialENS_27DiffuseTransmissionMaterialENS_12HairMaterialENS_16MeasuredMaterialEJNS_18SubsurfaceMaterialENS_22ThinDielectricMaterialENS_11MixMaterialEEvEET0_OS3_PKvi"}
!37 = distinct !{!37, !38, !"_ZNK4pbrt13TaggedPointerIJNS_21CoatedDiffuseMaterialENS_23CoatedConductorMaterialENS_17ConductorMaterialENS_18DielectricMaterialENS_15DiffuseMaterialENS_27DiffuseTransmissionMaterialENS_12HairMaterialENS_16MeasuredMaterialENS_18SubsurfaceMaterialENS_22ThinDielectricMaterialENS_11MixMaterialEEE8DispatchIRZNKS_8Material15GetDisplacementEvEUlT_E_EEDcOSF_: %agg.result"}
!38 = distinct !{!38, !"_ZNK4pbrt13TaggedPointerIJNS_21CoatedDiffuseMaterialENS_23CoatedConductorMaterialENS_17ConductorMaterialENS_18DielectricMaterialENS_15DiffuseMaterialENS_27DiffuseTransmissionMaterialENS_12HairMaterialENS_16MeasuredMaterialENS_18SubsurfaceMaterialENS_22ThinDielectricMaterialENS_11MixMaterialEEE8DispatchIRZNKS_8Material15GetDisplacementEvEUlT_E_EEDcOSF_"}
!39 = distinct !{!39, !40, !"_ZNK4pbrt8Material15GetDisplacementEv: %agg.result"}
!40 = distinct !{!40, !"_ZNK4pbrt8Material15GetDisplacementEv"}
!41 = !{!35, !37, !39}
!42 = !{!43}
!43 = distinct !{!43, !44, !"_ZNK4pbrt16TextureMapping2D3MapENS_18TextureEvalContextE: %agg.result"}
!44 = distinct !{!44, !"_ZNK4pbrt16TextureMapping2D3MapENS_18TextureEvalContextE"}
!45 = !{!46, !43}
!46 = distinct !{!46, !47, !"_ZNK4pbrt13TaggedPointerIJNS_9UVMappingENS_16SphericalMappingENS_18CylindricalMappingENS_13PlanarMappingEEE8DispatchIRZNKS_16TextureMapping2D3MapENS_18TextureEvalContextEEUlT_E_EEDcOS9_: %agg.result"}
!47 = distinct !{!47, !"_ZNK4pbrt13TaggedPointerIJNS_9UVMappingENS_16SphericalMappingENS_18CylindricalMappingENS_13PlanarMappingEEE8DispatchIRZNKS_16TextureMapping2D3MapENS_18TextureEvalContextEEUlT_E_EEDcOS9_"}
!48 = !{}
!49 = !{!50}
!50 = distinct !{!50, !51, !"_ZZNK4pbrt16TextureMapping2D3MapENS_18TextureEvalContextEENKUlT_E_clIPKNS_9UVMappingEEEDaS2_: %agg.result"}
!51 = distinct !{!51, !"_ZZNK4pbrt16TextureMapping2D3MapENS_18TextureEvalContextEENKUlT_E_clIPKNS_9UVMappingEEEDaS2_"}
!52 = !{!53, !50}
!53 = distinct !{!53, !54, !"_ZNK4pbrt9UVMapping3MapENS_18TextureEvalContextE: %agg.result"}
!54 = distinct !{!54, !"_ZNK4pbrt9UVMapping3MapENS_18TextureEvalContextE"}
!55 = !{!56}
!56 = distinct !{!56, !57, !"_ZZNK4pbrt16TextureMapping2D3MapENS_18TextureEvalContextEENKUlT_E_clIPKNS_16SphericalMappingEEEDaS2_: %agg.result"}
!57 = distinct !{!57, !"_ZZNK4pbrt16TextureMapping2D3MapENS_18TextureEvalContextEENKUlT_E_clIPKNS_16SphericalMappingEEEDaS2_"}
!58 = !{!59, !56}
!59 = distinct !{!59, !60, !"_ZNK4pbrt16SphericalMapping3MapENS_18TextureEvalContextE: %agg.result"}
!60 = distinct !{!60, !"_ZNK4pbrt16SphericalMapping3MapENS_18TextureEvalContextE"}
!61 = !{!62}
!62 = distinct !{!62, !63, !"_ZZNK4pbrt16TextureMapping2D3MapENS_18TextureEvalContextEENKUlT_E_clIPKNS_18CylindricalMappingEEEDaS2_: %agg.result"}
!63 = distinct !{!63, !"_ZZNK4pbrt16TextureMapping2D3MapENS_18TextureEvalContextEENKUlT_E_clIPKNS_18CylindricalMappingEEEDaS2_"}
!64 = !{!65, !62}
!65 = distinct !{!65, !66, !"_ZNK4pbrt18CylindricalMapping3MapENS_18TextureEvalContextE: %agg.result"}
!66 = distinct !{!66, !"_ZNK4pbrt18CylindricalMapping3MapENS_18TextureEvalContextE"}
!67 = !{!68}
!68 = distinct !{!68, !69, !"_ZZNK4pbrt16TextureMapping2D3MapENS_18TextureEvalContextEENKUlT_E_clIPKNS_13PlanarMappingEEEDaS2_: %agg.result"}
!69 = distinct !{!69, !"_ZZNK4pbrt16TextureMapping2D3MapENS_18TextureEvalContextEENKUlT_E_clIPKNS_13PlanarMappingEEEDaS2_"}
!70 = !{!71, !68}
!71 = distinct !{!71, !72, !"_ZNK4pbrt13PlanarMapping3MapENS_18TextureEvalContextE: %agg.result"}
!72 = distinct !{!72, !"_ZNK4pbrt13PlanarMapping3MapENS_18TextureEvalContextE"}
!73 = distinct !{!73, !6}
!74 = !{!75}
!75 = distinct !{!75, !76, !"_ZNK4pbrt3SOAINS_17ShadowRayWorkItemEE16GetSetIndirectorcvS1_Ev: %agg.result"}
!76 = distinct !{!76, !"_ZNK4pbrt3SOAINS_17ShadowRayWorkItemEE16GetSetIndirectorcvS1_Ev"}
!77 = !{!78, !75}
!78 = distinct !{!78, !79, !"_ZNK4pbrt3SOAINS_3RayEE16GetSetIndirectorcvS1_Ev: %agg.result"}
!79 = distinct !{!79, !"_ZNK4pbrt3SOAINS_3RayEE16GetSetIndirectorcvS1_Ev"}
!80 = !{!81, !83, !85, !75}
!81 = distinct !{!81, !82, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEEixEi: %agg.result"}
!82 = distinct !{!82, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEEixEi"}
!83 = distinct !{!83, !84, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEE4LoadEi: %agg.result"}
!84 = distinct !{!84, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEE4LoadEi"}
!85 = distinct !{!85, !86, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEE16GetSetIndirectorcvS1_Ev: %agg.result"}
!86 = distinct !{!86, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEE16GetSetIndirectorcvS1_Ev"}
!87 = distinct !{!87, !6}
!88 = distinct !{!88, !6}
!89 = distinct !{!89, !6}
!90 = !{!91, !93}
!91 = distinct !{!91, !92, !"_ZNK4pbrt3SOAINS_3RayEE16GetSetIndirectorcvS1_Ev: %agg.result"}
!92 = distinct !{!92, !"_ZNK4pbrt3SOAINS_3RayEE16GetSetIndirectorcvS1_Ev"}
!93 = distinct !{!93, !94, !"_ZNK4pbrt3SOAINS_17ShadowRayWorkItemEE16GetSetIndirectorcvS1_Ev: %agg.result"}
!94 = distinct !{!94, !"_ZNK4pbrt3SOAINS_17ShadowRayWorkItemEE16GetSetIndirectorcvS1_Ev"}
!95 = !{!93}
!96 = !{!97, !99, !101, !93}
!97 = distinct !{!97, !98, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEEixEi: %agg.result"}
!98 = distinct !{!98, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEEixEi"}
!99 = distinct !{!99, !100, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEE4LoadEi: %agg.result"}
!100 = distinct !{!100, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEE4LoadEi"}
!101 = distinct !{!101, !102, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEE16GetSetIndirectorcvS1_Ev: %agg.result"}
!102 = distinct !{!102, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEE16GetSetIndirectorcvS1_Ev"}
!103 = distinct !{!103, !6}
!104 = !{!105}
!105 = distinct !{!105, !106, !"_ZZZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiENKUlNS_3RayEfE_clESA_f: %agg.result"}
!106 = distinct !{!106, !"_ZZZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiENKUlNS_3RayEfE_clESA_f"}
!107 = !{!108}
!108 = distinct !{!108, !109, !"_ZN4pbrt27HomogeneousMajorantIterator4NextEv: %agg.result"}
!109 = distinct !{!109, !"_ZN4pbrt27HomogeneousMajorantIterator4NextEv"}
!110 = distinct !{!110, !6}
!111 = distinct !{!111, !6}
!112 = distinct !{!112, !6}
!113 = distinct !{!113, !6}
!114 = distinct !{!114, !6}
!115 = distinct !{!115, !6}
!116 = distinct !{!116, !6}
!117 = !{!118}
!118 = distinct !{!118, !119, !"_ZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsE: %agg.result"}
!119 = distinct !{!119, !"_ZNK4pbrt13RGBGridMedium11SamplePointENS_6Point3IfEERKNS_18SampledWavelengthsE"}
!120 = distinct !{!120, !6}
!121 = !{!122}
!122 = distinct !{!122, !123, !"_ZN4pbrt27HomogeneousMajorantIterator4NextEv: %agg.result"}
!123 = distinct !{!123, !"_ZN4pbrt27HomogeneousMajorantIterator4NextEv"}
!124 = distinct !{!124, !6}
!125 = distinct !{!125, !6}
!126 = distinct !{!126, !6}
!127 = distinct !{!127, !6}
!128 = !{!129}
!129 = distinct !{!129, !130, !"_ZZZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiENKUlNS_6Point3IfEEE_clESB_: %agg.result"}
!130 = distinct !{!130, !"_ZZZNK4pbrt12CPUAggregate17IntersectShadowTrEiPNS_9WorkQueueINS_17ShadowRayWorkItemEEEPNS_3SOAINS_16PixelSampleStateEEEENK3$_0clEiENKUlNS_6Point3IfEEE_clESB_"}
!131 = !{!132, !129}
!132 = distinct !{!132, !133, !"_ZNK4pbrt11Interaction10SpawnRayToENS_6Point3IfEE: %agg.result"}
!133 = distinct !{!133, !"_ZNK4pbrt11Interaction10SpawnRayToENS_6Point3IfEE"}
!134 = !{!135, !132, !129}
!135 = distinct !{!135, !136, !"_ZNK4pbrt11Interaction9GetMediumENS_7Vector3IfEE: %agg.result"}
!136 = distinct !{!136, !"_ZNK4pbrt11Interaction9GetMediumENS_7Vector3IfEE"}
!137 = distinct !{!137, !6}
!138 = distinct !{!138, !6}
!139 = distinct !{!139, !6}
!140 = distinct !{!140, !6}
!141 = distinct !{!141, !6}
!142 = !{!143}
!143 = distinct !{!143, !144, !"_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf: %agg.result"}
!144 = distinct !{!144, !"_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf"}
!145 = distinct !{!145, !6}
!146 = distinct !{!146, !6}
!147 = distinct !{!147, !6}
!148 = distinct !{!148, !6}
!149 = !{!150}
!150 = distinct !{!150, !151, !"_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf: %agg.result"}
!151 = distinct !{!151, !"_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf"}
!152 = distinct !{!152, !6}
!153 = distinct !{!153, !6}
!154 = !{!155}
!155 = distinct !{!155, !156, !"_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf: %agg.result"}
!156 = distinct !{!156, !"_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf"}
!157 = distinct !{!157, !6}
!158 = distinct !{!158, !6}
!159 = !{!160}
!160 = distinct !{!160, !161, !"_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf: %agg.result"}
!161 = distinct !{!161, !"_ZNK4pbrt9Transform12ApplyInverseERKNS_3RayEPf"}
!162 = distinct !{!162, !6}
!163 = !{!164}
!164 = distinct !{!164, !165, !"_ZNK4pbrt11Interaction10SpawnRayToENS_6Point3IfEE: %agg.result"}
!165 = distinct !{!165, !"_ZNK4pbrt11Interaction10SpawnRayToENS_6Point3IfEE"}
!166 = !{!167, !169, !164}
!167 = distinct !{!167, !168, !"_ZN4pbrt8SpawnRayENS_8Point3fiENS_7Normal3IfEEfNS_7Vector3IfEE: %agg.result"}
!168 = distinct !{!168, !"_ZN4pbrt8SpawnRayENS_8Point3fiENS_7Normal3IfEEfNS_7Vector3IfEE"}
!169 = distinct !{!169, !170, !"_ZN4pbrt10SpawnRayToENS_8Point3fiENS_7Normal3IfEEfNS_6Point3IfEE: %agg.result"}
!170 = distinct !{!170, !"_ZN4pbrt10SpawnRayToENS_8Point3fiENS_7Normal3IfEEfNS_6Point3IfEE"}
!171 = !{!172, !164}
!172 = distinct !{!172, !173, !"_ZNK4pbrt11Interaction9GetMediumENS_7Vector3IfEE: %agg.result"}
!173 = distinct !{!173, !"_ZNK4pbrt11Interaction9GetMediumENS_7Vector3IfEE"}
!174 = !{!175}
!175 = distinct !{!175, !176, !"_ZNK4pbrt3SOAINS_15TabulatedBSSRDFEE16GetSetIndirectorcvS1_Ev: %agg.result"}
!176 = distinct !{!176, !"_ZNK4pbrt3SOAINS_15TabulatedBSSRDFEE16GetSetIndirectorcvS1_Ev"}
!177 = !{!178, !180, !182}
!178 = distinct !{!178, !179, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEEixEi: %agg.result"}
!179 = distinct !{!179, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEEixEi"}
!180 = distinct !{!180, !181, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEE4LoadEi: %agg.result"}
!181 = distinct !{!181, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEE4LoadEi"}
!182 = distinct !{!182, !183, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEE16GetSetIndirectorcvS1_Ev: %agg.result"}
!183 = distinct !{!183, !"_ZNK4pbrt3SOAINS_18SampledWavelengthsEE16GetSetIndirectorcvS1_Ev"}
!184 = !{!185}
!185 = distinct !{!185, !186, !"_ZNK4pbrt3SOAINS_15MediumInterfaceEE16GetSetIndirectorcvS1_Ev: %agg.result"}
!186 = distinct !{!186, !"_ZNK4pbrt3SOAINS_15MediumInterfaceEE16GetSetIndirectorcvS1_Ev"}
!187 = !{!188, !190}
!188 = distinct !{!188, !189, !"_ZNK4pbrt3SOAINS_8Point3fiEE16GetSetIndirectorcvS1_Ev: %agg.result"}
!189 = distinct !{!189, !"_ZNK4pbrt3SOAINS_8Point3fiEE16GetSetIndirectorcvS1_Ev"}
!190 = distinct !{!190, !191, !"_ZNK4pbrt3SOAINS_21SubsurfaceInteractionEE16GetSetIndirectorcvS1_Ev: %agg.result"}
!191 = distinct !{!191, !"_ZNK4pbrt3SOAINS_21SubsurfaceInteractionEE16GetSetIndirectorcvS1_Ev"}
!192 = !{!190}
