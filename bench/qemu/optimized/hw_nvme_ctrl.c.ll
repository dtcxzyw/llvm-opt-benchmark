; ModuleID = 'bench/qemu/original/hw_nvme_ctrl.c.ll'
source_filename = "bench/qemu/original/hw_nvme_ctrl.c.ll"
target datalayout = "e-m:e-p270:32:32-p271:32:32-p272:64:64-i64:64-i128:128-f80:128-n8:16:32:64-S128"
target triple = "x86_64-unknown-linux-gnu"

%struct.TypeInfo = type { ptr, ptr, i64, i64, ptr, ptr, ptr, i8, i64, ptr, ptr, ptr, ptr }
%struct.InterfaceInfo = type { ptr }
%struct.Property = type { ptr, ptr, i64, i8, i64, i8, %union.anon.33, i32, ptr, i32, ptr }
%union.anon.33 = type { i64 }
%struct.VMStateDescription = type { ptr, i8, i8, i32, i32, i32, ptr, ptr, ptr, ptr, ptr, ptr, ptr, ptr }
%struct.MemoryRegionOps = type { ptr, ptr, ptr, ptr, i32, %struct.anon.34, %struct.anon.35 }
%struct.anon.34 = type { i32, i32, i8, ptr }
%struct.anon.35 = type { i32, i32, i8 }
%struct.AIOCBInfo = type { ptr, i64 }
%struct.PropertyInfo = type { ptr, ptr, ptr, i8, ptr, ptr, ptr, ptr, ptr, ptr }
%struct.timeval = type { i64, i64 }
%struct.NvmeCmd = type { i8, i8, i16, i32, i64, i64, %union.NvmeCmdDptr, i32, i32, i32, i32, i32, i32 }
%union.NvmeCmdDptr = type { %struct.anon }
%struct.anon = type { i64, i64 }
%struct.NvmeCtrl = type { %struct.PCIDevice, %struct.MemoryRegion, %struct.MemoryRegion, %struct.NvmeBar, %struct.NvmeParams, %struct.NvmeBus, i16, i8, i32, i16, i16, i32, i8, i32, i32, i64, i64, i64, i16, i8, i32, i32, i64, i64, i8, %struct.anon.20, %struct.anon.21, i8, ptr, %union.anon.22, i32, i32, [5 x i64], ptr, %struct.NvmeNamespace, [257 x ptr], ptr, ptr, %struct.NvmeSQueue, %struct.NvmeCQueue, %struct.NvmeIdCtrl, %struct.anon.28, %struct.NvmePriCtrlCap, %struct.NvmeSecCtrlList, %struct.anon.30 }
%struct.PCIDevice = type { %struct.DeviceState, i8, i8, ptr, ptr, ptr, ptr, ptr, i32, %struct.PCIReqIDCache, [64 x i8], [7 x %struct.PCIIORegion], %struct.AddressSpace, %struct.MemoryRegion, %struct.MemoryRegion, ptr, ptr, [3 x ptr], i8, i8, i32, i8, i32, ptr, ptr, ptr, ptr, ptr, ptr, %struct.MemoryRegion, %struct.MemoryRegion, %struct.MemoryRegion, ptr, i8, i32, i8, %struct.PCIExpressDevice, ptr, ptr, i32, i8, %struct.MemoryRegion, i32, ptr, ptr, ptr, ptr, ptr, i32 }
%struct.DeviceState = type { %struct.Object, ptr, ptr, i8, i8, i64, ptr, i32, i8, ptr, %struct.NamedGPIOListHead, %struct.NamedClockListHead, %struct.BusStateHead, i32, i32, i32, %struct.ResettableState, ptr, %struct.MemReentrancyGuard }
%struct.Object = type { ptr, ptr, ptr, i32, ptr }
%struct.NamedGPIOListHead = type { ptr }
%struct.NamedClockListHead = type { ptr }
%struct.BusStateHead = type { ptr }
%struct.ResettableState = type { i32, i8, i8 }
%struct.MemReentrancyGuard = type { i8 }
%struct.PCIReqIDCache = type { ptr, i32 }
%struct.PCIIORegion = type { i64, i64, i8, ptr, ptr }
%struct.AddressSpace = type { %struct.rcu_head, ptr, ptr, ptr, i32, i32, ptr, %union.anon.15, %union.anon.16 }
%struct.rcu_head = type { ptr, ptr }
%union.anon.15 = type { %struct.QTailQLink }
%struct.QTailQLink = type { ptr, ptr }
%union.anon.16 = type { %struct.QTailQLink }
%struct.PCIExpressDevice = type { i8, i8, i8, i16, %struct.PCIEAERLog, i16, i16, i16, %struct.PCIESriovPF, %struct.PCIESriovVF }
%struct.PCIEAERLog = type { i16, i16, ptr }
%struct.PCIESriovPF = type { i16, [7 x i8], ptr, ptr }
%struct.PCIESriovVF = type { ptr, i16 }
%struct.MemoryRegion = type { %struct.Object, i8, i8, i8, i8, i8, i8, i8, i8, i8, i8, ptr, ptr, ptr, ptr, ptr, ptr, i32, i128, i64, ptr, i64, i8, i8, i8, i8, i8, ptr, i64, i32, %union.anon.17, %union.anon.18, %union.anon.19, ptr, i32, ptr, ptr, i8 }
%union.anon.17 = type { %struct.QTailQLink }
%union.anon.18 = type { %struct.QTailQLink }
%union.anon.19 = type { %struct.QTailQLink }
%struct.NvmeBar = type { i64, i32, i32, i32, i32, [4 x i8], i32, i32, i32, i64, i64, i32, i32, i32, i32, i64, i64, i32, [3492 x i8], i32, i32, i32, i32, i32, i32, i32, [484 x i8] }
%struct.NvmeParams = type { ptr, i32, i32, i16, i32, i8, i32, i8, i8, i8, i8, i8, i8, i8, i8, i16, i16, i8, i8 }
%struct.NvmeBus = type { %struct.BusState }
%struct.BusState = type { %struct.Object, ptr, ptr, ptr, i32, i8, i8, i32, %union.BusChildHead, %struct.BusStateEntry, %struct.ResettableState }
%union.BusChildHead = type { %struct.QTailQLink }
%struct.BusStateEntry = type { ptr, ptr }
%struct.anon.20 = type { %struct.MemoryRegion, ptr, i8, i64 }
%struct.anon.21 = type { ptr, i8, i64 }
%union.anon.22 = type { %struct.QTailQLink }
%struct.NvmeNamespace = type { %struct.DeviceState, %struct.BlockConf, i32, i64, i64, %struct.NvmeIdNs, %struct.NvmeIdNsNvm, %struct.NvmeLBAF, i32, i64, ptr, i8, i16, i32, i8, %struct.anon.4, %union.anon.5, ptr, ptr, %union.anon.6, %union.anon.7, %union.anon.8, %union.anon.9, i32, i64, i64, i32, ptr, i32, i32, %struct.NvmeNamespaceParams, ptr, ptr, %struct.anon.13, %struct.anon.14 }
%struct.BlockConf = type { ptr, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i8, i32, i32, i32, i32 }
%struct.NvmeIdNs = type { i64, i64, i64, i8, i8, i8, i8, i8, i8, i8, i8, i8, i8, i16, i16, i16, i16, i16, i16, i16, [16 x i8], i16, i16, i16, i16, i16, i16, i32, i8, [18 x i8], i8, i16, i16, [16 x i8], i64, [64 x %struct.NvmeLBAF], [3712 x i8] }
%struct.NvmeIdNsNvm = type { i64, i8, [3 x i8], [64 x i32], [3828 x i8] }
%struct.NvmeLBAF = type { i16, i8, i8 }
%struct.anon.4 = type { i16, i16, i32 }
%union.anon.5 = type { %struct.QTailQLink }
%union.anon.6 = type { %struct.QTailQLink }
%union.anon.7 = type { %struct.QTailQLink }
%union.anon.8 = type { %struct.QTailQLink }
%union.anon.9 = type { %struct.QTailQLink }
%struct.NvmeNamespaceParams = type { i8, i8, i32, %struct.QemuUUID, i64, i8, i16, i8, i8, i8, i8, i16, i32, i8, i8, i8, i64, i64, i32, i32, i32, i32, i64, i64, %struct.anon.12 }
%struct.QemuUUID = type { %union.anon.10 }
%union.anon.10 = type { %struct.anon.11 }
%struct.anon.11 = type { i32, i16, i16, i8, i8, [6 x i8] }
%struct.anon.12 = type { ptr }
%struct.anon.13 = type { i32 }
%struct.anon.14 = type { i16, ptr }
%struct.NvmeSQueue = type { ptr, i16, i16, i32, i32, i32, i64, i64, i64, ptr, %struct.EventNotifier, i8, ptr, %union.anon.23, %union.anon.24, %union.anon.25 }
%struct.EventNotifier = type { i32, i32, i8 }
%union.anon.23 = type { %struct.QTailQLink }
%union.anon.24 = type { %struct.QTailQLink }
%union.anon.25 = type { %struct.QTailQLink }
%struct.NvmeCQueue = type { ptr, i8, i16, i16, i32, i32, i32, i32, i64, i64, i64, ptr, %struct.EventNotifier, i8, %union.anon.26, %union.anon.27 }
%union.anon.26 = type { %struct.QTailQLink }
%union.anon.27 = type { %struct.QTailQLink }
%struct.NvmeIdCtrl = type { i16, i16, [20 x i8], [40 x i8], [8 x i8], i8, [3 x i8], i8, i8, i16, i32, i32, i32, i32, i32, [11 x i8], i8, [16 x i8], [128 x i8], i16, i8, i8, i8, i8, i8, i8, i8, i8, i16, i16, i16, i32, i32, [16 x i8], [16 x i8], i32, i16, i8, i8, i16, i16, i16, i16, i32, [6 x i8], i16, i16, [170 x i8], i8, i8, i16, i32, i16, i16, i8, i8, i16, i16, i8, i8, i16, i16, i32, [228 x i8], [256 x i8], [1024 x i8], [32 x %struct.NvmePSD], [1024 x i8] }
%struct.NvmePSD = type { i16, i16, i32, i32, i8, i8, i8, i8, [16 x i8] }
%struct.anon.28 = type { %struct.anon.29, i32, %struct.NvmeHostBehaviorSupport }
%struct.anon.29 = type { i16, i16 }
%struct.NvmeHostBehaviorSupport = type { i8, i8, i8, [509 x i8] }
%struct.NvmePriCtrlCap = type { i16, i16, i8, [27 x i8], i32, i32, i16, i16, i16, i16, [16 x i8], i32, i32, i16, i16, i16, i16, [4016 x i8] }
%struct.NvmeSecCtrlList = type { i8, [31 x i8], [127 x %struct.NvmeSecCtrlEntry] }
%struct.NvmeSecCtrlEntry = type { i16, i16, i8, [3 x i8], i16, i16, i16, [18 x i8] }
%struct.anon.30 = type { i16, i16 }
%struct.NvmeSg = type { i32, %union.anon }
%union.anon = type { %struct.QEMUSGList }
%struct.QEMUSGList = type { ptr, i32, i32, i64, ptr, ptr }
%struct.HostMemoryBackend = type { %struct.Object, i64, i8, i8, i8, i8, i8, i8, i8, i32, ptr, [3 x i64], i32, %struct.MemoryRegion }
%struct.NvmeSglDescriptor = type { i64, i32, [3 x i8], i8 }
%struct.NvmeRequest = type { ptr, ptr, ptr, i16, ptr, %struct.NvmeCqe, %struct.NvmeCmd, %struct.BlockAcctCookie, %struct.NvmeSg, %union.anon.3 }
%struct.NvmeCqe = type { i32, i32, i16, i16, i16, i16 }
%struct.BlockAcctCookie = type { i64, i64, i32 }
%union.anon.3 = type { %struct.QTailQLink }
%struct.ScatterGatherEntry = type { i64, i64 }
%struct.iovec = type { ptr, i64 }
%struct.NvmeZone = type { %struct.NvmeZoneDescr, i64, %union.anon.31 }
%struct.NvmeZoneDescr = type { i8, i8, i8, [5 x i8], i64, i64, i64, [32 x i8] }
%union.anon.31 = type { %struct.QTailQLink }
%struct.PCIDeviceClass = type { %struct.DeviceClass, ptr, ptr, ptr, ptr, i16, i16, i8, i16, i16, i16, ptr }
%struct.DeviceClass = type { %struct.ObjectClass, [1 x i64], ptr, ptr, ptr, i8, i8, ptr, ptr, ptr, ptr, ptr }
%struct.ObjectClass = type { ptr, ptr, [4 x ptr], [4 x ptr], ptr, ptr }
%struct.NvmeAsyncEvent = type { %union.anon.32, %struct.NvmeAerResult }
%union.anon.32 = type { %struct.QTailQLink }
%struct.NvmeAerResult = type { i8, i8, i8, i8 }
%struct.ErrorPropagator = type { ptr, ptr }
%struct.NvmeSubsystem = type { %struct.DeviceState, %struct.NvmeBus, [256 x i8], ptr, [256 x ptr], [257 x ptr], %struct.NvmeEnduranceGroup, %struct.anon.42 }
%struct.NvmeEnduranceGroup = type { i8, %struct.anon.36 }
%struct.anon.36 = type { %struct.NvmeFdpEventBuffer, %struct.NvmeFdpEventBuffer, i16, i16, i8, i64, i64, i64, i64, i8, ptr }
%struct.NvmeFdpEventBuffer = type { [63 x %struct.NvmeFdpEvent], i32, i32, i32 }
%struct.NvmeFdpEvent = type <{ i8, i8, i16, i64, i32, [2 x i64], i16, i8, [5 x i8], [3 x i64] }>
%struct.anon.42 = type { ptr, %struct.anon.43 }
%struct.anon.43 = type { i8, i64, i16, i32 }
%struct.NvmeDirectiveIdentify = type { i8, [31 x i8], i8, [31 x i8], i8, [31 x i8], [4000 x i8] }
%struct.NvmeIdCtrlNvm = type { i8, i8, i8, i8, i32, i64, [4080 x i8] }
%struct.NvmeFlushAIOCB = type { %struct.BlockAIOCB, ptr, ptr, i32, ptr, i32, i8 }
%struct.BlockAIOCB = type { ptr, ptr, ptr, ptr, i32 }
%struct.NvmeFormatAIOCB = type { %struct.BlockAIOCB, ptr, ptr, i32, ptr, i32, i8, i64, i8, i8, i8, i8 }
%struct.anon.38 = type { %struct.QEMUIOVector, ptr }
%struct.QEMUIOVector = type { ptr, i32, %union.anon.0 }
%union.anon.0 = type { %struct.anon.1 }
%struct.anon.1 = type { i32, %struct.iovec }
%struct.NvmeDSMAIOCB = type { %struct.BlockAIOCB, ptr, ptr, i32, ptr, i32, i32 }
%struct.NvmeBounceContext = type { ptr, %struct.anon.40, %struct.anon.40 }
%struct.anon.40 = type { %struct.QEMUIOVector, ptr }
%struct.NvmeCopyAIOCB = type { %struct.BlockAIOCB, ptr, ptr, i32, ptr, i32, i32, i32, ptr, %struct.QEMUIOVector, %struct.anon.41, i64, i64, ptr }
%struct.anon.41 = type { %struct.BlockAcctCookie, %struct.BlockAcctCookie }
%struct.NvmeZoneResetAIOCB = type { %struct.BlockAIOCB, ptr, ptr, i32, i8, i32, ptr }
%struct.NvmeIdNsZoned = type { i16, i16, i32, i32, i32, i32, [24 x i8], i32, i16, i16, i8, [2763 x i8], [16 x %struct.NvmeLBAFE], [768 x i8], [256 x i8] }
%struct.NvmeLBAFE = type { i64, i8, [7 x i8] }
%struct.NvmeRuhStatus = type { [14 x i8], i16 }
%struct.NvmeRuHandle = type { i8, i8, i64, i8, i64, ptr }
%struct.NvmeRuhStatusDescr = type { i16, i16, i32, i64, [16 x i8] }
%struct.NvmeReclaimUnit = type { i64 }
%struct.nvme_compare_ctx = type { %struct.anon.38, %struct.anon.39 }
%struct.anon.39 = type { %struct.QEMUIOVector, ptr }
%struct.NvmeDsmRange = type { i32, i32, i64 }
%struct.NvmeCopySourceRangeFormat0 = type { [8 x i8], i64, i16, [6 x i8], i32, i16, i16 }
%struct.NvmeCopySourceRangeFormat1 = type { [8 x i8], i64, i16, [8 x i8], [10 x i8], i16, i16 }
%struct.NvmeErrorLog = type { i64, i16, i16, i16, i16, i64, i32, i8, [35 x i8] }
%struct.NvmeSmartLog = type <{ i8, i16, i8, i8, i8, [26 x i8], [2 x i64], [2 x i64], [2 x i64], [2 x i64], [2 x i64], [2 x i64], [2 x i64], [2 x i64], [2 x i64], [2 x i64], [320 x i8] }>
%struct.BlockAcctStats = type { %struct.QemuMutex, [6 x i64], [6 x i64], [6 x i64], [6 x i64], [6 x i64], [6 x i64], i64, %struct.anon.44, i8, i8, [6 x %struct.BlockLatencyHistogram] }
%struct.QemuMutex = type { %union.pthread_mutex_t, i8 }
%union.pthread_mutex_t = type { %struct.__pthread_mutex_s }
%struct.__pthread_mutex_s = type { i32, i32, i32, i32, i32, i16, i16, %struct.__pthread_internal_list }
%struct.__pthread_internal_list = type { ptr, ptr }
%struct.anon.44 = type { ptr }
%struct.BlockLatencyHistogram = type { i32, ptr, ptr }
%struct.NvmeFwSlotInfoLog = type { i8, [7 x i8], [8 x i8], [8 x i8], [8 x i8], [8 x i8], [8 x i8], [8 x i8], [8 x i8], [448 x i8] }
%struct.NvmeEffectsLog = type { [256 x i32], [256 x i32], [2048 x i8] }
%struct.NvmeEndGrpLog = type { i8, [2 x i8], i8, i8, i8, [26 x i8], [2 x i64], [2 x i64], [2 x i64], [2 x i64], [2 x i64], [2 x i64], [2 x i64], [2 x i64], [352 x i8] }
%struct.NvmeFdpConfsHdr = type { i16, i8, i8, i32, [8 x i8] }
%struct.NvmeRuhDescr = type { i8, [3 x i8] }
%struct.NvmeRuhuLog = type { i16, [6 x i8] }
%struct.NvmeRuhuDescr = type { i8, [7 x i8] }
%struct.NvmeFdpStatsLog = type { [2 x i64], [2 x i64], [2 x i64], [16 x i8] }
%struct.NvmeFdpEventsLog = type { i32, [60 x i8] }
%struct.NvmeFdpEventDescr = type { i8, i8 }

@.str = private unnamed_addr constant [36 x i8] c"nsid && nsid <= NVME_MAX_NAMESPACES\00", align 1
@.str.1 = private unnamed_addr constant [23 x i8] c"../qemu/hw/nvme/ctrl.c\00", align 1
@__PRETTY_FUNCTION__.nvme_attach_ns = private unnamed_addr constant [49 x i8] c"void nvme_attach_ns(NvmeCtrl *, NvmeNamespace *)\00", align 1
@trace_events_enabled_count = external local_unnamed_addr global i32, align 4
@_TRACE_PCI_NVME_MAP_PRP_DSTATE = external local_unnamed_addr global i16, align 2
@message_with_timestamp = external local_unnamed_addr global i8, align 1
@.str.2 = private unnamed_addr constant [86 x i8] c"%d@%zu.%06zu:pci_nvme_map_prp trans_len %lu len %u prp1 0x%lx prp2 0x%lx num_prps %d\0A\00", align 1
@.str.3 = private unnamed_addr constant [73 x i8] c"pci_nvme_map_prp trans_len %lu len %u prp1 0x%lx prp2 0x%lx num_prps %d\0A\00", align 1
@qemu_loglevel = external local_unnamed_addr global i32, align 4
@.str.4 = private unnamed_addr constant [7 x i8] c"device\00", align 1
@.str.5 = private unnamed_addr constant [101 x i8] c"/home/dtcxzyw/WorkSpace/Projects/compilers/llvm-opt-benchmark/bench/qemu/qemu/include/hw/qdev-core.h\00", align 1
@__func__.DEVICE = private unnamed_addr constant [7 x i8] c"DEVICE\00", align 1
@.str.6 = private unnamed_addr constant [11 x i8] c"pci-device\00", align 1
@.str.7 = private unnamed_addr constant [106 x i8] c"/home/dtcxzyw/WorkSpace/Projects/compilers/llvm-opt-benchmark/bench/qemu/qemu/include/hw/pci/pci_device.h\00", align 1
@__func__.PCI_DEVICE = private unnamed_addr constant [11 x i8] c"PCI_DEVICE\00", align 1
@.str.8 = private unnamed_addr constant [7 x i8] c"r == a\00", align 1
@.str.9 = private unnamed_addr constant [100 x i8] c"/home/dtcxzyw/WorkSpace/Projects/compilers/llvm-opt-benchmark/bench/qemu/qemu/include/qemu/int128.h\00", align 1
@__PRETTY_FUNCTION__.int128_get64 = private unnamed_addr constant [30 x i8] c"uint64_t int128_get64(Int128)\00", align 1
@.str.10 = private unnamed_addr constant [69 x i8] c"pci_nvme_ub_too_many_mappings in %s: number of mappings exceed 1024\0A\00", align 1
@__func__.nvme_map_addr = private unnamed_addr constant [14 x i8] c"nvme_map_addr\00", align 1
@_TRACE_PCI_NVME_MAP_ADDR_DSTATE = external local_unnamed_addr global i16, align 2
@.str.11 = private unnamed_addr constant [51 x i8] c"%d@%zu.%06zu:pci_nvme_map_addr addr 0x%lx len %lu\0A\00", align 1
@.str.12 = private unnamed_addr constant [38 x i8] c"pci_nvme_map_addr addr 0x%lx len %lu\0A\00", align 1
@_TRACE_PCI_NVME_MAP_ADDR_CMB_DSTATE = external local_unnamed_addr global i16, align 2
@.str.13 = private unnamed_addr constant [55 x i8] c"%d@%zu.%06zu:pci_nvme_map_addr_cmb addr 0x%lx len %lu\0A\00", align 1
@.str.14 = private unnamed_addr constant [42 x i8] c"pci_nvme_map_addr_cmb addr 0x%lx len %lu\0A\00", align 1
@_TRACE_PCI_NVME_UB_TOO_MANY_MAPPINGS_DSTATE = external local_unnamed_addr global i16, align 2
@.str.15 = private unnamed_addr constant [70 x i8] c"%d@%zu.%06zu:pci_nvme_ub_too_many_mappings too many prp/sgl mappings\0A\00", align 1
@.str.16 = private unnamed_addr constant [57 x i8] c"pci_nvme_ub_too_many_mappings too many prp/sgl mappings\0A\00", align 1
@_TRACE_PCI_NVME_ERR_ADDR_READ_DSTATE = external local_unnamed_addr global i16, align 2
@.str.17 = private unnamed_addr constant [48 x i8] c"%d@%zu.%06zu:pci_nvme_err_addr_read addr 0x%lx\0A\00", align 1
@.str.18 = private unnamed_addr constant [35 x i8] c"pci_nvme_err_addr_read addr 0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_PRPLIST_ENT_DSTATE = external local_unnamed_addr global i16, align 2
@.str.19 = private unnamed_addr constant [89 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_prplist_ent PRP list entry is not page aligned: 0x%lx\0A\00", align 1
@.str.20 = private unnamed_addr constant [76 x i8] c"pci_nvme_err_invalid_prplist_ent PRP list entry is not page aligned: 0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_PRP2_ALIGN_DSTATE = external local_unnamed_addr global i16, align 2
@.str.21 = private unnamed_addr constant [78 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_prp2_align PRP2 is not page aligned: 0x%lx\0A\00", align 1
@.str.22 = private unnamed_addr constant [65 x i8] c"pci_nvme_err_invalid_prp2_align PRP2 is not page aligned: 0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_MAP_SGL_DSTATE = external local_unnamed_addr global i16, align 2
@.str.23 = private unnamed_addr constant [49 x i8] c"%d@%zu.%06zu:pci_nvme_map_sgl type 0x%x len %lu\0A\00", align 1
@.str.24 = private unnamed_addr constant [36 x i8] c"pci_nvme_map_sgl type 0x%x len %lu\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_SGL_EXCESS_LENGTH_DSTATE = external local_unnamed_addr global i16, align 2
@.str.25 = private unnamed_addr constant [65 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_sgl_excess_length residual %u\0A\00", align 1
@.str.26 = private unnamed_addr constant [52 x i8] c"pci_nvme_err_invalid_sgl_excess_length residual %u\0A\00", align 1
@.str.27 = private unnamed_addr constant [26 x i8] c"sg->flags & NVME_SG_ALLOC\00", align 1
@__PRETTY_FUNCTION__.nvme_tx_interleaved = private unnamed_addr constant [117 x i8] c"uint16_t nvme_tx_interleaved(NvmeCtrl *, NvmeSg *, uint8_t *, uint32_t, uint32_t, int32_t, int64_t, NvmeTxDirection)\00", align 1
@__PRETTY_FUNCTION__.nvme_tx = private unnamed_addr constant [74 x i8] c"uint16_t nvme_tx(NvmeCtrl *, NvmeSg *, void *, uint32_t, NvmeTxDirection)\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_DMA_DSTATE = external local_unnamed_addr global i16, align 2
@.str.28 = private unnamed_addr constant [78 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_dma PRP/SGL is too small for transfer size\0A\00", align 1
@.str.29 = private unnamed_addr constant [65 x i8] c"pci_nvme_err_invalid_dma PRP/SGL is too small for transfer size\0A\00", align 1
@_TRACE_PCI_NVME_RW_COMPLETE_CB_DSTATE = external local_unnamed_addr global i16, align 2
@.str.30 = private unnamed_addr constant [54 x i8] c"%d@%zu.%06zu:pci_nvme_rw_complete_cb cid %u blk '%s'\0A\00", align 1
@.str.31 = private unnamed_addr constant [41 x i8] c"pci_nvme_rw_complete_cb cid %u blk '%s'\0A\00", align 1
@__func__.nvme_aio_err = private unnamed_addr constant [13 x i8] c"nvme_aio_err\00", align 1
@.str.32 = private unnamed_addr constant [11 x i8] c"aio failed\00", align 1
@_TRACE_PCI_NVME_ERR_AIO_DSTATE = external local_unnamed_addr global i16, align 2
@.str.33 = private unnamed_addr constant [59 x i8] c"%d@%zu.%06zu:pci_nvme_err_aio cid %u err '%s' status 0x%x\0A\00", align 1
@.str.34 = private unnamed_addr constant [46 x i8] c"pci_nvme_err_aio cid %u err '%s' status 0x%x\0A\00", align 1
@.str.35 = private unnamed_addr constant [5 x i8] c"zone\00", align 1
@__PRETTY_FUNCTION__.nvme_finalize_zoned_write = private unnamed_addr constant [63 x i8] c"void nvme_finalize_zoned_write(NvmeNamespace *, NvmeRequest *)\00", align 1
@_TRACE_PCI_NVME_ZONED_ZRWA_IMPLICIT_FLUSH_DSTATE = external local_unnamed_addr global i16, align 2
@.str.36 = private unnamed_addr constant [68 x i8] c"%d@%zu.%06zu:pci_nvme_zoned_zrwa_implicit_flush zslba 0x%lx nlb %u\0A\00", align 1
@.str.37 = private unnamed_addr constant [55 x i8] c"pci_nvme_zoned_zrwa_implicit_flush zslba 0x%lx nlb %u\0A\00", align 1
@.str.38 = private unnamed_addr constant [22 x i8] c"ns->nr_open_zones > 0\00", align 1
@.str.39 = private unnamed_addr constant [23 x i8] c"../qemu/hw/nvme/nvme.h\00", align 1
@__PRETTY_FUNCTION__.nvme_aor_dec_open = private unnamed_addr constant [40 x i8] c"void nvme_aor_dec_open(NvmeNamespace *)\00", align 1
@.str.40 = private unnamed_addr constant [23 x i8] c"ns->nr_open_zones >= 0\00", align 1
@.str.41 = private unnamed_addr constant [24 x i8] c"ns->nr_active_zones > 0\00", align 1
@__PRETTY_FUNCTION__.nvme_aor_dec_active = private unnamed_addr constant [42 x i8] c"void nvme_aor_dec_active(NvmeNamespace *)\00", align 1
@.str.42 = private unnamed_addr constant [41 x i8] c"ns->nr_active_zones >= ns->nr_open_zones\00", align 1
@.str.43 = private unnamed_addr constant [25 x i8] c"ns->nr_active_zones >= 0\00", align 1
@.str.44 = private unnamed_addr constant [26 x i8] c"cq->cqid == req->sq->cqid\00", align 1
@__PRETTY_FUNCTION__.nvme_enqueue_req_completion = private unnamed_addr constant [62 x i8] c"void nvme_enqueue_req_completion(NvmeCQueue *, NvmeRequest *)\00", align 1
@_TRACE_PCI_NVME_ENQUEUE_REQ_COMPLETION_DSTATE = external local_unnamed_addr global i16, align 2
@.str.45 = private unnamed_addr constant [91 x i8] c"%d@%zu.%06zu:pci_nvme_enqueue_req_completion cid %u cqid %u dw0 0x%x dw1 0x%x status 0x%x\0A\00", align 1
@.str.46 = private unnamed_addr constant [78 x i8] c"pci_nvme_enqueue_req_completion cid %u cqid %u dw0 0x%x dw1 0x%x status 0x%x\0A\00", align 1
@_TRACE_PCI_NVME_ERR_REQ_STATUS_DSTATE = external local_unnamed_addr global i16, align 2
@.str.47 = private unnamed_addr constant [74 x i8] c"%d@%zu.%06zu:pci_nvme_err_req_status cid %u nsid %u status 0x%x opc 0x%x\0A\00", align 1
@.str.48 = private unnamed_addr constant [61 x i8] c"pci_nvme_err_req_status cid %u nsid %u status 0x%x opc 0x%x\0A\00", align 1
@nvme_info = internal constant %struct.TypeInfo { ptr @.str.49, ptr @.str.6, i64 31872, i64 0, ptr @nvme_instance_init, ptr null, ptr null, i8 0, i64 0, ptr @nvme_class_init, ptr null, ptr null, ptr @.compoundliteral }, align 8
@nvme_bus_info = internal constant %struct.TypeInfo { ptr @.str.69, ptr @.str.522, i64 120, i64 0, ptr null, ptr null, ptr null, i8 0, i64 0, ptr null, ptr null, ptr null, ptr null }, align 8
@.str.49 = private unnamed_addr constant [5 x i8] c"nvme\00", align 1
@.str.50 = private unnamed_addr constant [19 x i8] c"pci-express-device\00", align 1
@.compoundliteral = internal global [2 x %struct.InterfaceInfo] [%struct.InterfaceInfo { ptr @.str.50 }, %struct.InterfaceInfo zeroinitializer], align 8
@__func__.nvme_instance_init = private unnamed_addr constant [19 x i8] c"nvme_instance_init\00", align 1
@.str.51 = private unnamed_addr constant [10 x i8] c"bootindex\00", align 1
@.str.52 = private unnamed_addr constant [15 x i8] c"/namespace@1,0\00", align 1
@.str.53 = private unnamed_addr constant [23 x i8] c"smart_critical_warning\00", align 1
@.str.54 = private unnamed_addr constant [6 x i8] c"uint8\00", align 1
@__func__.nvme_get_smart_warning = private unnamed_addr constant [23 x i8] c"nvme_get_smart_warning\00", align 1
@__func__.nvme_set_smart_warning = private unnamed_addr constant [23 x i8] c"nvme_set_smart_warning\00", align 1
@.str.55 = private unnamed_addr constant [46 x i8] c"unsupported smart critical warning bits: 0x%x\00", align 1
@_TRACE_PCI_NVME_ENQUEUE_EVENT_DSTATE = external local_unnamed_addr global i16, align 2
@.str.56 = private unnamed_addr constant [66 x i8] c"%d@%zu.%06zu:pci_nvme_enqueue_event type 0x%x info 0x%x lid 0x%x\0A\00", align 1
@.str.57 = private unnamed_addr constant [53 x i8] c"pci_nvme_enqueue_event type 0x%x info 0x%x lid 0x%x\0A\00", align 1
@_TRACE_PCI_NVME_ENQUEUE_EVENT_NOQUEUE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.58 = private unnamed_addr constant [55 x i8] c"%d@%zu.%06zu:pci_nvme_enqueue_event_noqueue queued %d\0A\00", align 1
@.str.59 = private unnamed_addr constant [42 x i8] c"pci_nvme_enqueue_event_noqueue queued %d\0A\00", align 1
@_TRACE_PCI_NVME_PROCESS_AERS_DSTATE = external local_unnamed_addr global i16, align 2
@.str.60 = private unnamed_addr constant [46 x i8] c"%d@%zu.%06zu:pci_nvme_process_aers queued %d\0A\00", align 1
@.str.61 = private unnamed_addr constant [33 x i8] c"pci_nvme_process_aers queued %d\0A\00", align 1
@_TRACE_PCI_NVME_NO_OUTSTANDING_AERS_DSTATE = external local_unnamed_addr global i16, align 2
@.str.62 = private unnamed_addr constant [79 x i8] c"%d@%zu.%06zu:pci_nvme_no_outstanding_aers ignoring event; no outstanding AERs\0A\00", align 1
@.str.63 = private unnamed_addr constant [66 x i8] c"pci_nvme_no_outstanding_aers ignoring event; no outstanding AERs\0A\00", align 1
@_TRACE_PCI_NVME_AER_MASKED_DSTATE = external local_unnamed_addr global i16, align 2
@.str.64 = private unnamed_addr constant [54 x i8] c"%d@%zu.%06zu:pci_nvme_aer_masked type 0x%x mask 0x%x\0A\00", align 1
@.str.65 = private unnamed_addr constant [41 x i8] c"pci_nvme_aer_masked type 0x%x mask 0x%x\0A\00", align 1
@_TRACE_PCI_NVME_AER_POST_CQE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.66 = private unnamed_addr constant [65 x i8] c"%d@%zu.%06zu:pci_nvme_aer_post_cqe type 0x%x info 0x%x lid 0x%x\0A\00", align 1
@.str.67 = private unnamed_addr constant [52 x i8] c"pci_nvme_aer_post_cqe type 0x%x info 0x%x lid 0x%x\0A\00", align 1
@.str.68 = private unnamed_addr constant [28 x i8] c"Non-Volatile Memory Express\00", align 1
@nvme_props = internal global [33 x %struct.Property] [%struct.Property { ptr @.str.486, ptr @qdev_prop_drive, i64 8096, i8 0, i64 0, i8 0, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.487, ptr @qdev_prop_on_off_auto, i64 8104, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.488, ptr @qdev_prop_blocksize, i64 8112, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.489, ptr @qdev_prop_blocksize, i64 8108, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.490, ptr @qdev_prop_size32, i64 8116, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.491, ptr @qdev_prop_size32, i64 8120, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.492, ptr @qdev_prop_size32, i64 8128, i8 0, i64 0, i8 1, %union.anon.33 { i64 4294967295 }, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.493, ptr @qdev_prop_on_off_auto, i64 8156, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.494, ptr @qdev_prop_bool, i64 8160, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.495, ptr @qdev_prop_on_off_auto, i64 8164, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.496, ptr @qdev_prop_on_off_auto, i64 8168, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.497, ptr @qdev_prop_link, i64 7824, i8 0, i64 0, i8 0, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr @.str.498 }, %struct.Property { ptr @.str.499, ptr @qdev_prop_link, i64 7928, i8 0, i64 0, i8 0, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr @.str.500 }, %struct.Property { ptr @.str.501, ptr @qdev_prop_string, i64 7248, i8 0, i64 0, i8 0, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.502, ptr @qdev_prop_uint32, i64 7268, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.503, ptr @qdev_prop_uint32, i64 7256, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.504, ptr @qdev_prop_uint32, i64 7260, i8 0, i64 0, i8 1, %union.anon.33 { i64 64 }, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.505, ptr @qdev_prop_uint16, i64 7264, i8 0, i64 0, i8 1, %union.anon.33 { i64 65 }, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.506, ptr @qdev_prop_uint8, i64 7272, i8 0, i64 0, i8 1, %union.anon.33 { i64 3 }, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.507, ptr @qdev_prop_uint32, i64 7276, i8 0, i64 0, i8 1, %union.anon.33 { i64 64 }, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.508, ptr @qdev_prop_uint8, i64 7280, i8 0, i64 0, i8 1, %union.anon.33 { i64 7 }, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.509, ptr @qdev_prop_uint8, i64 7281, i8 0, i64 0, i8 1, %union.anon.33 { i64 7 }, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.510, ptr @qdev_prop_bool, i64 7282, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.511, ptr @qdev_prop_bool, i64 7285, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.512, ptr @qdev_prop_bool, i64 7286, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.513, ptr @qdev_prop_uint8, i64 7283, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.514, ptr @qdev_prop_bool, i64 7284, i8 0, i64 0, i8 1, %union.anon.33 { i64 1 }, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.515, ptr @qdev_prop_uint8, i64 7287, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.516, ptr @qdev_prop_uint16, i64 7288, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.517, ptr @qdev_prop_uint16, i64 7290, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.518, ptr @qdev_prop_uint8, i64 7293, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property { ptr @.str.519, ptr @qdev_prop_uint8, i64 7292, i8 0, i64 0, i8 1, %union.anon.33 zeroinitializer, i32 0, ptr null, i32 0, ptr null }, %struct.Property zeroinitializer], align 16
@nvme_vmstate = internal constant %struct.VMStateDescription { ptr @.str.49, i8 1, i8 0, i32 0, i32 0, i32 0, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null, ptr null }, align 8
@__func__.DEVICE_CLASS = private unnamed_addr constant [13 x i8] c"DEVICE_CLASS\00", align 1
@__func__.PCI_DEVICE_CLASS = private unnamed_addr constant [17 x i8] c"PCI_DEVICE_CLASS\00", align 1
@__func__.nvme_realize = private unnamed_addr constant [13 x i8] c"nvme_realize\00", align 1
@.str.69 = private unnamed_addr constant [9 x i8] c"nvme-bus\00", align 1
@.str.70 = private unnamed_addr constant [58 x i8] c"num_queues is deprecated; please use max_ioqpairs instead\00", align 1
@__func__.nvme_check_params = private unnamed_addr constant [18 x i8] c"nvme_check_params\00", align 1
@.str.71 = private unnamed_addr constant [74 x i8] c"subsystem support is unavailable with legacy namespace ('drive' property)\00", align 1
@.str.72 = private unnamed_addr constant [38 x i8] c"max_ioqpairs must be between 1 and %d\00", align 1
@.str.73 = private unnamed_addr constant [36 x i8] c"msix_qsize must be between 1 and %d\00", align 1
@.str.74 = private unnamed_addr constant [24 x i8] c"serial property not set\00", align 1
@.str.75 = private unnamed_addr constant [34 x i8] c"can't use already busy memdev: %s\00", align 1
@.str.76 = private unnamed_addr constant [48 x i8] c"pmr backend size needs to be power of 2 in size\00", align 1
@.str.77 = private unnamed_addr constant [100 x i8] c"zoned.zasl (Zone Append Size Limit) must be less than or equal to mdts (Maximum Data Transfer Size)\00", align 1
@.str.78 = private unnamed_addr constant [21 x i8] c"vsl must be non-zero\00", align 1
@.str.79 = private unnamed_addr constant [44 x i8] c"subsystem is required for the use of SR-IOV\00", align 1
@.str.80 = private unnamed_addr constant [39 x i8] c"sriov_max_vfs must be between 0 and %d\00", align 1
@.str.81 = private unnamed_addr constant [33 x i8] c"CMB is not supported with SR-IOV\00", align 1
@.str.82 = private unnamed_addr constant [33 x i8] c"PMR is not supported with SR-IOV\00", align 1
@.str.83 = private unnamed_addr constant [79 x i8] c"both sriov_vq_flexible and sriov_vi_flexible must be set for the use of SR-IOV\00", align 1
@.str.84 = private unnamed_addr constant [74 x i8] c"sriov_vq_flexible must be greater than or equal to %d (sriov_max_vfs * 2)\00", align 1
@.str.85 = private unnamed_addr constant [70 x i8] c"(max_ioqpairs - sriov_vq_flexible) must be greater than or equal to 2\00", align 1
@.str.86 = private unnamed_addr constant [70 x i8] c"sriov_vi_flexible must be greater than or equal to %d (sriov_max_vfs)\00", align 1
@.str.87 = private unnamed_addr constant [68 x i8] c"(msix_qsize - sriov_vi_flexible) must be greater than or equal to 1\00", align 1
@.str.89 = private unnamed_addr constant [97 x i8] c"sriov_max_vq_per_vf must meet: (sriov_max_vq_per_vf - 1) %% %d == 0 and sriov_max_vq_per_vf >= 2\00", align 1
@__func__.nvme_sctrl = private unnamed_addr constant [11 x i8] c"nvme_sctrl\00", align 1
@error_fatal = external global ptr, align 8
@.str.90 = private unnamed_addr constant [10 x i8] c"nvme-bar0\00", align 1
@nvme_mmio_ops = internal constant %struct.MemoryRegionOps { ptr @nvme_mmio_read, ptr @nvme_mmio_write, ptr null, ptr null, i32 2, %struct.anon.34 zeroinitializer, %struct.anon.35 { i32 2, i32 8, i8 0 } }, align 8
@.str.91 = private unnamed_addr constant [83 x i8] c"pci_nvme_ub_mmiord_misaligned32 in %s: MMIO read not 32-bit aligned, offset=0x%lx\0A\00", align 1
@__func__.nvme_mmio_read = private unnamed_addr constant [15 x i8] c"nvme_mmio_read\00", align 1
@.str.92 = private unnamed_addr constant [81 x i8] c"pci_nvme_ub_mmiord_toosmall in %s: MMIO read smaller than 32-bits, offset=0x%lx\0A\00", align 1
@.str.93 = private unnamed_addr constant [97 x i8] c"pci_nvme_ub_mmiord_invalid_ofs in %s: MMIO read beyond last register, offset=0x%lx, returning 0\0A\00", align 1
@_TRACE_PCI_NVME_MMIO_READ_DSTATE = external local_unnamed_addr global i16, align 2
@.str.94 = private unnamed_addr constant [52 x i8] c"%d@%zu.%06zu:pci_nvme_mmio_read addr 0x%lx size %d\0A\00", align 1
@.str.95 = private unnamed_addr constant [39 x i8] c"pci_nvme_mmio_read addr 0x%lx size %d\0A\00", align 1
@_TRACE_PCI_NVME_UB_MMIORD_MISALIGNED32_DSTATE = external local_unnamed_addr global i16, align 2
@.str.96 = private unnamed_addr constant [89 x i8] c"%d@%zu.%06zu:pci_nvme_ub_mmiord_misaligned32 MMIO read not 32-bit aligned, offset=0x%lx\0A\00", align 1
@.str.97 = private unnamed_addr constant [76 x i8] c"pci_nvme_ub_mmiord_misaligned32 MMIO read not 32-bit aligned, offset=0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_UB_MMIORD_TOOSMALL_DSTATE = external local_unnamed_addr global i16, align 2
@.str.98 = private unnamed_addr constant [87 x i8] c"%d@%zu.%06zu:pci_nvme_ub_mmiord_toosmall MMIO read smaller than 32-bits, offset=0x%lx\0A\00", align 1
@.str.99 = private unnamed_addr constant [74 x i8] c"pci_nvme_ub_mmiord_toosmall MMIO read smaller than 32-bits, offset=0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_UB_MMIORD_INVALID_OFS_DSTATE = external local_unnamed_addr global i16, align 2
@.str.100 = private unnamed_addr constant [103 x i8] c"%d@%zu.%06zu:pci_nvme_ub_mmiord_invalid_ofs MMIO read beyond last register, offset=0x%lx, returning 0\0A\00", align 1
@.str.101 = private unnamed_addr constant [90 x i8] c"pci_nvme_ub_mmiord_invalid_ofs MMIO read beyond last register, offset=0x%lx, returning 0\0A\00", align 1
@_TRACE_PCI_NVME_ERR_IGNORED_MMIO_VF_OFFLINE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.102 = private unnamed_addr constant [70 x i8] c"%d@%zu.%06zu:pci_nvme_err_ignored_mmio_vf_offline addr 0x%lx size %d\0A\00", align 1
@.str.103 = private unnamed_addr constant [57 x i8] c"pci_nvme_err_ignored_mmio_vf_offline addr 0x%lx size %d\0A\00", align 1
@.str.104 = private unnamed_addr constant [99 x i8] c"/home/dtcxzyw/WorkSpace/Projects/compilers/llvm-opt-benchmark/bench/qemu/qemu/include/qemu/bswap.h\00", align 1
@__func__.ldn_le_p = private unnamed_addr constant [9 x i8] c"ldn_le_p\00", align 1
@_TRACE_PCI_NVME_MMIO_WRITE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.105 = private unnamed_addr constant [64 x i8] c"%d@%zu.%06zu:pci_nvme_mmio_write addr 0x%lx data 0x%lx size %d\0A\00", align 1
@.str.106 = private unnamed_addr constant [51 x i8] c"pci_nvme_mmio_write addr 0x%lx data 0x%lx size %d\0A\00", align 1
@.str.107 = private unnamed_addr constant [84 x i8] c"pci_nvme_ub_mmiowr_misaligned32 in %s: MMIO write not 32-bit aligned, offset=0x%lx\0A\00", align 1
@__func__.nvme_write_bar = private unnamed_addr constant [15 x i8] c"nvme_write_bar\00", align 1
@.str.108 = private unnamed_addr constant [91 x i8] c"pci_nvme_ub_mmiowr_toosmall in %s: MMIO write smaller than 32-bits, offset=0x%lx, size=%u\0A\00", align 1
@.str.109 = private unnamed_addr constant [106 x i8] c"pci_nvme_ub_mmiowr_intmask_with_msix in %s: undefined access to interrupt mask set when MSI-X is enabled\0A\00", align 1
@.str.110 = private unnamed_addr constant [106 x i8] c"pci_nvme_ub_mmiowr_intmask_with_msix in %s: undefined access to interrupt mask clr when MSI-X is enabled\0A\00", align 1
@.str.111 = private unnamed_addr constant [117 x i8] c"pci_nvme_ub_mmiowr_ssreset_w1c_unsupported in %s: attempted to W1C CSTS.NSSRO but CAP.NSSRS is zero (not supported)\0A\00", align 1
@.str.112 = private unnamed_addr constant [89 x i8] c"pci_nvme_ub_mmiowr_ro_csts in %s: attempted to set a read only bit of controller status\0A\00", align 1
@.str.113 = private unnamed_addr constant [104 x i8] c"pci_nvme_ub_mmiowr_cmbloc_reserved in %s: invalid write to reserved CMBLOC when CMBSZ is zero, ignored\0A\00", align 1
@.str.114 = private unnamed_addr constant [84 x i8] c"pci_nvme_ub_mmiowr_cmbsz_readonly in %s: invalid write to read only CMBSZ, ignored\0A\00", align 1
@.str.115 = private unnamed_addr constant [85 x i8] c"pci_nvme_ub_mmiowr_pmrcap_readonly in %s: invalid write to PMRCAP register, ignored\0A\00", align 1
@.str.116 = private unnamed_addr constant [85 x i8] c"pci_nvme_ub_mmiowr_pmrsts_readonly in %s: invalid write to PMRSTS register, ignored\0A\00", align 1
@.str.117 = private unnamed_addr constant [85 x i8] c"pci_nvme_ub_mmiowr_pmrebs_readonly in %s: invalid write to PMREBS register, ignored\0A\00", align 1
@.str.118 = private unnamed_addr constant [87 x i8] c"pci_nvme_ub_mmiowr_pmrswtp_readonly in %s: invalid write to PMRSWTP register, ignored\0A\00", align 1
@.str.119 = private unnamed_addr constant [78 x i8] c"pci_nvme_ub_mmiowr_invalid in %s: invalid MMIO write, offset=0x%lx, data=%lx\0A\00", align 1
@_TRACE_PCI_NVME_UB_MMIOWR_MISALIGNED32_DSTATE = external local_unnamed_addr global i16, align 2
@.str.120 = private unnamed_addr constant [90 x i8] c"%d@%zu.%06zu:pci_nvme_ub_mmiowr_misaligned32 MMIO write not 32-bit aligned, offset=0x%lx\0A\00", align 1
@.str.121 = private unnamed_addr constant [77 x i8] c"pci_nvme_ub_mmiowr_misaligned32 MMIO write not 32-bit aligned, offset=0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_UB_MMIOWR_TOOSMALL_DSTATE = external local_unnamed_addr global i16, align 2
@.str.122 = private unnamed_addr constant [97 x i8] c"%d@%zu.%06zu:pci_nvme_ub_mmiowr_toosmall MMIO write smaller than 32 bits, offset=0x%lx, size=%u\0A\00", align 1
@.str.123 = private unnamed_addr constant [84 x i8] c"pci_nvme_ub_mmiowr_toosmall MMIO write smaller than 32 bits, offset=0x%lx, size=%u\0A\00", align 1
@_TRACE_PCI_NVME_UB_MMIOWR_INTMASK_WITH_MSIX_DSTATE = external local_unnamed_addr global i16, align 2
@.str.124 = private unnamed_addr constant [112 x i8] c"%d@%zu.%06zu:pci_nvme_ub_mmiowr_intmask_with_msix undefined access to interrupt mask set when MSI-X is enabled\0A\00", align 1
@.str.125 = private unnamed_addr constant [99 x i8] c"pci_nvme_ub_mmiowr_intmask_with_msix undefined access to interrupt mask set when MSI-X is enabled\0A\00", align 1
@_TRACE_PCI_NVME_MMIO_INTM_SET_DSTATE = external local_unnamed_addr global i16, align 2
@.str.126 = private unnamed_addr constant [96 x i8] c"%d@%zu.%06zu:pci_nvme_mmio_intm_set wrote MMIO, interrupt mask set, data=0x%lx, new_mask=0x%lx\0A\00", align 1
@.str.127 = private unnamed_addr constant [83 x i8] c"pci_nvme_mmio_intm_set wrote MMIO, interrupt mask set, data=0x%lx, new_mask=0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_MMIO_INTM_CLR_DSTATE = external local_unnamed_addr global i16, align 2
@.str.128 = private unnamed_addr constant [96 x i8] c"%d@%zu.%06zu:pci_nvme_mmio_intm_clr wrote MMIO, interrupt mask clr, data=0x%lx, new_mask=0x%lx\0A\00", align 1
@.str.129 = private unnamed_addr constant [83 x i8] c"pci_nvme_mmio_intm_clr wrote MMIO, interrupt mask clr, data=0x%lx, new_mask=0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_MMIO_CFG_DSTATE = external local_unnamed_addr global i16, align 2
@.str.130 = private unnamed_addr constant [75 x i8] c"%d@%zu.%06zu:pci_nvme_mmio_cfg wrote MMIO, config controller config=0x%lx\0A\00", align 1
@.str.131 = private unnamed_addr constant [62 x i8] c"pci_nvme_mmio_cfg wrote MMIO, config controller config=0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_MMIO_SHUTDOWN_SET_DSTATE = external local_unnamed_addr global i16, align 2
@.str.132 = private unnamed_addr constant [58 x i8] c"%d@%zu.%06zu:pci_nvme_mmio_shutdown_set shutdown bit set\0A\00", align 1
@.str.133 = private unnamed_addr constant [45 x i8] c"pci_nvme_mmio_shutdown_set shutdown bit set\0A\00", align 1
@_TRACE_PCI_NVME_MMIO_SHUTDOWN_CLEARED_DSTATE = external local_unnamed_addr global i16, align 2
@.str.134 = private unnamed_addr constant [66 x i8] c"%d@%zu.%06zu:pci_nvme_mmio_shutdown_cleared shutdown bit cleared\0A\00", align 1
@.str.135 = private unnamed_addr constant [53 x i8] c"pci_nvme_mmio_shutdown_cleared shutdown bit cleared\0A\00", align 1
@_TRACE_PCI_NVME_ERR_STARTFAIL_VIRT_STATE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.136 = private unnamed_addr constant [102 x i8] c"%d@%zu.%06zu:pci_nvme_err_startfail_virt_state nvme_start_ctrl failed due to ctrl state: vi=%u vq=%u\0A\00", align 1
@.str.137 = private unnamed_addr constant [89 x i8] c"pci_nvme_err_startfail_virt_state nvme_start_ctrl failed due to ctrl state: vi=%u vq=%u\0A\00", align 1
@_TRACE_PCI_NVME_ERR_STARTFAIL_CQ_DSTATE = external local_unnamed_addr global i16, align 2
@.str.138 = private unnamed_addr constant [109 x i8] c"%d@%zu.%06zu:pci_nvme_err_startfail_cq nvme_start_ctrl failed because there are non-admin completion queues\0A\00", align 1
@.str.139 = private unnamed_addr constant [96 x i8] c"pci_nvme_err_startfail_cq nvme_start_ctrl failed because there are non-admin completion queues\0A\00", align 1
@_TRACE_PCI_NVME_ERR_STARTFAIL_SQ_DSTATE = external local_unnamed_addr global i16, align 2
@.str.140 = private unnamed_addr constant [109 x i8] c"%d@%zu.%06zu:pci_nvme_err_startfail_sq nvme_start_ctrl failed because there are non-admin submission queues\0A\00", align 1
@.str.141 = private unnamed_addr constant [96 x i8] c"pci_nvme_err_startfail_sq nvme_start_ctrl failed because there are non-admin submission queues\0A\00", align 1
@_TRACE_PCI_NVME_ERR_STARTFAIL_ASQ_MISALIGNED_DSTATE = external local_unnamed_addr global i16, align 2
@.str.142 = private unnamed_addr constant [139 x i8] c"%d@%zu.%06zu:pci_nvme_err_startfail_asq_misaligned nvme_start_ctrl failed because the admin submission queue address is misaligned: 0x%lx\0A\00", align 1
@.str.143 = private unnamed_addr constant [126 x i8] c"pci_nvme_err_startfail_asq_misaligned nvme_start_ctrl failed because the admin submission queue address is misaligned: 0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_ERR_STARTFAIL_ACQ_MISALIGNED_DSTATE = external local_unnamed_addr global i16, align 2
@.str.144 = private unnamed_addr constant [139 x i8] c"%d@%zu.%06zu:pci_nvme_err_startfail_acq_misaligned nvme_start_ctrl failed because the admin completion queue address is misaligned: 0x%lx\0A\00", align 1
@.str.145 = private unnamed_addr constant [126 x i8] c"pci_nvme_err_startfail_acq_misaligned nvme_start_ctrl failed because the admin completion queue address is misaligned: 0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_ERR_STARTFAIL_CSS_DSTATE = external local_unnamed_addr global i16, align 2
@.str.146 = private unnamed_addr constant [104 x i8] c"%d@%zu.%06zu:pci_nvme_err_startfail_css nvme_start_ctrl failed because invalid command set selected:%u\0A\00", align 1
@.str.147 = private unnamed_addr constant [91 x i8] c"pci_nvme_err_startfail_css nvme_start_ctrl failed because invalid command set selected:%u\0A\00", align 1
@_TRACE_PCI_NVME_ERR_STARTFAIL_PAGE_TOO_SMALL_DSTATE = external local_unnamed_addr global i16, align 2
@.str.148 = private unnamed_addr constant [131 x i8] c"%d@%zu.%06zu:pci_nvme_err_startfail_page_too_small nvme_start_ctrl failed because the page size is too small: log2size=%u, min=%u\0A\00", align 1
@.str.149 = private unnamed_addr constant [118 x i8] c"pci_nvme_err_startfail_page_too_small nvme_start_ctrl failed because the page size is too small: log2size=%u, min=%u\0A\00", align 1
@_TRACE_PCI_NVME_ERR_STARTFAIL_PAGE_TOO_LARGE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.150 = private unnamed_addr constant [131 x i8] c"%d@%zu.%06zu:pci_nvme_err_startfail_page_too_large nvme_start_ctrl failed because the page size is too large: log2size=%u, max=%u\0A\00", align 1
@.str.151 = private unnamed_addr constant [118 x i8] c"pci_nvme_err_startfail_page_too_large nvme_start_ctrl failed because the page size is too large: log2size=%u, max=%u\0A\00", align 1
@_TRACE_PCI_NVME_ERR_STARTFAIL_ASQENT_SZ_ZERO_DSTATE = external local_unnamed_addr global i16, align 2
@.str.152 = private unnamed_addr constant [123 x i8] c"%d@%zu.%06zu:pci_nvme_err_startfail_asqent_sz_zero nvme_start_ctrl failed because the admin submission queue size is zero\0A\00", align 1
@.str.153 = private unnamed_addr constant [110 x i8] c"pci_nvme_err_startfail_asqent_sz_zero nvme_start_ctrl failed because the admin submission queue size is zero\0A\00", align 1
@_TRACE_PCI_NVME_ERR_STARTFAIL_ACQENT_SZ_ZERO_DSTATE = external local_unnamed_addr global i16, align 2
@.str.154 = private unnamed_addr constant [123 x i8] c"%d@%zu.%06zu:pci_nvme_err_startfail_acqent_sz_zero nvme_start_ctrl failed because the admin completion queue size is zero\0A\00", align 1
@.str.155 = private unnamed_addr constant [110 x i8] c"pci_nvme_err_startfail_acqent_sz_zero nvme_start_ctrl failed because the admin completion queue size is zero\0A\00", align 1
@.str.156 = private unnamed_addr constant [15 x i8] c"nvme_post_cqes\00", align 1
@_TRACE_PCI_NVME_UPDATE_CQ_HEAD_DSTATE = external local_unnamed_addr global i16, align 2
@.str.157 = private unnamed_addr constant [58 x i8] c"%d@%zu.%06zu:pci_nvme_update_cq_head cqid %u new_head %u\0A\00", align 1
@.str.158 = private unnamed_addr constant [45 x i8] c"pci_nvme_update_cq_head cqid %u new_head %u\0A\00", align 1
@.str.159 = private unnamed_addr constant [16 x i8] c"cq->vector < 32\00", align 1
@__PRETTY_FUNCTION__.nvme_irq_deassert = private unnamed_addr constant [49 x i8] c"void nvme_irq_deassert(NvmeCtrl *, NvmeCQueue *)\00", align 1
@_TRACE_PCI_NVME_UPDATE_CQ_EVENTIDX_DSTATE = external local_unnamed_addr global i16, align 2
@.str.160 = private unnamed_addr constant [66 x i8] c"%d@%zu.%06zu:pci_nvme_update_cq_eventidx cqid %u new_eventidx %u\0A\00", align 1
@.str.161 = private unnamed_addr constant [53 x i8] c"pci_nvme_update_cq_eventidx cqid %u new_eventidx %u\0A\00", align 1
@_TRACE_PCI_NVME_ERR_ADDR_WRITE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.162 = private unnamed_addr constant [49 x i8] c"%d@%zu.%06zu:pci_nvme_err_addr_write addr 0x%lx\0A\00", align 1
@.str.163 = private unnamed_addr constant [36 x i8] c"pci_nvme_err_addr_write addr 0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_ERR_CFS_DSTATE = external local_unnamed_addr global i16, align 2
@.str.164 = private unnamed_addr constant [55 x i8] c"%d@%zu.%06zu:pci_nvme_err_cfs controller fatal status\0A\00", align 1
@.str.165 = private unnamed_addr constant [42 x i8] c"pci_nvme_err_cfs controller fatal status\0A\00", align 1
@__PRETTY_FUNCTION__.nvme_irq_assert = private unnamed_addr constant [47 x i8] c"void nvme_irq_assert(NvmeCtrl *, NvmeCQueue *)\00", align 1
@_TRACE_PCI_NVME_IRQ_MSIX_DSTATE = external local_unnamed_addr global i16, align 2
@.str.166 = private unnamed_addr constant [60 x i8] c"%d@%zu.%06zu:pci_nvme_irq_msix raising MSI-X IRQ vector %u\0A\00", align 1
@.str.167 = private unnamed_addr constant [47 x i8] c"pci_nvme_irq_msix raising MSI-X IRQ vector %u\0A\00", align 1
@_TRACE_PCI_NVME_IRQ_PIN_DSTATE = external local_unnamed_addr global i16, align 2
@.str.168 = private unnamed_addr constant [47 x i8] c"%d@%zu.%06zu:pci_nvme_irq_pin pulsing IRQ pin\0A\00", align 1
@.str.169 = private unnamed_addr constant [34 x i8] c"pci_nvme_irq_pin pulsing IRQ pin\0A\00", align 1
@_TRACE_PCI_NVME_IRQ_MASKED_DSTATE = external local_unnamed_addr global i16, align 2
@.str.170 = private unnamed_addr constant [48 x i8] c"%d@%zu.%06zu:pci_nvme_irq_masked IRQ is masked\0A\00", align 1
@.str.171 = private unnamed_addr constant [35 x i8] c"pci_nvme_irq_masked IRQ is masked\0A\00", align 1
@.str.172 = private unnamed_addr constant [16 x i8] c"nvme_process_sq\00", align 1
@.str.173 = private unnamed_addr constant [12 x i8] c"n->cq[cqid]\00", align 1
@__PRETTY_FUNCTION__.nvme_init_sq = private unnamed_addr constant [84 x i8] c"void nvme_init_sq(NvmeSQueue *, NvmeCtrl *, uint64_t, uint16_t, uint16_t, uint16_t)\00", align 1
@_TRACE_PCI_NVME_UPDATE_SQ_TAIL_DSTATE = external local_unnamed_addr global i16, align 2
@.str.174 = private unnamed_addr constant [58 x i8] c"%d@%zu.%06zu:pci_nvme_update_sq_tail sqid %u new_tail %u\0A\00", align 1
@.str.175 = private unnamed_addr constant [45 x i8] c"pci_nvme_update_sq_tail sqid %u new_tail %u\0A\00", align 1
@.str.176 = private unnamed_addr constant [6 x i8] c"false\00", align 1
@__PRETTY_FUNCTION__.nvme_io_cmd = private unnamed_addr constant [48 x i8] c"uint16_t nvme_io_cmd(NvmeCtrl *, NvmeRequest *)\00", align 1
@_TRACE_PCI_NVME_IO_CMD_DSTATE = external local_unnamed_addr global i16, align 2
@.str.177 = private unnamed_addr constant [76 x i8] c"%d@%zu.%06zu:pci_nvme_io_cmd cid %u nsid 0x%x sqid %u opc 0x%x opname '%s'\0A\00", align 1
@.str.178 = private unnamed_addr constant [63 x i8] c"pci_nvme_io_cmd cid %u nsid 0x%x sqid %u opc 0x%x opname '%s'\0A\00", align 1
@.str.179 = private unnamed_addr constant [19 x i8] c"NVME_NVM_CMD_FLUSH\00", align 1
@.str.180 = private unnamed_addr constant [19 x i8] c"NVME_NVM_CMD_WRITE\00", align 1
@.str.181 = private unnamed_addr constant [18 x i8] c"NVME_NVM_CMD_READ\00", align 1
@.str.182 = private unnamed_addr constant [21 x i8] c"NVME_NVM_CMD_COMPARE\00", align 1
@.str.183 = private unnamed_addr constant [26 x i8] c"NVME_NVM_CMD_WRITE_ZEROES\00", align 1
@.str.184 = private unnamed_addr constant [17 x i8] c"NVME_NVM_CMD_DSM\00", align 1
@.str.185 = private unnamed_addr constant [20 x i8] c"NVME_NVM_CMD_VERIFY\00", align 1
@.str.186 = private unnamed_addr constant [18 x i8] c"NVME_NVM_CMD_COPY\00", align 1
@.str.187 = private unnamed_addr constant [25 x i8] c"NVME_ZONED_CMD_MGMT_SEND\00", align 1
@.str.188 = private unnamed_addr constant [25 x i8] c"NVME_ZONED_CMD_MGMT_RECV\00", align 1
@.str.189 = private unnamed_addr constant [27 x i8] c"NVME_ZONED_CMD_ZONE_APPEND\00", align 1
@.str.190 = private unnamed_addr constant [21 x i8] c"NVME_NVM_CMD_UNKNOWN\00", align 1
@nvme_flush_aiocb_info = internal constant %struct.AIOCBInfo { ptr @nvme_flush_cancel, i64 80 }, align 8
@_TRACE_PCI_NVME_MISC_CB_DSTATE = external local_unnamed_addr global i16, align 2
@.str.191 = private unnamed_addr constant [38 x i8] c"%d@%zu.%06zu:pci_nvme_misc_cb cid %u\0A\00", align 1
@.str.192 = private unnamed_addr constant [25 x i8] c"pci_nvme_misc_cb cid %u\0A\00", align 1
@_TRACE_PCI_NVME_FLUSH_NS_DSTATE = external local_unnamed_addr global i16, align 2
@.str.193 = private unnamed_addr constant [42 x i8] c"%d@%zu.%06zu:pci_nvme_flush_ns nsid 0x%x\0A\00", align 1
@.str.194 = private unnamed_addr constant [29 x i8] c"pci_nvme_flush_ns nsid 0x%x\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_OPC_DSTATE = external local_unnamed_addr global i16, align 2
@.str.195 = private unnamed_addr constant [59 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_opc invalid opcode 0x%x\0A\00", align 1
@.str.196 = private unnamed_addr constant [46 x i8] c"pci_nvme_err_invalid_opc invalid opcode 0x%x\0A\00", align 1
@__PRETTY_FUNCTION__.nvme_do_write = private unnamed_addr constant [64 x i8] c"uint16_t nvme_do_write(NvmeCtrl *, NvmeRequest *, _Bool, _Bool)\00", align 1
@_TRACE_PCI_NVME_WRITE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.197 = private unnamed_addr constant [83 x i8] c"%d@%zu.%06zu:pci_nvme_write cid %u opname '%s' nsid %u nlb %u count %lu lba 0x%lx\0A\00", align 1
@.str.198 = private unnamed_addr constant [70 x i8] c"pci_nvme_write cid %u opname '%s' nsid %u nlb %u count %lu lba 0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_ERR_MDTS_DSTATE = external local_unnamed_addr global i16, align 2
@.str.199 = private unnamed_addr constant [40 x i8] c"%d@%zu.%06zu:pci_nvme_err_mdts len %zu\0A\00", align 1
@.str.200 = private unnamed_addr constant [27 x i8] c"pci_nvme_err_mdts len %zu\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_LBA_RANGE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.201 = private unnamed_addr constant [85 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_lba_range Invalid LBA start=%lu len=%lu limit=%lu\0A\00", align 1
@.str.202 = private unnamed_addr constant [72 x i8] c"pci_nvme_err_invalid_lba_range Invalid LBA start=%lu len=%lu limit=%lu\0A\00", align 1
@_TRACE_PCI_NVME_ERR_APPEND_NOT_AT_START_DSTATE = external local_unnamed_addr global i16, align 2
@.str.203 = private unnamed_addr constant [83 x i8] c"%d@%zu.%06zu:pci_nvme_err_append_not_at_start appending at slba=%lu, but zone=%lu\0A\00", align 1
@.str.204 = private unnamed_addr constant [70 x i8] c"pci_nvme_err_append_not_at_start appending at slba=%lu, but zone=%lu\0A\00", align 1
@_TRACE_PCI_NVME_ERR_ZASL_DSTATE = external local_unnamed_addr global i16, align 2
@.str.205 = private unnamed_addr constant [40 x i8] c"%d@%zu.%06zu:pci_nvme_err_zasl len %zu\0A\00", align 1
@.str.206 = private unnamed_addr constant [27 x i8] c"pci_nvme_err_zasl len %zu\0A\00", align 1
@__PRETTY_FUNCTION__.nvme_check_zone_state_for_write = private unnamed_addr constant [53 x i8] c"uint16_t nvme_check_zone_state_for_write(NvmeZone *)\00", align 1
@_TRACE_PCI_NVME_ERR_ZONE_IS_FULL_DSTATE = external local_unnamed_addr global i16, align 2
@.str.207 = private unnamed_addr constant [52 x i8] c"%d@%zu.%06zu:pci_nvme_err_zone_is_full zslba 0x%lx\0A\00", align 1
@.str.208 = private unnamed_addr constant [39 x i8] c"pci_nvme_err_zone_is_full zslba 0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_ERR_ZONE_IS_OFFLINE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.209 = private unnamed_addr constant [55 x i8] c"%d@%zu.%06zu:pci_nvme_err_zone_is_offline zslba 0x%lx\0A\00", align 1
@.str.210 = private unnamed_addr constant [42 x i8] c"pci_nvme_err_zone_is_offline zslba 0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_ERR_ZONE_IS_READ_ONLY_DSTATE = external local_unnamed_addr global i16, align 2
@.str.211 = private unnamed_addr constant [57 x i8] c"%d@%zu.%06zu:pci_nvme_err_zone_is_read_only zslba 0x%lx\0A\00", align 1
@.str.212 = private unnamed_addr constant [44 x i8] c"pci_nvme_err_zone_is_read_only zslba 0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_ERR_ZONE_INVALID_WRITE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.213 = private unnamed_addr constant [65 x i8] c"%d@%zu.%06zu:pci_nvme_err_zone_invalid_write lba 0x%lx wp 0x%lx\0A\00", align 1
@.str.214 = private unnamed_addr constant [52 x i8] c"pci_nvme_err_zone_invalid_write lba 0x%lx wp 0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_ERR_WRITE_NOT_AT_WP_DSTATE = external local_unnamed_addr global i16, align 2
@.str.215 = private unnamed_addr constant [85 x i8] c"%d@%zu.%06zu:pci_nvme_err_write_not_at_wp writing at slba=%lu, zone=%lu, but wp=%lu\0A\00", align 1
@.str.216 = private unnamed_addr constant [72 x i8] c"pci_nvme_err_write_not_at_wp writing at slba=%lu, zone=%lu, but wp=%lu\0A\00", align 1
@_TRACE_PCI_NVME_ERR_ZONE_BOUNDARY_DSTATE = external local_unnamed_addr global i16, align 2
@.str.217 = private unnamed_addr constant [69 x i8] c"%d@%zu.%06zu:pci_nvme_err_zone_boundary lba 0x%lx nlb %u zcap 0x%lx\0A\00", align 1
@.str.218 = private unnamed_addr constant [56 x i8] c"pci_nvme_err_zone_boundary lba 0x%lx nlb %u zcap 0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INSUFF_ACTIVE_RES_DSTATE = external local_unnamed_addr global i16, align 2
@.str.219 = private unnamed_addr constant [79 x i8] c"%d@%zu.%06zu:pci_nvme_err_insuff_active_res max_active=%u zone limit exceeded\0A\00", align 1
@.str.220 = private unnamed_addr constant [66 x i8] c"pci_nvme_err_insuff_active_res max_active=%u zone limit exceeded\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INSUFF_OPEN_RES_DSTATE = external local_unnamed_addr global i16, align 2
@.str.221 = private unnamed_addr constant [75 x i8] c"%d@%zu.%06zu:pci_nvme_err_insuff_open_res max_open=%u zone limit exceeded\0A\00", align 1
@.str.222 = private unnamed_addr constant [62 x i8] c"pci_nvme_err_insuff_open_res max_open=%u zone limit exceeded\0A\00", align 1
@__PRETTY_FUNCTION__.nvme_aor_inc_active = private unnamed_addr constant [42 x i8] c"void nvme_aor_inc_active(NvmeNamespace *)\00", align 1
@.str.223 = private unnamed_addr constant [51 x i8] c"ns->nr_active_zones <= ns->params.max_active_zones\00", align 1
@__PRETTY_FUNCTION__.nvme_aor_inc_open = private unnamed_addr constant [40 x i8] c"void nvme_aor_inc_open(NvmeNamespace *)\00", align 1
@.str.224 = private unnamed_addr constant [47 x i8] c"ns->nr_open_zones <= ns->params.max_open_zones\00", align 1
@nvme_fdp_evf_shifts = internal unnamed_addr constant <{ [130 x i8], [125 x i8] }> <{ [130 x i8] c"\00\01\02\03\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00\00 !", [125 x i8] zeroinitializer }>, align 16
@_TRACE_PCI_NVME_GETFEAT_TIMESTAMP_DSTATE = external local_unnamed_addr global i16, align 2
@.str.226 = private unnamed_addr constant [71 x i8] c"%d@%zu.%06zu:pci_nvme_getfeat_timestamp get feature timestamp = 0x%lx\0A\00", align 1
@.str.227 = private unnamed_addr constant [58 x i8] c"pci_nvme_getfeat_timestamp get feature timestamp = 0x%lx\0A\00", align 1
@__PRETTY_FUNCTION__.nvme_sg_split = private unnamed_addr constant [66 x i8] c"void nvme_sg_split(NvmeSg *, NvmeNamespace *, NvmeSg *, NvmeSg *)\00", align 1
@.str.228 = private unnamed_addr constant [30 x i8] c"req->sg.flags & NVME_SG_ALLOC\00", align 1
@__PRETTY_FUNCTION__.nvme_blk_write = private unnamed_addr constant [93 x i8] c"void nvme_blk_write(BlockBackend *, int64_t, uint32_t, BlockCompletionFunc *, NvmeRequest *)\00", align 1
@_TRACE_PCI_NVME_RW_CB_DSTATE = external local_unnamed_addr global i16, align 2
@.str.229 = private unnamed_addr constant [45 x i8] c"%d@%zu.%06zu:pci_nvme_rw_cb cid %u blk '%s'\0A\00", align 1
@.str.230 = private unnamed_addr constant [32 x i8] c"pci_nvme_rw_cb cid %u blk '%s'\0A\00", align 1
@__PRETTY_FUNCTION__.nvme_blk_read = private unnamed_addr constant [92 x i8] c"void nvme_blk_read(BlockBackend *, int64_t, uint32_t, BlockCompletionFunc *, NvmeRequest *)\00", align 1
@_TRACE_PCI_NVME_READ_DSTATE = external local_unnamed_addr global i16, align 2
@.str.231 = private unnamed_addr constant [70 x i8] c"%d@%zu.%06zu:pci_nvme_read cid %u nsid %u nlb %u count %lu lba 0x%lx\0A\00", align 1
@.str.232 = private unnamed_addr constant [57 x i8] c"pci_nvme_read cid %u nsid %u nlb %u count %lu lba 0x%lx\0A\00", align 1
@__PRETTY_FUNCTION__.nvme_check_zone_read = private unnamed_addr constant [67 x i8] c"uint16_t nvme_check_zone_read(NvmeNamespace *, uint64_t, uint32_t)\00", align 1
@__PRETTY_FUNCTION__.nvme_check_zone_state_for_read = private unnamed_addr constant [52 x i8] c"uint16_t nvme_check_zone_state_for_read(NvmeZone *)\00", align 1
@_TRACE_PCI_NVME_ERR_ZONE_READ_NOT_OK_DSTATE = external local_unnamed_addr global i16, align 2
@.str.233 = private unnamed_addr constant [74 x i8] c"%d@%zu.%06zu:pci_nvme_err_zone_read_not_ok slba=%lu, nlb=%u, status=0x%x\0A\00", align 1
@.str.234 = private unnamed_addr constant [61 x i8] c"pci_nvme_err_zone_read_not_ok slba=%lu, nlb=%u, status=0x%x\0A\00", align 1
@__func__.nvme_check_dulbe = private unnamed_addr constant [17 x i8] c"nvme_check_dulbe\00", align 1
@.str.235 = private unnamed_addr constant [27 x i8] c"unable to get block status\00", align 1
@_TRACE_PCI_NVME_BLOCK_STATUS_DSTATE = external local_unnamed_addr global i16, align 2
@.str.236 = private unnamed_addr constant [85 x i8] c"%d@%zu.%06zu:pci_nvme_block_status offset %ld bytes %ld pnum %ld ret 0x%x zeroed %d\0A\00", align 1
@.str.237 = private unnamed_addr constant [72 x i8] c"pci_nvme_block_status offset %ld bytes %ld pnum %ld ret 0x%x zeroed %d\0A\00", align 1
@_TRACE_PCI_NVME_COMPARE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.238 = private unnamed_addr constant [64 x i8] c"%d@%zu.%06zu:pci_nvme_compare cid %u nsid %u slba 0x%lx nlb %u\0A\00", align 1
@.str.239 = private unnamed_addr constant [51 x i8] c"pci_nvme_compare cid %u nsid %u slba 0x%lx nlb %u\0A\00", align 1
@_TRACE_PCI_NVME_COMPARE_DATA_CB_DSTATE = external local_unnamed_addr global i16, align 2
@.str.240 = private unnamed_addr constant [46 x i8] c"%d@%zu.%06zu:pci_nvme_compare_data_cb cid %u\0A\00", align 1
@.str.241 = private unnamed_addr constant [33 x i8] c"pci_nvme_compare_data_cb cid %u\0A\00", align 1
@_TRACE_PCI_NVME_COMPARE_MDATA_CB_DSTATE = external local_unnamed_addr global i16, align 2
@.str.242 = private unnamed_addr constant [47 x i8] c"%d@%zu.%06zu:pci_nvme_compare_mdata_cb cid %u\0A\00", align 1
@.str.243 = private unnamed_addr constant [34 x i8] c"pci_nvme_compare_mdata_cb cid %u\0A\00", align 1
@nvme_dsm_aiocb_info = internal constant %struct.AIOCBInfo { ptr @nvme_dsm_cancel, i64 80 }, align 8
@_TRACE_PCI_NVME_DSM_DSTATE = external local_unnamed_addr global i16, align 2
@.str.244 = private unnamed_addr constant [43 x i8] c"%d@%zu.%06zu:pci_nvme_dsm nr %u attr 0x%x\0A\00", align 1
@.str.245 = private unnamed_addr constant [30 x i8] c"pci_nvme_dsm nr %u attr 0x%x\0A\00", align 1
@_TRACE_PCI_NVME_DSM_DEALLOCATE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.247 = private unnamed_addr constant [54 x i8] c"%d@%zu.%06zu:pci_nvme_dsm_deallocate slba %lu nlb %u\0A\00", align 1
@.str.248 = private unnamed_addr constant [41 x i8] c"pci_nvme_dsm_deallocate slba %lu nlb %u\0A\00", align 1
@_TRACE_PCI_NVME_DSM_SINGLE_RANGE_LIMIT_EXCEEDED_DSTATE = external local_unnamed_addr global i16, align 2
@.str.249 = private unnamed_addr constant [71 x i8] c"%d@%zu.%06zu:pci_nvme_dsm_single_range_limit_exceeded nlb %u dmrsl %u\0A\00", align 1
@.str.250 = private unnamed_addr constant [58 x i8] c"pci_nvme_dsm_single_range_limit_exceeded nlb %u dmrsl %u\0A\00", align 1
@_TRACE_PCI_NVME_VERIFY_DSTATE = external local_unnamed_addr global i16, align 2
@.str.251 = private unnamed_addr constant [63 x i8] c"%d@%zu.%06zu:pci_nvme_verify cid %u nsid %u slba 0x%lx nlb %u\0A\00", align 1
@.str.252 = private unnamed_addr constant [50 x i8] c"pci_nvme_verify cid %u nsid %u slba 0x%lx nlb %u\0A\00", align 1
@_TRACE_PCI_NVME_VERIFY_MDATA_IN_CB_DSTATE = external local_unnamed_addr global i16, align 2
@.str.253 = private unnamed_addr constant [58 x i8] c"%d@%zu.%06zu:pci_nvme_verify_mdata_in_cb cid %u blk '%s'\0A\00", align 1
@.str.254 = private unnamed_addr constant [45 x i8] c"pci_nvme_verify_mdata_in_cb cid %u blk '%s'\0A\00", align 1
@_TRACE_PCI_NVME_VERIFY_CB_DSTATE = external local_unnamed_addr global i16, align 2
@.str.255 = private unnamed_addr constant [89 x i8] c"%d@%zu.%06zu:pci_nvme_verify_cb cid %u prinfo 0x%x apptag 0x%x appmask 0x%x reftag 0x%x\0A\00", align 1
@.str.256 = private unnamed_addr constant [76 x i8] c"pci_nvme_verify_cb cid %u prinfo 0x%x apptag 0x%x appmask 0x%x reftag 0x%x\0A\00", align 1
@nvme_copy_aiocb_info = internal constant %struct.AIOCBInfo { ptr @nvme_copy_cancel, i64 208 }, align 8
@_TRACE_PCI_NVME_COPY_DSTATE = external local_unnamed_addr global i16, align 2
@.str.257 = private unnamed_addr constant [61 x i8] c"%d@%zu.%06zu:pci_nvme_copy cid %u nsid %u nr %u format 0x%x\0A\00", align 1
@.str.258 = private unnamed_addr constant [48 x i8] c"pci_nvme_copy cid %u nsid %u nr %u format 0x%x\0A\00", align 1
@_TRACE_PCI_NVME_ERR_COPY_INVALID_FORMAT_DSTATE = external local_unnamed_addr global i16, align 2
@.str.259 = private unnamed_addr constant [59 x i8] c"%d@%zu.%06zu:pci_nvme_err_copy_invalid_format format 0x%x\0A\00", align 1
@.str.260 = private unnamed_addr constant [46 x i8] c"pci_nvme_err_copy_invalid_format format 0x%x\0A\00", align 1
@_TRACE_PCI_NVME_COPY_SOURCE_RANGE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.261 = private unnamed_addr constant [59 x i8] c"%d@%zu.%06zu:pci_nvme_copy_source_range slba 0x%lx nlb %u\0A\00", align 1
@.str.262 = private unnamed_addr constant [46 x i8] c"pci_nvme_copy_source_range slba 0x%lx nlb %u\0A\00", align 1
@_TRACE_PCI_NVME_COPY_OUT_DSTATE = external local_unnamed_addr global i16, align 2
@.str.263 = private unnamed_addr constant [50 x i8] c"%d@%zu.%06zu:pci_nvme_copy_out slba 0x%lx nlb %u\0A\00", align 1
@.str.264 = private unnamed_addr constant [37 x i8] c"pci_nvme_copy_out slba 0x%lx nlb %u\0A\00", align 1
@nvme_zone_reset_aiocb_info = internal constant %struct.AIOCBInfo { ptr @nvme_zone_reset_cancel, i64 80 }, align 8
@.str.265 = private unnamed_addr constant [26 x i8] c"*zone_idx < ns->num_zones\00", align 1
@__PRETTY_FUNCTION__.nvme_get_mgmt_zone_slba_idx = private unnamed_addr constant [89 x i8] c"uint16_t nvme_get_mgmt_zone_slba_idx(NvmeNamespace *, NvmeCmd *, uint64_t *, uint32_t *)\00", align 1
@_TRACE_PCI_NVME_ERR_UNALIGNED_ZONE_CMD_DSTATE = external local_unnamed_addr global i16, align 2
@.str.266 = private unnamed_addr constant [94 x i8] c"%d@%zu.%06zu:pci_nvme_err_unaligned_zone_cmd unaligned zone op 0x%x, got slba=%lu, zslba=%lu\0A\00", align 1
@.str.267 = private unnamed_addr constant [81 x i8] c"pci_nvme_err_unaligned_zone_cmd unaligned zone op 0x%x, got slba=%lu, zslba=%lu\0A\00", align 1
@_TRACE_PCI_NVME_OPEN_ZONE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.268 = private unnamed_addr constant [69 x i8] c"%d@%zu.%06zu:pci_nvme_open_zone open zone, slba=%lu, idx=%u, all=%i\0A\00", align 1
@.str.269 = private unnamed_addr constant [56 x i8] c"pci_nvme_open_zone open zone, slba=%lu, idx=%u, all=%i\0A\00", align 1
@_TRACE_PCI_NVME_CLOSE_ZONE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.270 = private unnamed_addr constant [71 x i8] c"%d@%zu.%06zu:pci_nvme_close_zone close zone, slba=%lu, idx=%u, all=%i\0A\00", align 1
@.str.271 = private unnamed_addr constant [58 x i8] c"pci_nvme_close_zone close zone, slba=%lu, idx=%u, all=%i\0A\00", align 1
@_TRACE_PCI_NVME_FINISH_ZONE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.272 = private unnamed_addr constant [73 x i8] c"%d@%zu.%06zu:pci_nvme_finish_zone finish zone, slba=%lu, idx=%u, all=%i\0A\00", align 1
@.str.273 = private unnamed_addr constant [60 x i8] c"pci_nvme_finish_zone finish zone, slba=%lu, idx=%u, all=%i\0A\00", align 1
@_TRACE_PCI_NVME_RESET_ZONE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.274 = private unnamed_addr constant [71 x i8] c"%d@%zu.%06zu:pci_nvme_reset_zone reset zone, slba=%lu, idx=%u, all=%i\0A\00", align 1
@.str.275 = private unnamed_addr constant [58 x i8] c"pci_nvme_reset_zone reset zone, slba=%lu, idx=%u, all=%i\0A\00", align 1
@_TRACE_PCI_NVME_ZNS_ZONE_RESET_DSTATE = external local_unnamed_addr global i16, align 2
@.str.276 = private unnamed_addr constant [50 x i8] c"%d@%zu.%06zu:pci_nvme_zns_zone_reset zslba 0x%lx\0A\00", align 1
@.str.277 = private unnamed_addr constant [37 x i8] c"pci_nvme_zns_zone_reset zslba 0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_OFFLINE_ZONE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.278 = private unnamed_addr constant [75 x i8] c"%d@%zu.%06zu:pci_nvme_offline_zone offline zone, slba=%lu, idx=%u, all=%i\0A\00", align 1
@.str.279 = private unnamed_addr constant [62 x i8] c"pci_nvme_offline_zone offline zone, slba=%lu, idx=%u, all=%i\0A\00", align 1
@_TRACE_PCI_NVME_SET_DESCRIPTOR_EXTENSION_DSTATE = external local_unnamed_addr global i16, align 2
@.str.280 = private unnamed_addr constant [96 x i8] c"%d@%zu.%06zu:pci_nvme_set_descriptor_extension set zone descriptor extension, slba=%lu, idx=%u\0A\00", align 1
@.str.281 = private unnamed_addr constant [83 x i8] c"pci_nvme_set_descriptor_extension set zone descriptor extension, slba=%lu, idx=%u\0A\00", align 1
@_TRACE_PCI_NVME_ERR_ZD_EXTENSION_MAP_ERROR_DSTATE = external local_unnamed_addr global i16, align 2
@.str.282 = private unnamed_addr constant [97 x i8] c"%d@%zu.%06zu:pci_nvme_err_zd_extension_map_error can't map descriptor extension for zone_idx=%u\0A\00", align 1
@.str.283 = private unnamed_addr constant [84 x i8] c"pci_nvme_err_zd_extension_map_error can't map descriptor extension for zone_idx=%u\0A\00", align 1
@_TRACE_PCI_NVME_ZD_EXTENSION_SET_DSTATE = external local_unnamed_addr global i16, align 2
@.str.284 = private unnamed_addr constant [81 x i8] c"%d@%zu.%06zu:pci_nvme_zd_extension_set set descriptor extension for zone_idx=%u\0A\00", align 1
@.str.285 = private unnamed_addr constant [68 x i8] c"pci_nvme_zd_extension_set set descriptor extension for zone_idx=%u\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_MGMT_ACTION_DSTATE = external local_unnamed_addr global i16, align 2
@.str.286 = private unnamed_addr constant [59 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_mgmt_action action=0x%x\0A\00", align 1
@.str.287 = private unnamed_addr constant [46 x i8] c"pci_nvme_err_invalid_mgmt_action action=0x%x\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_ZONE_STATE_TRANSITION_DSTATE = external local_unnamed_addr global i16, align 2
@.str.288 = private unnamed_addr constant [91 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_zone_state_transition action=0x%x, slba=%lu, attrs=0x%x\0A\00", align 1
@.str.289 = private unnamed_addr constant [78 x i8] c"pci_nvme_err_invalid_zone_state_transition action=0x%x, slba=%lu, attrs=0x%x\0A\00", align 1
@__PRETTY_FUNCTION__.nvme_admin_cmd = private unnamed_addr constant [51 x i8] c"uint16_t nvme_admin_cmd(NvmeCtrl *, NvmeRequest *)\00", align 1
@_TRACE_PCI_NVME_ADMIN_CMD_DSTATE = external local_unnamed_addr global i16, align 2
@.str.290 = private unnamed_addr constant [69 x i8] c"%d@%zu.%06zu:pci_nvme_admin_cmd cid %u sqid %u opc 0x%x opname '%s'\0A\00", align 1
@.str.291 = private unnamed_addr constant [56 x i8] c"pci_nvme_admin_cmd cid %u sqid %u opc 0x%x opname '%s'\0A\00", align 1
@.str.292 = private unnamed_addr constant [23 x i8] c"NVME_ADM_CMD_DELETE_SQ\00", align 1
@.str.293 = private unnamed_addr constant [23 x i8] c"NVME_ADM_CMD_CREATE_SQ\00", align 1
@.str.294 = private unnamed_addr constant [26 x i8] c"NVME_ADM_CMD_GET_LOG_PAGE\00", align 1
@.str.295 = private unnamed_addr constant [23 x i8] c"NVME_ADM_CMD_DELETE_CQ\00", align 1
@.str.296 = private unnamed_addr constant [23 x i8] c"NVME_ADM_CMD_CREATE_CQ\00", align 1
@.str.297 = private unnamed_addr constant [22 x i8] c"NVME_ADM_CMD_IDENTIFY\00", align 1
@.str.298 = private unnamed_addr constant [19 x i8] c"NVME_ADM_CMD_ABORT\00", align 1
@.str.299 = private unnamed_addr constant [26 x i8] c"NVME_ADM_CMD_SET_FEATURES\00", align 1
@.str.300 = private unnamed_addr constant [26 x i8] c"NVME_ADM_CMD_GET_FEATURES\00", align 1
@.str.301 = private unnamed_addr constant [26 x i8] c"NVME_ADM_CMD_ASYNC_EV_REQ\00", align 1
@.str.302 = private unnamed_addr constant [27 x i8] c"NVME_ADM_CMD_NS_ATTACHMENT\00", align 1
@.str.303 = private unnamed_addr constant [28 x i8] c"NVME_ADM_CMD_DIRECTIVE_SEND\00", align 1
@.str.304 = private unnamed_addr constant [24 x i8] c"NVME_ADM_CMD_VIRT_MNGMT\00", align 1
@.str.305 = private unnamed_addr constant [28 x i8] c"NVME_ADM_CMD_DIRECTIVE_RECV\00", align 1
@.str.306 = private unnamed_addr constant [26 x i8] c"NVME_ADM_CMD_DBBUF_CONFIG\00", align 1
@.str.307 = private unnamed_addr constant [24 x i8] c"NVME_ADM_CMD_FORMAT_NVM\00", align 1
@.str.308 = private unnamed_addr constant [21 x i8] c"NVME_ADM_CMD_UNKNOWN\00", align 1
@nvme_cse_acs = internal unnamed_addr constant <{ [129 x i32], [127 x i32] }> <{ [129 x i32] [i32 1, i32 1, i32 1, i32 0, i32 1, i32 1, i32 1, i32 0, i32 1, i32 1, i32 1, i32 0, i32 1, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 9, i32 0, i32 0, i32 0, i32 1, i32 1, i32 0, i32 1, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 1, i32 0, i32 0, i32 0, i32 3], [127 x i32] zeroinitializer }>, align 16
@_TRACE_PCI_NVME_ERR_INVALID_ADMIN_OPC_DSTATE = external local_unnamed_addr global i16, align 2
@.str.310 = private unnamed_addr constant [71 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_admin_opc invalid admin opcode 0x%x\0A\00", align 1
@.str.311 = private unnamed_addr constant [58 x i8] c"pci_nvme_err_invalid_admin_opc invalid admin opcode 0x%x\0A\00", align 1
@.str.312 = private unnamed_addr constant [9 x i8] c"r->aiocb\00", align 1
@__PRETTY_FUNCTION__.nvme_del_sq = private unnamed_addr constant [48 x i8] c"uint16_t nvme_del_sq(NvmeCtrl *, NvmeRequest *)\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_DEL_SQ_DSTATE = external local_unnamed_addr global i16, align 2
@.str.314 = private unnamed_addr constant [84 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_del_sq invalid submission queue deletion, sid=%u\0A\00", align 1
@.str.315 = private unnamed_addr constant [71 x i8] c"pci_nvme_err_invalid_del_sq invalid submission queue deletion, sid=%u\0A\00", align 1
@_TRACE_PCI_NVME_DEL_SQ_DSTATE = external local_unnamed_addr global i16, align 2
@.str.316 = private unnamed_addr constant [64 x i8] c"%d@%zu.%06zu:pci_nvme_del_sq deleting submission queue sqid=%u\0A\00", align 1
@.str.317 = private unnamed_addr constant [51 x i8] c"pci_nvme_del_sq deleting submission queue sqid=%u\0A\00", align 1
@_TRACE_PCI_NVME_CREATE_SQ_DSTATE = external local_unnamed_addr global i16, align 2
@.str.318 = private unnamed_addr constant [108 x i8] c"%d@%zu.%06zu:pci_nvme_create_sq create submission queue, addr=0x%lx, sqid=%u, cqid=%u, qsize=%u, qflags=%u\0A\00", align 1
@.str.319 = private unnamed_addr constant [95 x i8] c"pci_nvme_create_sq create submission queue, addr=0x%lx, sqid=%u, cqid=%u, qsize=%u, qflags=%u\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_CREATE_SQ_CQID_DSTATE = external local_unnamed_addr global i16, align 2
@.str.320 = private unnamed_addr constant [100 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_create_sq_cqid failed creating submission queue, invalid cqid=%u\0A\00", align 1
@.str.321 = private unnamed_addr constant [87 x i8] c"pci_nvme_err_invalid_create_sq_cqid failed creating submission queue, invalid cqid=%u\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_CREATE_SQ_SQID_DSTATE = external local_unnamed_addr global i16, align 2
@.str.322 = private unnamed_addr constant [100 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_create_sq_sqid failed creating submission queue, invalid sqid=%u\0A\00", align 1
@.str.323 = private unnamed_addr constant [87 x i8] c"pci_nvme_err_invalid_create_sq_sqid failed creating submission queue, invalid sqid=%u\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_CREATE_SQ_SIZE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.324 = private unnamed_addr constant [101 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_create_sq_size failed creating submission queue, invalid qsize=%u\0A\00", align 1
@.str.325 = private unnamed_addr constant [88 x i8] c"pci_nvme_err_invalid_create_sq_size failed creating submission queue, invalid qsize=%u\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_CREATE_SQ_ADDR_DSTATE = external local_unnamed_addr global i16, align 2
@.str.326 = private unnamed_addr constant [95 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_create_sq_addr failed creating submission queue, addr=0x%lx\0A\00", align 1
@.str.327 = private unnamed_addr constant [82 x i8] c"pci_nvme_err_invalid_create_sq_addr failed creating submission queue, addr=0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_CREATE_SQ_QFLAGS_DSTATE = external local_unnamed_addr global i16, align 2
@.str.328 = private unnamed_addr constant [96 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_create_sq_qflags failed creating submission queue, qflags=%u\0A\00", align 1
@.str.329 = private unnamed_addr constant [83 x i8] c"pci_nvme_err_invalid_create_sq_qflags failed creating submission queue, qflags=%u\0A\00", align 1
@_TRACE_PCI_NVME_GET_LOG_DSTATE = external local_unnamed_addr global i16, align 2
@.str.330 = private unnamed_addr constant [80 x i8] c"%d@%zu.%06zu:pci_nvme_get_log cid %u lid 0x%x lsp 0x%x rae 0x%x len %u off %lu\0A\00", align 1
@.str.331 = private unnamed_addr constant [67 x i8] c"pci_nvme_get_log cid %u lid 0x%x lsp 0x%x rae 0x%x len %u off %lu\0A\00", align 1
@.str.332 = private unnamed_addr constant [4 x i8] c"1.0\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_LOG_PAGE_OFFSET_DSTATE = external local_unnamed_addr global i16, align 2
@.str.333 = private unnamed_addr constant [75 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_log_page_offset must be <= %lu, got %lu\0A\00", align 1
@.str.334 = private unnamed_addr constant [62 x i8] c"pci_nvme_err_invalid_log_page_offset must be <= %lu, got %lu\0A\00", align 1
@nvme_cse_iocs_nvm = internal constant <{ [30 x i32], [226 x i32] }> <{ [30 x i32] [i32 3, i32 3, i32 1, i32 0, i32 0, i32 1, i32 0, i32 0, i32 3, i32 3, i32 0, i32 0, i32 1, i32 0, i32 0, i32 0, i32 0, i32 0, i32 1, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 3, i32 0, i32 0, i32 0, i32 3], [226 x i32] zeroinitializer }>, align 16
@nvme_cse_iocs_zoned = internal constant <{ [126 x i32], [130 x i32] }> <{ [126 x i32] [i32 3, i32 3, i32 1, i32 0, i32 0, i32 1, i32 0, i32 0, i32 3, i32 3, i32 0, i32 0, i32 1, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 3, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 3, i32 1, i32 0, i32 0, i32 3], [130 x i32] zeroinitializer }>, align 16
@_TRACE_PCI_NVME_ERR_INVALID_LOG_PAGE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.339 = private unnamed_addr constant [60 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_log_page cid %u lid 0x%x\0A\00", align 1
@.str.340 = private unnamed_addr constant [47 x i8] c"pci_nvme_err_invalid_log_page cid %u lid 0x%x\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_DEL_CQ_CQID_DSTATE = external local_unnamed_addr global i16, align 2
@.str.341 = private unnamed_addr constant [89 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_del_cq_cqid failed deleting completion queue, cqid=%u\0A\00", align 1
@.str.342 = private unnamed_addr constant [76 x i8] c"pci_nvme_err_invalid_del_cq_cqid failed deleting completion queue, cqid=%u\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_DEL_CQ_NOTEMPTY_DSTATE = external local_unnamed_addr global i16, align 2
@.str.343 = private unnamed_addr constant [110 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_del_cq_notempty failed deleting completion queue, it is not empty, cqid=%u\0A\00", align 1
@.str.344 = private unnamed_addr constant [97 x i8] c"pci_nvme_err_invalid_del_cq_notempty failed deleting completion queue, it is not empty, cqid=%u\0A\00", align 1
@_TRACE_PCI_NVME_DEL_CQ_DSTATE = external local_unnamed_addr global i16, align 2
@.str.345 = private unnamed_addr constant [64 x i8] c"%d@%zu.%06zu:pci_nvme_del_cq deleted completion queue, cqid=%u\0A\00", align 1
@.str.346 = private unnamed_addr constant [51 x i8] c"pci_nvme_del_cq deleted completion queue, cqid=%u\0A\00", align 1
@_TRACE_PCI_NVME_CREATE_CQ_DSTATE = external local_unnamed_addr global i16, align 2
@.str.347 = private unnamed_addr constant [118 x i8] c"%d@%zu.%06zu:pci_nvme_create_cq create completion queue, addr=0x%lx, cqid=%u, vector=%u, qsize=%u, qflags=%u, ien=%d\0A\00", align 1
@.str.348 = private unnamed_addr constant [105 x i8] c"pci_nvme_create_cq create completion queue, addr=0x%lx, cqid=%u, vector=%u, qsize=%u, qflags=%u, ien=%d\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_CREATE_CQ_ENTRY_SIZE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.349 = private unnamed_addr constant [76 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_create_cq_entry_size iosqes %u iocqes %u\0A\00", align 1
@.str.350 = private unnamed_addr constant [63 x i8] c"pci_nvme_err_invalid_create_cq_entry_size iosqes %u iocqes %u\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_CREATE_CQ_CQID_DSTATE = external local_unnamed_addr global i16, align 2
@.str.351 = private unnamed_addr constant [92 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_create_cq_cqid failed creating completion queue, cqid=%u\0A\00", align 1
@.str.352 = private unnamed_addr constant [79 x i8] c"pci_nvme_err_invalid_create_cq_cqid failed creating completion queue, cqid=%u\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_CREATE_CQ_SIZE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.353 = private unnamed_addr constant [92 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_create_cq_size failed creating completion queue, size=%u\0A\00", align 1
@.str.354 = private unnamed_addr constant [79 x i8] c"pci_nvme_err_invalid_create_cq_size failed creating completion queue, size=%u\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_CREATE_CQ_ADDR_DSTATE = external local_unnamed_addr global i16, align 2
@.str.355 = private unnamed_addr constant [95 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_create_cq_addr failed creating completion queue, addr=0x%lx\0A\00", align 1
@.str.356 = private unnamed_addr constant [82 x i8] c"pci_nvme_err_invalid_create_cq_addr failed creating completion queue, addr=0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_CREATE_CQ_VECTOR_DSTATE = external local_unnamed_addr global i16, align 2
@.str.357 = private unnamed_addr constant [96 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_create_cq_vector failed creating completion queue, vector=%u\0A\00", align 1
@.str.358 = private unnamed_addr constant [83 x i8] c"pci_nvme_err_invalid_create_cq_vector failed creating completion queue, vector=%u\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_CREATE_CQ_QFLAGS_DSTATE = external local_unnamed_addr global i16, align 2
@.str.359 = private unnamed_addr constant [96 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_create_cq_qflags failed creating completion queue, qflags=%u\0A\00", align 1
@.str.360 = private unnamed_addr constant [83 x i8] c"pci_nvme_err_invalid_create_cq_qflags failed creating completion queue, qflags=%u\0A\00", align 1
@_TRACE_PCI_NVME_IDENTIFY_DSTATE = external local_unnamed_addr global i16, align 2
@.str.361 = private unnamed_addr constant [67 x i8] c"%d@%zu.%06zu:pci_nvme_identify cid %u cns 0x%x ctrlid %u csi 0x%x\0A\00", align 1
@.str.362 = private unnamed_addr constant [54 x i8] c"pci_nvme_identify cid %u cns 0x%x ctrlid %u csi 0x%x\0A\00", align 1
@_TRACE_PCI_NVME_IDENTIFY_NS_DSTATE = external local_unnamed_addr global i16, align 2
@.str.363 = private unnamed_addr constant [43 x i8] c"%d@%zu.%06zu:pci_nvme_identify_ns nsid %u\0A\00", align 1
@.str.364 = private unnamed_addr constant [30 x i8] c"pci_nvme_identify_ns nsid %u\0A\00", align 1
@_TRACE_PCI_NVME_IDENTIFY_CTRL_LIST_DSTATE = external local_unnamed_addr global i16, align 2
@.str.365 = private unnamed_addr constant [60 x i8] c"%d@%zu.%06zu:pci_nvme_identify_ctrl_list cns 0x%x cntid %u\0A\00", align 1
@.str.366 = private unnamed_addr constant [47 x i8] c"pci_nvme_identify_ctrl_list cns 0x%x cntid %u\0A\00", align 1
@_TRACE_PCI_NVME_IDENTIFY_PRI_CTRL_CAP_DSTATE = external local_unnamed_addr global i16, align 2
@.str.367 = private unnamed_addr constant [96 x i8] c"%d@%zu.%06zu:pci_nvme_identify_pri_ctrl_cap identify primary controller capabilities cntlid=%u\0A\00", align 1
@.str.368 = private unnamed_addr constant [83 x i8] c"pci_nvme_identify_pri_ctrl_cap identify primary controller capabilities cntlid=%u\0A\00", align 1
@_TRACE_PCI_NVME_IDENTIFY_SEC_CTRL_LIST_DSTATE = external local_unnamed_addr global i16, align 2
@.str.369 = private unnamed_addr constant [102 x i8] c"%d@%zu.%06zu:pci_nvme_identify_sec_ctrl_list identify secondary controller list cntlid=%u numcntl=%u\0A\00", align 1
@.str.370 = private unnamed_addr constant [89 x i8] c"pci_nvme_identify_sec_ctrl_list identify secondary controller list cntlid=%u numcntl=%u\0A\00", align 1
@_TRACE_PCI_NVME_IDENTIFY_NS_CSI_DSTATE = external local_unnamed_addr global i16, align 2
@.str.371 = private unnamed_addr constant [57 x i8] c"%d@%zu.%06zu:pci_nvme_identify_ns_csi nsid=%u, csi=0x%x\0A\00", align 1
@.str.372 = private unnamed_addr constant [44 x i8] c"pci_nvme_identify_ns_csi nsid=%u, csi=0x%x\0A\00", align 1
@_TRACE_PCI_NVME_IDENTIFY_CTRL_DSTATE = external local_unnamed_addr global i16, align 2
@.str.373 = private unnamed_addr constant [57 x i8] c"%d@%zu.%06zu:pci_nvme_identify_ctrl identify controller\0A\00", align 1
@.str.374 = private unnamed_addr constant [44 x i8] c"pci_nvme_identify_ctrl identify controller\0A\00", align 1
@_TRACE_PCI_NVME_IDENTIFY_CTRL_CSI_DSTATE = external local_unnamed_addr global i16, align 2
@.str.375 = private unnamed_addr constant [71 x i8] c"%d@%zu.%06zu:pci_nvme_identify_ctrl_csi identify controller, csi=0x%x\0A\00", align 1
@.str.376 = private unnamed_addr constant [58 x i8] c"pci_nvme_identify_ctrl_csi identify controller, csi=0x%x\0A\00", align 1
@_TRACE_PCI_NVME_IDENTIFY_NSLIST_DSTATE = external local_unnamed_addr global i16, align 2
@.str.377 = private unnamed_addr constant [47 x i8] c"%d@%zu.%06zu:pci_nvme_identify_nslist nsid %u\0A\00", align 1
@.str.378 = private unnamed_addr constant [34 x i8] c"pci_nvme_identify_nslist nsid %u\0A\00", align 1
@_TRACE_PCI_NVME_IDENTIFY_NSLIST_CSI_DSTATE = external local_unnamed_addr global i16, align 2
@.str.379 = private unnamed_addr constant [61 x i8] c"%d@%zu.%06zu:pci_nvme_identify_nslist_csi nsid=%u, csi=0x%x\0A\00", align 1
@.str.380 = private unnamed_addr constant [48 x i8] c"pci_nvme_identify_nslist_csi nsid=%u, csi=0x%x\0A\00", align 1
@_TRACE_PCI_NVME_IDENTIFY_NS_DESCR_LIST_DSTATE = external local_unnamed_addr global i16, align 2
@.str.381 = private unnamed_addr constant [54 x i8] c"%d@%zu.%06zu:pci_nvme_identify_ns_descr_list nsid %u\0A\00", align 1
@.str.382 = private unnamed_addr constant [41 x i8] c"pci_nvme_identify_ns_descr_list nsid %u\0A\00", align 1
@_TRACE_PCI_NVME_IDENTIFY_CMD_SET_DSTATE = external local_unnamed_addr global i16, align 2
@.str.383 = private unnamed_addr constant [65 x i8] c"%d@%zu.%06zu:pci_nvme_identify_cmd_set identify i/o command set\0A\00", align 1
@.str.384 = private unnamed_addr constant [52 x i8] c"pci_nvme_identify_cmd_set identify i/o command set\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_IDENTIFY_CNS_DSTATE = external local_unnamed_addr global i16, align 2
@.str.385 = private unnamed_addr constant [75 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_identify_cns identify, invalid cns=0x%x\0A\00", align 1
@.str.386 = private unnamed_addr constant [62 x i8] c"pci_nvme_err_invalid_identify_cns identify, invalid cns=0x%x\0A\00", align 1
@.str.387 = private unnamed_addr constant [3 x i8] c"ns\00", align 1
@__PRETTY_FUNCTION__.nvme_set_feature = private unnamed_addr constant [53 x i8] c"uint16_t nvme_set_feature(NvmeCtrl *, NvmeRequest *)\00", align 1
@_TRACE_PCI_NVME_SETFEAT_DSTATE = external local_unnamed_addr global i16, align 2
@.str.388 = private unnamed_addr constant [78 x i8] c"%d@%zu.%06zu:pci_nvme_setfeat cid %u nsid 0x%x fid 0x%x save 0x%x cdw11 0x%x\0A\00", align 1
@.str.389 = private unnamed_addr constant [65 x i8] c"pci_nvme_setfeat cid %u nsid 0x%x fid 0x%x save 0x%x cdw11 0x%x\0A\00", align 1
@nvme_feature_cap = internal unnamed_addr constant <{ [31 x i32], [225 x i32] }> <{ [31 x i32] [i32 0, i32 0, i32 0, i32 0, i32 4, i32 6, i32 4, i32 4, i32 0, i32 0, i32 0, i32 4, i32 0, i32 0, i32 4, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 4, i32 0, i32 0, i32 4, i32 0, i32 0, i32 0, i32 4, i32 6], [225 x i32] zeroinitializer }>, align 16
@nvme_feature_support = internal unnamed_addr constant <{ [31 x i8], [225 x i8] }> <{ [31 x i8] c"\00\01\01\00\01\01\01\01\01\01\01\01\00\00\01\00\00\00\00\00\00\00\01\00\00\01\00\00\00\01\01", [225 x i8] zeroinitializer }>, align 16
@_TRACE_PCI_NVME_SETFEAT_NUMQ_DSTATE = external local_unnamed_addr global i16, align 2
@.str.392 = private unnamed_addr constant [111 x i8] c"%d@%zu.%06zu:pci_nvme_setfeat_numq requested cq_count=%d sq_count=%d, responding with cq_count=%d sq_count=%d\0A\00", align 1
@.str.393 = private unnamed_addr constant [98 x i8] c"pci_nvme_setfeat_numq requested cq_count=%d sq_count=%d, responding with cq_count=%d sq_count=%d\0A\00", align 1
@_TRACE_PCI_NVME_ERR_INVALID_IOCSCI_DSTATE = external local_unnamed_addr global i16, align 2
@.str.394 = private unnamed_addr constant [87 x i8] c"%d@%zu.%06zu:pci_nvme_err_invalid_iocsci unsupported command set combination index %u\0A\00", align 1
@.str.395 = private unnamed_addr constant [74 x i8] c"pci_nvme_err_invalid_iocsci unsupported command set combination index %u\0A\00", align 1
@__PRETTY_FUNCTION__.nvme_set_feature_fdp_events = private unnamed_addr constant [81 x i8] c"uint16_t nvme_set_feature_fdp_events(NvmeCtrl *, NvmeNamespace *, NvmeRequest *)\00", align 1
@nvme_get_feature.nvme_feature_default = internal unnamed_addr constant <{ i32, i32, [254 x i32] }> <{ i32 0, i32 7, [254 x i32] zeroinitializer }>, align 16
@.str.396 = private unnamed_addr constant [8 x i8] c"enabled\00", align 1
@.str.397 = private unnamed_addr constant [9 x i8] c"disabled\00", align 1
@_TRACE_PCI_NVME_GETFEAT_DSTATE = external local_unnamed_addr global i16, align 2
@.str.398 = private unnamed_addr constant [77 x i8] c"%d@%zu.%06zu:pci_nvme_getfeat cid %u nsid 0x%x fid 0x%x sel 0x%x cdw11 0x%x\0A\00", align 1
@.str.399 = private unnamed_addr constant [64 x i8] c"pci_nvme_getfeat cid %u nsid 0x%x fid 0x%x sel 0x%x cdw11 0x%x\0A\00", align 1
@_TRACE_PCI_NVME_GETFEAT_VWCACHE_DSTATE = external local_unnamed_addr global i16, align 2
@.str.400 = private unnamed_addr constant [83 x i8] c"%d@%zu.%06zu:pci_nvme_getfeat_vwcache get feature volatile write cache, result=%s\0A\00", align 1
@.str.401 = private unnamed_addr constant [70 x i8] c"pci_nvme_getfeat_vwcache get feature volatile write cache, result=%s\0A\00", align 1
@.str.403 = private unnamed_addr constant [4 x i8] c"ruh\00", align 1
@__PRETTY_FUNCTION__.nvme_get_feature_fdp_events = private unnamed_addr constant [93 x i8] c"uint16_t nvme_get_feature_fdp_events(NvmeCtrl *, NvmeNamespace *, NvmeRequest *, uint32_t *)\00", align 1
@_TRACE_PCI_NVME_GETFEAT_NUMQ_DSTATE = external local_unnamed_addr global i16, align 2
@.str.404 = private unnamed_addr constant [76 x i8] c"%d@%zu.%06zu:pci_nvme_getfeat_numq get feature number of queues, result=%d\0A\00", align 1
@.str.405 = private unnamed_addr constant [63 x i8] c"pci_nvme_getfeat_numq get feature number of queues, result=%d\0A\00", align 1
@_TRACE_PCI_NVME_AER_DSTATE = external local_unnamed_addr global i16, align 2
@.str.406 = private unnamed_addr constant [34 x i8] c"%d@%zu.%06zu:pci_nvme_aer cid %u\0A\00", align 1
@.str.407 = private unnamed_addr constant [21 x i8] c"pci_nvme_aer cid %u\0A\00", align 1
@_TRACE_PCI_NVME_AER_AERL_EXCEEDED_DSTATE = external local_unnamed_addr global i16, align 2
@.str.408 = private unnamed_addr constant [55 x i8] c"%d@%zu.%06zu:pci_nvme_aer_aerl_exceeded aerl exceeded\0A\00", align 1
@.str.409 = private unnamed_addr constant [42 x i8] c"pci_nvme_aer_aerl_exceeded aerl exceeded\0A\00", align 1
@_TRACE_PCI_NVME_NS_ATTACHMENT_DSTATE = external local_unnamed_addr global i16, align 2
@.str.410 = private unnamed_addr constant [54 x i8] c"%d@%zu.%06zu:pci_nvme_ns_attachment cid %u, sel=0x%x\0A\00", align 1
@.str.411 = private unnamed_addr constant [41 x i8] c"pci_nvme_ns_attachment cid %u, sel=0x%x\0A\00", align 1
@nvme_cse_iocs_none = internal constant [256 x i32] zeroinitializer, align 16
@.str.412 = private unnamed_addr constant [3 x i8] c"VI\00", align 1
@.str.413 = private unnamed_addr constant [3 x i8] c"VQ\00", align 1
@_TRACE_PCI_NVME_VIRT_MNGMT_DSTATE = external local_unnamed_addr global i16, align 2
@.str.414 = private unnamed_addr constant [71 x i8] c"%d@%zu.%06zu:pci_nvme_virt_mngmt cid %u, act=0x%x, ctrlid=%u %s nr=%u\0A\00", align 1
@.str.415 = private unnamed_addr constant [58 x i8] c"pci_nvme_virt_mngmt cid %u, act=0x%x, ctrlid=%u %s nr=%u\0A\00", align 1
@__func__.nvme_virt_set_state = private unnamed_addr constant [20 x i8] c"nvme_virt_set_state\00", align 1
@_TRACE_PCI_NVME_DBBUF_CONFIG_DSTATE = external local_unnamed_addr global i16, align 2
@.str.416 = private unnamed_addr constant [66 x i8] c"%d@%zu.%06zu:pci_nvme_dbbuf_config dbs_addr=0x%lx eis_addr=0x%lx\0A\00", align 1
@.str.417 = private unnamed_addr constant [53 x i8] c"pci_nvme_dbbuf_config dbs_addr=0x%lx eis_addr=0x%lx\0A\00", align 1
@nvme_format_aiocb_info = internal constant %struct.AIOCBInfo { ptr @nvme_format_cancel, i64 96 }, align 8
@__PRETTY_FUNCTION__.nvme_format_ns_cb = private unnamed_addr constant [36 x i8] c"void nvme_format_ns_cb(void *, int)\00", align 1
@_TRACE_PCI_NVME_FORMAT_SET_DSTATE = external local_unnamed_addr global i16, align 2
@.str.418 = private unnamed_addr constant [71 x i8] c"%d@%zu.%06zu:pci_nvme_format_set nsid %u lbaf %u mset %u pi %u pil %u\0A\00", align 1
@.str.419 = private unnamed_addr constant [58 x i8] c"pci_nvme_format_set nsid %u lbaf %u mset %u pi %u pil %u\0A\00", align 1
@_TRACE_PCI_NVME_UPDATE_SQ_EVENTIDX_DSTATE = external local_unnamed_addr global i16, align 2
@.str.420 = private unnamed_addr constant [66 x i8] c"%d@%zu.%06zu:pci_nvme_update_sq_eventidx sqid %u new_eventidx %u\0A\00", align 1
@.str.421 = private unnamed_addr constant [53 x i8] c"pci_nvme_update_sq_eventidx sqid %u new_eventidx %u\0A\00", align 1
@_TRACE_PCI_NVME_SETFEAT_TIMESTAMP_DSTATE = external local_unnamed_addr global i16, align 2
@.str.422 = private unnamed_addr constant [71 x i8] c"%d@%zu.%06zu:pci_nvme_setfeat_timestamp set feature timestamp = 0x%lx\0A\00", align 1
@.str.423 = private unnamed_addr constant [58 x i8] c"pci_nvme_setfeat_timestamp set feature timestamp = 0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_ERR_STARTFAIL_DSTATE = external local_unnamed_addr global i16, align 2
@.str.424 = private unnamed_addr constant [74 x i8] c"%d@%zu.%06zu:pci_nvme_err_startfail setting controller enable bit failed\0A\00", align 1
@.str.425 = private unnamed_addr constant [61 x i8] c"pci_nvme_err_startfail setting controller enable bit failed\0A\00", align 1
@_TRACE_PCI_NVME_MMIO_START_SUCCESS_DSTATE = external local_unnamed_addr global i16, align 2
@.str.426 = private unnamed_addr constant [82 x i8] c"%d@%zu.%06zu:pci_nvme_mmio_start_success setting controller enable bit succeeded\0A\00", align 1
@.str.427 = private unnamed_addr constant [69 x i8] c"pci_nvme_mmio_start_success setting controller enable bit succeeded\0A\00", align 1
@_TRACE_PCI_NVME_MMIO_STOPPED_DSTATE = external local_unnamed_addr global i16, align 2
@.str.428 = private unnamed_addr constant [66 x i8] c"%d@%zu.%06zu:pci_nvme_mmio_stopped cleared controller enable bit\0A\00", align 1
@.str.429 = private unnamed_addr constant [53 x i8] c"pci_nvme_mmio_stopped cleared controller enable bit\0A\00", align 1
@_TRACE_PCI_NVME_UB_MMIOWR_SSRESET_W1C_UNSUPPORTED_DSTATE = external local_unnamed_addr global i16, align 2
@.str.430 = private unnamed_addr constant [123 x i8] c"%d@%zu.%06zu:pci_nvme_ub_mmiowr_ssreset_w1c_unsupported attempted to W1C CSTS.NSSRO but CAP.NSSRS is zero (not supported)\0A\00", align 1
@.str.431 = private unnamed_addr constant [110 x i8] c"pci_nvme_ub_mmiowr_ssreset_w1c_unsupported attempted to W1C CSTS.NSSRO but CAP.NSSRS is zero (not supported)\0A\00", align 1
@_TRACE_PCI_NVME_UB_MMIOWR_RO_CSTS_DSTATE = external local_unnamed_addr global i16, align 2
@.str.432 = private unnamed_addr constant [95 x i8] c"%d@%zu.%06zu:pci_nvme_ub_mmiowr_ro_csts attempted to set a read only bit of controller status\0A\00", align 1
@.str.433 = private unnamed_addr constant [82 x i8] c"pci_nvme_ub_mmiowr_ro_csts attempted to set a read only bit of controller status\0A\00", align 1
@_TRACE_PCI_NVME_UB_MMIOWR_SSRESET_UNSUPPORTED_DSTATE = external local_unnamed_addr global i16, align 2
@.str.434 = private unnamed_addr constant [121 x i8] c"%d@%zu.%06zu:pci_nvme_ub_mmiowr_ssreset_unsupported attempted NVM subsystem reset but CAP.NSSRS is zero (not supported)\0A\00", align 1
@.str.435 = private unnamed_addr constant [108 x i8] c"pci_nvme_ub_mmiowr_ssreset_unsupported attempted NVM subsystem reset but CAP.NSSRS is zero (not supported)\0A\00", align 1
@_TRACE_PCI_NVME_MMIO_AQATTR_DSTATE = external local_unnamed_addr global i16, align 2
@.str.436 = private unnamed_addr constant [76 x i8] c"%d@%zu.%06zu:pci_nvme_mmio_aqattr wrote MMIO, admin queue attributes=0x%lx\0A\00", align 1
@.str.437 = private unnamed_addr constant [63 x i8] c"pci_nvme_mmio_aqattr wrote MMIO, admin queue attributes=0x%lx\0A\00", align 1
@__func__.stn_le_p = private unnamed_addr constant [9 x i8] c"stn_le_p\00", align 1
@_TRACE_PCI_NVME_MMIO_ASQADDR_DSTATE = external local_unnamed_addr global i16, align 2
@.str.438 = private unnamed_addr constant [85 x i8] c"%d@%zu.%06zu:pci_nvme_mmio_asqaddr wrote MMIO, admin submission queue address=0x%lx\0A\00", align 1
@.str.439 = private unnamed_addr constant [72 x i8] c"pci_nvme_mmio_asqaddr wrote MMIO, admin submission queue address=0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_MMIO_ASQADDR_HI_DSTATE = external local_unnamed_addr global i16, align 2
@.str.440 = private unnamed_addr constant [109 x i8] c"%d@%zu.%06zu:pci_nvme_mmio_asqaddr_hi wrote MMIO, admin submission queue high half=0x%lx, new_address=0x%lx\0A\00", align 1
@.str.441 = private unnamed_addr constant [96 x i8] c"pci_nvme_mmio_asqaddr_hi wrote MMIO, admin submission queue high half=0x%lx, new_address=0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_MMIO_ACQADDR_DSTATE = external local_unnamed_addr global i16, align 2
@.str.442 = private unnamed_addr constant [85 x i8] c"%d@%zu.%06zu:pci_nvme_mmio_acqaddr wrote MMIO, admin completion queue address=0x%lx\0A\00", align 1
@.str.443 = private unnamed_addr constant [72 x i8] c"pci_nvme_mmio_acqaddr wrote MMIO, admin completion queue address=0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_MMIO_ACQADDR_HI_DSTATE = external local_unnamed_addr global i16, align 2
@.str.444 = private unnamed_addr constant [109 x i8] c"%d@%zu.%06zu:pci_nvme_mmio_acqaddr_hi wrote MMIO, admin completion queue high half=0x%lx, new_address=0x%lx\0A\00", align 1
@.str.445 = private unnamed_addr constant [96 x i8] c"pci_nvme_mmio_acqaddr_hi wrote MMIO, admin completion queue high half=0x%lx, new_address=0x%lx\0A\00", align 1
@_TRACE_PCI_NVME_UB_MMIOWR_CMBLOC_RESERVED_DSTATE = external local_unnamed_addr global i16, align 2
@.str.446 = private unnamed_addr constant [110 x i8] c"%d@%zu.%06zu:pci_nvme_ub_mmiowr_cmbloc_reserved invalid write to reserved CMBLOC when CMBSZ is zero, ignored\0A\00", align 1
@.str.447 = private unnamed_addr constant [97 x i8] c"pci_nvme_ub_mmiowr_cmbloc_reserved invalid write to reserved CMBLOC when CMBSZ is zero, ignored\0A\00", align 1
@_TRACE_PCI_NVME_UB_MMIOWR_CMBSZ_READONLY_DSTATE = external local_unnamed_addr global i16, align 2
@.str.448 = private unnamed_addr constant [90 x i8] c"%d@%zu.%06zu:pci_nvme_ub_mmiowr_cmbsz_readonly invalid write to read only CMBSZ, ignored\0A\00", align 1
@.str.449 = private unnamed_addr constant [77 x i8] c"pci_nvme_ub_mmiowr_cmbsz_readonly invalid write to read only CMBSZ, ignored\0A\00", align 1
@_TRACE_PCI_NVME_UB_MMIOWR_PMRCAP_READONLY_DSTATE = external local_unnamed_addr global i16, align 2
@.str.450 = private unnamed_addr constant [92 x i8] c"%d@%zu.%06zu:pci_nvme_ub_mmiowr_pmrcap_readonly invalid write to read only PMRCAP, ignored\0A\00", align 1
@.str.451 = private unnamed_addr constant [79 x i8] c"pci_nvme_ub_mmiowr_pmrcap_readonly invalid write to read only PMRCAP, ignored\0A\00", align 1
@_TRACE_PCI_NVME_UB_MMIOWR_PMRSTS_READONLY_DSTATE = external local_unnamed_addr global i16, align 2
@.str.452 = private unnamed_addr constant [92 x i8] c"%d@%zu.%06zu:pci_nvme_ub_mmiowr_pmrsts_readonly invalid write to read only PMRSTS, ignored\0A\00", align 1
@.str.453 = private unnamed_addr constant [79 x i8] c"pci_nvme_ub_mmiowr_pmrsts_readonly invalid write to read only PMRSTS, ignored\0A\00", align 1
@_TRACE_PCI_NVME_UB_MMIOWR_PMREBS_READONLY_DSTATE = external local_unnamed_addr global i16, align 2
@.str.454 = private unnamed_addr constant [92 x i8] c"%d@%zu.%06zu:pci_nvme_ub_mmiowr_pmrebs_readonly invalid write to read only PMREBS, ignored\0A\00", align 1
@.str.455 = private unnamed_addr constant [79 x i8] c"pci_nvme_ub_mmiowr_pmrebs_readonly invalid write to read only PMREBS, ignored\0A\00", align 1
@_TRACE_PCI_NVME_UB_MMIOWR_PMRSWTP_READONLY_DSTATE = external local_unnamed_addr global i16, align 2
@.str.456 = private unnamed_addr constant [94 x i8] c"%d@%zu.%06zu:pci_nvme_ub_mmiowr_pmrswtp_readonly invalid write to read only PMRSWTP, ignored\0A\00", align 1
@.str.457 = private unnamed_addr constant [81 x i8] c"pci_nvme_ub_mmiowr_pmrswtp_readonly invalid write to read only PMRSWTP, ignored\0A\00", align 1
@_TRACE_PCI_NVME_UB_MMIOWR_INVALID_DSTATE = external local_unnamed_addr global i16, align 2
@.str.458 = private unnamed_addr constant [86 x i8] c"%d@%zu.%06zu:pci_nvme_ub_mmiowr_invalid invalid MMIO write, offset=0x%lx, data=0x%lx\0A\00", align 1
@.str.459 = private unnamed_addr constant [73 x i8] c"pci_nvme_ub_mmiowr_invalid invalid MMIO write, offset=0x%lx, data=0x%lx\0A\00", align 1
@.str.460 = private unnamed_addr constant [95 x i8] c"pci_nvme_ub_db_wr_misaligned in %s: doorbell write not 32-bit aligned, offset=0x%lx, ignoring\0A\00", align 1
@__func__.nvme_process_db = private unnamed_addr constant [16 x i8] c"nvme_process_db\00", align 1
@.str.461 = private unnamed_addr constant [110 x i8] c"pci_nvme_ub_db_wr_invalid_cq in %s: completion queue doorbell write for nonexistent queue, sqid=%u, ignoring\0A\00", align 1
@.str.462 = private unnamed_addr constant [129 x i8] c"pci_nvme_ub_db_wr_invalid_cqhead in %s: completion queue doorbell write value beyond queue size, sqid=%u, new_head=%u, ignoring\0A\00", align 1
@.str.463 = private unnamed_addr constant [110 x i8] c"pci_nvme_ub_db_wr_invalid_sq in %s: submission queue doorbell write for nonexistent queue, sqid=%u, ignoring\0A\00", align 1
@.str.464 = private unnamed_addr constant [129 x i8] c"pci_nvme_ub_db_wr_invalid_sqtail in %s: submission queue doorbell write value beyond queue size, sqid=%u, new_tail=%u, ignoring\0A\00", align 1
@_TRACE_PCI_NVME_UB_DB_WR_MISALIGNED_DSTATE = external local_unnamed_addr global i16, align 2
@.str.465 = private unnamed_addr constant [101 x i8] c"%d@%zu.%06zu:pci_nvme_ub_db_wr_misaligned doorbell write not 32-bit aligned, offset=0x%lx, ignoring\0A\00", align 1
@.str.466 = private unnamed_addr constant [88 x i8] c"pci_nvme_ub_db_wr_misaligned doorbell write not 32-bit aligned, offset=0x%lx, ignoring\0A\00", align 1
@_TRACE_PCI_NVME_UB_DB_WR_INVALID_CQ_DSTATE = external local_unnamed_addr global i16, align 2
@.str.467 = private unnamed_addr constant [116 x i8] c"%d@%zu.%06zu:pci_nvme_ub_db_wr_invalid_cq completion queue doorbell write for nonexistent queue, cqid=%u, ignoring\0A\00", align 1
@.str.468 = private unnamed_addr constant [103 x i8] c"pci_nvme_ub_db_wr_invalid_cq completion queue doorbell write for nonexistent queue, cqid=%u, ignoring\0A\00", align 1
@_TRACE_PCI_NVME_UB_DB_WR_INVALID_CQHEAD_DSTATE = external local_unnamed_addr global i16, align 2
@.str.469 = private unnamed_addr constant [135 x i8] c"%d@%zu.%06zu:pci_nvme_ub_db_wr_invalid_cqhead completion queue doorbell write value beyond queue size, cqid=%u, new_head=%u, ignoring\0A\00", align 1
@.str.470 = private unnamed_addr constant [122 x i8] c"pci_nvme_ub_db_wr_invalid_cqhead completion queue doorbell write value beyond queue size, cqid=%u, new_head=%u, ignoring\0A\00", align 1
@_TRACE_PCI_NVME_MMIO_DOORBELL_CQ_DSTATE = external local_unnamed_addr global i16, align 2
@.str.471 = private unnamed_addr constant [60 x i8] c"%d@%zu.%06zu:pci_nvme_mmio_doorbell_cq cqid %u new_head %u\0A\00", align 1
@.str.472 = private unnamed_addr constant [47 x i8] c"pci_nvme_mmio_doorbell_cq cqid %u new_head %u\0A\00", align 1
@_TRACE_PCI_NVME_UB_DB_WR_INVALID_SQ_DSTATE = external local_unnamed_addr global i16, align 2
@.str.473 = private unnamed_addr constant [116 x i8] c"%d@%zu.%06zu:pci_nvme_ub_db_wr_invalid_sq submission queue doorbell write for nonexistent queue, sqid=%u, ignoring\0A\00", align 1
@.str.474 = private unnamed_addr constant [103 x i8] c"pci_nvme_ub_db_wr_invalid_sq submission queue doorbell write for nonexistent queue, sqid=%u, ignoring\0A\00", align 1
@_TRACE_PCI_NVME_UB_DB_WR_INVALID_SQTAIL_DSTATE = external local_unnamed_addr global i16, align 2
@.str.475 = private unnamed_addr constant [135 x i8] c"%d@%zu.%06zu:pci_nvme_ub_db_wr_invalid_sqtail submission queue doorbell write value beyond queue size, sqid=%u, new_head=%u, ignoring\0A\00", align 1
@.str.476 = private unnamed_addr constant [122 x i8] c"pci_nvme_ub_db_wr_invalid_sqtail submission queue doorbell write value beyond queue size, sqid=%u, new_head=%u, ignoring\0A\00", align 1
@_TRACE_PCI_NVME_MMIO_DOORBELL_SQ_DSTATE = external local_unnamed_addr global i16, align 2
@.str.477 = private unnamed_addr constant [60 x i8] c"%d@%zu.%06zu:pci_nvme_mmio_doorbell_sq sqid %u new_tail %u\0A\00", align 1
@.str.478 = private unnamed_addr constant [47 x i8] c"pci_nvme_mmio_doorbell_sq sqid %u new_tail %u\0A\00", align 1
@.str.479 = private unnamed_addr constant [57 x i8] c"table_size > 0 && table_size <= pci_dev->msix_entries_nr\00", align 1
@__PRETTY_FUNCTION__.nvme_update_msixcap_ts = private unnamed_addr constant [51 x i8] c"void nvme_update_msixcap_ts(PCIDevice *, uint32_t)\00", align 1
@nvme_cmb_ops = internal constant %struct.MemoryRegionOps { ptr @nvme_cmb_read, ptr @nvme_cmb_write, ptr null, ptr null, i32 2, %struct.anon.34 zeroinitializer, %struct.anon.35 { i32 1, i32 8, i8 0 } }, align 8
@.str.482 = private unnamed_addr constant [9 x i8] c"nvme-cmb\00", align 1
@.str.483 = private unnamed_addr constant [15 x i8] c"QEMU NVMe Ctrl\00", align 1
@.str.484 = private unnamed_addr constant [7 x i8] c"8.1.94\00", align 1
@.str.485 = private unnamed_addr constant [24 x i8] c"nqn.2019-08.org.qemu:%s\00", align 1
@__func__.nvme_sriov_pre_write_ctrl = private unnamed_addr constant [26 x i8] c"nvme_sriov_pre_write_ctrl\00", align 1
@__func__.nvme_exit = private unnamed_addr constant [10 x i8] c"nvme_exit\00", align 1
@.str.486 = private unnamed_addr constant [6 x i8] c"drive\00", align 1
@qdev_prop_drive = external constant %struct.PropertyInfo, align 8
@.str.487 = private unnamed_addr constant [17 x i8] c"backend_defaults\00", align 1
@qdev_prop_on_off_auto = external constant %struct.PropertyInfo, align 8
@.str.488 = private unnamed_addr constant [19 x i8] c"logical_block_size\00", align 1
@qdev_prop_blocksize = external constant %struct.PropertyInfo, align 8
@.str.489 = private unnamed_addr constant [20 x i8] c"physical_block_size\00", align 1
@.str.490 = private unnamed_addr constant [12 x i8] c"min_io_size\00", align 1
@qdev_prop_size32 = external constant %struct.PropertyInfo, align 8
@.str.491 = private unnamed_addr constant [12 x i8] c"opt_io_size\00", align 1
@.str.492 = private unnamed_addr constant [20 x i8] c"discard_granularity\00", align 1
@.str.493 = private unnamed_addr constant [12 x i8] c"write-cache\00", align 1
@.str.494 = private unnamed_addr constant [9 x i8] c"share-rw\00", align 1
@qdev_prop_bool = external constant %struct.PropertyInfo, align 8
@.str.495 = private unnamed_addr constant [16 x i8] c"account-invalid\00", align 1
@.str.496 = private unnamed_addr constant [15 x i8] c"account-failed\00", align 1
@.str.497 = private unnamed_addr constant [7 x i8] c"pmrdev\00", align 1
@qdev_prop_link = external constant %struct.PropertyInfo, align 8
@.str.498 = private unnamed_addr constant [15 x i8] c"memory-backend\00", align 1
@.str.499 = private unnamed_addr constant [7 x i8] c"subsys\00", align 1
@.str.500 = private unnamed_addr constant [12 x i8] c"nvme-subsys\00", align 1
@.str.501 = private unnamed_addr constant [7 x i8] c"serial\00", align 1
@qdev_prop_string = external constant %struct.PropertyInfo, align 8
@.str.502 = private unnamed_addr constant [12 x i8] c"cmb_size_mb\00", align 1
@qdev_prop_uint32 = external constant %struct.PropertyInfo, align 8
@.str.503 = private unnamed_addr constant [11 x i8] c"num_queues\00", align 1
@.str.504 = private unnamed_addr constant [13 x i8] c"max_ioqpairs\00", align 1
@.str.505 = private unnamed_addr constant [11 x i8] c"msix_qsize\00", align 1
@qdev_prop_uint16 = external constant %struct.PropertyInfo, align 8
@.str.506 = private unnamed_addr constant [5 x i8] c"aerl\00", align 1
@qdev_prop_uint8 = external constant %struct.PropertyInfo, align 8
@.str.507 = private unnamed_addr constant [15 x i8] c"aer_max_queued\00", align 1
@.str.508 = private unnamed_addr constant [5 x i8] c"mdts\00", align 1
@.str.509 = private unnamed_addr constant [4 x i8] c"vsl\00", align 1
@.str.510 = private unnamed_addr constant [13 x i8] c"use-intel-id\00", align 1
@.str.511 = private unnamed_addr constant [11 x i8] c"legacy-cmb\00", align 1
@.str.512 = private unnamed_addr constant [10 x i8] c"ioeventfd\00", align 1
@.str.513 = private unnamed_addr constant [11 x i8] c"zoned.zasl\00", align 1
@.str.514 = private unnamed_addr constant [22 x i8] c"zoned.auto_transition\00", align 1
@.str.515 = private unnamed_addr constant [14 x i8] c"sriov_max_vfs\00", align 1
@.str.516 = private unnamed_addr constant [18 x i8] c"sriov_vq_flexible\00", align 1
@.str.517 = private unnamed_addr constant [18 x i8] c"sriov_vi_flexible\00", align 1
@.str.518 = private unnamed_addr constant [20 x i8] c"sriov_max_vi_per_vf\00", align 1
@.str.519 = private unnamed_addr constant [20 x i8] c"sriov_max_vq_per_vf\00", align 1
@__func__.nvme_pci_reset = private unnamed_addr constant [15 x i8] c"nvme_pci_reset\00", align 1
@_TRACE_PCI_NVME_PCI_RESET_DSTATE = external local_unnamed_addr global i16, align 2
@.str.520 = private unnamed_addr constant [58 x i8] c"%d@%zu.%06zu:pci_nvme_pci_reset PCI Function Level Reset\0A\00", align 1
@.str.521 = private unnamed_addr constant [45 x i8] c"pci_nvme_pci_reset PCI Function Level Reset\0A\00", align 1
@.str.522 = private unnamed_addr constant [4 x i8] c"bus\00", align 1
@llvm.global_ctors = appending global [1 x { i32, ptr, ptr }] [{ i32, ptr, ptr } { i32 65535, ptr @do_qemu_init_nvme_register_types, ptr null }]
@.str.523 = private unnamed_addr constant [16 x i8] c"no_coroutine_fn\00", section "llvm.metadata"
@.str.524 = private unnamed_addr constant [103 x i8] c"/home/dtcxzyw/WorkSpace/Projects/compilers/llvm-opt-benchmark/bench/qemu/qemu/include/block/block-io.h\00", section "llvm.metadata"
@.str.525 = private unnamed_addr constant [19 x i8] c"coroutine_mixed_fn\00", section "llvm.metadata"
@.str.526 = private unnamed_addr constant [112 x i8] c"/home/dtcxzyw/WorkSpace/Projects/compilers/llvm-opt-benchmark/bench/qemu/qemu/include/sysemu/block-backend-io.h\00", section "llvm.metadata"
@llvm.global.annotations = appending global [4 x { ptr, ptr, ptr, i32, ptr }] [{ ptr, ptr, ptr, i32, ptr } { ptr @bdrv_block_status, ptr @.str.523, ptr @.str.524, i32 135, ptr null }, { ptr, ptr, ptr, i32, ptr } { ptr @bdrv_block_status, ptr @.str.525, ptr @.str.524, i32 135, ptr null }, { ptr, ptr, ptr, i32, ptr } { ptr @blk_flush, ptr @.str.523, ptr @.str.526, i32 215, ptr null }, { ptr, ptr, ptr, i32, ptr } { ptr @blk_flush, ptr @.str.525, ptr @.str.526, i32 215, ptr null }], section "llvm.metadata"

; Function Attrs: nounwind sspstrong uwtable
define dso_local noundef zeroext i16 @nvme_map_dptr(ptr noundef %n, ptr noundef %sg, i64 noundef %len, ptr nocapture noundef readonly %cmd) local_unnamed_addr #0 {
entry:
  %_now.i.i92.i = alloca %struct.timeval, align 8
  %_now.i.i78.i = alloca %struct.timeval, align 8
  %_now.i.i.i = alloca %struct.timeval, align 8
  %flags = getelementptr inbounds %struct.NvmeCmd, ptr %cmd, i64 0, i32 1
  %0 = load i8, ptr %flags, align 1
  %1 = lshr i8 %0, 6
  %shr = zext nneg i8 %1 to i32
  switch i32 %shr, label %entry.unreachabledefault [
    i32 0, label %sw.bb
    i32 1, label %sw.bb7
    i32 2, label %sw.bb7
    i32 3, label %return
  ]

sw.bb:                                            ; preds = %entry
  %dptr = getelementptr inbounds %struct.NvmeCmd, ptr %cmd, i64 0, i32 6
  %2 = load i64, ptr %dptr, align 1
  %prp23 = getelementptr inbounds %struct.NvmeCmd, ptr %cmd, i64 0, i32 6, i32 0, i32 1
  %3 = load i64, ptr %prp23, align 1
  %conv5 = trunc i64 %len to i32
  %page_size.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 8
  %4 = load i32, ptr %page_size.i, align 4
  %conv.i = zext i32 %4 to i64
  %rem.i = urem i64 %2, %conv.i
  %sub.i = sub nsw i64 %conv.i, %rem.i
  %conv3.i = and i64 %len, 4294967295
  %cond.i = tail call i64 @llvm.umin.i64(i64 %sub.i, i64 %conv3.i)
  %page_bits.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 9
  %5 = load i16, ptr %page_bits.i, align 16
  %conv5.i = zext nneg i16 %5 to i32
  %shr.i = lshr i32 %conv5, %conv5.i
  %add.i = add i32 %shr.i, 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i)
  %6 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i = icmp ne i32 %6, 0
  %7 = load i16, ptr @_TRACE_PCI_NVME_MAP_PRP_DSTATE, align 2
  %tobool4.i.i.i = icmp ne i16 %7, 0
  %or.cond.i.i.i = select i1 %tobool.i.i.i, i1 %tobool4.i.i.i, i1 false
  br i1 %or.cond.i.i.i, label %land.lhs.true5.i.i.i, label %trace_pci_nvme_map_prp.exit.i

land.lhs.true5.i.i.i:                             ; preds = %sw.bb
  %8 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i = and i32 %8, 32768
  %cmp.i.not.i.i.i = icmp eq i32 %and.i.i.i.i, 0
  br i1 %cmp.i.not.i.i.i, label %trace_pci_nvme_map_prp.exit.i, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %land.lhs.true5.i.i.i
  %9 = load i8, ptr @message_with_timestamp, align 1
  %10 = and i8 %9, 1
  %tobool7.not.i.i.i = icmp eq i8 %10, 0
  br i1 %tobool7.not.i.i.i, label %if.else.i.i.i, label %if.then8.i.i.i

if.then8.i.i.i:                                   ; preds = %if.then.i.i.i
  %call9.i.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i, ptr noundef null) #17
  %call10.i.i.i = tail call i32 @qemu_get_thread_id() #17
  %11 = load i64, ptr %_now.i.i.i, align 8
  %tv_usec.i.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i, i64 0, i32 1
  %12 = load i64, ptr %tv_usec.i.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.2, i32 noundef %call10.i.i.i, i64 noundef %11, i64 noundef %12, i64 noundef %cond.i, i32 noundef %conv5, i64 noundef %2, i64 noundef %3, i32 noundef %add.i) #17
  br label %trace_pci_nvme_map_prp.exit.i

if.else.i.i.i:                                    ; preds = %if.then.i.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.3, i64 noundef %cond.i, i32 noundef %conv5, i64 noundef %2, i64 noundef %3, i32 noundef %add.i) #17
  br label %trace_pci_nvme_map_prp.exit.i

trace_pci_nvme_map_prp.exit.i:                    ; preds = %if.else.i.i.i, %if.then8.i.i.i, %land.lhs.true5.i.i.i, %sw.bb
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i)
  %cmse.i.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 2
  %13 = load i8, ptr %cmse.i.i.i, align 8
  %14 = and i8 %13, 1
  %tobool.not.i.i.i = icmp eq i8 %14, 0
  br i1 %tobool.not.i.i.i, label %lor.rhs.i.i, label %if.end.i.i.i

if.end.i.i.i:                                     ; preds = %trace_pci_nvme_map_prp.exit.i
  %size.i.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 0, i32 18
  %15 = load i128, ptr %size.i.i.i, align 16
  %cmp.i.i.i.i = icmp ult i128 %15, 18446744073709551616
  br i1 %cmp.i.i.i.i, label %nvme_addr_is_cmb.exit.i.i, label %if.else.i.i.i.i

if.else.i.i.i.i:                                  ; preds = %if.end.i.i.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.8, ptr noundef nonnull @.str.9, i32 noundef 33, ptr noundef nonnull @__PRETTY_FUNCTION__.int128_get64) #18
  unreachable

nvme_addr_is_cmb.exit.i.i:                        ; preds = %if.end.i.i.i
  %coerce.sroa.0.0.extract.trunc.i.i.i = trunc i128 %15 to i64
  %legacy_cmb.i.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 4, i32 12
  %16 = load i8, ptr %legacy_cmb.i.i.i, align 1
  %17 = and i8 %16, 1
  %tobool1.not.i.i.i = icmp eq i8 %17, 0
  %cba.i.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 3
  %addr3.i.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 0, i32 19
  %cond.in.i.i.i = select i1 %tobool1.not.i.i.i, ptr %cba.i.i.i, ptr %addr3.i.i.i
  %cond.i.i.i = load i64, ptr %cond.in.i.i.i, align 16
  %add.i.i.i = add i64 %cond.i.i.i, %coerce.sroa.0.0.extract.trunc.i.i.i
  %cmp.i.i.i = icmp ule i64 %cond.i.i.i, %2
  %cmp7.i.i.i = icmp ugt i64 %add.i.i.i, %2
  %18 = and i1 %cmp.i.i.i, %cmp7.i.i.i
  br i1 %18, label %nvme_addr_is_dma.exit.thread110.i, label %lor.rhs.i.i

nvme_addr_is_dma.exit.thread110.i:                ; preds = %nvme_addr_is_cmb.exit.i.i
  %19 = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1
  br label %if.else.i.i

lor.rhs.i.i:                                      ; preds = %nvme_addr_is_cmb.exit.i.i, %trace_pci_nvme_map_prp.exit.i
  %cmse.i3.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26, i32 1
  %20 = load i8, ptr %cmse.i3.i.i, align 8
  %21 = and i8 %20, 1
  %tobool.not.i4.i.i = icmp eq i8 %21, 0
  br i1 %tobool.not.i4.i.i, label %nvme_addr_is_dma.exit.thread.i, label %if.end.i5.i.i

nvme_addr_is_dma.exit.thread.i:                   ; preds = %lor.rhs.i.i
  %22 = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1
  br label %if.then.i.i

if.end.i5.i.i:                                    ; preds = %lor.rhs.i.i
  %pmr.i.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26
  %23 = load ptr, ptr %pmr.i.i.i, align 16
  %size.i6.i.i = getelementptr inbounds %struct.HostMemoryBackend, ptr %23, i64 0, i32 13, i32 18
  %24 = load i128, ptr %size.i6.i.i, align 16
  %cmp.i.i7.i.i = icmp ult i128 %24, 18446744073709551616
  br i1 %cmp.i.i7.i.i, label %nvme_addr_is_dma.exit.i, label %if.else.i.i8.i.i

if.else.i.i8.i.i:                                 ; preds = %if.end.i5.i.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.8, ptr noundef nonnull @.str.9, i32 noundef 33, ptr noundef nonnull @__PRETTY_FUNCTION__.int128_get64) #18
  unreachable

nvme_addr_is_dma.exit.i:                          ; preds = %if.end.i5.i.i
  %coerce.sroa.0.0.extract.trunc.i10.i.i = trunc i128 %24 to i64
  %cba.i11.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26, i32 2
  %25 = load i64, ptr %cba.i11.i.i, align 16
  %add.i12.i.i = add i64 %25, %coerce.sroa.0.0.extract.trunc.i10.i.i
  %cmp.i13.i.i = icmp ugt i64 %25, %2
  %cmp5.i.i.i = icmp ule i64 %add.i12.i.i, %2
  %.not.i.i = or i1 %cmp.i13.i.i, %cmp5.i.i.i
  %26 = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1
  br i1 %.not.i.i, label %if.then.i.i, label %if.else.i.i

if.then.i.i:                                      ; preds = %nvme_addr_is_dma.exit.i, %nvme_addr_is_dma.exit.thread.i
  %27 = phi ptr [ %22, %nvme_addr_is_dma.exit.thread.i ], [ %26, %nvme_addr_is_dma.exit.i ]
  %call.i.i.i = tail call ptr @object_dynamic_cast_assert(ptr noundef nonnull %n, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %call.i.i.i.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %call.i.i.i, ptr noundef nonnull @.str.4, ptr noundef nonnull @.str.5, i32 noundef 77, ptr noundef nonnull @__func__.DEVICE) #17
  %bus_master_as.i.i.i.i = getelementptr inbounds %struct.PCIDevice, ptr %call.i.i.i, i64 0, i32 12
  tail call void @qemu_sglist_init(ptr noundef nonnull %27, ptr noundef %call.i.i.i.i, i32 noundef 0, ptr noundef nonnull %bus_master_as.i.i.i.i) #17
  br label %nvme_sg_init.exit.i

if.else.i.i:                                      ; preds = %nvme_addr_is_dma.exit.i, %nvme_addr_is_dma.exit.thread110.i
  %28 = phi ptr [ %19, %nvme_addr_is_dma.exit.thread110.i ], [ %26, %nvme_addr_is_dma.exit.i ]
  tail call void @qemu_iovec_init(ptr noundef nonnull %28, i32 noundef 0) #17
  %.pre.i.i = load i32, ptr %sg, align 8
  %29 = or i32 %.pre.i.i, 1
  br label %nvme_sg_init.exit.i

nvme_sg_init.exit.i:                              ; preds = %if.else.i.i, %if.then.i.i
  %30 = phi ptr [ %28, %if.else.i.i ], [ %27, %if.then.i.i ]
  %or.i.i = phi i32 [ %29, %if.else.i.i ], [ 3, %if.then.i.i ]
  store i32 %or.i.i, ptr %sg, align 8
  %call6.i = tail call fastcc zeroext i16 @nvme_map_addr(ptr noundef nonnull %n, ptr noundef nonnull %sg, i64 noundef %2, i64 noundef %cond.i), !range !5
  %tobool.not.i = icmp eq i16 %call6.i, 0
  br i1 %tobool.not.i, label %if.end.i, label %unmap.i

if.end.i:                                         ; preds = %nvme_sg_init.exit.i
  %31 = trunc i64 %cond.i to i32
  %conv9.i = sub i32 %conv5, %31
  %tobool10.not.i = icmp eq i32 %conv9.i, 0
  br i1 %tobool10.not.i, label %return, label %if.then11.i

if.then11.i:                                      ; preds = %if.end.i
  %32 = load i32, ptr %page_size.i, align 4
  %cmp13.i = icmp ugt i32 %conv9.i, %32
  br i1 %cmp13.i, label %if.then15.i, label %if.else.i

if.then15.i:                                      ; preds = %if.then11.i
  %max_prp_ents.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 10
  %33 = load i16, ptr %max_prp_ents.i, align 2
  %conv16.i = zext i16 %33 to i64
  %call17.i = tail call noalias ptr @g_malloc_n(i64 noundef %conv16.i, i64 noundef 8) #19
  %34 = load i32, ptr %page_size.i, align 4
  %conv19.i = zext i32 %34 to i64
  %sub21.i = add i32 %34, -1
  %conv22.i = zext i32 %sub21.i to i64
  %and.i = and i64 %3, %conv22.i
  %sub23.i = sub nsw i64 %conv19.i, %and.i
  %shr24.i = lshr i64 %sub23.i, 3
  %conv25.i = trunc i64 %shr24.i to i32
  %35 = load i16, ptr %max_prp_ents.i, align 2
  %conv27.i = zext i16 %35 to i32
  %cond34.i = tail call i32 @llvm.umin.i32(i32 %conv27.i, i32 %conv25.i)
  %36 = shl nuw nsw i32 %cond34.i, 3
  %call37.i = tail call fastcc i32 @nvme_addr_read(ptr noundef nonnull %n, i64 noundef %3, ptr noundef %call17.i, i32 noundef %36)
  %tobool38.not.i = icmp eq i32 %call37.i, 0
  br i1 %tobool38.not.i, label %while.body.i, label %if.then39.i

if.then39.i:                                      ; preds = %if.then15.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i78.i)
  %37 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i79.i = icmp ne i32 %37, 0
  %38 = load i16, ptr @_TRACE_PCI_NVME_ERR_ADDR_READ_DSTATE, align 2
  %tobool4.i.i80.i = icmp ne i16 %38, 0
  %or.cond.i.i81.i = select i1 %tobool.i.i79.i, i1 %tobool4.i.i80.i, i1 false
  br i1 %or.cond.i.i81.i, label %land.lhs.true5.i.i82.i, label %trace_pci_nvme_err_addr_read.exit.i

land.lhs.true5.i.i82.i:                           ; preds = %if.then39.i
  %39 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i83.i = and i32 %39, 32768
  %cmp.i.not.i.i84.i = icmp eq i32 %and.i.i.i83.i, 0
  br i1 %cmp.i.not.i.i84.i, label %trace_pci_nvme_err_addr_read.exit.i, label %if.then.i.i85.i

if.then.i.i85.i:                                  ; preds = %land.lhs.true5.i.i82.i
  %40 = load i8, ptr @message_with_timestamp, align 1
  %41 = and i8 %40, 1
  %tobool7.not.i.i86.i = icmp eq i8 %41, 0
  br i1 %tobool7.not.i.i86.i, label %if.else.i.i91.i, label %if.then8.i.i87.i

if.then8.i.i87.i:                                 ; preds = %if.then.i.i85.i
  %call9.i.i88.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i78.i, ptr noundef null) #17
  %call10.i.i89.i = tail call i32 @qemu_get_thread_id() #17
  %42 = load i64, ptr %_now.i.i78.i, align 8
  %tv_usec.i.i90.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i78.i, i64 0, i32 1
  %43 = load i64, ptr %tv_usec.i.i90.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.17, i32 noundef %call10.i.i89.i, i64 noundef %42, i64 noundef %43, i64 noundef %3) #17
  br label %trace_pci_nvme_err_addr_read.exit.i

if.else.i.i91.i:                                  ; preds = %if.then.i.i85.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.18, i64 noundef %3) #17
  br label %trace_pci_nvme_err_addr_read.exit.i

trace_pci_nvme_err_addr_read.exit.i:              ; preds = %if.else.i.i91.i, %if.then8.i.i87.i, %land.lhs.true5.i.i82.i, %if.then39.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i78.i)
  br label %cleanup.thread.i

while.body.i:                                     ; preds = %if.then15.i, %if.end112.i
  %len.addr.0121.i = phi i32 [ %sub114.i, %if.end112.i ], [ %conv9.i, %if.then15.i ]
  %nents.0120.i = phi i32 [ %nents.1.i, %if.end112.i ], [ %conv25.i, %if.then15.i ]
  %i.0119.i = phi i32 [ %inc.i, %if.end112.i ], [ 0, %if.then15.i ]
  %idxprom.i = sext i32 %i.0119.i to i64
  %arrayidx.i = getelementptr i64, ptr %call17.i, i64 %idxprom.i
  %44 = load i64, ptr %arrayidx.i, align 8
  %sub44.i = add i32 %nents.0120.i, -1
  %cmp45.i = icmp eq i32 %i.0119.i, %sub44.i
  %.pre129.i = load i32, ptr %page_size.i, align 4
  %cmp48.i = icmp ugt i32 %len.addr.0121.i, %.pre129.i
  %or.cond.i = select i1 %cmp45.i, i1 %cmp48.i, i1 false
  br i1 %or.cond.i, label %if.then50.i, label %if.end86.i

if.then50.i:                                      ; preds = %while.body.i
  %sub52.i = add i32 %.pre129.i, -1
  %conv53.i = zext i32 %sub52.i to i64
  %and54.i = and i64 %44, %conv53.i
  %tobool55.not.i = icmp eq i64 %and54.i, 0
  br i1 %tobool55.not.i, label %if.end60.i, label %if.then59.i

if.then59.i:                                      ; preds = %if.then50.i
  tail call fastcc void @trace_pci_nvme_err_invalid_prplist_ent(i64 noundef %44)
  br label %cleanup.thread.i

if.end60.i:                                       ; preds = %if.then50.i
  %sub63.i = add i32 %sub52.i, %len.addr.0121.i
  %45 = load i16, ptr %page_bits.i, align 16
  %conv65.i = zext nneg i16 %45 to i32
  %shr66.i = lshr i32 %sub63.i, %conv65.i
  %46 = load i16, ptr %max_prp_ents.i, align 2
  %conv68.i = zext i16 %46 to i32
  %cond75.i = tail call i32 @llvm.umin.i32(i32 %shr66.i, i32 %conv68.i)
  %47 = shl nuw nsw i32 %cond75.i, 3
  %call79.i = tail call fastcc i32 @nvme_addr_read(ptr noundef nonnull %n, i64 noundef %44, ptr noundef nonnull %call17.i, i32 noundef %47)
  %tobool80.not.i = icmp eq i32 %call79.i, 0
  br i1 %tobool80.not.i, label %if.end82.i, label %if.then81.i

if.then81.i:                                      ; preds = %if.end60.i
  tail call fastcc void @trace_pci_nvme_err_addr_read(i64 noundef %44)
  br label %cleanup.thread.i

if.end82.i:                                       ; preds = %if.end60.i
  %48 = load i64, ptr %call17.i, align 8
  %.pre.i = load i32, ptr %page_size.i, align 4
  br label %if.end86.i

if.end86.i:                                       ; preds = %if.end82.i, %while.body.i
  %49 = phi i32 [ %.pre.i, %if.end82.i ], [ %.pre129.i, %while.body.i ]
  %i.1.i = phi i32 [ 0, %if.end82.i ], [ %i.0119.i, %while.body.i ]
  %prp_ent.0.i = phi i64 [ %48, %if.end82.i ], [ %44, %while.body.i ]
  %nents.1.i = phi i32 [ %cond75.i, %if.end82.i ], [ %nents.0120.i, %while.body.i ]
  %sub88.i = add i32 %49, -1
  %conv89.i = zext i32 %sub88.i to i64
  %and90.i = and i64 %prp_ent.0.i, %conv89.i
  %tobool91.not.i = icmp eq i64 %and90.i, 0
  br i1 %tobool91.not.i, label %if.end99.i, label %if.then98.i

if.then98.i:                                      ; preds = %if.end86.i
  tail call fastcc void @trace_pci_nvme_err_invalid_prplist_ent(i64 noundef %prp_ent.0.i)
  br label %cleanup.thread.i

if.end99.i:                                       ; preds = %if.end86.i
  %cond107.i = tail call i32 @llvm.umin.i32(i32 %len.addr.0121.i, i32 %49)
  %conv108.i = zext i32 %cond107.i to i64
  %call109.i = tail call fastcc zeroext i16 @nvme_map_addr(ptr noundef nonnull %n, ptr noundef nonnull %sg, i64 noundef %prp_ent.0.i, i64 noundef %conv108.i), !range !5
  %tobool110.not.i = icmp eq i16 %call109.i, 0
  br i1 %tobool110.not.i, label %if.end112.i, label %cleanup.thread.i

if.end112.i:                                      ; preds = %if.end99.i
  %sub114.i = sub i32 %len.addr.0121.i, %cond107.i
  %inc.i = add i32 %i.1.i, 1
  %cmp41.not.i = icmp eq i32 %sub114.i, 0
  br i1 %cmp41.not.i, label %cleanup.i, label %while.body.i, !llvm.loop !6

cleanup.thread.i:                                 ; preds = %if.end99.i, %if.then98.i, %if.then81.i, %if.then59.i, %trace_pci_nvme_err_addr_read.exit.i
  %status.1.ph.i = phi i16 [ 16403, %if.then98.i ], [ 4, %if.then81.i ], [ 16403, %if.then59.i ], [ 4, %trace_pci_nvme_err_addr_read.exit.i ], [ %call109.i, %if.end99.i ]
  tail call void @g_free(ptr noundef %call17.i) #17
  br label %unmap.i

cleanup.i:                                        ; preds = %if.end112.i
  tail call void @g_free(ptr noundef nonnull %call17.i) #17
  br label %return

if.else.i:                                        ; preds = %if.then11.i
  %sub117.i = add i32 %32, -1
  %conv118.i = zext i32 %sub117.i to i64
  %and119.i = and i64 %3, %conv118.i
  %tobool120.not.i = icmp eq i64 %and119.i, 0
  br i1 %tobool120.not.i, label %if.end128.i, label %if.then127.i

if.then127.i:                                     ; preds = %if.else.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i92.i)
  %50 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i93.i = icmp ne i32 %50, 0
  %51 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_PRP2_ALIGN_DSTATE, align 2
  %tobool4.i.i94.i = icmp ne i16 %51, 0
  %or.cond.i.i95.i = select i1 %tobool.i.i93.i, i1 %tobool4.i.i94.i, i1 false
  br i1 %or.cond.i.i95.i, label %land.lhs.true5.i.i96.i, label %trace_pci_nvme_err_invalid_prp2_align.exit.i

land.lhs.true5.i.i96.i:                           ; preds = %if.then127.i
  %52 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i97.i = and i32 %52, 32768
  %cmp.i.not.i.i98.i = icmp eq i32 %and.i.i.i97.i, 0
  br i1 %cmp.i.not.i.i98.i, label %trace_pci_nvme_err_invalid_prp2_align.exit.i, label %if.then.i.i99.i

if.then.i.i99.i:                                  ; preds = %land.lhs.true5.i.i96.i
  %53 = load i8, ptr @message_with_timestamp, align 1
  %54 = and i8 %53, 1
  %tobool7.not.i.i100.i = icmp eq i8 %54, 0
  br i1 %tobool7.not.i.i100.i, label %if.else.i.i105.i, label %if.then8.i.i101.i

if.then8.i.i101.i:                                ; preds = %if.then.i.i99.i
  %call9.i.i102.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i92.i, ptr noundef null) #17
  %call10.i.i103.i = tail call i32 @qemu_get_thread_id() #17
  %55 = load i64, ptr %_now.i.i92.i, align 8
  %tv_usec.i.i104.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i92.i, i64 0, i32 1
  %56 = load i64, ptr %tv_usec.i.i104.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.21, i32 noundef %call10.i.i103.i, i64 noundef %55, i64 noundef %56, i64 noundef %3) #17
  br label %trace_pci_nvme_err_invalid_prp2_align.exit.i

if.else.i.i105.i:                                 ; preds = %if.then.i.i99.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.22, i64 noundef %3) #17
  br label %trace_pci_nvme_err_invalid_prp2_align.exit.i

trace_pci_nvme_err_invalid_prp2_align.exit.i:     ; preds = %if.else.i.i105.i, %if.then8.i.i101.i, %land.lhs.true5.i.i96.i, %if.then127.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i92.i)
  br label %unmap.i

if.end128.i:                                      ; preds = %if.else.i
  %conv129.i = zext i32 %conv9.i to i64
  %call130.i = tail call fastcc zeroext i16 @nvme_map_addr(ptr noundef nonnull %n, ptr noundef nonnull %sg, i64 noundef %3, i64 noundef %conv129.i), !range !5
  %tobool131.not.i = icmp eq i16 %call130.i, 0
  br i1 %tobool131.not.i, label %return, label %unmap.i

unmap.i:                                          ; preds = %if.end128.i, %trace_pci_nvme_err_invalid_prp2_align.exit.i, %cleanup.thread.i, %nvme_sg_init.exit.i
  %status.2.i = phi i16 [ %call6.i, %nvme_sg_init.exit.i ], [ 16403, %trace_pci_nvme_err_invalid_prp2_align.exit.i ], [ %call130.i, %if.end128.i ], [ %status.1.ph.i, %cleanup.thread.i ]
  %57 = load i32, ptr %sg, align 8
  %and.i.i = and i32 %57, 1
  %tobool.not.i.i = icmp eq i32 %and.i.i, 0
  br i1 %tobool.not.i.i, label %return, label %if.end.i.i

if.end.i.i:                                       ; preds = %unmap.i
  %and2.i.i = and i32 %57, 2
  %tobool3.not.i.i = icmp eq i32 %and2.i.i, 0
  br i1 %tobool3.not.i.i, label %if.else.i106.i, label %if.then4.i.i

if.then4.i.i:                                     ; preds = %if.end.i.i
  tail call void @qemu_sglist_destroy(ptr noundef nonnull %30) #17
  br label %if.end5.i.i

if.else.i106.i:                                   ; preds = %if.end.i.i
  tail call void @qemu_iovec_destroy(ptr noundef nonnull %30) #17
  br label %if.end5.i.i

if.end5.i.i:                                      ; preds = %if.else.i106.i, %if.then4.i.i
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(48) %sg, i8 0, i64 48, i1 false)
  br label %return

sw.bb7:                                           ; preds = %entry, %entry
  %dptr8 = getelementptr inbounds %struct.NvmeCmd, ptr %cmd, i64 0, i32 6
  %58 = load i64, ptr %dptr8, align 1
  %59 = getelementptr inbounds %struct.NvmeCmd, ptr %cmd, i64 0, i32 6, i32 0, i32 1
  %60 = load i64, ptr %59, align 1
  %call9 = tail call fastcc zeroext i16 @nvme_map_sgl(ptr noundef %n, ptr noundef %sg, i64 %58, i64 %60, i64 noundef %len)
  br label %return

entry.unreachabledefault:                         ; preds = %entry
  unreachable

return:                                           ; preds = %if.end5.i.i, %unmap.i, %if.end128.i, %cleanup.i, %if.end.i, %entry, %sw.bb7
  %retval.0 = phi i16 [ %call9, %sw.bb7 ], [ 2, %entry ], [ 0, %cleanup.i ], [ 0, %if.end128.i ], [ 0, %if.end.i ], [ %status.2.i, %unmap.i ], [ %status.2.i, %if.end5.i.i ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_map_sgl(ptr noundef %n, ptr noundef %sg, i64 %sgl.coerce0, i64 %sgl.coerce1, i64 noundef %len) unnamed_addr #0 {
entry:
  %_now.i.i40 = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %sgl = alloca %struct.NvmeSglDescriptor, align 8
  %len.addr = alloca i64, align 8
  %segment = alloca [256 x %struct.NvmeSglDescriptor], align 16
  store i64 %sgl.coerce0, ptr %sgl, align 8
  %0 = getelementptr inbounds { i64, i64 }, ptr %sgl, i64 0, i32 1
  store i64 %sgl.coerce1, ptr %0, align 8
  store i64 %len, ptr %len.addr, align 8
  %1 = lshr i64 %sgl.coerce1, 56
  %2 = trunc i64 %1 to i8
  %3 = lshr i8 %2, 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %4 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %4, 0
  %5 = load i16, ptr @_TRACE_PCI_NVME_MAP_SGL_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %5, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_map_sgl.exit

land.lhs.true5.i.i:                               ; preds = %entry
  %6 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %6, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_map_sgl.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %7 = load i8, ptr @message_with_timestamp, align 1
  %8 = and i8 %7, 1
  %tobool7.not.i.i = icmp eq i8 %8, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %9 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %10 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext nneg i8 %3 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.23, i32 noundef %call10.i.i, i64 noundef %9, i64 noundef %10, i32 noundef %conv11.i.i, i64 noundef %len) #17
  br label %trace_pci_nvme_map_sgl.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv12.i.i = zext nneg i8 %3 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.24, i32 noundef %conv12.i.i, i64 noundef %len) #17
  br label %trace_pci_nvme_map_sgl.exit

trace_pci_nvme_map_sgl.exit:                      ; preds = %entry, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %cmse.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 2
  %11 = load i8, ptr %cmse.i.i, align 8
  %12 = and i8 %11, 1
  %tobool.not.i.i = icmp eq i8 %12, 0
  br i1 %tobool.not.i.i, label %lor.rhs.i, label %if.end.i.i

if.end.i.i:                                       ; preds = %trace_pci_nvme_map_sgl.exit
  %size.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 0, i32 18
  %13 = load i128, ptr %size.i.i, align 16
  %cmp.i.i.i = icmp ult i128 %13, 18446744073709551616
  br i1 %cmp.i.i.i, label %nvme_addr_is_cmb.exit.i, label %if.else.i.i.i

if.else.i.i.i:                                    ; preds = %if.end.i.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.8, ptr noundef nonnull @.str.9, i32 noundef 33, ptr noundef nonnull @__PRETTY_FUNCTION__.int128_get64) #18
  unreachable

nvme_addr_is_cmb.exit.i:                          ; preds = %if.end.i.i
  %coerce.sroa.0.0.extract.trunc.i.i = trunc i128 %13 to i64
  %legacy_cmb.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 4, i32 12
  %14 = load i8, ptr %legacy_cmb.i.i, align 1
  %15 = and i8 %14, 1
  %tobool1.not.i.i = icmp eq i8 %15, 0
  %cba.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 3
  %addr3.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 0, i32 19
  %cond.in.i.i = select i1 %tobool1.not.i.i, ptr %cba.i.i, ptr %addr3.i.i
  %cond.i.i = load i64, ptr %cond.in.i.i, align 16
  %add.i.i = add i64 %cond.i.i, %coerce.sroa.0.0.extract.trunc.i.i
  %cmp.i.i = icmp ule i64 %cond.i.i, %sgl.coerce0
  %cmp7.i.i = icmp ugt i64 %add.i.i, %sgl.coerce0
  %16 = and i1 %cmp.i.i, %cmp7.i.i
  br i1 %16, label %nvme_addr_is_dma.exit.thread2, label %lor.rhs.i

nvme_addr_is_dma.exit.thread2:                    ; preds = %nvme_addr_is_cmb.exit.i
  %17 = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1
  br label %if.else.i

lor.rhs.i:                                        ; preds = %nvme_addr_is_cmb.exit.i, %trace_pci_nvme_map_sgl.exit
  %cmse.i3.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26, i32 1
  %18 = load i8, ptr %cmse.i3.i, align 8
  %19 = and i8 %18, 1
  %tobool.not.i4.i = icmp eq i8 %19, 0
  br i1 %tobool.not.i4.i, label %nvme_addr_is_dma.exit.thread, label %if.end.i5.i

nvme_addr_is_dma.exit.thread:                     ; preds = %lor.rhs.i
  %20 = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1
  br label %if.then.i

if.end.i5.i:                                      ; preds = %lor.rhs.i
  %pmr.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26
  %21 = load ptr, ptr %pmr.i.i, align 16
  %size.i6.i = getelementptr inbounds %struct.HostMemoryBackend, ptr %21, i64 0, i32 13, i32 18
  %22 = load i128, ptr %size.i6.i, align 16
  %cmp.i.i7.i = icmp ult i128 %22, 18446744073709551616
  br i1 %cmp.i.i7.i, label %nvme_addr_is_dma.exit, label %if.else.i.i8.i

if.else.i.i8.i:                                   ; preds = %if.end.i5.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.8, ptr noundef nonnull @.str.9, i32 noundef 33, ptr noundef nonnull @__PRETTY_FUNCTION__.int128_get64) #18
  unreachable

nvme_addr_is_dma.exit:                            ; preds = %if.end.i5.i
  %coerce.sroa.0.0.extract.trunc.i10.i = trunc i128 %22 to i64
  %cba.i11.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26, i32 2
  %23 = load i64, ptr %cba.i11.i, align 16
  %add.i12.i = add i64 %23, %coerce.sroa.0.0.extract.trunc.i10.i
  %cmp.i13.i = icmp ugt i64 %23, %sgl.coerce0
  %cmp5.i.i = icmp ule i64 %add.i12.i, %sgl.coerce0
  %.not.i = or i1 %cmp.i13.i, %cmp5.i.i
  %24 = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1
  br i1 %.not.i, label %if.then.i, label %if.else.i

if.then.i:                                        ; preds = %nvme_addr_is_dma.exit.thread, %nvme_addr_is_dma.exit
  %25 = phi ptr [ %20, %nvme_addr_is_dma.exit.thread ], [ %24, %nvme_addr_is_dma.exit ]
  %call.i.i = tail call ptr @object_dynamic_cast_assert(ptr noundef nonnull %n, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %call.i.i.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %call.i.i, ptr noundef nonnull @.str.4, ptr noundef nonnull @.str.5, i32 noundef 77, ptr noundef nonnull @__func__.DEVICE) #17
  %bus_master_as.i.i.i = getelementptr inbounds %struct.PCIDevice, ptr %call.i.i, i64 0, i32 12
  tail call void @qemu_sglist_init(ptr noundef nonnull %25, ptr noundef %call.i.i.i, i32 noundef 0, ptr noundef nonnull %bus_master_as.i.i.i) #17
  br label %nvme_sg_init.exit

if.else.i:                                        ; preds = %nvme_addr_is_dma.exit.thread2, %nvme_addr_is_dma.exit
  %26 = phi ptr [ %17, %nvme_addr_is_dma.exit.thread2 ], [ %24, %nvme_addr_is_dma.exit ]
  tail call void @qemu_iovec_init(ptr noundef nonnull %26, i32 noundef 0) #17
  %.pre.i = load i32, ptr %sg, align 8
  %27 = or i32 %.pre.i, 1
  br label %nvme_sg_init.exit

nvme_sg_init.exit:                                ; preds = %if.then.i, %if.else.i
  %28 = phi ptr [ %26, %if.else.i ], [ %25, %if.then.i ]
  %or.i = phi i32 [ %27, %if.else.i ], [ 3, %if.then.i ]
  store i32 %or.i, ptr %sg, align 8
  %cmp = icmp ult i8 %2, 16
  br i1 %cmp, label %if.then, label %for.cond

if.then:                                          ; preds = %nvme_sg_init.exit
  %call9 = call fastcc zeroext i16 @nvme_map_sgl_data(ptr noundef nonnull %n, ptr noundef nonnull %sg, ptr noundef nonnull %sgl, i64 noundef 1, ptr noundef nonnull %len.addr)
  %tobool.not = icmp eq i16 %call9, 0
  br i1 %tobool.not, label %out, label %unmap

for.cond:                                         ; preds = %nvme_sg_init.exit, %if.end68
  %sgld.0 = phi ptr [ %arrayidx, %if.end68 ], [ %sgl, %nvme_sg_init.exit ]
  %addr.0 = phi i64 [ %41, %if.end68 ], [ %sgl.coerce0, %nvme_sg_init.exit ]
  %type12 = getelementptr inbounds %struct.NvmeSglDescriptor, ptr %sgld.0, i64 0, i32 3
  %29 = load i8, ptr %type12, align 1
  %30 = and i8 %29, -32
  %switch = icmp eq i8 %30, 32
  br i1 %switch, label %sw.epilog, label %return

sw.epilog:                                        ; preds = %for.cond
  %len16 = getelementptr inbounds %struct.NvmeSglDescriptor, ptr %sgld.0, i64 0, i32 1
  %31 = load i32, ptr %len16, align 1
  %tobool18.not = icmp ne i32 %31, 0
  %and19 = and i32 %31, 15
  %tobool20.not = icmp eq i32 %and19, 0
  %or.cond = and i1 %tobool18.not, %tobool20.not
  br i1 %or.cond, label %if.end22, label %return

if.end22:                                         ; preds = %sw.epilog
  %sub = xor i64 %addr.0, -1
  %conv23 = zext i32 %31 to i64
  %cmp24 = icmp ult i64 %sub, %conv23
  br i1 %cmp24, label %return, label %if.end27

if.end27:                                         ; preds = %if.end22
  %div39 = lshr exact i64 %conv23, 4
  %cmp2913 = icmp ugt i32 %31, 4096
  br i1 %cmp2913, label %while.body, label %while.end

while.body:                                       ; preds = %if.end27, %if.end39
  %addr.115 = phi i64 [ %add, %if.end39 ], [ %addr.0, %if.end27 ]
  %nsgld.014 = phi i64 [ %sub40, %if.end39 ], [ %div39, %if.end27 ]
  %call31 = call fastcc i32 @nvme_addr_read(ptr noundef %n, i64 noundef %addr.115, ptr noundef nonnull %segment, i32 noundef 4096)
  %tobool32.not = icmp eq i32 %call31, 0
  br i1 %tobool32.not, label %if.end34, label %if.then33

if.then33:                                        ; preds = %while.body
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i40)
  %32 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i41 = icmp ne i32 %32, 0
  %33 = load i16, ptr @_TRACE_PCI_NVME_ERR_ADDR_READ_DSTATE, align 2
  %tobool4.i.i42 = icmp ne i16 %33, 0
  %or.cond.i.i43 = select i1 %tobool.i.i41, i1 %tobool4.i.i42, i1 false
  br i1 %or.cond.i.i43, label %land.lhs.true5.i.i44, label %trace_pci_nvme_err_addr_read.exit

land.lhs.true5.i.i44:                             ; preds = %if.then33
  %34 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i45 = and i32 %34, 32768
  %cmp.i.not.i.i46 = icmp eq i32 %and.i.i.i45, 0
  br i1 %cmp.i.not.i.i46, label %trace_pci_nvme_err_addr_read.exit, label %if.then.i.i47

if.then.i.i47:                                    ; preds = %land.lhs.true5.i.i44
  %35 = load i8, ptr @message_with_timestamp, align 1
  %36 = and i8 %35, 1
  %tobool7.not.i.i48 = icmp eq i8 %36, 0
  br i1 %tobool7.not.i.i48, label %if.else.i.i53, label %if.then8.i.i49

if.then8.i.i49:                                   ; preds = %if.then.i.i47
  %call9.i.i50 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i40, ptr noundef null) #17
  %call10.i.i51 = call i32 @qemu_get_thread_id() #17
  %37 = load i64, ptr %_now.i.i40, align 8
  %tv_usec.i.i52 = getelementptr inbounds %struct.timeval, ptr %_now.i.i40, i64 0, i32 1
  %38 = load i64, ptr %tv_usec.i.i52, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.17, i32 noundef %call10.i.i51, i64 noundef %37, i64 noundef %38, i64 noundef %addr.115) #17
  br label %trace_pci_nvme_err_addr_read.exit

if.else.i.i53:                                    ; preds = %if.then.i.i47
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.18, i64 noundef %addr.115) #17
  br label %trace_pci_nvme_err_addr_read.exit

trace_pci_nvme_err_addr_read.exit:                ; preds = %if.then33, %land.lhs.true5.i.i44, %if.then8.i.i49, %if.else.i.i53
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i40)
  br label %unmap

if.end34:                                         ; preds = %while.body
  %call36 = call fastcc zeroext i16 @nvme_map_sgl_data(ptr noundef %n, ptr noundef nonnull %sg, ptr noundef nonnull %segment, i64 noundef 256, ptr noundef nonnull %len.addr)
  %tobool37.not = icmp eq i16 %call36, 0
  br i1 %tobool37.not, label %if.end39, label %unmap

if.end39:                                         ; preds = %if.end34
  %sub40 = add nsw i64 %nsgld.014, -256
  %add = add i64 %addr.115, 4096
  %cmp29 = icmp ugt i64 %sub40, 256
  br i1 %cmp29, label %while.body, label %while.end, !llvm.loop !8

while.end:                                        ; preds = %if.end39, %if.end27
  %nsgld.0.lcssa = phi i64 [ %div39, %if.end27 ], [ %sub40, %if.end39 ]
  %addr.1.lcssa = phi i64 [ %addr.0, %if.end27 ], [ %add, %if.end39 ]
  %nsgld.0.tr = trunc i64 %nsgld.0.lcssa to i32
  %conv42 = shl nuw nsw i32 %nsgld.0.tr, 4
  %call43 = call fastcc i32 @nvme_addr_read(ptr noundef %n, i64 noundef %addr.1.lcssa, ptr noundef nonnull %segment, i32 noundef %conv42)
  %tobool44.not = icmp eq i32 %call43, 0
  br i1 %tobool44.not, label %if.end46, label %if.then45

if.then45:                                        ; preds = %while.end
  call fastcc void @trace_pci_nvme_err_addr_read(i64 noundef %addr.1.lcssa)
  br label %unmap

if.end46:                                         ; preds = %while.end
  %sub47 = add nsw i64 %nsgld.0.lcssa, -1
  %arrayidx = getelementptr [256 x %struct.NvmeSglDescriptor], ptr %segment, i64 0, i64 %sub47
  %type48 = getelementptr [256 x %struct.NvmeSglDescriptor], ptr %segment, i64 0, i64 %sub47, i32 3
  %39 = load i8, ptr %type48, align 1
  %cmp52 = icmp ult i8 %39, 16
  br i1 %cmp52, label %if.then54, label %if.end60

if.then54:                                        ; preds = %if.end46
  %call56 = call fastcc zeroext i16 @nvme_map_sgl_data(ptr noundef %n, ptr noundef nonnull %sg, ptr noundef nonnull %segment, i64 noundef %nsgld.0.lcssa, ptr noundef nonnull %len.addr)
  %tobool57.not = icmp eq i16 %call56, 0
  br i1 %tobool57.not, label %out, label %unmap

if.end60:                                         ; preds = %if.end46
  %40 = load i8, ptr %type12, align 1
  %.mask = and i8 %40, -16
  %cmp65 = icmp eq i8 %.mask, 48
  br i1 %cmp65, label %unmap, label %if.end68

if.end68:                                         ; preds = %if.end60
  %41 = load i64, ptr %arrayidx, align 16
  %call73 = call fastcc zeroext i16 @nvme_map_sgl_data(ptr noundef %n, ptr noundef nonnull %sg, ptr noundef nonnull %segment, i64 noundef %sub47, ptr noundef nonnull %len.addr)
  %tobool74.not = icmp eq i16 %call73, 0
  br i1 %tobool74.not, label %for.cond, label %unmap

out:                                              ; preds = %if.then54, %if.then
  %42 = load i64, ptr %len.addr, align 8
  %tobool77.not = icmp eq i64 %42, 0
  br i1 %tobool77.not, label %return, label %unmap

unmap:                                            ; preds = %if.end60, %if.end68, %if.end34, %out, %if.then54, %if.then, %if.then45, %trace_pci_nvme_err_addr_read.exit
  %status.0 = phi i16 [ %call9, %if.then ], [ 4, %trace_pci_nvme_err_addr_read.exit ], [ 4, %if.then45 ], [ %call56, %if.then54 ], [ 16399, %out ], [ %call36, %if.end34 ], [ 16397, %if.end60 ], [ %call73, %if.end68 ]
  %43 = load i32, ptr %sg, align 8
  %and.i = and i32 %43, 1
  %tobool.not.i = icmp eq i32 %and.i, 0
  br i1 %tobool.not.i, label %return, label %if.end.i

if.end.i:                                         ; preds = %unmap
  %and2.i = and i32 %43, 2
  %tobool3.not.i = icmp eq i32 %and2.i, 0
  br i1 %tobool3.not.i, label %if.else.i54, label %if.then4.i

if.then4.i:                                       ; preds = %if.end.i
  call void @qemu_sglist_destroy(ptr noundef nonnull %28) #17
  br label %if.end5.i

if.else.i54:                                      ; preds = %if.end.i
  call void @qemu_iovec_destroy(ptr noundef nonnull %28) #17
  br label %if.end5.i

if.end5.i:                                        ; preds = %if.else.i54, %if.then4.i
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(48) %sg, i8 0, i64 48, i1 false)
  br label %return

return:                                           ; preds = %if.end22, %sw.epilog, %for.cond, %if.end5.i, %unmap, %out
  %retval.0 = phi i16 [ 0, %out ], [ %status.0, %unmap ], [ %status.0, %if.end5.i ], [ 16399, %if.end22 ], [ 16397, %sw.epilog ], [ 16397, %for.cond ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define dso_local noundef zeroext i16 @nvme_bounce_data(ptr noundef %n, ptr noundef %ptr, i32 noundef %len, i32 noundef %dir, ptr noundef %req) local_unnamed_addr #0 {
entry:
  %ns1 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 1
  %0 = load ptr, ptr %ns1, align 8
  %1 = getelementptr i8, ptr %0, i64 298
  %.val = load i8, ptr %1, align 2
  %2 = and i8 %.val, 16
  %tobool.i.not = icmp eq i8 %2, 0
  br i1 %tobool.i.not, label %if.end, label %land.lhs.true

land.lhs.true:                                    ; preds = %entry
  %control = getelementptr inbounds i8, ptr %req, i64 106
  %3 = load i16, ptr %control, align 1
  %4 = and i16 %3, 8192
  %tobool5.not = icmp eq i16 %4, 0
  %dps = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 5, i32 8
  %5 = load i8, ptr %dps, align 1
  %6 = and i8 %5, 7
  %tobool.not = icmp eq i8 %6, 0
  %brmerge = select i1 %tobool.not, i1 true, i1 %tobool5.not
  %lbaf21.phi.trans.insert = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 7
  %.pre = load i16, ptr %lbaf21.phi.trans.insert, align 8
  br i1 %brmerge, label %if.then, label %land.lhs.true16

land.lhs.true16:                                  ; preds = %land.lhs.true
  %conv17 = zext i16 %.pre to i64
  %7 = getelementptr i8, ptr %0, i64 8496
  %.val13 = load i8, ptr %7, align 8
  %tobool.not.i = icmp eq i8 %.val13, 0
  %conv1.i = select i1 %tobool.not.i, i64 8, i64 16
  %cmp = icmp eq i64 %conv1.i, %conv17
  br i1 %cmp, label %if.end, label %if.then

if.then:                                          ; preds = %land.lhs.true, %land.lhs.true16
  %sg = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %lbasz = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 9
  %8 = load i64, ptr %lbasz, align 8
  %conv20 = trunc i64 %8 to i32
  %conv23 = zext i16 %.pre to i32
  %call24 = tail call fastcc zeroext i16 @nvme_tx_interleaved(ptr noundef %n, ptr noundef nonnull %sg, ptr noundef %ptr, i32 noundef %len, i32 noundef %conv20, i32 noundef %conv23, i64 noundef 0, i32 noundef %dir), !range !9
  br label %return

if.end:                                           ; preds = %land.lhs.true16, %entry
  %sg25 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %call26 = tail call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg25, ptr noundef %ptr, i32 noundef %len, i32 noundef %dir)
  br label %return

return:                                           ; preds = %if.end, %if.then
  %retval.0 = phi i16 [ %call26, %if.end ], [ %call24, %if.then ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_tx_interleaved(ptr noundef %n, ptr nocapture noundef readonly %sg, ptr noundef %ptr, i32 noundef %len, i32 noundef %bytes, i32 noundef %skip_bytes, i64 noundef %offset, i32 noundef %dir) unnamed_addr #0 {
entry:
  %0 = load i32, ptr %sg, align 8
  %and = and i32 %0, 2
  %tobool.not = icmp eq i32 %and, 0
  %and2 = and i32 %0, 1
  %tobool3.not = icmp eq i32 %and2, 0
  br i1 %tobool3.not, label %if.else, label %while.cond.preheader

while.cond.preheader:                             ; preds = %entry
  %tobool4.not84 = icmp eq i32 %len, 0
  br i1 %tobool4.not84, label %return, label %while.body.lr.ph.lr.ph

while.body.lr.ph.lr.ph:                           ; preds = %while.cond.preheader
  %1 = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1
  %cmp42 = icmp eq i32 %dir, 0
  %cmbsz.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 3, i32 12
  %cmse.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 2
  %size.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 0, i32 18
  %legacy_cmb.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 4, i32 12
  %cba.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 3
  %addr3.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 0, i32 19
  %buf.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 1
  %cmse.i45.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26, i32 1
  %pmr.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26
  %cba.i53.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26, i32 2
  br label %while.body.lr.ph

if.else:                                          ; preds = %entry
  tail call void @__assert_fail(ptr noundef nonnull @.str.27, ptr noundef nonnull @.str.1, i32 noundef 1292, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_tx_interleaved) #18
  unreachable

while.body:                                       ; preds = %while.body.lr.ph, %while.cond.backedge
  %offset.addr.050 = phi i64 [ %offset.addr.0.be, %while.cond.backedge ], [ %offset.addr.0.ph87, %while.body.lr.ph ]
  %sg_idx.049 = phi i32 [ %sg_idx.0.be, %while.cond.backedge ], [ %sg_idx.0.ph86, %while.body.lr.ph ]
  %idxprom = sext i32 %sg_idx.049 to i64
  %len7 = getelementptr %struct.ScatterGatherEntry, ptr %20, i64 %idxprom, i32 1
  %cond = load i64, ptr %len7, align 8
  %sub = sub i64 %cond, %offset.addr.050
  %cmp = icmp slt i64 %sub, 0
  br i1 %cmp, label %if.then10, label %if.end12

if.then10:                                        ; preds = %while.body
  %sub11 = sub i64 %offset.addr.050, %cond
  br label %while.cond.backedge

while.cond.backedge:                              ; preds = %if.end12, %if.then10
  %offset.addr.0.be = phi i64 [ %sub11, %if.then10 ], [ 0, %if.end12 ]
  %sg_idx.0.be = add i32 %sg_idx.049, 1
  br label %while.body

if.end12:                                         ; preds = %while.body
  %cmp13 = icmp eq i64 %cond, %offset.addr.050
  br i1 %cmp13, label %while.cond.backedge, label %if.end16

if.end16:                                         ; preds = %if.end12, %if.end12.us
  %.us-phi = phi i64 [ %sub.us, %if.end12.us ], [ %sub, %if.end12 ]
  %.us-phi51 = phi i32 [ %sg_idx.049.us, %if.end12.us ], [ %sg_idx.049, %if.end12 ]
  %.us-phi52 = phi i64 [ %offset.addr.050.us, %if.end12.us ], [ %offset.addr.050, %if.end12 ]
  %cond21 = tail call i32 @llvm.umin.i32(i32 %len.addr.0.ph88, i32 %count.0.ph85)
  %conv = zext i32 %cond21 to i64
  %cond29 = tail call i64 @llvm.smin.i64(i64 %.us-phi, i64 %conv)
  %conv30 = trunc i64 %cond29 to i32
  %idxprom38 = sext i32 %.us-phi51 to i64
  br i1 %tobool.not, label %if.else36, label %if.then32

if.then32:                                        ; preds = %if.end16
  %arrayidx35 = getelementptr %struct.ScatterGatherEntry, ptr %20, i64 %idxprom38
  %2 = load i64, ptr %arrayidx35, align 8
  %add = add i64 %2, %.us-phi52
  br label %if.end41

if.else36:                                        ; preds = %if.end16
  %arrayidx39 = getelementptr %struct.iovec, ptr %20, i64 %idxprom38
  %3 = load ptr, ptr %arrayidx39, align 8
  %4 = ptrtoint ptr %3 to i64
  %add40 = add i64 %.us-phi52, %4
  br label %if.end41

if.end41:                                         ; preds = %if.else36, %if.then32
  %addr.0 = phi i64 [ %add, %if.then32 ], [ %add40, %if.else36 ]
  br i1 %cmp42, label %if.then44, label %if.else45

if.then44:                                        ; preds = %if.end41
  %call = tail call fastcc i32 @nvme_addr_read(ptr noundef %n, i64 noundef %addr.0, ptr noundef %ptr.addr.0.ph89, i32 noundef %conv30)
  br label %if.end47

if.else45:                                        ; preds = %if.end41
  %sext = shl nuw i64 %cond29, 32
  %conv.i = ashr exact i64 %sext, 32
  %add.i = add nsw i64 %conv.i, -1
  %sub.i = add i64 %add.i, %addr.0
  %cmp.i = icmp ult i64 %sub.i, %addr.0
  br i1 %cmp.i, label %return, label %if.end.i

if.end.i:                                         ; preds = %if.else45
  %5 = load i32, ptr %cmbsz.i, align 4
  %tobool.not.i = icmp eq i32 %5, 0
  br i1 %tobool.not.i, label %if.end9.i, label %land.lhs.true.i

land.lhs.true.i:                                  ; preds = %if.end.i
  %6 = load i8, ptr %cmse.i.i, align 8
  %7 = and i8 %6, 1
  %tobool.not.i.i = icmp eq i8 %7, 0
  br i1 %tobool.not.i.i, label %if.end9.i, label %if.end.i.i

if.end.i.i:                                       ; preds = %land.lhs.true.i
  %8 = load i128, ptr %size.i.i, align 16
  %cmp.i.i.i = icmp ult i128 %8, 18446744073709551616
  br i1 %cmp.i.i.i, label %nvme_addr_is_cmb.exit.i, label %if.else.i.i.i

if.else.i.i.i:                                    ; preds = %if.end.i.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.8, ptr noundef nonnull @.str.9, i32 noundef 33, ptr noundef nonnull @__PRETTY_FUNCTION__.int128_get64) #18
  unreachable

nvme_addr_is_cmb.exit.i:                          ; preds = %if.end.i.i
  %coerce.sroa.0.0.extract.trunc.i.i = trunc i128 %8 to i64
  %9 = load i8, ptr %legacy_cmb.i.i, align 1
  %10 = and i8 %9, 1
  %tobool1.not.i.i = icmp eq i8 %10, 0
  %cond.in.i.i = select i1 %tobool1.not.i.i, ptr %cba.i.i, ptr %addr3.i.i
  %cond.i.i = load i64, ptr %cond.in.i.i, align 16
  %add.i.i = add i64 %cond.i.i, %coerce.sroa.0.0.extract.trunc.i.i
  %cmp.i.i = icmp ule i64 %cond.i.i, %addr.0
  %cmp7.i.i = icmp ugt i64 %add.i.i, %addr.0
  %11 = and i1 %cmp.i.i, %cmp7.i.i
  %cmp7.i37.i = icmp ugt i64 %add.i.i, %sub.i
  %or.cond = and i1 %11, %cmp7.i37.i
  br i1 %or.cond, label %if.then6.i, label %if.end9.i

if.then6.i:                                       ; preds = %nvme_addr_is_cmb.exit.i
  %12 = load ptr, ptr %buf.i.i, align 16
  br label %if.end50.sink.split

if.end9.i:                                        ; preds = %nvme_addr_is_cmb.exit.i, %land.lhs.true.i, %if.end.i
  %13 = load i8, ptr %cmse.i45.i, align 8
  %14 = and i8 %13, 1
  %tobool.not.i46.i = icmp eq i8 %14, 0
  br i1 %tobool.not.i46.i, label %if.end18.i, label %if.end.i47.i

if.end.i47.i:                                     ; preds = %if.end9.i
  %15 = load ptr, ptr %pmr.i.i, align 16
  %size.i48.i = getelementptr inbounds %struct.HostMemoryBackend, ptr %15, i64 0, i32 13, i32 18
  %16 = load i128, ptr %size.i48.i, align 16
  %cmp.i.i49.i = icmp ult i128 %16, 18446744073709551616
  br i1 %cmp.i.i49.i, label %nvme_addr_is_pmr.exit.i, label %if.else.i.i50.i

if.else.i.i50.i:                                  ; preds = %if.end.i47.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.8, ptr noundef nonnull @.str.9, i32 noundef 33, ptr noundef nonnull @__PRETTY_FUNCTION__.int128_get64) #18
  unreachable

nvme_addr_is_pmr.exit.i:                          ; preds = %if.end.i47.i
  %coerce.sroa.0.0.extract.trunc.i52.i = trunc i128 %16 to i64
  %17 = load i64, ptr %cba.i53.i, align 16
  %add.i54.i = add i64 %17, %coerce.sroa.0.0.extract.trunc.i52.i
  %cmp.i55.i = icmp ule i64 %17, %addr.0
  %cmp5.i.i = icmp ugt i64 %add.i54.i, %addr.0
  %18 = and i1 %cmp.i55.i, %cmp5.i.i
  %cmp5.i69.i = icmp ugt i64 %add.i54.i, %sub.i
  %or.cond92 = and i1 %18, %cmp5.i69.i
  br i1 %or.cond92, label %if.then15.i, label %if.end18.i

if.then15.i:                                      ; preds = %nvme_addr_is_pmr.exit.i
  %mr.i.i = getelementptr inbounds %struct.HostMemoryBackend, ptr %15, i64 0, i32 13
  %call.i.i = tail call ptr @memory_region_get_ram_ptr(ptr noundef nonnull %mr.i.i) #17
  %19 = load i64, ptr %cba.i53.i, align 16
  br label %if.end50.sink.split

if.end18.i:                                       ; preds = %nvme_addr_is_pmr.exit.i, %if.end9.i
  %call.i75.i = tail call ptr @object_dynamic_cast_assert(ptr noundef nonnull %n, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %bus_master_as.i.i.i.i = getelementptr inbounds %struct.PCIDevice, ptr %call.i75.i, i64 0, i32 12
  tail call void asm sideeffect "", "~{memory},~{dirflag},~{fpsr},~{flags}"() #17, !srcloc !10
  fence seq_cst
  %call.i.i.i.i.i = tail call i32 @address_space_rw(ptr noundef nonnull %bus_master_as.i.i.i.i, i64 noundef %addr.0, i32 1, ptr noundef %ptr.addr.0.ph89, i64 noundef %conv.i, i1 noundef zeroext true) #17
  br label %if.end47

if.end47:                                         ; preds = %if.end18.i, %if.then44
  %ret.0 = phi i32 [ %call, %if.then44 ], [ %call.i.i.i.i.i, %if.end18.i ]
  %tobool48.not = icmp eq i32 %ret.0, 0
  br i1 %tobool48.not, label %if.end50, label %return

if.end50.sink.split:                              ; preds = %if.then6.i, %if.then15.i
  %.sink = phi i64 [ %19, %if.then15.i ], [ %cond.i.i, %if.then6.i ]
  %call.i.i.sink = phi ptr [ %call.i.i, %if.then15.i ], [ %12, %if.then6.i ]
  %sub.i74.i = sub i64 %addr.0, %.sink
  %add.ptr.i.i = getelementptr i8, ptr %call.i.i.sink, i64 %sub.i74.i
  tail call void @llvm.memcpy.p0.p0.i64(ptr align 1 %add.ptr.i.i, ptr align 1 %ptr.addr.0.ph89, i64 %conv.i, i1 false)
  br label %if.end50

if.end50:                                         ; preds = %if.end50.sink.split, %if.end47
  %add.ptr = getelementptr i8, ptr %ptr.addr.0.ph89, i64 %cond29
  %sub51 = sub i32 %len.addr.0.ph88, %conv30
  %sub52 = sub i32 %count.0.ph85, %conv30
  %add54 = add i64 %cond29, %.us-phi52
  %cmp55 = icmp eq i32 %count.0.ph85, %conv30
  %count.1 = select i1 %cmp55, i32 %bytes, i32 %sub52
  %narrow = select i1 %cmp55, i32 %skip_bytes, i32 0
  %add59 = sext i32 %narrow to i64
  %offset.addr.1 = add i64 %add54, %add59
  %tobool4.not = icmp eq i32 %sub51, 0
  br i1 %tobool4.not, label %return, label %while.body.lr.ph, !llvm.loop !11

while.body.lr.ph:                                 ; preds = %while.body.lr.ph.lr.ph, %if.end50
  %ptr.addr.0.ph89 = phi ptr [ %ptr, %while.body.lr.ph.lr.ph ], [ %add.ptr, %if.end50 ]
  %len.addr.0.ph88 = phi i32 [ %len, %while.body.lr.ph.lr.ph ], [ %sub51, %if.end50 ]
  %offset.addr.0.ph87 = phi i64 [ %offset, %while.body.lr.ph.lr.ph ], [ %offset.addr.1, %if.end50 ]
  %sg_idx.0.ph86 = phi i32 [ 0, %while.body.lr.ph.lr.ph ], [ %.us-phi51, %if.end50 ]
  %count.0.ph85 = phi i32 [ %bytes, %while.body.lr.ph.lr.ph ], [ %count.1, %if.end50 ]
  %20 = load ptr, ptr %1, align 8
  br i1 %tobool.not, label %while.body.us, label %while.body

while.body.us:                                    ; preds = %while.body.lr.ph, %while.cond.backedge.us
  %offset.addr.050.us = phi i64 [ %offset.addr.0.be.us, %while.cond.backedge.us ], [ %offset.addr.0.ph87, %while.body.lr.ph ]
  %sg_idx.049.us = phi i32 [ %sg_idx.0.be.us, %while.cond.backedge.us ], [ %sg_idx.0.ph86, %while.body.lr.ph ]
  %idxprom8.us = sext i32 %sg_idx.049.us to i64
  %iov_len.us = getelementptr %struct.iovec, ptr %20, i64 %idxprom8.us, i32 1
  %cond.us = load i64, ptr %iov_len.us, align 8
  %sub.us = sub i64 %cond.us, %offset.addr.050.us
  %cmp.us = icmp slt i64 %sub.us, 0
  br i1 %cmp.us, label %if.then10.us, label %if.end12.us

if.end12.us:                                      ; preds = %while.body.us
  %cmp13.us = icmp eq i64 %cond.us, %offset.addr.050.us
  br i1 %cmp13.us, label %while.cond.backedge.us, label %if.end16

if.then10.us:                                     ; preds = %while.body.us
  %sub11.us = sub i64 %offset.addr.050.us, %cond.us
  br label %while.cond.backedge.us

while.cond.backedge.us:                           ; preds = %if.end12.us, %if.then10.us
  %offset.addr.0.be.us = phi i64 [ %sub11.us, %if.then10.us ], [ 0, %if.end12.us ]
  %sg_idx.0.be.us = add i32 %sg_idx.049.us, 1
  br label %while.body.us

return:                                           ; preds = %if.else45, %if.end47, %if.end50, %while.cond.preheader
  %retval.0 = phi i16 [ 0, %while.cond.preheader ], [ 0, %if.end50 ], [ 4, %if.end47 ], [ 4, %if.else45 ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_tx(ptr noundef %sg, ptr noundef %ptr, i32 noundef %len, i32 noundef %dir) unnamed_addr #0 {
entry:
  %_now.i.i15 = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %residual = alloca i64, align 8
  %0 = load i32, ptr %sg, align 8
  %and = and i32 %0, 1
  %tobool.not = icmp eq i32 %and, 0
  br i1 %tobool.not, label %if.else, label %if.end

if.else:                                          ; preds = %entry
  tail call void @__assert_fail(ptr noundef nonnull @.str.27, ptr noundef nonnull @.str.1, i32 noundef 1345, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_tx) #18
  unreachable

if.end:                                           ; preds = %entry
  %and2 = and i32 %0, 2
  %tobool3.not = icmp eq i32 %and2, 0
  %cmp18 = icmp eq i32 %dir, 0
  br i1 %tobool3.not, label %if.else17, label %if.then4

if.then4:                                         ; preds = %if.end
  %conv = zext i32 %len to i64
  %1 = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1
  br i1 %cmp18, label %if.then5, label %if.else6

if.then5:                                         ; preds = %if.then4
  %call = call i32 @dma_buf_write(ptr noundef %ptr, i64 noundef %conv, ptr noundef nonnull %residual, ptr noundef nonnull %1, i32 1) #17
  br label %if.end10

if.else6:                                         ; preds = %if.then4
  %call9 = call i32 @dma_buf_read(ptr noundef %ptr, i64 noundef %conv, ptr noundef nonnull %residual, ptr noundef nonnull %1, i32 1) #17
  br label %if.end10

if.end10:                                         ; preds = %if.else6, %if.then5
  %2 = load i64, ptr %residual, align 8
  %tobool11.not = icmp eq i64 %2, 0
  br i1 %tobool11.not, label %return, label %if.then15

if.then15:                                        ; preds = %if.end10
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %3 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %3, 0
  %4 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_DMA_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %4, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_err_invalid_dma.exit

land.lhs.true5.i.i:                               ; preds = %if.then15
  %5 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %5, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_err_invalid_dma.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %6 = load i8, ptr @message_with_timestamp, align 1
  %7 = and i8 %6, 1
  %tobool7.not.i.i = icmp eq i8 %7, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = call i32 @qemu_get_thread_id() #17
  %8 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %9 = load i64, ptr %tv_usec.i.i, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.28, i32 noundef %call10.i.i, i64 noundef %8, i64 noundef %9) #17
  br label %trace_pci_nvme_err_invalid_dma.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.29) #17
  br label %trace_pci_nvme_err_invalid_dma.exit

trace_pci_nvme_err_invalid_dma.exit:              ; preds = %if.then15, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  br label %return

if.else17:                                        ; preds = %if.end
  %10 = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1
  %conv21 = zext i32 %len to i64
  br i1 %cmp18, label %if.then20, label %if.else23

if.then20:                                        ; preds = %if.else17
  %call22 = tail call i64 @qemu_iovec_to_buf(ptr noundef nonnull %10, i64 noundef 0, ptr noundef %ptr, i64 noundef %conv21) #17
  br label %if.end26

if.else23:                                        ; preds = %if.else17
  %call25 = tail call i64 @qemu_iovec_from_buf(ptr noundef nonnull %10, i64 noundef 0, ptr noundef %ptr, i64 noundef %conv21) #17
  br label %if.end26

if.end26:                                         ; preds = %if.else23, %if.then20
  %bytes.0 = phi i64 [ %call25, %if.else23 ], [ %call22, %if.then20 ]
  %cmp28.not = icmp eq i64 %bytes.0, %conv21
  br i1 %cmp28.not, label %return, label %if.then36

if.then36:                                        ; preds = %if.end26
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i15)
  %11 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i16 = icmp ne i32 %11, 0
  %12 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_DMA_DSTATE, align 2
  %tobool4.i.i17 = icmp ne i16 %12, 0
  %or.cond.i.i18 = select i1 %tobool.i.i16, i1 %tobool4.i.i17, i1 false
  br i1 %or.cond.i.i18, label %land.lhs.true5.i.i19, label %trace_pci_nvme_err_invalid_dma.exit29

land.lhs.true5.i.i19:                             ; preds = %if.then36
  %13 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i20 = and i32 %13, 32768
  %cmp.i.not.i.i21 = icmp eq i32 %and.i.i.i20, 0
  br i1 %cmp.i.not.i.i21, label %trace_pci_nvme_err_invalid_dma.exit29, label %if.then.i.i22

if.then.i.i22:                                    ; preds = %land.lhs.true5.i.i19
  %14 = load i8, ptr @message_with_timestamp, align 1
  %15 = and i8 %14, 1
  %tobool7.not.i.i23 = icmp eq i8 %15, 0
  br i1 %tobool7.not.i.i23, label %if.else.i.i28, label %if.then8.i.i24

if.then8.i.i24:                                   ; preds = %if.then.i.i22
  %call9.i.i25 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i15, ptr noundef null) #17
  %call10.i.i26 = tail call i32 @qemu_get_thread_id() #17
  %16 = load i64, ptr %_now.i.i15, align 8
  %tv_usec.i.i27 = getelementptr inbounds %struct.timeval, ptr %_now.i.i15, i64 0, i32 1
  %17 = load i64, ptr %tv_usec.i.i27, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.28, i32 noundef %call10.i.i26, i64 noundef %16, i64 noundef %17) #17
  br label %trace_pci_nvme_err_invalid_dma.exit29

if.else.i.i28:                                    ; preds = %if.then.i.i22
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.29) #17
  br label %trace_pci_nvme_err_invalid_dma.exit29

trace_pci_nvme_err_invalid_dma.exit29:            ; preds = %if.then36, %land.lhs.true5.i.i19, %if.then8.i.i24, %if.else.i.i28
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i15)
  br label %return

return:                                           ; preds = %if.end10, %if.end26, %trace_pci_nvme_err_invalid_dma.exit29, %trace_pci_nvme_err_invalid_dma.exit
  %retval.0 = phi i16 [ 16386, %trace_pci_nvme_err_invalid_dma.exit ], [ 16386, %trace_pci_nvme_err_invalid_dma.exit29 ], [ 0, %if.end26 ], [ 0, %if.end10 ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define dso_local noundef zeroext i16 @nvme_bounce_mdata(ptr noundef %n, ptr noundef %ptr, i32 noundef %len, i32 noundef %dir, ptr noundef %req) local_unnamed_addr #0 {
entry:
  %ns1 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 1
  %0 = load ptr, ptr %ns1, align 8
  %1 = getelementptr i8, ptr %0, i64 298
  %.val = load i8, ptr %1, align 2
  %2 = and i8 %.val, 16
  %tobool.i.not = icmp eq i8 %2, 0
  %sg5 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  br i1 %tobool.i.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  %lbaf = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 7
  %3 = load i16, ptr %lbaf, align 8
  %conv = zext i16 %3 to i32
  %lbasz = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 9
  %4 = load i64, ptr %lbasz, align 8
  %conv2 = trunc i64 %4 to i32
  %call4 = tail call fastcc zeroext i16 @nvme_tx_interleaved(ptr noundef %n, ptr noundef nonnull %sg5, ptr noundef %ptr, i32 noundef %len, i32 noundef %conv, i32 noundef %conv2, i64 noundef %4, i32 noundef %dir), !range !9
  br label %return

if.end:                                           ; preds = %entry
  %5 = load i32, ptr %sg5, align 8
  %and.i = and i32 %5, 1
  %tobool.not.i = icmp eq i32 %and.i, 0
  br i1 %tobool.not.i, label %nvme_sg_unmap.exit, label %if.end.i

if.end.i:                                         ; preds = %if.end
  %and2.i = and i32 %5, 2
  %tobool3.not.i = icmp eq i32 %and2.i, 0
  %6 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8, i32 1
  br i1 %tobool3.not.i, label %if.else.i, label %if.then4.i

if.then4.i:                                       ; preds = %if.end.i
  tail call void @qemu_sglist_destroy(ptr noundef nonnull %6) #17
  br label %if.end5.i

if.else.i:                                        ; preds = %if.end.i
  tail call void @qemu_iovec_destroy(ptr noundef nonnull %6) #17
  br label %if.end5.i

if.end5.i:                                        ; preds = %if.else.i, %if.then4.i
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(48) %sg5, i8 0, i64 48, i1 false)
  br label %nvme_sg_unmap.exit

nvme_sg_unmap.exit:                               ; preds = %if.end, %if.end5.i
  %conv7 = zext i32 %len to i64
  %7 = getelementptr %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 1
  %cmd.val = load i8, ptr %7, align 1
  %8 = getelementptr %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 5
  %cmd.val16 = load i64, ptr %8, align 1
  %call8 = tail call fastcc zeroext i16 @nvme_map_mptr(ptr noundef %n, ptr noundef nonnull %sg5, i64 noundef %conv7, i8 %cmd.val, i64 %cmd.val16)
  %tobool.not = icmp eq i16 %call8, 0
  br i1 %tobool.not, label %if.end10, label %return

if.end10:                                         ; preds = %nvme_sg_unmap.exit
  %call12 = tail call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg5, ptr noundef %ptr, i32 noundef %len, i32 noundef %dir)
  br label %return

return:                                           ; preds = %nvme_sg_unmap.exit, %if.end10, %if.then
  %retval.0 = phi i16 [ %call4, %if.then ], [ %call12, %if.end10 ], [ %call8, %nvme_sg_unmap.exit ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_map_mptr(ptr noundef %n, ptr noundef %sg, i64 noundef %len, i8 %cmd.1.val, i64 %cmd.16.val) unnamed_addr #0 {
entry:
  %sgl = alloca %struct.NvmeSglDescriptor, align 8
  %.mask = and i8 %cmd.1.val, -64
  %cmp = icmp eq i8 %.mask, -128
  br i1 %cmp, label %if.then, label %if.end14

if.then:                                          ; preds = %entry
  %call3 = call fastcc i32 @nvme_addr_read(ptr noundef %n, i64 noundef %cmd.16.val, ptr noundef nonnull %sgl, i32 noundef 16)
  %tobool.not = icmp eq i32 %call3, 0
  br i1 %tobool.not, label %if.end, label %return

if.end:                                           ; preds = %if.then
  %0 = load i64, ptr %sgl, align 8
  %1 = getelementptr inbounds { i64, i64 }, ptr %sgl, i64 0, i32 1
  %2 = load i64, ptr %1, align 8
  %call5 = call fastcc zeroext i16 @nvme_map_sgl(ptr noundef %n, ptr noundef %sg, i64 %0, i64 %2, i64 noundef %len)
  %3 = and i16 %call5, 2047
  %cmp10 = icmp eq i16 %3, 15
  %spec.store.select = select i1 %cmp10, i16 16400, i16 %call5
  br label %return

if.end14:                                         ; preds = %entry
  %cmse.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 2
  %4 = load i8, ptr %cmse.i.i, align 8
  %5 = and i8 %4, 1
  %tobool.not.i.i = icmp eq i8 %5, 0
  br i1 %tobool.not.i.i, label %lor.rhs.i, label %if.end.i.i

if.end.i.i:                                       ; preds = %if.end14
  %size.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 0, i32 18
  %6 = load i128, ptr %size.i.i, align 16
  %cmp.i.i.i = icmp ult i128 %6, 18446744073709551616
  br i1 %cmp.i.i.i, label %nvme_addr_is_cmb.exit.i, label %if.else.i.i.i

if.else.i.i.i:                                    ; preds = %if.end.i.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.8, ptr noundef nonnull @.str.9, i32 noundef 33, ptr noundef nonnull @__PRETTY_FUNCTION__.int128_get64) #18
  unreachable

nvme_addr_is_cmb.exit.i:                          ; preds = %if.end.i.i
  %coerce.sroa.0.0.extract.trunc.i.i = trunc i128 %6 to i64
  %legacy_cmb.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 4, i32 12
  %7 = load i8, ptr %legacy_cmb.i.i, align 1
  %8 = and i8 %7, 1
  %tobool1.not.i.i = icmp eq i8 %8, 0
  %cba.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 3
  %addr3.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 0, i32 19
  %cond.in.i.i = select i1 %tobool1.not.i.i, ptr %cba.i.i, ptr %addr3.i.i
  %cond.i.i = load i64, ptr %cond.in.i.i, align 16
  %add.i.i = add i64 %cond.i.i, %coerce.sroa.0.0.extract.trunc.i.i
  %cmp.i.i = icmp ule i64 %cond.i.i, %cmd.16.val
  %cmp7.i.i = icmp ugt i64 %add.i.i, %cmd.16.val
  %9 = and i1 %cmp.i.i, %cmp7.i.i
  br i1 %9, label %nvme_addr_is_dma.exit.thread2, label %lor.rhs.i

nvme_addr_is_dma.exit.thread2:                    ; preds = %nvme_addr_is_cmb.exit.i
  %10 = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1
  br label %if.else.i

lor.rhs.i:                                        ; preds = %nvme_addr_is_cmb.exit.i, %if.end14
  %cmse.i3.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26, i32 1
  %11 = load i8, ptr %cmse.i3.i, align 8
  %12 = and i8 %11, 1
  %tobool.not.i4.i = icmp eq i8 %12, 0
  br i1 %tobool.not.i4.i, label %nvme_addr_is_dma.exit.thread, label %if.end.i5.i

nvme_addr_is_dma.exit.thread:                     ; preds = %lor.rhs.i
  %13 = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1
  br label %if.then.i

if.end.i5.i:                                      ; preds = %lor.rhs.i
  %pmr.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26
  %14 = load ptr, ptr %pmr.i.i, align 16
  %size.i6.i = getelementptr inbounds %struct.HostMemoryBackend, ptr %14, i64 0, i32 13, i32 18
  %15 = load i128, ptr %size.i6.i, align 16
  %cmp.i.i7.i = icmp ult i128 %15, 18446744073709551616
  br i1 %cmp.i.i7.i, label %nvme_addr_is_dma.exit, label %if.else.i.i8.i

if.else.i.i8.i:                                   ; preds = %if.end.i5.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.8, ptr noundef nonnull @.str.9, i32 noundef 33, ptr noundef nonnull @__PRETTY_FUNCTION__.int128_get64) #18
  unreachable

nvme_addr_is_dma.exit:                            ; preds = %if.end.i5.i
  %coerce.sroa.0.0.extract.trunc.i10.i = trunc i128 %15 to i64
  %cba.i11.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26, i32 2
  %16 = load i64, ptr %cba.i11.i, align 16
  %add.i12.i = add i64 %16, %coerce.sroa.0.0.extract.trunc.i10.i
  %cmp.i13.i = icmp ugt i64 %16, %cmd.16.val
  %cmp5.i.i = icmp ule i64 %add.i12.i, %cmd.16.val
  %.not.i = or i1 %cmp.i13.i, %cmp5.i.i
  %17 = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1
  br i1 %.not.i, label %if.then.i, label %if.else.i

if.then.i:                                        ; preds = %nvme_addr_is_dma.exit.thread, %nvme_addr_is_dma.exit
  %18 = phi ptr [ %13, %nvme_addr_is_dma.exit.thread ], [ %17, %nvme_addr_is_dma.exit ]
  %call.i.i = tail call ptr @object_dynamic_cast_assert(ptr noundef nonnull %n, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %call.i.i.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %call.i.i, ptr noundef nonnull @.str.4, ptr noundef nonnull @.str.5, i32 noundef 77, ptr noundef nonnull @__func__.DEVICE) #17
  %bus_master_as.i.i.i = getelementptr inbounds %struct.PCIDevice, ptr %call.i.i, i64 0, i32 12
  tail call void @qemu_sglist_init(ptr noundef nonnull %18, ptr noundef %call.i.i.i, i32 noundef 0, ptr noundef nonnull %bus_master_as.i.i.i) #17
  br label %nvme_sg_init.exit

if.else.i:                                        ; preds = %nvme_addr_is_dma.exit.thread2, %nvme_addr_is_dma.exit
  %19 = phi ptr [ %10, %nvme_addr_is_dma.exit.thread2 ], [ %17, %nvme_addr_is_dma.exit ]
  tail call void @qemu_iovec_init(ptr noundef nonnull %19, i32 noundef 0) #17
  %.pre.i = load i32, ptr %sg, align 8
  %20 = or i32 %.pre.i, 1
  br label %nvme_sg_init.exit

nvme_sg_init.exit:                                ; preds = %if.then.i, %if.else.i
  %21 = phi ptr [ %19, %if.else.i ], [ %18, %if.then.i ]
  %or.i = phi i32 [ %20, %if.else.i ], [ 3, %if.then.i ]
  store i32 %or.i, ptr %sg, align 8
  %call16 = tail call fastcc zeroext i16 @nvme_map_addr(ptr noundef nonnull %n, ptr noundef nonnull %sg, i64 noundef %cmd.16.val, i64 noundef %len), !range !5
  %tobool17.not = icmp eq i16 %call16, 0
  br i1 %tobool17.not, label %return, label %if.then18

if.then18:                                        ; preds = %nvme_sg_init.exit
  %22 = load i32, ptr %sg, align 8
  %and.i = and i32 %22, 1
  %tobool.not.i = icmp eq i32 %and.i, 0
  br i1 %tobool.not.i, label %return, label %if.end.i

if.end.i:                                         ; preds = %if.then18
  %and2.i = and i32 %22, 2
  %tobool3.not.i = icmp eq i32 %and2.i, 0
  br i1 %tobool3.not.i, label %if.else.i17, label %if.then4.i

if.then4.i:                                       ; preds = %if.end.i
  tail call void @qemu_sglist_destroy(ptr noundef nonnull %21) #17
  br label %if.end5.i

if.else.i17:                                      ; preds = %if.end.i
  tail call void @qemu_iovec_destroy(ptr noundef nonnull %21) #17
  br label %if.end5.i

if.end5.i:                                        ; preds = %if.else.i17, %if.then4.i
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(48) %sg, i8 0, i64 48, i1 false)
  br label %return

return:                                           ; preds = %if.end5.i, %if.then18, %nvme_sg_init.exit, %if.then, %if.end
  %retval.0 = phi i16 [ %spec.store.select, %if.end ], [ 4, %if.then ], [ 0, %nvme_sg_init.exit ], [ %call16, %if.then18 ], [ %call16, %if.end5.i ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define dso_local void @nvme_rw_complete_cb(ptr noundef %opaque, i32 noundef %ret) #0 {
nvme_cid.exit:
  %_now.i.i.i.i = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %ns1 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 1
  %0 = load ptr, ptr %ns1, align 8
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 1
  %1 = load ptr, ptr %blkconf, align 8
  %acct3 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 7
  %call = tail call ptr @blk_get_stats(ptr noundef %1) #17
  %cid.i = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 5, i32 4
  %2 = load i16, ptr %cid.i, align 4
  %call5 = tail call ptr @blk_name(ptr noundef %1) #17
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %3 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %3, 0
  %4 = load i16, ptr @_TRACE_PCI_NVME_RW_COMPLETE_CB_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %4, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_rw_complete_cb.exit

land.lhs.true5.i.i:                               ; preds = %nvme_cid.exit
  %5 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %5, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_rw_complete_cb.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %6 = load i8, ptr @message_with_timestamp, align 1
  %7 = and i8 %6, 1
  %tobool7.not.i.i = icmp eq i8 %7, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %8 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %9 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext i16 %2 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.30, i32 noundef %call10.i.i, i64 noundef %8, i64 noundef %9, i32 noundef %conv11.i.i, ptr noundef %call5) #17
  br label %trace_pci_nvme_rw_complete_cb.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv12.i.i = zext i16 %2 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.31, i32 noundef %conv12.i.i, ptr noundef %call5) #17
  br label %trace_pci_nvme_rw_complete_cb.exit

trace_pci_nvme_rw_complete_cb.exit:               ; preds = %nvme_cid.exit, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %tobool.not = icmp eq i32 %ret, 0
  br i1 %tobool.not, label %if.else, label %if.then

if.then:                                          ; preds = %trace_pci_nvme_rw_complete_cb.exit
  tail call void @block_acct_failed(ptr noundef %call, ptr noundef nonnull %acct3) #17
  tail call fastcc void @nvme_aio_err(ptr noundef nonnull %opaque, i32 noundef %ret)
  br label %if.end

if.else:                                          ; preds = %trace_pci_nvme_rw_complete_cb.exit
  tail call void @block_acct_done(ptr noundef %call, ptr noundef nonnull %acct3) #17
  br label %if.end

if.end:                                           ; preds = %if.else, %if.then
  %zoned = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 30, i32 14
  %10 = load i8, ptr %zoned, align 1
  %11 = and i8 %10, 1
  %tobool6.not = icmp eq i8 %11, 0
  br i1 %tobool6.not, label %if.end9, label %land.lhs.true

land.lhs.true:                                    ; preds = %if.end
  %12 = getelementptr i8, ptr %opaque, i64 56
  %opaque.val = load i8, ptr %12, align 1
  switch i8 %opaque.val, label %if.end9 [
    i8 1, label %if.then8
    i8 125, label %if.then8
    i8 8, label %if.then8
  ]

if.then8:                                         ; preds = %land.lhs.true, %land.lhs.true, %land.lhs.true
  %13 = getelementptr i8, ptr %opaque, i64 96
  %opaque.val14 = load i64, ptr %13, align 1
  %14 = getelementptr i8, ptr %opaque, i64 104
  %opaque.val15 = load i16, ptr %14, align 1
  %conv.i = zext i16 %opaque.val15 to i32
  %add.i = add nuw nsw i32 %conv.i, 1
  %zone_size_log2.i.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 26
  %15 = load i32, ptr %zone_size_log2.i.i.i, align 8
  %cmp.not.i.i.i = icmp eq i32 %15, 0
  br i1 %cmp.not.i.i.i, label %cond.false.i.i.i, label %cond.true.i.i.i

cond.true.i.i.i:                                  ; preds = %if.then8
  %sh_prom.i.i.i = zext nneg i32 %15 to i64
  %shr.i.i.i = lshr i64 %opaque.val14, %sh_prom.i.i.i
  br label %nvme_zone_idx.exit.i.i

cond.false.i.i.i:                                 ; preds = %if.then8
  %zone_size.i.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 24
  %16 = load i64, ptr %zone_size.i.i.i, align 8
  %div.i.i.i = udiv i64 %opaque.val14, %16
  br label %nvme_zone_idx.exit.i.i

nvme_zone_idx.exit.i.i:                           ; preds = %cond.false.i.i.i, %cond.true.i.i.i
  %cond.i.i.i = phi i64 [ %shr.i.i.i, %cond.true.i.i.i ], [ %div.i.i.i, %cond.false.i.i.i ]
  %conv.i.i.i = trunc i64 %cond.i.i.i to i32
  %num_zones.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 23
  %17 = load i32, ptr %num_zones.i.i, align 8
  %cmp.not.i.i = icmp ugt i32 %17, %conv.i.i.i
  br i1 %cmp.not.i.i, label %nvme_get_zone_by_slba.exit.i, label %if.else.i

nvme_get_zone_by_slba.exit.i:                     ; preds = %nvme_zone_idx.exit.i.i
  %zone_array.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 18
  %18 = load ptr, ptr %zone_array.i.i, align 8
  %idxprom.i.i = and i64 %cond.i.i.i, 4294967295
  %arrayidx.i.i = getelementptr %struct.NvmeZone, ptr %18, i64 %idxprom.i.i
  %tobool.not.i18 = icmp eq ptr %arrayidx.i.i, null
  br i1 %tobool.not.i18, label %if.else.i, label %if.end.i19

if.else.i:                                        ; preds = %nvme_get_zone_by_slba.exit.i, %nvme_zone_idx.exit.i.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.35, ptr noundef nonnull @.str.1, i32 noundef 2108, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_finalize_zoned_write) #18
  unreachable

if.end.i19:                                       ; preds = %nvme_get_zone_by_slba.exit.i
  %za.i = getelementptr inbounds %struct.NvmeZoneDescr, ptr %arrayidx.i.i, i64 0, i32 2
  %19 = load i8, ptr %za.i, align 2
  %20 = and i8 %19, 8
  %tobool6.not.i = icmp eq i8 %20, 0
  br i1 %tobool6.not.i, label %if.end18.i, label %if.then7.i

if.then7.i:                                       ; preds = %if.end.i19
  %w_ptr.i = getelementptr %struct.NvmeZone, ptr %18, i64 %idxprom.i.i, i32 1
  %21 = load i64, ptr %w_ptr.i, align 8
  %zns.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 15
  %22 = load i16, ptr %zns.i, align 4
  %conv8.i = zext i16 %22 to i64
  %add9.i = add i64 %21, %conv8.i
  %sub.i = add i64 %add9.i, -1
  %conv10.i = zext nneg i32 %add.i to i64
  %add11.i = add i64 %opaque.val14, %conv10.i
  %sub12.i = add i64 %add11.i, -1
  %cmp.i = icmp ugt i64 %sub12.i, %sub.i
  br i1 %cmp.i, label %if.then14.i, label %if.end9

if.then14.i:                                      ; preds = %if.then7.i
  %sub15.i = sub i64 %add11.i, %add9.i
  %conv16.i = trunc i64 %sub15.i to i32
  %zrwafg.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 15, i32 1
  %23 = load i16, ptr %zrwafg.i.i, align 2
  %conv.i.i = zext i16 %23 to i32
  %add.i.i = add i32 %conv16.i, -1
  %sub.i.i = add i32 %add.i.i, %conv.i.i
  %div.i.i = udiv i32 %sub.i.i, %conv.i.i
  %conv5.i.i = and i32 %div.i.i, 65535
  %mul.i.i = mul nuw i32 %conv5.i.i, %conv.i.i
  %zslba.i.i = getelementptr inbounds %struct.NvmeZoneDescr, ptr %arrayidx.i.i, i64 0, i32 5
  %24 = load i64, ptr %zslba.i.i, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i.i)
  %25 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i.i = icmp ne i32 %25, 0
  %26 = load i16, ptr @_TRACE_PCI_NVME_ZONED_ZRWA_IMPLICIT_FLUSH_DSTATE, align 2
  %tobool4.i.i.i.i = icmp ne i16 %26, 0
  %or.cond.i.i.i.i = select i1 %tobool.i.i.i.i, i1 %tobool4.i.i.i.i, i1 false
  br i1 %or.cond.i.i.i.i, label %land.lhs.true5.i.i.i.i, label %trace_pci_nvme_zoned_zrwa_implicit_flush.exit.i.i

land.lhs.true5.i.i.i.i:                           ; preds = %if.then14.i
  %27 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i.i = and i32 %27, 32768
  %cmp.i.not.i.i.i.i = icmp eq i32 %and.i.i.i.i.i, 0
  br i1 %cmp.i.not.i.i.i.i, label %trace_pci_nvme_zoned_zrwa_implicit_flush.exit.i.i, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %land.lhs.true5.i.i.i.i
  %28 = load i8, ptr @message_with_timestamp, align 1
  %29 = and i8 %28, 1
  %tobool7.not.i.i.i.i = icmp eq i8 %29, 0
  br i1 %tobool7.not.i.i.i.i, label %if.else.i.i.i.i, label %if.then8.i.i.i.i

if.then8.i.i.i.i:                                 ; preds = %if.then.i.i.i.i
  %call9.i.i.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i.i, ptr noundef null) #17
  %call10.i.i.i.i = tail call i32 @qemu_get_thread_id() #17
  %30 = load i64, ptr %_now.i.i.i.i, align 8
  %tv_usec.i.i.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i.i, i64 0, i32 1
  %31 = load i64, ptr %tv_usec.i.i.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.36, i32 noundef %call10.i.i.i.i, i64 noundef %30, i64 noundef %31, i64 noundef %24, i32 noundef %mul.i.i) #17
  br label %trace_pci_nvme_zoned_zrwa_implicit_flush.exit.i.i

if.else.i.i.i.i:                                  ; preds = %if.then.i.i.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.37, i64 noundef %24, i32 noundef %mul.i.i) #17
  br label %trace_pci_nvme_zoned_zrwa_implicit_flush.exit.i.i

trace_pci_nvme_zoned_zrwa_implicit_flush.exit.i.i: ; preds = %if.else.i.i.i.i, %if.then8.i.i.i.i, %land.lhs.true5.i.i.i.i, %if.then14.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i.i)
  %conv9.i.i = zext i32 %mul.i.i to i64
  %32 = load i64, ptr %w_ptr.i, align 8
  %add10.i.i = add i64 %32, %conv9.i.i
  store i64 %add10.i.i, ptr %w_ptr.i, align 8
  %wp.i.i.i = getelementptr inbounds %struct.NvmeZoneDescr, ptr %arrayidx.i.i, i64 0, i32 6
  %33 = load i64, ptr %wp.i.i.i, align 8
  %add.i.i.i = add i64 %33, %conv9.i.i
  store i64 %add.i.i.i, ptr %wp.i.i.i, align 8
  %34 = getelementptr i8, ptr %arrayidx.i.i, i64 8
  %zone.val.i.i.i = load i64, ptr %34, align 8
  %zone.val4.i.i.i = load i64, ptr %zslba.i.i, align 8
  %add.i.i.i.i = add i64 %zone.val4.i.i.i, %zone.val.i.i.i
  %cmp.i.i.i = icmp eq i64 %add.i.i.i, %add.i.i.i.i
  br i1 %cmp.i.i.i, label %return.sink.split.i, label %if.end9

if.end18.i:                                       ; preds = %if.end.i19
  %conv.i13.i = zext nneg i32 %add.i to i64
  %wp.i.i = getelementptr inbounds %struct.NvmeZoneDescr, ptr %arrayidx.i.i, i64 0, i32 6
  %35 = load i64, ptr %wp.i.i, align 8
  %add.i14.i = add i64 %35, %conv.i13.i
  store i64 %add.i14.i, ptr %wp.i.i, align 8
  %36 = getelementptr i8, ptr %arrayidx.i.i, i64 8
  %zone.val.i.i = load i64, ptr %36, align 8
  %37 = getelementptr i8, ptr %arrayidx.i.i, i64 16
  %zone.val4.i.i = load i64, ptr %37, align 8
  %add.i.i15.i = add i64 %zone.val4.i.i, %zone.val.i.i
  %cmp.i.i = icmp eq i64 %add.i14.i, %add.i.i15.i
  br i1 %cmp.i.i, label %return.sink.split.i, label %if.end9

return.sink.split.i:                              ; preds = %if.end18.i, %trace_pci_nvme_zoned_zrwa_implicit_flush.exit.i.i
  %call4.i.i = tail call fastcc zeroext i16 @nvme_zrm_finish(ptr noundef nonnull %0, ptr noundef nonnull %arrayidx.i.i), !range !12
  br label %if.end9

if.end9:                                          ; preds = %return.sink.split.i, %if.end18.i, %trace_pci_nvme_zoned_zrwa_implicit_flush.exit.i.i, %if.then7.i, %land.lhs.true, %if.end
  %opaque.val16 = load ptr, ptr %opaque, align 8
  %opaque.val16.val = load ptr, ptr %opaque.val16, align 8
  %38 = getelementptr i8, ptr %opaque.val16, i64 10
  %opaque.val16.val17 = load i16, ptr %38, align 2
  %39 = getelementptr i8, ptr %opaque.val16.val, i64 18808
  %opaque.val16.val.val = load ptr, ptr %39, align 8
  %idxprom.i = zext i16 %opaque.val16.val17 to i64
  %arrayidx.i = getelementptr ptr, ptr %opaque.val16.val.val, i64 %idxprom.i
  %40 = load ptr, ptr %arrayidx.i, align 8
  tail call fastcc void @nvme_enqueue_req_completion(ptr noundef %40, ptr noundef nonnull %opaque)
  ret void
}

declare ptr @blk_get_stats(ptr noundef) local_unnamed_addr #1

declare ptr @blk_name(ptr noundef) local_unnamed_addr #1

declare void @block_acct_failed(ptr noundef, ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @nvme_aio_err(ptr nocapture noundef %req, i32 noundef %ret) unnamed_addr #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %local_err = alloca ptr, align 8
  store ptr null, ptr %local_err, align 8
  %cmd = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %0 = load i8, ptr %cmd, align 8
  switch i8 %0, label %sw.default [
    i8 2, label %nvme_cid.exit
    i8 0, label %sw.bb1
    i8 1, label %sw.bb1
    i8 8, label %sw.bb1
    i8 125, label %sw.bb1
    i8 25, label %sw.bb1
  ]

sw.bb1:                                           ; preds = %entry, %entry, %entry, %entry, %entry
  br label %nvme_cid.exit

sw.default:                                       ; preds = %entry
  br label %nvme_cid.exit

nvme_cid.exit:                                    ; preds = %entry, %sw.default, %sw.bb1
  %cmp = phi i1 [ false, %sw.default ], [ true, %sw.bb1 ], [ true, %entry ]
  %status.0 = phi i16 [ 6, %sw.default ], [ 640, %sw.bb1 ], [ 641, %entry ]
  %cid.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 5, i32 4
  %1 = load i16, ptr %cid.i, align 4
  %sub = sub i32 0, %ret
  %call2 = tail call ptr @strerror(i32 noundef %sub) #17
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %2 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %2, 0
  %3 = load i16, ptr @_TRACE_PCI_NVME_ERR_AIO_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %3, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_err_aio.exit

land.lhs.true5.i.i:                               ; preds = %nvme_cid.exit
  %4 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %4, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_err_aio.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %5 = load i8, ptr @message_with_timestamp, align 1
  %6 = and i8 %5, 1
  %tobool7.not.i.i = icmp eq i8 %6, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %7 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %8 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext i16 %1 to i32
  %conv12.i.i = zext nneg i16 %status.0 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.33, i32 noundef %call10.i.i, i64 noundef %7, i64 noundef %8, i32 noundef %conv11.i.i, ptr noundef %call2, i32 noundef %conv12.i.i) #17
  br label %trace_pci_nvme_err_aio.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv13.i.i = zext i16 %1 to i32
  %conv14.i.i = zext nneg i16 %status.0 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.34, i32 noundef %conv13.i.i, ptr noundef %call2, i32 noundef %conv14.i.i) #17
  br label %trace_pci_nvme_err_aio.exit

trace_pci_nvme_err_aio.exit:                      ; preds = %nvme_cid.exit, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  call void (ptr, ptr, i32, ptr, i32, ptr, ...) @error_setg_errno_internal(ptr noundef nonnull %local_err, ptr noundef nonnull @.str.1, i32 noundef 1764, ptr noundef nonnull @__func__.nvme_aio_err, i32 noundef %sub, ptr noundef nonnull @.str.32) #17
  %9 = load ptr, ptr %local_err, align 8
  call void @error_report_err(ptr noundef %9) #17
  %status4 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 3
  %10 = load i16, ptr %status4, align 8
  %tobool = icmp ne i16 %10, 0
  %or.cond = and i1 %cmp, %tobool
  br i1 %or.cond, label %return, label %if.end

if.end:                                           ; preds = %trace_pci_nvme_err_aio.exit
  store i16 %status.0, ptr %status4, align 8
  br label %return

return:                                           ; preds = %trace_pci_nvme_err_aio.exit, %if.end
  ret void
}

declare void @block_acct_done(ptr noundef, ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @nvme_enqueue_req_completion(ptr nocapture noundef %cq, ptr noundef %req) unnamed_addr #0 {
entry:
  %_now.i.i36 = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %cqid = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 2
  %0 = load i16, ptr %cqid, align 2
  %1 = load ptr, ptr %req, align 8
  %cqid1 = getelementptr inbounds %struct.NvmeSQueue, ptr %1, i64 0, i32 2
  %2 = load i16, ptr %cqid1, align 2
  %cmp = icmp eq i16 %0, %2
  br i1 %cmp, label %nvme_cid.exit, label %if.else

if.else:                                          ; preds = %entry
  tail call void @__assert_fail(ptr noundef nonnull @.str.44, ptr noundef nonnull @.str.1, i32 noundef 1535, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_enqueue_req_completion) #18
  unreachable

nvme_cid.exit:                                    ; preds = %entry
  %cid.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 5, i32 4
  %3 = load i16, ptr %cid.i, align 4
  %cqe = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 5
  %4 = load i32, ptr %cqe, align 8
  %dw1 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 5, i32 1
  %5 = load i32, ptr %dw1, align 4
  %status = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 3
  %6 = load i16, ptr %status, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %7 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %7, 0
  %8 = load i16, ptr @_TRACE_PCI_NVME_ENQUEUE_REQ_COMPLETION_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %8, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_enqueue_req_completion.exit

land.lhs.true5.i.i:                               ; preds = %nvme_cid.exit
  %9 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %9, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_enqueue_req_completion.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %10 = load i8, ptr @message_with_timestamp, align 1
  %11 = and i8 %10, 1
  %tobool7.not.i.i = icmp eq i8 %11, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %12 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %13 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext i16 %3 to i32
  %conv12.i.i = zext i16 %0 to i32
  %conv13.i.i = zext i16 %6 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.45, i32 noundef %call10.i.i, i64 noundef %12, i64 noundef %13, i32 noundef %conv11.i.i, i32 noundef %conv12.i.i, i32 noundef %4, i32 noundef %5, i32 noundef %conv13.i.i) #17
  br label %trace_pci_nvme_enqueue_req_completion.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv14.i.i = zext i16 %3 to i32
  %conv15.i.i = zext i16 %0 to i32
  %conv16.i.i = zext i16 %6 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.46, i32 noundef %conv14.i.i, i32 noundef %conv15.i.i, i32 noundef %4, i32 noundef %5, i32 noundef %conv16.i.i) #17
  br label %trace_pci_nvme_enqueue_req_completion.exit

trace_pci_nvme_enqueue_req_completion.exit:       ; preds = %nvme_cid.exit, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %14 = load i16, ptr %status, align 8
  %tobool.not = icmp eq i16 %14, 0
  br i1 %tobool.not, label %do.body, label %nvme_cid.exit33

nvme_cid.exit33:                                  ; preds = %trace_pci_nvme_enqueue_req_completion.exit
  %15 = load i16, ptr %cid.i, align 4
  %ns = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 1
  %16 = load ptr, ptr %ns, align 8
  %tobool.not.i34 = icmp eq ptr %16, null
  br i1 %tobool.not.i34, label %nvme_nsid.exit, label %if.then.i

if.then.i:                                        ; preds = %nvme_cid.exit33
  %nsid.i = getelementptr inbounds %struct.NvmeNamespace, ptr %16, i64 0, i32 30, i32 2
  %17 = load i32, ptr %nsid.i, align 4
  br label %nvme_nsid.exit

nvme_nsid.exit:                                   ; preds = %nvme_cid.exit33, %if.then.i
  %retval.0.i35 = phi i32 [ %17, %if.then.i ], [ 0, %nvme_cid.exit33 ]
  %cmd = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %18 = load i8, ptr %cmd, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i36)
  %19 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i37 = icmp ne i32 %19, 0
  %20 = load i16, ptr @_TRACE_PCI_NVME_ERR_REQ_STATUS_DSTATE, align 2
  %tobool4.i.i38 = icmp ne i16 %20, 0
  %or.cond.i.i39 = select i1 %tobool.i.i37, i1 %tobool4.i.i38, i1 false
  br i1 %or.cond.i.i39, label %land.lhs.true5.i.i40, label %trace_pci_nvme_err_req_status.exit

land.lhs.true5.i.i40:                             ; preds = %nvme_nsid.exit
  %21 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i41 = and i32 %21, 32768
  %cmp.i.not.i.i42 = icmp eq i32 %and.i.i.i41, 0
  br i1 %cmp.i.not.i.i42, label %trace_pci_nvme_err_req_status.exit, label %if.then.i.i43

if.then.i.i43:                                    ; preds = %land.lhs.true5.i.i40
  %22 = load i8, ptr @message_with_timestamp, align 1
  %23 = and i8 %22, 1
  %tobool7.not.i.i44 = icmp eq i8 %23, 0
  br i1 %tobool7.not.i.i44, label %if.else.i.i52, label %if.then8.i.i45

if.then8.i.i45:                                   ; preds = %if.then.i.i43
  %call9.i.i46 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i36, ptr noundef null) #17
  %call10.i.i47 = tail call i32 @qemu_get_thread_id() #17
  %24 = load i64, ptr %_now.i.i36, align 8
  %tv_usec.i.i48 = getelementptr inbounds %struct.timeval, ptr %_now.i.i36, i64 0, i32 1
  %25 = load i64, ptr %tv_usec.i.i48, align 8
  %conv11.i.i49 = zext i16 %15 to i32
  %conv12.i.i50 = zext i16 %14 to i32
  %conv13.i.i51 = zext i8 %18 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.47, i32 noundef %call10.i.i47, i64 noundef %24, i64 noundef %25, i32 noundef %conv11.i.i49, i32 noundef %retval.0.i35, i32 noundef %conv12.i.i50, i32 noundef %conv13.i.i51) #17
  br label %trace_pci_nvme_err_req_status.exit

if.else.i.i52:                                    ; preds = %if.then.i.i43
  %conv14.i.i53 = zext i16 %15 to i32
  %conv15.i.i54 = zext i16 %14 to i32
  %conv16.i.i55 = zext i8 %18 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.48, i32 noundef %conv14.i.i53, i32 noundef %retval.0.i35, i32 noundef %conv15.i.i54, i32 noundef %conv16.i.i55) #17
  br label %trace_pci_nvme_err_req_status.exit

trace_pci_nvme_err_req_status.exit:               ; preds = %nvme_nsid.exit, %land.lhs.true5.i.i40, %if.then8.i.i45, %if.else.i.i52
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i36)
  br label %do.body

do.body:                                          ; preds = %trace_pci_nvme_enqueue_req_completion.exit, %trace_pci_nvme_err_req_status.exit
  %entry14 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 9
  %26 = load ptr, ptr %entry14, align 8
  %cmp15.not = icmp eq ptr %26, null
  %tql_prev24 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 9, i32 0, i32 1
  %27 = load ptr, ptr %tql_prev24, align 8
  br i1 %cmp15.not, label %if.else22, label %if.then17

if.then17:                                        ; preds = %do.body
  %tql_prev21 = getelementptr inbounds %struct.NvmeRequest, ptr %26, i64 0, i32 9, i32 0, i32 1
  br label %if.end27

if.else22:                                        ; preds = %do.body
  %28 = load ptr, ptr %req, align 8
  %tql_prev26 = getelementptr inbounds %struct.NvmeSQueue, ptr %28, i64 0, i32 14, i32 0, i32 1
  br label %if.end27

if.end27:                                         ; preds = %if.else22, %if.then17
  %tql_prev26.sink = phi ptr [ %tql_prev26, %if.else22 ], [ %tql_prev21, %if.then17 ]
  store ptr %27, ptr %tql_prev26.sink, align 8
  %29 = load ptr, ptr %entry14, align 8
  %tql_prev30 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 9, i32 0, i32 1
  store ptr %29, ptr %27, align 8
  %tql_prev38 = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 15, i32 0, i32 1
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %entry14, i8 0, i64 16, i1 false)
  %30 = load ptr, ptr %tql_prev38, align 8
  store ptr %30, ptr %tql_prev30, align 8
  store ptr %req, ptr %30, align 8
  store ptr %entry14, ptr %tql_prev38, align 8
  %bh = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 11
  %31 = load ptr, ptr %bh, align 8
  tail call void @qemu_bh_schedule(ptr noundef %31) #17
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define dso_local void @nvme_attach_ns(ptr nocapture noundef %n, ptr noundef %ns) local_unnamed_addr #0 {
entry:
  %nsid1 = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 30, i32 2
  %0 = load i32, ptr %nsid1, align 4
  %1 = add i32 %0, -1
  %or.cond = icmp ult i32 %1, 256
  br i1 %or.cond, label %if.end, label %if.else

if.else:                                          ; preds = %entry
  tail call void @__assert_fail(ptr noundef nonnull @.str, ptr noundef nonnull @.str.1, i32 noundef 8293, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_attach_ns) #18
  unreachable

if.end:                                           ; preds = %entry
  %idxprom = zext nneg i32 %0 to i64
  %arrayidx = getelementptr %struct.NvmeCtrl, ptr %n, i64 0, i32 35, i64 %idxprom
  store ptr %ns, ptr %arrayidx, align 8
  %attached = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 13
  %2 = load i32, ptr %attached, align 4
  %inc = add i32 %2, 1
  store i32 %inc, ptr %attached, align 4
  %dmrsl = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 31
  %3 = load i32, ptr %dmrsl, align 4
  %conv = zext i32 %3 to i64
  %4 = getelementptr i8, ptr %ns, i64 8466
  %ns.val = load i8, ptr %4, align 2
  %sh_prom.i = zext nneg i8 %ns.val to i64
  %div14 = lshr i64 2147483136, %sh_prom.i
  %cmp2 = icmp eq i32 %3, 0
  %cmp4 = icmp ugt i8 %ns.val, 30
  %5 = tail call i64 @llvm.umin.i64(i64 %div14, i64 %conv)
  %spec.select = select i1 %cmp4, i64 %conv, i64 %5
  %cond11 = select i1 %cmp2, i64 %div14, i64 %spec.select
  %conv12 = trunc i64 %cond11 to i32
  store i32 %conv12, ptr %dmrsl, align 4
  ret void
}

; Function Attrs: noreturn nounwind
declare void @__assert_fail(ptr noundef, ptr noundef, i32 noundef, ptr noundef) local_unnamed_addr #2

; Function Attrs: nounwind sspstrong uwtable
define internal void @do_qemu_init_nvme_register_types() #0 {
entry:
  tail call void @register_module_init(ptr noundef nonnull @nvme_register_types, i32 noundef 3) #17
  ret void
}

declare void @register_module_init(ptr noundef, i32 noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_register_types() #0 {
entry:
  %call = tail call ptr @type_register_static(ptr noundef nonnull @nvme_info) #17
  %call1 = tail call ptr @type_register_static(ptr noundef nonnull @nvme_bus_info) #17
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_map_addr(ptr nocapture noundef readonly %n, ptr noundef %sg, i64 noundef %addr, i64 noundef %len) unnamed_addr #0 {
entry:
  %_now.i.i41 = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %tobool.not = icmp eq i64 %len, 0
  br i1 %tobool.not, label %return, label %if.end

if.end:                                           ; preds = %entry
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_MAP_ADDR_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %1, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_map_addr.exit

land.lhs.true5.i.i:                               ; preds = %if.end
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %2, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_map_addr.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.11, i32 noundef %call10.i.i, i64 noundef %5, i64 noundef %6, i64 noundef %addr, i64 noundef %len) #17
  br label %trace_pci_nvme_map_addr.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.12, i64 noundef %addr, i64 noundef %len) #17
  br label %trace_pci_nvme_map_addr.exit

trace_pci_nvme_map_addr.exit:                     ; preds = %if.end, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %7 = getelementptr i8, ptr %n, i64 2720
  %n.val = load i128, ptr %7, align 16
  %cmp.i.i = icmp ult i128 %n.val, 18446744073709551616
  br i1 %cmp.i.i, label %nvme_addr_is_iomem.exit, label %if.else.i.i23

if.else.i.i23:                                    ; preds = %trace_pci_nvme_map_addr.exit
  tail call void @__assert_fail(ptr noundef nonnull @.str.8, ptr noundef nonnull @.str.9, i32 noundef 33, ptr noundef nonnull @__PRETTY_FUNCTION__.int128_get64) #18
  unreachable

nvme_addr_is_iomem.exit:                          ; preds = %trace_pci_nvme_map_addr.exit
  %8 = getelementptr i8, ptr %n, i64 2736
  %n.val22 = load i64, ptr %8, align 16
  %coerce.sroa.0.0.extract.trunc.i = trunc i128 %n.val to i64
  %add.i = add i64 %n.val22, %coerce.sroa.0.0.extract.trunc.i
  %cmp.i = icmp ule i64 %n.val22, %addr
  %cmp3.i = icmp ugt i64 %add.i, %addr
  %9 = and i1 %cmp.i, %cmp3.i
  br i1 %9, label %return, label %if.end2

if.end2:                                          ; preds = %nvme_addr_is_iomem.exit
  %cmse.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 2
  %10 = load i8, ptr %cmse.i, align 8
  %11 = and i8 %10, 1
  %tobool.not.i = icmp eq i8 %11, 0
  br i1 %tobool.not.i, label %if.else, label %if.end.i

if.end.i:                                         ; preds = %if.end2
  %size.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 0, i32 18
  %12 = load i128, ptr %size.i, align 16
  %cmp.i.i24 = icmp ult i128 %12, 18446744073709551616
  br i1 %cmp.i.i24, label %nvme_addr_is_cmb.exit, label %if.else.i.i25

if.else.i.i25:                                    ; preds = %if.end.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.8, ptr noundef nonnull @.str.9, i32 noundef 33, ptr noundef nonnull @__PRETTY_FUNCTION__.int128_get64) #18
  unreachable

nvme_addr_is_cmb.exit:                            ; preds = %if.end.i
  %coerce.sroa.0.0.extract.trunc.i26 = trunc i128 %12 to i64
  %legacy_cmb.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 4, i32 12
  %13 = load i8, ptr %legacy_cmb.i, align 1
  %14 = and i8 %13, 1
  %tobool1.not.i = icmp eq i8 %14, 0
  %cba.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 3
  %addr3.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 0, i32 19
  %cond.in.i = select i1 %tobool1.not.i, ptr %cba.i, ptr %addr3.i
  %cond.i = load i64, ptr %cond.in.i, align 16
  %add.i27 = add i64 %cond.i, %coerce.sroa.0.0.extract.trunc.i26
  %cmp.i28 = icmp ule i64 %cond.i, %addr
  %cmp7.i = icmp ugt i64 %add.i27, %addr
  %15 = and i1 %cmp.i28, %cmp7.i
  br i1 %15, label %if.then11, label %if.else

if.else:                                          ; preds = %if.end2, %nvme_addr_is_cmb.exit
  %cmse.i29 = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26, i32 1
  %16 = load i8, ptr %cmse.i29, align 8
  %17 = and i8 %16, 1
  %tobool.not.i30 = icmp eq i8 %17, 0
  br i1 %tobool.not.i30, label %if.end22, label %if.end.i31

if.end.i31:                                       ; preds = %if.else
  %pmr.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26
  %18 = load ptr, ptr %pmr.i, align 16
  %size.i32 = getelementptr inbounds %struct.HostMemoryBackend, ptr %18, i64 0, i32 13, i32 18
  %19 = load i128, ptr %size.i32, align 16
  %cmp.i.i33 = icmp ult i128 %19, 18446744073709551616
  br i1 %cmp.i.i33, label %int128_get64.exit.i35, label %if.else.i.i34

if.else.i.i34:                                    ; preds = %if.end.i31
  tail call void @__assert_fail(ptr noundef nonnull @.str.8, ptr noundef nonnull @.str.9, i32 noundef 33, ptr noundef nonnull @__PRETTY_FUNCTION__.int128_get64) #18
  unreachable

int128_get64.exit.i35:                            ; preds = %if.end.i31
  %coerce.sroa.0.0.extract.trunc.i36 = trunc i128 %19 to i64
  %cba.i37 = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26, i32 2
  %20 = load i64, ptr %cba.i37, align 16
  %add.i38 = add i64 %20, %coerce.sroa.0.0.extract.trunc.i36
  %cmp.i39 = icmp ule i64 %20, %addr
  %cmp5.i = icmp ugt i64 %add.i38, %addr
  %21 = and i1 %cmp.i39, %cmp5.i
  br i1 %21, label %if.then11, label %if.end22

if.then11:                                        ; preds = %nvme_addr_is_cmb.exit, %int128_get64.exit.i35
  %retval.0.i5862 = phi i1 [ false, %int128_get64.exit.i35 ], [ true, %nvme_addr_is_cmb.exit ]
  %22 = load i32, ptr %sg, align 8
  %and = and i32 %22, 2
  %tobool12.not = icmp eq i32 %and, 0
  br i1 %tobool12.not, label %if.end14, label %return

if.end14:                                         ; preds = %if.then11
  %23 = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1
  %niov = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1, i32 0, i32 1
  %24 = load i32, ptr %niov, align 8
  %add = add i32 %24, 1
  %cmp = icmp sgt i32 %add, 1024
  br i1 %cmp, label %do.body, label %if.end16

if.end16:                                         ; preds = %if.end14
  br i1 %retval.0.i5862, label %if.then18, label %if.else20

if.then18:                                        ; preds = %if.end16
  %call19 = tail call fastcc zeroext i16 @nvme_map_addr_cmb(ptr noundef nonnull %n, ptr noundef nonnull %23, i64 noundef %addr, i64 noundef %len), !range !9
  br label %return

if.else20:                                        ; preds = %if.end16
  %call21 = tail call fastcc zeroext i16 @nvme_map_addr_pmr(ptr noundef nonnull %n, ptr noundef nonnull %23, i64 noundef %addr, i64 noundef %len), !range !9
  br label %return

if.end22:                                         ; preds = %if.else, %int128_get64.exit.i35
  %25 = load i32, ptr %sg, align 8
  %and24 = and i32 %25, 2
  %tobool25.not = icmp eq i32 %and24, 0
  br i1 %tobool25.not, label %return, label %if.end27

if.end27:                                         ; preds = %if.end22
  %nsg = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1, i32 0, i32 1
  %26 = load i32, ptr %nsg, align 8
  %add28 = add i32 %26, 1
  %cmp29 = icmp sgt i32 %add28, 1024
  br i1 %cmp29, label %do.body, label %if.end31

if.end31:                                         ; preds = %if.end27
  %27 = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1
  tail call void @qemu_sglist_add(ptr noundef nonnull %27, i64 noundef %addr, i64 noundef %len) #17
  br label %return

do.body:                                          ; preds = %if.end14, %if.end27
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i41)
  %28 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i42 = icmp ne i32 %28, 0
  %29 = load i16, ptr @_TRACE_PCI_NVME_UB_TOO_MANY_MAPPINGS_DSTATE, align 2
  %tobool4.i.i43 = icmp ne i16 %29, 0
  %or.cond.i.i44 = select i1 %tobool.i.i42, i1 %tobool4.i.i43, i1 false
  br i1 %or.cond.i.i44, label %land.lhs.true5.i.i45, label %trace_pci_nvme_ub_too_many_mappings.exit

land.lhs.true5.i.i45:                             ; preds = %do.body
  %30 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i46 = and i32 %30, 32768
  %cmp.i.not.i.i47 = icmp eq i32 %and.i.i.i46, 0
  br i1 %cmp.i.not.i.i47, label %trace_pci_nvme_ub_too_many_mappings.exit, label %if.then.i.i48

if.then.i.i48:                                    ; preds = %land.lhs.true5.i.i45
  %31 = load i8, ptr @message_with_timestamp, align 1
  %32 = and i8 %31, 1
  %tobool7.not.i.i49 = icmp eq i8 %32, 0
  br i1 %tobool7.not.i.i49, label %if.else.i.i54, label %if.then8.i.i50

if.then8.i.i50:                                   ; preds = %if.then.i.i48
  %call9.i.i51 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i41, ptr noundef null) #17
  %call10.i.i52 = tail call i32 @qemu_get_thread_id() #17
  %33 = load i64, ptr %_now.i.i41, align 8
  %tv_usec.i.i53 = getelementptr inbounds %struct.timeval, ptr %_now.i.i41, i64 0, i32 1
  %34 = load i64, ptr %tv_usec.i.i53, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.15, i32 noundef %call10.i.i52, i64 noundef %33, i64 noundef %34) #17
  br label %trace_pci_nvme_ub_too_many_mappings.exit

if.else.i.i54:                                    ; preds = %if.then.i.i48
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.16) #17
  br label %trace_pci_nvme_ub_too_many_mappings.exit

trace_pci_nvme_ub_too_many_mappings.exit:         ; preds = %do.body, %land.lhs.true5.i.i45, %if.then8.i.i50, %if.else.i.i54
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i41)
  %35 = load i32, ptr @qemu_loglevel, align 4
  %and.i = and i32 %35, 2048
  %cmp.i55.not = icmp eq i32 %and.i, 0
  br i1 %cmp.i55.not, label %return, label %if.then36

if.then36:                                        ; preds = %trace_pci_nvme_ub_too_many_mappings.exit
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.10, ptr noundef nonnull @__func__.nvme_map_addr) #17
  br label %return

return:                                           ; preds = %trace_pci_nvme_ub_too_many_mappings.exit, %if.then36, %if.end22, %if.then11, %nvme_addr_is_iomem.exit, %entry, %if.end31, %if.else20, %if.then18
  %retval.0 = phi i16 [ %call19, %if.then18 ], [ %call21, %if.else20 ], [ 0, %if.end31 ], [ 0, %entry ], [ 4, %nvme_addr_is_iomem.exit ], [ 16402, %if.then11 ], [ 16402, %if.end22 ], [ 16390, %if.then36 ], [ 16390, %trace_pci_nvme_ub_too_many_mappings.exit ]
  ret i16 %retval.0
}

; Function Attrs: allocsize(0,1)
declare noalias ptr @g_malloc_n(i64 noundef, i64 noundef) local_unnamed_addr #3

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc i32 @nvme_addr_read(ptr noundef %n, i64 noundef %addr, ptr noundef %buf, i32 noundef %size) unnamed_addr #0 {
entry:
  %conv = sext i32 %size to i64
  %add = add i64 %addr, -1
  %sub = add i64 %add, %conv
  %cmp = icmp ult i64 %sub, %addr
  br i1 %cmp, label %return, label %if.end

if.end:                                           ; preds = %entry
  %cmbsz = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 3, i32 12
  %0 = load i32, ptr %cmbsz, align 4
  %tobool.not = icmp eq i32 %0, 0
  br i1 %tobool.not, label %if.end9, label %land.lhs.true

land.lhs.true:                                    ; preds = %if.end
  %cmse.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 2
  %1 = load i8, ptr %cmse.i, align 8
  %2 = and i8 %1, 1
  %tobool.not.i = icmp eq i8 %2, 0
  br i1 %tobool.not.i, label %if.end9, label %if.end.i

if.end.i:                                         ; preds = %land.lhs.true
  %size.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 0, i32 18
  %3 = load i128, ptr %size.i, align 16
  %cmp.i.i = icmp ult i128 %3, 18446744073709551616
  br i1 %cmp.i.i, label %nvme_addr_is_cmb.exit, label %if.else.i.i

if.else.i.i:                                      ; preds = %if.end.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.8, ptr noundef nonnull @.str.9, i32 noundef 33, ptr noundef nonnull @__PRETTY_FUNCTION__.int128_get64) #18
  unreachable

nvme_addr_is_cmb.exit:                            ; preds = %if.end.i
  %coerce.sroa.0.0.extract.trunc.i = trunc i128 %3 to i64
  %legacy_cmb.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 4, i32 12
  %4 = load i8, ptr %legacy_cmb.i, align 1
  %5 = and i8 %4, 1
  %tobool1.not.i = icmp eq i8 %5, 0
  %cba.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 3
  %addr3.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 0, i32 19
  %cond.in.i = select i1 %tobool1.not.i, ptr %cba.i, ptr %addr3.i
  %cond.i = load i64, ptr %cond.in.i, align 16
  %add.i = add i64 %cond.i, %coerce.sroa.0.0.extract.trunc.i
  %cmp.i = icmp ule i64 %cond.i, %addr
  %cmp7.i = icmp ugt i64 %add.i, %addr
  %6 = and i1 %cmp.i, %cmp7.i
  br i1 %6, label %nvme_addr_is_cmb.exit39, label %if.end9

nvme_addr_is_cmb.exit39:                          ; preds = %nvme_addr_is_cmb.exit
  %cmp.i36 = icmp ule i64 %cond.i, %sub
  %cmp7.i37 = icmp ugt i64 %add.i, %sub
  %7 = and i1 %cmp.i36, %cmp7.i37
  br i1 %7, label %if.then6, label %if.end9

if.then6:                                         ; preds = %nvme_addr_is_cmb.exit39
  %buf.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 1
  %8 = load ptr, ptr %buf.i, align 16
  %sub.i = sub i64 %addr, %cond.i
  %arrayidx.i = getelementptr i8, ptr %8, i64 %sub.i
  tail call void @llvm.memcpy.p0.p0.i64(ptr align 1 %buf, ptr align 1 %arrayidx.i, i64 %conv, i1 false)
  br label %return

if.end9:                                          ; preds = %land.lhs.true, %nvme_addr_is_cmb.exit39, %nvme_addr_is_cmb.exit, %if.end
  %cmse.i45 = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26, i32 1
  %9 = load i8, ptr %cmse.i45, align 8
  %10 = and i8 %9, 1
  %tobool.not.i46 = icmp eq i8 %10, 0
  br i1 %tobool.not.i46, label %if.end18, label %if.end.i47

if.end.i47:                                       ; preds = %if.end9
  %pmr.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26
  %11 = load ptr, ptr %pmr.i, align 16
  %size.i48 = getelementptr inbounds %struct.HostMemoryBackend, ptr %11, i64 0, i32 13, i32 18
  %12 = load i128, ptr %size.i48, align 16
  %cmp.i.i49 = icmp ult i128 %12, 18446744073709551616
  br i1 %cmp.i.i49, label %nvme_addr_is_pmr.exit, label %if.else.i.i50

if.else.i.i50:                                    ; preds = %if.end.i47
  tail call void @__assert_fail(ptr noundef nonnull @.str.8, ptr noundef nonnull @.str.9, i32 noundef 33, ptr noundef nonnull @__PRETTY_FUNCTION__.int128_get64) #18
  unreachable

nvme_addr_is_pmr.exit:                            ; preds = %if.end.i47
  %coerce.sroa.0.0.extract.trunc.i52 = trunc i128 %12 to i64
  %cba.i53 = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26, i32 2
  %13 = load i64, ptr %cba.i53, align 16
  %add.i54 = add i64 %13, %coerce.sroa.0.0.extract.trunc.i52
  %cmp.i55 = icmp ule i64 %13, %addr
  %cmp5.i = icmp ugt i64 %add.i54, %addr
  %14 = and i1 %cmp.i55, %cmp5.i
  br i1 %14, label %nvme_addr_is_pmr.exit71, label %if.end18

nvme_addr_is_pmr.exit71:                          ; preds = %nvme_addr_is_pmr.exit
  %cmp.i68 = icmp ule i64 %13, %sub
  %cmp5.i69 = icmp ugt i64 %add.i54, %sub
  %15 = and i1 %cmp.i68, %cmp5.i69
  br i1 %15, label %if.then15, label %if.end18

if.then15:                                        ; preds = %nvme_addr_is_pmr.exit71
  %mr.i = getelementptr inbounds %struct.HostMemoryBackend, ptr %11, i64 0, i32 13
  %call.i = tail call ptr @memory_region_get_ram_ptr(ptr noundef nonnull %mr.i) #17
  %16 = load i64, ptr %cba.i53, align 16
  %sub.i74 = sub i64 %addr, %16
  %add.ptr.i = getelementptr i8, ptr %call.i, i64 %sub.i74
  tail call void @llvm.memcpy.p0.p0.i64(ptr align 1 %buf, ptr align 1 %add.ptr.i, i64 %conv, i1 false)
  br label %return

if.end18:                                         ; preds = %if.end9, %nvme_addr_is_pmr.exit71, %nvme_addr_is_pmr.exit
  %call.i75 = tail call ptr @object_dynamic_cast_assert(ptr noundef nonnull %n, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %bus_master_as.i.i.i = getelementptr inbounds %struct.PCIDevice, ptr %call.i75, i64 0, i32 12
  tail call void asm sideeffect "", "~{memory},~{dirflag},~{fpsr},~{flags}"() #17, !srcloc !10
  fence seq_cst
  %call.i.i.i.i = tail call i32 @address_space_rw(ptr noundef nonnull %bus_master_as.i.i.i, i64 noundef %addr, i32 1, ptr noundef %buf, i64 noundef %conv, i1 noundef zeroext false) #17
  br label %return

return:                                           ; preds = %entry, %if.end18, %if.then15, %if.then6
  %retval.0 = phi i32 [ 0, %if.then6 ], [ 0, %if.then15 ], [ %call.i.i.i.i, %if.end18 ], [ 1, %entry ]
  ret i32 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_err_addr_read(i64 noundef %addr) unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_ADDR_READ_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_err_addr_read.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_err_addr_read.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.17, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6, i64 noundef %addr) #17
  br label %_nocheck__trace_pci_nvme_err_addr_read.exit

if.else.i:                                        ; preds = %if.then.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.18, i64 noundef %addr) #17
  br label %_nocheck__trace_pci_nvme_err_addr_read.exit

_nocheck__trace_pci_nvme_err_addr_read.exit:      ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_err_invalid_prplist_ent(i64 noundef %prplist) unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_PRPLIST_ENT_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_err_invalid_prplist_ent.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_err_invalid_prplist_ent.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.19, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6, i64 noundef %prplist) #17
  br label %_nocheck__trace_pci_nvme_err_invalid_prplist_ent.exit

if.else.i:                                        ; preds = %if.then.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.20, i64 noundef %prplist) #17
  br label %_nocheck__trace_pci_nvme_err_invalid_prplist_ent.exit

_nocheck__trace_pci_nvme_err_invalid_prplist_ent.exit: ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nofree nounwind
declare noundef i32 @gettimeofday(ptr nocapture noundef, ptr nocapture noundef) local_unnamed_addr #4

declare void @qemu_log(ptr noundef, ...) local_unnamed_addr #1

declare i32 @qemu_get_thread_id() local_unnamed_addr #1

declare void @qemu_iovec_init(ptr noundef, i32 noundef) local_unnamed_addr #1

declare void @qemu_sglist_init(ptr noundef, ptr noundef, i32 noundef, ptr noundef) local_unnamed_addr #1

declare ptr @object_dynamic_cast_assert(ptr noundef, ptr noundef, ptr noundef, i32 noundef, ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_map_addr_cmb(ptr nocapture noundef readonly %n, ptr noundef %iov, i64 noundef %addr, i64 noundef %len) unnamed_addr #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_MAP_ADDR_CMB_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %1, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_map_addr_cmb.exit

land.lhs.true5.i.i:                               ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %2, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_map_addr_cmb.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.13, i32 noundef %call10.i.i, i64 noundef %5, i64 noundef %6, i64 noundef %addr, i64 noundef %len) #17
  br label %trace_pci_nvme_map_addr_cmb.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.14, i64 noundef %addr, i64 noundef %len) #17
  br label %trace_pci_nvme_map_addr_cmb.exit

trace_pci_nvme_map_addr_cmb.exit:                 ; preds = %entry, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %cmse.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 2
  %7 = load i8, ptr %cmse.i, align 8
  %8 = and i8 %7, 1
  %tobool.not.i = icmp eq i8 %8, 0
  br i1 %tobool.not.i, label %return, label %if.end.i

if.end.i:                                         ; preds = %trace_pci_nvme_map_addr_cmb.exit
  %size.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 0, i32 18
  %9 = load i128, ptr %size.i, align 16
  %cmp.i.i = icmp ult i128 %9, 18446744073709551616
  br i1 %cmp.i.i, label %nvme_addr_is_cmb.exit, label %if.else.i.i9

if.else.i.i9:                                     ; preds = %if.end.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.8, ptr noundef nonnull @.str.9, i32 noundef 33, ptr noundef nonnull @__PRETTY_FUNCTION__.int128_get64) #18
  unreachable

nvme_addr_is_cmb.exit:                            ; preds = %if.end.i
  %coerce.sroa.0.0.extract.trunc.i = trunc i128 %9 to i64
  %legacy_cmb.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 4, i32 12
  %10 = load i8, ptr %legacy_cmb.i, align 1
  %11 = and i8 %10, 1
  %tobool1.not.i = icmp eq i8 %11, 0
  %cba.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 3
  %addr3.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 0, i32 19
  %cond.in.i = select i1 %tobool1.not.i, ptr %cba.i, ptr %addr3.i
  %cond.i = load i64, ptr %cond.in.i, align 16
  %add.i = add i64 %cond.i, %coerce.sroa.0.0.extract.trunc.i
  %cmp.i = icmp ule i64 %cond.i, %addr
  %cmp7.i = icmp ugt i64 %add.i, %addr
  %12 = and i1 %cmp.i, %cmp7.i
  br i1 %12, label %nvme_addr_is_cmb.exit28, label %return

nvme_addr_is_cmb.exit28:                          ; preds = %nvme_addr_is_cmb.exit
  %add = add i64 %addr, -1
  %sub = add i64 %add, %len
  %cmp.i25 = icmp ule i64 %cond.i, %sub
  %cmp7.i26 = icmp ugt i64 %add.i, %sub
  %13 = and i1 %cmp.i25, %cmp7.i26
  br i1 %13, label %if.end3, label %return

if.end3:                                          ; preds = %nvme_addr_is_cmb.exit28
  %buf.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 25, i32 1
  %14 = load ptr, ptr %buf.i, align 16
  %sub.i = sub i64 %addr, %cond.i
  %arrayidx.i = getelementptr i8, ptr %14, i64 %sub.i
  tail call void @qemu_iovec_add(ptr noundef %iov, ptr noundef %arrayidx.i, i64 noundef %len) #17
  br label %return

return:                                           ; preds = %trace_pci_nvme_map_addr_cmb.exit, %nvme_addr_is_cmb.exit, %nvme_addr_is_cmb.exit28, %if.end3
  %retval.0 = phi i16 [ 0, %if.end3 ], [ 4, %nvme_addr_is_cmb.exit28 ], [ 4, %nvme_addr_is_cmb.exit ], [ 4, %trace_pci_nvme_map_addr_cmb.exit ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_map_addr_pmr(ptr nocapture noundef readonly %n, ptr noundef %iov, i64 noundef %addr, i64 noundef %len) unnamed_addr #0 {
entry:
  %cmse.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26, i32 1
  %0 = load i8, ptr %cmse.i, align 8
  %1 = and i8 %0, 1
  %tobool.not.i = icmp eq i8 %1, 0
  br i1 %tobool.not.i, label %return, label %if.end.i

if.end.i:                                         ; preds = %entry
  %pmr.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26
  %2 = load ptr, ptr %pmr.i, align 16
  %size.i = getelementptr inbounds %struct.HostMemoryBackend, ptr %2, i64 0, i32 13, i32 18
  %3 = load i128, ptr %size.i, align 16
  %cmp.i.i = icmp ult i128 %3, 18446744073709551616
  br i1 %cmp.i.i, label %nvme_addr_is_pmr.exit, label %if.else.i.i

if.else.i.i:                                      ; preds = %if.end.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.8, ptr noundef nonnull @.str.9, i32 noundef 33, ptr noundef nonnull @__PRETTY_FUNCTION__.int128_get64) #18
  unreachable

nvme_addr_is_pmr.exit:                            ; preds = %if.end.i
  %coerce.sroa.0.0.extract.trunc.i = trunc i128 %3 to i64
  %cba.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 26, i32 2
  %4 = load i64, ptr %cba.i, align 16
  %add.i = add i64 %4, %coerce.sroa.0.0.extract.trunc.i
  %cmp.i = icmp ule i64 %4, %addr
  %cmp5.i = icmp ugt i64 %add.i, %addr
  %5 = and i1 %cmp.i, %cmp5.i
  br i1 %5, label %nvme_addr_is_pmr.exit21, label %return

nvme_addr_is_pmr.exit21:                          ; preds = %nvme_addr_is_pmr.exit
  %add = add i64 %addr, -1
  %sub = add i64 %add, %len
  %cmp.i18 = icmp ule i64 %4, %sub
  %cmp5.i19 = icmp ugt i64 %add.i, %sub
  %6 = and i1 %cmp.i18, %cmp5.i19
  br i1 %6, label %if.end3, label %return

if.end3:                                          ; preds = %nvme_addr_is_pmr.exit21
  %mr.i = getelementptr inbounds %struct.HostMemoryBackend, ptr %2, i64 0, i32 13
  %call.i = tail call ptr @memory_region_get_ram_ptr(ptr noundef nonnull %mr.i) #17
  %7 = load i64, ptr %cba.i, align 16
  %sub.i = sub i64 %addr, %7
  %add.ptr.i = getelementptr i8, ptr %call.i, i64 %sub.i
  tail call void @qemu_iovec_add(ptr noundef %iov, ptr noundef %add.ptr.i, i64 noundef %len) #17
  br label %return

return:                                           ; preds = %entry, %nvme_addr_is_pmr.exit, %nvme_addr_is_pmr.exit21, %if.end3
  %retval.0 = phi i16 [ 0, %if.end3 ], [ 4, %nvme_addr_is_pmr.exit21 ], [ 4, %nvme_addr_is_pmr.exit ], [ 4, %entry ]
  ret i16 %retval.0
}

declare void @qemu_sglist_add(ptr noundef, i64 noundef, i64 noundef) local_unnamed_addr #1

declare void @qemu_iovec_add(ptr noundef, ptr noundef, i64 noundef) local_unnamed_addr #1

declare ptr @memory_region_get_ram_ptr(ptr noundef) local_unnamed_addr #1

declare void @g_free(ptr noundef) local_unnamed_addr #1

; Function Attrs: mustprogress nocallback nofree nounwind willreturn memory(argmem: readwrite)
declare void @llvm.memcpy.p0.p0.i64(ptr noalias nocapture writeonly, ptr noalias nocapture readonly, i64, i1 immarg) #5

declare i32 @address_space_rw(ptr noundef, i64 noundef, i32, ptr noundef, i64 noundef, i1 noundef zeroext) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_map_sgl_data(ptr nocapture noundef readonly %n, ptr noundef %sg, ptr nocapture noundef readonly %segment, i64 noundef %nsgld, ptr nocapture noundef %len) unnamed_addr #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %cmp1.not = icmp eq i64 %nsgld, 0
  br i1 %cmp1.not, label %return, label %for.body

for.body:                                         ; preds = %entry, %for.inc
  %conv3 = phi i64 [ %conv, %for.inc ], [ 0, %entry ]
  %i.02 = phi i32 [ %inc, %for.inc ], [ 0, %entry ]
  %arrayidx = getelementptr %struct.NvmeSglDescriptor, ptr %segment, i64 %conv3
  %type2 = getelementptr %struct.NvmeSglDescriptor, ptr %segment, i64 %conv3, i32 3
  %0 = load i8, ptr %type2, align 1
  %1 = lshr i8 %0, 4
  %conv5 = zext nneg i8 %1 to i32
  switch i32 %conv5, label %return [
    i32 0, label %sw.epilog
    i32 2, label %return.loopexit
    i32 3, label %return.loopexit
  ]

sw.epilog:                                        ; preds = %for.body
  %len9 = getelementptr %struct.NvmeSglDescriptor, ptr %segment, i64 %conv3, i32 1
  %2 = load i32, ptr %len9, align 1
  %tobool.not = icmp eq i32 %2, 0
  br i1 %tobool.not, label %for.inc, label %if.end

if.end:                                           ; preds = %sw.epilog
  %3 = load i64, ptr %len, align 8
  %cmp10 = icmp eq i64 %3, 0
  br i1 %cmp10, label %if.then12, label %if.end19

if.then12:                                        ; preds = %if.end
  %sgls13 = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 40, i32 62
  %4 = load i32, ptr %sgls13, align 8
  %and15 = and i32 %4, 262144
  %tobool16.not = icmp eq i32 %and15, 0
  br i1 %tobool16.not, label %if.end18, label %return

if.end18:                                         ; preds = %if.then12
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %5 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %5, 0
  %6 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_SGL_EXCESS_LENGTH_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %6, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_err_invalid_sgl_excess_length.exit

land.lhs.true5.i.i:                               ; preds = %if.end18
  %7 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %7, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_err_invalid_sgl_excess_length.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %8 = load i8, ptr @message_with_timestamp, align 1
  %9 = and i8 %8, 1
  %tobool7.not.i.i = icmp eq i8 %9, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %10 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %11 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.25, i32 noundef %call10.i.i, i64 noundef %10, i64 noundef %11, i32 noundef %2) #17
  br label %trace_pci_nvme_err_invalid_sgl_excess_length.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.26, i32 noundef %2) #17
  br label %trace_pci_nvme_err_invalid_sgl_excess_length.exit

trace_pci_nvme_err_invalid_sgl_excess_length.exit: ; preds = %if.end18, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  br label %return

if.end19:                                         ; preds = %if.end
  %conv20 = zext i32 %2 to i64
  %cond = tail call i64 @llvm.umin.i64(i64 %3, i64 %conv20)
  %12 = load i64, ptr %arrayidx, align 1
  %sub = xor i64 %12, -1
  %cmp28 = icmp ult i64 %sub, %conv20
  br i1 %cmp28, label %return, label %if.end31

if.end31:                                         ; preds = %if.end19
  %call32 = tail call fastcc zeroext i16 @nvme_map_addr(ptr noundef %n, ptr noundef %sg, i64 noundef %12, i64 noundef %cond), !range !5
  %tobool33.not = icmp eq i16 %call32, 0
  br i1 %tobool33.not, label %if.end35, label %return

if.end35:                                         ; preds = %if.end31
  %13 = load i64, ptr %len, align 8
  %sub36 = sub i64 %13, %cond
  store i64 %sub36, ptr %len, align 8
  br label %for.inc

for.inc:                                          ; preds = %sw.epilog, %if.end35
  %inc = add i32 %i.02, 1
  %conv = sext i32 %inc to i64
  %cmp = icmp ult i64 %conv, %nsgld
  br i1 %cmp, label %for.body, label %return, !llvm.loop !13

return.loopexit:                                  ; preds = %for.body, %for.body
  br label %return

return:                                           ; preds = %if.end19, %if.end31, %for.inc, %for.body, %return.loopexit, %entry, %if.then12, %trace_pci_nvme_err_invalid_sgl_excess_length.exit
  %retval.0 = phi i16 [ 16399, %trace_pci_nvme_err_invalid_sgl_excess_length.exit ], [ 0, %if.then12 ], [ 0, %entry ], [ 16401, %for.body ], [ 16399, %if.end19 ], [ %call32, %if.end31 ], [ 0, %for.inc ], [ 16398, %return.loopexit ]
  ret i16 %retval.0
}

declare i32 @dma_buf_write(ptr noundef, i64 noundef, ptr noundef, ptr noundef, i32) local_unnamed_addr #1

declare i32 @dma_buf_read(ptr noundef, i64 noundef, ptr noundef, ptr noundef, i32) local_unnamed_addr #1

declare i64 @qemu_iovec_to_buf(ptr noundef, i64 noundef, ptr noundef, i64 noundef) local_unnamed_addr #1

declare i64 @qemu_iovec_from_buf(ptr noundef, i64 noundef, ptr noundef, i64 noundef) local_unnamed_addr #1

declare void @qemu_sglist_destroy(ptr noundef) local_unnamed_addr #1

declare void @qemu_iovec_destroy(ptr noundef) local_unnamed_addr #1

; Function Attrs: mustprogress nocallback nofree nounwind willreturn memory(argmem: write)
declare void @llvm.memset.p0.i64(ptr nocapture writeonly, i8, i64, i1 immarg) #6

; Function Attrs: nounwind
declare ptr @strerror(i32 noundef) local_unnamed_addr #7

declare void @error_setg_errno_internal(ptr noundef, ptr noundef, i32 noundef, ptr noundef, i32 noundef, ptr noundef, ...) local_unnamed_addr #1

declare void @error_report_err(ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_zrm_finish(ptr nocapture noundef %ns, ptr noundef %zone) unnamed_addr #0 {
entry:
  %0 = getelementptr i8, ptr %zone, i64 1
  %zone.val = load i8, ptr %0, align 1
  %1 = lshr i8 %zone.val, 4
  %shr.i = zext nneg i8 %1 to i32
  switch i32 %shr.i, label %sw.default [
    i32 14, label %return
    i32 2, label %sw.bb1
    i32 3, label %sw.bb1
    i32 4, label %sw.bb2
    i32 1, label %sw.bb12
  ]

sw.bb1:                                           ; preds = %entry, %entry
  %max_open_zones.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 30, i32 19
  %2 = load i32, ptr %max_open_zones.i, align 4
  %tobool.not.i = icmp eq i32 %2, 0
  %nr_open_zones4.phi.trans.insert.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 28
  %.pre.i = load i32, ptr %nr_open_zones4.phi.trans.insert.i, align 8
  br i1 %tobool.not.i, label %if.end3.i, label %if.then.i

if.then.i:                                        ; preds = %sw.bb1
  %cmp.i = icmp sgt i32 %.pre.i, 0
  br i1 %cmp.i, label %if.end3.thread.i, label %if.else.i

if.else.i:                                        ; preds = %if.then.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.38, ptr noundef nonnull @.str.39, i32 noundef 339, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_aor_dec_open) #18
  unreachable

if.end3.thread.i:                                 ; preds = %if.then.i
  %dec.i = add nsw i32 %.pre.i, -1
  store i32 %dec.i, ptr %nr_open_zones4.phi.trans.insert.i, align 8
  br label %sw.bb2

if.end3.i:                                        ; preds = %sw.bb1
  %3 = icmp sgt i32 %.pre.i, -1
  br i1 %3, label %sw.bb2, label %if.else7.i

if.else7.i:                                       ; preds = %if.end3.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.40, ptr noundef nonnull @.str.39, i32 noundef 342, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_aor_dec_open) #18
  unreachable

sw.bb2:                                           ; preds = %if.end3.i, %if.end3.thread.i, %entry
  %max_active_zones.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 30, i32 18
  %4 = load i32, ptr %max_active_zones.i, align 8
  %tobool.not.i8 = icmp eq i32 %4, 0
  %nr_active_zones9.phi.trans.insert.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 29
  %.pre.i9 = load i32, ptr %nr_active_zones9.phi.trans.insert.i, align 4
  br i1 %tobool.not.i8, label %if.end8.i, label %if.then.i10

if.then.i10:                                      ; preds = %sw.bb2
  %cmp.i11 = icmp sgt i32 %.pre.i9, 0
  br i1 %cmp.i11, label %if.end.i, label %if.else.i12

if.else.i12:                                      ; preds = %if.then.i10
  tail call void @__assert_fail(ptr noundef nonnull @.str.41, ptr noundef nonnull @.str.39, i32 noundef 357, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_aor_dec_active) #18
  unreachable

if.end.i:                                         ; preds = %if.then.i10
  %dec.i13 = add nsw i32 %.pre.i9, -1
  store i32 %dec.i13, ptr %nr_active_zones9.phi.trans.insert.i, align 4
  %nr_open_zones.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 28
  %5 = load i32, ptr %nr_open_zones.i, align 8
  %cmp4.not.not.i = icmp sgt i32 %.pre.i9, %5
  br i1 %cmp4.not.not.i, label %nvme_aor_dec_active.exit, label %if.else6.i

if.else6.i:                                       ; preds = %if.end.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.42, ptr noundef nonnull @.str.39, i32 noundef 359, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_aor_dec_active) #18
  unreachable

if.end8.i:                                        ; preds = %sw.bb2
  %6 = icmp sgt i32 %.pre.i9, -1
  br i1 %6, label %nvme_aor_dec_active.exit, label %if.else12.i

if.else12.i:                                      ; preds = %if.end8.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.43, ptr noundef nonnull @.str.39, i32 noundef 361, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_aor_dec_active) #18
  unreachable

nvme_aor_dec_active.exit:                         ; preds = %if.end.i, %if.end8.i
  %za = getelementptr inbounds %struct.NvmeZoneDescr, ptr %zone, i64 0, i32 2
  %7 = load i8, ptr %za, align 2
  %8 = and i8 %7, 8
  %tobool.not = icmp eq i8 %8, 0
  br i1 %tobool.not, label %sw.bb12, label %if.then

if.then:                                          ; preds = %nvme_aor_dec_active.exit
  %and6 = and i8 %7, -9
  store i8 %and6, ptr %za, align 2
  %numzrwa = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 30, i32 21
  %9 = load i32, ptr %numzrwa, align 4
  %tobool8.not = icmp eq i32 %9, 0
  br i1 %tobool8.not, label %sw.bb12, label %if.then9

if.then9:                                         ; preds = %if.then
  %numzrwa10 = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 15, i32 2
  %10 = load i32, ptr %numzrwa10, align 4
  %inc = add i32 %10, 1
  store i32 %inc, ptr %numzrwa10, align 4
  br label %sw.bb12

sw.bb12:                                          ; preds = %nvme_aor_dec_active.exit, %if.then9, %if.then, %entry
  %entry1.i = getelementptr inbounds %struct.NvmeZone, ptr %zone, i64 0, i32 2
  %tql_prev.i = getelementptr inbounds %struct.NvmeZone, ptr %zone, i64 0, i32 2, i32 0, i32 1
  %11 = load ptr, ptr %tql_prev.i, align 8
  %cmp.not.i = icmp eq ptr %11, null
  br i1 %cmp.not.i, label %nvme_assign_zone_state.exit, label %if.then.i14

if.then.i14:                                      ; preds = %sw.bb12
  %zone.val.i = load i8, ptr %0, align 1
  %12 = lshr i8 %zone.val.i, 4
  %shr.i.i = zext nneg i8 %12 to i32
  switch i32 %shr.i.i, label %nvme_assign_zone_state.exit [
    i32 3, label %do.body.i
    i32 2, label %do.body22.i
    i32 4, label %do.body47.i
    i32 14, label %do.body72.i
  ]

do.body.i:                                        ; preds = %if.then.i14
  %13 = load ptr, ptr %entry1.i, align 8
  %cmp3.not.i = icmp eq ptr %13, null
  %tql_prev12.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 19, i32 0, i32 1
  %tql_prev9.i = getelementptr inbounds %struct.NvmeZone, ptr %13, i64 0, i32 2, i32 0, i32 1
  %tql_prev12.sink.i = select i1 %cmp3.not.i, ptr %tql_prev12.i, ptr %tql_prev9.i
  br label %if.end96.sink.split.i

do.body22.i:                                      ; preds = %if.then.i14
  %14 = load ptr, ptr %entry1.i, align 8
  %cmp24.not.i = icmp eq ptr %14, null
  %tql_prev34.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 20, i32 0, i32 1
  %tql_prev30.i = getelementptr inbounds %struct.NvmeZone, ptr %14, i64 0, i32 2, i32 0, i32 1
  %tql_prev34.sink.i = select i1 %cmp24.not.i, ptr %tql_prev34.i, ptr %tql_prev30.i
  br label %if.end96.sink.split.i

do.body47.i:                                      ; preds = %if.then.i14
  %15 = load ptr, ptr %entry1.i, align 8
  %cmp49.not.i = icmp eq ptr %15, null
  %tql_prev59.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 21, i32 0, i32 1
  %tql_prev55.i = getelementptr inbounds %struct.NvmeZone, ptr %15, i64 0, i32 2, i32 0, i32 1
  %tql_prev59.sink.i = select i1 %cmp49.not.i, ptr %tql_prev59.i, ptr %tql_prev55.i
  br label %if.end96.sink.split.i

do.body72.i:                                      ; preds = %if.then.i14
  %16 = load ptr, ptr %entry1.i, align 8
  %cmp74.not.i = icmp eq ptr %16, null
  %tql_prev84.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 22, i32 0, i32 1
  %tql_prev80.i = getelementptr inbounds %struct.NvmeZone, ptr %16, i64 0, i32 2, i32 0, i32 1
  %tql_prev84.sink.i = select i1 %cmp74.not.i, ptr %tql_prev84.i, ptr %tql_prev80.i
  br label %if.end96.sink.split.i

if.end96.sink.split.i:                            ; preds = %do.body72.i, %do.body47.i, %do.body22.i, %do.body.i
  %tql_prev12.sink.sink.i = phi ptr [ %tql_prev12.sink.i, %do.body.i ], [ %tql_prev34.sink.i, %do.body22.i ], [ %tql_prev59.sink.i, %do.body47.i ], [ %tql_prev84.sink.i, %do.body72.i ]
  store ptr %11, ptr %tql_prev12.sink.sink.i, align 8
  %17 = load ptr, ptr %entry1.i, align 8
  %18 = load ptr, ptr %tql_prev.i, align 8
  store ptr %17, ptr %18, align 8
  %19 = getelementptr inbounds %struct.NvmeZone, ptr %zone, i64 0, i32 2, i32 0, i32 1
  store i64 0, ptr %19, align 8
  br label %nvme_assign_zone_state.exit

nvme_assign_zone_state.exit:                      ; preds = %sw.bb12, %if.then.i14, %if.end96.sink.split.i
  store i8 -32, ptr %0, align 1
  store ptr null, ptr %entry1.i, align 8
  %tql_prev143.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 22, i32 0, i32 1
  %20 = load ptr, ptr %tql_prev143.i, align 8
  store ptr %20, ptr %tql_prev.i, align 8
  store ptr %zone, ptr %20, align 8
  store ptr %entry1.i, ptr %tql_prev143.i, align 8
  br label %return

sw.default:                                       ; preds = %entry
  br label %return

return:                                           ; preds = %entry, %sw.default, %nvme_assign_zone_state.exit
  %retval.0 = phi i16 [ 447, %sw.default ], [ 0, %nvme_assign_zone_state.exit ], [ 0, %entry ]
  ret i16 %retval.0
}

declare void @qemu_bh_schedule(ptr noundef) local_unnamed_addr #1

declare ptr @type_register_static(ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_instance_init(ptr noundef %obj) #0 {
entry:
  %call = tail call ptr @object_dynamic_cast_assert(ptr noundef %obj, ptr noundef nonnull @.str.49, ptr noundef nonnull @.str.1, i32 noundef 8526, ptr noundef nonnull @__func__.nvme_instance_init) #17
  %bootindex = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 34, i32 1, i32 6
  %call.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %obj, ptr noundef nonnull @.str.4, ptr noundef nonnull @.str.5, i32 noundef 77, ptr noundef nonnull @__func__.DEVICE) #17
  tail call void @device_add_bootindex_property(ptr noundef %obj, ptr noundef nonnull %bootindex, ptr noundef nonnull @.str.51, ptr noundef nonnull @.str.52, ptr noundef %call.i) #17
  %call2 = tail call ptr @object_property_add(ptr noundef %obj, ptr noundef nonnull @.str.53, ptr noundef nonnull @.str.54, ptr noundef nonnull @nvme_get_smart_warning, ptr noundef nonnull @nvme_set_smart_warning, ptr noundef null, ptr noundef null) #17
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_class_init(ptr noundef %oc, ptr nocapture readnone %data) #0 {
entry:
  %call.i = tail call ptr @object_class_dynamic_cast_assert(ptr noundef %oc, ptr noundef nonnull @.str.4, ptr noundef nonnull @.str.5, i32 noundef 77, ptr noundef nonnull @__func__.DEVICE_CLASS) #17
  %call.i10 = tail call ptr @object_class_dynamic_cast_assert(ptr noundef %oc, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE_CLASS) #17
  %realize = getelementptr inbounds %struct.PCIDeviceClass, ptr %call.i10, i64 0, i32 1
  store ptr @nvme_realize, ptr %realize, align 8
  %config_write = getelementptr inbounds %struct.PCIDeviceClass, ptr %call.i10, i64 0, i32 4
  store ptr @nvme_pci_write_config, ptr %config_write, align 8
  %exit = getelementptr inbounds %struct.PCIDeviceClass, ptr %call.i10, i64 0, i32 2
  store ptr @nvme_exit, ptr %exit, align 8
  %class_id = getelementptr inbounds %struct.PCIDeviceClass, ptr %call.i10, i64 0, i32 8
  store i16 264, ptr %class_id, align 2
  %revision = getelementptr inbounds %struct.PCIDeviceClass, ptr %call.i10, i64 0, i32 7
  store i8 2, ptr %revision, align 4
  %categories = getelementptr inbounds %struct.DeviceClass, ptr %call.i, i64 0, i32 1
  %0 = load i64, ptr %categories, align 8
  %or.i = or i64 %0, 4
  store i64 %or.i, ptr %categories, align 8
  %desc = getelementptr inbounds %struct.DeviceClass, ptr %call.i, i64 0, i32 3
  store ptr @.str.68, ptr %desc, align 8
  tail call void @device_class_set_props(ptr noundef %call.i, ptr noundef nonnull @nvme_props) #17
  %vmsd = getelementptr inbounds %struct.DeviceClass, ptr %call.i, i64 0, i32 10
  store ptr @nvme_vmstate, ptr %vmsd, align 8
  %reset = getelementptr inbounds %struct.DeviceClass, ptr %call.i, i64 0, i32 7
  store ptr @nvme_pci_reset, ptr %reset, align 8
  ret void
}

declare void @device_add_bootindex_property(ptr noundef, ptr noundef, ptr noundef, ptr noundef, ptr noundef) local_unnamed_addr #1

declare ptr @object_property_add(ptr noundef, ptr noundef, ptr noundef, ptr noundef, ptr noundef, ptr noundef, ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_get_smart_warning(ptr noundef %obj, ptr noundef %v, ptr noundef %name, ptr nocapture readnone %opaque, ptr noundef %errp) #0 {
entry:
  %value = alloca i8, align 1
  %call = tail call ptr @object_dynamic_cast_assert(ptr noundef %obj, ptr noundef nonnull @.str.49, ptr noundef nonnull @.str.1, i32 noundef 8421, ptr noundef nonnull @__func__.nvme_get_smart_warning) #17
  %smart_critical_warning = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 19
  %0 = load i8, ptr %smart_critical_warning, align 2
  store i8 %0, ptr %value, align 1
  %call1 = call zeroext i1 @visit_type_uint8(ptr noundef %v, ptr noundef %name, ptr noundef nonnull %value, ptr noundef %errp) #17
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_set_smart_warning(ptr noundef %obj, ptr noundef %v, ptr noundef %name, ptr nocapture readnone %opaque, ptr noundef %errp) #0 {
entry:
  %value = alloca i8, align 1
  %call = tail call ptr @object_dynamic_cast_assert(ptr noundef %obj, ptr noundef nonnull @.str.49, ptr noundef nonnull @.str.1, i32 noundef 8430, ptr noundef nonnull @__func__.nvme_set_smart_warning) #17
  %call1 = call zeroext i1 @visit_type_uint8(ptr noundef %v, ptr noundef %name, ptr noundef nonnull %value, ptr noundef %errp) #17
  br i1 %call1, label %if.end, label %for.end

if.end:                                           ; preds = %entry
  %bar = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 3
  %bar.val = load i64, ptr %bar, align 1
  %0 = and i64 %bar.val, 72057594037927936
  %tobool.not = icmp eq i64 %0, 0
  %spec.select = select i1 %tobool.not, i32 31, i32 63
  %1 = load i8, ptr %value, align 1
  %conv7 = zext i8 %1 to i32
  %and9 = and i32 %spec.select, %conv7
  %cmp.not = icmp eq i32 %and9, %conv7
  br i1 %cmp.not, label %if.end16, label %if.then12

if.then12:                                        ; preds = %if.end
  %not = xor i32 %spec.select, -1
  %and15 = and i32 %not, %conv7
  call void (ptr, ptr, i32, ptr, ptr, ...) @error_setg_internal(ptr noundef %errp, ptr noundef nonnull @.str.1, i32 noundef 8445, ptr noundef nonnull @__func__.nvme_set_smart_warning, ptr noundef nonnull @.str.55, i32 noundef %and15) #17
  br label %for.end

if.end16:                                         ; preds = %if.end
  %smart_critical_warning = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 19
  %2 = load i8, ptr %smart_critical_warning, align 2
  store i8 %1, ptr %smart_critical_warning, align 2
  %conv24 = zext i8 %2 to i32
  %not25 = xor i32 %conv24, -1
  %async_config.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 41, i32 1
  br label %for.body

for.body:                                         ; preds = %if.end16, %for.inc
  %indvars.iv = phi i32 [ 0, %if.end16 ], [ %indvars.iv.next, %for.inc ]
  %shl = shl nuw nsw i32 1, %indvars.iv
  %3 = load i8, ptr %value, align 1
  %conv23 = zext i8 %3 to i32
  %4 = and i32 %not25, %conv23
  %and28 = and i32 %4, %shl
  %tobool29.not = icmp eq i32 %and28, 0
  br i1 %tobool29.not, label %for.inc, label %if.then30

if.then30:                                        ; preds = %for.body
  %5 = load i32, ptr %async_config.i, align 4
  %and1.i = and i32 %5, %shl
  %tobool.not.i = icmp eq i32 %and1.i, 0
  br i1 %tobool.not.i, label %for.inc, label %if.end.i

if.end.i:                                         ; preds = %if.then30
  %trunc = trunc i32 %shl to i8
  switch i8 %trunc, label %for.inc [
    i8 1, label %sw.epilog.i
    i8 2, label %sw.bb3.i
    i8 4, label %sw.bb4.i
    i8 8, label %sw.bb4.i
    i8 16, label %sw.bb4.i
    i8 32, label %sw.bb4.i
  ]

sw.bb3.i:                                         ; preds = %if.end.i
  br label %sw.epilog.i

sw.bb4.i:                                         ; preds = %if.end.i, %if.end.i, %if.end.i, %if.end.i
  br label %sw.epilog.i

sw.epilog.i:                                      ; preds = %sw.bb4.i, %sw.bb3.i, %if.end.i
  %aer_info.0.i = phi i8 [ 0, %sw.bb4.i ], [ 1, %sw.bb3.i ], [ 2, %if.end.i ]
  call fastcc void @nvme_enqueue_event(ptr noundef nonnull %call, i8 noundef zeroext 1, i8 noundef zeroext %aer_info.0.i, i8 noundef zeroext 2)
  br label %for.inc

for.inc:                                          ; preds = %sw.epilog.i, %if.end.i, %if.then30, %for.body
  %indvars.iv.next = add nuw nsw i32 %indvars.iv, 1
  %exitcond.not = icmp eq i32 %indvars.iv.next, 6
  br i1 %exitcond.not, label %for.end, label %for.body, !llvm.loop !14

for.end:                                          ; preds = %for.inc, %entry, %if.then12
  ret void
}

declare zeroext i1 @visit_type_uint8(ptr noundef, ptr noundef, ptr noundef, ptr noundef) local_unnamed_addr #1

declare void @error_setg_internal(ptr noundef, ptr noundef, i32 noundef, ptr noundef, ptr noundef, ...) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @nvme_enqueue_event(ptr nocapture noundef %n, i8 noundef zeroext %event_type, i8 noundef zeroext %event_info, i8 noundef zeroext %log_page) unnamed_addr #0 {
entry:
  %_now.i.i15 = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ENQUEUE_EVENT_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %1, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_enqueue_event.exit

land.lhs.true5.i.i:                               ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %2, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_enqueue_event.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext nneg i8 %event_type to i32
  %conv12.i.i = zext nneg i8 %event_info to i32
  %conv13.i.i = zext nneg i8 %log_page to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.56, i32 noundef %call10.i.i, i64 noundef %5, i64 noundef %6, i32 noundef %conv11.i.i, i32 noundef %conv12.i.i, i32 noundef %conv13.i.i) #17
  br label %trace_pci_nvme_enqueue_event.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv14.i.i = zext nneg i8 %event_type to i32
  %conv15.i.i = zext nneg i8 %event_info to i32
  %conv16.i.i = zext nneg i8 %log_page to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.57, i32 noundef %conv14.i.i, i32 noundef %conv15.i.i, i32 noundef %conv16.i.i) #17
  br label %trace_pci_nvme_enqueue_event.exit

trace_pci_nvme_enqueue_event.exit:                ; preds = %entry, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %aer_queued = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 30
  %7 = load i32, ptr %aer_queued, align 8
  %aer_max_queued = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 4, i32 6
  %8 = load i32, ptr %aer_max_queued, align 4
  %cmp = icmp eq i32 %7, %8
  br i1 %cmp, label %if.then, label %if.end

if.then:                                          ; preds = %trace_pci_nvme_enqueue_event.exit
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i15)
  %9 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i16 = icmp ne i32 %9, 0
  %10 = load i16, ptr @_TRACE_PCI_NVME_ENQUEUE_EVENT_NOQUEUE_DSTATE, align 2
  %tobool4.i.i17 = icmp ne i16 %10, 0
  %or.cond.i.i18 = select i1 %tobool.i.i16, i1 %tobool4.i.i17, i1 false
  br i1 %or.cond.i.i18, label %land.lhs.true5.i.i19, label %trace_pci_nvme_enqueue_event_noqueue.exit

land.lhs.true5.i.i19:                             ; preds = %if.then
  %11 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i20 = and i32 %11, 32768
  %cmp.i.not.i.i21 = icmp eq i32 %and.i.i.i20, 0
  br i1 %cmp.i.not.i.i21, label %trace_pci_nvme_enqueue_event_noqueue.exit, label %if.then.i.i22

if.then.i.i22:                                    ; preds = %land.lhs.true5.i.i19
  %12 = load i8, ptr @message_with_timestamp, align 1
  %13 = and i8 %12, 1
  %tobool7.not.i.i23 = icmp eq i8 %13, 0
  br i1 %tobool7.not.i.i23, label %if.else.i.i28, label %if.then8.i.i24

if.then8.i.i24:                                   ; preds = %if.then.i.i22
  %call9.i.i25 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i15, ptr noundef null) #17
  %call10.i.i26 = tail call i32 @qemu_get_thread_id() #17
  %14 = load i64, ptr %_now.i.i15, align 8
  %tv_usec.i.i27 = getelementptr inbounds %struct.timeval, ptr %_now.i.i15, i64 0, i32 1
  %15 = load i64, ptr %tv_usec.i.i27, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.58, i32 noundef %call10.i.i26, i64 noundef %14, i64 noundef %15, i32 noundef %7) #17
  br label %trace_pci_nvme_enqueue_event_noqueue.exit

if.else.i.i28:                                    ; preds = %if.then.i.i22
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.59, i32 noundef %7) #17
  br label %trace_pci_nvme_enqueue_event_noqueue.exit

trace_pci_nvme_enqueue_event_noqueue.exit:        ; preds = %if.then, %land.lhs.true5.i.i19, %if.then8.i.i24, %if.else.i.i28
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i15)
  br label %return

if.end:                                           ; preds = %trace_pci_nvme_enqueue_event.exit
  %call = tail call noalias dereferenceable_or_null(24) ptr @g_malloc_n(i64 noundef 1, i64 noundef 24) #19
  %result = getelementptr inbounds %struct.NvmeAsyncEvent, ptr %call, i64 0, i32 1
  store i8 %event_type, ptr %result, align 8
  %.compoundliteral.sroa.2.0.result.sroa_idx = getelementptr inbounds %struct.NvmeAsyncEvent, ptr %call, i64 0, i32 1, i32 1
  store i8 %event_info, ptr %.compoundliteral.sroa.2.0.result.sroa_idx, align 1
  %.compoundliteral.sroa.3.0.result.sroa_idx = getelementptr inbounds %struct.NvmeAsyncEvent, ptr %call, i64 0, i32 1, i32 2
  store i8 %log_page, ptr %.compoundliteral.sroa.3.0.result.sroa_idx, align 2
  %.compoundliteral.sroa.4.0.result.sroa_idx = getelementptr inbounds %struct.NvmeAsyncEvent, ptr %call, i64 0, i32 1, i32 3
  store i8 0, ptr %.compoundliteral.sroa.4.0.result.sroa_idx, align 1
  store ptr null, ptr %call, align 8
  %tql_prev = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 29, i32 0, i32 1
  %16 = load ptr, ptr %tql_prev, align 8
  %tql_prev7 = getelementptr inbounds %struct.QTailQLink, ptr %call, i64 0, i32 1
  store ptr %16, ptr %tql_prev7, align 8
  store ptr %call, ptr %16, align 8
  store ptr %call, ptr %tql_prev, align 8
  %17 = load i32, ptr %aer_queued, align 8
  %inc = add i32 %17, 1
  store i32 %inc, ptr %aer_queued, align 8
  tail call fastcc void @nvme_process_aers(ptr noundef nonnull %n)
  br label %return

return:                                           ; preds = %if.end, %trace_pci_nvme_enqueue_event_noqueue.exit
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @nvme_process_aers(ptr nocapture noundef %opaque) unnamed_addr #0 {
entry:
  %_now.i.i63 = alloca %struct.timeval, align 8
  %_now.i.i49 = alloca %struct.timeval, align 8
  %_now.i.i35 = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %aer_queued = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 30
  %0 = load i32, ptr %aer_queued, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %1 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %1, 0
  %2 = load i16, ptr @_TRACE_PCI_NVME_PROCESS_AERS_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %2, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_process_aers.exit

land.lhs.true5.i.i:                               ; preds = %entry
  %3 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %3, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_process_aers.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %4 = load i8, ptr @message_with_timestamp, align 1
  %5 = and i8 %4, 1
  %tobool7.not.i.i = icmp eq i8 %5, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %6 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %7 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.60, i32 noundef %call10.i.i, i64 noundef %6, i64 noundef %7, i32 noundef %0) #17
  br label %trace_pci_nvme_process_aers.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.61, i32 noundef %0) #17
  br label %trace_pci_nvme_process_aers.exit

trace_pci_nvme_process_aers.exit:                 ; preds = %entry, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %aer_queue = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 29
  %8 = load ptr, ptr %aer_queue, align 8
  %tobool.not81 = icmp eq ptr %8, null
  br i1 %tobool.not81, label %for.end, label %land.rhs.lr.ph

land.rhs.lr.ph:                                   ; preds = %trace_pci_nvme_process_aers.exit
  %outstanding_aers = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 12
  %aer_mask = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 27
  %tv_usec.i.i61 = getelementptr inbounds %struct.timeval, ptr %_now.i.i49, i64 0, i32 1
  %tql_prev21 = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 29, i32 0, i32 1
  %aer_reqs = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 28
  %tv_usec.i.i75 = getelementptr inbounds %struct.timeval, ptr %_now.i.i63, i64 0, i32 1
  %admin_cq = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 39
  br label %land.rhs

land.rhs:                                         ; preds = %land.rhs.lr.ph, %for.inc
  %event.082 = phi ptr [ %8, %land.rhs.lr.ph ], [ %9, %for.inc ]
  %9 = load ptr, ptr %event.082, align 8
  %10 = load i8, ptr %outstanding_aers, align 8
  %tobool2.not = icmp eq i8 %10, 0
  br i1 %tobool2.not, label %if.then, label %if.end

if.then:                                          ; preds = %land.rhs
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i35)
  %11 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i36 = icmp ne i32 %11, 0
  %12 = load i16, ptr @_TRACE_PCI_NVME_NO_OUTSTANDING_AERS_DSTATE, align 2
  %tobool4.i.i37 = icmp ne i16 %12, 0
  %or.cond.i.i38 = select i1 %tobool.i.i36, i1 %tobool4.i.i37, i1 false
  br i1 %or.cond.i.i38, label %land.lhs.true5.i.i39, label %trace_pci_nvme_no_outstanding_aers.exit

land.lhs.true5.i.i39:                             ; preds = %if.then
  %13 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i40 = and i32 %13, 32768
  %cmp.i.not.i.i41 = icmp eq i32 %and.i.i.i40, 0
  br i1 %cmp.i.not.i.i41, label %trace_pci_nvme_no_outstanding_aers.exit, label %if.then.i.i42

if.then.i.i42:                                    ; preds = %land.lhs.true5.i.i39
  %14 = load i8, ptr @message_with_timestamp, align 1
  %15 = and i8 %14, 1
  %tobool7.not.i.i43 = icmp eq i8 %15, 0
  br i1 %tobool7.not.i.i43, label %if.else.i.i48, label %if.then8.i.i44

if.then8.i.i44:                                   ; preds = %if.then.i.i42
  %call9.i.i45 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i35, ptr noundef null) #17
  %call10.i.i46 = tail call i32 @qemu_get_thread_id() #17
  %16 = load i64, ptr %_now.i.i35, align 8
  %tv_usec.i.i47 = getelementptr inbounds %struct.timeval, ptr %_now.i.i35, i64 0, i32 1
  %17 = load i64, ptr %tv_usec.i.i47, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.62, i32 noundef %call10.i.i46, i64 noundef %16, i64 noundef %17) #17
  br label %trace_pci_nvme_no_outstanding_aers.exit

if.else.i.i48:                                    ; preds = %if.then.i.i42
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.63) #17
  br label %trace_pci_nvme_no_outstanding_aers.exit

trace_pci_nvme_no_outstanding_aers.exit:          ; preds = %if.then, %land.lhs.true5.i.i39, %if.then8.i.i44, %if.else.i.i48
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i35)
  br label %for.end

if.end:                                           ; preds = %land.rhs
  %18 = load i8, ptr %aer_mask, align 8
  %conv = zext i8 %18 to i32
  %result3 = getelementptr inbounds %struct.NvmeAsyncEvent, ptr %event.082, i64 0, i32 1
  %19 = load i8, ptr %result3, align 8
  %conv4 = zext nneg i8 %19 to i32
  %shl = shl nuw i32 1, %conv4
  %and = and i32 %shl, %conv
  %tobool5.not = icmp eq i32 %and, 0
  br i1 %tobool5.not, label %do.body, label %if.then6

if.then6:                                         ; preds = %if.end
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i49)
  %20 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i50 = icmp ne i32 %20, 0
  %21 = load i16, ptr @_TRACE_PCI_NVME_AER_MASKED_DSTATE, align 2
  %tobool4.i.i51 = icmp ne i16 %21, 0
  %or.cond.i.i52 = select i1 %tobool.i.i50, i1 %tobool4.i.i51, i1 false
  br i1 %or.cond.i.i52, label %land.lhs.true5.i.i53, label %trace_pci_nvme_aer_masked.exit

land.lhs.true5.i.i53:                             ; preds = %if.then6
  %22 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i54 = and i32 %22, 32768
  %cmp.i.not.i.i55 = icmp eq i32 %and.i.i.i54, 0
  br i1 %cmp.i.not.i.i55, label %trace_pci_nvme_aer_masked.exit, label %if.then.i.i56

if.then.i.i56:                                    ; preds = %land.lhs.true5.i.i53
  %23 = load i8, ptr @message_with_timestamp, align 1
  %24 = and i8 %23, 1
  %tobool7.not.i.i57 = icmp eq i8 %24, 0
  br i1 %tobool7.not.i.i57, label %if.else.i.i62, label %if.then8.i.i58

if.then8.i.i58:                                   ; preds = %if.then.i.i56
  %call9.i.i59 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i49, ptr noundef null) #17
  %call10.i.i60 = tail call i32 @qemu_get_thread_id() #17
  %25 = load i64, ptr %_now.i.i49, align 8
  %26 = load i64, ptr %tv_usec.i.i61, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.64, i32 noundef %call10.i.i60, i64 noundef %25, i64 noundef %26, i32 noundef %conv4, i32 noundef %conv) #17
  br label %trace_pci_nvme_aer_masked.exit

if.else.i.i62:                                    ; preds = %if.then.i.i56
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.65, i32 noundef %conv4, i32 noundef %conv) #17
  br label %trace_pci_nvme_aer_masked.exit

trace_pci_nvme_aer_masked.exit:                   ; preds = %if.then6, %land.lhs.true5.i.i53, %if.then8.i.i58, %if.else.i.i62
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i49)
  br label %for.inc

do.body:                                          ; preds = %if.end
  %cmp.not = icmp eq ptr %9, null
  %tql_prev19 = getelementptr inbounds %struct.QTailQLink, ptr %event.082, i64 0, i32 1
  %27 = load ptr, ptr %tql_prev19, align 8
  %tql_prev17 = getelementptr inbounds %struct.QTailQLink, ptr %9, i64 0, i32 1
  %tql_prev21.sink = select i1 %cmp.not, ptr %tql_prev21, ptr %tql_prev17
  store ptr %27, ptr %tql_prev21.sink, align 8
  %28 = load ptr, ptr %event.082, align 8
  store ptr %28, ptr %27, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %event.082, i8 0, i64 16, i1 false)
  %29 = load i32, ptr %aer_queued, align 8
  %dec = add i32 %29, -1
  store i32 %dec, ptr %aer_queued, align 8
  %30 = load i8, ptr %result3, align 8
  %conv34 = zext nneg i8 %30 to i32
  %shl35 = shl nuw i32 1, %conv34
  %31 = load i8, ptr %aer_mask, align 8
  %32 = trunc i32 %shl35 to i8
  %conv38 = or i8 %31, %32
  store i8 %conv38, ptr %aer_mask, align 8
  %33 = load i8, ptr %outstanding_aers, align 8
  %dec40 = add i8 %33, -1
  store i8 %dec40, ptr %outstanding_aers, align 8
  %34 = load ptr, ptr %aer_reqs, align 16
  %idxprom = zext i8 %dec40 to i64
  %arrayidx = getelementptr ptr, ptr %34, i64 %idxprom
  %35 = load ptr, ptr %arrayidx, align 8
  %cqe = getelementptr inbounds %struct.NvmeRequest, ptr %35, i64 0, i32 5
  %36 = load i8, ptr %result3, align 8
  store i8 %36, ptr %cqe, align 1
  %event_info = getelementptr inbounds %struct.NvmeAsyncEvent, ptr %event.082, i64 0, i32 1, i32 1
  %37 = load i8, ptr %event_info, align 1
  %event_info47 = getelementptr inbounds i8, ptr %35, i64 41
  store i8 %37, ptr %event_info47, align 1
  %log_page = getelementptr inbounds %struct.NvmeAsyncEvent, ptr %event.082, i64 0, i32 1, i32 2
  %38 = load i8, ptr %log_page, align 2
  %log_page49 = getelementptr inbounds i8, ptr %35, i64 42
  store i8 %38, ptr %log_page49, align 1
  tail call void @g_free(ptr noundef nonnull %event.082) #17
  %39 = load i8, ptr %cqe, align 1
  %40 = load i8, ptr %event_info47, align 1
  %41 = load i8, ptr %log_page49, align 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i63)
  %42 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i64 = icmp ne i32 %42, 0
  %43 = load i16, ptr @_TRACE_PCI_NVME_AER_POST_CQE_DSTATE, align 2
  %tobool4.i.i65 = icmp ne i16 %43, 0
  %or.cond.i.i66 = select i1 %tobool.i.i64, i1 %tobool4.i.i65, i1 false
  br i1 %or.cond.i.i66, label %land.lhs.true5.i.i67, label %trace_pci_nvme_aer_post_cqe.exit

land.lhs.true5.i.i67:                             ; preds = %do.body
  %44 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i68 = and i32 %44, 32768
  %cmp.i.not.i.i69 = icmp eq i32 %and.i.i.i68, 0
  br i1 %cmp.i.not.i.i69, label %trace_pci_nvme_aer_post_cqe.exit, label %if.then.i.i70

if.then.i.i70:                                    ; preds = %land.lhs.true5.i.i67
  %45 = load i8, ptr @message_with_timestamp, align 1
  %46 = and i8 %45, 1
  %tobool7.not.i.i71 = icmp eq i8 %46, 0
  br i1 %tobool7.not.i.i71, label %if.else.i.i79, label %if.then8.i.i72

if.then8.i.i72:                                   ; preds = %if.then.i.i70
  %call9.i.i73 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i63, ptr noundef null) #17
  %call10.i.i74 = tail call i32 @qemu_get_thread_id() #17
  %47 = load i64, ptr %_now.i.i63, align 8
  %48 = load i64, ptr %tv_usec.i.i75, align 8
  %conv11.i.i76 = zext i8 %39 to i32
  %conv12.i.i77 = zext i8 %40 to i32
  %conv13.i.i78 = zext i8 %41 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.66, i32 noundef %call10.i.i74, i64 noundef %47, i64 noundef %48, i32 noundef %conv11.i.i76, i32 noundef %conv12.i.i77, i32 noundef %conv13.i.i78) #17
  br label %trace_pci_nvme_aer_post_cqe.exit

if.else.i.i79:                                    ; preds = %if.then.i.i70
  %conv14.i.i80 = zext i8 %39 to i32
  %conv15.i.i = zext i8 %40 to i32
  %conv16.i.i = zext i8 %41 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.67, i32 noundef %conv14.i.i80, i32 noundef %conv15.i.i, i32 noundef %conv16.i.i) #17
  br label %trace_pci_nvme_aer_post_cqe.exit

trace_pci_nvme_aer_post_cqe.exit:                 ; preds = %do.body, %land.lhs.true5.i.i67, %if.then8.i.i72, %if.else.i.i79
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i63)
  tail call fastcc void @nvme_enqueue_req_completion(ptr noundef nonnull %admin_cq, ptr noundef nonnull %35)
  br label %for.inc

for.inc:                                          ; preds = %trace_pci_nvme_aer_post_cqe.exit, %trace_pci_nvme_aer_masked.exit
  %tobool.not = icmp eq ptr %9, null
  br i1 %tobool.not, label %for.end, label %land.rhs, !llvm.loop !15

for.end:                                          ; preds = %for.inc, %trace_pci_nvme_process_aers.exit, %trace_pci_nvme_no_outstanding_aers.exit
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_realize(ptr noundef %pci_dev, ptr noundef %errp) #0 {
entry:
  %err.i.i = alloca ptr, align 8
  %_auto_errp_prop.i = alloca %struct.ErrorPropagator, align 8
  %call = tail call ptr @object_dynamic_cast_assert(ptr noundef %pci_dev, ptr noundef nonnull @.str.49, ptr noundef nonnull @.str.1, i32 noundef 8304, ptr noundef nonnull @__func__.nvme_realize) #17
  %call.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %pci_dev, ptr noundef nonnull @.str.4, ptr noundef nonnull @.str.5, i32 noundef 77, ptr noundef nonnull @__func__.DEVICE) #17
  %call2 = tail call ptr @pcie_sriov_get_pf(ptr noundef %pci_dev) #17
  %call3 = tail call ptr @object_dynamic_cast_assert(ptr noundef %call2, ptr noundef nonnull @.str.49, ptr noundef nonnull @.str.1, i32 noundef 8307, ptr noundef nonnull @__func__.nvme_realize) #17
  %0 = getelementptr i8, ptr %pci_dev, i64 2232
  %pci_dev.val = load ptr, ptr %0, align 8
  %cmp.i.not = icmp eq ptr %pci_dev.val, null
  br i1 %cmp.i.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  %params = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4
  %params5 = getelementptr inbounds %struct.NvmeCtrl, ptr %call3, i64 0, i32 4
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 16 dereferenceable(48) %params, ptr noundef nonnull align 16 dereferenceable(48) %params5, i64 48, i1 false)
  %subsys = getelementptr inbounds %struct.NvmeCtrl, ptr %call3, i64 0, i32 33
  %1 = load ptr, ptr %subsys, align 8
  %subsys6 = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 33
  store ptr %1, ptr %subsys6, align 8
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  %params1.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4
  %num_queues.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 1
  %2 = load i32, ptr %num_queues.i, align 8
  %tobool.not.i = icmp eq i32 %2, 0
  br i1 %tobool.not.i, label %if.end.i, label %if.then.i

if.then.i:                                        ; preds = %if.end
  tail call void (ptr, ...) @warn_report(ptr noundef nonnull @.str.70) #17
  %3 = load i32, ptr %num_queues.i, align 8
  %sub.i = add i32 %3, -1
  %max_ioqpairs.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 2
  store i32 %sub.i, ptr %max_ioqpairs.i, align 4
  br label %if.end.i

if.end.i:                                         ; preds = %if.then.i, %if.end
  %blkconf.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 34, i32 1
  %4 = load ptr, ptr %blkconf.i, align 16
  %tobool3.not.i = icmp eq ptr %4, null
  br i1 %tobool3.not.i, label %if.end6.i, label %land.lhs.true.i

land.lhs.true.i:                                  ; preds = %if.end.i
  %subsys.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 33
  %5 = load ptr, ptr %subsys.i, align 8
  %tobool4.not.i = icmp eq ptr %5, null
  br i1 %tobool4.not.i, label %if.end6.i, label %if.then5.i

if.then5.i:                                       ; preds = %land.lhs.true.i
  tail call void (ptr, ptr, i32, ptr, ptr, ...) @error_setg_internal(ptr noundef %errp, ptr noundef nonnull @.str.1, i32 noundef 7777, ptr noundef nonnull @__func__.nvme_check_params, ptr noundef nonnull @.str.71) #17
  br label %if.end25

if.end6.i:                                        ; preds = %land.lhs.true.i, %if.end.i
  %max_ioqpairs7.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 2
  %6 = load i32, ptr %max_ioqpairs7.i, align 4
  %7 = add i32 %6, -65536
  %or.cond.i = icmp ult i32 %7, -65535
  br i1 %or.cond.i, label %if.then10.i, label %if.end11.i

if.then10.i:                                      ; preds = %if.end6.i
  tail call void (ptr, ptr, i32, ptr, ptr, ...) @error_setg_internal(ptr noundef %errp, ptr noundef nonnull @.str.1, i32 noundef 7784, ptr noundef nonnull @__func__.nvme_check_params, ptr noundef nonnull @.str.72, i32 noundef 65535) #17
  br label %if.end25

if.end11.i:                                       ; preds = %if.end6.i
  %msix_qsize.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 3
  %8 = load i16, ptr %msix_qsize.i, align 8
  %9 = add i16 %8, -2049
  %or.cond62.i = icmp ult i16 %9, -2048
  br i1 %or.cond62.i, label %if.then19.i, label %if.end20.i

if.then19.i:                                      ; preds = %if.end11.i
  tail call void (ptr, ptr, i32, ptr, ptr, ...) @error_setg_internal(ptr noundef %errp, ptr noundef nonnull @.str.1, i32 noundef 7791, ptr noundef nonnull @__func__.nvme_check_params, ptr noundef nonnull @.str.73, i32 noundef 2048) #17
  br label %if.end25

if.end20.i:                                       ; preds = %if.end11.i
  %10 = load ptr, ptr %params1.i, align 8
  %tobool21.not.i = icmp eq ptr %10, null
  br i1 %tobool21.not.i, label %if.then22.i, label %if.end23.i

if.then22.i:                                      ; preds = %if.end20.i
  tail call void (ptr, ptr, i32, ptr, ptr, ...) @error_setg_internal(ptr noundef %errp, ptr noundef nonnull @.str.1, i32 noundef 7796, ptr noundef nonnull @__func__.nvme_check_params, ptr noundef nonnull @.str.74) #17
  br label %if.end25

if.end23.i:                                       ; preds = %if.end20.i
  %pmr.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 26
  %11 = load ptr, ptr %pmr.i, align 16
  %tobool24.not.i = icmp eq ptr %11, null
  br i1 %tobool24.not.i, label %if.end40.i, label %if.then25.i

if.then25.i:                                      ; preds = %if.end23.i
  %call.i23 = tail call zeroext i1 @host_memory_backend_is_mapped(ptr noundef nonnull %11) #17
  %12 = load ptr, ptr %pmr.i, align 16
  br i1 %call.i23, label %if.then28.i, label %if.end32.i

if.then28.i:                                      ; preds = %if.then25.i
  %call31.i = tail call ptr @object_get_canonical_path_component(ptr noundef %12) #17
  tail call void (ptr, ptr, i32, ptr, ptr, ...) @error_setg_internal(ptr noundef %errp, ptr noundef nonnull @.str.1, i32 noundef 7803, ptr noundef nonnull @__func__.nvme_check_params, ptr noundef nonnull @.str.75, ptr noundef %call31.i) #17
  br label %if.end25

if.end32.i:                                       ; preds = %if.then25.i
  %size.i = getelementptr inbounds %struct.HostMemoryBackend, ptr %12, i64 0, i32 1
  %13 = load i64, ptr %size.i, align 8
  %14 = tail call i64 @llvm.ctpop.i64(i64 %13), !range !16
  %or.cond64.i = icmp eq i64 %14, 1
  br i1 %or.cond64.i, label %if.end37.i, label %if.then36.i

if.then36.i:                                      ; preds = %if.end32.i
  tail call void (ptr, ptr, i32, ptr, ptr, ...) @error_setg_internal(ptr noundef %errp, ptr noundef nonnull @.str.1, i32 noundef 7808, ptr noundef nonnull @__func__.nvme_check_params, ptr noundef nonnull @.str.76) #17
  br label %if.end25

if.end37.i:                                       ; preds = %if.end32.i
  tail call void @host_memory_backend_set_mapped(ptr noundef nonnull %12, i1 noundef zeroext true) #17
  br label %if.end40.i

if.end40.i:                                       ; preds = %if.end37.i, %if.end23.i
  %zasl.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 10
  %15 = load i8, ptr %zasl.i, align 1
  %mdts.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 7
  %16 = load i8, ptr %mdts.i, align 16
  %cmp45.i = icmp ugt i8 %15, %16
  br i1 %cmp45.i, label %if.then47.i, label %if.end48.i

if.then47.i:                                      ; preds = %if.end40.i
  tail call void (ptr, ptr, i32, ptr, ptr, ...) @error_setg_internal(ptr noundef %errp, ptr noundef nonnull @.str.1, i32 noundef 7817, ptr noundef nonnull @__func__.nvme_check_params, ptr noundef nonnull @.str.77) #17
  br label %if.end25

if.end48.i:                                       ; preds = %if.end40.i
  %vsl.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 8
  %17 = load i8, ptr %vsl.i, align 1
  %tobool50.not.i = icmp eq i8 %17, 0
  br i1 %tobool50.not.i, label %if.then51.i, label %if.end52.i

if.then51.i:                                      ; preds = %if.end48.i
  tail call void (ptr, ptr, i32, ptr, ptr, ...) @error_setg_internal(ptr noundef %errp, ptr noundef nonnull @.str.1, i32 noundef 7822, ptr noundef nonnull @__func__.nvme_check_params, ptr noundef nonnull @.str.78) #17
  br label %if.end25

if.end52.i:                                       ; preds = %if.end48.i
  %sriov_max_vfs.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 14
  %18 = load i8, ptr %sriov_max_vfs.i, align 1
  %tobool53.not.i = icmp eq i8 %18, 0
  br i1 %tobool53.not.i, label %if.end9, label %if.then54.i

if.then54.i:                                      ; preds = %if.end52.i
  %subsys55.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 33
  %19 = load ptr, ptr %subsys55.i, align 8
  %tobool56.not.i = icmp eq ptr %19, null
  br i1 %tobool56.not.i, label %if.then57.i, label %if.end58.i

if.then57.i:                                      ; preds = %if.then54.i
  tail call void (ptr, ptr, i32, ptr, ptr, ...) @error_setg_internal(ptr noundef %errp, ptr noundef nonnull @.str.1, i32 noundef 7828, ptr noundef nonnull @__func__.nvme_check_params, ptr noundef nonnull @.str.79) #17
  br label %if.end25

if.end58.i:                                       ; preds = %if.then54.i
  %conv60.i = zext i8 %18 to i32
  %cmp61.i = icmp slt i8 %18, 0
  br i1 %cmp61.i, label %if.then63.i, label %if.end64.i

if.then63.i:                                      ; preds = %if.end58.i
  tail call void (ptr, ptr, i32, ptr, ptr, ...) @error_setg_internal(ptr noundef %errp, ptr noundef nonnull @.str.1, i32 noundef 7834, ptr noundef nonnull @__func__.nvme_check_params, ptr noundef nonnull @.str.80, i32 noundef 127) #17
  br label %if.end25

if.end64.i:                                       ; preds = %if.end58.i
  %cmb_size_mb.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 4
  %20 = load i32, ptr %cmb_size_mb.i, align 4
  %tobool65.not.i = icmp eq i32 %20, 0
  br i1 %tobool65.not.i, label %if.end67.i, label %if.then66.i

if.then66.i:                                      ; preds = %if.end64.i
  tail call void (ptr, ptr, i32, ptr, ptr, ...) @error_setg_internal(ptr noundef %errp, ptr noundef nonnull @.str.1, i32 noundef 7839, ptr noundef nonnull @__func__.nvme_check_params, ptr noundef nonnull @.str.81) #17
  br label %if.end25

if.end67.i:                                       ; preds = %if.end64.i
  %21 = load ptr, ptr %pmr.i, align 16
  %tobool70.not.i = icmp eq ptr %21, null
  br i1 %tobool70.not.i, label %if.end72.i, label %if.then71.i

if.then71.i:                                      ; preds = %if.end67.i
  tail call void (ptr, ptr, i32, ptr, ptr, ...) @error_setg_internal(ptr noundef %errp, ptr noundef nonnull @.str.1, i32 noundef 7844, ptr noundef nonnull @__func__.nvme_check_params, ptr noundef nonnull @.str.82) #17
  br label %if.end25

if.end72.i:                                       ; preds = %if.end67.i
  %sriov_vq_flexible.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 15
  %22 = load i16, ptr %sriov_vq_flexible.i, align 8
  %tobool73.not.i = icmp eq i16 %22, 0
  br i1 %tobool73.not.i, label %if.then76.i, label %lor.lhs.false74.i

lor.lhs.false74.i:                                ; preds = %if.end72.i
  %sriov_vi_flexible.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 16
  %23 = load i16, ptr %sriov_vi_flexible.i, align 2
  %tobool75.not.i = icmp eq i16 %23, 0
  br i1 %tobool75.not.i, label %if.then76.i, label %if.end77.i

if.then76.i:                                      ; preds = %lor.lhs.false74.i, %if.end72.i
  tail call void (ptr, ptr, i32, ptr, ptr, ...) @error_setg_internal(ptr noundef %errp, ptr noundef nonnull @.str.1, i32 noundef 7850, ptr noundef nonnull @__func__.nvme_check_params, ptr noundef nonnull @.str.83) #17
  br label %if.end25

if.end77.i:                                       ; preds = %lor.lhs.false74.i
  %conv79.i = zext i16 %22 to i32
  %mul.i = shl nuw nsw i32 %conv60.i, 1
  %cmp82.i = icmp ugt i32 %mul.i, %conv79.i
  br i1 %cmp82.i, label %if.then84.i, label %if.end88.i

if.then84.i:                                      ; preds = %if.end77.i
  tail call void (ptr, ptr, i32, ptr, ptr, ...) @error_setg_internal(ptr noundef %errp, ptr noundef nonnull @.str.1, i32 noundef 7856, ptr noundef nonnull @__func__.nvme_check_params, ptr noundef nonnull @.str.84, i32 noundef %mul.i) #17
  br label %if.end25

if.end88.i:                                       ; preds = %if.end77.i
  %24 = load i32, ptr %max_ioqpairs7.i, align 4
  %add.i = add nuw nsw i32 %conv79.i, 2
  %cmp92.i = icmp ult i32 %24, %add.i
  br i1 %cmp92.i, label %if.then94.i, label %if.end95.i

if.then94.i:                                      ; preds = %if.end88.i
  tail call void (ptr, ptr, i32, ptr, ptr, ...) @error_setg_internal(ptr noundef %errp, ptr noundef nonnull @.str.1, i32 noundef 7862, ptr noundef nonnull @__func__.nvme_check_params, ptr noundef nonnull @.str.85) #17
  br label %if.end25

if.end95.i:                                       ; preds = %if.end88.i
  %25 = zext nneg i8 %18 to i16
  %cmp100.i = icmp ult i16 %23, %25
  br i1 %cmp100.i, label %if.then102.i, label %if.end105.i

if.then102.i:                                     ; preds = %if.end95.i
  tail call void (ptr, ptr, i32, ptr, ptr, ...) @error_setg_internal(ptr noundef %errp, ptr noundef nonnull @.str.1, i32 noundef 7868, ptr noundef nonnull @__func__.nvme_check_params, ptr noundef nonnull @.str.86, i32 noundef %conv60.i) #17
  br label %if.end25

if.end105.i:                                      ; preds = %if.end95.i
  %26 = load i16, ptr %msix_qsize.i, align 8
  %cmp111.not.i = icmp ult i16 %23, %26
  br i1 %cmp111.not.i, label %if.end114.i, label %if.then113.i

if.then113.i:                                     ; preds = %if.end105.i
  tail call void (ptr, ptr, i32, ptr, ptr, ...) @error_setg_internal(ptr noundef %errp, ptr noundef nonnull @.str.1, i32 noundef 7874, ptr noundef nonnull @__func__.nvme_check_params, ptr noundef nonnull @.str.87) #17
  br label %if.end25

if.end114.i:                                      ; preds = %if.end105.i
  %sriov_max_vq_per_vf.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 17
  %27 = load i8, ptr %sriov_max_vq_per_vf.i, align 4
  %cond.i = icmp eq i8 %27, 1
  br i1 %cond.i, label %if.then137.i, label %if.end9

if.then137.i:                                     ; preds = %if.end114.i
  tail call void (ptr, ptr, i32, ptr, ptr, ...) @error_setg_internal(ptr noundef %errp, ptr noundef nonnull @.str.1, i32 noundef 7891, ptr noundef nonnull @__func__.nvme_check_params, ptr noundef nonnull @.str.89, i32 noundef 1) #17
  br label %if.end25

if.end9:                                          ; preds = %if.end114.i, %if.end52.i
  %bus = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 5
  %id = getelementptr inbounds %struct.DeviceState, ptr %call.i, i64 0, i32 1
  %28 = load ptr, ptr %id, align 8
  tail call void @qbus_init(ptr noundef nonnull %bus, i64 noundef 120, ptr noundef nonnull @.str.69, ptr noundef %call.i, ptr noundef %28) #17
  %subsys.i24 = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 33
  %29 = load ptr, ptr %subsys.i24, align 8
  %tobool.not.i25 = icmp eq ptr %29, null
  br i1 %tobool.not.i25, label %if.end13, label %if.end.i26

if.end.i26:                                       ; preds = %if.end9
  %call.i27 = tail call i32 @nvme_subsys_register_ctrl(ptr noundef nonnull %call, ptr noundef %errp) #17
  %cmp.i28 = icmp slt i32 %call.i27, 0
  br i1 %cmp.i28, label %if.end25, label %if.end2.i

if.end2.i:                                        ; preds = %if.end.i26
  %conv.i29 = trunc i32 %call.i27 to i16
  %cntlid3.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 6
  store i16 %conv.i29, ptr %cntlid3.i, align 8
  br label %if.end13

if.end13:                                         ; preds = %if.end2.i, %if.end9
  %pri_ctrl_cap.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 42
  %sec_ctrl_list.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 43
  %call.i.i = tail call ptr @object_dynamic_cast_assert(ptr noundef nonnull %call, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %30 = getelementptr i8, ptr %call.i.i, i64 2232
  %call.val73.i = load ptr, ptr %30, align 8
  %cmp.i.not.i = icmp eq ptr %call.val73.i, null
  br i1 %cmp.i.not.i, label %if.else.i, label %if.then.i31

if.then.i31:                                      ; preds = %if.end13
  %call.i74.i = tail call ptr @pcie_sriov_get_pf(ptr noundef nonnull %call) #17
  %call1.i.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %call.i74.i, ptr noundef nonnull @.str.49, ptr noundef nonnull @.str.39, i32 noundef 647, ptr noundef nonnull @__func__.nvme_sctrl) #17
  %31 = getelementptr i8, ptr %call, i64 2232
  %n.val.i.i = load ptr, ptr %31, align 8
  %cmp.i.not.i.i = icmp ne ptr %n.val.i.i, null
  tail call void @llvm.assume(i1 %cmp.i.not.i.i)
  %call3.i.i = tail call zeroext i16 @pcie_sriov_vf_number(ptr noundef nonnull %call) #17
  %idxprom.i.i = zext i16 %call3.i.i to i64
  %nvq.i = getelementptr %struct.NvmeCtrl, ptr %call1.i.i, i64 0, i32 43, i32 2, i64 %idxprom.i.i, i32 5
  %32 = load i16, ptr %nvq.i, align 1
  %tobool3.not.i32 = icmp eq i16 %32, 0
  %conv6.i = zext i16 %32 to i32
  %sub.i33 = add nsw i32 %conv6.i, -1
  %cond.i34 = select i1 %tobool3.not.i32, i32 0, i32 %sub.i33
  %conf_ioqpairs.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 21
  store i32 %cond.i34, ptr %conf_ioqpairs.i, align 8
  %nvi.i = getelementptr %struct.NvmeCtrl, ptr %call1.i.i, i64 0, i32 43, i32 2, i64 %idxprom.i.i, i32 6
  %33 = load i16, ptr %nvi.i, align 1
  %narrow.i = tail call i16 @llvm.umax.i16(i16 %33, i16 1)
  %.pre.i = load i32, ptr %max_ioqpairs7.i, align 4
  br label %if.end.i35

if.else.i:                                        ; preds = %if.end13
  %34 = load i8, ptr %sriov_max_vfs.i, align 1
  %35 = load i32, ptr %max_ioqpairs7.i, align 4
  %conf_ioqpairs17.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 21
  store i32 %35, ptr %conf_ioqpairs17.i, align 8
  %36 = load i16, ptr %msix_qsize.i, align 16
  br label %if.end.i35

if.end.i35:                                       ; preds = %if.else.i, %if.then.i31
  %37 = phi i32 [ %35, %if.else.i ], [ %.pre.i, %if.then.i31 ]
  %cond15.sink.in.i = phi i16 [ %36, %if.else.i ], [ %narrow.i, %if.then.i31 ]
  %max_vfs.0.i = phi i8 [ %34, %if.else.i ], [ 0, %if.then.i31 ]
  %cond15.sink.i = zext i16 %cond15.sink.in.i to i32
  %38 = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 20
  store i32 %cond15.sink.i, ptr %38, align 4
  %add.i36 = add i32 %37, 1
  %conv23.i = zext i32 %add.i36 to i64
  %call24.i = tail call noalias ptr @g_malloc0_n(i64 noundef %conv23.i, i64 noundef 8) #19
  %sq.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 36
  store ptr %call24.i, ptr %sq.i, align 16
  %39 = load i32, ptr %max_ioqpairs7.i, align 4
  %add27.i = add i32 %39, 1
  %conv28.i = zext i32 %add27.i to i64
  %call29.i = tail call noalias ptr @g_malloc0_n(i64 noundef %conv28.i, i64 noundef 8) #19
  %cq.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 37
  store ptr %call29.i, ptr %cq.i, align 8
  %temperature.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 18
  store i16 323, ptr %temperature.i, align 16
  %features.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 41
  store i16 343, ptr %features.i, align 16
  %call.i75.i = tail call i64 @qemu_clock_get_ns(i32 noundef 1) #17
  %div.i.i = sdiv i64 %call.i75.i, 1000000
  %starttime_ms.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 17
  store i64 %div.i.i, ptr %starttime_ms.i, align 8
  %aerl.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 5
  %40 = load i8, ptr %aerl.i, align 8
  %conv32.i = zext i8 %40 to i64
  %add33.i = add nuw nsw i64 %conv32.i, 1
  %call35.i = tail call noalias ptr @g_malloc0_n(i64 noundef %add33.i, i64 noundef 8) #19
  %aer_reqs.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 28
  store ptr %call35.i, ptr %aer_reqs.i, align 16
  %aer_queue.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 29
  store ptr null, ptr %aer_queue.i, align 8
  %tql_prev.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 29, i32 0, i32 1
  store ptr %aer_queue.i, ptr %tql_prev.i, align 8
  store i8 %max_vfs.0.i, ptr %sec_ctrl_list.i, align 1
  %conv41.i = zext i8 %max_vfs.0.i to i32
  %cmp82.not.i = icmp eq i8 %max_vfs.0.i, 0
  %cntlid47.phi.trans.insert.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 6
  %.pre85.i = load i16, ptr %cntlid47.phi.trans.insert.i, align 8
  br i1 %cmp82.not.i, label %for.end.i, label %for.body.lr.ph.i

for.body.lr.ph.i:                                 ; preds = %if.end.i35
  %wide.trip.count.i = zext i8 %max_vfs.0.i to i64
  br label %for.body.i

for.body.i:                                       ; preds = %for.body.i, %for.body.lr.ph.i
  %indvars.iv.i = phi i64 [ 0, %for.body.lr.ph.i ], [ %indvars.iv.next.i, %for.body.i ]
  %pcid.i = getelementptr %struct.NvmeCtrl, ptr %call, i64 0, i32 43, i32 2, i64 %indvars.iv.i, i32 1
  store i16 %.pre85.i, ptr %pcid.i, align 1
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  %vfn.i = getelementptr %struct.NvmeCtrl, ptr %call, i64 0, i32 43, i32 2, i64 %indvars.iv.i, i32 4
  %41 = trunc i64 %indvars.iv.next.i to i16
  store i16 %41, ptr %vfn.i, align 1
  %exitcond.not.i = icmp eq i64 %indvars.iv.next.i, %wide.trip.count.i
  br i1 %exitcond.not.i, label %for.end.i, label %for.body.i, !llvm.loop !17

for.end.i:                                        ; preds = %for.body.i, %if.end.i35
  store i16 %.pre85.i, ptr %pri_ctrl_cap.i, align 1
  %crt.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 42, i32 2
  store i8 3, ptr %crt.i, align 1
  %call.val72.i = load ptr, ptr %30, align 8
  %cmp.i76.not.i = icmp eq ptr %call.val72.i, null
  br i1 %cmp.i76.not.i, label %if.else57.i, label %if.then52.i

if.then52.i:                                      ; preds = %for.end.i
  %conf_ioqpairs53.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 21
  %42 = load i32, ptr %conf_ioqpairs53.i, align 8
  %43 = trunc i32 %42 to i16
  %conv55.i = add i16 %43, 1
  %vqprt.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 42, i32 7
  store i16 %conv55.i, ptr %vqprt.i, align 1
  br label %if.end95.i37

if.else57.i:                                      ; preds = %for.end.i
  %44 = load i32, ptr %max_ioqpairs7.i, align 4
  %sriov_vq_flexible.i39 = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 15
  %45 = load i16, ptr %sriov_vq_flexible.i39, align 8
  %46 = trunc i32 %44 to i16
  %47 = add i16 %46, 1
  %conv64.i = sub i16 %47, %45
  %vqprt66.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 42, i32 7
  store i16 %conv64.i, ptr %vqprt66.i, align 1
  %conv69.i = zext i16 %45 to i32
  %vqfrt.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 42, i32 4
  store i32 %conv69.i, ptr %vqfrt.i, align 1
  %vqrfap.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 42, i32 6
  store i16 %45, ptr %vqrfap.i, align 1
  %vqgran.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 42, i32 9
  store i16 1, ptr %vqgran.i, align 1
  %sriov_max_vq_per_vf.i40 = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 17
  %48 = load i8, ptr %sriov_max_vq_per_vf.i40, align 4
  %tobool76.not.i = icmp eq i8 %48, 0
  br i1 %tobool76.not.i, label %cond.false83.i, label %cond.true77.i

cond.true77.i:                                    ; preds = %if.else57.i
  %conv80.i = zext i8 %48 to i16
  br label %cond.end92.i

cond.false83.i:                                   ; preds = %if.else57.i
  %cond91.i = tail call i32 @llvm.umax.i32(i32 %conv41.i, i32 1)
  %div.rhs.trunc.i = trunc i32 %cond91.i to i16
  %div80.i = udiv i16 %45, %div.rhs.trunc.i
  br label %cond.end92.i

cond.end92.i:                                     ; preds = %cond.false83.i, %cond.true77.i
  %cond93.i = phi i16 [ %conv80.i, %cond.true77.i ], [ %div80.i, %cond.false83.i ]
  %vqfrsm.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 42, i32 8
  store i16 %cond93.i, ptr %vqfrsm.i, align 1
  br label %if.end95.i37

if.end95.i37:                                     ; preds = %cond.end92.i, %if.then52.i
  %call.val.i = load ptr, ptr %30, align 8
  %cmp.i78.not.i = icmp eq ptr %call.val.i, null
  br i1 %cmp.i78.not.i, label %if.else102.i, label %if.then98.i

if.then98.i:                                      ; preds = %if.end95.i37
  %49 = load i32, ptr %38, align 4
  %conv100.i = trunc i32 %49 to i16
  %viprt.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 42, i32 14
  store i16 %conv100.i, ptr %viprt.i, align 1
  br label %nvme_init_state.exit

if.else102.i:                                     ; preds = %if.end95.i37
  %50 = load i16, ptr %msix_qsize.i, align 16
  %sriov_vi_flexible.i38 = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 16
  %51 = load i16, ptr %sriov_vi_flexible.i38, align 2
  %sub108.i = sub i16 %50, %51
  %viprt111.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 42, i32 14
  store i16 %sub108.i, ptr %viprt111.i, align 1
  %conv114.i = zext i16 %51 to i32
  %vifrt.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 42, i32 11
  store i32 %conv114.i, ptr %vifrt.i, align 1
  %virfap.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 42, i32 13
  store i16 %51, ptr %virfap.i, align 1
  %vigran.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 42, i32 16
  store i16 1, ptr %vigran.i, align 1
  %sriov_max_vi_per_vf.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 18
  %52 = load i8, ptr %sriov_max_vi_per_vf.i, align 1
  %tobool121.not.i = icmp eq i8 %52, 0
  br i1 %tobool121.not.i, label %cond.false128.i, label %cond.true122.i

cond.true122.i:                                   ; preds = %if.else102.i
  %conv125.i = zext i8 %52 to i16
  br label %cond.end139.i

cond.false128.i:                                  ; preds = %if.else102.i
  %cond137.i = tail call i32 @llvm.umax.i32(i32 %conv41.i, i32 1)
  %div138.rhs.trunc.i = trunc i32 %cond137.i to i16
  %div13881.i = udiv i16 %51, %div138.rhs.trunc.i
  br label %cond.end139.i

cond.end139.i:                                    ; preds = %cond.false128.i, %cond.true122.i
  %cond140.i = phi i16 [ %conv125.i, %cond.true122.i ], [ %div13881.i, %cond.false128.i ]
  %vifrsm.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 42, i32 15
  store i16 %cond140.i, ptr %vifrsm.i, align 1
  br label %nvme_init_state.exit

nvme_init_state.exit:                             ; preds = %if.then98.i, %cond.end139.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_auto_errp_prop.i)
  store ptr null, ptr %_auto_errp_prop.i, align 8
  %errp1.i = getelementptr inbounds %struct.ErrorPropagator, ptr %_auto_errp_prop.i, i64 0, i32 1
  store ptr %errp, ptr %errp1.i, align 8
  %tobool.i = icmp eq ptr %errp, null
  %cmp.i44 = icmp eq ptr %errp, @error_fatal
  %or.cond.i45 = or i1 %tobool.i, %cmp.i44
  %spec.select.i = select i1 %or.cond.i45, ptr %_auto_errp_prop.i, ptr %errp
  %config.i = getelementptr inbounds %struct.PCIDevice, ptr %pci_dev, i64 0, i32 3
  %53 = load ptr, ptr %config.i, align 8
  %arrayidx.i = getelementptr i8, ptr %53, i64 61
  store i8 1, ptr %arrayidx.i, align 1
  %arrayidx.i.i = getelementptr i8, ptr %53, i64 9
  store i8 2, ptr %arrayidx.i.i, align 1
  %use_intel_id.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 9
  %54 = load i8, ptr %use_intel_id.i, align 2
  %55 = and i8 %54, 1
  %tobool3.not.i46 = icmp eq i8 %55, 0
  %spec.select71.i = select i1 %tobool3.not.i46, i16 6966, i16 -32634
  %spec.select72.i = select i1 %tobool3.not.i46, i16 16, i16 22597
  store i16 %spec.select71.i, ptr %53, align 1
  %56 = getelementptr i8, ptr %53, i64 2
  store i16 %spec.select72.i, ptr %56, align 1
  %arrayidx.i52.i = getelementptr i8, ptr %53, i64 10
  store i16 264, ptr %arrayidx.i52.i, align 1
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %err.i.i)
  store ptr null, ptr %err.i.i, align 8
  %call.i.i47 = call i32 @pci_add_capability(ptr noundef nonnull %pci_dev, i8 noundef zeroext 1, i8 noundef zeroext 96, i8 noundef zeroext 8, ptr noundef nonnull %err.i.i) #17
  %57 = load ptr, ptr %err.i.i, align 8
  %tobool.not.i.i = icmp eq ptr %57, null
  br i1 %tobool.not.i.i, label %if.end.i.i, label %if.then.i.i

if.then.i.i:                                      ; preds = %nvme_init_state.exit
  call void @error_report_err(ptr noundef nonnull %57) #17
  br label %nvme_add_pm_capability.exit.i

if.end.i.i:                                       ; preds = %nvme_init_state.exit
  %58 = load ptr, ptr %config.i, align 8
  %add.ptr1.i.i = getelementptr i8, ptr %58, i64 98
  store i16 3, ptr %add.ptr1.i.i, align 1
  %59 = load ptr, ptr %config.i, align 8
  %add.ptr6.i.i = getelementptr i8, ptr %59, i64 100
  store i16 8, ptr %add.ptr6.i.i, align 1
  %wmask.i.i = getelementptr inbounds %struct.PCIDevice, ptr %pci_dev, i64 0, i32 5
  %60 = load ptr, ptr %wmask.i.i, align 8
  %add.ptr10.i.i = getelementptr i8, ptr %60, i64 100
  store i16 3, ptr %add.ptr10.i.i, align 1
  br label %nvme_add_pm_capability.exit.i

nvme_add_pm_capability.exit.i:                    ; preds = %if.end.i.i, %if.then.i.i
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %err.i.i)
  %call6.i = call i32 @pcie_endpoint_cap_init(ptr noundef nonnull %pci_dev, i8 noundef zeroext -128) #17
  call void @pcie_cap_flr_init(ptr noundef nonnull %pci_dev) #17
  %61 = load i8, ptr %sriov_max_vfs.i, align 1
  %tobool8.not.i = icmp eq i8 %61, 0
  br i1 %tobool8.not.i, label %if.end10.i, label %if.then9.i

if.then9.i:                                       ; preds = %nvme_add_pm_capability.exit.i
  call void @pcie_ari_init(ptr noundef nonnull %pci_dev, i16 noundef zeroext 256) #17
  br label %if.end10.i

if.end10.i:                                       ; preds = %if.then9.i, %nvme_add_pm_capability.exit.i
  %62 = load i32, ptr %max_ioqpairs7.i, align 4
  %63 = load i16, ptr %msix_qsize.i, align 16
  %conv.i51 = zext i16 %63 to i32
  %add.i52 = shl i32 %62, 3
  %mul1.i.i = add i32 %add.i52, 8
  %conv.i.i = zext i32 %mul1.i.i to i64
  %sub.i.i = add nuw nsw i64 %conv.i.i, 8191
  %div11.i.i = and i64 %sub.i.i, 8589930496
  %conv4.i.i = trunc i64 %div11.i.i to i32
  %mul5.i.i = shl nuw nsw i32 %conv.i51, 4
  %narrow.i.i = add nuw nsw i32 %mul5.i.i, 4095
  %add7.i.i = zext nneg i32 %narrow.i.i to i64
  %sub9.i.i = add nuw nsw i64 %div11.i.i, %add7.i.i
  %div1012.i.i = and i64 %sub9.i.i, 17179865088
  %conv14.i.i = trunc i64 %div1012.i.i to i32
  %sub17.i.i = add nuw nsw i32 %conv.i51, 63
  %div1813.i.i = lshr i32 %sub17.i.i, 3
  %div2014.i.i = and i32 %div1813.i.i, 16376
  %conv21.i.i = zext nneg i32 %div2014.i.i to i64
  %add22.i.i = add nsw i64 %conv21.i.i, -1
  %sub.i.i.i = add nsw i64 %add22.i.i, %div1012.i.i
  %64 = call i64 @llvm.ctlz.i64(i64 %sub.i.i.i, i1 true), !range !16
  %sub2.i.i.i = add nuw nsw i64 %64, 4294967295
  %sh_prom.i.i.i = and i64 %sub2.i.i.i, 4294967295
  %shr.i.i.i = lshr exact i64 -9223372036854775808, %sh_prom.i.i.i
  %bar0.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 1
  call void @memory_region_init(ptr noundef nonnull %bar0.i, ptr noundef nonnull %call, ptr noundef nonnull @.str.90, i64 noundef %shr.i.i.i) #17
  %iomem.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 2
  %conv14.i = and i64 %sub.i.i, 4294963200
  call void @memory_region_init_io(ptr noundef nonnull %iomem.i, ptr noundef nonnull %call, ptr noundef nonnull @nvme_mmio_ops, ptr noundef nonnull %call, ptr noundef nonnull @.str.49, i64 noundef %conv14.i) #17
  call void @memory_region_add_subregion(ptr noundef nonnull %bar0.i, i64 noundef 0, ptr noundef nonnull %iomem.i) #17
  %pci_dev.val48.i = load ptr, ptr %0, align 8
  %cmp.i.not.i53 = icmp eq ptr %pci_dev.val48.i, null
  br i1 %cmp.i.not.i53, label %if.else21.i, label %if.then19.i54

if.then19.i54:                                    ; preds = %if.end10.i
  call void @pcie_sriov_vf_register_bar(ptr noundef nonnull %pci_dev, i32 noundef 0, ptr noundef nonnull %bar0.i) #17
  br label %if.end23.i55

if.else21.i:                                      ; preds = %if.end10.i
  call void @pci_register_bar(ptr noundef nonnull %pci_dev, i32 noundef 0, i8 noundef zeroext 4, ptr noundef nonnull %bar0.i) #17
  br label %if.end23.i55

if.end23.i55:                                     ; preds = %if.else21.i, %if.then19.i54
  %65 = load i16, ptr %msix_qsize.i, align 16
  %call28.i = call i32 @msix_init(ptr noundef nonnull %pci_dev, i16 noundef zeroext %65, ptr noundef nonnull %bar0.i, i8 noundef zeroext 0, i32 noundef %conv4.i.i, ptr noundef nonnull %bar0.i, i8 noundef zeroext 0, i32 noundef %conv14.i.i, i8 noundef zeroext 0, ptr noundef nonnull %spec.select.i) #17
  %cmp29.i = icmp eq i32 %call28.i, -95
  br i1 %cmp29.i, label %if.then31.i, label %if.else32.i

if.then31.i:                                      ; preds = %if.end23.i55
  %66 = load ptr, ptr %spec.select.i, align 8
  call void @warn_report_err(ptr noundef %66) #17
  store ptr null, ptr %spec.select.i, align 8
  br label %if.end37.i56

if.else32.i:                                      ; preds = %if.end23.i55
  %cmp33.i = icmp slt i32 %call28.i, 0
  br i1 %cmp33.i, label %nvme_init_pci.exit, label %if.end37.i56

if.end37.i56:                                     ; preds = %if.else32.i, %if.then31.i
  %67 = load i32, ptr %38, align 4
  %call.i56.i = call i32 @msix_present(ptr noundef nonnull %pci_dev) #17
  %tobool.not.i57.i = icmp eq i32 %call.i56.i, 0
  br i1 %tobool.not.i57.i, label %nvme_update_msixcap_ts.exit.i, label %if.end.i58.i

if.end.i58.i:                                     ; preds = %if.end37.i56
  %cmp.not.i.i = icmp eq i32 %67, 0
  br i1 %cmp.not.i.i, label %if.else.i.i, label %land.lhs.true.i.i

land.lhs.true.i.i:                                ; preds = %if.end.i58.i
  %msix_entries_nr.i.i = getelementptr inbounds %struct.PCIDevice, ptr %pci_dev, i64 0, i32 22
  %68 = load i32, ptr %msix_entries_nr.i.i, align 4
  %cmp1.not.i.i = icmp ult i32 %68, %67
  br i1 %cmp1.not.i.i, label %if.else.i.i, label %if.end3.i.i

if.else.i.i:                                      ; preds = %land.lhs.true.i.i, %if.end.i58.i
  call void @__assert_fail(ptr noundef nonnull @.str.479, ptr noundef nonnull @.str.1, i32 noundef 7048, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_update_msixcap_ts) #18
  unreachable

if.end3.i.i:                                      ; preds = %land.lhs.true.i.i
  %69 = load ptr, ptr %config.i, align 8
  %msix_cap.i.i = getelementptr inbounds %struct.PCIDevice, ptr %pci_dev, i64 0, i32 21
  %70 = load i8, ptr %msix_cap.i.i, align 16
  %idx.ext.i.i = zext i8 %70 to i64
  %add.ptr.i.i = getelementptr i8, ptr %69, i64 %idx.ext.i.i
  %add.ptr5.i.i = getelementptr i8, ptr %add.ptr.i.i, i64 2
  %71 = trunc i32 %67 to i16
  %conv6.i.i = add i16 %71, 2047
  %config.val.i.i.i = load i16, ptr %add.ptr5.i.i, align 1
  %72 = and i16 %config.val.i.i.i, -2048
  %73 = and i16 %conv6.i.i, 2047
  %or5.i.i.i = or disjoint i16 %72, %73
  store i16 %or5.i.i.i, ptr %add.ptr5.i.i, align 1
  br label %nvme_update_msixcap_ts.exit.i

nvme_update_msixcap_ts.exit.i:                    ; preds = %if.end3.i.i, %if.end37.i56
  %cmb_size_mb.i57 = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 4
  %74 = load i32, ptr %cmb_size_mb.i57, align 4
  %tobool39.not.i = icmp eq i32 %74, 0
  br i1 %tobool39.not.i, label %if.end41.i, label %if.then40.i

if.then40.i:                                      ; preds = %nvme_update_msixcap_ts.exit.i
  %conv.i59.i = zext i32 %74 to i64
  %mul.i.i = shl nuw nsw i64 %conv.i59.i, 20
  %bar.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 3
  %bar.val.i.i = load i64, ptr %bar.i.i, align 1
  %call2.i.i = call noalias ptr @g_malloc0(i64 noundef %mul.i.i) #20
  %cmb.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 25
  %buf.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 25, i32 1
  store ptr %call2.i.i, ptr %buf.i.i, align 16
  call void @memory_region_init_io(ptr noundef nonnull %cmb.i.i, ptr noundef nonnull %call, ptr noundef nonnull @nvme_cmb_ops, ptr noundef nonnull %call, ptr noundef nonnull @.str.482, i64 noundef %mul.i.i) #17
  call void @pci_register_bar(ptr noundef nonnull %pci_dev, i32 noundef 2, i8 noundef zeroext 12, ptr noundef nonnull %cmb.i.i) #17
  %or.i.i = or i64 %bar.val.i.i, 144115188075855872
  store i64 %or.i.i, ptr %bar.i.i, align 1
  %legacy_cmb.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 12
  %75 = load i8, ptr %legacy_cmb.i.i, align 1
  %76 = and i8 %75, 1
  %tobool.not.i60.i = icmp eq i8 %76, 0
  br i1 %tobool.not.i60.i, label %if.end41.i, label %if.then.i61.i

if.then.i61.i:                                    ; preds = %if.then40.i
  %cmbloc1.i.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 3, i32 11
  %cmbloc1.val.i.i.i = load i32, ptr %cmbloc1.i.i.i, align 1
  %cmbsz3.i.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 3, i32 12
  %cmbsz3.val.i.i.i = load i32, ptr %cmbsz3.i.i.i, align 1
  %77 = or i32 %cmbloc1.val.i.i.i, 98
  store i32 %77, ptr %cmbloc1.i.i.i, align 1
  %78 = load i32, ptr %cmb_size_mb.i57, align 4
  %79 = shl i32 %78, 12
  %80 = or i32 %cmbsz3.val.i.i.i, %79
  %or3415.i.i.i = or i32 %80, 541
  store i32 %or3415.i.i.i, ptr %cmbsz3.i.i.i, align 1
  %cmse.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 25, i32 2
  store i8 1, ptr %cmse.i.i, align 8
  br label %if.end41.i

if.end41.i:                                       ; preds = %if.then.i61.i, %if.then40.i, %nvme_update_msixcap_ts.exit.i
  %81 = load ptr, ptr %pmr.i, align 16
  %tobool42.not.i = icmp eq ptr %81, null
  br i1 %tobool42.not.i, label %if.end44.i, label %if.then43.i

if.then43.i:                                      ; preds = %if.end41.i
  %pmrcap1.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 3, i32 19
  %pmrcap1.val.i.i = load i32, ptr %pmrcap1.i.i, align 1
  %82 = or i32 %pmrcap1.val.i.i, 16779416
  store i32 %82, ptr %pmrcap1.i.i, align 1
  %mr.i.i = getelementptr inbounds %struct.HostMemoryBackend, ptr %81, i64 0, i32 13
  call void @pci_register_bar(ptr noundef nonnull %pci_dev, i32 noundef 4, i8 noundef zeroext 12, ptr noundef nonnull %mr.i.i) #17
  %83 = load ptr, ptr %pmr.i, align 16
  %mr19.i.i = getelementptr inbounds %struct.HostMemoryBackend, ptr %83, i64 0, i32 13
  call void @memory_region_set_enabled(ptr noundef nonnull %mr19.i.i, i1 noundef zeroext false) #17
  br label %if.end44.i

if.end44.i:                                       ; preds = %if.then43.i, %if.end41.i
  %pci_dev.val.i = load ptr, ptr %0, align 8
  %cmp.i63.not.i = icmp eq ptr %pci_dev.val.i, null
  br i1 %cmp.i63.not.i, label %land.lhs.true.i60, label %if.end16

land.lhs.true.i60:                                ; preds = %if.end44.i
  %84 = load i8, ptr %sriov_max_vfs.i, align 1
  %tobool50.not.i61 = icmp eq i8 %84, 0
  br i1 %tobool50.not.i61, label %if.end16, label %if.then51.i62

if.then51.i62:                                    ; preds = %land.lhs.true.i60
  %85 = load i8, ptr %use_intel_id.i, align 2
  %86 = and i8 %85, 1
  %tobool.not.i65.i = icmp eq i8 %86, 0
  %conv.i66.i = select i1 %tobool.not.i65.i, i16 16, i16 22597
  %vqfrsm.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 42, i32 8
  %87 = load i16, ptr %vqfrsm.i.i, align 1
  %conv1.i.i = zext i16 %87 to i64
  %vifrsm.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 42, i32 15
  %88 = load i16, ptr %vifrsm.i.i, align 1
  %conv3.i.i = zext i16 %88 to i32
  %mul1.i.i.i = shl nuw nsw i64 %conv1.i.i, 3
  %sub.i.i67.i = add nuw nsw i64 %mul1.i.i.i, 8191
  %div11.i.i.i = and i64 %sub.i.i67.i, 1044480
  %mul5.i.i.i = shl nuw nsw i32 %conv3.i.i, 4
  %narrow.i.i.i = add nuw nsw i32 %mul5.i.i.i, 4095
  %add7.i.i.i = zext nneg i32 %narrow.i.i.i to i64
  %sub9.i.i.i = add nuw nsw i64 %div11.i.i.i, %add7.i.i.i
  %div1012.i.i.i = and i64 %sub9.i.i.i, 4190208
  %sub17.i.i.i = add nuw nsw i32 %conv3.i.i, 63
  %div1813.i.i.i = lshr i32 %sub17.i.i.i, 3
  %div2014.i.i.i = and i32 %div1813.i.i.i, 16376
  %conv21.i.i.i = zext nneg i32 %div2014.i.i.i to i64
  %add22.i.i.i = add nsw i64 %conv21.i.i.i, -1
  %sub.i.i.i.i = add nsw i64 %add22.i.i.i, %div1012.i.i.i
  %89 = call i64 @llvm.ctlz.i64(i64 %sub.i.i.i.i, i1 true), !range !16
  %sub2.i.i.i.i = add nuw nsw i64 %89, 4294967295
  %sh_prom.i.i.i.i = and i64 %sub2.i.i.i.i, 4294967295
  %shr.i.i.i.i = lshr exact i64 -9223372036854775808, %sh_prom.i.i.i.i
  %conv6.i68.i = zext i8 %84 to i16
  call void @pcie_sriov_pf_init(ptr noundef nonnull %pci_dev, i16 noundef zeroext 288, ptr noundef nonnull @.str.49, i16 noundef zeroext %conv.i66.i, i16 noundef zeroext %conv6.i68.i, i16 noundef zeroext %conv6.i68.i, i16 noundef zeroext 1, i16 noundef zeroext 1) #17
  call void @pcie_sriov_pf_init_vf_bar(ptr noundef nonnull %pci_dev, i32 noundef 0, i8 noundef zeroext 4, i64 noundef %shr.i.i.i.i) #17
  br label %if.end16

nvme_init_pci.exit:                               ; preds = %if.else32.i
  %_auto_errp_prop.val.i = load ptr, ptr %_auto_errp_prop.i, align 8
  %_auto_errp_prop.val49.i = load ptr, ptr %errp1.i, align 8
  call void @error_propagate(ptr noundef %_auto_errp_prop.val49.i, ptr noundef %_auto_errp_prop.val.i) #17
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_auto_errp_prop.i)
  br label %if.end25

if.end16:                                         ; preds = %if.then51.i62, %land.lhs.true.i60, %if.end44.i
  %_auto_errp_prop.val.i95 = load ptr, ptr %_auto_errp_prop.i, align 8
  %_auto_errp_prop.val49.i96 = load ptr, ptr %errp1.i, align 8
  call void @error_propagate(ptr noundef %_auto_errp_prop.val49.i96, ptr noundef %_auto_errp_prop.val.i95) #17
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_auto_errp_prop.i)
  %id_ctrl.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40
  %90 = load ptr, ptr %config.i, align 8
  %bar.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 3
  %bar.val.i = load i64, ptr %bar.i, align 1
  %call.i.i64 = call ptr @pcie_sriov_get_pf(ptr noundef nonnull %call) #17
  %call1.i.i65 = call ptr @object_dynamic_cast_assert(ptr noundef %call.i.i64, ptr noundef nonnull @.str.49, ptr noundef nonnull @.str.39, i32 noundef 647, ptr noundef nonnull @__func__.nvme_sctrl) #17
  %91 = getelementptr i8, ptr %call, i64 2232
  %n.val.i.i66 = load ptr, ptr %91, align 8
  %cmp.i.not.i.i67 = icmp eq ptr %n.val.i.i66, null
  br i1 %cmp.i.not.i.i67, label %nvme_sctrl.exit.i, label %if.then.i.i68

if.then.i.i68:                                    ; preds = %if.end16
  %call3.i.i69 = call zeroext i16 @pcie_sriov_vf_number(ptr noundef nonnull %call) #17
  %idxprom.i.i70 = zext i16 %call3.i.i69 to i64
  %arrayidx.i.i71 = getelementptr %struct.NvmeCtrl, ptr %call1.i.i65, i64 0, i32 43, i32 2, i64 %idxprom.i.i70
  br label %nvme_sctrl.exit.i

nvme_sctrl.exit.i:                                ; preds = %if.then.i.i68, %if.end16
  %retval.0.i.i = phi ptr [ %arrayidx.i.i71, %if.then.i.i68 ], [ null, %if.end16 ]
  %.val.i = load i16, ptr %90, align 1
  store i16 %.val.i, ptr %id_ctrl.i, align 1
  %add.ptr5.i = getelementptr i8, ptr %90, i64 44
  %add.ptr5.val.i = load i16, ptr %add.ptr5.i, align 1
  %ssvid.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 1
  store i16 %add.ptr5.val.i, ptr %ssvid.i, align 1
  %mn.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 3
  call void @strpadcpy(ptr noundef nonnull %mn.i, i32 noundef 40, ptr noundef nonnull @.str.483, i8 noundef signext 32) #17
  %fr.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 4
  call void @strpadcpy(ptr noundef nonnull %fr.i, i32 noundef 8, ptr noundef nonnull @.str.484, i8 noundef signext 32) #17
  %sn.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 2
  %92 = load ptr, ptr %params1.i, align 16
  call void @strpadcpy(ptr noundef nonnull %sn.i, i32 noundef 20, ptr noundef %92, i8 noundef signext 32) #17
  %93 = load i16, ptr %cntlid47.phi.trans.insert.i, align 8
  %cntlid11.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 9
  store i16 %93, ptr %cntlid11.i, align 1
  %oaes.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 13
  store i32 256, ptr %oaes.i, align 1
  %rab.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 5
  store i8 6, ptr %rab.i, align 1
  %94 = load i8, ptr %use_intel_id.i, align 2
  %95 = and i8 %94, 1
  %tobool.not.i73 = icmp eq i8 %95, 0
  %.sink70.i = select i1 %tobool.not.i73, i8 0, i8 -77
  %.sink69.i = select i1 %tobool.not.i73, i8 84, i8 2
  %.sink.i = select i1 %tobool.not.i73, i8 82, i8 0
  %96 = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 6
  store i8 %.sink70.i, ptr %96, align 1
  %97 = getelementptr %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 6, i64 1
  store i8 %.sink69.i, ptr %97, align 1
  %98 = getelementptr %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 6, i64 2
  store i8 %.sink.i, ptr %98, align 1
  %99 = load i8, ptr %mdts.i, align 16
  %mdts25.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 8
  store i8 %99, ptr %mdts25.i, align 1
  %ver.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 10
  store i32 66560, ptr %ver.i, align 1
  %oacs.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 19
  store i16 298, ptr %oacs.i, align 1
  %cntrltype.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 16
  store i8 1, ptr %cntrltype.i, align 1
  %acl.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 20
  store i8 3, ptr %acl.i, align 1
  %100 = load i8, ptr %aerl.i, align 8
  %aerl29.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 21
  store i8 %100, ptr %aerl29.i, align 1
  %frmw.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 22
  store i8 3, ptr %frmw.i, align 1
  %lpa.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 23
  store i8 7, ptr %lpa.i, align 1
  %wctemp.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 28
  store i16 343, ptr %wctemp.i, align 1
  %cctemp.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 29
  store i16 373, ptr %cctemp.i, align 1
  %sqes.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 48
  store i8 102, ptr %sqes.i, align 1
  %cqes.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 49
  store i8 68, ptr %cqes.i, align 1
  %nn.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 51
  store i32 256, ptr %nn.i, align 1
  %oncs.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 52
  store i16 349, ptr %oncs.i, align 1
  %vwc.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 55
  store i8 7, ptr %vwc.i, align 1
  %ocfs.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 61
  store i16 3, ptr %ocfs.i, align 1
  %sgls.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 62
  store i32 1, ptr %sgls.i, align 1
  %101 = load ptr, ptr %subsys.i24, align 8
  %tobool.not.i.i76 = icmp eq ptr %101, null
  %subnqn.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 64
  br i1 %tobool.not.i.i76, label %if.then.i67.i, label %if.else.i.i77

if.then.i67.i:                                    ; preds = %nvme_sctrl.exit.i
  %102 = load ptr, ptr %params1.i, align 16
  %call.i68.i = call i32 (ptr, i64, ptr, ...) @snprintf(ptr noundef nonnull dereferenceable(1) %subnqn.i.i, i64 noundef 256, ptr noundef nonnull @.str.485, ptr noundef %102) #17
  br label %nvme_init_subnqn.exit.i

if.else.i.i77:                                    ; preds = %nvme_sctrl.exit.i
  %subnqn4.i.i = getelementptr inbounds %struct.NvmeSubsystem, ptr %101, i64 0, i32 2
  call void @pstrcpy(ptr noundef nonnull %subnqn.i.i, i32 noundef 256, ptr noundef nonnull %subnqn4.i.i) #17
  br label %nvme_init_subnqn.exit.i

nvme_init_subnqn.exit.i:                          ; preds = %if.else.i.i77, %if.then.i67.i
  %psd.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 66
  store i16 2500, ptr %psd.i, align 1
  %enlat.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 66, i64 0, i32 2
  store i32 16, ptr %enlat.i, align 1
  %exlat.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 66, i64 0, i32 3
  store i32 4, ptr %exlat.i, align 1
  %103 = load ptr, ptr %subsys.i24, align 8
  %tobool44.not.i = icmp eq ptr %103, null
  br i1 %tobool44.not.i, label %if.end54.i, label %if.then45.i

if.then45.i:                                      ; preds = %nvme_init_subnqn.exit.i
  %cmic.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 7
  %104 = load i8, ptr %cmic.i, align 1
  %105 = or i8 %104, 2
  store i8 %105, ptr %cmic.i, align 1
  %endgidmax.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 46
  store i16 1, ptr %endgidmax.i, align 1
  %enabled.i = getelementptr inbounds %struct.NvmeSubsystem, ptr %103, i64 0, i32 6, i32 1, i32 9
  %106 = load i8, ptr %enabled.i, align 8
  %107 = and i8 %106, 1
  %tobool50.not.i78 = icmp eq i8 %107, 0
  %spec.select.i79 = select i1 %tobool50.not.i78, i32 32784, i32 557072
  br label %if.end54.i

if.end54.i:                                       ; preds = %if.then45.i, %nvme_init_subnqn.exit.i
  %ctratt.0.i = phi i32 [ 32768, %nvme_init_subnqn.exit.i ], [ %spec.select.i79, %if.then45.i ]
  %ctratt56.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 40, i32 14
  store i32 %ctratt.0.i, ptr %ctratt56.i, align 1
  %108 = load i32, ptr %cmb_size_mb.i57, align 4
  %tobool65.not.not.i = icmp eq i32 %108, 0
  %shl.i = select i1 %tobool65.not.not.i, i64 0, i64 144115188075855872
  %109 = load ptr, ptr %pmr.i, align 16
  %tobool68.not.not.i = icmp eq ptr %109, null
  %shl72.i = select i1 %tobool68.not.not.i, i64 0, i64 72057594037927936
  %or63.i = or i64 %bar.val.i, %shl.i
  %or67.i = or i64 %or63.i, %shl72.i
  %or73.i = or i64 %or67.i, 18040924479227903
  store i64 %or73.i, ptr %bar.i, align 1
  %vs.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 3, i32 1
  store i32 66560, ptr %vs.i, align 1
  %intms.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 3, i32 2
  store i32 0, ptr %intms.i, align 4
  %intmc.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 3, i32 3
  store i32 0, ptr %intmc.i, align 16
  %pci_dev.val.i82 = load ptr, ptr %0, align 8
  %cmp.i.not.i83 = icmp eq ptr %pci_dev.val.i82, null
  br i1 %cmp.i.not.i83, label %nvme_init_ctrl.exit, label %land.lhs.true.i84

land.lhs.true.i84:                                ; preds = %if.end54.i
  %scs.i = getelementptr inbounds %struct.NvmeSecCtrlEntry, ptr %retval.0.i.i, i64 0, i32 2
  %110 = load i8, ptr %scs.i, align 1
  %tobool81.not.i = icmp eq i8 %110, 0
  br i1 %tobool81.not.i, label %if.then82.i, label %nvme_init_ctrl.exit

if.then82.i:                                      ; preds = %land.lhs.true.i84
  %csts.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 3, i32 6
  store i32 2, ptr %csts.i, align 1
  br label %nvme_init_ctrl.exit

nvme_init_ctrl.exit:                              ; preds = %if.end54.i, %land.lhs.true.i84, %if.then82.i
  %namespace = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 34
  %111 = load ptr, ptr %blkconf.i, align 16
  %tobool17.not = icmp eq ptr %111, null
  br i1 %tobool17.not, label %if.end25, label %if.then18

if.then18:                                        ; preds = %nvme_init_ctrl.exit
  %nsid = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 34, i32 30, i32 2
  store i32 1, ptr %nsid, align 4
  %call21 = call i32 @nvme_ns_setup(ptr noundef nonnull %namespace, ptr noundef %errp) #17
  %tobool22.not = icmp eq i32 %call21, 0
  br i1 %tobool22.not, label %if.end24, label %if.end25

if.end24:                                         ; preds = %if.then18
  %112 = load i32, ptr %nsid, align 4
  %113 = add i32 %112, -1
  %or.cond.i85 = icmp ult i32 %113, 256
  br i1 %or.cond.i85, label %nvme_attach_ns.exit, label %if.else.i86

if.else.i86:                                      ; preds = %if.end24
  call void @__assert_fail(ptr noundef nonnull @.str, ptr noundef nonnull @.str.1, i32 noundef 8293, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_attach_ns) #18
  unreachable

nvme_attach_ns.exit:                              ; preds = %if.end24
  %idxprom.i = zext nneg i32 %112 to i64
  %arrayidx.i88 = getelementptr %struct.NvmeCtrl, ptr %call, i64 0, i32 35, i64 %idxprom.i
  store ptr %namespace, ptr %arrayidx.i88, align 8
  %attached.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 34, i32 13
  %114 = load i32, ptr %attached.i, align 4
  %inc.i = add i32 %114, 1
  store i32 %inc.i, ptr %attached.i, align 4
  %dmrsl.i = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 31
  %115 = load i32, ptr %dmrsl.i, align 4
  %conv.i89 = zext i32 %115 to i64
  %116 = getelementptr %struct.NvmeCtrl, ptr %call, i64 0, i32 34, i32 7, i32 1
  %ns.val.i = load i8, ptr %116, align 2
  %sh_prom.i.i = zext nneg i8 %ns.val.i to i64
  %div14.i = lshr i64 2147483136, %sh_prom.i.i
  %cmp2.i = icmp eq i32 %115, 0
  %cmp4.i = icmp ugt i8 %ns.val.i, 30
  %117 = call i64 @llvm.umin.i64(i64 %div14.i, i64 %conv.i89)
  %spec.select.i90 = select i1 %cmp4.i, i64 %conv.i89, i64 %117
  %cond11.i = select i1 %cmp2.i, i64 %div14.i, i64 %spec.select.i90
  %conv12.i = trunc i64 %cond11.i to i32
  store i32 %conv12.i, ptr %dmrsl.i, align 4
  br label %if.end25

if.end25:                                         ; preds = %if.then22.i, %if.then36.i, %if.then51.i, %if.then57.i, %if.then76.i, %if.then137.i, %if.then113.i, %if.then102.i, %if.then94.i, %if.then84.i, %if.then71.i, %if.then66.i, %if.then63.i, %if.then47.i, %if.then28.i, %if.then19.i, %if.then10.i, %if.then5.i, %nvme_init_pci.exit, %if.end.i26, %if.then18, %nvme_attach_ns.exit, %nvme_init_ctrl.exit
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_pci_write_config(ptr noundef %dev, i32 noundef %address, i32 noundef %val, i32 noundef %len) #0 {
entry:
  %call.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %dev, ptr noundef nonnull @.str.49, ptr noundef nonnull @.str.1, i32 noundef 8472, ptr noundef nonnull @__func__.nvme_sriov_pre_write_ctrl) #17
  %sriov_cap1.i = getelementptr inbounds %struct.PCIDevice, ptr %dev, i64 0, i32 36, i32 7
  %0 = load i16, ptr %sriov_cap1.i, align 4
  %tobool.not.i = icmp eq i16 %0, 0
  br i1 %tobool.not.i, label %nvme_sriov_pre_write_ctrl.exit, label %if.end.i

if.end.i:                                         ; preds = %entry
  %conv.i = zext i16 %0 to i32
  %sub.i = sub i32 %address, %conv.i
  %conv2.i = zext i32 %sub.i to i64
  %conv3.i = sext i32 %len to i64
  %cmp.i.i = icmp ult i32 %sub.i, 9
  %add.i.i.i = add nsw i64 %conv3.i, -1
  %sub.i.i.i = add nsw i64 %add.i.i.i, %conv2.i
  %cmp1.i.i = icmp ugt i64 %sub.i.i.i, 7
  %narrow.i.i = select i1 %cmp.i.i, i1 %cmp1.i.i, i1 false
  %and.i = and i32 %val, 1
  %tobool7.not.i = icmp eq i32 %and.i, 0
  %or.cond.i = and i1 %tobool7.not.i, %narrow.i.i
  br i1 %or.cond.i, label %if.then8.i, label %nvme_sriov_pre_write_ctrl.exit

if.then8.i:                                       ; preds = %if.end.i
  %config.i = getelementptr inbounds %struct.PCIDevice, ptr %dev, i64 0, i32 3
  %1 = load ptr, ptr %config.i, align 8
  %idx.ext.i = zext i16 %0 to i64
  %add.ptr.i = getelementptr i8, ptr %1, i64 %idx.ext.i
  %add.ptr10.i = getelementptr i8, ptr %add.ptr.i, i64 16
  %add.ptr10.val.i = load i16, ptr %add.ptr10.i, align 1
  %cmp8.not.i = icmp eq i16 %add.ptr10.val.i, 0
  br i1 %cmp8.not.i, label %nvme_sriov_pre_write_ctrl.exit, label %for.body.preheader.i

for.body.preheader.i:                             ; preds = %if.then8.i
  %wide.trip.count.i = zext i16 %add.ptr10.val.i to i64
  br label %for.body.i

for.body.i:                                       ; preds = %for.body.i, %for.body.preheader.i
  %indvars.iv.i = phi i64 [ 0, %for.body.preheader.i ], [ %indvars.iv.next.i, %for.body.i ]
  %arrayidx.i = getelementptr %struct.NvmeCtrl, ptr %call.i, i64 0, i32 43, i32 2, i64 %indvars.iv.i
  %2 = load i16, ptr %arrayidx.i, align 1
  %call15.i = tail call fastcc zeroext i16 @nvme_virt_set_state(ptr noundef %call.i, i16 noundef zeroext %2, i1 noundef zeroext false), !range !18
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  %exitcond.not.i = icmp eq i64 %indvars.iv.next.i, %wide.trip.count.i
  br i1 %exitcond.not.i, label %nvme_sriov_pre_write_ctrl.exit, label %for.body.i, !llvm.loop !19

nvme_sriov_pre_write_ctrl.exit:                   ; preds = %for.body.i, %entry, %if.end.i, %if.then8.i
  tail call void @pci_default_write_config(ptr noundef %dev, i32 noundef %address, i32 noundef %val, i32 noundef %len) #17
  tail call void @pcie_cap_flr_write_config(ptr noundef %dev, i32 noundef %address, i32 noundef %val, i32 noundef %len) #17
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_exit(ptr noundef %pci_dev) #0 {
entry:
  %call = tail call ptr @object_dynamic_cast_assert(ptr noundef %pci_dev, ptr noundef nonnull @.str.49, ptr noundef nonnull @.str.1, i32 noundef 8348, ptr noundef nonnull @__func__.nvme_exit) #17
  tail call fastcc void @nvme_ctrl_reset(ptr noundef %call, i32 noundef 0)
  %subsys = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 33
  %0 = load ptr, ptr %subsys, align 8
  %tobool.not = icmp eq ptr %0, null
  br i1 %tobool.not, label %if.end5, label %nvme_ns.exit

nvme_ns.exit:                                     ; preds = %entry, %for.inc
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.inc ], [ 1, %entry ]
  %arrayidx.i = getelementptr %struct.NvmeCtrl, ptr %call, i64 0, i32 35, i64 %indvars.iv
  %1 = load ptr, ptr %arrayidx.i, align 8
  %tobool2.not = icmp eq ptr %1, null
  br i1 %tobool2.not, label %for.inc, label %if.then3

if.then3:                                         ; preds = %nvme_ns.exit
  %attached = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 13
  %2 = load i32, ptr %attached, align 4
  %dec = add i32 %2, -1
  store i32 %dec, ptr %attached, align 4
  br label %for.inc

for.inc:                                          ; preds = %nvme_ns.exit, %if.then3
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %exitcond.not = icmp eq i64 %indvars.iv.next, 257
  br i1 %exitcond.not, label %for.end, label %nvme_ns.exit, !llvm.loop !20

for.end:                                          ; preds = %for.inc
  %3 = load ptr, ptr %subsys, align 8
  tail call void @nvme_subsys_unregister_ctrl(ptr noundef %3, ptr noundef nonnull %call) #17
  br label %if.end5

if.end5:                                          ; preds = %for.end, %entry
  %cq = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 37
  %4 = load ptr, ptr %cq, align 8
  tail call void @g_free(ptr noundef %4) #17
  %sq = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 36
  %5 = load ptr, ptr %sq, align 16
  tail call void @g_free(ptr noundef %5) #17
  %aer_reqs = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 28
  %6 = load ptr, ptr %aer_reqs, align 16
  tail call void @g_free(ptr noundef %6) #17
  %cmb_size_mb = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 4
  %7 = load i32, ptr %cmb_size_mb, align 4
  %tobool6.not = icmp eq i32 %7, 0
  br i1 %tobool6.not, label %if.end8, label %if.then7

if.then7:                                         ; preds = %if.end5
  %buf = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 25, i32 1
  %8 = load ptr, ptr %buf, align 16
  tail call void @g_free(ptr noundef %8) #17
  br label %if.end8

if.end8:                                          ; preds = %if.then7, %if.end5
  %pmr = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 26
  %9 = load ptr, ptr %pmr, align 16
  %tobool9.not = icmp eq ptr %9, null
  br i1 %tobool9.not, label %if.end13, label %if.then10

if.then10:                                        ; preds = %if.end8
  tail call void @host_memory_backend_set_mapped(ptr noundef nonnull %9, i1 noundef zeroext false) #17
  br label %if.end13

if.end13:                                         ; preds = %if.then10, %if.end8
  %10 = getelementptr i8, ptr %pci_dev, i64 2232
  %pci_dev.val = load ptr, ptr %10, align 8
  %cmp.i.not = icmp eq ptr %pci_dev.val, null
  br i1 %cmp.i.not, label %land.lhs.true, label %if.end19

land.lhs.true:                                    ; preds = %if.end13
  %sriov_max_vfs = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 4, i32 14
  %11 = load i8, ptr %sriov_max_vfs, align 1
  %tobool17.not = icmp eq i8 %11, 0
  br i1 %tobool17.not, label %if.end19, label %if.then18

if.then18:                                        ; preds = %land.lhs.true
  tail call void @pcie_sriov_pf_exit(ptr noundef nonnull %pci_dev) #17
  br label %if.end19

if.end19:                                         ; preds = %if.then18, %land.lhs.true, %if.end13
  %bar0 = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 1
  tail call void @msix_uninit(ptr noundef nonnull %pci_dev, ptr noundef nonnull %bar0, ptr noundef nonnull %bar0) #17
  %iomem = getelementptr inbounds %struct.NvmeCtrl, ptr %call, i64 0, i32 2
  tail call void @memory_region_del_subregion(ptr noundef nonnull %bar0, ptr noundef nonnull %iomem) #17
  ret void
}

declare void @device_class_set_props(ptr noundef, ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_pci_reset(ptr noundef %qdev) #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %call.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %qdev, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %call1 = tail call ptr @object_dynamic_cast_assert(ptr noundef %call.i, ptr noundef nonnull @.str.49, ptr noundef nonnull @.str.1, i32 noundef 8463, ptr noundef nonnull @__func__.nvme_pci_reset) #17
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_PCI_RESET_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %1, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_pci_reset.exit

land.lhs.true5.i.i:                               ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %2, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_pci_reset.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.520, i32 noundef %call10.i.i, i64 noundef %5, i64 noundef %6) #17
  br label %trace_pci_nvme_pci_reset.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.521) #17
  br label %trace_pci_nvme_pci_reset.exit

trace_pci_nvme_pci_reset.exit:                    ; preds = %entry, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  tail call fastcc void @nvme_ctrl_reset(ptr noundef %call1, i32 noundef 0)
  ret void
}

declare ptr @object_class_dynamic_cast_assert(ptr noundef, ptr noundef, ptr noundef, i32 noundef, ptr noundef) local_unnamed_addr #1

declare ptr @pcie_sriov_get_pf(ptr noundef) local_unnamed_addr #1

declare void @qbus_init(ptr noundef, i64 noundef, ptr noundef, ptr noundef, ptr noundef) local_unnamed_addr #1

declare i32 @nvme_ns_setup(ptr noundef, ptr noundef) local_unnamed_addr #1

declare void @warn_report(ptr noundef, ...) local_unnamed_addr #1

declare zeroext i1 @host_memory_backend_is_mapped(ptr noundef) local_unnamed_addr #1

declare ptr @object_get_canonical_path_component(ptr noundef) local_unnamed_addr #1

declare void @host_memory_backend_set_mapped(ptr noundef, i1 noundef zeroext) local_unnamed_addr #1

declare i32 @nvme_subsys_register_ctrl(ptr noundef, ptr noundef) local_unnamed_addr #1

; Function Attrs: allocsize(0,1)
declare noalias ptr @g_malloc0_n(i64 noundef, i64 noundef) local_unnamed_addr #3

declare zeroext i16 @pcie_sriov_vf_number(ptr noundef) local_unnamed_addr #1

declare i64 @qemu_clock_get_ns(i32 noundef) local_unnamed_addr #1

declare i32 @pcie_endpoint_cap_init(ptr noundef, i8 noundef zeroext) local_unnamed_addr #1

declare void @pcie_cap_flr_init(ptr noundef) local_unnamed_addr #1

declare void @pcie_ari_init(ptr noundef, i16 noundef zeroext) local_unnamed_addr #1

declare void @memory_region_init(ptr noundef, ptr noundef, ptr noundef, i64 noundef) local_unnamed_addr #1

declare void @memory_region_init_io(ptr noundef, ptr noundef, ptr noundef, ptr noundef, ptr noundef, i64 noundef) local_unnamed_addr #1

declare void @memory_region_add_subregion(ptr noundef, i64 noundef, ptr noundef) local_unnamed_addr #1

declare void @pcie_sriov_vf_register_bar(ptr noundef, i32 noundef, ptr noundef) local_unnamed_addr #1

declare void @pci_register_bar(ptr noundef, i32 noundef, i8 noundef zeroext, ptr noundef) local_unnamed_addr #1

declare i32 @msix_init(ptr noundef, i16 noundef zeroext, ptr noundef, i8 noundef zeroext, i32 noundef, ptr noundef, i8 noundef zeroext, i32 noundef, i8 noundef zeroext, ptr noundef) local_unnamed_addr #1

declare void @warn_report_err(ptr noundef) local_unnamed_addr #1

declare void @error_propagate(ptr noundef, ptr noundef) local_unnamed_addr #1

declare i32 @pci_add_capability(ptr noundef, i8 noundef zeroext, i8 noundef zeroext, i8 noundef zeroext, ptr noundef) local_unnamed_addr #1

; Function Attrs: mustprogress nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare i64 @llvm.ctlz.i64(i64, i1 immarg) #8

; Function Attrs: nounwind sspstrong uwtable
define internal i64 @nvme_mmio_read(ptr noundef %opaque, i64 noundef %addr, i32 noundef %size) #0 {
entry:
  %_now.i.i70 = alloca %struct.timeval, align 8
  %_now.i.i52 = alloca %struct.timeval, align 8
  %_now.i.i36 = alloca %struct.timeval, align 8
  %_now.i.i22 = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %bar = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_MMIO_READ_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %1, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_mmio_read.exit

land.lhs.true5.i.i:                               ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %2, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_mmio_read.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.94, i32 noundef %call10.i.i, i64 noundef %5, i64 noundef %6, i64 noundef %addr, i32 noundef %size) #17
  br label %trace_pci_nvme_mmio_read.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.95, i64 noundef %addr, i32 noundef %size) #17
  br label %trace_pci_nvme_mmio_read.exit

trace_pci_nvme_mmio_read.exit:                    ; preds = %entry, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %and = and i64 %addr, 3
  %tobool.not = icmp eq i64 %and, 0
  br i1 %tobool.not, label %if.else, label %do.body

do.body:                                          ; preds = %trace_pci_nvme_mmio_read.exit
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i22)
  %7 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i23 = icmp ne i32 %7, 0
  %8 = load i16, ptr @_TRACE_PCI_NVME_UB_MMIORD_MISALIGNED32_DSTATE, align 2
  %tobool4.i.i24 = icmp ne i16 %8, 0
  %or.cond.i.i25 = select i1 %tobool.i.i23, i1 %tobool4.i.i24, i1 false
  br i1 %or.cond.i.i25, label %land.lhs.true5.i.i26, label %trace_pci_nvme_ub_mmiord_misaligned32.exit

land.lhs.true5.i.i26:                             ; preds = %do.body
  %9 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i27 = and i32 %9, 32768
  %cmp.i.not.i.i28 = icmp eq i32 %and.i.i.i27, 0
  br i1 %cmp.i.not.i.i28, label %trace_pci_nvme_ub_mmiord_misaligned32.exit, label %if.then.i.i29

if.then.i.i29:                                    ; preds = %land.lhs.true5.i.i26
  %10 = load i8, ptr @message_with_timestamp, align 1
  %11 = and i8 %10, 1
  %tobool7.not.i.i30 = icmp eq i8 %11, 0
  br i1 %tobool7.not.i.i30, label %if.else.i.i35, label %if.then8.i.i31

if.then8.i.i31:                                   ; preds = %if.then.i.i29
  %call9.i.i32 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i22, ptr noundef null) #17
  %call10.i.i33 = tail call i32 @qemu_get_thread_id() #17
  %12 = load i64, ptr %_now.i.i22, align 8
  %tv_usec.i.i34 = getelementptr inbounds %struct.timeval, ptr %_now.i.i22, i64 0, i32 1
  %13 = load i64, ptr %tv_usec.i.i34, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.96, i32 noundef %call10.i.i33, i64 noundef %12, i64 noundef %13, i64 noundef %addr) #17
  br label %trace_pci_nvme_ub_mmiord_misaligned32.exit

if.else.i.i35:                                    ; preds = %if.then.i.i29
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.97, i64 noundef %addr) #17
  br label %trace_pci_nvme_ub_mmiord_misaligned32.exit

trace_pci_nvme_ub_mmiord_misaligned32.exit:       ; preds = %do.body, %land.lhs.true5.i.i26, %if.then8.i.i31, %if.else.i.i35
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i22)
  %14 = load i32, ptr @qemu_loglevel, align 4
  %and.i = and i32 %14, 2048
  %cmp.i.not = icmp eq i32 %and.i, 0
  br i1 %cmp.i.not, label %if.end35, label %if.end35.sink.split

if.else:                                          ; preds = %trace_pci_nvme_mmio_read.exit
  %cmp = icmp ult i32 %size, 4
  br i1 %cmp, label %do.body21, label %if.end35

do.body21:                                        ; preds = %if.else
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i36)
  %15 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i37 = icmp ne i32 %15, 0
  %16 = load i16, ptr @_TRACE_PCI_NVME_UB_MMIORD_TOOSMALL_DSTATE, align 2
  %tobool4.i.i38 = icmp ne i16 %16, 0
  %or.cond.i.i39 = select i1 %tobool.i.i37, i1 %tobool4.i.i38, i1 false
  br i1 %or.cond.i.i39, label %land.lhs.true5.i.i40, label %trace_pci_nvme_ub_mmiord_toosmall.exit

land.lhs.true5.i.i40:                             ; preds = %do.body21
  %17 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i41 = and i32 %17, 32768
  %cmp.i.not.i.i42 = icmp eq i32 %and.i.i.i41, 0
  br i1 %cmp.i.not.i.i42, label %trace_pci_nvme_ub_mmiord_toosmall.exit, label %if.then.i.i43

if.then.i.i43:                                    ; preds = %land.lhs.true5.i.i40
  %18 = load i8, ptr @message_with_timestamp, align 1
  %19 = and i8 %18, 1
  %tobool7.not.i.i44 = icmp eq i8 %19, 0
  br i1 %tobool7.not.i.i44, label %if.else.i.i49, label %if.then8.i.i45

if.then8.i.i45:                                   ; preds = %if.then.i.i43
  %call9.i.i46 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i36, ptr noundef null) #17
  %call10.i.i47 = tail call i32 @qemu_get_thread_id() #17
  %20 = load i64, ptr %_now.i.i36, align 8
  %tv_usec.i.i48 = getelementptr inbounds %struct.timeval, ptr %_now.i.i36, i64 0, i32 1
  %21 = load i64, ptr %tv_usec.i.i48, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.98, i32 noundef %call10.i.i47, i64 noundef %20, i64 noundef %21, i64 noundef %addr) #17
  br label %trace_pci_nvme_ub_mmiord_toosmall.exit

if.else.i.i49:                                    ; preds = %if.then.i.i43
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.99, i64 noundef %addr) #17
  br label %trace_pci_nvme_ub_mmiord_toosmall.exit

trace_pci_nvme_ub_mmiord_toosmall.exit:           ; preds = %do.body21, %land.lhs.true5.i.i40, %if.then8.i.i45, %if.else.i.i49
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i36)
  %22 = load i32, ptr @qemu_loglevel, align 4
  %and.i50 = and i32 %22, 2048
  %cmp.i51.not = icmp eq i32 %and.i50, 0
  br i1 %cmp.i51.not, label %if.end35, label %if.end35.sink.split

if.end35.sink.split:                              ; preds = %trace_pci_nvme_ub_mmiord_toosmall.exit, %trace_pci_nvme_ub_mmiord_misaligned32.exit
  %.str.92.sink = phi ptr [ @.str.91, %trace_pci_nvme_ub_mmiord_misaligned32.exit ], [ @.str.92, %trace_pci_nvme_ub_mmiord_toosmall.exit ]
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull %.str.92.sink, ptr noundef nonnull @__func__.nvme_mmio_read, i64 noundef %addr) #17
  br label %if.end35

if.end35:                                         ; preds = %if.end35.sink.split, %if.else, %trace_pci_nvme_ub_mmiord_toosmall.exit, %trace_pci_nvme_ub_mmiord_misaligned32.exit
  %conv36 = zext i32 %size to i64
  %sub = sub nsw i64 4096, %conv36
  %cmp37 = icmp ult i64 %sub, %addr
  br i1 %cmp37, label %do.body40, label %if.end53

do.body40:                                        ; preds = %if.end35
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i52)
  %23 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i53 = icmp ne i32 %23, 0
  %24 = load i16, ptr @_TRACE_PCI_NVME_UB_MMIORD_INVALID_OFS_DSTATE, align 2
  %tobool4.i.i54 = icmp ne i16 %24, 0
  %or.cond.i.i55 = select i1 %tobool.i.i53, i1 %tobool4.i.i54, i1 false
  br i1 %or.cond.i.i55, label %land.lhs.true5.i.i56, label %trace_pci_nvme_ub_mmiord_invalid_ofs.exit

land.lhs.true5.i.i56:                             ; preds = %do.body40
  %25 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i57 = and i32 %25, 32768
  %cmp.i.not.i.i58 = icmp eq i32 %and.i.i.i57, 0
  br i1 %cmp.i.not.i.i58, label %trace_pci_nvme_ub_mmiord_invalid_ofs.exit, label %if.then.i.i59

if.then.i.i59:                                    ; preds = %land.lhs.true5.i.i56
  %26 = load i8, ptr @message_with_timestamp, align 1
  %27 = and i8 %26, 1
  %tobool7.not.i.i60 = icmp eq i8 %27, 0
  br i1 %tobool7.not.i.i60, label %if.else.i.i65, label %if.then8.i.i61

if.then8.i.i61:                                   ; preds = %if.then.i.i59
  %call9.i.i62 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i52, ptr noundef null) #17
  %call10.i.i63 = tail call i32 @qemu_get_thread_id() #17
  %28 = load i64, ptr %_now.i.i52, align 8
  %tv_usec.i.i64 = getelementptr inbounds %struct.timeval, ptr %_now.i.i52, i64 0, i32 1
  %29 = load i64, ptr %tv_usec.i.i64, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.100, i32 noundef %call10.i.i63, i64 noundef %28, i64 noundef %29, i64 noundef %addr) #17
  br label %trace_pci_nvme_ub_mmiord_invalid_ofs.exit

if.else.i.i65:                                    ; preds = %if.then.i.i59
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.101, i64 noundef %addr) #17
  br label %trace_pci_nvme_ub_mmiord_invalid_ofs.exit

trace_pci_nvme_ub_mmiord_invalid_ofs.exit:        ; preds = %do.body40, %land.lhs.true5.i.i56, %if.then8.i.i61, %if.else.i.i65
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i52)
  %30 = load i32, ptr @qemu_loglevel, align 4
  %and.i66 = and i32 %30, 2048
  %cmp.i67.not = icmp eq i32 %and.i66, 0
  br i1 %cmp.i67.not, label %return, label %if.then49

if.then49:                                        ; preds = %trace_pci_nvme_ub_mmiord_invalid_ofs.exit
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.93, ptr noundef nonnull @__func__.nvme_mmio_read, i64 noundef %addr) #17
  br label %return

if.end53:                                         ; preds = %if.end35
  %call.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %opaque, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %31 = getelementptr i8, ptr %call.i, i64 2232
  %call54.val = load ptr, ptr %31, align 8
  %cmp.i68.not = icmp eq ptr %call54.val, null
  br i1 %cmp.i68.not, label %if.end63, label %land.lhs.true

land.lhs.true:                                    ; preds = %if.end53
  %call.i69 = tail call ptr @pcie_sriov_get_pf(ptr noundef %opaque) #17
  %call1.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %call.i69, ptr noundef nonnull @.str.49, ptr noundef nonnull @.str.39, i32 noundef 647, ptr noundef nonnull @__func__.nvme_sctrl) #17
  %32 = getelementptr i8, ptr %opaque, i64 2232
  %n.val.i = load ptr, ptr %32, align 8
  %cmp.i.not.i = icmp ne ptr %n.val.i, null
  tail call void @llvm.assume(i1 %cmp.i.not.i)
  %call3.i = tail call zeroext i16 @pcie_sriov_vf_number(ptr noundef nonnull %opaque) #17
  %idxprom.i = zext i16 %call3.i to i64
  %scs = getelementptr %struct.NvmeCtrl, ptr %call1.i, i64 0, i32 43, i32 2, i64 %idxprom.i, i32 2
  %33 = load i8, ptr %scs, align 1
  %tobool58 = icmp eq i8 %33, 0
  %cmp60 = icmp ne i64 %addr, 28
  %or.cond = and i1 %cmp60, %tobool58
  br i1 %or.cond, label %if.then62, label %if.end63

if.then62:                                        ; preds = %land.lhs.true
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i70)
  %34 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i71 = icmp ne i32 %34, 0
  %35 = load i16, ptr @_TRACE_PCI_NVME_ERR_IGNORED_MMIO_VF_OFFLINE_DSTATE, align 2
  %tobool4.i.i72 = icmp ne i16 %35, 0
  %or.cond.i.i73 = select i1 %tobool.i.i71, i1 %tobool4.i.i72, i1 false
  br i1 %or.cond.i.i73, label %land.lhs.true5.i.i74, label %trace_pci_nvme_err_ignored_mmio_vf_offline.exit

land.lhs.true5.i.i74:                             ; preds = %if.then62
  %36 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i75 = and i32 %36, 32768
  %cmp.i.not.i.i76 = icmp eq i32 %and.i.i.i75, 0
  br i1 %cmp.i.not.i.i76, label %trace_pci_nvme_err_ignored_mmio_vf_offline.exit, label %if.then.i.i77

if.then.i.i77:                                    ; preds = %land.lhs.true5.i.i74
  %37 = load i8, ptr @message_with_timestamp, align 1
  %38 = and i8 %37, 1
  %tobool7.not.i.i78 = icmp eq i8 %38, 0
  br i1 %tobool7.not.i.i78, label %if.else.i.i83, label %if.then8.i.i79

if.then8.i.i79:                                   ; preds = %if.then.i.i77
  %call9.i.i80 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i70, ptr noundef null) #17
  %call10.i.i81 = tail call i32 @qemu_get_thread_id() #17
  %39 = load i64, ptr %_now.i.i70, align 8
  %tv_usec.i.i82 = getelementptr inbounds %struct.timeval, ptr %_now.i.i70, i64 0, i32 1
  %40 = load i64, ptr %tv_usec.i.i82, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.102, i32 noundef %call10.i.i81, i64 noundef %39, i64 noundef %40, i64 noundef %addr, i32 noundef %size) #17
  br label %trace_pci_nvme_err_ignored_mmio_vf_offline.exit

if.else.i.i83:                                    ; preds = %if.then.i.i77
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.103, i64 noundef %addr, i32 noundef %size) #17
  br label %trace_pci_nvme_err_ignored_mmio_vf_offline.exit

trace_pci_nvme_err_ignored_mmio_vf_offline.exit:  ; preds = %if.then62, %land.lhs.true5.i.i74, %if.then8.i.i79, %if.else.i.i83
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i70)
  br label %return

if.end63:                                         ; preds = %land.lhs.true, %if.end53
  %cmp64 = icmp eq i64 %addr, 3592
  br i1 %cmp64, label %land.lhs.true66, label %if.end76

land.lhs.true66:                                  ; preds = %if.end63
  %pmrcap = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 19
  %pmrcap.val = load i32, ptr %pmrcap, align 1
  %41 = and i32 %pmrcap.val, 2048
  %tobool71.not = icmp eq i32 %41, 0
  br i1 %tobool71.not, label %if.end76, label %if.then72

if.then72:                                        ; preds = %land.lhs.true66
  %pmr = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 26
  %42 = load ptr, ptr %pmr, align 16
  %mr = getelementptr inbounds %struct.HostMemoryBackend, ptr %42, i64 0, i32 13
  %size75 = getelementptr inbounds %struct.HostMemoryBackend, ptr %42, i64 0, i32 1
  %43 = load i64, ptr %size75, align 8
  tail call void @memory_region_msync(ptr noundef nonnull %mr, i64 noundef 0, i64 noundef %43) #17
  br label %if.end76

if.end76:                                         ; preds = %if.then72, %land.lhs.true66, %if.end63
  %add.ptr = getelementptr i8, ptr %bar, i64 %addr
  switch i32 %size, label %do.body.i [
    i32 1, label %sw.bb.i
    i32 2, label %sw.bb1.i
    i32 4, label %sw.bb4.i
    i32 8, label %sw.bb7.i
  ]

sw.bb.i:                                          ; preds = %if.end76
  %ptr.val6.i = load i8, ptr %add.ptr, align 1
  %conv.i85 = zext i8 %ptr.val6.i to i64
  br label %return

sw.bb1.i:                                         ; preds = %if.end76
  %ptr.val.i = load i16, ptr %add.ptr, align 1
  %conv3.i = zext i16 %ptr.val.i to i64
  br label %return

sw.bb4.i:                                         ; preds = %if.end76
  %ptr.val5.i = load i32, ptr %add.ptr, align 1
  %conv6.i = zext i32 %ptr.val5.i to i64
  br label %return

sw.bb7.i:                                         ; preds = %if.end76
  %ptr.val4.i = load i64, ptr %add.ptr, align 1
  br label %return

do.body.i:                                        ; preds = %if.end76
  tail call void @g_assertion_message_expr(ptr noundef null, ptr noundef nonnull @.str.104, i32 noundef 419, ptr noundef nonnull @__func__.ldn_le_p, ptr noundef null) #18
  unreachable

return:                                           ; preds = %sw.bb7.i, %sw.bb4.i, %sw.bb1.i, %sw.bb.i, %trace_pci_nvme_ub_mmiord_invalid_ofs.exit, %if.then49, %trace_pci_nvme_err_ignored_mmio_vf_offline.exit
  %retval.0 = phi i64 [ 0, %trace_pci_nvme_err_ignored_mmio_vf_offline.exit ], [ 0, %if.then49 ], [ 0, %trace_pci_nvme_ub_mmiord_invalid_ofs.exit ], [ %ptr.val4.i, %sw.bb7.i ], [ %conv6.i, %sw.bb4.i ], [ %conv3.i, %sw.bb1.i ], [ %conv.i85, %sw.bb.i ]
  ret i64 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_mmio_write(ptr noundef %opaque, i64 noundef %addr, i64 noundef %data, i32 noundef %size) #0 {
entry:
  %val.addr.i.i195.i = alloca i32, align 4
  %_now.i.i177.i = alloca %struct.timeval, align 8
  %_now.i.i159.i = alloca %struct.timeval, align 8
  %_now.i.i143.i = alloca %struct.timeval, align 8
  %val.addr.i.i.i = alloca i32, align 4
  %_now.i.i116.i = alloca %struct.timeval, align 8
  %_now.i.i100.i = alloca %struct.timeval, align 8
  %_now.i.i84.i = alloca %struct.timeval, align 8
  %_now.i.i.i33 = alloca %struct.timeval, align 8
  %_now.i.i475.i = alloca %struct.timeval, align 8
  %_now.i.i455.i = alloca %struct.timeval, align 8
  %_now.i.i439.i = alloca %struct.timeval, align 8
  %_now.i.i423.i = alloca %struct.timeval, align 8
  %_now.i.i407.i = alloca %struct.timeval, align 8
  %_now.i.i380.i = alloca %struct.timeval, align 8
  %_now.i.i364.i = alloca %struct.timeval, align 8
  %_now.i.i350.i = alloca %struct.timeval, align 8
  %_now.i.i327.i = alloca %struct.timeval, align 8
  %_now.i.i313.i = alloca %struct.timeval, align 8
  %_now.i.i299.i = alloca %struct.timeval, align 8
  %_now.i.i285.i = alloca %struct.timeval, align 8
  %_now.i.i271.i = alloca %struct.timeval, align 8
  %_now.i.i253.i = alloca %struct.timeval, align 8
  %_now.i.i84.i.i = alloca %struct.timeval, align 8
  %_now.i.i70.i.i = alloca %struct.timeval, align 8
  %_now.i.i56.i.i = alloca %struct.timeval, align 8
  %_now.i.i42.i.i = alloca %struct.timeval, align 8
  %_now.i.i.i.i = alloca %struct.timeval, align 8
  %_now.i.i229.i = alloca %struct.timeval, align 8
  %_now.i.i215.i = alloca %struct.timeval, align 8
  %_now.i.i189.i = alloca %struct.timeval, align 8
  %_now.i.i172.i = alloca %struct.timeval, align 8
  %_now.i.i157.i = alloca %struct.timeval, align 8
  %_now.i.i141.i = alloca %struct.timeval, align 8
  %_now.i.i125.i = alloca %struct.timeval, align 8
  %_now.i.i.i = alloca %struct.timeval, align 8
  %_now.i.i14 = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_MMIO_WRITE_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %1, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_mmio_write.exit

land.lhs.true5.i.i:                               ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %2, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_mmio_write.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.105, i32 noundef %call10.i.i, i64 noundef %5, i64 noundef %6, i64 noundef %addr, i64 noundef %data, i32 noundef %size) #17
  br label %trace_pci_nvme_mmio_write.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.106, i64 noundef %addr, i64 noundef %data, i32 noundef %size) #17
  br label %trace_pci_nvme_mmio_write.exit

trace_pci_nvme_mmio_write.exit:                   ; preds = %entry, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %call.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %opaque, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %7 = getelementptr i8, ptr %call.i, i64 2232
  %call.val = load ptr, ptr %7, align 8
  %cmp.i.not = icmp eq ptr %call.val, null
  br i1 %cmp.i.not, label %if.end, label %land.lhs.true

land.lhs.true:                                    ; preds = %trace_pci_nvme_mmio_write.exit
  %call.i13 = tail call ptr @pcie_sriov_get_pf(ptr noundef %opaque) #17
  %call1.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %call.i13, ptr noundef nonnull @.str.49, ptr noundef nonnull @.str.39, i32 noundef 647, ptr noundef nonnull @__func__.nvme_sctrl) #17
  %8 = getelementptr i8, ptr %opaque, i64 2232
  %n.val.i = load ptr, ptr %8, align 8
  %cmp.i.not.i = icmp ne ptr %n.val.i, null
  tail call void @llvm.assume(i1 %cmp.i.not.i)
  %call3.i = tail call zeroext i16 @pcie_sriov_vf_number(ptr noundef nonnull %opaque) #17
  %idxprom.i = zext i16 %call3.i to i64
  %scs = getelementptr %struct.NvmeCtrl, ptr %call1.i, i64 0, i32 43, i32 2, i64 %idxprom.i, i32 2
  %9 = load i8, ptr %scs, align 1
  %tobool3 = icmp eq i8 %9, 0
  %cmp = icmp ne i64 %addr, 28
  %or.cond = and i1 %cmp, %tobool3
  br i1 %or.cond, label %if.then, label %if.end

if.then:                                          ; preds = %land.lhs.true
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i14)
  %10 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i15 = icmp ne i32 %10, 0
  %11 = load i16, ptr @_TRACE_PCI_NVME_ERR_IGNORED_MMIO_VF_OFFLINE_DSTATE, align 2
  %tobool4.i.i16 = icmp ne i16 %11, 0
  %or.cond.i.i17 = select i1 %tobool.i.i15, i1 %tobool4.i.i16, i1 false
  br i1 %or.cond.i.i17, label %land.lhs.true5.i.i18, label %trace_pci_nvme_err_ignored_mmio_vf_offline.exit

land.lhs.true5.i.i18:                             ; preds = %if.then
  %12 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i19 = and i32 %12, 32768
  %cmp.i.not.i.i20 = icmp eq i32 %and.i.i.i19, 0
  br i1 %cmp.i.not.i.i20, label %trace_pci_nvme_err_ignored_mmio_vf_offline.exit, label %if.then.i.i21

if.then.i.i21:                                    ; preds = %land.lhs.true5.i.i18
  %13 = load i8, ptr @message_with_timestamp, align 1
  %14 = and i8 %13, 1
  %tobool7.not.i.i22 = icmp eq i8 %14, 0
  br i1 %tobool7.not.i.i22, label %if.else.i.i27, label %if.then8.i.i23

if.then8.i.i23:                                   ; preds = %if.then.i.i21
  %call9.i.i24 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i14, ptr noundef null) #17
  %call10.i.i25 = tail call i32 @qemu_get_thread_id() #17
  %15 = load i64, ptr %_now.i.i14, align 8
  %tv_usec.i.i26 = getelementptr inbounds %struct.timeval, ptr %_now.i.i14, i64 0, i32 1
  %16 = load i64, ptr %tv_usec.i.i26, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.102, i32 noundef %call10.i.i25, i64 noundef %15, i64 noundef %16, i64 noundef %addr, i32 noundef %size) #17
  br label %trace_pci_nvme_err_ignored_mmio_vf_offline.exit

if.else.i.i27:                                    ; preds = %if.then.i.i21
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.103, i64 noundef %addr, i32 noundef %size) #17
  br label %trace_pci_nvme_err_ignored_mmio_vf_offline.exit

trace_pci_nvme_err_ignored_mmio_vf_offline.exit:  ; preds = %if.then, %land.lhs.true5.i.i18, %if.then8.i.i23, %if.else.i.i27
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i14)
  br label %if.end7

if.end:                                           ; preds = %land.lhs.true, %trace_pci_nvme_mmio_write.exit
  %cmp5 = icmp ult i64 %addr, 4096
  br i1 %cmp5, label %if.then6, label %if.else

if.then6:                                         ; preds = %if.end
  %call.i.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %opaque, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %bar.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3
  %bar.val.i = load i64, ptr %bar.i, align 1
  %cc4.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 4
  %cc4.val.i = load i32, ptr %cc4.i, align 1
  %intms7.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 2
  %intms7.val.i = load i32, ptr %intms7.i, align 1
  %csts10.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 6
  %csts10.val.i = load i32, ptr %csts10.i, align 1
  %pmrsts13.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 21
  %pmrsts13.val.i = load i32, ptr %pmrsts13.i, align 1
  %and.i = and i64 %addr, 3
  %tobool.not.i = icmp eq i64 %and.i, 0
  br i1 %tobool.not.i, label %if.end27.i, label %do.body.i

do.body.i:                                        ; preds = %if.then6
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i)
  %17 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i = icmp ne i32 %17, 0
  %18 = load i16, ptr @_TRACE_PCI_NVME_UB_MMIOWR_MISALIGNED32_DSTATE, align 2
  %tobool4.i.i.i = icmp ne i16 %18, 0
  %or.cond.i.i.i = select i1 %tobool.i.i.i, i1 %tobool4.i.i.i, i1 false
  br i1 %or.cond.i.i.i, label %land.lhs.true5.i.i.i, label %trace_pci_nvme_ub_mmiowr_misaligned32.exit.i

land.lhs.true5.i.i.i:                             ; preds = %do.body.i
  %19 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i = and i32 %19, 32768
  %cmp.i.not.i.i.i = icmp eq i32 %and.i.i.i.i, 0
  br i1 %cmp.i.not.i.i.i, label %trace_pci_nvme_ub_mmiowr_misaligned32.exit.i, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %land.lhs.true5.i.i.i
  %20 = load i8, ptr @message_with_timestamp, align 1
  %21 = and i8 %20, 1
  %tobool7.not.i.i.i = icmp eq i8 %21, 0
  br i1 %tobool7.not.i.i.i, label %if.else.i.i.i, label %if.then8.i.i.i

if.then8.i.i.i:                                   ; preds = %if.then.i.i.i
  %call9.i.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i, ptr noundef null) #17
  %call10.i.i.i = tail call i32 @qemu_get_thread_id() #17
  %22 = load i64, ptr %_now.i.i.i, align 8
  %tv_usec.i.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i, i64 0, i32 1
  %23 = load i64, ptr %tv_usec.i.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.120, i32 noundef %call10.i.i.i, i64 noundef %22, i64 noundef %23, i64 noundef %addr) #17
  br label %trace_pci_nvme_ub_mmiowr_misaligned32.exit.i

if.else.i.i.i:                                    ; preds = %if.then.i.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.121, i64 noundef %addr) #17
  br label %trace_pci_nvme_ub_mmiowr_misaligned32.exit.i

trace_pci_nvme_ub_mmiowr_misaligned32.exit.i:     ; preds = %if.else.i.i.i, %if.then8.i.i.i, %land.lhs.true5.i.i.i, %do.body.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i)
  %24 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %24, 2048
  %cmp.i.not.i28 = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i28, label %if.end27.i, label %if.then25.i

if.then25.i:                                      ; preds = %trace_pci_nvme_ub_mmiowr_misaligned32.exit.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.107, ptr noundef nonnull @__func__.nvme_write_bar, i64 noundef %addr) #17
  br label %if.end27.i

if.end27.i:                                       ; preds = %if.then25.i, %trace_pci_nvme_ub_mmiowr_misaligned32.exit.i, %if.then6
  %cmp.i29 = icmp ult i32 %size, 4
  br i1 %cmp.i29, label %do.body37.i, label %if.end50.i

do.body37.i:                                      ; preds = %if.end27.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i125.i)
  %25 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i126.i = icmp ne i32 %25, 0
  %26 = load i16, ptr @_TRACE_PCI_NVME_UB_MMIOWR_TOOSMALL_DSTATE, align 2
  %tobool4.i.i127.i = icmp ne i16 %26, 0
  %or.cond.i.i128.i = select i1 %tobool.i.i126.i, i1 %tobool4.i.i127.i, i1 false
  br i1 %or.cond.i.i128.i, label %land.lhs.true5.i.i129.i, label %trace_pci_nvme_ub_mmiowr_toosmall.exit.i

land.lhs.true5.i.i129.i:                          ; preds = %do.body37.i
  %27 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i130.i = and i32 %27, 32768
  %cmp.i.not.i.i131.i = icmp eq i32 %and.i.i.i130.i, 0
  br i1 %cmp.i.not.i.i131.i, label %trace_pci_nvme_ub_mmiowr_toosmall.exit.i, label %if.then.i.i132.i

if.then.i.i132.i:                                 ; preds = %land.lhs.true5.i.i129.i
  %28 = load i8, ptr @message_with_timestamp, align 1
  %29 = and i8 %28, 1
  %tobool7.not.i.i133.i = icmp eq i8 %29, 0
  br i1 %tobool7.not.i.i133.i, label %if.else.i.i138.i, label %if.then8.i.i134.i

if.then8.i.i134.i:                                ; preds = %if.then.i.i132.i
  %call9.i.i135.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i125.i, ptr noundef null) #17
  %call10.i.i136.i = tail call i32 @qemu_get_thread_id() #17
  %30 = load i64, ptr %_now.i.i125.i, align 8
  %tv_usec.i.i137.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i125.i, i64 0, i32 1
  %31 = load i64, ptr %tv_usec.i.i137.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.122, i32 noundef %call10.i.i136.i, i64 noundef %30, i64 noundef %31, i64 noundef %addr, i32 noundef %size) #17
  br label %trace_pci_nvme_ub_mmiowr_toosmall.exit.i

if.else.i.i138.i:                                 ; preds = %if.then.i.i132.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.123, i64 noundef %addr, i32 noundef %size) #17
  br label %trace_pci_nvme_ub_mmiowr_toosmall.exit.i

trace_pci_nvme_ub_mmiowr_toosmall.exit.i:         ; preds = %if.else.i.i138.i, %if.then8.i.i134.i, %land.lhs.true5.i.i129.i, %do.body37.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i125.i)
  %32 = load i32, ptr @qemu_loglevel, align 4
  %and.i139.i = and i32 %32, 2048
  %cmp.i140.not.i = icmp eq i32 %and.i139.i, 0
  br i1 %cmp.i140.not.i, label %if.end50.i, label %if.then46.i

if.then46.i:                                      ; preds = %trace_pci_nvme_ub_mmiowr_toosmall.exit.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.108, ptr noundef nonnull @__func__.nvme_write_bar, i64 noundef %addr, i32 noundef %size) #17
  br label %if.end50.i

if.end50.i:                                       ; preds = %if.then46.i, %trace_pci_nvme_ub_mmiowr_toosmall.exit.i, %if.end27.i
  switch i64 %addr, label %do.body451.i [
    i64 12, label %sw.bb.i
    i64 16, label %sw.bb83.i
    i64 20, label %sw.bb118.i
    i64 28, label %sw.bb174.i
    i64 32, label %sw.bb210.i
    i64 36, label %sw.bb216.i
    i64 40, label %sw.bb220.i
    i64 44, label %sw.bb222.i
    i64 48, label %sw.bb229.i
    i64 52, label %sw.bb231.i
    i64 56, label %do.body240.i
    i64 60, label %do.body254.i
    i64 80, label %sw.bb267.i
    i64 84, label %sw.bb312.i
    i64 3584, label %do.body318.i
    i64 3588, label %sw.bb331.i
    i64 3592, label %do.body356.i
    i64 3596, label %do.body370.i
    i64 3600, label %do.body384.i
    i64 3604, label %sw.bb397.i
    i64 3608, label %sw.bb442.i
  ]

sw.bb.i:                                          ; preds = %if.end50.i
  %call51.i = tail call i32 @msix_enabled(ptr noundef %call.i.i) #17
  %tobool52.not.i = icmp eq i32 %call51.i, 0
  br i1 %tobool52.not.i, label %if.end73.i, label %do.body60.i

do.body60.i:                                      ; preds = %sw.bb.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i141.i)
  %33 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i142.i = icmp ne i32 %33, 0
  %34 = load i16, ptr @_TRACE_PCI_NVME_UB_MMIOWR_INTMASK_WITH_MSIX_DSTATE, align 2
  %tobool4.i.i143.i = icmp ne i16 %34, 0
  %or.cond.i.i144.i = select i1 %tobool.i.i142.i, i1 %tobool4.i.i143.i, i1 false
  br i1 %or.cond.i.i144.i, label %land.lhs.true5.i.i145.i, label %trace_pci_nvme_ub_mmiowr_intmask_with_msix.exit.i

land.lhs.true5.i.i145.i:                          ; preds = %do.body60.i
  %35 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i146.i = and i32 %35, 32768
  %cmp.i.not.i.i147.i = icmp eq i32 %and.i.i.i146.i, 0
  br i1 %cmp.i.not.i.i147.i, label %trace_pci_nvme_ub_mmiowr_intmask_with_msix.exit.i, label %if.then.i.i148.i

if.then.i.i148.i:                                 ; preds = %land.lhs.true5.i.i145.i
  %36 = load i8, ptr @message_with_timestamp, align 1
  %37 = and i8 %36, 1
  %tobool7.not.i.i149.i = icmp eq i8 %37, 0
  br i1 %tobool7.not.i.i149.i, label %if.else.i.i154.i, label %if.then8.i.i150.i

if.then8.i.i150.i:                                ; preds = %if.then.i.i148.i
  %call9.i.i151.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i141.i, ptr noundef null) #17
  %call10.i.i152.i = tail call i32 @qemu_get_thread_id() #17
  %38 = load i64, ptr %_now.i.i141.i, align 8
  %tv_usec.i.i153.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i141.i, i64 0, i32 1
  %39 = load i64, ptr %tv_usec.i.i153.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.124, i32 noundef %call10.i.i152.i, i64 noundef %38, i64 noundef %39) #17
  br label %trace_pci_nvme_ub_mmiowr_intmask_with_msix.exit.i

if.else.i.i154.i:                                 ; preds = %if.then.i.i148.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.125) #17
  br label %trace_pci_nvme_ub_mmiowr_intmask_with_msix.exit.i

trace_pci_nvme_ub_mmiowr_intmask_with_msix.exit.i: ; preds = %if.else.i.i154.i, %if.then8.i.i150.i, %land.lhs.true5.i.i145.i, %do.body60.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i141.i)
  %40 = load i32, ptr @qemu_loglevel, align 4
  %and.i155.i = and i32 %40, 2048
  %cmp.i156.not.i = icmp eq i32 %and.i155.i, 0
  br i1 %cmp.i156.not.i, label %if.end73.i, label %if.then69.i

if.then69.i:                                      ; preds = %trace_pci_nvme_ub_mmiowr_intmask_with_msix.exit.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.109, ptr noundef nonnull @__func__.nvme_write_bar) #17
  br label %if.end73.i

if.end73.i:                                       ; preds = %if.then69.i, %trace_pci_nvme_ub_mmiowr_intmask_with_msix.exit.i, %sw.bb.i
  %41 = trunc i64 %data to i32
  %conv75.i = or i32 %intms7.val.i, %41
  store i32 %conv75.i, ptr %intms7.i, align 1
  %intmc.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 3
  store i32 %conv75.i, ptr %intmc.i, align 16
  %and81.i = and i64 %data, 4294967295
  %conv82.i = zext i32 %conv75.i to i64
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i157.i)
  %42 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i158.i = icmp ne i32 %42, 0
  %43 = load i16, ptr @_TRACE_PCI_NVME_MMIO_INTM_SET_DSTATE, align 2
  %tobool4.i.i159.i = icmp ne i16 %43, 0
  %or.cond.i.i160.i = select i1 %tobool.i.i158.i, i1 %tobool4.i.i159.i, i1 false
  br i1 %or.cond.i.i160.i, label %land.lhs.true5.i.i161.i, label %trace_pci_nvme_mmio_intm_set.exit.i

land.lhs.true5.i.i161.i:                          ; preds = %if.end73.i
  %44 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i162.i = and i32 %44, 32768
  %cmp.i.not.i.i163.i = icmp eq i32 %and.i.i.i162.i, 0
  br i1 %cmp.i.not.i.i163.i, label %trace_pci_nvme_mmio_intm_set.exit.i, label %if.then.i.i164.i

if.then.i.i164.i:                                 ; preds = %land.lhs.true5.i.i161.i
  %45 = load i8, ptr @message_with_timestamp, align 1
  %46 = and i8 %45, 1
  %tobool7.not.i.i165.i = icmp eq i8 %46, 0
  br i1 %tobool7.not.i.i165.i, label %if.else.i.i170.i, label %if.then8.i.i166.i

if.then8.i.i166.i:                                ; preds = %if.then.i.i164.i
  %call9.i.i167.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i157.i, ptr noundef null) #17
  %call10.i.i168.i = tail call i32 @qemu_get_thread_id() #17
  %47 = load i64, ptr %_now.i.i157.i, align 8
  %tv_usec.i.i169.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i157.i, i64 0, i32 1
  %48 = load i64, ptr %tv_usec.i.i169.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.126, i32 noundef %call10.i.i168.i, i64 noundef %47, i64 noundef %48, i64 noundef %and81.i, i64 noundef %conv82.i) #17
  br label %trace_pci_nvme_mmio_intm_set.exit.i

if.else.i.i170.i:                                 ; preds = %if.then.i.i164.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.127, i64 noundef %and81.i, i64 noundef %conv82.i) #17
  br label %trace_pci_nvme_mmio_intm_set.exit.i

trace_pci_nvme_mmio_intm_set.exit.i:              ; preds = %if.else.i.i170.i, %if.then8.i.i166.i, %land.lhs.true5.i.i161.i, %if.end73.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i157.i)
  %call.i.i.i = tail call ptr @object_dynamic_cast_assert(ptr noundef nonnull %opaque, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %intms1.val.i.i = load i32, ptr %intms7.i, align 1
  %call3.i.i = tail call i32 @msix_enabled(ptr noundef %call.i.i.i) #17
  %tobool.not.i.i = icmp eq i32 %call3.i.i, 0
  br i1 %tobool.not.i.i, label %if.end.i.i, label %if.end7

if.end.i.i:                                       ; preds = %trace_pci_nvme_mmio_intm_set.exit.i
  %not.i.i = xor i32 %intms1.val.i.i, -1
  %irq_status.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 13
  %49 = load i32, ptr %irq_status.i.i, align 4
  %and.i171.i = and i32 %49, %not.i.i
  %tobool4.not.i.i = icmp ne i32 %and.i171.i, 0
  %..i.i = zext i1 %tobool4.not.i.i to i32
  tail call void @pci_set_irq(ptr noundef %call.i.i.i, i32 noundef %..i.i) #17
  br label %if.end7

sw.bb83.i:                                        ; preds = %if.end50.i
  %call84.i = tail call i32 @msix_enabled(ptr noundef %call.i.i) #17
  %tobool85.not.i = icmp eq i32 %call84.i, 0
  br i1 %tobool85.not.i, label %if.end106.i, label %do.body93.i

do.body93.i:                                      ; preds = %sw.bb83.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i172.i)
  %50 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i173.i = icmp ne i32 %50, 0
  %51 = load i16, ptr @_TRACE_PCI_NVME_UB_MMIOWR_INTMASK_WITH_MSIX_DSTATE, align 2
  %tobool4.i.i174.i = icmp ne i16 %51, 0
  %or.cond.i.i175.i = select i1 %tobool.i.i173.i, i1 %tobool4.i.i174.i, i1 false
  br i1 %or.cond.i.i175.i, label %land.lhs.true5.i.i176.i, label %trace_pci_nvme_ub_mmiowr_intmask_with_msix.exit186.i

land.lhs.true5.i.i176.i:                          ; preds = %do.body93.i
  %52 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i177.i = and i32 %52, 32768
  %cmp.i.not.i.i178.i = icmp eq i32 %and.i.i.i177.i, 0
  br i1 %cmp.i.not.i.i178.i, label %trace_pci_nvme_ub_mmiowr_intmask_with_msix.exit186.i, label %if.then.i.i179.i

if.then.i.i179.i:                                 ; preds = %land.lhs.true5.i.i176.i
  %53 = load i8, ptr @message_with_timestamp, align 1
  %54 = and i8 %53, 1
  %tobool7.not.i.i180.i = icmp eq i8 %54, 0
  br i1 %tobool7.not.i.i180.i, label %if.else.i.i185.i, label %if.then8.i.i181.i

if.then8.i.i181.i:                                ; preds = %if.then.i.i179.i
  %call9.i.i182.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i172.i, ptr noundef null) #17
  %call10.i.i183.i = tail call i32 @qemu_get_thread_id() #17
  %55 = load i64, ptr %_now.i.i172.i, align 8
  %tv_usec.i.i184.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i172.i, i64 0, i32 1
  %56 = load i64, ptr %tv_usec.i.i184.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.124, i32 noundef %call10.i.i183.i, i64 noundef %55, i64 noundef %56) #17
  br label %trace_pci_nvme_ub_mmiowr_intmask_with_msix.exit186.i

if.else.i.i185.i:                                 ; preds = %if.then.i.i179.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.125) #17
  br label %trace_pci_nvme_ub_mmiowr_intmask_with_msix.exit186.i

trace_pci_nvme_ub_mmiowr_intmask_with_msix.exit186.i: ; preds = %if.else.i.i185.i, %if.then8.i.i181.i, %land.lhs.true5.i.i176.i, %do.body93.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i172.i)
  %57 = load i32, ptr @qemu_loglevel, align 4
  %and.i187.i = and i32 %57, 2048
  %cmp.i188.not.i = icmp eq i32 %and.i187.i, 0
  br i1 %cmp.i188.not.i, label %if.end106.i, label %if.then102.i

if.then102.i:                                     ; preds = %trace_pci_nvme_ub_mmiowr_intmask_with_msix.exit186.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.110, ptr noundef nonnull @__func__.nvme_write_bar) #17
  br label %if.end106.i

if.end106.i:                                      ; preds = %if.then102.i, %trace_pci_nvme_ub_mmiowr_intmask_with_msix.exit186.i, %sw.bb83.i
  %58 = trunc i64 %data to i32
  %59 = xor i32 %58, -1
  %conv109.i = and i32 %intms7.val.i, %59
  store i32 %conv109.i, ptr %intms7.i, align 1
  %intmc115.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 3
  store i32 %conv109.i, ptr %intmc115.i, align 16
  %and116.i = and i64 %data, 4294967295
  %conv117.i = zext i32 %conv109.i to i64
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i189.i)
  %60 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i190.i = icmp ne i32 %60, 0
  %61 = load i16, ptr @_TRACE_PCI_NVME_MMIO_INTM_CLR_DSTATE, align 2
  %tobool4.i.i191.i = icmp ne i16 %61, 0
  %or.cond.i.i192.i = select i1 %tobool.i.i190.i, i1 %tobool4.i.i191.i, i1 false
  br i1 %or.cond.i.i192.i, label %land.lhs.true5.i.i193.i, label %trace_pci_nvme_mmio_intm_clr.exit.i

land.lhs.true5.i.i193.i:                          ; preds = %if.end106.i
  %62 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i194.i = and i32 %62, 32768
  %cmp.i.not.i.i195.i = icmp eq i32 %and.i.i.i194.i, 0
  br i1 %cmp.i.not.i.i195.i, label %trace_pci_nvme_mmio_intm_clr.exit.i, label %if.then.i.i196.i

if.then.i.i196.i:                                 ; preds = %land.lhs.true5.i.i193.i
  %63 = load i8, ptr @message_with_timestamp, align 1
  %64 = and i8 %63, 1
  %tobool7.not.i.i197.i = icmp eq i8 %64, 0
  br i1 %tobool7.not.i.i197.i, label %if.else.i.i202.i, label %if.then8.i.i198.i

if.then8.i.i198.i:                                ; preds = %if.then.i.i196.i
  %call9.i.i199.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i189.i, ptr noundef null) #17
  %call10.i.i200.i = tail call i32 @qemu_get_thread_id() #17
  %65 = load i64, ptr %_now.i.i189.i, align 8
  %tv_usec.i.i201.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i189.i, i64 0, i32 1
  %66 = load i64, ptr %tv_usec.i.i201.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.128, i32 noundef %call10.i.i200.i, i64 noundef %65, i64 noundef %66, i64 noundef %and116.i, i64 noundef %conv117.i) #17
  br label %trace_pci_nvme_mmio_intm_clr.exit.i

if.else.i.i202.i:                                 ; preds = %if.then.i.i196.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.129, i64 noundef %and116.i, i64 noundef %conv117.i) #17
  br label %trace_pci_nvme_mmio_intm_clr.exit.i

trace_pci_nvme_mmio_intm_clr.exit.i:              ; preds = %if.else.i.i202.i, %if.then8.i.i198.i, %land.lhs.true5.i.i193.i, %if.end106.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i189.i)
  %call.i.i203.i = tail call ptr @object_dynamic_cast_assert(ptr noundef nonnull %opaque, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %intms1.val.i205.i = load i32, ptr %intms7.i, align 1
  %call3.i206.i = tail call i32 @msix_enabled(ptr noundef %call.i.i203.i) #17
  %tobool.not.i207.i = icmp eq i32 %call3.i206.i, 0
  br i1 %tobool.not.i207.i, label %if.end.i208.i, label %if.end7

if.end.i208.i:                                    ; preds = %trace_pci_nvme_mmio_intm_clr.exit.i
  %not.i209.i = xor i32 %intms1.val.i205.i, -1
  %irq_status.i210.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 13
  %67 = load i32, ptr %irq_status.i210.i, align 4
  %and.i211.i = and i32 %67, %not.i209.i
  %tobool4.not.i212.i = icmp ne i32 %and.i211.i, 0
  %..i213.i = zext i1 %tobool4.not.i212.i to i32
  tail call void @pci_set_irq(ptr noundef %call.i.i203.i, i32 noundef %..i213.i) #17
  br label %if.end7

sw.bb118.i:                                       ; preds = %if.end50.i
  %conv121.i = trunc i64 %data to i32
  store i32 %conv121.i, ptr %cc4.i, align 1
  %and122.i = and i64 %data, 4294967295
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i215.i)
  %68 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i216.i = icmp ne i32 %68, 0
  %69 = load i16, ptr @_TRACE_PCI_NVME_MMIO_CFG_DSTATE, align 2
  %tobool4.i.i217.i = icmp ne i16 %69, 0
  %or.cond.i.i218.i = select i1 %tobool.i.i216.i, i1 %tobool4.i.i217.i, i1 false
  br i1 %or.cond.i.i218.i, label %land.lhs.true5.i.i219.i, label %trace_pci_nvme_mmio_cfg.exit.i

land.lhs.true5.i.i219.i:                          ; preds = %sw.bb118.i
  %70 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i220.i = and i32 %70, 32768
  %cmp.i.not.i.i221.i = icmp eq i32 %and.i.i.i220.i, 0
  br i1 %cmp.i.not.i.i221.i, label %trace_pci_nvme_mmio_cfg.exit.i, label %if.then.i.i222.i

if.then.i.i222.i:                                 ; preds = %land.lhs.true5.i.i219.i
  %71 = load i8, ptr @message_with_timestamp, align 1
  %72 = and i8 %71, 1
  %tobool7.not.i.i223.i = icmp eq i8 %72, 0
  br i1 %tobool7.not.i.i223.i, label %if.else.i.i228.i, label %if.then8.i.i224.i

if.then8.i.i224.i:                                ; preds = %if.then.i.i222.i
  %call9.i.i225.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i215.i, ptr noundef null) #17
  %call10.i.i226.i = tail call i32 @qemu_get_thread_id() #17
  %73 = load i64, ptr %_now.i.i215.i, align 8
  %tv_usec.i.i227.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i215.i, i64 0, i32 1
  %74 = load i64, ptr %tv_usec.i.i227.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.130, i32 noundef %call10.i.i226.i, i64 noundef %73, i64 noundef %74, i64 noundef %and122.i) #17
  br label %trace_pci_nvme_mmio_cfg.exit.i

if.else.i.i228.i:                                 ; preds = %if.then.i.i222.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.131, i64 noundef %and122.i) #17
  br label %trace_pci_nvme_mmio_cfg.exit.i

trace_pci_nvme_mmio_cfg.exit.i:                   ; preds = %if.else.i.i228.i, %if.then8.i.i224.i, %land.lhs.true5.i.i219.i, %sw.bb118.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i215.i)
  %75 = and i64 %data, 49152
  %tobool124.not.i = icmp ne i64 %75, 0
  %76 = and i32 %cc4.val.i, 49152
  %tobool127.not.i = icmp eq i32 %76, 0
  %or.cond.i = select i1 %tobool124.not.i, i1 %tobool127.not.i, i1 false
  br i1 %or.cond.i, label %if.then128.i, label %if.else.i

if.then128.i:                                     ; preds = %trace_pci_nvme_mmio_cfg.exit.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i229.i)
  %77 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i230.i = icmp ne i32 %77, 0
  %78 = load i16, ptr @_TRACE_PCI_NVME_MMIO_SHUTDOWN_SET_DSTATE, align 2
  %tobool4.i.i231.i = icmp ne i16 %78, 0
  %or.cond.i.i232.i = select i1 %tobool.i.i230.i, i1 %tobool4.i.i231.i, i1 false
  br i1 %or.cond.i.i232.i, label %land.lhs.true5.i.i233.i, label %trace_pci_nvme_mmio_shutdown_set.exit.i

land.lhs.true5.i.i233.i:                          ; preds = %if.then128.i
  %79 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i234.i = and i32 %79, 32768
  %cmp.i.not.i.i235.i = icmp eq i32 %and.i.i.i234.i, 0
  br i1 %cmp.i.not.i.i235.i, label %trace_pci_nvme_mmio_shutdown_set.exit.i, label %if.then.i.i236.i

if.then.i.i236.i:                                 ; preds = %land.lhs.true5.i.i233.i
  %80 = load i8, ptr @message_with_timestamp, align 1
  %81 = and i8 %80, 1
  %tobool7.not.i.i237.i = icmp eq i8 %81, 0
  br i1 %tobool7.not.i.i237.i, label %if.else.i.i242.i, label %if.then8.i.i238.i

if.then8.i.i238.i:                                ; preds = %if.then.i.i236.i
  %call9.i.i239.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i229.i, ptr noundef null) #17
  %call10.i.i240.i = tail call i32 @qemu_get_thread_id() #17
  %82 = load i64, ptr %_now.i.i229.i, align 8
  %tv_usec.i.i241.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i229.i, i64 0, i32 1
  %83 = load i64, ptr %tv_usec.i.i241.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.132, i32 noundef %call10.i.i240.i, i64 noundef %82, i64 noundef %83) #17
  br label %trace_pci_nvme_mmio_shutdown_set.exit.i

if.else.i.i242.i:                                 ; preds = %if.then.i.i236.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.133) #17
  br label %trace_pci_nvme_mmio_shutdown_set.exit.i

trace_pci_nvme_mmio_shutdown_set.exit.i:          ; preds = %if.else.i.i242.i, %if.then8.i.i238.i, %land.lhs.true5.i.i233.i, %if.then128.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i229.i)
  %pmr.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 26
  %84 = load ptr, ptr %pmr.i.i, align 16
  %tobool.not.i243.i = icmp eq ptr %84, null
  br i1 %tobool.not.i243.i, label %nvme_ns.exit.i.i.preheader, label %if.then.i.i32

if.then.i.i32:                                    ; preds = %trace_pci_nvme_mmio_shutdown_set.exit.i
  %mr.i.i = getelementptr inbounds %struct.HostMemoryBackend, ptr %84, i64 0, i32 13
  %size.i.i = getelementptr inbounds %struct.HostMemoryBackend, ptr %84, i64 0, i32 1
  %85 = load i64, ptr %size.i.i, align 8
  tail call void @memory_region_msync(ptr noundef nonnull %mr.i.i, i64 noundef 0, i64 noundef %85) #17
  br label %nvme_ns.exit.i.i.preheader

nvme_ns.exit.i.i.preheader:                       ; preds = %if.then.i.i32, %trace_pci_nvme_mmio_shutdown_set.exit.i
  br label %nvme_ns.exit.i.i

nvme_ns.exit.i.i:                                 ; preds = %nvme_ns.exit.i.i.preheader, %for.inc.i.i
  %indvars.iv.i.i = phi i64 [ %indvars.iv.next.i.i, %for.inc.i.i ], [ 1, %nvme_ns.exit.i.i.preheader ]
  %arrayidx.i.i.i = getelementptr %struct.NvmeCtrl, ptr %opaque, i64 0, i32 35, i64 %indvars.iv.i.i
  %86 = load ptr, ptr %arrayidx.i.i.i, align 8
  %tobool5.not.i.i = icmp eq ptr %86, null
  br i1 %tobool5.not.i.i, label %for.inc.i.i, label %if.end7.i.i

if.end7.i.i:                                      ; preds = %nvme_ns.exit.i.i
  tail call void @nvme_ns_shutdown(ptr noundef nonnull %86) #17
  br label %for.inc.i.i

for.inc.i.i:                                      ; preds = %if.end7.i.i, %nvme_ns.exit.i.i
  %indvars.iv.next.i.i = add nuw nsw i64 %indvars.iv.i.i, 1
  %exitcond.not.i.i = icmp eq i64 %indvars.iv.next.i.i, 257
  br i1 %exitcond.not.i.i, label %nvme_ctrl_shutdown.exit.i, label %nvme_ns.exit.i.i, !llvm.loop !21

nvme_ctrl_shutdown.exit.i:                        ; preds = %for.inc.i.i
  %and129.i = and i32 %csts10.val.i, -13
  %or130.i = or disjoint i32 %and129.i, 8
  br label %if.end141.i

if.else.i:                                        ; preds = %trace_pci_nvme_mmio_cfg.exit.i
  %or.cond121.i = select i1 %tobool124.not.i, i1 true, i1 %tobool127.not.i
  br i1 %or.cond121.i, label %if.end141.i, label %if.then138.i

if.then138.i:                                     ; preds = %if.else.i
  tail call fastcc void @trace_pci_nvme_mmio_shutdown_cleared()
  %and139.i = and i32 %csts10.val.i, -13
  br label %if.end141.i

if.end141.i:                                      ; preds = %if.then138.i, %if.else.i, %nvme_ctrl_shutdown.exit.i
  %csts.0.i = phi i32 [ %csts10.val.i, %if.else.i ], [ %and139.i, %if.then138.i ], [ %or130.i, %nvme_ctrl_shutdown.exit.i ]
  %and143.i = and i64 %data, 1
  %tobool144.not.i = icmp ne i64 %and143.i, 0
  %and147.i = and i32 %cc4.val.i, 1
  %tobool148.not.i = icmp eq i32 %and147.i, 0
  %or.cond122.i = select i1 %tobool144.not.i, i1 %tobool148.not.i, i1 false
  br i1 %or.cond122.i, label %if.then149.i, label %if.else161.i

if.then149.i:                                     ; preds = %if.end141.i
  %bar.val.i.i = load i64, ptr %bar.i, align 1
  %cc3.val.i.i = load i32, ptr %cc4.i, align 1
  %aqa6.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 8
  %aqa6.val.i.i = load i32, ptr %aqa6.i.i, align 1
  %asq9.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 9
  %asq9.val.i.i = load i64, ptr %asq9.i.i, align 1
  %acq12.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 10
  %acq12.val.i.i = load i64, ptr %acq12.i.i, align 1
  %shr.i.i = lshr i32 %cc3.val.i.i, 7
  %and.i245.i = and i32 %shr.i.i, 15
  %shl.i.i = shl nuw nsw i32 4096, %and.i245.i
  %call.i.i246.i = tail call ptr @pcie_sriov_get_pf(ptr noundef nonnull %opaque) #17
  %call1.i.i.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %call.i.i246.i, ptr noundef nonnull @.str.49, ptr noundef nonnull @.str.39, i32 noundef 647, ptr noundef nonnull @__func__.nvme_sctrl) #17
  %87 = getelementptr i8, ptr %opaque, i64 2232
  %n.val.i.i.i = load ptr, ptr %87, align 8
  %cmp.i.not.i.i247.i = icmp eq ptr %n.val.i.i.i, null
  br i1 %cmp.i.not.i.i247.i, label %nvme_sctrl.exit.i.i, label %if.then.i.i248.i

if.then.i.i248.i:                                 ; preds = %if.then149.i
  %call3.i.i.i = tail call zeroext i16 @pcie_sriov_vf_number(ptr noundef nonnull %opaque) #17
  %idxprom.i.i.i = zext i16 %call3.i.i.i to i64
  %arrayidx.i.i249.i = getelementptr %struct.NvmeCtrl, ptr %call1.i.i.i, i64 0, i32 43, i32 2, i64 %idxprom.i.i.i
  br label %nvme_sctrl.exit.i.i

nvme_sctrl.exit.i.i:                              ; preds = %if.then.i.i248.i, %if.then149.i
  %retval.0.i.i.i = phi ptr [ %arrayidx.i.i249.i, %if.then.i.i248.i ], [ null, %if.then149.i ]
  %call.i41.i.i = tail call ptr @object_dynamic_cast_assert(ptr noundef nonnull %opaque, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %88 = getelementptr i8, ptr %call.i41.i.i, i64 2232
  %call15.val.i.i = load ptr, ptr %88, align 8
  %cmp.i.not.i.i31 = icmp eq ptr %call15.val.i.i, null
  br i1 %cmp.i.not.i.i31, label %if.end.i250.i, label %land.lhs.true.i.i

land.lhs.true.i.i:                                ; preds = %nvme_sctrl.exit.i.i
  %scs.i.i = getelementptr inbounds %struct.NvmeSecCtrlEntry, ptr %retval.0.i.i.i, i64 0, i32 2
  %89 = load i8, ptr %scs.i.i, align 1
  %tobool17.not.i.i = icmp eq i8 %89, 0
  br i1 %tobool17.not.i.i, label %if.then.i252.i, label %if.end.i250.i

if.then.i252.i:                                   ; preds = %land.lhs.true.i.i
  %nvi.i.i = getelementptr inbounds %struct.NvmeSecCtrlEntry, ptr %retval.0.i.i.i, i64 0, i32 6
  %90 = load i16, ptr %nvi.i.i, align 1
  %nvq.i.i = getelementptr inbounds %struct.NvmeSecCtrlEntry, ptr %retval.0.i.i.i, i64 0, i32 5
  %91 = load i16, ptr %nvq.i.i, align 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i.i)
  %92 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i.i = icmp ne i32 %92, 0
  %93 = load i16, ptr @_TRACE_PCI_NVME_ERR_STARTFAIL_VIRT_STATE_DSTATE, align 2
  %tobool4.i.i.i.i = icmp ne i16 %93, 0
  %or.cond.i.i.i.i = select i1 %tobool.i.i.i.i, i1 %tobool4.i.i.i.i, i1 false
  br i1 %or.cond.i.i.i.i, label %land.lhs.true5.i.i.i.i, label %trace_pci_nvme_err_startfail_virt_state.exit.i.i

land.lhs.true5.i.i.i.i:                           ; preds = %if.then.i252.i
  %94 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i.i = and i32 %94, 32768
  %cmp.i.not.i.i.i.i = icmp eq i32 %and.i.i.i.i.i, 0
  br i1 %cmp.i.not.i.i.i.i, label %trace_pci_nvme_err_startfail_virt_state.exit.i.i, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %land.lhs.true5.i.i.i.i
  %95 = load i8, ptr @message_with_timestamp, align 1
  %96 = and i8 %95, 1
  %tobool7.not.i.i.i.i = icmp eq i8 %96, 0
  br i1 %tobool7.not.i.i.i.i, label %if.else.i.i.i.i, label %if.then8.i.i.i.i

if.then8.i.i.i.i:                                 ; preds = %if.then.i.i.i.i
  %call9.i.i.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i.i, ptr noundef null) #17
  %call10.i.i.i.i = tail call i32 @qemu_get_thread_id() #17
  %97 = load i64, ptr %_now.i.i.i.i, align 8
  %tv_usec.i.i.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i.i, i64 0, i32 1
  %98 = load i64, ptr %tv_usec.i.i.i.i, align 8
  %conv11.i.i.i.i = zext i16 %90 to i32
  %conv12.i.i.i.i = zext i16 %91 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.136, i32 noundef %call10.i.i.i.i, i64 noundef %97, i64 noundef %98, i32 noundef %conv11.i.i.i.i, i32 noundef %conv12.i.i.i.i) #17
  br label %trace_pci_nvme_err_startfail_virt_state.exit.i.i

if.else.i.i.i.i:                                  ; preds = %if.then.i.i.i.i
  %conv13.i.i.i.i = zext i16 %90 to i32
  %conv14.i.i.i.i = zext i16 %91 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.137, i32 noundef %conv13.i.i.i.i, i32 noundef %conv14.i.i.i.i) #17
  br label %trace_pci_nvme_err_startfail_virt_state.exit.i.i

trace_pci_nvme_err_startfail_virt_state.exit.i.i: ; preds = %if.else.i.i.i.i, %if.then8.i.i.i.i, %land.lhs.true5.i.i.i.i, %if.then.i252.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i.i)
  br label %if.then158.i

if.end.i250.i:                                    ; preds = %land.lhs.true.i.i, %nvme_sctrl.exit.i.i
  %cq.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 37
  %99 = load ptr, ptr %cq.i.i, align 8
  %100 = load ptr, ptr %99, align 8
  %tobool20.not.i.i = icmp eq ptr %100, null
  br i1 %tobool20.not.i.i, label %if.end24.i.i, label %if.then23.i.i

if.then23.i.i:                                    ; preds = %if.end.i250.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i42.i.i)
  %101 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i43.i.i = icmp ne i32 %101, 0
  %102 = load i16, ptr @_TRACE_PCI_NVME_ERR_STARTFAIL_CQ_DSTATE, align 2
  %tobool4.i.i44.i.i = icmp ne i16 %102, 0
  %or.cond.i.i45.i.i = select i1 %tobool.i.i43.i.i, i1 %tobool4.i.i44.i.i, i1 false
  br i1 %or.cond.i.i45.i.i, label %land.lhs.true5.i.i46.i.i, label %trace_pci_nvme_err_startfail_cq.exit.i.i

land.lhs.true5.i.i46.i.i:                         ; preds = %if.then23.i.i
  %103 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i47.i.i = and i32 %103, 32768
  %cmp.i.not.i.i48.i.i = icmp eq i32 %and.i.i.i47.i.i, 0
  br i1 %cmp.i.not.i.i48.i.i, label %trace_pci_nvme_err_startfail_cq.exit.i.i, label %if.then.i.i49.i.i

if.then.i.i49.i.i:                                ; preds = %land.lhs.true5.i.i46.i.i
  %104 = load i8, ptr @message_with_timestamp, align 1
  %105 = and i8 %104, 1
  %tobool7.not.i.i50.i.i = icmp eq i8 %105, 0
  br i1 %tobool7.not.i.i50.i.i, label %if.else.i.i55.i.i, label %if.then8.i.i51.i.i

if.then8.i.i51.i.i:                               ; preds = %if.then.i.i49.i.i
  %call9.i.i52.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i42.i.i, ptr noundef null) #17
  %call10.i.i53.i.i = tail call i32 @qemu_get_thread_id() #17
  %106 = load i64, ptr %_now.i.i42.i.i, align 8
  %tv_usec.i.i54.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i42.i.i, i64 0, i32 1
  %107 = load i64, ptr %tv_usec.i.i54.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.138, i32 noundef %call10.i.i53.i.i, i64 noundef %106, i64 noundef %107) #17
  br label %trace_pci_nvme_err_startfail_cq.exit.i.i

if.else.i.i55.i.i:                                ; preds = %if.then.i.i49.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.139) #17
  br label %trace_pci_nvme_err_startfail_cq.exit.i.i

trace_pci_nvme_err_startfail_cq.exit.i.i:         ; preds = %if.else.i.i55.i.i, %if.then8.i.i51.i.i, %land.lhs.true5.i.i46.i.i, %if.then23.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i42.i.i)
  br label %if.then158.i

if.end24.i.i:                                     ; preds = %if.end.i250.i
  %sq.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 36
  %108 = load ptr, ptr %sq.i.i, align 16
  %109 = load ptr, ptr %108, align 8
  %tobool26.not.i.i = icmp eq ptr %109, null
  br i1 %tobool26.not.i.i, label %if.end34.i.i, label %if.then33.i.i

if.then33.i.i:                                    ; preds = %if.end24.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i56.i.i)
  %110 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i57.i.i = icmp ne i32 %110, 0
  %111 = load i16, ptr @_TRACE_PCI_NVME_ERR_STARTFAIL_SQ_DSTATE, align 2
  %tobool4.i.i58.i.i = icmp ne i16 %111, 0
  %or.cond.i.i59.i.i = select i1 %tobool.i.i57.i.i, i1 %tobool4.i.i58.i.i, i1 false
  br i1 %or.cond.i.i59.i.i, label %land.lhs.true5.i.i60.i.i, label %trace_pci_nvme_err_startfail_sq.exit.i.i

land.lhs.true5.i.i60.i.i:                         ; preds = %if.then33.i.i
  %112 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i61.i.i = and i32 %112, 32768
  %cmp.i.not.i.i62.i.i = icmp eq i32 %and.i.i.i61.i.i, 0
  br i1 %cmp.i.not.i.i62.i.i, label %trace_pci_nvme_err_startfail_sq.exit.i.i, label %if.then.i.i63.i.i

if.then.i.i63.i.i:                                ; preds = %land.lhs.true5.i.i60.i.i
  %113 = load i8, ptr @message_with_timestamp, align 1
  %114 = and i8 %113, 1
  %tobool7.not.i.i64.i.i = icmp eq i8 %114, 0
  br i1 %tobool7.not.i.i64.i.i, label %if.else.i.i69.i.i, label %if.then8.i.i65.i.i

if.then8.i.i65.i.i:                               ; preds = %if.then.i.i63.i.i
  %call9.i.i66.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i56.i.i, ptr noundef null) #17
  %call10.i.i67.i.i = tail call i32 @qemu_get_thread_id() #17
  %115 = load i64, ptr %_now.i.i56.i.i, align 8
  %tv_usec.i.i68.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i56.i.i, i64 0, i32 1
  %116 = load i64, ptr %tv_usec.i.i68.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.140, i32 noundef %call10.i.i67.i.i, i64 noundef %115, i64 noundef %116) #17
  br label %trace_pci_nvme_err_startfail_sq.exit.i.i

if.else.i.i69.i.i:                                ; preds = %if.then.i.i63.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.141) #17
  br label %trace_pci_nvme_err_startfail_sq.exit.i.i

trace_pci_nvme_err_startfail_sq.exit.i.i:         ; preds = %if.else.i.i69.i.i, %if.then8.i.i65.i.i, %land.lhs.true5.i.i60.i.i, %if.then33.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i56.i.i)
  br label %if.then158.i

if.end34.i.i:                                     ; preds = %if.end24.i.i
  %sub.i.i = add nsw i32 %shl.i.i, -1
  %conv35.i.i = zext nneg i32 %sub.i.i to i64
  %and36.i.i = and i64 %asq9.val.i.i, %conv35.i.i
  %tobool37.not.i.i = icmp eq i64 %and36.i.i, 0
  br i1 %tobool37.not.i.i, label %if.end45.i.i, label %if.then44.i.i

if.then44.i.i:                                    ; preds = %if.end34.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i70.i.i)
  %117 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i71.i.i = icmp ne i32 %117, 0
  %118 = load i16, ptr @_TRACE_PCI_NVME_ERR_STARTFAIL_ASQ_MISALIGNED_DSTATE, align 2
  %tobool4.i.i72.i.i = icmp ne i16 %118, 0
  %or.cond.i.i73.i.i = select i1 %tobool.i.i71.i.i, i1 %tobool4.i.i72.i.i, i1 false
  br i1 %or.cond.i.i73.i.i, label %land.lhs.true5.i.i74.i.i, label %trace_pci_nvme_err_startfail_asq_misaligned.exit.i.i

land.lhs.true5.i.i74.i.i:                         ; preds = %if.then44.i.i
  %119 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i75.i.i = and i32 %119, 32768
  %cmp.i.not.i.i76.i.i = icmp eq i32 %and.i.i.i75.i.i, 0
  br i1 %cmp.i.not.i.i76.i.i, label %trace_pci_nvme_err_startfail_asq_misaligned.exit.i.i, label %if.then.i.i77.i.i

if.then.i.i77.i.i:                                ; preds = %land.lhs.true5.i.i74.i.i
  %120 = load i8, ptr @message_with_timestamp, align 1
  %121 = and i8 %120, 1
  %tobool7.not.i.i78.i.i = icmp eq i8 %121, 0
  br i1 %tobool7.not.i.i78.i.i, label %if.else.i.i83.i.i, label %if.then8.i.i79.i.i

if.then8.i.i79.i.i:                               ; preds = %if.then.i.i77.i.i
  %call9.i.i80.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i70.i.i, ptr noundef null) #17
  %call10.i.i81.i.i = tail call i32 @qemu_get_thread_id() #17
  %122 = load i64, ptr %_now.i.i70.i.i, align 8
  %tv_usec.i.i82.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i70.i.i, i64 0, i32 1
  %123 = load i64, ptr %tv_usec.i.i82.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.142, i32 noundef %call10.i.i81.i.i, i64 noundef %122, i64 noundef %123, i64 noundef %asq9.val.i.i) #17
  br label %trace_pci_nvme_err_startfail_asq_misaligned.exit.i.i

if.else.i.i83.i.i:                                ; preds = %if.then.i.i77.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.143, i64 noundef %asq9.val.i.i) #17
  br label %trace_pci_nvme_err_startfail_asq_misaligned.exit.i.i

trace_pci_nvme_err_startfail_asq_misaligned.exit.i.i: ; preds = %if.else.i.i83.i.i, %if.then8.i.i79.i.i, %land.lhs.true5.i.i74.i.i, %if.then44.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i70.i.i)
  br label %if.then158.i

if.end45.i.i:                                     ; preds = %if.end34.i.i
  %and48.i.i = and i64 %acq12.val.i.i, %conv35.i.i
  %tobool49.not.i.i = icmp eq i64 %and48.i.i, 0
  br i1 %tobool49.not.i.i, label %if.end57.i.i, label %if.then56.i.i

if.then56.i.i:                                    ; preds = %if.end45.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i84.i.i)
  %124 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i85.i.i = icmp ne i32 %124, 0
  %125 = load i16, ptr @_TRACE_PCI_NVME_ERR_STARTFAIL_ACQ_MISALIGNED_DSTATE, align 2
  %tobool4.i.i86.i.i = icmp ne i16 %125, 0
  %or.cond.i.i87.i.i = select i1 %tobool.i.i85.i.i, i1 %tobool4.i.i86.i.i, i1 false
  br i1 %or.cond.i.i87.i.i, label %land.lhs.true5.i.i88.i.i, label %trace_pci_nvme_err_startfail_acq_misaligned.exit.i.i

land.lhs.true5.i.i88.i.i:                         ; preds = %if.then56.i.i
  %126 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i89.i.i = and i32 %126, 32768
  %cmp.i.not.i.i90.i.i = icmp eq i32 %and.i.i.i89.i.i, 0
  br i1 %cmp.i.not.i.i90.i.i, label %trace_pci_nvme_err_startfail_acq_misaligned.exit.i.i, label %if.then.i.i91.i.i

if.then.i.i91.i.i:                                ; preds = %land.lhs.true5.i.i88.i.i
  %127 = load i8, ptr @message_with_timestamp, align 1
  %128 = and i8 %127, 1
  %tobool7.not.i.i92.i.i = icmp eq i8 %128, 0
  br i1 %tobool7.not.i.i92.i.i, label %if.else.i.i97.i.i, label %if.then8.i.i93.i.i

if.then8.i.i93.i.i:                               ; preds = %if.then.i.i91.i.i
  %call9.i.i94.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i84.i.i, ptr noundef null) #17
  %call10.i.i95.i.i = tail call i32 @qemu_get_thread_id() #17
  %129 = load i64, ptr %_now.i.i84.i.i, align 8
  %tv_usec.i.i96.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i84.i.i, i64 0, i32 1
  %130 = load i64, ptr %tv_usec.i.i96.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.144, i32 noundef %call10.i.i95.i.i, i64 noundef %129, i64 noundef %130, i64 noundef %acq12.val.i.i) #17
  br label %trace_pci_nvme_err_startfail_acq_misaligned.exit.i.i

if.else.i.i97.i.i:                                ; preds = %if.then.i.i91.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.145, i64 noundef %acq12.val.i.i) #17
  br label %trace_pci_nvme_err_startfail_acq_misaligned.exit.i.i

trace_pci_nvme_err_startfail_acq_misaligned.exit.i.i: ; preds = %if.else.i.i97.i.i, %if.then8.i.i93.i.i, %land.lhs.true5.i.i88.i.i, %if.then56.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i84.i.i)
  br label %if.then158.i

if.end57.i.i:                                     ; preds = %if.end45.i.i
  %shr58.i.i = lshr i64 %bar.val.i.i, 37
  %shr60.i.i = lshr i32 %cc3.val.i.i, 4
  %and61.i.i = and i32 %shr60.i.i, 7
  %shl62.i.i = shl nuw nsw i32 1, %and61.i.i
  %conv63.i.i = zext nneg i32 %shl62.i.i to i64
  %and64.i.i = and i64 %shr58.i.i, %conv63.i.i
  %tobool65.not.i.i = icmp eq i64 %and64.i.i, 0
  br i1 %tobool65.not.i.i, label %if.then74.i.i, label %if.end78.i.i

if.then74.i.i:                                    ; preds = %if.end57.i.i
  %conv77.i.i = trunc i32 %and61.i.i to i8
  tail call fastcc void @trace_pci_nvme_err_startfail_css(i8 noundef zeroext %conv77.i.i)
  br label %if.then158.i

if.end78.i.i:                                     ; preds = %if.end57.i.i
  %conv81.i.i = zext nneg i32 %and.i245.i to i64
  %shr82.i.i = lshr i64 %bar.val.i.i, 48
  %and83.i.i = and i64 %shr82.i.i, 15
  %cmp.i251.i = icmp ugt i64 %and83.i.i, %conv81.i.i
  br i1 %cmp.i251.i, label %if.then91.i.i, label %if.end98.i.i

if.then91.i.i:                                    ; preds = %if.end78.i.i
  %conv94.i.i = trunc i32 %and.i245.i to i8
  %conv97.i.i = trunc i64 %and83.i.i to i8
  tail call fastcc void @trace_pci_nvme_err_startfail_page_too_small(i8 noundef zeroext %conv94.i.i, i8 noundef zeroext %conv97.i.i)
  br label %if.then158.i

if.end98.i.i:                                     ; preds = %if.end78.i.i
  %shr102.i.i = lshr i64 %bar.val.i.i, 52
  %and103.i.i = and i64 %shr102.i.i, 15
  %cmp104.i.i = icmp ult i64 %and103.i.i, %conv81.i.i
  br i1 %cmp104.i.i, label %if.then112.i.i, label %if.end119.i.i

if.then112.i.i:                                   ; preds = %if.end98.i.i
  %conv115.i.i = trunc i32 %and.i245.i to i8
  %conv118.i.i = trunc i64 %and103.i.i to i8
  tail call fastcc void @trace_pci_nvme_err_startfail_page_too_large(i8 noundef zeroext %conv115.i.i, i8 noundef zeroext %conv118.i.i)
  br label %if.then158.i

if.end119.i.i:                                    ; preds = %if.end98.i.i
  %and121.i.i = and i32 %aqa6.val.i.i, 4095
  %tobool122.not.i.i = icmp eq i32 %and121.i.i, 0
  br i1 %tobool122.not.i.i, label %if.then131.i.i, label %if.end132.i.i

if.then131.i.i:                                   ; preds = %if.end119.i.i
  tail call fastcc void @trace_pci_nvme_err_startfail_asqent_sz_zero()
  br label %if.then158.i

if.end132.i.i:                                    ; preds = %if.end119.i.i
  %shr133.i.i = lshr i32 %aqa6.val.i.i, 16
  %and134.i.i = and i32 %shr133.i.i, 4095
  %tobool135.not.i.i = icmp eq i32 %and134.i.i, 0
  br i1 %tobool135.not.i.i, label %if.then144.i.i, label %if.else159.i

if.then144.i.i:                                   ; preds = %if.end132.i.i
  tail call fastcc void @trace_pci_nvme_err_startfail_acqent_sz_zero()
  br label %if.then158.i

if.then158.i:                                     ; preds = %if.then144.i.i, %if.then131.i.i, %if.then112.i.i, %if.then91.i.i, %if.then74.i.i, %trace_pci_nvme_err_startfail_acq_misaligned.exit.i.i, %trace_pci_nvme_err_startfail_asq_misaligned.exit.i.i, %trace_pci_nvme_err_startfail_sq.exit.i.i, %trace_pci_nvme_err_startfail_cq.exit.i.i, %trace_pci_nvme_err_startfail_virt_state.exit.i.i
  tail call fastcc void @trace_pci_nvme_err_startfail()
  br label %if.end171.i

if.else159.i:                                     ; preds = %if.end132.i.i
  %131 = trunc i32 %and.i245.i to i16
  %conv146.i.i = add nuw nsw i16 %131, 12
  %page_bits147.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 9
  store i16 %conv146.i.i, ptr %page_bits147.i.i, align 16
  %page_size148.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 8
  store i32 %shl.i.i, ptr %page_size148.i.i, align 4
  %132 = shl nuw nsw i32 512, %and.i245.i
  %conv151.i.i = trunc i32 %132 to i16
  %max_prp_ents.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 10
  store i16 %conv151.i.i, ptr %max_prp_ents.i.i, align 2
  %admin_cq.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 39
  %133 = trunc i32 %and134.i.i to i16
  %conv155.i.i = add nuw nsw i16 %133, 1
  tail call fastcc void @nvme_init_cq(ptr noundef nonnull %admin_cq.i.i, ptr noundef nonnull %opaque, i64 noundef %acq12.val.i.i, i16 noundef zeroext 0, i16 noundef zeroext 0, i16 noundef zeroext %conv155.i.i, i16 noundef zeroext 1)
  %admin_sq.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 38
  %134 = trunc i32 %and121.i.i to i16
  %conv159.i.i = add nuw nsw i16 %134, 1
  tail call fastcc void @nvme_init_sq(ptr noundef nonnull %admin_sq.i.i, ptr noundef nonnull %opaque, i64 noundef %asq9.val.i.i, i16 noundef zeroext 0, i16 noundef zeroext 0, i16 noundef zeroext %conv159.i.i)
  tail call fastcc void @nvme_set_timestamp(ptr noundef nonnull %opaque, i64 noundef 0)
  tail call fastcc void @nvme_select_iocs(ptr noundef nonnull %opaque)
  tail call fastcc void @trace_pci_nvme_mmio_start_success()
  br label %if.end171.i

if.else161.i:                                     ; preds = %if.end141.i
  %or.cond124.i = select i1 %tobool144.not.i, i1 true, i1 %tobool148.not.i
  br i1 %or.cond124.i, label %if.end171.i, label %if.then169.i

if.then169.i:                                     ; preds = %if.else161.i
  tail call fastcc void @trace_pci_nvme_mmio_stopped()
  tail call fastcc void @nvme_ctrl_reset(ptr noundef nonnull %opaque, i32 noundef 1)
  br label %if.end7

if.end171.i:                                      ; preds = %if.else161.i, %if.else159.i, %if.then158.i
  %csts.1.i = phi i32 [ %csts.0.i, %if.else161.i ], [ 2, %if.then158.i ], [ 1, %if.else159.i ]
  store i32 %csts.1.i, ptr %csts10.i, align 1
  br label %if.end7

sw.bb174.i:                                       ; preds = %if.end50.i
  %and175.i = and i64 %data, 16
  %tobool176.not.i = icmp eq i64 %and175.i, 0
  br i1 %tobool176.not.i, label %if.else191.i, label %do.body178.i

do.body178.i:                                     ; preds = %sw.bb174.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i253.i)
  %135 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i254.i = icmp ne i32 %135, 0
  %136 = load i16, ptr @_TRACE_PCI_NVME_UB_MMIOWR_SSRESET_W1C_UNSUPPORTED_DSTATE, align 2
  %tobool4.i.i255.i = icmp ne i16 %136, 0
  %or.cond.i.i256.i = select i1 %tobool.i.i254.i, i1 %tobool4.i.i255.i, i1 false
  br i1 %or.cond.i.i256.i, label %land.lhs.true5.i.i257.i, label %trace_pci_nvme_ub_mmiowr_ssreset_w1c_unsupported.exit.i

land.lhs.true5.i.i257.i:                          ; preds = %do.body178.i
  %137 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i258.i = and i32 %137, 32768
  %cmp.i.not.i.i259.i = icmp eq i32 %and.i.i.i258.i, 0
  br i1 %cmp.i.not.i.i259.i, label %trace_pci_nvme_ub_mmiowr_ssreset_w1c_unsupported.exit.i, label %if.then.i.i260.i

if.then.i.i260.i:                                 ; preds = %land.lhs.true5.i.i257.i
  %138 = load i8, ptr @message_with_timestamp, align 1
  %139 = and i8 %138, 1
  %tobool7.not.i.i261.i = icmp eq i8 %139, 0
  br i1 %tobool7.not.i.i261.i, label %if.else.i.i266.i, label %if.then8.i.i262.i

if.then8.i.i262.i:                                ; preds = %if.then.i.i260.i
  %call9.i.i263.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i253.i, ptr noundef null) #17
  %call10.i.i264.i = tail call i32 @qemu_get_thread_id() #17
  %140 = load i64, ptr %_now.i.i253.i, align 8
  %tv_usec.i.i265.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i253.i, i64 0, i32 1
  %141 = load i64, ptr %tv_usec.i.i265.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.430, i32 noundef %call10.i.i264.i, i64 noundef %140, i64 noundef %141) #17
  br label %trace_pci_nvme_ub_mmiowr_ssreset_w1c_unsupported.exit.i

if.else.i.i266.i:                                 ; preds = %if.then.i.i260.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.431) #17
  br label %trace_pci_nvme_ub_mmiowr_ssreset_w1c_unsupported.exit.i

trace_pci_nvme_ub_mmiowr_ssreset_w1c_unsupported.exit.i: ; preds = %if.else.i.i266.i, %if.then8.i.i262.i, %land.lhs.true5.i.i257.i, %do.body178.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i253.i)
  %142 = load i32, ptr @qemu_loglevel, align 4
  %and.i267.i = and i32 %142, 2048
  %cmp.i268.not.i = icmp eq i32 %and.i267.i, 0
  br i1 %cmp.i268.not.i, label %if.end7, label %if.then187.i

if.then187.i:                                     ; preds = %trace_pci_nvme_ub_mmiowr_ssreset_w1c_unsupported.exit.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.111, ptr noundef nonnull @__func__.nvme_write_bar) #17
  br label %if.end7

if.else191.i:                                     ; preds = %sw.bb174.i
  %cmp192.not.i = icmp eq i64 %data, 0
  br i1 %cmp192.not.i, label %if.end7, label %do.body195.i

do.body195.i:                                     ; preds = %if.else191.i
  tail call fastcc void @trace_pci_nvme_ub_mmiowr_ro_csts()
  %143 = load i32, ptr @qemu_loglevel, align 4
  %and.i269.i = and i32 %143, 2048
  %cmp.i270.not.i = icmp eq i32 %and.i269.i, 0
  br i1 %cmp.i270.not.i, label %if.end7, label %if.then204.i

if.then204.i:                                     ; preds = %do.body195.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.112, ptr noundef nonnull @__func__.nvme_write_bar) #17
  br label %if.end7

sw.bb210.i:                                       ; preds = %if.end50.i
  %cmp211.i = icmp eq i64 %data, 1314278757
  br i1 %cmp211.i, label %if.then213.i, label %if.end7

if.then213.i:                                     ; preds = %sw.bb210.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i271.i)
  %144 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i272.i = icmp ne i32 %144, 0
  %145 = load i16, ptr @_TRACE_PCI_NVME_UB_MMIOWR_SSRESET_UNSUPPORTED_DSTATE, align 2
  %tobool4.i.i273.i = icmp ne i16 %145, 0
  %or.cond.i.i274.i = select i1 %tobool.i.i272.i, i1 %tobool4.i.i273.i, i1 false
  br i1 %or.cond.i.i274.i, label %land.lhs.true5.i.i275.i, label %trace_pci_nvme_ub_mmiowr_ssreset_unsupported.exit.i

land.lhs.true5.i.i275.i:                          ; preds = %if.then213.i
  %146 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i276.i = and i32 %146, 32768
  %cmp.i.not.i.i277.i = icmp eq i32 %and.i.i.i276.i, 0
  br i1 %cmp.i.not.i.i277.i, label %trace_pci_nvme_ub_mmiowr_ssreset_unsupported.exit.i, label %if.then.i.i278.i

if.then.i.i278.i:                                 ; preds = %land.lhs.true5.i.i275.i
  %147 = load i8, ptr @message_with_timestamp, align 1
  %148 = and i8 %147, 1
  %tobool7.not.i.i279.i = icmp eq i8 %148, 0
  br i1 %tobool7.not.i.i279.i, label %if.else.i.i284.i, label %if.then8.i.i280.i

if.then8.i.i280.i:                                ; preds = %if.then.i.i278.i
  %call9.i.i281.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i271.i, ptr noundef null) #17
  %call10.i.i282.i = tail call i32 @qemu_get_thread_id() #17
  %149 = load i64, ptr %_now.i.i271.i, align 8
  %tv_usec.i.i283.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i271.i, i64 0, i32 1
  %150 = load i64, ptr %tv_usec.i.i283.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.434, i32 noundef %call10.i.i282.i, i64 noundef %149, i64 noundef %150) #17
  br label %trace_pci_nvme_ub_mmiowr_ssreset_unsupported.exit.i

if.else.i.i284.i:                                 ; preds = %if.then.i.i278.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.435) #17
  br label %trace_pci_nvme_ub_mmiowr_ssreset_unsupported.exit.i

trace_pci_nvme_ub_mmiowr_ssreset_unsupported.exit.i: ; preds = %if.else.i.i284.i, %if.then8.i.i280.i, %land.lhs.true5.i.i275.i, %if.then213.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i271.i)
  br label %if.end7

sw.bb216.i:                                       ; preds = %if.end50.i
  %aqa.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 8
  %conv218.i = trunc i64 %data to i32
  store i32 %conv218.i, ptr %aqa.i, align 1
  %and219.i = and i64 %data, 4294967295
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i285.i)
  %151 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i286.i = icmp ne i32 %151, 0
  %152 = load i16, ptr @_TRACE_PCI_NVME_MMIO_AQATTR_DSTATE, align 2
  %tobool4.i.i287.i = icmp ne i16 %152, 0
  %or.cond.i.i288.i = select i1 %tobool.i.i286.i, i1 %tobool4.i.i287.i, i1 false
  br i1 %or.cond.i.i288.i, label %land.lhs.true5.i.i289.i, label %trace_pci_nvme_mmio_aqattr.exit.i

land.lhs.true5.i.i289.i:                          ; preds = %sw.bb216.i
  %153 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i290.i = and i32 %153, 32768
  %cmp.i.not.i.i291.i = icmp eq i32 %and.i.i.i290.i, 0
  br i1 %cmp.i.not.i.i291.i, label %trace_pci_nvme_mmio_aqattr.exit.i, label %if.then.i.i292.i

if.then.i.i292.i:                                 ; preds = %land.lhs.true5.i.i289.i
  %154 = load i8, ptr @message_with_timestamp, align 1
  %155 = and i8 %154, 1
  %tobool7.not.i.i293.i = icmp eq i8 %155, 0
  br i1 %tobool7.not.i.i293.i, label %if.else.i.i298.i, label %if.then8.i.i294.i

if.then8.i.i294.i:                                ; preds = %if.then.i.i292.i
  %call9.i.i295.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i285.i, ptr noundef null) #17
  %call10.i.i296.i = tail call i32 @qemu_get_thread_id() #17
  %156 = load i64, ptr %_now.i.i285.i, align 8
  %tv_usec.i.i297.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i285.i, i64 0, i32 1
  %157 = load i64, ptr %tv_usec.i.i297.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.436, i32 noundef %call10.i.i296.i, i64 noundef %156, i64 noundef %157, i64 noundef %and219.i) #17
  br label %trace_pci_nvme_mmio_aqattr.exit.i

if.else.i.i298.i:                                 ; preds = %if.then.i.i292.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.437, i64 noundef %and219.i) #17
  br label %trace_pci_nvme_mmio_aqattr.exit.i

trace_pci_nvme_mmio_aqattr.exit.i:                ; preds = %if.else.i.i298.i, %if.then8.i.i294.i, %land.lhs.true5.i.i289.i, %sw.bb216.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i285.i)
  br label %if.end7

sw.bb220.i:                                       ; preds = %if.end50.i
  %asq.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 9
  switch i32 %size, label %do.body.i.i [
    i32 1, label %sw.bb.i.i
    i32 2, label %sw.bb1.i.i
    i32 4, label %sw.bb3.i.i
    i32 8, label %sw.bb5.i.i
  ]

sw.bb.i.i:                                        ; preds = %sw.bb220.i
  %conv.i.i = trunc i64 %data to i8
  store i8 %conv.i.i, ptr %asq.i, align 1
  br label %stn_le_p.exit.i

sw.bb1.i.i:                                       ; preds = %sw.bb220.i
  %conv2.i.i = trunc i64 %data to i16
  store i16 %conv2.i.i, ptr %asq.i, align 1
  br label %stn_le_p.exit.i

sw.bb3.i.i:                                       ; preds = %sw.bb220.i
  %conv4.i.i = trunc i64 %data to i32
  store i32 %conv4.i.i, ptr %asq.i, align 1
  br label %stn_le_p.exit.i

sw.bb5.i.i:                                       ; preds = %sw.bb220.i
  store i64 %data, ptr %asq.i, align 1
  br label %stn_le_p.exit.i

do.body.i.i:                                      ; preds = %sw.bb220.i
  tail call void @g_assertion_message_expr(ptr noundef null, ptr noundef nonnull @.str.104, i32 noundef 419, ptr noundef nonnull @__func__.stn_le_p, ptr noundef null) #18
  unreachable

stn_le_p.exit.i:                                  ; preds = %sw.bb5.i.i, %sw.bb3.i.i, %sw.bb1.i.i, %sw.bb.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i299.i)
  %158 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i300.i = icmp ne i32 %158, 0
  %159 = load i16, ptr @_TRACE_PCI_NVME_MMIO_ASQADDR_DSTATE, align 2
  %tobool4.i.i301.i = icmp ne i16 %159, 0
  %or.cond.i.i302.i = select i1 %tobool.i.i300.i, i1 %tobool4.i.i301.i, i1 false
  br i1 %or.cond.i.i302.i, label %land.lhs.true5.i.i303.i, label %trace_pci_nvme_mmio_asqaddr.exit.i

land.lhs.true5.i.i303.i:                          ; preds = %stn_le_p.exit.i
  %160 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i304.i = and i32 %160, 32768
  %cmp.i.not.i.i305.i = icmp eq i32 %and.i.i.i304.i, 0
  br i1 %cmp.i.not.i.i305.i, label %trace_pci_nvme_mmio_asqaddr.exit.i, label %if.then.i.i306.i

if.then.i.i306.i:                                 ; preds = %land.lhs.true5.i.i303.i
  %161 = load i8, ptr @message_with_timestamp, align 1
  %162 = and i8 %161, 1
  %tobool7.not.i.i307.i = icmp eq i8 %162, 0
  br i1 %tobool7.not.i.i307.i, label %if.else.i.i312.i, label %if.then8.i.i308.i

if.then8.i.i308.i:                                ; preds = %if.then.i.i306.i
  %call9.i.i309.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i299.i, ptr noundef null) #17
  %call10.i.i310.i = tail call i32 @qemu_get_thread_id() #17
  %163 = load i64, ptr %_now.i.i299.i, align 8
  %tv_usec.i.i311.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i299.i, i64 0, i32 1
  %164 = load i64, ptr %tv_usec.i.i311.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.438, i32 noundef %call10.i.i310.i, i64 noundef %163, i64 noundef %164, i64 noundef %data) #17
  br label %trace_pci_nvme_mmio_asqaddr.exit.i

if.else.i.i312.i:                                 ; preds = %if.then.i.i306.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.439, i64 noundef %data) #17
  br label %trace_pci_nvme_mmio_asqaddr.exit.i

trace_pci_nvme_mmio_asqaddr.exit.i:               ; preds = %if.else.i.i312.i, %if.then8.i.i308.i, %land.lhs.true5.i.i303.i, %stn_le_p.exit.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i299.i)
  br label %if.end7

sw.bb222.i:                                       ; preds = %if.end50.i
  %asq224.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 9
  %add.ptr.i = getelementptr i8, ptr %opaque, i64 3196
  %conv225.i = trunc i64 %data to i32
  store i32 %conv225.i, ptr %add.ptr.i, align 1
  %asq224.val.i = load i64, ptr %asq224.i, align 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i313.i)
  %165 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i314.i = icmp ne i32 %165, 0
  %166 = load i16, ptr @_TRACE_PCI_NVME_MMIO_ASQADDR_HI_DSTATE, align 2
  %tobool4.i.i315.i = icmp ne i16 %166, 0
  %or.cond.i.i316.i = select i1 %tobool.i.i314.i, i1 %tobool4.i.i315.i, i1 false
  br i1 %or.cond.i.i316.i, label %land.lhs.true5.i.i317.i, label %trace_pci_nvme_mmio_asqaddr_hi.exit.i

land.lhs.true5.i.i317.i:                          ; preds = %sw.bb222.i
  %167 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i318.i = and i32 %167, 32768
  %cmp.i.not.i.i319.i = icmp eq i32 %and.i.i.i318.i, 0
  br i1 %cmp.i.not.i.i319.i, label %trace_pci_nvme_mmio_asqaddr_hi.exit.i, label %if.then.i.i320.i

if.then.i.i320.i:                                 ; preds = %land.lhs.true5.i.i317.i
  %168 = load i8, ptr @message_with_timestamp, align 1
  %169 = and i8 %168, 1
  %tobool7.not.i.i321.i = icmp eq i8 %169, 0
  br i1 %tobool7.not.i.i321.i, label %if.else.i.i326.i, label %if.then8.i.i322.i

if.then8.i.i322.i:                                ; preds = %if.then.i.i320.i
  %call9.i.i323.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i313.i, ptr noundef null) #17
  %call10.i.i324.i = tail call i32 @qemu_get_thread_id() #17
  %170 = load i64, ptr %_now.i.i313.i, align 8
  %tv_usec.i.i325.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i313.i, i64 0, i32 1
  %171 = load i64, ptr %tv_usec.i.i325.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.440, i32 noundef %call10.i.i324.i, i64 noundef %170, i64 noundef %171, i64 noundef %data, i64 noundef %asq224.val.i) #17
  br label %trace_pci_nvme_mmio_asqaddr_hi.exit.i

if.else.i.i326.i:                                 ; preds = %if.then.i.i320.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.441, i64 noundef %data, i64 noundef %asq224.val.i) #17
  br label %trace_pci_nvme_mmio_asqaddr_hi.exit.i

trace_pci_nvme_mmio_asqaddr_hi.exit.i:            ; preds = %if.else.i.i326.i, %if.then8.i.i322.i, %land.lhs.true5.i.i317.i, %sw.bb222.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i313.i)
  br label %if.end7

sw.bb229.i:                                       ; preds = %if.end50.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i327.i)
  %172 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i328.i = icmp ne i32 %172, 0
  %173 = load i16, ptr @_TRACE_PCI_NVME_MMIO_ACQADDR_DSTATE, align 2
  %tobool4.i.i329.i = icmp ne i16 %173, 0
  %or.cond.i.i330.i = select i1 %tobool.i.i328.i, i1 %tobool4.i.i329.i, i1 false
  br i1 %or.cond.i.i330.i, label %land.lhs.true5.i.i331.i, label %trace_pci_nvme_mmio_acqaddr.exit.i

land.lhs.true5.i.i331.i:                          ; preds = %sw.bb229.i
  %174 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i332.i = and i32 %174, 32768
  %cmp.i.not.i.i333.i = icmp eq i32 %and.i.i.i332.i, 0
  br i1 %cmp.i.not.i.i333.i, label %trace_pci_nvme_mmio_acqaddr.exit.i, label %if.then.i.i334.i

if.then.i.i334.i:                                 ; preds = %land.lhs.true5.i.i331.i
  %175 = load i8, ptr @message_with_timestamp, align 1
  %176 = and i8 %175, 1
  %tobool7.not.i.i335.i = icmp eq i8 %176, 0
  br i1 %tobool7.not.i.i335.i, label %if.else.i.i340.i, label %if.then8.i.i336.i

if.then8.i.i336.i:                                ; preds = %if.then.i.i334.i
  %call9.i.i337.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i327.i, ptr noundef null) #17
  %call10.i.i338.i = tail call i32 @qemu_get_thread_id() #17
  %177 = load i64, ptr %_now.i.i327.i, align 8
  %tv_usec.i.i339.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i327.i, i64 0, i32 1
  %178 = load i64, ptr %tv_usec.i.i339.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.442, i32 noundef %call10.i.i338.i, i64 noundef %177, i64 noundef %178, i64 noundef %data) #17
  br label %trace_pci_nvme_mmio_acqaddr.exit.i

if.else.i.i340.i:                                 ; preds = %if.then.i.i334.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.443, i64 noundef %data) #17
  br label %trace_pci_nvme_mmio_acqaddr.exit.i

trace_pci_nvme_mmio_acqaddr.exit.i:               ; preds = %if.else.i.i340.i, %if.then8.i.i336.i, %land.lhs.true5.i.i331.i, %sw.bb229.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i327.i)
  %acq.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 10
  switch i32 %size, label %do.body.i348.i [
    i32 1, label %sw.bb.i346.i
    i32 2, label %sw.bb1.i344.i
    i32 4, label %sw.bb3.i342.i
    i32 8, label %sw.bb5.i341.i
  ]

sw.bb.i346.i:                                     ; preds = %trace_pci_nvme_mmio_acqaddr.exit.i
  %conv.i347.i = trunc i64 %data to i8
  store i8 %conv.i347.i, ptr %acq.i, align 1
  br label %if.end7

sw.bb1.i344.i:                                    ; preds = %trace_pci_nvme_mmio_acqaddr.exit.i
  %conv2.i345.i = trunc i64 %data to i16
  store i16 %conv2.i345.i, ptr %acq.i, align 1
  br label %if.end7

sw.bb3.i342.i:                                    ; preds = %trace_pci_nvme_mmio_acqaddr.exit.i
  %conv4.i343.i = trunc i64 %data to i32
  store i32 %conv4.i343.i, ptr %acq.i, align 1
  br label %if.end7

sw.bb5.i341.i:                                    ; preds = %trace_pci_nvme_mmio_acqaddr.exit.i
  store i64 %data, ptr %acq.i, align 1
  br label %if.end7

do.body.i348.i:                                   ; preds = %trace_pci_nvme_mmio_acqaddr.exit.i
  tail call void @g_assertion_message_expr(ptr noundef null, ptr noundef nonnull @.str.104, i32 noundef 419, ptr noundef nonnull @__func__.stn_le_p, ptr noundef null) #18
  unreachable

sw.bb231.i:                                       ; preds = %if.end50.i
  %acq233.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 10
  %add.ptr234.i = getelementptr i8, ptr %opaque, i64 3204
  %conv235.i = trunc i64 %data to i32
  store i32 %conv235.i, ptr %add.ptr234.i, align 1
  %acq233.val.i = load i64, ptr %acq233.i, align 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i350.i)
  %179 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i351.i = icmp ne i32 %179, 0
  %180 = load i16, ptr @_TRACE_PCI_NVME_MMIO_ACQADDR_HI_DSTATE, align 2
  %tobool4.i.i352.i = icmp ne i16 %180, 0
  %or.cond.i.i353.i = select i1 %tobool.i.i351.i, i1 %tobool4.i.i352.i, i1 false
  br i1 %or.cond.i.i353.i, label %land.lhs.true5.i.i354.i, label %trace_pci_nvme_mmio_acqaddr_hi.exit.i

land.lhs.true5.i.i354.i:                          ; preds = %sw.bb231.i
  %181 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i355.i = and i32 %181, 32768
  %cmp.i.not.i.i356.i = icmp eq i32 %and.i.i.i355.i, 0
  br i1 %cmp.i.not.i.i356.i, label %trace_pci_nvme_mmio_acqaddr_hi.exit.i, label %if.then.i.i357.i

if.then.i.i357.i:                                 ; preds = %land.lhs.true5.i.i354.i
  %182 = load i8, ptr @message_with_timestamp, align 1
  %183 = and i8 %182, 1
  %tobool7.not.i.i358.i = icmp eq i8 %183, 0
  br i1 %tobool7.not.i.i358.i, label %if.else.i.i363.i, label %if.then8.i.i359.i

if.then8.i.i359.i:                                ; preds = %if.then.i.i357.i
  %call9.i.i360.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i350.i, ptr noundef null) #17
  %call10.i.i361.i = tail call i32 @qemu_get_thread_id() #17
  %184 = load i64, ptr %_now.i.i350.i, align 8
  %tv_usec.i.i362.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i350.i, i64 0, i32 1
  %185 = load i64, ptr %tv_usec.i.i362.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.444, i32 noundef %call10.i.i361.i, i64 noundef %184, i64 noundef %185, i64 noundef %data, i64 noundef %acq233.val.i) #17
  br label %trace_pci_nvme_mmio_acqaddr_hi.exit.i

if.else.i.i363.i:                                 ; preds = %if.then.i.i357.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.445, i64 noundef %data, i64 noundef %acq233.val.i) #17
  br label %trace_pci_nvme_mmio_acqaddr_hi.exit.i

trace_pci_nvme_mmio_acqaddr_hi.exit.i:            ; preds = %if.else.i.i363.i, %if.then8.i.i359.i, %land.lhs.true5.i.i354.i, %sw.bb231.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i350.i)
  br label %if.end7

do.body240.i:                                     ; preds = %if.end50.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i364.i)
  %186 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i365.i = icmp ne i32 %186, 0
  %187 = load i16, ptr @_TRACE_PCI_NVME_UB_MMIOWR_CMBLOC_RESERVED_DSTATE, align 2
  %tobool4.i.i366.i = icmp ne i16 %187, 0
  %or.cond.i.i367.i = select i1 %tobool.i.i365.i, i1 %tobool4.i.i366.i, i1 false
  br i1 %or.cond.i.i367.i, label %land.lhs.true5.i.i368.i, label %trace_pci_nvme_ub_mmiowr_cmbloc_reserved.exit.i

land.lhs.true5.i.i368.i:                          ; preds = %do.body240.i
  %188 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i369.i = and i32 %188, 32768
  %cmp.i.not.i.i370.i = icmp eq i32 %and.i.i.i369.i, 0
  br i1 %cmp.i.not.i.i370.i, label %trace_pci_nvme_ub_mmiowr_cmbloc_reserved.exit.i, label %if.then.i.i371.i

if.then.i.i371.i:                                 ; preds = %land.lhs.true5.i.i368.i
  %189 = load i8, ptr @message_with_timestamp, align 1
  %190 = and i8 %189, 1
  %tobool7.not.i.i372.i = icmp eq i8 %190, 0
  br i1 %tobool7.not.i.i372.i, label %if.else.i.i377.i, label %if.then8.i.i373.i

if.then8.i.i373.i:                                ; preds = %if.then.i.i371.i
  %call9.i.i374.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i364.i, ptr noundef null) #17
  %call10.i.i375.i = tail call i32 @qemu_get_thread_id() #17
  %191 = load i64, ptr %_now.i.i364.i, align 8
  %tv_usec.i.i376.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i364.i, i64 0, i32 1
  %192 = load i64, ptr %tv_usec.i.i376.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.446, i32 noundef %call10.i.i375.i, i64 noundef %191, i64 noundef %192) #17
  br label %trace_pci_nvme_ub_mmiowr_cmbloc_reserved.exit.i

if.else.i.i377.i:                                 ; preds = %if.then.i.i371.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.447) #17
  br label %trace_pci_nvme_ub_mmiowr_cmbloc_reserved.exit.i

trace_pci_nvme_ub_mmiowr_cmbloc_reserved.exit.i:  ; preds = %if.else.i.i377.i, %if.then8.i.i373.i, %land.lhs.true5.i.i368.i, %do.body240.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i364.i)
  %193 = load i32, ptr @qemu_loglevel, align 4
  %and.i378.i = and i32 %193, 2048
  %cmp.i379.not.i = icmp eq i32 %and.i378.i, 0
  br i1 %cmp.i379.not.i, label %if.end7, label %if.then249.i

if.then249.i:                                     ; preds = %trace_pci_nvme_ub_mmiowr_cmbloc_reserved.exit.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.113, ptr noundef nonnull @__func__.nvme_write_bar) #17
  br label %if.end7

do.body254.i:                                     ; preds = %if.end50.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i380.i)
  %194 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i381.i = icmp ne i32 %194, 0
  %195 = load i16, ptr @_TRACE_PCI_NVME_UB_MMIOWR_CMBSZ_READONLY_DSTATE, align 2
  %tobool4.i.i382.i = icmp ne i16 %195, 0
  %or.cond.i.i383.i = select i1 %tobool.i.i381.i, i1 %tobool4.i.i382.i, i1 false
  br i1 %or.cond.i.i383.i, label %land.lhs.true5.i.i384.i, label %trace_pci_nvme_ub_mmiowr_cmbsz_readonly.exit.i

land.lhs.true5.i.i384.i:                          ; preds = %do.body254.i
  %196 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i385.i = and i32 %196, 32768
  %cmp.i.not.i.i386.i = icmp eq i32 %and.i.i.i385.i, 0
  br i1 %cmp.i.not.i.i386.i, label %trace_pci_nvme_ub_mmiowr_cmbsz_readonly.exit.i, label %if.then.i.i387.i

if.then.i.i387.i:                                 ; preds = %land.lhs.true5.i.i384.i
  %197 = load i8, ptr @message_with_timestamp, align 1
  %198 = and i8 %197, 1
  %tobool7.not.i.i388.i = icmp eq i8 %198, 0
  br i1 %tobool7.not.i.i388.i, label %if.else.i.i393.i, label %if.then8.i.i389.i

if.then8.i.i389.i:                                ; preds = %if.then.i.i387.i
  %call9.i.i390.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i380.i, ptr noundef null) #17
  %call10.i.i391.i = tail call i32 @qemu_get_thread_id() #17
  %199 = load i64, ptr %_now.i.i380.i, align 8
  %tv_usec.i.i392.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i380.i, i64 0, i32 1
  %200 = load i64, ptr %tv_usec.i.i392.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.448, i32 noundef %call10.i.i391.i, i64 noundef %199, i64 noundef %200) #17
  br label %trace_pci_nvme_ub_mmiowr_cmbsz_readonly.exit.i

if.else.i.i393.i:                                 ; preds = %if.then.i.i387.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.449) #17
  br label %trace_pci_nvme_ub_mmiowr_cmbsz_readonly.exit.i

trace_pci_nvme_ub_mmiowr_cmbsz_readonly.exit.i:   ; preds = %if.else.i.i393.i, %if.then8.i.i389.i, %land.lhs.true5.i.i384.i, %do.body254.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i380.i)
  %201 = load i32, ptr @qemu_loglevel, align 4
  %and.i394.i = and i32 %201, 2048
  %cmp.i395.not.i = icmp eq i32 %and.i394.i, 0
  br i1 %cmp.i395.not.i, label %if.end7, label %if.then263.i

if.then263.i:                                     ; preds = %trace_pci_nvme_ub_mmiowr_cmbsz_readonly.exit.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.114, ptr noundef nonnull @__func__.nvme_write_bar) #17
  br label %if.end7

sw.bb267.i:                                       ; preds = %if.end50.i
  %202 = and i64 %bar.val.i, 144115188075855872
  %tobool270.not.i = icmp eq i64 %202, 0
  br i1 %tobool270.not.i, label %if.end7, label %if.end272.i

if.end272.i:                                      ; preds = %sw.bb267.i
  %cmbmsc.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 16
  switch i32 %size, label %do.body.i403.i [
    i32 1, label %sw.bb.i401.i
    i32 2, label %sw.bb1.i399.i
    i32 4, label %sw.bb3.i397.i
    i32 8, label %sw.bb5.i396.i
  ]

sw.bb.i401.i:                                     ; preds = %if.end272.i
  %conv.i402.i = trunc i64 %data to i8
  store i8 %conv.i402.i, ptr %cmbmsc.i, align 1
  br label %stn_le_p.exit404.i

sw.bb1.i399.i:                                    ; preds = %if.end272.i
  %conv2.i400.i = trunc i64 %data to i16
  store i16 %conv2.i400.i, ptr %cmbmsc.i, align 1
  br label %stn_le_p.exit404.i

sw.bb3.i397.i:                                    ; preds = %if.end272.i
  %conv4.i398.i = trunc i64 %data to i32
  store i32 %conv4.i398.i, ptr %cmbmsc.i, align 1
  br label %stn_le_p.exit404.i

sw.bb5.i396.i:                                    ; preds = %if.end272.i
  store i64 %data, ptr %cmbmsc.i, align 1
  br label %stn_le_p.exit404.i

do.body.i403.i:                                   ; preds = %if.end272.i
  tail call void @g_assertion_message_expr(ptr noundef null, ptr noundef nonnull @.str.104, i32 noundef 419, ptr noundef nonnull @__func__.stn_le_p, ptr noundef null) #18
  unreachable

stn_le_p.exit404.i:                               ; preds = %sw.bb5.i396.i, %sw.bb3.i397.i, %sw.bb1.i399.i, %sw.bb.i401.i
  %cmse.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 25, i32 2
  store i8 0, ptr %cmse.i, align 8
  %and275.i = and i64 %data, 1
  %tobool276.not.i = icmp eq i64 %and275.i, 0
  br i1 %tobool276.not.i, label %if.else308.i, label %if.then277.i

if.then277.i:                                     ; preds = %stn_le_p.exit404.i
  %cmbloc1.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 11
  %cmbloc1.val.i.i = load i32, ptr %cmbloc1.i.i, align 1
  %cmbsz3.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 12
  %cmbsz3.val.i.i = load i32, ptr %cmbsz3.i.i, align 1
  %203 = or i32 %cmbloc1.val.i.i, 98
  store i32 %203, ptr %cmbloc1.i.i, align 1
  %cmb_size_mb.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 4, i32 4
  %204 = load i32, ptr %cmb_size_mb.i.i, align 4
  %205 = shl i32 %204, 12
  %206 = or i32 %cmbsz3.val.i.i, %205
  %or3415.i.i = or i32 %206, 541
  store i32 %or3415.i.i, ptr %cmbsz3.i.i, align 1
  %207 = and i64 %data, 2
  %tobool280.not.i = icmp eq i64 %207, 0
  br i1 %tobool280.not.i, label %if.end7, label %if.then281.i

if.then281.i:                                     ; preds = %if.then277.i
  %cmbmsc.val.i = load i64, ptr %cmbmsc.i, align 1
  %shr286.i = and i64 %cmbmsc.val.i, -4096
  %size289.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 25, i32 0, i32 18
  %208 = load i128, ptr %size289.i, align 16
  %cmp.i405.i = icmp ult i128 %208, 18446744073709551616
  br i1 %cmp.i405.i, label %int128_get64.exit.i, label %if.else.i.i30

if.else.i.i30:                                    ; preds = %if.then281.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.8, ptr noundef nonnull @.str.9, i32 noundef 33, ptr noundef nonnull @__PRETTY_FUNCTION__.int128_get64) #18
  unreachable

int128_get64.exit.i:                              ; preds = %if.then281.i
  %coerce.sroa.0.0.extract.trunc.i = trunc i128 %208 to i64
  %209 = xor i64 %shr286.i, -1
  %cmp291.i = icmp ugt i64 %coerce.sroa.0.0.extract.trunc.i, %209
  br i1 %cmp291.i, label %if.then293.i, label %if.end302.i

if.then293.i:                                     ; preds = %int128_get64.exit.i
  %cmbsts295.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 17
  %cmbsts295.val.i = load i32, ptr %cmbsts295.i, align 1
  %210 = or i32 %cmbsts295.val.i, 1
  store i32 %210, ptr %cmbsts295.i, align 1
  br label %if.end7

if.end302.i:                                      ; preds = %int128_get64.exit.i
  %cba304.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 25, i32 3
  store i64 %shr286.i, ptr %cba304.i, align 16
  store i8 1, ptr %cmse.i, align 8
  br label %if.end7

if.else308.i:                                     ; preds = %stn_le_p.exit404.i
  %cmbsz.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 12
  store i32 0, ptr %cmbsz.i, align 4
  %cmbloc.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 11
  store i32 0, ptr %cmbloc.i, align 8
  br label %if.end7

sw.bb312.i:                                       ; preds = %if.end50.i
  %add.ptr315.i = getelementptr i8, ptr %opaque, i64 3236
  %conv316.i = trunc i64 %data to i32
  store i32 %conv316.i, ptr %add.ptr315.i, align 1
  br label %if.end7

do.body318.i:                                     ; preds = %if.end50.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i407.i)
  %211 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i408.i = icmp ne i32 %211, 0
  %212 = load i16, ptr @_TRACE_PCI_NVME_UB_MMIOWR_PMRCAP_READONLY_DSTATE, align 2
  %tobool4.i.i409.i = icmp ne i16 %212, 0
  %or.cond.i.i410.i = select i1 %tobool.i.i408.i, i1 %tobool4.i.i409.i, i1 false
  br i1 %or.cond.i.i410.i, label %land.lhs.true5.i.i411.i, label %trace_pci_nvme_ub_mmiowr_pmrcap_readonly.exit.i

land.lhs.true5.i.i411.i:                          ; preds = %do.body318.i
  %213 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i412.i = and i32 %213, 32768
  %cmp.i.not.i.i413.i = icmp eq i32 %and.i.i.i412.i, 0
  br i1 %cmp.i.not.i.i413.i, label %trace_pci_nvme_ub_mmiowr_pmrcap_readonly.exit.i, label %if.then.i.i414.i

if.then.i.i414.i:                                 ; preds = %land.lhs.true5.i.i411.i
  %214 = load i8, ptr @message_with_timestamp, align 1
  %215 = and i8 %214, 1
  %tobool7.not.i.i415.i = icmp eq i8 %215, 0
  br i1 %tobool7.not.i.i415.i, label %if.else.i.i420.i, label %if.then8.i.i416.i

if.then8.i.i416.i:                                ; preds = %if.then.i.i414.i
  %call9.i.i417.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i407.i, ptr noundef null) #17
  %call10.i.i418.i = tail call i32 @qemu_get_thread_id() #17
  %216 = load i64, ptr %_now.i.i407.i, align 8
  %tv_usec.i.i419.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i407.i, i64 0, i32 1
  %217 = load i64, ptr %tv_usec.i.i419.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.450, i32 noundef %call10.i.i418.i, i64 noundef %216, i64 noundef %217) #17
  br label %trace_pci_nvme_ub_mmiowr_pmrcap_readonly.exit.i

if.else.i.i420.i:                                 ; preds = %if.then.i.i414.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.451) #17
  br label %trace_pci_nvme_ub_mmiowr_pmrcap_readonly.exit.i

trace_pci_nvme_ub_mmiowr_pmrcap_readonly.exit.i:  ; preds = %if.else.i.i420.i, %if.then8.i.i416.i, %land.lhs.true5.i.i411.i, %do.body318.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i407.i)
  %218 = load i32, ptr @qemu_loglevel, align 4
  %and.i421.i = and i32 %218, 2048
  %cmp.i422.not.i = icmp eq i32 %and.i421.i, 0
  br i1 %cmp.i422.not.i, label %if.end7, label %if.then327.i

if.then327.i:                                     ; preds = %trace_pci_nvme_ub_mmiowr_pmrcap_readonly.exit.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.115, ptr noundef nonnull @__func__.nvme_write_bar) #17
  br label %if.end7

sw.bb331.i:                                       ; preds = %if.end50.i
  %219 = and i64 %bar.val.i, 72057594037927936
  %tobool334.not.i = icmp eq i64 %219, 0
  br i1 %tobool334.not.i, label %if.end7, label %if.end336.i

if.end336.i:                                      ; preds = %sw.bb331.i
  %pmrctl.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 20
  %conv338.i = trunc i64 %data to i32
  store i32 %conv338.i, ptr %pmrctl.i, align 1
  %and340.i = and i64 %data, 1
  %tobool341.not.i = icmp eq i64 %and340.i, 0
  %pmr344.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 26
  %220 = load ptr, ptr %pmr344.i, align 16
  %mr346.i = getelementptr inbounds %struct.HostMemoryBackend, ptr %220, i64 0, i32 13
  br i1 %tobool341.not.i, label %if.else343.i, label %if.then342.i

if.then342.i:                                     ; preds = %if.end336.i
  tail call void @memory_region_set_enabled(ptr noundef nonnull %mr346.i, i1 noundef zeroext true) #17
  br label %if.end352.i

if.else343.i:                                     ; preds = %if.end336.i
  tail call void @memory_region_set_enabled(ptr noundef nonnull %mr346.i, i1 noundef zeroext false) #17
  %221 = or i32 %pmrsts13.val.i, 256
  %cmse351.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 26, i32 1
  store i8 0, ptr %cmse351.i, align 8
  br label %if.end352.i

if.end352.i:                                      ; preds = %if.else343.i, %if.then342.i
  %pmrsts.0.i = phi i32 [ 0, %if.then342.i ], [ %221, %if.else343.i ]
  store i32 %pmrsts.0.i, ptr %pmrsts13.i, align 1
  br label %if.end7

do.body356.i:                                     ; preds = %if.end50.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i423.i)
  %222 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i424.i = icmp ne i32 %222, 0
  %223 = load i16, ptr @_TRACE_PCI_NVME_UB_MMIOWR_PMRSTS_READONLY_DSTATE, align 2
  %tobool4.i.i425.i = icmp ne i16 %223, 0
  %or.cond.i.i426.i = select i1 %tobool.i.i424.i, i1 %tobool4.i.i425.i, i1 false
  br i1 %or.cond.i.i426.i, label %land.lhs.true5.i.i427.i, label %trace_pci_nvme_ub_mmiowr_pmrsts_readonly.exit.i

land.lhs.true5.i.i427.i:                          ; preds = %do.body356.i
  %224 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i428.i = and i32 %224, 32768
  %cmp.i.not.i.i429.i = icmp eq i32 %and.i.i.i428.i, 0
  br i1 %cmp.i.not.i.i429.i, label %trace_pci_nvme_ub_mmiowr_pmrsts_readonly.exit.i, label %if.then.i.i430.i

if.then.i.i430.i:                                 ; preds = %land.lhs.true5.i.i427.i
  %225 = load i8, ptr @message_with_timestamp, align 1
  %226 = and i8 %225, 1
  %tobool7.not.i.i431.i = icmp eq i8 %226, 0
  br i1 %tobool7.not.i.i431.i, label %if.else.i.i436.i, label %if.then8.i.i432.i

if.then8.i.i432.i:                                ; preds = %if.then.i.i430.i
  %call9.i.i433.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i423.i, ptr noundef null) #17
  %call10.i.i434.i = tail call i32 @qemu_get_thread_id() #17
  %227 = load i64, ptr %_now.i.i423.i, align 8
  %tv_usec.i.i435.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i423.i, i64 0, i32 1
  %228 = load i64, ptr %tv_usec.i.i435.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.452, i32 noundef %call10.i.i434.i, i64 noundef %227, i64 noundef %228) #17
  br label %trace_pci_nvme_ub_mmiowr_pmrsts_readonly.exit.i

if.else.i.i436.i:                                 ; preds = %if.then.i.i430.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.453) #17
  br label %trace_pci_nvme_ub_mmiowr_pmrsts_readonly.exit.i

trace_pci_nvme_ub_mmiowr_pmrsts_readonly.exit.i:  ; preds = %if.else.i.i436.i, %if.then8.i.i432.i, %land.lhs.true5.i.i427.i, %do.body356.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i423.i)
  %229 = load i32, ptr @qemu_loglevel, align 4
  %and.i437.i = and i32 %229, 2048
  %cmp.i438.not.i = icmp eq i32 %and.i437.i, 0
  br i1 %cmp.i438.not.i, label %if.end7, label %if.then365.i

if.then365.i:                                     ; preds = %trace_pci_nvme_ub_mmiowr_pmrsts_readonly.exit.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.116, ptr noundef nonnull @__func__.nvme_write_bar) #17
  br label %if.end7

do.body370.i:                                     ; preds = %if.end50.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i439.i)
  %230 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i440.i = icmp ne i32 %230, 0
  %231 = load i16, ptr @_TRACE_PCI_NVME_UB_MMIOWR_PMREBS_READONLY_DSTATE, align 2
  %tobool4.i.i441.i = icmp ne i16 %231, 0
  %or.cond.i.i442.i = select i1 %tobool.i.i440.i, i1 %tobool4.i.i441.i, i1 false
  br i1 %or.cond.i.i442.i, label %land.lhs.true5.i.i443.i, label %trace_pci_nvme_ub_mmiowr_pmrebs_readonly.exit.i

land.lhs.true5.i.i443.i:                          ; preds = %do.body370.i
  %232 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i444.i = and i32 %232, 32768
  %cmp.i.not.i.i445.i = icmp eq i32 %and.i.i.i444.i, 0
  br i1 %cmp.i.not.i.i445.i, label %trace_pci_nvme_ub_mmiowr_pmrebs_readonly.exit.i, label %if.then.i.i446.i

if.then.i.i446.i:                                 ; preds = %land.lhs.true5.i.i443.i
  %233 = load i8, ptr @message_with_timestamp, align 1
  %234 = and i8 %233, 1
  %tobool7.not.i.i447.i = icmp eq i8 %234, 0
  br i1 %tobool7.not.i.i447.i, label %if.else.i.i452.i, label %if.then8.i.i448.i

if.then8.i.i448.i:                                ; preds = %if.then.i.i446.i
  %call9.i.i449.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i439.i, ptr noundef null) #17
  %call10.i.i450.i = tail call i32 @qemu_get_thread_id() #17
  %235 = load i64, ptr %_now.i.i439.i, align 8
  %tv_usec.i.i451.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i439.i, i64 0, i32 1
  %236 = load i64, ptr %tv_usec.i.i451.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.454, i32 noundef %call10.i.i450.i, i64 noundef %235, i64 noundef %236) #17
  br label %trace_pci_nvme_ub_mmiowr_pmrebs_readonly.exit.i

if.else.i.i452.i:                                 ; preds = %if.then.i.i446.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.455) #17
  br label %trace_pci_nvme_ub_mmiowr_pmrebs_readonly.exit.i

trace_pci_nvme_ub_mmiowr_pmrebs_readonly.exit.i:  ; preds = %if.else.i.i452.i, %if.then8.i.i448.i, %land.lhs.true5.i.i443.i, %do.body370.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i439.i)
  %237 = load i32, ptr @qemu_loglevel, align 4
  %and.i453.i = and i32 %237, 2048
  %cmp.i454.not.i = icmp eq i32 %and.i453.i, 0
  br i1 %cmp.i454.not.i, label %if.end7, label %if.then379.i

if.then379.i:                                     ; preds = %trace_pci_nvme_ub_mmiowr_pmrebs_readonly.exit.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.117, ptr noundef nonnull @__func__.nvme_write_bar) #17
  br label %if.end7

do.body384.i:                                     ; preds = %if.end50.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i455.i)
  %238 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i456.i = icmp ne i32 %238, 0
  %239 = load i16, ptr @_TRACE_PCI_NVME_UB_MMIOWR_PMRSWTP_READONLY_DSTATE, align 2
  %tobool4.i.i457.i = icmp ne i16 %239, 0
  %or.cond.i.i458.i = select i1 %tobool.i.i456.i, i1 %tobool4.i.i457.i, i1 false
  br i1 %or.cond.i.i458.i, label %land.lhs.true5.i.i459.i, label %trace_pci_nvme_ub_mmiowr_pmrswtp_readonly.exit.i

land.lhs.true5.i.i459.i:                          ; preds = %do.body384.i
  %240 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i460.i = and i32 %240, 32768
  %cmp.i.not.i.i461.i = icmp eq i32 %and.i.i.i460.i, 0
  br i1 %cmp.i.not.i.i461.i, label %trace_pci_nvme_ub_mmiowr_pmrswtp_readonly.exit.i, label %if.then.i.i462.i

if.then.i.i462.i:                                 ; preds = %land.lhs.true5.i.i459.i
  %241 = load i8, ptr @message_with_timestamp, align 1
  %242 = and i8 %241, 1
  %tobool7.not.i.i463.i = icmp eq i8 %242, 0
  br i1 %tobool7.not.i.i463.i, label %if.else.i.i468.i, label %if.then8.i.i464.i

if.then8.i.i464.i:                                ; preds = %if.then.i.i462.i
  %call9.i.i465.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i455.i, ptr noundef null) #17
  %call10.i.i466.i = tail call i32 @qemu_get_thread_id() #17
  %243 = load i64, ptr %_now.i.i455.i, align 8
  %tv_usec.i.i467.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i455.i, i64 0, i32 1
  %244 = load i64, ptr %tv_usec.i.i467.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.456, i32 noundef %call10.i.i466.i, i64 noundef %243, i64 noundef %244) #17
  br label %trace_pci_nvme_ub_mmiowr_pmrswtp_readonly.exit.i

if.else.i.i468.i:                                 ; preds = %if.then.i.i462.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.457) #17
  br label %trace_pci_nvme_ub_mmiowr_pmrswtp_readonly.exit.i

trace_pci_nvme_ub_mmiowr_pmrswtp_readonly.exit.i: ; preds = %if.else.i.i468.i, %if.then8.i.i464.i, %land.lhs.true5.i.i459.i, %do.body384.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i455.i)
  %245 = load i32, ptr @qemu_loglevel, align 4
  %and.i469.i = and i32 %245, 2048
  %cmp.i470.not.i = icmp eq i32 %and.i469.i, 0
  br i1 %cmp.i470.not.i, label %if.end7, label %if.then393.i

if.then393.i:                                     ; preds = %trace_pci_nvme_ub_mmiowr_pmrswtp_readonly.exit.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.118, ptr noundef nonnull @__func__.nvme_write_bar) #17
  br label %if.end7

sw.bb397.i:                                       ; preds = %if.end50.i
  %246 = and i64 %bar.val.i, 72057594037927936
  %tobool400.not.i = icmp eq i64 %246, 0
  br i1 %tobool400.not.i, label %if.end7, label %if.end402.i

if.end402.i:                                      ; preds = %sw.bb397.i
  %pmrmscl.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 24
  %conv404.i = trunc i64 %data to i32
  store i32 %conv404.i, ptr %pmrmscl.i, align 1
  %cmse406.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 26, i32 1
  store i8 0, ptr %cmse406.i, align 8
  %247 = and i64 %data, 2
  %tobool409.not.i = icmp eq i64 %247, 0
  br i1 %tobool409.not.i, label %if.end7, label %if.then410.i

if.then410.i:                                     ; preds = %if.end402.i
  %pmr405.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 26
  %pmrmscu412.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 25
  %pmrmscu412.val.i = load i32, ptr %pmrmscu412.i, align 1
  %conv414.i = sext i32 %pmrmscu412.val.i to i64
  %shl416.i = shl nsw i64 %conv414.i, 32
  %and418.i = and i64 %data, 4294963200
  %or420.i = or disjoint i64 %shl416.i, %and418.i
  %248 = load ptr, ptr %pmr405.i, align 16
  %size424.i = getelementptr inbounds %struct.HostMemoryBackend, ptr %248, i64 0, i32 13, i32 18
  %249 = load i128, ptr %size424.i, align 16
  %cmp.i471.i = icmp ult i128 %249, 18446744073709551616
  br i1 %cmp.i471.i, label %int128_get64.exit474.i, label %if.else.i472.i

if.else.i472.i:                                   ; preds = %if.then410.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.8, ptr noundef nonnull @.str.9, i32 noundef 33, ptr noundef nonnull @__PRETTY_FUNCTION__.int128_get64) #18
  unreachable

int128_get64.exit474.i:                           ; preds = %if.then410.i
  %coerce425.sroa.0.0.extract.trunc.i = trunc i128 %249 to i64
  %250 = xor i64 %or420.i, -1
  %cmp428.i = icmp ugt i64 %coerce425.sroa.0.0.extract.trunc.i, %250
  br i1 %cmp428.i, label %if.then430.i, label %if.end436.i

if.then430.i:                                     ; preds = %int128_get64.exit474.i
  %251 = or i32 %pmrsts13.val.i, 4096
  store i32 %251, ptr %pmrsts13.i, align 1
  br label %if.end7

if.end436.i:                                      ; preds = %int128_get64.exit474.i
  store i8 1, ptr %cmse406.i, align 8
  %cba440.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 26, i32 2
  store i64 %or420.i, ptr %cba440.i, align 16
  br label %if.end7

sw.bb442.i:                                       ; preds = %if.end50.i
  %252 = and i64 %bar.val.i, 72057594037927936
  %tobool445.not.i = icmp eq i64 %252, 0
  br i1 %tobool445.not.i, label %if.end7, label %if.end447.i

if.end447.i:                                      ; preds = %sw.bb442.i
  %pmrmscu449.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 3, i32 25
  %conv450.i = trunc i64 %data to i32
  store i32 %conv450.i, ptr %pmrmscu449.i, align 1
  br label %if.end7

do.body451.i:                                     ; preds = %if.end50.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i475.i)
  %253 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i476.i = icmp ne i32 %253, 0
  %254 = load i16, ptr @_TRACE_PCI_NVME_UB_MMIOWR_INVALID_DSTATE, align 2
  %tobool4.i.i477.i = icmp ne i16 %254, 0
  %or.cond.i.i478.i = select i1 %tobool.i.i476.i, i1 %tobool4.i.i477.i, i1 false
  br i1 %or.cond.i.i478.i, label %land.lhs.true5.i.i479.i, label %trace_pci_nvme_ub_mmiowr_invalid.exit.i

land.lhs.true5.i.i479.i:                          ; preds = %do.body451.i
  %255 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i480.i = and i32 %255, 32768
  %cmp.i.not.i.i481.i = icmp eq i32 %and.i.i.i480.i, 0
  br i1 %cmp.i.not.i.i481.i, label %trace_pci_nvme_ub_mmiowr_invalid.exit.i, label %if.then.i.i482.i

if.then.i.i482.i:                                 ; preds = %land.lhs.true5.i.i479.i
  %256 = load i8, ptr @message_with_timestamp, align 1
  %257 = and i8 %256, 1
  %tobool7.not.i.i483.i = icmp eq i8 %257, 0
  br i1 %tobool7.not.i.i483.i, label %if.else.i.i488.i, label %if.then8.i.i484.i

if.then8.i.i484.i:                                ; preds = %if.then.i.i482.i
  %call9.i.i485.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i475.i, ptr noundef null) #17
  %call10.i.i486.i = tail call i32 @qemu_get_thread_id() #17
  %258 = load i64, ptr %_now.i.i475.i, align 8
  %tv_usec.i.i487.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i475.i, i64 0, i32 1
  %259 = load i64, ptr %tv_usec.i.i487.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.458, i32 noundef %call10.i.i486.i, i64 noundef %258, i64 noundef %259, i64 noundef %addr, i64 noundef %data) #17
  br label %trace_pci_nvme_ub_mmiowr_invalid.exit.i

if.else.i.i488.i:                                 ; preds = %if.then.i.i482.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.459, i64 noundef %addr, i64 noundef %data) #17
  br label %trace_pci_nvme_ub_mmiowr_invalid.exit.i

trace_pci_nvme_ub_mmiowr_invalid.exit.i:          ; preds = %if.else.i.i488.i, %if.then8.i.i484.i, %land.lhs.true5.i.i479.i, %do.body451.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i475.i)
  %260 = load i32, ptr @qemu_loglevel, align 4
  %and.i489.i = and i32 %260, 2048
  %cmp.i490.not.i = icmp eq i32 %and.i489.i, 0
  br i1 %cmp.i490.not.i, label %if.end7, label %if.then460.i

if.then460.i:                                     ; preds = %trace_pci_nvme_ub_mmiowr_invalid.exit.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.119, ptr noundef nonnull @__func__.nvme_write_bar, i64 noundef %addr, i64 noundef %data) #17
  br label %if.end7

if.else:                                          ; preds = %if.end
  %conv = trunc i64 %data to i32
  %call.i.i34 = tail call ptr @object_dynamic_cast_assert(ptr noundef %opaque, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %and.i35 = and i64 %addr, 3
  %tobool.not.i36 = icmp eq i64 %and.i35, 0
  br i1 %tobool.not.i36, label %if.end13.i, label %do.body.i37

do.body.i37:                                      ; preds = %if.else
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i33)
  %261 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i38 = icmp ne i32 %261, 0
  %262 = load i16, ptr @_TRACE_PCI_NVME_UB_DB_WR_MISALIGNED_DSTATE, align 2
  %tobool4.i.i.i39 = icmp ne i16 %262, 0
  %or.cond.i.i.i40 = select i1 %tobool.i.i.i38, i1 %tobool4.i.i.i39, i1 false
  br i1 %or.cond.i.i.i40, label %land.lhs.true5.i.i.i43, label %trace_pci_nvme_ub_db_wr_misaligned.exit.i

land.lhs.true5.i.i.i43:                           ; preds = %do.body.i37
  %263 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i44 = and i32 %263, 32768
  %cmp.i.not.i.i.i45 = icmp eq i32 %and.i.i.i.i44, 0
  br i1 %cmp.i.not.i.i.i45, label %trace_pci_nvme_ub_db_wr_misaligned.exit.i, label %if.then.i.i.i46

if.then.i.i.i46:                                  ; preds = %land.lhs.true5.i.i.i43
  %264 = load i8, ptr @message_with_timestamp, align 1
  %265 = and i8 %264, 1
  %tobool7.not.i.i.i47 = icmp eq i8 %265, 0
  br i1 %tobool7.not.i.i.i47, label %if.else.i.i.i52, label %if.then8.i.i.i48

if.then8.i.i.i48:                                 ; preds = %if.then.i.i.i46
  %call9.i.i.i49 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i33, ptr noundef null) #17
  %call10.i.i.i50 = tail call i32 @qemu_get_thread_id() #17
  %266 = load i64, ptr %_now.i.i.i33, align 8
  %tv_usec.i.i.i51 = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i33, i64 0, i32 1
  %267 = load i64, ptr %tv_usec.i.i.i51, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.465, i32 noundef %call10.i.i.i50, i64 noundef %266, i64 noundef %267, i64 noundef %addr) #17
  br label %trace_pci_nvme_ub_db_wr_misaligned.exit.i

if.else.i.i.i52:                                  ; preds = %if.then.i.i.i46
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.466, i64 noundef %addr) #17
  br label %trace_pci_nvme_ub_db_wr_misaligned.exit.i

trace_pci_nvme_ub_db_wr_misaligned.exit.i:        ; preds = %if.else.i.i.i52, %if.then8.i.i.i48, %land.lhs.true5.i.i.i43, %do.body.i37
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i33)
  %268 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i41 = and i32 %268, 2048
  %cmp.i.not.i42 = icmp eq i32 %and.i.i41, 0
  br i1 %cmp.i.not.i42, label %if.end7, label %if.then11.i

if.then11.i:                                      ; preds = %trace_pci_nvme_ub_db_wr_misaligned.exit.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.460, ptr noundef nonnull @__func__.nvme_process_db, i64 noundef %addr) #17
  br label %if.end7

if.end13.i:                                       ; preds = %if.else
  %269 = and i64 %addr, 4
  %tobool15.not.i = icmp eq i64 %269, 0
  %conf_ioqpairs.i135.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 21
  %270 = load i32, ptr %conf_ioqpairs.i135.i, align 8
  %add.i136.i = add i32 %270, 1
  br i1 %tobool15.not.i, label %if.else.i58, label %if.then16.i

if.then16.i:                                      ; preds = %if.end13.i
  %sub19.i = add i64 %addr, 34359734268
  %shr20.i = lshr exact i64 %sub19.i, 3
  %conv21.i = trunc i64 %shr20.i to i32
  %conv.i.i53 = and i32 %conv21.i, 65535
  %cmp.i83.i = icmp ugt i32 %add.i136.i, %conv.i.i53
  br i1 %cmp.i83.i, label %nvme_check_cqid.exit.i, label %do.body32.i

nvme_check_cqid.exit.i:                           ; preds = %if.then16.i
  %cq.i.i55 = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 37
  %271 = load ptr, ptr %cq.i.i55, align 8
  %idxprom.i.i = and i64 %shr20.i, 65535
  %arrayidx.i.i = getelementptr ptr, ptr %271, i64 %idxprom.i.i
  %272 = load ptr, ptr %arrayidx.i.i, align 8
  %cmp2.i.not.i = icmp eq ptr %272, null
  br i1 %cmp2.i.not.i, label %do.body32.i, label %if.end48.i

do.body32.i:                                      ; preds = %nvme_check_cqid.exit.i, %if.then16.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i84.i)
  %273 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i85.i = icmp ne i32 %273, 0
  %274 = load i16, ptr @_TRACE_PCI_NVME_UB_DB_WR_INVALID_CQ_DSTATE, align 2
  %tobool4.i.i86.i = icmp ne i16 %274, 0
  %or.cond.i.i87.i = select i1 %tobool.i.i85.i, i1 %tobool4.i.i86.i, i1 false
  br i1 %or.cond.i.i87.i, label %land.lhs.true5.i.i88.i, label %trace_pci_nvme_ub_db_wr_invalid_cq.exit.i

land.lhs.true5.i.i88.i:                           ; preds = %do.body32.i
  %275 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i89.i = and i32 %275, 32768
  %cmp.i.not.i.i90.i = icmp eq i32 %and.i.i.i89.i, 0
  br i1 %cmp.i.not.i.i90.i, label %trace_pci_nvme_ub_db_wr_invalid_cq.exit.i, label %if.then.i.i91.i

if.then.i.i91.i:                                  ; preds = %land.lhs.true5.i.i88.i
  %276 = load i8, ptr @message_with_timestamp, align 1
  %277 = and i8 %276, 1
  %tobool7.not.i.i92.i = icmp eq i8 %277, 0
  br i1 %tobool7.not.i.i92.i, label %if.else.i.i97.i, label %if.then8.i.i93.i

if.then8.i.i93.i:                                 ; preds = %if.then.i.i91.i
  %call9.i.i94.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i84.i, ptr noundef null) #17
  %call10.i.i95.i = tail call i32 @qemu_get_thread_id() #17
  %278 = load i64, ptr %_now.i.i84.i, align 8
  %tv_usec.i.i96.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i84.i, i64 0, i32 1
  %279 = load i64, ptr %tv_usec.i.i96.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.467, i32 noundef %call10.i.i95.i, i64 noundef %278, i64 noundef %279, i32 noundef %conv21.i) #17
  br label %trace_pci_nvme_ub_db_wr_invalid_cq.exit.i

if.else.i.i97.i:                                  ; preds = %if.then.i.i91.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.468, i32 noundef %conv21.i) #17
  br label %trace_pci_nvme_ub_db_wr_invalid_cq.exit.i

trace_pci_nvme_ub_db_wr_invalid_cq.exit.i:        ; preds = %if.else.i.i97.i, %if.then8.i.i93.i, %land.lhs.true5.i.i88.i, %do.body32.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i84.i)
  %280 = load i32, ptr @qemu_loglevel, align 4
  %and.i98.i = and i32 %280, 2048
  %cmp.i99.not.i = icmp eq i32 %and.i98.i, 0
  br i1 %cmp.i99.not.i, label %do.end44.i, label %if.then41.i

if.then41.i:                                      ; preds = %trace_pci_nvme_ub_db_wr_invalid_cq.exit.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.461, ptr noundef nonnull @__func__.nvme_process_db, i32 noundef %conv21.i) #17
  br label %do.end44.i

do.end44.i:                                       ; preds = %if.then41.i, %trace_pci_nvme_ub_db_wr_invalid_cq.exit.i
  %outstanding_aers.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 12
  %281 = load i8, ptr %outstanding_aers.i, align 8
  %tobool45.not.i = icmp eq i8 %281, 0
  br i1 %tobool45.not.i, label %if.end7, label %if.then46.i54

if.then46.i54:                                    ; preds = %do.end44.i
  tail call fastcc void @nvme_enqueue_event(ptr noundef nonnull %opaque, i8 noundef zeroext 0, i8 noundef zeroext 0, i8 noundef zeroext 1)
  br label %if.end7

if.end48.i:                                       ; preds = %nvme_check_cqid.exit.i
  %idxprom.i56 = and i64 %shr20.i, 4294967295
  %arrayidx.i57 = getelementptr ptr, ptr %271, i64 %idxprom.i56
  %282 = load ptr, ptr %arrayidx.i57, align 8
  %conv50.i = and i32 %conv, 65535
  %size.i = getelementptr inbounds %struct.NvmeCQueue, ptr %282, i64 0, i32 7
  %283 = load i32, ptr %size.i, align 4
  %cmp.not.i = icmp ult i32 %conv50.i, %283
  br i1 %cmp.not.i, label %if.end77.i, label %do.body59.i

do.body59.i:                                      ; preds = %if.end48.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i100.i)
  %284 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i101.i = icmp ne i32 %284, 0
  %285 = load i16, ptr @_TRACE_PCI_NVME_UB_DB_WR_INVALID_CQHEAD_DSTATE, align 2
  %tobool4.i.i102.i = icmp ne i16 %285, 0
  %or.cond.i.i103.i = select i1 %tobool.i.i101.i, i1 %tobool4.i.i102.i, i1 false
  br i1 %or.cond.i.i103.i, label %land.lhs.true5.i.i104.i, label %trace_pci_nvme_ub_db_wr_invalid_cqhead.exit.i

land.lhs.true5.i.i104.i:                          ; preds = %do.body59.i
  %286 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i105.i = and i32 %286, 32768
  %cmp.i.not.i.i106.i = icmp eq i32 %and.i.i.i105.i, 0
  br i1 %cmp.i.not.i.i106.i, label %trace_pci_nvme_ub_db_wr_invalid_cqhead.exit.i, label %if.then.i.i107.i

if.then.i.i107.i:                                 ; preds = %land.lhs.true5.i.i104.i
  %287 = load i8, ptr @message_with_timestamp, align 1
  %288 = and i8 %287, 1
  %tobool7.not.i.i108.i = icmp eq i8 %288, 0
  br i1 %tobool7.not.i.i108.i, label %if.else.i.i113.i, label %if.then8.i.i109.i

if.then8.i.i109.i:                                ; preds = %if.then.i.i107.i
  %call9.i.i110.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i100.i, ptr noundef null) #17
  %call10.i.i111.i = tail call i32 @qemu_get_thread_id() #17
  %289 = load i64, ptr %_now.i.i100.i, align 8
  %tv_usec.i.i112.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i100.i, i64 0, i32 1
  %290 = load i64, ptr %tv_usec.i.i112.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.469, i32 noundef %call10.i.i111.i, i64 noundef %289, i64 noundef %290, i32 noundef %conv21.i, i32 noundef %conv50.i) #17
  br label %trace_pci_nvme_ub_db_wr_invalid_cqhead.exit.i

if.else.i.i113.i:                                 ; preds = %if.then.i.i107.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.470, i32 noundef %conv21.i, i32 noundef %conv50.i) #17
  br label %trace_pci_nvme_ub_db_wr_invalid_cqhead.exit.i

trace_pci_nvme_ub_db_wr_invalid_cqhead.exit.i:    ; preds = %if.else.i.i113.i, %if.then8.i.i109.i, %land.lhs.true5.i.i104.i, %do.body59.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i100.i)
  %291 = load i32, ptr @qemu_loglevel, align 4
  %and.i114.i = and i32 %291, 2048
  %cmp.i115.not.i = icmp eq i32 %and.i114.i, 0
  br i1 %cmp.i115.not.i, label %do.end72.i, label %if.then68.i

if.then68.i:                                      ; preds = %trace_pci_nvme_ub_db_wr_invalid_cqhead.exit.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.462, ptr noundef nonnull @__func__.nvme_process_db, i32 noundef %conv21.i, i32 noundef %conv50.i) #17
  br label %do.end72.i

do.end72.i:                                       ; preds = %if.then68.i, %trace_pci_nvme_ub_db_wr_invalid_cqhead.exit.i
  %outstanding_aers73.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 12
  %292 = load i8, ptr %outstanding_aers73.i, align 8
  %tobool74.not.i = icmp eq i8 %292, 0
  br i1 %tobool74.not.i, label %if.end7, label %if.then75.i

if.then75.i:                                      ; preds = %do.end72.i
  tail call fastcc void @nvme_enqueue_event(ptr noundef nonnull %opaque, i8 noundef zeroext 0, i8 noundef zeroext 1, i8 noundef zeroext 1)
  br label %if.end7

if.end77.i:                                       ; preds = %if.end48.i
  %cqid.i = getelementptr inbounds %struct.NvmeCQueue, ptr %282, i64 0, i32 2
  %293 = load i16, ptr %cqid.i, align 2
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i116.i)
  %294 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i117.i = icmp ne i32 %294, 0
  %295 = load i16, ptr @_TRACE_PCI_NVME_MMIO_DOORBELL_CQ_DSTATE, align 2
  %tobool4.i.i118.i = icmp ne i16 %295, 0
  %or.cond.i.i119.i = select i1 %tobool.i.i117.i, i1 %tobool4.i.i118.i, i1 false
  br i1 %or.cond.i.i119.i, label %land.lhs.true5.i.i120.i, label %trace_pci_nvme_mmio_doorbell_cq.exit.i

land.lhs.true5.i.i120.i:                          ; preds = %if.end77.i
  %296 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i121.i = and i32 %296, 32768
  %cmp.i.not.i.i122.i = icmp eq i32 %and.i.i.i121.i, 0
  br i1 %cmp.i.not.i.i122.i, label %trace_pci_nvme_mmio_doorbell_cq.exit.i, label %if.then.i.i123.i

if.then.i.i123.i:                                 ; preds = %land.lhs.true5.i.i120.i
  %297 = load i8, ptr @message_with_timestamp, align 1
  %298 = and i8 %297, 1
  %tobool7.not.i.i124.i = icmp eq i8 %298, 0
  br i1 %tobool7.not.i.i124.i, label %if.else.i.i131.i, label %if.then8.i.i125.i

if.then8.i.i125.i:                                ; preds = %if.then.i.i123.i
  %call9.i.i126.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i116.i, ptr noundef null) #17
  %call10.i.i127.i = tail call i32 @qemu_get_thread_id() #17
  %299 = load i64, ptr %_now.i.i116.i, align 8
  %tv_usec.i.i128.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i116.i, i64 0, i32 1
  %300 = load i64, ptr %tv_usec.i.i128.i, align 8
  %conv11.i.i129.i = zext i16 %293 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.471, i32 noundef %call10.i.i127.i, i64 noundef %299, i64 noundef %300, i32 noundef %conv11.i.i129.i, i32 noundef %conv50.i) #17
  br label %trace_pci_nvme_mmio_doorbell_cq.exit.i

if.else.i.i131.i:                                 ; preds = %if.then.i.i123.i
  %conv13.i.i.i = zext i16 %293 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.472, i32 noundef %conv13.i.i.i, i32 noundef %conv50.i) #17
  br label %trace_pci_nvme_mmio_doorbell_cq.exit.i

trace_pci_nvme_mmio_doorbell_cq.exit.i:           ; preds = %if.else.i.i131.i, %if.then8.i.i125.i, %land.lhs.true5.i.i120.i, %if.end77.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i116.i)
  %tail.i.i = getelementptr inbounds %struct.NvmeCQueue, ptr %282, i64 0, i32 5
  %301 = load i32, ptr %tail.i.i, align 4
  %add.i132.i = add i32 %301, 1
  %302 = load i32, ptr %size.i, align 4
  %rem.i.i = urem i32 %add.i132.i, %302
  %head.i.i = getelementptr inbounds %struct.NvmeCQueue, ptr %282, i64 0, i32 4
  %303 = load i32, ptr %head.i.i, align 8
  %cmp.i133.not.i = icmp eq i32 %rem.i.i, %303
  store i32 %conv50.i, ptr %head.i.i, align 8
  %tobool82.not.i = icmp eq i32 %conv21.i, 0
  br i1 %tobool82.not.i, label %land.lhs.true.i, label %if.end115.i

land.lhs.true.i:                                  ; preds = %trace_pci_nvme_mmio_doorbell_cq.exit.i
  %dbbuf_enabled.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 24
  %304 = load i8, ptr %dbbuf_enabled.i, align 16
  %305 = and i8 %304, 1
  %tobool83.not.i = icmp eq i8 %305, 0
  br i1 %tobool83.not.i, label %if.end115.i, label %if.then85.i

if.then85.i:                                      ; preds = %land.lhs.true.i
  %db_addr.i = getelementptr inbounds %struct.NvmeCQueue, ptr %282, i64 0, i32 9
  %306 = load i64, ptr %db_addr.i, align 8
  %bus_master_as.i.i.i = getelementptr inbounds %struct.PCIDevice, ptr %call.i.i34, i64 0, i32 12
  call void @llvm.lifetime.start.p0(i64 4, ptr nonnull %val.addr.i.i.i)
  store i32 %conv50.i, ptr %val.addr.i.i.i, align 4
  tail call void asm sideeffect "", "~{memory},~{dirflag},~{fpsr},~{flags}"() #17, !srcloc !10
  fence seq_cst
  %call.i.i.i.i.i.i = call i32 @address_space_rw(ptr noundef nonnull %bus_master_as.i.i.i, i64 noundef %306, i32 1, ptr noundef nonnull %val.addr.i.i.i, i64 noundef 4, i1 noundef zeroext true) #17
  call void @llvm.lifetime.end.p0(i64 4, ptr nonnull %val.addr.i.i.i)
  br label %if.end115.i

if.end115.i:                                      ; preds = %if.then85.i, %land.lhs.true.i, %trace_pci_nvme_mmio_doorbell_cq.exit.i
  br i1 %cmp.i133.not.i, label %if.then117.i, label %if.end121.i

if.then117.i:                                     ; preds = %if.end115.i
  %sq_list.i = getelementptr inbounds %struct.NvmeCQueue, ptr %282, i64 0, i32 14
  %sq.0202.i = load ptr, ptr %sq_list.i, align 8
  %tobool118.not203.i = icmp eq ptr %sq.0202.i, null
  br i1 %tobool118.not203.i, label %for.end.i, label %for.body.i

for.body.i:                                       ; preds = %if.then117.i, %for.body.i
  %sq.0204.i = phi ptr [ %sq.0.i, %for.body.i ], [ %sq.0202.i, %if.then117.i ]
  %bh.i = getelementptr inbounds %struct.NvmeSQueue, ptr %sq.0204.i, i64 0, i32 9
  %307 = load ptr, ptr %bh.i, align 8
  call void @qemu_bh_schedule(ptr noundef %307) #17
  %entry119.i = getelementptr inbounds %struct.NvmeSQueue, ptr %sq.0204.i, i64 0, i32 15
  %sq.0.i = load ptr, ptr %entry119.i, align 8
  %tobool118.not.i = icmp eq ptr %sq.0.i, null
  br i1 %tobool118.not.i, label %for.end.i, label %for.body.i, !llvm.loop !22

for.end.i:                                        ; preds = %for.body.i, %if.then117.i
  %bh120.i = getelementptr inbounds %struct.NvmeCQueue, ptr %282, i64 0, i32 11
  %308 = load ptr, ptr %bh120.i, align 8
  call void @qemu_bh_schedule(ptr noundef %308) #17
  br label %if.end121.i

if.end121.i:                                      ; preds = %for.end.i, %if.end115.i
  %309 = load i32, ptr %tail.i.i, align 4
  %310 = load i32, ptr %head.i.i, align 8
  %cmp123.i = icmp eq i32 %309, %310
  br i1 %cmp123.i, label %if.then125.i, label %if.end7

if.then125.i:                                     ; preds = %if.end121.i
  %irq_enabled.i = getelementptr inbounds %struct.NvmeCQueue, ptr %282, i64 0, i32 3
  %311 = load i16, ptr %irq_enabled.i, align 4
  %tobool126.not.i = icmp eq i16 %311, 0
  br i1 %tobool126.not.i, label %if.end128.i, label %if.then127.i

if.then127.i:                                     ; preds = %if.then125.i
  %cq_pending.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 14
  %312 = load i32, ptr %cq_pending.i, align 16
  %dec.i = add i32 %312, -1
  store i32 %dec.i, ptr %cq_pending.i, align 16
  br label %if.end128.i

if.end128.i:                                      ; preds = %if.then127.i, %if.then125.i
  call fastcc void @nvme_irq_deassert(ptr noundef %opaque, ptr noundef nonnull %282)
  br label %if.end7

if.else.i58:                                      ; preds = %if.end13.i
  %sub.i = add i64 %addr, 34359734272
  %shr134.i = lshr exact i64 %sub.i, 3
  %conv135.i = trunc i64 %shr134.i to i32
  %conv.i134.i = and i32 %conv135.i, 65535
  %cmp.i137.i = icmp ugt i32 %add.i136.i, %conv.i134.i
  br i1 %cmp.i137.i, label %nvme_check_sqid.exit.i, label %do.body146.i

nvme_check_sqid.exit.i:                           ; preds = %if.else.i58
  %sq.i.i59 = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 36
  %313 = load ptr, ptr %sq.i.i59, align 16
  %idxprom.i140.i = and i64 %shr134.i, 65535
  %arrayidx.i141.i = getelementptr ptr, ptr %313, i64 %idxprom.i140.i
  %314 = load ptr, ptr %arrayidx.i141.i, align 8
  %cmp2.i142.not.i = icmp eq ptr %314, null
  br i1 %cmp2.i142.not.i, label %do.body146.i, label %if.end163.i

do.body146.i:                                     ; preds = %nvme_check_sqid.exit.i, %if.else.i58
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i143.i)
  %315 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i144.i = icmp ne i32 %315, 0
  %316 = load i16, ptr @_TRACE_PCI_NVME_UB_DB_WR_INVALID_SQ_DSTATE, align 2
  %tobool4.i.i145.i = icmp ne i16 %316, 0
  %or.cond.i.i146.i = select i1 %tobool.i.i144.i, i1 %tobool4.i.i145.i, i1 false
  br i1 %or.cond.i.i146.i, label %land.lhs.true5.i.i147.i, label %trace_pci_nvme_ub_db_wr_invalid_sq.exit.i

land.lhs.true5.i.i147.i:                          ; preds = %do.body146.i
  %317 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i148.i = and i32 %317, 32768
  %cmp.i.not.i.i149.i = icmp eq i32 %and.i.i.i148.i, 0
  br i1 %cmp.i.not.i.i149.i, label %trace_pci_nvme_ub_db_wr_invalid_sq.exit.i, label %if.then.i.i150.i

if.then.i.i150.i:                                 ; preds = %land.lhs.true5.i.i147.i
  %318 = load i8, ptr @message_with_timestamp, align 1
  %319 = and i8 %318, 1
  %tobool7.not.i.i151.i = icmp eq i8 %319, 0
  br i1 %tobool7.not.i.i151.i, label %if.else.i.i156.i, label %if.then8.i.i152.i

if.then8.i.i152.i:                                ; preds = %if.then.i.i150.i
  %call9.i.i153.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i143.i, ptr noundef null) #17
  %call10.i.i154.i = tail call i32 @qemu_get_thread_id() #17
  %320 = load i64, ptr %_now.i.i143.i, align 8
  %tv_usec.i.i155.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i143.i, i64 0, i32 1
  %321 = load i64, ptr %tv_usec.i.i155.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.473, i32 noundef %call10.i.i154.i, i64 noundef %320, i64 noundef %321, i32 noundef %conv135.i) #17
  br label %trace_pci_nvme_ub_db_wr_invalid_sq.exit.i

if.else.i.i156.i:                                 ; preds = %if.then.i.i150.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.474, i32 noundef %conv135.i) #17
  br label %trace_pci_nvme_ub_db_wr_invalid_sq.exit.i

trace_pci_nvme_ub_db_wr_invalid_sq.exit.i:        ; preds = %if.else.i.i156.i, %if.then8.i.i152.i, %land.lhs.true5.i.i147.i, %do.body146.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i143.i)
  %322 = load i32, ptr @qemu_loglevel, align 4
  %and.i157.i = and i32 %322, 2048
  %cmp.i158.not.i = icmp eq i32 %and.i157.i, 0
  br i1 %cmp.i158.not.i, label %do.end158.i, label %if.then155.i

if.then155.i:                                     ; preds = %trace_pci_nvme_ub_db_wr_invalid_sq.exit.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.463, ptr noundef nonnull @__func__.nvme_process_db, i32 noundef %conv135.i) #17
  br label %do.end158.i

do.end158.i:                                      ; preds = %if.then155.i, %trace_pci_nvme_ub_db_wr_invalid_sq.exit.i
  %outstanding_aers159.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 12
  %323 = load i8, ptr %outstanding_aers159.i, align 8
  %tobool160.not.i = icmp eq i8 %323, 0
  br i1 %tobool160.not.i, label %if.end7, label %if.then161.i

if.then161.i:                                     ; preds = %do.end158.i
  tail call fastcc void @nvme_enqueue_event(ptr noundef nonnull %opaque, i8 noundef zeroext 0, i8 noundef zeroext 0, i8 noundef zeroext 1)
  br label %if.end7

if.end163.i:                                      ; preds = %nvme_check_sqid.exit.i
  %idxprom165.i = and i64 %shr134.i, 4294967295
  %arrayidx166.i = getelementptr ptr, ptr %313, i64 %idxprom165.i
  %324 = load ptr, ptr %arrayidx166.i, align 8
  %conv167.i = and i32 %conv, 65535
  %size168.i = getelementptr inbounds %struct.NvmeSQueue, ptr %324, i64 0, i32 5
  %325 = load i32, ptr %size168.i, align 4
  %cmp169.not.i = icmp ult i32 %conv167.i, %325
  br i1 %cmp169.not.i, label %if.end196.i, label %do.body178.i60

do.body178.i60:                                   ; preds = %if.end163.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i159.i)
  %326 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i160.i = icmp ne i32 %326, 0
  %327 = load i16, ptr @_TRACE_PCI_NVME_UB_DB_WR_INVALID_SQTAIL_DSTATE, align 2
  %tobool4.i.i161.i = icmp ne i16 %327, 0
  %or.cond.i.i162.i = select i1 %tobool.i.i160.i, i1 %tobool4.i.i161.i, i1 false
  br i1 %or.cond.i.i162.i, label %land.lhs.true5.i.i163.i, label %trace_pci_nvme_ub_db_wr_invalid_sqtail.exit.i

land.lhs.true5.i.i163.i:                          ; preds = %do.body178.i60
  %328 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i164.i = and i32 %328, 32768
  %cmp.i.not.i.i165.i = icmp eq i32 %and.i.i.i164.i, 0
  br i1 %cmp.i.not.i.i165.i, label %trace_pci_nvme_ub_db_wr_invalid_sqtail.exit.i, label %if.then.i.i166.i

if.then.i.i166.i:                                 ; preds = %land.lhs.true5.i.i163.i
  %329 = load i8, ptr @message_with_timestamp, align 1
  %330 = and i8 %329, 1
  %tobool7.not.i.i167.i = icmp eq i8 %330, 0
  br i1 %tobool7.not.i.i167.i, label %if.else.i.i173.i, label %if.then8.i.i168.i

if.then8.i.i168.i:                                ; preds = %if.then.i.i166.i
  %call9.i.i169.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i159.i, ptr noundef null) #17
  %call10.i.i170.i = tail call i32 @qemu_get_thread_id() #17
  %331 = load i64, ptr %_now.i.i159.i, align 8
  %tv_usec.i.i171.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i159.i, i64 0, i32 1
  %332 = load i64, ptr %tv_usec.i.i171.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.475, i32 noundef %call10.i.i170.i, i64 noundef %331, i64 noundef %332, i32 noundef %conv135.i, i32 noundef %conv167.i) #17
  br label %trace_pci_nvme_ub_db_wr_invalid_sqtail.exit.i

if.else.i.i173.i:                                 ; preds = %if.then.i.i166.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.476, i32 noundef %conv135.i, i32 noundef %conv167.i) #17
  br label %trace_pci_nvme_ub_db_wr_invalid_sqtail.exit.i

trace_pci_nvme_ub_db_wr_invalid_sqtail.exit.i:    ; preds = %if.else.i.i173.i, %if.then8.i.i168.i, %land.lhs.true5.i.i163.i, %do.body178.i60
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i159.i)
  %333 = load i32, ptr @qemu_loglevel, align 4
  %and.i175.i = and i32 %333, 2048
  %cmp.i176.not.i = icmp eq i32 %and.i175.i, 0
  br i1 %cmp.i176.not.i, label %do.end191.i, label %if.then187.i61

if.then187.i61:                                   ; preds = %trace_pci_nvme_ub_db_wr_invalid_sqtail.exit.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.464, ptr noundef nonnull @__func__.nvme_process_db, i32 noundef %conv135.i, i32 noundef %conv167.i) #17
  br label %do.end191.i

do.end191.i:                                      ; preds = %if.then187.i61, %trace_pci_nvme_ub_db_wr_invalid_sqtail.exit.i
  %outstanding_aers192.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 12
  %334 = load i8, ptr %outstanding_aers192.i, align 8
  %tobool193.not.i = icmp eq i8 %334, 0
  br i1 %tobool193.not.i, label %if.end7, label %if.then194.i

if.then194.i:                                     ; preds = %do.end191.i
  tail call fastcc void @nvme_enqueue_event(ptr noundef nonnull %opaque, i8 noundef zeroext 0, i8 noundef zeroext 1, i8 noundef zeroext 1)
  br label %if.end7

if.end196.i:                                      ; preds = %if.end163.i
  %sqid.i = getelementptr inbounds %struct.NvmeSQueue, ptr %324, i64 0, i32 1
  %335 = load i16, ptr %sqid.i, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i177.i)
  %336 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i178.i = icmp ne i32 %336, 0
  %337 = load i16, ptr @_TRACE_PCI_NVME_MMIO_DOORBELL_SQ_DSTATE, align 2
  %tobool4.i.i179.i = icmp ne i16 %337, 0
  %or.cond.i.i180.i = select i1 %tobool.i.i178.i, i1 %tobool4.i.i179.i, i1 false
  br i1 %or.cond.i.i180.i, label %land.lhs.true5.i.i181.i, label %trace_pci_nvme_mmio_doorbell_sq.exit.i

land.lhs.true5.i.i181.i:                          ; preds = %if.end196.i
  %338 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i182.i = and i32 %338, 32768
  %cmp.i.not.i.i183.i = icmp eq i32 %and.i.i.i182.i, 0
  br i1 %cmp.i.not.i.i183.i, label %trace_pci_nvme_mmio_doorbell_sq.exit.i, label %if.then.i.i184.i

if.then.i.i184.i:                                 ; preds = %land.lhs.true5.i.i181.i
  %339 = load i8, ptr @message_with_timestamp, align 1
  %340 = and i8 %339, 1
  %tobool7.not.i.i185.i = icmp eq i8 %340, 0
  br i1 %tobool7.not.i.i185.i, label %if.else.i.i192.i, label %if.then8.i.i186.i

if.then8.i.i186.i:                                ; preds = %if.then.i.i184.i
  %call9.i.i187.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i177.i, ptr noundef null) #17
  %call10.i.i188.i = tail call i32 @qemu_get_thread_id() #17
  %341 = load i64, ptr %_now.i.i177.i, align 8
  %tv_usec.i.i189.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i177.i, i64 0, i32 1
  %342 = load i64, ptr %tv_usec.i.i189.i, align 8
  %conv11.i.i190.i = zext i16 %335 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.477, i32 noundef %call10.i.i188.i, i64 noundef %341, i64 noundef %342, i32 noundef %conv11.i.i190.i, i32 noundef %conv167.i) #17
  br label %trace_pci_nvme_mmio_doorbell_sq.exit.i

if.else.i.i192.i:                                 ; preds = %if.then.i.i184.i
  %conv13.i.i193.i = zext i16 %335 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.478, i32 noundef %conv13.i.i193.i, i32 noundef %conv167.i) #17
  br label %trace_pci_nvme_mmio_doorbell_sq.exit.i

trace_pci_nvme_mmio_doorbell_sq.exit.i:           ; preds = %if.else.i.i192.i, %if.then8.i.i186.i, %land.lhs.true5.i.i181.i, %if.end196.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i177.i)
  %tail198.i = getelementptr inbounds %struct.NvmeSQueue, ptr %324, i64 0, i32 4
  store i32 %conv167.i, ptr %tail198.i, align 8
  %tobool199.not.i = icmp eq i32 %conv135.i, 0
  br i1 %tobool199.not.i, label %land.lhs.true200.i, label %if.end240.i

land.lhs.true200.i:                               ; preds = %trace_pci_nvme_mmio_doorbell_sq.exit.i
  %dbbuf_enabled201.i = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 24
  %343 = load i8, ptr %dbbuf_enabled201.i, align 16
  %344 = and i8 %343, 1
  %tobool202.not.i = icmp eq i8 %344, 0
  br i1 %tobool202.not.i, label %if.end240.i, label %if.then204.i62

if.then204.i62:                                   ; preds = %land.lhs.true200.i
  %db_addr205.i = getelementptr inbounds %struct.NvmeSQueue, ptr %324, i64 0, i32 7
  %345 = load i64, ptr %db_addr205.i, align 8
  %bus_master_as.i.i196.i = getelementptr inbounds %struct.PCIDevice, ptr %call.i.i34, i64 0, i32 12
  call void @llvm.lifetime.start.p0(i64 4, ptr nonnull %val.addr.i.i195.i)
  store i32 %conv167.i, ptr %val.addr.i.i195.i, align 4
  tail call void asm sideeffect "", "~{memory},~{dirflag},~{fpsr},~{flags}"() #17, !srcloc !10
  fence seq_cst
  %call.i.i.i.i.i197.i = call i32 @address_space_rw(ptr noundef nonnull %bus_master_as.i.i196.i, i64 noundef %345, i32 1, ptr noundef nonnull %val.addr.i.i195.i, i64 noundef 4, i1 noundef zeroext true) #17
  call void @llvm.lifetime.end.p0(i64 4, ptr nonnull %val.addr.i.i195.i)
  br label %if.end240.i

if.end240.i:                                      ; preds = %if.then204.i62, %land.lhs.true200.i, %trace_pci_nvme_mmio_doorbell_sq.exit.i
  %bh241.i = getelementptr inbounds %struct.NvmeSQueue, ptr %324, i64 0, i32 9
  %346 = load ptr, ptr %bh241.i, align 8
  call void @qemu_bh_schedule(ptr noundef %346) #17
  br label %if.end7

if.end7:                                          ; preds = %if.end240.i, %if.then194.i, %do.end191.i, %if.then161.i, %do.end158.i, %if.end128.i, %if.end121.i, %if.then75.i, %do.end72.i, %if.then46.i54, %do.end44.i, %if.then11.i, %trace_pci_nvme_ub_db_wr_misaligned.exit.i, %if.then460.i, %trace_pci_nvme_ub_mmiowr_invalid.exit.i, %if.end447.i, %sw.bb442.i, %if.end436.i, %if.then430.i, %if.end402.i, %sw.bb397.i, %if.then393.i, %trace_pci_nvme_ub_mmiowr_pmrswtp_readonly.exit.i, %if.then379.i, %trace_pci_nvme_ub_mmiowr_pmrebs_readonly.exit.i, %if.then365.i, %trace_pci_nvme_ub_mmiowr_pmrsts_readonly.exit.i, %if.end352.i, %sw.bb331.i, %if.then327.i, %trace_pci_nvme_ub_mmiowr_pmrcap_readonly.exit.i, %sw.bb312.i, %if.else308.i, %if.end302.i, %if.then293.i, %if.then277.i, %sw.bb267.i, %if.then263.i, %trace_pci_nvme_ub_mmiowr_cmbsz_readonly.exit.i, %if.then249.i, %trace_pci_nvme_ub_mmiowr_cmbloc_reserved.exit.i, %trace_pci_nvme_mmio_acqaddr_hi.exit.i, %sw.bb5.i341.i, %sw.bb3.i342.i, %sw.bb1.i344.i, %sw.bb.i346.i, %trace_pci_nvme_mmio_asqaddr_hi.exit.i, %trace_pci_nvme_mmio_asqaddr.exit.i, %trace_pci_nvme_mmio_aqattr.exit.i, %trace_pci_nvme_ub_mmiowr_ssreset_unsupported.exit.i, %sw.bb210.i, %if.then204.i, %do.body195.i, %if.else191.i, %if.then187.i, %trace_pci_nvme_ub_mmiowr_ssreset_w1c_unsupported.exit.i, %if.end171.i, %if.then169.i, %if.end.i208.i, %trace_pci_nvme_mmio_intm_clr.exit.i, %if.end.i.i, %trace_pci_nvme_mmio_intm_set.exit.i, %trace_pci_nvme_err_ignored_mmio_vf_offline.exit
  ret void
}

declare void @memory_region_msync(ptr noundef, i64 noundef, i64 noundef) local_unnamed_addr #1

; Function Attrs: noreturn
declare void @g_assertion_message_expr(ptr noundef, ptr noundef, i32 noundef, ptr noundef, ptr noundef) local_unnamed_addr #9

declare i32 @msix_enabled(ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_mmio_shutdown_cleared() unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_MMIO_SHUTDOWN_CLEARED_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_mmio_shutdown_cleared.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_mmio_shutdown_cleared.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.134, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6) #17
  br label %_nocheck__trace_pci_nvme_mmio_shutdown_cleared.exit

if.else.i:                                        ; preds = %if.then.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.135) #17
  br label %_nocheck__trace_pci_nvme_mmio_shutdown_cleared.exit

_nocheck__trace_pci_nvme_mmio_shutdown_cleared.exit: ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_err_startfail() unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_STARTFAIL_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_err_startfail.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_err_startfail.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.424, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6) #17
  br label %_nocheck__trace_pci_nvme_err_startfail.exit

if.else.i:                                        ; preds = %if.then.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.425) #17
  br label %_nocheck__trace_pci_nvme_err_startfail.exit

_nocheck__trace_pci_nvme_err_startfail.exit:      ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_mmio_start_success() unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_MMIO_START_SUCCESS_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_mmio_start_success.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_mmio_start_success.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.426, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6) #17
  br label %_nocheck__trace_pci_nvme_mmio_start_success.exit

if.else.i:                                        ; preds = %if.then.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.427) #17
  br label %_nocheck__trace_pci_nvme_mmio_start_success.exit

_nocheck__trace_pci_nvme_mmio_start_success.exit: ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_mmio_stopped() unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_MMIO_STOPPED_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_mmio_stopped.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_mmio_stopped.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.428, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6) #17
  br label %_nocheck__trace_pci_nvme_mmio_stopped.exit

if.else.i:                                        ; preds = %if.then.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.429) #17
  br label %_nocheck__trace_pci_nvme_mmio_stopped.exit

_nocheck__trace_pci_nvme_mmio_stopped.exit:       ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @nvme_ctrl_reset(ptr noundef %n, i32 noundef %rst) unnamed_addr #0 {
entry:
  %call.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %n, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  br label %nvme_ns.exit

for.cond2.preheader:                              ; preds = %for.inc
  %max_ioqpairs = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 4, i32 2
  %0 = load i32, ptr %max_ioqpairs, align 4
  %cmp381.not = icmp eq i32 %0, -1
  br i1 %cmp381.not, label %while.cond.preheader, label %for.body4.lr.ph

for.body4.lr.ph:                                  ; preds = %for.cond2.preheader
  %sq = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 36
  br label %for.body4

nvme_ns.exit:                                     ; preds = %entry, %for.inc
  %indvars.iv = phi i64 [ 1, %entry ], [ %indvars.iv.next, %for.inc ]
  %arrayidx.i = getelementptr %struct.NvmeCtrl, ptr %n, i64 0, i32 35, i64 %indvars.iv
  %1 = load ptr, ptr %arrayidx.i, align 8
  %tobool.not = icmp eq ptr %1, null
  br i1 %tobool.not, label %for.inc, label %if.end

if.end:                                           ; preds = %nvme_ns.exit
  tail call void @nvme_ns_drain(ptr noundef nonnull %1) #17
  br label %for.inc

for.inc:                                          ; preds = %nvme_ns.exit, %if.end
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %exitcond.not = icmp eq i64 %indvars.iv.next, 257
  br i1 %exitcond.not, label %for.cond2.preheader, label %nvme_ns.exit, !llvm.loop !23

for.cond14.preheader:                             ; preds = %for.inc11
  %cmp1884.not = icmp eq i32 %5, -1
  br i1 %cmp1884.not, label %while.cond.preheader, label %for.body19.lr.ph

for.body19.lr.ph:                                 ; preds = %for.cond14.preheader
  %cq = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 37
  br label %for.body19

for.body4:                                        ; preds = %for.body4.lr.ph, %for.inc11
  %2 = phi i32 [ %0, %for.body4.lr.ph ], [ %5, %for.inc11 ]
  %i.182 = phi i32 [ 0, %for.body4.lr.ph ], [ %inc12, %for.inc11 ]
  %3 = load ptr, ptr %sq, align 16
  %idxprom = sext i32 %i.182 to i64
  %arrayidx = getelementptr ptr, ptr %3, i64 %idxprom
  %4 = load ptr, ptr %arrayidx, align 8
  %cmp5.not = icmp eq ptr %4, null
  br i1 %cmp5.not, label %for.inc11, label %if.then6

if.then6:                                         ; preds = %for.body4
  tail call fastcc void @nvme_free_sq(ptr noundef nonnull %4, ptr noundef nonnull %n)
  %.pre = load i32, ptr %max_ioqpairs, align 4
  br label %for.inc11

for.inc11:                                        ; preds = %for.body4, %if.then6
  %5 = phi i32 [ %2, %for.body4 ], [ %.pre, %if.then6 ]
  %inc12 = add nuw i32 %i.182, 1
  %add = add i32 %5, 1
  %cmp3 = icmp ult i32 %inc12, %add
  br i1 %cmp3, label %for.body4, label %for.cond14.preheader, !llvm.loop !24

while.cond.preheader:                             ; preds = %for.inc28, %for.cond2.preheader, %for.cond14.preheader
  %aer_queue = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 29
  %6 = load ptr, ptr %aer_queue, align 8
  %cmp31.not86 = icmp eq ptr %6, null
  br i1 %cmp31.not86, label %while.end, label %while.body.lr.ph

while.body.lr.ph:                                 ; preds = %while.cond.preheader
  %tql_prev43 = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 29, i32 0, i32 1
  br label %while.body

for.body19:                                       ; preds = %for.body19.lr.ph, %for.inc28
  %7 = phi i32 [ %5, %for.body19.lr.ph ], [ %10, %for.inc28 ]
  %i.285 = phi i32 [ 0, %for.body19.lr.ph ], [ %inc29, %for.inc28 ]
  %8 = load ptr, ptr %cq, align 8
  %idxprom20 = sext i32 %i.285 to i64
  %arrayidx21 = getelementptr ptr, ptr %8, i64 %idxprom20
  %9 = load ptr, ptr %arrayidx21, align 8
  %cmp22.not = icmp eq ptr %9, null
  br i1 %cmp22.not, label %for.inc28, label %if.then23

if.then23:                                        ; preds = %for.body19
  tail call fastcc void @nvme_free_cq(ptr noundef nonnull %9, ptr noundef nonnull %n)
  %.pre94 = load i32, ptr %max_ioqpairs, align 4
  br label %for.inc28

for.inc28:                                        ; preds = %for.body19, %if.then23
  %10 = phi i32 [ %7, %for.body19 ], [ %.pre94, %if.then23 ]
  %inc29 = add nuw i32 %i.285, 1
  %add17 = add i32 %10, 1
  %cmp18 = icmp ult i32 %inc29, %add17
  br i1 %cmp18, label %for.body19, label %while.cond.preheader, !llvm.loop !25

while.body:                                       ; preds = %while.body.lr.ph, %while.body
  %11 = phi ptr [ %6, %while.body.lr.ph ], [ %15, %while.body ]
  %12 = load ptr, ptr %11, align 8
  %cmp34.not = icmp eq ptr %12, null
  %tql_prev41 = getelementptr inbounds %struct.QTailQLink, ptr %11, i64 0, i32 1
  %13 = load ptr, ptr %tql_prev41, align 8
  %tql_prev39 = getelementptr inbounds %struct.QTailQLink, ptr %12, i64 0, i32 1
  %tql_prev43.sink = select i1 %cmp34.not, ptr %tql_prev43, ptr %tql_prev39
  store ptr %13, ptr %tql_prev43.sink, align 8
  %14 = load ptr, ptr %11, align 8
  store ptr %14, ptr %13, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %11, i8 0, i64 16, i1 false)
  tail call void @g_free(ptr noundef nonnull %11) #17
  %15 = load ptr, ptr %aer_queue, align 8
  %cmp31.not = icmp eq ptr %15, null
  br i1 %cmp31.not, label %while.end, label %while.body, !llvm.loop !26

while.end:                                        ; preds = %while.body, %while.cond.preheader
  %sriov_max_vfs = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 4, i32 14
  %16 = load i8, ptr %sriov_max_vfs, align 1
  %tobool54.not = icmp eq i8 %16, 0
  br i1 %tobool54.not, label %if.end80, label %if.then55

if.then55:                                        ; preds = %while.end
  %17 = getelementptr i8, ptr %call.i, i64 2232
  %call.val63 = load ptr, ptr %17, align 8
  %cmp.i.not = icmp eq ptr %call.val63, null
  br i1 %cmp.i.not, label %for.cond59.preheader, label %if.end75

for.cond59.preheader:                             ; preds = %if.then55
  %sec_ctrl_list = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 43
  %18 = load i8, ptr %sec_ctrl_list, align 8
  %cmp6088.not = icmp eq i8 %18, 0
  br i1 %cmp6088.not, label %for.end70, label %for.body62

for.body62:                                       ; preds = %for.cond59.preheader, %for.body62
  %indvars.iv91 = phi i64 [ %indvars.iv.next92, %for.body62 ], [ 0, %for.cond59.preheader ]
  %arrayidx65 = getelementptr %struct.NvmeCtrl, ptr %n, i64 0, i32 43, i32 2, i64 %indvars.iv91
  %19 = load i16, ptr %arrayidx65, align 1
  %call67 = tail call fastcc zeroext i16 @nvme_virt_set_state(ptr noundef nonnull %n, i16 noundef zeroext %19, i1 noundef zeroext false), !range !18
  %indvars.iv.next92 = add nuw nsw i64 %indvars.iv91, 1
  %20 = load i8, ptr %sec_ctrl_list, align 8
  %21 = zext i8 %20 to i64
  %cmp60 = icmp ult i64 %indvars.iv.next92, %21
  br i1 %cmp60, label %for.body62, label %for.end70, !llvm.loop !27

for.end70:                                        ; preds = %for.body62, %for.cond59.preheader
  %cond62 = icmp eq i32 %rst, 1
  br i1 %cond62, label %if.end80, label %if.end75.thread

if.end75.thread:                                  ; preds = %for.end70
  tail call void @pcie_sriov_pf_disable_vfs(ptr noundef %call.i) #17
  br label %if.then78

if.end75:                                         ; preds = %if.then55
  %cmp76.not = icmp eq i32 %rst, 1
  br i1 %cmp76.not, label %if.end80, label %if.then78

if.then78:                                        ; preds = %if.end75.thread, %if.end75
  %call.i.i = tail call ptr @object_dynamic_cast_assert(ptr noundef nonnull %n, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %22 = getelementptr i8, ptr %call.i.i, i64 2232
  %call.val.i = load ptr, ptr %22, align 8
  %cmp.i.not.i = icmp eq ptr %call.val.i, null
  br i1 %cmp.i.not.i, label %if.else.i, label %if.then.i

if.then.i:                                        ; preds = %if.then78
  %call.i21.i = tail call ptr @pcie_sriov_get_pf(ptr noundef nonnull %n) #17
  %call1.i.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %call.i21.i, ptr noundef nonnull @.str.49, ptr noundef nonnull @.str.39, i32 noundef 647, ptr noundef nonnull @__func__.nvme_sctrl) #17
  %23 = getelementptr i8, ptr %n, i64 2232
  %n.val.i.i = load ptr, ptr %23, align 8
  %cmp.i.not.i.i = icmp ne ptr %n.val.i.i, null
  tail call void @llvm.assume(i1 %cmp.i.not.i.i)
  %call3.i.i = tail call zeroext i16 @pcie_sriov_vf_number(ptr noundef nonnull %n) #17
  %idxprom.i.i = zext i16 %call3.i.i to i64
  %nvq.i = getelementptr %struct.NvmeCtrl, ptr %call1.i.i, i64 0, i32 43, i32 2, i64 %idxprom.i.i, i32 5
  %24 = load i16, ptr %nvq.i, align 1
  %vqprt.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 42, i32 7
  store i16 %24, ptr %vqprt.i, align 1
  %nvi.i = getelementptr %struct.NvmeCtrl, ptr %call1.i.i, i64 0, i32 43, i32 2, i64 %idxprom.i.i, i32 6
  %25 = load i16, ptr %nvi.i, align 1
  %viprt.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 42, i32 14
  store i16 %25, ptr %viprt.i, align 1
  %26 = load i16, ptr %nvq.i, align 1
  %tobool4.not.i = icmp eq i16 %26, 0
  %conv7.i = zext i16 %26 to i32
  %sub.i = add nsw i32 %conv7.i, -1
  %cond.i = select i1 %tobool4.not.i, i32 0, i32 %sub.i
  %conf_ioqpairs.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 21
  store i32 %cond.i, ptr %conf_ioqpairs.i, align 8
  %27 = load i16, ptr %nvi.i, align 1
  %narrow.i = tail call i16 @llvm.umax.i16(i16 %27, i16 1)
  %cond17.i = zext i16 %narrow.i to i32
  br label %nvme_activate_virt_res.exit

if.else.i:                                        ; preds = %if.then78
  %next_pri_ctrl_cap.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 44
  %28 = load i16, ptr %next_pri_ctrl_cap.i, align 8
  %vqrfap18.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 42, i32 6
  store i16 %28, ptr %vqrfap18.i, align 1
  %virfap.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 44, i32 1
  %29 = load i16, ptr %virfap.i, align 2
  %virfap20.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 42, i32 13
  store i16 %29, ptr %virfap20.i, align 1
  %vqprt21.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 42, i32 7
  %30 = load i16, ptr %vqprt21.i, align 1
  %conv23.i = zext i16 %30 to i32
  %conv26.i = zext i16 %28 to i32
  %add.i = add nsw i32 %conv26.i, -1
  %sub27.i = add nsw i32 %add.i, %conv23.i
  %conf_ioqpairs28.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 21
  store i32 %sub27.i, ptr %conf_ioqpairs28.i, align 8
  %viprt29.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 42, i32 14
  %31 = load i16, ptr %viprt29.i, align 1
  %conv31.i = zext i16 %31 to i32
  %conv34.i = zext i16 %29 to i32
  %add35.i = add nuw nsw i32 %conv31.i, %conv34.i
  br label %nvme_activate_virt_res.exit

nvme_activate_virt_res.exit:                      ; preds = %if.then.i, %if.else.i
  %cond17.sink.i = phi i32 [ %add35.i, %if.else.i ], [ %cond17.i, %if.then.i ]
  %32 = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 20
  store i32 %cond17.sink.i, ptr %32, align 4
  br label %if.end80

if.end80:                                         ; preds = %for.end70, %if.end75, %nvme_activate_virt_res.exit, %while.end
  %aer_queued = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 30
  store i32 0, ptr %aer_queued, align 8
  %aer_mask = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 27
  store i8 0, ptr %aer_mask, align 8
  %outstanding_aers = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 12
  store i8 0, ptr %outstanding_aers, align 8
  %qs_created = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 7
  store i8 0, ptr %qs_created, align 2
  %conf_msix_qsize = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 20
  %33 = load i32, ptr %conf_msix_qsize, align 4
  %call.i65 = tail call i32 @msix_present(ptr noundef %call.i) #17
  %tobool.not.i = icmp eq i32 %call.i65, 0
  br i1 %tobool.not.i, label %nvme_update_msixcap_ts.exit, label %if.end.i66

if.end.i66:                                       ; preds = %if.end80
  %cmp.not.i = icmp eq i32 %33, 0
  br i1 %cmp.not.i, label %if.else.i67, label %land.lhs.true.i

land.lhs.true.i:                                  ; preds = %if.end.i66
  %msix_entries_nr.i = getelementptr inbounds %struct.PCIDevice, ptr %call.i, i64 0, i32 22
  %34 = load i32, ptr %msix_entries_nr.i, align 4
  %cmp1.not.i = icmp ult i32 %34, %33
  br i1 %cmp1.not.i, label %if.else.i67, label %if.end3.i

if.else.i67:                                      ; preds = %land.lhs.true.i, %if.end.i66
  tail call void @__assert_fail(ptr noundef nonnull @.str.479, ptr noundef nonnull @.str.1, i32 noundef 7048, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_update_msixcap_ts) #18
  unreachable

if.end3.i:                                        ; preds = %land.lhs.true.i
  %config4.i = getelementptr inbounds %struct.PCIDevice, ptr %call.i, i64 0, i32 3
  %35 = load ptr, ptr %config4.i, align 8
  %msix_cap.i = getelementptr inbounds %struct.PCIDevice, ptr %call.i, i64 0, i32 21
  %36 = load i8, ptr %msix_cap.i, align 16
  %idx.ext.i = zext i8 %36 to i64
  %add.ptr.i = getelementptr i8, ptr %35, i64 %idx.ext.i
  %add.ptr5.i = getelementptr i8, ptr %add.ptr.i, i64 2
  %37 = trunc i32 %33 to i16
  %conv6.i = add i16 %37, 2047
  %config.val.i.i = load i16, ptr %add.ptr5.i, align 1
  %38 = and i16 %config.val.i.i, -2048
  %39 = and i16 %conv6.i, 2047
  %or5.i.i = or disjoint i16 %38, %39
  store i16 %or5.i.i, ptr %add.ptr5.i, align 1
  br label %nvme_update_msixcap_ts.exit

nvme_update_msixcap_ts.exit:                      ; preds = %if.end80, %if.end3.i
  %40 = getelementptr i8, ptr %call.i, i64 2232
  %call.val = load ptr, ptr %40, align 8
  %cmp.i68.not = icmp eq ptr %call.val, null
  br i1 %cmp.i68.not, label %if.end90, label %if.then83

if.then83:                                        ; preds = %nvme_update_msixcap_ts.exit
  %call.i70 = tail call ptr @pcie_sriov_get_pf(ptr noundef nonnull %n) #17
  %call1.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %call.i70, ptr noundef nonnull @.str.49, ptr noundef nonnull @.str.39, i32 noundef 647, ptr noundef nonnull @__func__.nvme_sctrl) #17
  %41 = getelementptr i8, ptr %n, i64 2232
  %n.val.i = load ptr, ptr %41, align 8
  %cmp.i.not.i71 = icmp ne ptr %n.val.i, null
  tail call void @llvm.assume(i1 %cmp.i.not.i71)
  %call3.i = tail call zeroext i16 @pcie_sriov_vf_number(ptr noundef nonnull %n) #17
  %idxprom.i73 = zext i16 %call3.i to i64
  %scs = getelementptr %struct.NvmeCtrl, ptr %call1.i, i64 0, i32 43, i32 2, i64 %idxprom.i73, i32 2
  %42 = load i8, ptr %scs, align 1
  %tobool86.not = icmp eq i8 %42, 0
  %cond = select i1 %tobool86.not, i32 2, i32 0
  br label %if.end90

if.end90:                                         ; preds = %nvme_update_msixcap_ts.exit, %if.then83
  %cond.sink = phi i32 [ %cond, %if.then83 ], [ 0, %nvme_update_msixcap_ts.exit ]
  %43 = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 3, i32 6
  store i32 %cond.sink, ptr %43, align 1
  %intms = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 3, i32 2
  store i32 0, ptr %intms, align 1
  %intmc = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 3, i32 3
  store i32 0, ptr %intmc, align 1
  %cc = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 3, i32 4
  store i32 0, ptr %cc, align 1
  %dbbuf_dbs = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 22
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 16 dereferenceable(17) %dbbuf_dbs, i8 0, i64 17, i1 false)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_ub_mmiowr_ro_csts() unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_UB_MMIOWR_RO_CSTS_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_ub_mmiowr_ro_csts.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_ub_mmiowr_ro_csts.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.432, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6) #17
  br label %_nocheck__trace_pci_nvme_ub_mmiowr_ro_csts.exit

if.else.i:                                        ; preds = %if.then.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.433) #17
  br label %_nocheck__trace_pci_nvme_ub_mmiowr_ro_csts.exit

_nocheck__trace_pci_nvme_ub_mmiowr_ro_csts.exit:  ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

declare void @memory_region_set_enabled(ptr noundef, i1 noundef zeroext) local_unnamed_addr #1

declare void @pci_set_irq(ptr noundef, i32 noundef) local_unnamed_addr #1

declare void @nvme_ns_shutdown(ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_err_startfail_css(i8 noundef zeroext %css) unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_STARTFAIL_CSS_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_err_startfail_css.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_err_startfail_css.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  %conv11.i = zext nneg i8 %css to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.146, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6, i32 noundef %conv11.i) #17
  br label %_nocheck__trace_pci_nvme_err_startfail_css.exit

if.else.i:                                        ; preds = %if.then.i
  %conv12.i = zext nneg i8 %css to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.147, i32 noundef %conv12.i) #17
  br label %_nocheck__trace_pci_nvme_err_startfail_css.exit

_nocheck__trace_pci_nvme_err_startfail_css.exit:  ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_err_startfail_page_too_small(i8 noundef zeroext %log2ps, i8 noundef zeroext %maxlog2ps) unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_STARTFAIL_PAGE_TOO_SMALL_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_err_startfail_page_too_small.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_err_startfail_page_too_small.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  %conv11.i = zext nneg i8 %log2ps to i32
  %conv12.i = zext nneg i8 %maxlog2ps to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.148, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6, i32 noundef %conv11.i, i32 noundef %conv12.i) #17
  br label %_nocheck__trace_pci_nvme_err_startfail_page_too_small.exit

if.else.i:                                        ; preds = %if.then.i
  %conv13.i = zext nneg i8 %log2ps to i32
  %conv14.i = zext nneg i8 %maxlog2ps to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.149, i32 noundef %conv13.i, i32 noundef %conv14.i) #17
  br label %_nocheck__trace_pci_nvme_err_startfail_page_too_small.exit

_nocheck__trace_pci_nvme_err_startfail_page_too_small.exit: ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_err_startfail_page_too_large(i8 noundef zeroext %log2ps, i8 noundef zeroext %maxlog2ps) unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_STARTFAIL_PAGE_TOO_LARGE_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_err_startfail_page_too_large.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_err_startfail_page_too_large.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  %conv11.i = zext nneg i8 %log2ps to i32
  %conv12.i = zext nneg i8 %maxlog2ps to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.150, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6, i32 noundef %conv11.i, i32 noundef %conv12.i) #17
  br label %_nocheck__trace_pci_nvme_err_startfail_page_too_large.exit

if.else.i:                                        ; preds = %if.then.i
  %conv13.i = zext nneg i8 %log2ps to i32
  %conv14.i = zext nneg i8 %maxlog2ps to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.151, i32 noundef %conv13.i, i32 noundef %conv14.i) #17
  br label %_nocheck__trace_pci_nvme_err_startfail_page_too_large.exit

_nocheck__trace_pci_nvme_err_startfail_page_too_large.exit: ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_err_startfail_asqent_sz_zero() unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_STARTFAIL_ASQENT_SZ_ZERO_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_err_startfail_asqent_sz_zero.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_err_startfail_asqent_sz_zero.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.152, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6) #17
  br label %_nocheck__trace_pci_nvme_err_startfail_asqent_sz_zero.exit

if.else.i:                                        ; preds = %if.then.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.153) #17
  br label %_nocheck__trace_pci_nvme_err_startfail_asqent_sz_zero.exit

_nocheck__trace_pci_nvme_err_startfail_asqent_sz_zero.exit: ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_err_startfail_acqent_sz_zero() unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_STARTFAIL_ACQENT_SZ_ZERO_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_err_startfail_acqent_sz_zero.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_err_startfail_acqent_sz_zero.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.154, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6) #17
  br label %_nocheck__trace_pci_nvme_err_startfail_acqent_sz_zero.exit

if.else.i:                                        ; preds = %if.then.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.155) #17
  br label %_nocheck__trace_pci_nvme_err_startfail_acqent_sz_zero.exit

_nocheck__trace_pci_nvme_err_startfail_acqent_sz_zero.exit: ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @nvme_init_cq(ptr noundef %cq, ptr noundef %n, i64 noundef %dma_addr, i16 noundef zeroext %cqid, i16 noundef zeroext %vector, i16 noundef zeroext %size, i16 noundef zeroext %irq_enabled) unnamed_addr #0 {
entry:
  %call.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %n, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %call1 = tail call i32 @msix_enabled(ptr noundef %call.i) #17
  %tobool.not = icmp eq i32 %call1, 0
  %.pre = zext i16 %vector to i32
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  tail call void @msix_vector_use(ptr noundef %call.i, i32 noundef %.pre) #17
  br label %if.end

if.end:                                           ; preds = %entry, %if.then
  store ptr %n, ptr %cq, align 8
  %cqid2 = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 2
  store i16 %cqid, ptr %cqid2, align 2
  %conv3 = zext i16 %size to i32
  %size4 = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 7
  store i32 %conv3, ptr %size4, align 4
  %dma_addr5 = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 8
  store i64 %dma_addr, ptr %dma_addr5, align 8
  %phase = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 1
  store i8 1, ptr %phase, align 8
  %irq_enabled6 = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 3
  store i16 %irq_enabled, ptr %irq_enabled6, align 4
  %vector8 = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 6
  store i32 %.pre, ptr %vector8, align 8
  %tail = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 5
  store i32 0, ptr %tail, align 4
  %head = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 4
  store i32 0, ptr %head, align 8
  %req_list = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 15
  store ptr null, ptr %req_list, align 8
  %tql_prev = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 15, i32 0, i32 1
  store ptr %req_list, ptr %tql_prev, align 8
  %sq_list = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 14
  store ptr null, ptr %sq_list, align 8
  %tql_prev14 = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 14, i32 0, i32 1
  store ptr %sq_list, ptr %tql_prev14, align 8
  %dbbuf_enabled = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 24
  %0 = load i8, ptr %dbbuf_enabled, align 16
  %1 = and i8 %0, 1
  %tobool16.not = icmp eq i8 %1, 0
  br i1 %tobool16.not, label %if.end.if.end36_crit_edge, label %if.then17

if.end.if.end36_crit_edge:                        ; preds = %if.end
  %.pre39 = zext i16 %cqid to i64
  br label %if.end36

if.then17:                                        ; preds = %if.end
  %dbbuf_dbs = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 22
  %2 = load i64, ptr %dbbuf_dbs, align 16
  %conv18 = zext i16 %cqid to i64
  %shl = shl nuw nsw i64 %conv18, 3
  %add = or disjoint i64 %shl, 4
  %add20 = add i64 %add, %2
  %db_addr = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 9
  store i64 %add20, ptr %db_addr, align 8
  %dbbuf_eis = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 23
  %3 = load i64, ptr %dbbuf_eis, align 8
  %add25 = add i64 %add, %3
  %ei_addr = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 10
  store i64 %add25, ptr %ei_addr, align 8
  %ioeventfd = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 4, i32 13
  %4 = load i8, ptr %ioeventfd, align 2
  %5 = and i8 %4, 1
  %tobool26 = icmp ne i8 %5, 0
  %cmp = icmp ne i16 %cqid, 0
  %or.cond = and i1 %cmp, %tobool26
  br i1 %or.cond, label %if.then30, label %if.end36

if.then30:                                        ; preds = %if.then17
  %notifier.i = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 12
  %call.i35 = tail call i32 @event_notifier_init(ptr noundef nonnull %notifier.i, i32 noundef 0) #17
  %cmp.i = icmp slt i32 %call.i35, 0
  br i1 %cmp.i, label %if.end36, label %if.then33

if.then33:                                        ; preds = %if.then30
  %shl.i = shl i16 %cqid, 3
  %add.i = or disjoint i16 %shl.i, 4
  tail call void @event_notifier_set_handler(ptr noundef nonnull %notifier.i, ptr noundef nonnull @nvme_cq_notifier) #17
  %iomem.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 2
  %conv4.i = zext i16 %add.i to i64
  %add5.i = add nuw nsw i64 %conv4.i, 4096
  tail call void @memory_region_add_eventfd(ptr noundef nonnull %iomem.i, i64 noundef %add5.i, i32 noundef 4, i1 noundef zeroext false, i64 noundef 0, ptr noundef nonnull %notifier.i) #17
  %ioeventfd_enabled = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 13
  store i8 1, ptr %ioeventfd_enabled, align 4
  br label %if.end36

if.end36:                                         ; preds = %if.end.if.end36_crit_edge, %if.then30, %if.then17, %if.then33
  %idxprom.pre-phi = phi i64 [ %.pre39, %if.end.if.end36_crit_edge ], [ %conv18, %if.then30 ], [ %conv18, %if.then17 ], [ %conv18, %if.then33 ]
  %cq37 = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 37
  %6 = load ptr, ptr %cq37, align 8
  %arrayidx = getelementptr ptr, ptr %6, i64 %idxprom.pre-phi
  store ptr %cq, ptr %arrayidx, align 8
  %7 = load ptr, ptr %cq, align 8
  %call.i36 = tail call ptr @object_dynamic_cast_assert(ptr noundef %7, ptr noundef nonnull @.str.4, ptr noundef nonnull @.str.5, i32 noundef 77, ptr noundef nonnull @__func__.DEVICE) #17
  %mem_reentrancy_guard = getelementptr inbounds %struct.DeviceState, ptr %call.i36, i64 0, i32 18
  %call40 = tail call ptr @qemu_bh_new_full(ptr noundef nonnull @nvme_post_cqes, ptr noundef nonnull %cq, ptr noundef nonnull @.str.156, ptr noundef nonnull %mem_reentrancy_guard) #17
  %bh = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 11
  store ptr %call40, ptr %bh, align 8
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @nvme_init_sq(ptr noundef %sq, ptr noundef %n, i64 noundef %dma_addr, i16 noundef zeroext %sqid, i16 noundef zeroext %cqid, i16 noundef zeroext %size) unnamed_addr #0 {
entry:
  store ptr %n, ptr %sq, align 8
  %dma_addr1 = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 6
  store i64 %dma_addr, ptr %dma_addr1, align 8
  %sqid2 = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 1
  store i16 %sqid, ptr %sqid2, align 8
  %conv = zext i16 %size to i32
  %size3 = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 5
  store i32 %conv, ptr %size3, align 4
  %cqid4 = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 2
  store i16 %cqid, ptr %cqid4, align 2
  %tail = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 4
  store i32 0, ptr %tail, align 8
  %head = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 3
  store i32 0, ptr %head, align 4
  %conv6 = zext i16 %size to i64
  %call = tail call noalias ptr @g_malloc0_n(i64 noundef %conv6, i64 noundef 208) #19
  %io_req = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 12
  store ptr %call, ptr %io_req, align 8
  %req_list = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 13
  store ptr null, ptr %req_list, align 8
  %tql_prev = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 13, i32 0, i32 1
  store ptr %req_list, ptr %tql_prev, align 8
  %out_req_list = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 14
  store ptr null, ptr %out_req_list, align 8
  %tql_prev12 = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 14, i32 0, i32 1
  store ptr %out_req_list, ptr %tql_prev12, align 8
  %0 = load i32, ptr %size3, align 4
  %cmp61.not = icmp eq i32 %0, 0
  br i1 %cmp61.not, label %for.end, label %for.body

for.body:                                         ; preds = %entry, %for.body
  %1 = phi ptr [ %6, %for.body ], [ %call, %entry ]
  %i.062 = phi i32 [ %inc, %for.body ], [ 0, %entry ]
  %idxprom = sext i32 %i.062 to i64
  %arrayidx = getelementptr %struct.NvmeRequest, ptr %1, i64 %idxprom
  store ptr %sq, ptr %arrayidx, align 8
  %2 = load ptr, ptr %io_req, align 8
  %entry22 = getelementptr %struct.NvmeRequest, ptr %2, i64 %idxprom, i32 9
  store ptr null, ptr %entry22, align 8
  %3 = load ptr, ptr %tql_prev, align 8
  %4 = load ptr, ptr %io_req, align 8
  %tql_prev29 = getelementptr %struct.NvmeRequest, ptr %4, i64 %idxprom, i32 9, i32 0, i32 1
  store ptr %3, ptr %tql_prev29, align 8
  %5 = load ptr, ptr %io_req, align 8
  %arrayidx32 = getelementptr %struct.NvmeRequest, ptr %5, i64 %idxprom
  store ptr %arrayidx32, ptr %3, align 8
  %6 = load ptr, ptr %io_req, align 8
  %entry38 = getelementptr %struct.NvmeRequest, ptr %6, i64 %idxprom, i32 9
  store ptr %entry38, ptr %tql_prev, align 8
  %inc = add nuw i32 %i.062, 1
  %7 = load i32, ptr %size3, align 4
  %cmp = icmp ult i32 %inc, %7
  br i1 %cmp, label %for.body, label %for.end, !llvm.loop !28

for.end:                                          ; preds = %for.body, %entry
  %8 = load ptr, ptr %sq, align 8
  %call.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %8, ptr noundef nonnull @.str.4, ptr noundef nonnull @.str.5, i32 noundef 77, ptr noundef nonnull @__func__.DEVICE) #17
  %mem_reentrancy_guard = getelementptr inbounds %struct.DeviceState, ptr %call.i, i64 0, i32 18
  %call44 = tail call ptr @qemu_bh_new_full(ptr noundef nonnull @nvme_process_sq, ptr noundef nonnull %sq, ptr noundef nonnull @.str.172, ptr noundef nonnull %mem_reentrancy_guard) #17
  %bh = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 9
  store ptr %call44, ptr %bh, align 8
  %dbbuf_enabled = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 24
  %9 = load i8, ptr %dbbuf_enabled, align 16
  %10 = and i8 %9, 1
  %tobool.not = icmp eq i8 %10, 0
  br i1 %tobool.not, label %if.end62, label %if.then

if.then:                                          ; preds = %for.end
  %dbbuf_dbs = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 22
  %11 = load i64, ptr %dbbuf_dbs, align 16
  %conv45 = zext i16 %sqid to i64
  %shl = shl nuw nsw i64 %conv45, 3
  %add = add i64 %11, %shl
  %db_addr = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 7
  store i64 %add, ptr %db_addr, align 8
  %dbbuf_eis = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 23
  %12 = load i64, ptr %dbbuf_eis, align 8
  %add50 = add i64 %12, %shl
  %ei_addr = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 8
  store i64 %add50, ptr %ei_addr, align 8
  %ioeventfd = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 4, i32 13
  %13 = load i8, ptr %ioeventfd, align 2
  %14 = and i8 %13, 1
  %tobool51.not = icmp eq i8 %14, 0
  br i1 %tobool51.not, label %if.end62, label %land.lhs.true

land.lhs.true:                                    ; preds = %if.then
  %15 = load i16, ptr %sqid2, align 8
  %cmp55.not = icmp eq i16 %15, 0
  br i1 %cmp55.not, label %if.end62, label %if.then57

if.then57:                                        ; preds = %land.lhs.true
  %16 = load ptr, ptr %sq, align 8
  %notifier.i = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 10
  %call.i58 = tail call i32 @event_notifier_init(ptr noundef nonnull %notifier.i, i32 noundef 0) #17
  %cmp.i = icmp slt i32 %call.i58, 0
  br i1 %cmp.i, label %if.end62, label %if.then60

if.then60:                                        ; preds = %if.then57
  %shl.i = shl i16 %15, 3
  tail call void @event_notifier_set_handler(ptr noundef nonnull %notifier.i, ptr noundef nonnull @nvme_sq_notifier) #17
  %iomem.i = getelementptr inbounds %struct.NvmeCtrl, ptr %16, i64 0, i32 2
  %conv4.i = zext i16 %shl.i to i64
  %add.i = add nuw nsw i64 %conv4.i, 4096
  tail call void @memory_region_add_eventfd(ptr noundef nonnull %iomem.i, i64 noundef %add.i, i32 noundef 4, i1 noundef zeroext false, i64 noundef 0, ptr noundef nonnull %notifier.i) #17
  %ioeventfd_enabled = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 11
  store i8 1, ptr %ioeventfd_enabled, align 4
  br label %if.end62

if.end62:                                         ; preds = %if.then57, %if.then, %land.lhs.true, %if.then60, %for.end
  %cq63 = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 37
  %17 = load ptr, ptr %cq63, align 8
  %idxprom64 = zext i16 %cqid to i64
  %arrayidx65 = getelementptr ptr, ptr %17, i64 %idxprom64
  %18 = load ptr, ptr %arrayidx65, align 8
  %tobool66.not = icmp eq ptr %18, null
  br i1 %tobool66.not, label %if.else, label %if.end68

if.else:                                          ; preds = %if.end62
  tail call void @__assert_fail(ptr noundef nonnull @.str.173, ptr noundef nonnull @.str.1, i32 noundef 4652, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_init_sq) #18
  unreachable

if.end68:                                         ; preds = %if.end62
  %entry73 = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 15
  store ptr null, ptr %entry73, align 8
  %tql_prev74 = getelementptr inbounds %struct.NvmeCQueue, ptr %18, i64 0, i32 14, i32 0, i32 1
  %19 = load ptr, ptr %tql_prev74, align 8
  %tql_prev76 = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 15, i32 0, i32 1
  store ptr %19, ptr %tql_prev76, align 8
  store ptr %sq, ptr %19, align 8
  store ptr %entry73, ptr %tql_prev74, align 8
  %sq84 = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 36
  %20 = load ptr, ptr %sq84, align 16
  %idxprom85 = zext i16 %sqid to i64
  %arrayidx86 = getelementptr ptr, ptr %20, i64 %idxprom85
  store ptr %sq, ptr %arrayidx86, align 8
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @nvme_set_timestamp(ptr nocapture noundef writeonly %n, i64 noundef %ts) unnamed_addr #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_SETFEAT_TIMESTAMP_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %1, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_setfeat_timestamp.exit

land.lhs.true5.i.i:                               ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %2, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_setfeat_timestamp.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.422, i32 noundef %call10.i.i, i64 noundef %5, i64 noundef %6, i64 noundef %ts) #17
  br label %trace_pci_nvme_setfeat_timestamp.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.423, i64 noundef %ts) #17
  br label %trace_pci_nvme_setfeat_timestamp.exit

trace_pci_nvme_setfeat_timestamp.exit:            ; preds = %entry, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %host_timestamp = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 15
  store i64 %ts, ptr %host_timestamp, align 8
  %call.i = tail call i64 @qemu_clock_get_ns(i32 noundef 1) #17
  %div.i = sdiv i64 %call.i, 1000000
  %timestamp_set_qemu_clock_ms = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 16
  store i64 %div.i, ptr %timestamp_set_qemu_clock_ms, align 16
  ret void
}

; Function Attrs: nofree norecurse nosync nounwind sspstrong memory(readwrite, inaccessiblemem: none) uwtable
define internal fastcc void @nvme_select_iocs(ptr nocapture noundef readonly %n) unnamed_addr #10 {
entry:
  %0 = getelementptr i8, ptr %n, i64 3172
  br label %nvme_ns.exit

nvme_ns.exit:                                     ; preds = %entry, %for.inc
  %indvars.iv = phi i64 [ 1, %entry ], [ %indvars.iv.next, %for.inc ]
  %arrayidx.i = getelementptr %struct.NvmeCtrl, ptr %n, i64 0, i32 35, i64 %indvars.iv
  %1 = load ptr, ptr %arrayidx.i, align 8
  %tobool.not = icmp eq ptr %1, null
  br i1 %tobool.not, label %for.inc, label %if.end

if.end:                                           ; preds = %nvme_ns.exit
  %n.val = load i32, ptr %0, align 1
  %iocs.i = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 10
  store ptr @nvme_cse_iocs_none, ptr %iocs.i, align 8
  %csi.i = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 11
  %2 = load i8, ptr %csi.i, align 8
  switch i8 %2, label %for.inc [
    i8 0, label %sw.bb.i
    i8 2, label %sw.bb4.i
  ]

sw.bb.i:                                          ; preds = %if.end
  %3 = and i32 %n.val, 112
  %cmp.not.i = icmp eq i32 %3, 112
  br i1 %cmp.not.i, label %for.inc, label %sw.epilog.sink.split.i

sw.bb4.i:                                         ; preds = %if.end
  %shr5.i = lshr i32 %n.val, 4
  %and6.i = and i32 %shr5.i, 7
  switch i32 %and6.i, label %for.inc [
    i32 6, label %sw.epilog.sink.split.i
    i32 0, label %if.then15.i
  ]

if.then15.i:                                      ; preds = %sw.bb4.i
  br label %sw.epilog.sink.split.i

sw.epilog.sink.split.i:                           ; preds = %if.then15.i, %sw.bb4.i, %sw.bb.i
  %nvme_cse_iocs_zoned.sink.i = phi ptr [ @nvme_cse_iocs_nvm, %if.then15.i ], [ @nvme_cse_iocs_nvm, %sw.bb.i ], [ @nvme_cse_iocs_zoned, %sw.bb4.i ]
  store ptr %nvme_cse_iocs_zoned.sink.i, ptr %iocs.i, align 8
  br label %for.inc

for.inc:                                          ; preds = %sw.epilog.sink.split.i, %sw.bb4.i, %sw.bb.i, %if.end, %nvme_ns.exit
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %exitcond.not = icmp eq i64 %indvars.iv.next, 257
  br i1 %exitcond.not, label %for.end, label %nvme_ns.exit, !llvm.loop !29

for.end:                                          ; preds = %for.inc
  ret void
}

declare void @msix_vector_use(ptr noundef, i32 noundef) local_unnamed_addr #1

declare ptr @qemu_bh_new_full(ptr noundef, ptr noundef, ptr noundef, ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_post_cqes(ptr noundef %opaque) #0 {
entry:
  %_now.i.i22.i = alloca %struct.timeval, align 8
  %_now.i.i8.i = alloca %struct.timeval, align 8
  %_now.i.i.i65 = alloca %struct.timeval, align 8
  %_now.i.i48 = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %val.addr.i.i.i = alloca i32, align 4
  %_now.i.i.i = alloca %struct.timeval, align 8
  %0 = load ptr, ptr %opaque, align 8
  %head = getelementptr inbounds %struct.NvmeCQueue, ptr %opaque, i64 0, i32 4
  %1 = load i32, ptr %head, align 8
  %tail = getelementptr inbounds %struct.NvmeCQueue, ptr %opaque, i64 0, i32 5
  %2 = load i32, ptr %tail, align 4
  %cmp.not = icmp ne i32 %1, %2
  %req_list = getelementptr inbounds %struct.NvmeCQueue, ptr %opaque, i64 0, i32 15
  %3 = load ptr, ptr %req_list, align 8
  %tobool.not85 = icmp eq ptr %3, null
  br i1 %tobool.not85, label %for.end, label %land.rhs.lr.ph

land.rhs.lr.ph:                                   ; preds = %entry
  %dbbuf_enabled = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 24
  %cqid.i = getelementptr inbounds %struct.NvmeCQueue, ptr %opaque, i64 0, i32 2
  %tv_usec.i.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i, i64 0, i32 1
  %ei_addr.i = getelementptr inbounds %struct.NvmeCQueue, ptr %opaque, i64 0, i32 10
  %size.i = getelementptr inbounds %struct.NvmeCQueue, ptr %opaque, i64 0, i32 7
  %phase = getelementptr inbounds %struct.NvmeCQueue, ptr %opaque, i64 0, i32 1
  %dma_addr = getelementptr inbounds %struct.NvmeCQueue, ptr %opaque, i64 0, i32 8
  %tql_prev37 = getelementptr inbounds %struct.NvmeCQueue, ptr %opaque, i64 0, i32 15, i32 0, i32 1
  br label %land.rhs

land.rhs:                                         ; preds = %land.rhs.lr.ph, %nvme_sg_unmap.exit
  %req.086 = phi ptr [ %3, %land.rhs.lr.ph ], [ %4, %nvme_sg_unmap.exit ]
  %entry1 = getelementptr inbounds %struct.NvmeRequest, ptr %req.086, i64 0, i32 9
  %4 = load ptr, ptr %entry1, align 8
  %5 = load i8, ptr %dbbuf_enabled, align 16
  %6 = and i8 %5, 1
  %tobool2.not = icmp eq i8 %6, 0
  %.pre87 = load i32, ptr %head, align 8
  br i1 %tobool2.not, label %if.end, label %if.then

if.then:                                          ; preds = %land.rhs
  %7 = load i16, ptr %cqid.i, align 2
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i)
  %8 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i = icmp ne i32 %8, 0
  %9 = load i16, ptr @_TRACE_PCI_NVME_UPDATE_CQ_EVENTIDX_DSTATE, align 2
  %tobool4.i.i.i = icmp ne i16 %9, 0
  %or.cond.i.i.i = select i1 %tobool.i.i.i, i1 %tobool4.i.i.i, i1 false
  br i1 %or.cond.i.i.i, label %land.lhs.true5.i.i.i, label %nvme_update_cq_eventidx.exit

land.lhs.true5.i.i.i:                             ; preds = %if.then
  %10 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i = and i32 %10, 32768
  %cmp.i.not.i.i.i = icmp eq i32 %and.i.i.i.i, 0
  br i1 %cmp.i.not.i.i.i, label %nvme_update_cq_eventidx.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %land.lhs.true5.i.i.i
  %11 = load i8, ptr @message_with_timestamp, align 1
  %12 = and i8 %11, 1
  %tobool7.not.i.i.i = icmp eq i8 %12, 0
  br i1 %tobool7.not.i.i.i, label %if.else.i.i.i, label %if.then8.i.i.i

if.then8.i.i.i:                                   ; preds = %if.then.i.i.i
  %call9.i.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i, ptr noundef null) #17
  %call10.i.i.i = call i32 @qemu_get_thread_id() #17
  %13 = load i64, ptr %_now.i.i.i, align 8
  %14 = load i64, ptr %tv_usec.i.i.i, align 8
  %conv11.i.i.i = zext i16 %7 to i32
  %conv12.i.i.i = and i32 %.pre87, 65535
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.160, i32 noundef %call10.i.i.i, i64 noundef %13, i64 noundef %14, i32 noundef %conv11.i.i.i, i32 noundef %conv12.i.i.i) #17
  br label %nvme_update_cq_eventidx.exit

if.else.i.i.i:                                    ; preds = %if.then.i.i.i
  %conv13.i.i.i = zext i16 %7 to i32
  %conv14.i.i.i = and i32 %.pre87, 65535
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.161, i32 noundef %conv13.i.i.i, i32 noundef %conv14.i.i.i) #17
  br label %nvme_update_cq_eventidx.exit

nvme_update_cq_eventidx.exit:                     ; preds = %if.then, %land.lhs.true5.i.i.i, %if.then8.i.i.i, %if.else.i.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i)
  %15 = load ptr, ptr %opaque, align 8
  %call.i.i = call ptr @object_dynamic_cast_assert(ptr noundef %15, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %16 = load i64, ptr %ei_addr.i, align 8
  %17 = load i32, ptr %head, align 8
  %bus_master_as.i.i.i = getelementptr inbounds %struct.PCIDevice, ptr %call.i.i, i64 0, i32 12
  call void @llvm.lifetime.start.p0(i64 4, ptr nonnull %val.addr.i.i.i)
  store i32 %17, ptr %val.addr.i.i.i, align 4
  call void asm sideeffect "", "~{memory},~{dirflag},~{fpsr},~{flags}"() #17, !srcloc !10
  fence seq_cst
  %call.i.i.i.i.i.i = call i32 @address_space_rw(ptr noundef nonnull %bus_master_as.i.i.i, i64 noundef %16, i32 1, ptr noundef nonnull %val.addr.i.i.i, i64 noundef 4, i1 noundef zeroext true) #17
  call void @llvm.lifetime.end.p0(i64 4, ptr nonnull %val.addr.i.i.i)
  call fastcc void @nvme_update_cq_head(ptr noundef nonnull %opaque)
  %.pre = load i32, ptr %head, align 8
  br label %if.end

if.end:                                           ; preds = %nvme_update_cq_eventidx.exit, %land.rhs
  %18 = phi i32 [ %.pre, %nvme_update_cq_eventidx.exit ], [ %.pre87, %land.rhs ]
  %19 = load i32, ptr %tail, align 4
  %add.i = add i32 %19, 1
  %20 = load i32, ptr %size.i, align 4
  %rem.i = urem i32 %add.i, %20
  %cmp.i.not = icmp eq i32 %rem.i, %18
  br i1 %cmp.i.not, label %for.end, label %if.end5

if.end5:                                          ; preds = %if.end
  %21 = load ptr, ptr %req.086, align 8
  %status = getelementptr inbounds %struct.NvmeRequest, ptr %req.086, i64 0, i32 3
  %22 = load i16, ptr %status, align 8
  %shl = shl i16 %22, 1
  %23 = load i8, ptr %phase, align 8
  %conv7 = zext i8 %23 to i16
  %or = or i16 %shl, %conv7
  %cqe = getelementptr inbounds %struct.NvmeRequest, ptr %req.086, i64 0, i32 5
  %status10 = getelementptr inbounds %struct.NvmeRequest, ptr %req.086, i64 0, i32 5, i32 5
  store i16 %or, ptr %status10, align 2
  %sqid = getelementptr inbounds %struct.NvmeSQueue, ptr %21, i64 0, i32 1
  %24 = load i16, ptr %sqid, align 8
  %sq_id = getelementptr inbounds %struct.NvmeRequest, ptr %req.086, i64 0, i32 5, i32 3
  store i16 %24, ptr %sq_id, align 2
  %head13 = getelementptr inbounds %struct.NvmeSQueue, ptr %21, i64 0, i32 3
  %25 = load i32, ptr %head13, align 4
  %conv14 = trunc i32 %25 to i16
  %sq_head = getelementptr inbounds %struct.NvmeRequest, ptr %req.086, i64 0, i32 5, i32 2
  store i16 %conv14, ptr %sq_head, align 8
  %26 = load i64, ptr %dma_addr, align 8
  %27 = load i32, ptr %tail, align 4
  %shl18 = shl i32 %27, 4
  %conv19 = zext i32 %shl18 to i64
  %add = add i64 %26, %conv19
  %call.i = call ptr @object_dynamic_cast_assert(ptr noundef nonnull %0, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %bus_master_as.i.i.i47 = getelementptr inbounds %struct.PCIDevice, ptr %call.i, i64 0, i32 12
  call void asm sideeffect "", "~{memory},~{dirflag},~{fpsr},~{flags}"() #17, !srcloc !10
  fence seq_cst
  %call.i.i.i.i = call i32 @address_space_rw(ptr noundef nonnull %bus_master_as.i.i.i47, i64 noundef %add, i32 1, ptr noundef nonnull %cqe, i64 noundef 16, i1 noundef zeroext true) #17
  %tobool23.not = icmp eq i32 %call.i.i.i.i, 0
  br i1 %tobool23.not, label %do.body, label %if.then24

if.then24:                                        ; preds = %if.end5
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %28 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %28, 0
  %29 = load i16, ptr @_TRACE_PCI_NVME_ERR_ADDR_WRITE_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %29, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_err_addr_write.exit

land.lhs.true5.i.i:                               ; preds = %if.then24
  %30 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %30, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_err_addr_write.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %31 = load i8, ptr @message_with_timestamp, align 1
  %32 = and i8 %31, 1
  %tobool7.not.i.i = icmp eq i8 %32, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = call i32 @qemu_get_thread_id() #17
  %33 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %34 = load i64, ptr %tv_usec.i.i, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.162, i32 noundef %call10.i.i, i64 noundef %33, i64 noundef %34, i64 noundef %add) #17
  br label %trace_pci_nvme_err_addr_write.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.163, i64 noundef %add) #17
  br label %trace_pci_nvme_err_addr_write.exit

trace_pci_nvme_err_addr_write.exit:               ; preds = %if.then24, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i48)
  %35 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i49 = icmp ne i32 %35, 0
  %36 = load i16, ptr @_TRACE_PCI_NVME_ERR_CFS_DSTATE, align 2
  %tobool4.i.i50 = icmp ne i16 %36, 0
  %or.cond.i.i51 = select i1 %tobool.i.i49, i1 %tobool4.i.i50, i1 false
  br i1 %or.cond.i.i51, label %land.lhs.true5.i.i52, label %trace_pci_nvme_err_cfs.exit

land.lhs.true5.i.i52:                             ; preds = %trace_pci_nvme_err_addr_write.exit
  %37 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i53 = and i32 %37, 32768
  %cmp.i.not.i.i54 = icmp eq i32 %and.i.i.i53, 0
  br i1 %cmp.i.not.i.i54, label %trace_pci_nvme_err_cfs.exit, label %if.then.i.i55

if.then.i.i55:                                    ; preds = %land.lhs.true5.i.i52
  %38 = load i8, ptr @message_with_timestamp, align 1
  %39 = and i8 %38, 1
  %tobool7.not.i.i56 = icmp eq i8 %39, 0
  br i1 %tobool7.not.i.i56, label %if.else.i.i61, label %if.then8.i.i57

if.then8.i.i57:                                   ; preds = %if.then.i.i55
  %call9.i.i58 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i48, ptr noundef null) #17
  %call10.i.i59 = call i32 @qemu_get_thread_id() #17
  %40 = load i64, ptr %_now.i.i48, align 8
  %tv_usec.i.i60 = getelementptr inbounds %struct.timeval, ptr %_now.i.i48, i64 0, i32 1
  %41 = load i64, ptr %tv_usec.i.i60, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.164, i32 noundef %call10.i.i59, i64 noundef %40, i64 noundef %41) #17
  br label %trace_pci_nvme_err_cfs.exit

if.else.i.i61:                                    ; preds = %if.then.i.i55
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.165) #17
  br label %trace_pci_nvme_err_cfs.exit

trace_pci_nvme_err_cfs.exit:                      ; preds = %trace_pci_nvme_err_addr_write.exit, %land.lhs.true5.i.i52, %if.then8.i.i57, %if.else.i.i61
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i48)
  %csts = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 3, i32 6
  store i32 2, ptr %csts, align 1
  br label %for.end

do.body:                                          ; preds = %if.end5
  %42 = load ptr, ptr %entry1, align 8
  %cmp27.not = icmp eq ptr %42, null
  %tql_prev35 = getelementptr inbounds %struct.NvmeRequest, ptr %req.086, i64 0, i32 9, i32 0, i32 1
  %43 = load ptr, ptr %tql_prev35, align 8
  %tql_prev33 = getelementptr inbounds %struct.NvmeRequest, ptr %42, i64 0, i32 9, i32 0, i32 1
  %tql_prev37.sink = select i1 %cmp27.not, ptr %tql_prev37, ptr %tql_prev33
  store ptr %43, ptr %tql_prev37.sink, align 8
  %44 = load ptr, ptr %entry1, align 8
  %tql_prev41 = getelementptr inbounds %struct.NvmeRequest, ptr %req.086, i64 0, i32 9, i32 0, i32 1
  store ptr %44, ptr %43, align 8
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %entry1, i8 0, i64 16, i1 false)
  %45 = load i32, ptr %tail, align 4
  %inc.i = add i32 %45, 1
  store i32 %inc.i, ptr %tail, align 4
  %46 = load i32, ptr %size.i, align 4
  %cmp.not.i = icmp ult i32 %inc.i, %46
  br i1 %cmp.not.i, label %nvme_inc_cq_tail.exit, label %if.then.i

if.then.i:                                        ; preds = %do.body
  store i32 0, ptr %tail, align 4
  %47 = load i8, ptr %phase, align 8
  %tobool.not.i = icmp eq i8 %47, 0
  %conv.i = zext i1 %tobool.not.i to i8
  store i8 %conv.i, ptr %phase, align 8
  br label %nvme_inc_cq_tail.exit

nvme_inc_cq_tail.exit:                            ; preds = %do.body, %if.then.i
  %sg = getelementptr inbounds %struct.NvmeRequest, ptr %req.086, i64 0, i32 8
  %48 = load i32, ptr %sg, align 8
  %and.i = and i32 %48, 1
  %tobool.not.i64 = icmp eq i32 %and.i, 0
  br i1 %tobool.not.i64, label %nvme_sg_unmap.exit, label %if.end.i

if.end.i:                                         ; preds = %nvme_inc_cq_tail.exit
  %and2.i = and i32 %48, 2
  %tobool3.not.i = icmp eq i32 %and2.i, 0
  %49 = getelementptr inbounds %struct.NvmeRequest, ptr %req.086, i64 0, i32 8, i32 1
  br i1 %tobool3.not.i, label %if.else.i, label %if.then4.i

if.then4.i:                                       ; preds = %if.end.i
  call void @qemu_sglist_destroy(ptr noundef nonnull %49) #17
  br label %if.end5.i

if.else.i:                                        ; preds = %if.end.i
  call void @qemu_iovec_destroy(ptr noundef nonnull %49) #17
  br label %if.end5.i

if.end5.i:                                        ; preds = %if.else.i, %if.then4.i
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(48) %sg, i8 0, i64 48, i1 false)
  br label %nvme_sg_unmap.exit

nvme_sg_unmap.exit:                               ; preds = %nvme_inc_cq_tail.exit, %if.end5.i
  store ptr null, ptr %entry1, align 8
  %tql_prev50 = getelementptr inbounds %struct.NvmeSQueue, ptr %21, i64 0, i32 13, i32 0, i32 1
  %50 = load ptr, ptr %tql_prev50, align 8
  store ptr %50, ptr %tql_prev41, align 8
  store ptr %req.086, ptr %50, align 8
  store ptr %entry1, ptr %tql_prev50, align 8
  %tobool.not = icmp eq ptr %4, null
  br i1 %tobool.not, label %for.end, label %land.rhs, !llvm.loop !30

for.end:                                          ; preds = %if.end, %nvme_sg_unmap.exit, %entry, %trace_pci_nvme_err_cfs.exit
  %51 = load i32, ptr %tail, align 4
  %52 = load i32, ptr %head, align 8
  %cmp62.not = icmp eq i32 %51, %52
  br i1 %cmp62.not, label %if.end70, label %if.then64

if.then64:                                        ; preds = %for.end
  %irq_enabled = getelementptr inbounds %struct.NvmeCQueue, ptr %opaque, i64 0, i32 3
  %53 = load i16, ptr %irq_enabled, align 4
  %tobool66.not = icmp eq i16 %53, 0
  %brmerge = select i1 %tobool66.not, i1 true, i1 %cmp.not
  br i1 %brmerge, label %if.end69, label %if.then68

if.then68:                                        ; preds = %if.then64
  %cq_pending = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 14
  %54 = load i32, ptr %cq_pending, align 16
  %inc = add i32 %54, 1
  store i32 %inc, ptr %cq_pending, align 16
  br label %if.end69

if.end69:                                         ; preds = %if.then64, %if.then68
  %call.i.i66 = call ptr @object_dynamic_cast_assert(ptr noundef %0, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %55 = load i16, ptr %irq_enabled, align 4
  %tobool.not.i67 = icmp eq i16 %55, 0
  br i1 %tobool.not.i67, label %if.else10.i, label %if.then.i68

if.then.i68:                                      ; preds = %if.end69
  %call1.i = call i32 @msix_enabled(ptr noundef %call.i.i66) #17
  %tobool2.not.i = icmp eq i32 %call1.i, 0
  br i1 %tobool2.not.i, label %if.else.i82, label %if.then3.i

if.then3.i:                                       ; preds = %if.then.i68
  %vector.i = getelementptr inbounds %struct.NvmeCQueue, ptr %opaque, i64 0, i32 6
  %56 = load i32, ptr %vector.i, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i65)
  %57 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i69 = icmp ne i32 %57, 0
  %58 = load i16, ptr @_TRACE_PCI_NVME_IRQ_MSIX_DSTATE, align 2
  %tobool4.i.i.i70 = icmp ne i16 %58, 0
  %or.cond.i.i.i71 = select i1 %tobool.i.i.i69, i1 %tobool4.i.i.i70, i1 false
  br i1 %or.cond.i.i.i71, label %land.lhs.true5.i.i.i72, label %trace_pci_nvme_irq_msix.exit.i

land.lhs.true5.i.i.i72:                           ; preds = %if.then3.i
  %59 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i73 = and i32 %59, 32768
  %cmp.i.not.i.i.i74 = icmp eq i32 %and.i.i.i.i73, 0
  br i1 %cmp.i.not.i.i.i74, label %trace_pci_nvme_irq_msix.exit.i, label %if.then.i.i.i75

if.then.i.i.i75:                                  ; preds = %land.lhs.true5.i.i.i72
  %60 = load i8, ptr @message_with_timestamp, align 1
  %61 = and i8 %60, 1
  %tobool7.not.i.i.i76 = icmp eq i8 %61, 0
  br i1 %tobool7.not.i.i.i76, label %if.else.i.i.i81, label %if.then8.i.i.i77

if.then8.i.i.i77:                                 ; preds = %if.then.i.i.i75
  %call9.i.i.i78 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i65, ptr noundef null) #17
  %call10.i.i.i79 = call i32 @qemu_get_thread_id() #17
  %62 = load i64, ptr %_now.i.i.i65, align 8
  %tv_usec.i.i.i80 = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i65, i64 0, i32 1
  %63 = load i64, ptr %tv_usec.i.i.i80, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.166, i32 noundef %call10.i.i.i79, i64 noundef %62, i64 noundef %63, i32 noundef %56) #17
  br label %trace_pci_nvme_irq_msix.exit.i

if.else.i.i.i81:                                  ; preds = %if.then.i.i.i75
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.167, i32 noundef %56) #17
  br label %trace_pci_nvme_irq_msix.exit.i

trace_pci_nvme_irq_msix.exit.i:                   ; preds = %if.else.i.i.i81, %if.then8.i.i.i77, %land.lhs.true5.i.i.i72, %if.then3.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i65)
  %64 = load i32, ptr %vector.i, align 8
  call void @msix_notify(ptr noundef %call.i.i66, i32 noundef %64) #17
  br label %if.end70

if.else.i82:                                      ; preds = %if.then.i68
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i8.i)
  %65 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i9.i = icmp ne i32 %65, 0
  %66 = load i16, ptr @_TRACE_PCI_NVME_IRQ_PIN_DSTATE, align 2
  %tobool4.i.i10.i = icmp ne i16 %66, 0
  %or.cond.i.i11.i = select i1 %tobool.i.i9.i, i1 %tobool4.i.i10.i, i1 false
  br i1 %or.cond.i.i11.i, label %land.lhs.true5.i.i12.i, label %trace_pci_nvme_irq_pin.exit.i

land.lhs.true5.i.i12.i:                           ; preds = %if.else.i82
  %67 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i13.i = and i32 %67, 32768
  %cmp.i.not.i.i14.i = icmp eq i32 %and.i.i.i13.i, 0
  br i1 %cmp.i.not.i.i14.i, label %trace_pci_nvme_irq_pin.exit.i, label %if.then.i.i15.i

if.then.i.i15.i:                                  ; preds = %land.lhs.true5.i.i12.i
  %68 = load i8, ptr @message_with_timestamp, align 1
  %69 = and i8 %68, 1
  %tobool7.not.i.i16.i = icmp eq i8 %69, 0
  br i1 %tobool7.not.i.i16.i, label %if.else.i.i21.i, label %if.then8.i.i17.i

if.then8.i.i17.i:                                 ; preds = %if.then.i.i15.i
  %call9.i.i18.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i8.i, ptr noundef null) #17
  %call10.i.i19.i = call i32 @qemu_get_thread_id() #17
  %70 = load i64, ptr %_now.i.i8.i, align 8
  %tv_usec.i.i20.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i8.i, i64 0, i32 1
  %71 = load i64, ptr %tv_usec.i.i20.i, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.168, i32 noundef %call10.i.i19.i, i64 noundef %70, i64 noundef %71) #17
  br label %trace_pci_nvme_irq_pin.exit.i

if.else.i.i21.i:                                  ; preds = %if.then.i.i15.i
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.169) #17
  br label %trace_pci_nvme_irq_pin.exit.i

trace_pci_nvme_irq_pin.exit.i:                    ; preds = %if.else.i.i21.i, %if.then8.i.i17.i, %land.lhs.true5.i.i12.i, %if.else.i82
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i8.i)
  %vector5.i = getelementptr inbounds %struct.NvmeCQueue, ptr %opaque, i64 0, i32 6
  %72 = load i32, ptr %vector5.i, align 8
  %cmp.i83 = icmp ult i32 %72, 32
  br i1 %cmp.i83, label %if.end.i84, label %if.else7.i

if.else7.i:                                       ; preds = %trace_pci_nvme_irq_pin.exit.i
  call void @__assert_fail(ptr noundef nonnull @.str.159, ptr noundef nonnull @.str.1, i32 noundef 672, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_irq_assert) #18
  unreachable

if.end.i84:                                       ; preds = %trace_pci_nvme_irq_pin.exit.i
  %shl.i = shl nuw i32 1, %72
  %irq_status.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 13
  %73 = load i32, ptr %irq_status.i, align 4
  %or.i = or i32 %73, %shl.i
  store i32 %or.i, ptr %irq_status.i, align 4
  %call.i.i.i = call ptr @object_dynamic_cast_assert(ptr noundef %0, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %intms1.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 3, i32 2
  %intms1.val.i.i = load i32, ptr %intms1.i.i, align 1
  %call3.i.i = call i32 @msix_enabled(ptr noundef %call.i.i.i) #17
  %tobool.not.i.i = icmp eq i32 %call3.i.i, 0
  br i1 %tobool.not.i.i, label %if.end.i.i, label %if.end70

if.end.i.i:                                       ; preds = %if.end.i84
  %not.i.i = xor i32 %intms1.val.i.i, -1
  %74 = load i32, ptr %irq_status.i, align 4
  %and.i.i = and i32 %74, %not.i.i
  %tobool4.not.i.i = icmp ne i32 %and.i.i, 0
  %..i.i = zext i1 %tobool4.not.i.i to i32
  call void @pci_set_irq(ptr noundef %call.i.i.i, i32 noundef %..i.i) #17
  br label %if.end70

if.else10.i:                                      ; preds = %if.end69
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i22.i)
  %75 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i23.i = icmp ne i32 %75, 0
  %76 = load i16, ptr @_TRACE_PCI_NVME_IRQ_MASKED_DSTATE, align 2
  %tobool4.i.i24.i = icmp ne i16 %76, 0
  %or.cond.i.i25.i = select i1 %tobool.i.i23.i, i1 %tobool4.i.i24.i, i1 false
  br i1 %or.cond.i.i25.i, label %land.lhs.true5.i.i26.i, label %trace_pci_nvme_irq_masked.exit.i

land.lhs.true5.i.i26.i:                           ; preds = %if.else10.i
  %77 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i27.i = and i32 %77, 32768
  %cmp.i.not.i.i28.i = icmp eq i32 %and.i.i.i27.i, 0
  br i1 %cmp.i.not.i.i28.i, label %trace_pci_nvme_irq_masked.exit.i, label %if.then.i.i29.i

if.then.i.i29.i:                                  ; preds = %land.lhs.true5.i.i26.i
  %78 = load i8, ptr @message_with_timestamp, align 1
  %79 = and i8 %78, 1
  %tobool7.not.i.i30.i = icmp eq i8 %79, 0
  br i1 %tobool7.not.i.i30.i, label %if.else.i.i35.i, label %if.then8.i.i31.i

if.then8.i.i31.i:                                 ; preds = %if.then.i.i29.i
  %call9.i.i32.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i22.i, ptr noundef null) #17
  %call10.i.i33.i = call i32 @qemu_get_thread_id() #17
  %80 = load i64, ptr %_now.i.i22.i, align 8
  %tv_usec.i.i34.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i22.i, i64 0, i32 1
  %81 = load i64, ptr %tv_usec.i.i34.i, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.170, i32 noundef %call10.i.i33.i, i64 noundef %80, i64 noundef %81) #17
  br label %trace_pci_nvme_irq_masked.exit.i

if.else.i.i35.i:                                  ; preds = %if.then.i.i29.i
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.171) #17
  br label %trace_pci_nvme_irq_masked.exit.i

trace_pci_nvme_irq_masked.exit.i:                 ; preds = %if.else.i.i35.i, %if.then8.i.i31.i, %land.lhs.true5.i.i26.i, %if.else10.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i22.i)
  br label %if.end70

if.end70:                                         ; preds = %trace_pci_nvme_irq_masked.exit.i, %if.end.i.i, %if.end.i84, %trace_pci_nvme_irq_msix.exit.i, %for.end
  ret void
}

declare i32 @event_notifier_init(ptr noundef, i32 noundef) local_unnamed_addr #1

declare void @event_notifier_set_handler(ptr noundef, ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_cq_notifier(ptr noundef %e) #0 {
entry:
  %add.ptr = getelementptr i8, ptr %e, i64 -64
  %0 = load ptr, ptr %add.ptr, align 8
  %call = tail call i32 @event_notifier_test_and_clear(ptr noundef %e) #17
  %tobool.not = icmp eq i32 %call, 0
  br i1 %tobool.not, label %return, label %if.end

if.end:                                           ; preds = %entry
  tail call fastcc void @nvme_update_cq_head(ptr noundef nonnull %add.ptr)
  %tail = getelementptr i8, ptr %e, i64 -44
  %1 = load i32, ptr %tail, align 4
  %head = getelementptr i8, ptr %e, i64 -48
  %2 = load i32, ptr %head, align 8
  %cmp = icmp eq i32 %1, %2
  br i1 %cmp, label %if.then1, label %if.end5

if.then1:                                         ; preds = %if.end
  %irq_enabled = getelementptr i8, ptr %e, i64 -52
  %3 = load i16, ptr %irq_enabled, align 4
  %tobool2.not = icmp eq i16 %3, 0
  br i1 %tobool2.not, label %if.end4, label %if.then3

if.then3:                                         ; preds = %if.then1
  %cq_pending = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 14
  %4 = load i32, ptr %cq_pending, align 16
  %dec = add i32 %4, -1
  store i32 %dec, ptr %cq_pending, align 16
  br label %if.end4

if.end4:                                          ; preds = %if.then3, %if.then1
  tail call fastcc void @nvme_irq_deassert(ptr noundef %0, ptr noundef nonnull %add.ptr)
  br label %if.end5

if.end5:                                          ; preds = %if.end4, %if.end
  %bh = getelementptr i8, ptr %e, i64 -8
  %5 = load ptr, ptr %bh, align 8
  tail call void @qemu_bh_schedule(ptr noundef %5) #17
  br label %return

return:                                           ; preds = %entry, %if.end5
  ret void
}

declare void @memory_region_add_eventfd(ptr noundef, i64 noundef, i32 noundef, i1 noundef zeroext, i64 noundef, ptr noundef) local_unnamed_addr #1

declare i32 @event_notifier_test_and_clear(ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @nvme_update_cq_head(ptr noundef %cq) unnamed_addr #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %0 = load ptr, ptr %cq, align 8
  %call.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %0, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %db_addr = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 9
  %1 = load i64, ptr %db_addr, align 8
  %head = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 4
  %bus_master_as.i.i = getelementptr inbounds %struct.PCIDevice, ptr %call.i, i64 0, i32 12
  tail call void asm sideeffect "", "~{memory},~{dirflag},~{fpsr},~{flags}"() #17, !srcloc !10
  fence seq_cst
  %call.i.i.i.i.i = tail call i32 @address_space_rw(ptr noundef nonnull %bus_master_as.i.i, i64 noundef %1, i32 1, ptr noundef nonnull %head, i64 noundef 4, i1 noundef zeroext false) #17
  %cqid = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 2
  %2 = load i16, ptr %cqid, align 2
  %3 = load i32, ptr %head, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %4 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %4, 0
  %5 = load i16, ptr @_TRACE_PCI_NVME_UPDATE_CQ_HEAD_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %5, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_update_cq_head.exit

land.lhs.true5.i.i:                               ; preds = %entry
  %6 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %6, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_update_cq_head.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %7 = load i8, ptr @message_with_timestamp, align 1
  %8 = and i8 %7, 1
  %tobool7.not.i.i = icmp eq i8 %8, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %9 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %10 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext i16 %2 to i32
  %conv12.i.i = and i32 %3, 65535
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.157, i32 noundef %call10.i.i, i64 noundef %9, i64 noundef %10, i32 noundef %conv11.i.i, i32 noundef %conv12.i.i) #17
  br label %trace_pci_nvme_update_cq_head.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv13.i.i = zext i16 %2 to i32
  %conv14.i.i = and i32 %3, 65535
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.158, i32 noundef %conv13.i.i, i32 noundef %conv14.i.i) #17
  br label %trace_pci_nvme_update_cq_head.exit

trace_pci_nvme_update_cq_head.exit:               ; preds = %entry, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @nvme_irq_deassert(ptr noundef %n, ptr nocapture noundef readonly %cq) unnamed_addr #0 {
entry:
  %irq_enabled = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 3
  %0 = load i16, ptr %irq_enabled, align 4
  %tobool.not = icmp eq i16 %0, 0
  br i1 %tobool.not, label %if.end11, label %if.then

if.then:                                          ; preds = %entry
  %call.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %n, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %call1 = tail call i32 @msix_enabled(ptr noundef %call.i) #17
  %tobool2.not = icmp eq i32 %call1, 0
  br i1 %tobool2.not, label %if.else, label %if.end11

if.else:                                          ; preds = %if.then
  %vector = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 6
  %1 = load i32, ptr %vector, align 8
  %cmp = icmp ult i32 %1, 32
  br i1 %cmp, label %if.end, label %if.else5

if.else5:                                         ; preds = %if.else
  tail call void @__assert_fail(ptr noundef nonnull @.str.159, ptr noundef nonnull @.str.1, i32 noundef 687, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_irq_deassert) #18
  unreachable

if.end:                                           ; preds = %if.else
  %cq_pending = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 14
  %2 = load i32, ptr %cq_pending, align 16
  %tobool6.not = icmp eq i32 %2, 0
  br i1 %tobool6.not, label %if.then7, label %if.end9

if.then7:                                         ; preds = %if.end
  %shl = shl nuw i32 1, %1
  %not = xor i32 %shl, -1
  %irq_status = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 13
  %3 = load i32, ptr %irq_status, align 4
  %and = and i32 %3, %not
  store i32 %and, ptr %irq_status, align 4
  br label %if.end9

if.end9:                                          ; preds = %if.then7, %if.end
  %call.i.i = tail call ptr @object_dynamic_cast_assert(ptr noundef nonnull %n, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %intms1.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 3, i32 2
  %intms1.val.i = load i32, ptr %intms1.i, align 1
  %call3.i = tail call i32 @msix_enabled(ptr noundef %call.i.i) #17
  %tobool.not.i = icmp eq i32 %call3.i, 0
  br i1 %tobool.not.i, label %if.end.i, label %if.end11

if.end.i:                                         ; preds = %if.end9
  %not.i = xor i32 %intms1.val.i, -1
  %irq_status.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 13
  %4 = load i32, ptr %irq_status.i, align 4
  %and.i = and i32 %4, %not.i
  %tobool4.not.i = icmp ne i32 %and.i, 0
  %..i = zext i1 %tobool4.not.i to i32
  tail call void @pci_set_irq(ptr noundef %call.i.i, i32 noundef %..i) #17
  br label %if.end11

if.end11:                                         ; preds = %if.end.i, %if.end9, %if.then, %entry
  ret void
}

declare void @msix_notify(ptr noundef, i32 noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_process_sq(ptr noundef %opaque) #0 {
entry:
  %_now.i.i50.i = alloca %struct.timeval, align 8
  %_now.i.i.i641 = alloca %struct.timeval, align 8
  %_now.i.i44.i = alloca %struct.timeval, align 8
  %_now.i.i28.i = alloca %struct.timeval, align 8
  %_now.i.i.i588 = alloca %struct.timeval, align 8
  %_now.i.i.i.i525 = alloca %struct.timeval, align 8
  %_now.i.i.i526 = alloca %struct.timeval, align 8
  %_now.i.i31.i = alloca %struct.timeval, align 8
  %_now.i.i15.i = alloca %struct.timeval, align 8
  %_now.i.i.i490 = alloca %struct.timeval, align 8
  %_now.i.i73.i = alloca %struct.timeval, align 8
  %_now.i.i57.i = alloca %struct.timeval, align 8
  %_now.i.i39.i = alloca %struct.timeval, align 8
  %_now.i.i.i451 = alloca %struct.timeval, align 8
  %_now.i.i148.i = alloca %struct.timeval, align 8
  %_now.i.i.i126.i = alloca %struct.timeval, align 8
  %list.i127.i = alloca [4096 x i8], align 16
  %_now.i.i.i104.i = alloca %struct.timeval, align 8
  %list.i105.i = alloca [4096 x i8], align 16
  %_now.i.i.i81.i = alloca %struct.timeval, align 8
  %id.i.i = alloca [4096 x i8], align 16
  %_now.i.i.i60.i = alloca %struct.timeval, align 8
  %_now.i.i.i37.i = alloca %struct.timeval, align 8
  %list.i.i = alloca %struct.NvmeSecCtrlList, align 1
  %_now.i.i.i.i = alloca %struct.timeval, align 8
  %_now.i.i.i398 = alloca %struct.timeval, align 8
  %_now.i.i.i342 = alloca %struct.timeval, align 8
  %_now.i.i94.i = alloca %struct.timeval, align 8
  %_now.i.i.i295 = alloca %struct.timeval, align 8
  %result.i = alloca i32, align 4
  %_now.i.i8.i = alloca %struct.timeval, align 8
  %_now.i.i.i268 = alloca %struct.timeval, align 8
  %_now.i.i.i221 = alloca %struct.timeval, align 8
  %list.i = alloca [2048 x i16], align 16
  %_now.i.i.i188 = alloca %struct.timeval, align 8
  %_now.i.i.i151 = alloca %struct.timeval, align 8
  %val.addr.i.i64.i = alloca i32, align 4
  %val.addr.i.i.i152 = alloca i32, align 4
  %id.i = alloca %struct.NvmeDirectiveIdentify, align 1
  %val.addr.i.i.i = alloca i32, align 4
  %_now.i.i.i107 = alloca %struct.timeval, align 8
  %_now.i.i43.i = alloca %struct.timeval, align 8
  %_now.i.i.i61 = alloca %struct.timeval, align 8
  %_now.i.i49.i = alloca %struct.timeval, align 8
  %_now.i.i.i = alloca %struct.timeval, align 8
  %_now.i.i44 = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %cmd = alloca %struct.NvmeCmd, align 1
  %0 = load ptr, ptr %opaque, align 8
  %cq1 = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 37
  %1 = load ptr, ptr %cq1, align 8
  %cqid = getelementptr inbounds %struct.NvmeSQueue, ptr %opaque, i64 0, i32 2
  %2 = load i16, ptr %cqid, align 2
  %idxprom = zext i16 %2 to i64
  %arrayidx = getelementptr ptr, ptr %1, i64 %idxprom
  %3 = load ptr, ptr %arrayidx, align 8
  %dbbuf_enabled = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 24
  %4 = load i8, ptr %dbbuf_enabled, align 16
  %5 = and i8 %4, 1
  %tobool.not = icmp eq i8 %5, 0
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  tail call fastcc void @nvme_update_sq_tail(ptr noundef nonnull %opaque)
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  %6 = getelementptr i8, ptr %opaque, i64 12
  %7 = getelementptr i8, ptr %opaque, i64 16
  %opaque.val700 = load i32, ptr %6, align 4
  %opaque.val43701 = load i32, ptr %7, align 8
  %cmp.i.not702 = icmp eq i32 %opaque.val700, %opaque.val43701
  br i1 %cmp.i.not702, label %while.end, label %lor.rhs.lr.ph

lor.rhs.lr.ph:                                    ; preds = %if.end
  %req_list = getelementptr inbounds %struct.NvmeSQueue, ptr %opaque, i64 0, i32 13
  %dma_addr = getelementptr inbounds %struct.NvmeSQueue, ptr %opaque, i64 0, i32 6
  %size.i = getelementptr inbounds %struct.NvmeSQueue, ptr %opaque, i64 0, i32 5
  %tql_prev21 = getelementptr inbounds %struct.NvmeSQueue, ptr %opaque, i64 0, i32 13, i32 0, i32 1
  %tql_prev33 = getelementptr inbounds %struct.NvmeSQueue, ptr %opaque, i64 0, i32 14, i32 0, i32 1
  %cid = getelementptr inbounds %struct.NvmeCmd, ptr %cmd, i64 0, i32 2
  %sqid = getelementptr inbounds %struct.NvmeSQueue, ptr %opaque, i64 0, i32 1
  %tv_usec.i.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i, i64 0, i32 1
  %tv_usec.i.i61.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i49.i, i64 0, i32 1
  %tv_usec.i.i.i88 = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i61, i64 0, i32 1
  %8 = getelementptr inbounds i8, ptr %id.i, i64 1
  %9 = getelementptr inbounds %struct.NvmeDirectiveIdentify, ptr %id.i, i64 0, i32 2
  %persistent.i = getelementptr inbounds %struct.NvmeDirectiveIdentify, ptr %id.i, i64 0, i32 4
  %lbafee.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 41, i32 2, i32 2
  %page_size.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 8
  %dbbuf_dbs.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 22
  %dbbuf_eis.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 23
  %max_ioqpairs.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 4, i32 2
  %sq11.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 36
  %ioeventfd.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 4, i32 13
  %tv_usec.i.i.i185 = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i151, i64 0, i32 1
  %tv_usec.i.i.i216 = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i188, i64 0, i32 1
  %cntlid1.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 6
  %vifrt.i.i27.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 42, i32 11
  %vqfrt.i.i28.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 42, i32 4
  %vqrfa.i.i31.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 42, i32 5
  %virfa.i.i32.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 42, i32 12
  %virfap.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 44, i32 1
  %next_pri_ctrl_cap16.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 44
  %sec_ctrl_list.i.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 43
  %vifrsm.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 42, i32 15
  %vqfrsm.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 42, i32 8
  %virfap.i.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 42, i32 13
  %vqrfap.i.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 42, i32 6
  %arrayidx4.i = getelementptr inbounds [2048 x i16], ptr %list.i, i64 0, i64 1
  %tv_usec.i.i.i264 = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i221, i64 0, i32 1
  %subsys.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 33
  %tv_usec.i.i.i292 = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i268, i64 0, i32 1
  %outstanding_aers.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 12
  %aerl.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 4, i32 5
  %aer_reqs.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 28
  %aer_queue.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 29
  %tv_usec.i.i20.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i8.i, i64 0, i32 1
  %tv_usec.i.i.i335 = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i295, i64 0, i32 1
  %conf_ioqpairs131.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 21
  %vector.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 39, i32 6
  %tv_usec.i.i106.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i94.i, i64 0, i32 1
  %hbs.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 41, i32 2
  %async_config.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 41, i32 1
  %temp_thresh_low.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 41, i32 0, i32 1
  %features.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 41
  %tv_usec.i.i.i392 = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i342, i64 0, i32 1
  %qs_created.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 7
  %temperature.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 18
  %tv_usec.i.i.i443 = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i398, i64 0, i32 1
  %tv_usec.i.i.i146.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i126.i, i64 0, i32 1
  %tv_usec.i.i.i124.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i104.i, i64 0, i32 1
  %uuid.sroa.4.i.sroa.4.0.uuid.sroa.4.0..sroa_idx.i.sroa_idx.i = getelementptr inbounds i8, ptr %list.i105.i, i64 4
  %uuid.sroa.3.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %list.i105.i, i64 1
  %uuid.sroa.4.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %list.i105.i, i64 2
  %add.ptr.i115.i = getelementptr inbounds i8, ptr %list.i105.i, i64 20
  %tv_usec.i.i.i100.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i81.i, i64 0, i32 1
  %zasl.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 4, i32 10
  %vsl.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 4, i32 8
  %dmrsl.i.i422 = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 31
  %dmrsl3.i.i = getelementptr inbounds %struct.NvmeIdCtrlNvm, ptr %id.i.i, i64 0, i32 4
  %tv_usec.i.i.i79.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i60.i, i64 0, i32 1
  %id_ctrl.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 40
  %pri_ctrl_cap.i38.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 42
  %sec.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 43, i32 2
  %sec13.i.i = getelementptr inbounds %struct.NvmeSecCtrlList, ptr %list.i.i, i64 0, i32 2
  %tv_usec.i.i.i57.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i37.i, i64 0, i32 1
  %tv_usec.i.i.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i.i, i64 0, i32 1
  %tv_usec.i.i160.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i148.i, i64 0, i32 1
  %bar.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 3
  %cc8.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 3, i32 4
  %tv_usec.i.i.i482 = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i451, i64 0, i32 1
  %conf_msix_qsize.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 20
  %tv_usec.i.i85.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i73.i, i64 0, i32 1
  %tv_usec.i.i69.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i57.i, i64 0, i32 1
  %tv_usec.i.i51.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i39.i, i64 0, i32 1
  %tv_usec.i.i27.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i15.i, i64 0, i32 1
  %cq_pending.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 14
  %tv_usec.i.i43.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i31.i, i64 0, i32 1
  %tv_usec.i.i.i509 = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i490, i64 0, i32 1
  %tv_usec.i.i.i580 = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i526, i64 0, i32 1
  %mdts1.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 4, i32 7
  %tv_usec.i.i.i.i570 = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i.i525, i64 0, i32 1
  %tv_usec.i.i.i631 = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i588, i64 0, i32 1
  %tv_usec.i.i56.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i44.i, i64 0, i32 1
  %tv_usec.i.i40.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i28.i, i64 0, i32 1
  %tv_usec.i.i62.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i50.i, i64 0, i32 1
  %tv_usec.i.i.i661 = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i641, i64 0, i32 1
  %tv_usec.i.i55.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i43.i, i64 0, i32 1
  %tv_usec.i.i.i120 = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i107, i64 0, i32 1
  %ei_addr.i = getelementptr inbounds %struct.NvmeSQueue, ptr %opaque, i64 0, i32 8
  br label %lor.rhs

lor.rhs:                                          ; preds = %lor.rhs.lr.ph, %if.end61
  %opaque.val703 = phi i32 [ %opaque.val700, %lor.rhs.lr.ph ], [ %opaque.val, %if.end61 ]
  %10 = load ptr, ptr %req_list, align 8
  %cmp = icmp eq ptr %10, null
  br i1 %cmp, label %while.end, label %while.body

while.body:                                       ; preds = %lor.rhs
  %11 = load i64, ptr %dma_addr, align 8
  %shl = shl i32 %opaque.val703, 6
  %conv4 = zext i32 %shl to i64
  %add = add i64 %11, %conv4
  %call5 = call fastcc i32 @nvme_addr_read(ptr noundef nonnull %0, i64 noundef %add, ptr noundef nonnull %cmd, i32 noundef 64)
  %tobool6.not = icmp eq i32 %call5, 0
  br i1 %tobool6.not, label %if.end8, label %if.then7

if.then7:                                         ; preds = %while.body
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %12 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %12, 0
  %13 = load i16, ptr @_TRACE_PCI_NVME_ERR_ADDR_READ_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %13, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_err_addr_read.exit

land.lhs.true5.i.i:                               ; preds = %if.then7
  %14 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %14, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_err_addr_read.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %15 = load i8, ptr @message_with_timestamp, align 1
  %16 = and i8 %15, 1
  %tobool7.not.i.i = icmp eq i8 %16, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = call i32 @qemu_get_thread_id() #17
  %17 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %18 = load i64, ptr %tv_usec.i.i, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.17, i32 noundef %call10.i.i, i64 noundef %17, i64 noundef %18, i64 noundef %add) #17
  br label %trace_pci_nvme_err_addr_read.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.18, i64 noundef %add) #17
  br label %trace_pci_nvme_err_addr_read.exit

trace_pci_nvme_err_addr_read.exit:                ; preds = %if.then7, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i44)
  %19 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i45 = icmp ne i32 %19, 0
  %20 = load i16, ptr @_TRACE_PCI_NVME_ERR_CFS_DSTATE, align 2
  %tobool4.i.i46 = icmp ne i16 %20, 0
  %or.cond.i.i47 = select i1 %tobool.i.i45, i1 %tobool4.i.i46, i1 false
  br i1 %or.cond.i.i47, label %land.lhs.true5.i.i48, label %trace_pci_nvme_err_cfs.exit

land.lhs.true5.i.i48:                             ; preds = %trace_pci_nvme_err_addr_read.exit
  %21 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i49 = and i32 %21, 32768
  %cmp.i.not.i.i50 = icmp eq i32 %and.i.i.i49, 0
  br i1 %cmp.i.not.i.i50, label %trace_pci_nvme_err_cfs.exit, label %if.then.i.i51

if.then.i.i51:                                    ; preds = %land.lhs.true5.i.i48
  %22 = load i8, ptr @message_with_timestamp, align 1
  %23 = and i8 %22, 1
  %tobool7.not.i.i52 = icmp eq i8 %23, 0
  br i1 %tobool7.not.i.i52, label %if.else.i.i57, label %if.then8.i.i53

if.then8.i.i53:                                   ; preds = %if.then.i.i51
  %call9.i.i54 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i44, ptr noundef null) #17
  %call10.i.i55 = call i32 @qemu_get_thread_id() #17
  %24 = load i64, ptr %_now.i.i44, align 8
  %tv_usec.i.i56 = getelementptr inbounds %struct.timeval, ptr %_now.i.i44, i64 0, i32 1
  %25 = load i64, ptr %tv_usec.i.i56, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.164, i32 noundef %call10.i.i55, i64 noundef %24, i64 noundef %25) #17
  br label %trace_pci_nvme_err_cfs.exit

if.else.i.i57:                                    ; preds = %if.then.i.i51
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.165) #17
  br label %trace_pci_nvme_err_cfs.exit

trace_pci_nvme_err_cfs.exit:                      ; preds = %trace_pci_nvme_err_addr_read.exit, %land.lhs.true5.i.i48, %if.then8.i.i53, %if.else.i.i57
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i44)
  %csts = getelementptr inbounds %struct.NvmeCtrl, ptr %0, i64 0, i32 3, i32 6
  store i32 2, ptr %csts, align 1
  br label %while.end

if.end8:                                          ; preds = %while.body
  %26 = load i32, ptr %6, align 4
  %add.i = add i32 %26, 1
  %27 = load i32, ptr %size.i, align 4
  %rem.i = urem i32 %add.i, %27
  store i32 %rem.i, ptr %6, align 4
  %28 = load ptr, ptr %req_list, align 8
  %entry10 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 9
  %29 = load ptr, ptr %entry10, align 8
  %cmp11.not = icmp eq ptr %29, null
  %tql_prev19 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 9, i32 0, i32 1
  %30 = load ptr, ptr %tql_prev19, align 8
  %tql_prev17 = getelementptr inbounds %struct.NvmeRequest, ptr %29, i64 0, i32 9, i32 0, i32 1
  %tql_prev21.sink = select i1 %cmp11.not, ptr %tql_prev21, ptr %tql_prev17
  store ptr %30, ptr %tql_prev21.sink, align 8
  %31 = load ptr, ptr %entry10, align 8
  %tql_prev25 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 9, i32 0, i32 1
  store ptr %31, ptr %30, align 8
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %entry10, i8 0, i64 16, i1 false)
  %32 = load ptr, ptr %tql_prev33, align 8
  store ptr %32, ptr %tql_prev25, align 8
  store ptr %28, ptr %32, align 8
  store ptr %entry10, ptr %tql_prev33, align 8
  %ns.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 1
  %opaque.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 4
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(18) %ns.i, i8 0, i64 18, i1 false)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %opaque.i, i8 0, i64 24, i1 false)
  %33 = load i16, ptr %cid, align 1
  %cid43 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 5, i32 4
  store i16 %33, ptr %cid43, align 4
  %cmd44 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(64) %cmd44, ptr noundef nonnull align 1 dereferenceable(64) %cmd, i64 64, i1 false)
  %34 = load i16, ptr %sqid, align 8
  %tobool46.not = icmp eq i16 %34, 0
  br i1 %tobool46.not, label %nvme_cid.exit.i, label %cond.true

cond.true:                                        ; preds = %if.end8
  %nsid1.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 3
  %35 = load i32, ptr %nsid1.i, align 4
  %req.val.i = load ptr, ptr %28, align 8
  %36 = getelementptr i8, ptr %req.val.i, i64 8
  %req.val.val.i = load i16, ptr %36, align 8
  %37 = load i8, ptr %cmd44, align 8
  switch i8 %37, label %sw.default.i.i [
    i8 0, label %nvme_io_opc_str.exit.i
    i8 1, label %sw.bb1.i.i
    i8 2, label %sw.bb2.i.i
    i8 5, label %sw.bb3.i.i
    i8 8, label %sw.bb4.i.i
    i8 9, label %sw.bb5.i.i
    i8 12, label %sw.bb6.i.i
    i8 25, label %sw.bb7.i.i
    i8 121, label %sw.bb8.i.i
    i8 122, label %sw.bb9.i.i
    i8 125, label %sw.bb10.i.i
  ]

sw.bb1.i.i:                                       ; preds = %cond.true
  br label %nvme_io_opc_str.exit.i

sw.bb2.i.i:                                       ; preds = %cond.true
  br label %nvme_io_opc_str.exit.i

sw.bb3.i.i:                                       ; preds = %cond.true
  br label %nvme_io_opc_str.exit.i

sw.bb4.i.i:                                       ; preds = %cond.true
  br label %nvme_io_opc_str.exit.i

sw.bb5.i.i:                                       ; preds = %cond.true
  br label %nvme_io_opc_str.exit.i

sw.bb6.i.i:                                       ; preds = %cond.true
  br label %nvme_io_opc_str.exit.i

sw.bb7.i.i:                                       ; preds = %cond.true
  br label %nvme_io_opc_str.exit.i

sw.bb8.i.i:                                       ; preds = %cond.true
  br label %nvme_io_opc_str.exit.i

sw.bb9.i.i:                                       ; preds = %cond.true
  br label %nvme_io_opc_str.exit.i

sw.bb10.i.i:                                      ; preds = %cond.true
  br label %nvme_io_opc_str.exit.i

sw.default.i.i:                                   ; preds = %cond.true
  br label %nvme_io_opc_str.exit.i

nvme_io_opc_str.exit.i:                           ; preds = %sw.default.i.i, %sw.bb10.i.i, %sw.bb9.i.i, %sw.bb8.i.i, %sw.bb7.i.i, %sw.bb6.i.i, %sw.bb5.i.i, %sw.bb4.i.i, %sw.bb3.i.i, %sw.bb2.i.i, %sw.bb1.i.i, %cond.true
  %retval.0.i44.i = phi ptr [ @.str.190, %sw.default.i.i ], [ @.str.189, %sw.bb10.i.i ], [ @.str.188, %sw.bb9.i.i ], [ @.str.187, %sw.bb8.i.i ], [ @.str.186, %sw.bb7.i.i ], [ @.str.185, %sw.bb6.i.i ], [ @.str.184, %sw.bb5.i.i ], [ @.str.183, %sw.bb4.i.i ], [ @.str.182, %sw.bb3.i.i ], [ @.str.181, %sw.bb2.i.i ], [ @.str.180, %sw.bb1.i.i ], [ @.str.179, %cond.true ]
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i)
  %38 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i = icmp ne i32 %38, 0
  %39 = load i16, ptr @_TRACE_PCI_NVME_IO_CMD_DSTATE, align 2
  %tobool4.i.i.i = icmp ne i16 %39, 0
  %or.cond.i.i.i = select i1 %tobool.i.i.i, i1 %tobool4.i.i.i, i1 false
  br i1 %or.cond.i.i.i, label %land.lhs.true5.i.i.i, label %trace_pci_nvme_io_cmd.exit.i

land.lhs.true5.i.i.i:                             ; preds = %nvme_io_opc_str.exit.i
  %40 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i = and i32 %40, 32768
  %cmp.i.not.i.i.i = icmp eq i32 %and.i.i.i.i, 0
  br i1 %cmp.i.not.i.i.i, label %trace_pci_nvme_io_cmd.exit.i, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %land.lhs.true5.i.i.i
  %41 = load i8, ptr @message_with_timestamp, align 1
  %42 = and i8 %41, 1
  %tobool7.not.i.i.i = icmp eq i8 %42, 0
  br i1 %tobool7.not.i.i.i, label %if.else.i.i.i, label %if.then8.i.i.i

if.then8.i.i.i:                                   ; preds = %if.then.i.i.i
  %call9.i.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i, ptr noundef null) #17
  %call10.i.i.i = call i32 @qemu_get_thread_id() #17
  %43 = load i64, ptr %_now.i.i.i, align 8
  %44 = load i64, ptr %tv_usec.i.i.i, align 8
  %conv11.i.i.i = zext i16 %33 to i32
  %conv12.i.i.i = zext i16 %req.val.val.i to i32
  %conv13.i.i.i = zext i8 %37 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.177, i32 noundef %call10.i.i.i, i64 noundef %43, i64 noundef %44, i32 noundef %conv11.i.i.i, i32 noundef %35, i32 noundef %conv12.i.i.i, i32 noundef %conv13.i.i.i, ptr noundef nonnull %retval.0.i44.i) #17
  br label %trace_pci_nvme_io_cmd.exit.i

if.else.i.i.i:                                    ; preds = %if.then.i.i.i
  %conv14.i.i.i = zext i16 %33 to i32
  %conv15.i.i.i = zext i16 %req.val.val.i to i32
  %conv16.i.i.i = zext i8 %37 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.178, i32 noundef %conv14.i.i.i, i32 noundef %35, i32 noundef %conv15.i.i.i, i32 noundef %conv16.i.i.i, ptr noundef nonnull %retval.0.i44.i) #17
  br label %trace_pci_nvme_io_cmd.exit.i

trace_pci_nvme_io_cmd.exit.i:                     ; preds = %if.else.i.i.i, %if.then8.i.i.i, %land.lhs.true5.i.i.i, %nvme_io_opc_str.exit.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i)
  %tobool.not.i45.i = icmp ne i32 %35, 0
  %45 = add i32 %35, 1
  %46 = icmp ult i32 %45, 258
  %47 = and i1 %tobool.not.i45.i, %46
  br i1 %47, label %if.end.i, label %if.then55

if.end.i:                                         ; preds = %trace_pci_nvme_io_cmd.exit.i
  %48 = load i8, ptr %cmd44, align 8
  %cmp.i58 = icmp eq i8 %48, 0
  br i1 %cmp.i58, label %if.then12.i, label %if.end14.i

if.then12.i:                                      ; preds = %if.end.i
  %49 = load i32, ptr %nsid1.i, align 4
  %call2.i.i = call ptr @qemu_aio_get(ptr noundef nonnull @nvme_flush_aiocb_info, ptr noundef null, ptr noundef nonnull @nvme_misc_cb, ptr noundef nonnull %28) #17
  %req3.i.i = getelementptr inbounds %struct.NvmeFlushAIOCB, ptr %call2.i.i, i64 0, i32 2
  store ptr %28, ptr %req3.i.i, align 8
  %ret.i.i = getelementptr inbounds %struct.NvmeFlushAIOCB, ptr %call2.i.i, i64 0, i32 3
  store i32 0, ptr %ret.i.i, align 8
  %ns.i.i = getelementptr inbounds %struct.NvmeFlushAIOCB, ptr %call2.i.i, i64 0, i32 4
  store ptr null, ptr %ns.i.i, align 8
  %nsid4.i.i = getelementptr inbounds %struct.NvmeFlushAIOCB, ptr %call2.i.i, i64 0, i32 5
  store i32 0, ptr %nsid4.i.i, align 8
  %cmp.i.i = icmp eq i32 %49, -1
  %broadcast.i.i = getelementptr inbounds %struct.NvmeFlushAIOCB, ptr %call2.i.i, i64 0, i32 6
  %frombool.i.i = zext i1 %cmp.i.i to i8
  store i8 %frombool.i.i, ptr %broadcast.i.i, align 4
  br i1 %cmp.i.i, label %if.end15.i.i, label %if.then.i.i60

if.then.i.i60:                                    ; preds = %if.then12.i
  %50 = add i32 %49, -1
  %51 = icmp ult i32 %50, 256
  br i1 %51, label %nvme_ns.exit.i.i, label %out.i.i

nvme_ns.exit.i.i:                                 ; preds = %if.then.i.i60
  %idxprom.i.i.i = zext nneg i32 %49 to i64
  %arrayidx.i.i.i = getelementptr %struct.NvmeCtrl, ptr %0, i64 0, i32 35, i64 %idxprom.i.i.i
  %52 = load ptr, ptr %arrayidx.i.i.i, align 8
  store ptr %52, ptr %ns.i.i, align 8
  %tobool11.not.i.i = icmp eq ptr %52, null
  br i1 %tobool11.not.i.i, label %out.i.i, label %if.end13.i.i

if.end13.i.i:                                     ; preds = %nvme_ns.exit.i.i
  store i32 %49, ptr %nsid4.i.i, align 8
  br label %if.end15.i.i

if.end15.i.i:                                     ; preds = %if.end13.i.i, %if.then12.i
  %aiocb.i.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 2
  store ptr %call2.i.i, ptr %aiocb.i.i, align 8
  call fastcc void @nvme_do_flush(ptr noundef nonnull %call2.i.i)
  br label %if.end57

out.i.i:                                          ; preds = %nvme_ns.exit.i.i, %if.then.i.i60
  %status.0.i.i = phi i16 [ 16395, %if.then.i.i60 ], [ 16386, %nvme_ns.exit.i.i ]
  call void @qemu_aio_unref(ptr noundef nonnull %call2.i.i) #17
  br label %if.then55

if.end14.i:                                       ; preds = %if.end.i
  %53 = add nsw i32 %35, -257
  %or.cond.i.i59 = icmp ult i32 %53, -256
  br i1 %or.cond.i.i59, label %if.then55, label %nvme_ns.exit.i

nvme_ns.exit.i:                                   ; preds = %if.end14.i
  %idxprom.i.i = zext nneg i32 %35 to i64
  %arrayidx.i.i = getelementptr %struct.NvmeCtrl, ptr %0, i64 0, i32 35, i64 %idxprom.i.i
  %54 = load ptr, ptr %arrayidx.i.i, align 8
  %tobool.not.i = icmp eq ptr %54, null
  br i1 %tobool.not.i, label %if.then55, label %if.end21.i

if.end21.i:                                       ; preds = %nvme_ns.exit.i
  %iocs.i = getelementptr inbounds %struct.NvmeNamespace, ptr %54, i64 0, i32 10
  %55 = load ptr, ptr %iocs.i, align 8
  %idxprom.i = zext i8 %48 to i64
  %arrayidx.i = getelementptr i32, ptr %55, i64 %idxprom.i
  %56 = load i32, ptr %arrayidx.i, align 4
  %and.i = and i32 %56, 1
  %tobool24.not.i = icmp eq i32 %and.i, 0
  br i1 %tobool24.not.i, label %if.then25.i, label %if.end28.i

if.then25.i:                                      ; preds = %if.end21.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i49.i)
  %57 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i50.i = icmp ne i32 %57, 0
  %58 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_OPC_DSTATE, align 2
  %tobool4.i.i51.i = icmp ne i16 %58, 0
  %or.cond.i.i52.i = select i1 %tobool.i.i50.i, i1 %tobool4.i.i51.i, i1 false
  br i1 %or.cond.i.i52.i, label %land.lhs.true5.i.i53.i, label %trace_pci_nvme_err_invalid_opc.exit.i

land.lhs.true5.i.i53.i:                           ; preds = %if.then25.i
  %59 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i54.i = and i32 %59, 32768
  %cmp.i.not.i.i55.i = icmp eq i32 %and.i.i.i54.i, 0
  br i1 %cmp.i.not.i.i55.i, label %trace_pci_nvme_err_invalid_opc.exit.i, label %if.then.i.i56.i

if.then.i.i56.i:                                  ; preds = %land.lhs.true5.i.i53.i
  %60 = load i8, ptr @message_with_timestamp, align 1
  %61 = and i8 %60, 1
  %tobool7.not.i.i57.i = icmp eq i8 %61, 0
  br i1 %tobool7.not.i.i57.i, label %if.else.i.i63.i, label %if.then8.i.i58.i

if.then8.i.i58.i:                                 ; preds = %if.then.i.i56.i
  %call9.i.i59.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i49.i, ptr noundef null) #17
  %call10.i.i60.i = call i32 @qemu_get_thread_id() #17
  %62 = load i64, ptr %_now.i.i49.i, align 8
  %63 = load i64, ptr %tv_usec.i.i61.i, align 8
  %conv11.i.i62.i = zext i8 %48 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.195, i32 noundef %call10.i.i60.i, i64 noundef %62, i64 noundef %63, i32 noundef %conv11.i.i62.i) #17
  br label %trace_pci_nvme_err_invalid_opc.exit.i

if.else.i.i63.i:                                  ; preds = %if.then.i.i56.i
  %conv12.i.i64.i = zext i8 %48 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.196, i32 noundef %conv12.i.i64.i) #17
  br label %trace_pci_nvme_err_invalid_opc.exit.i

trace_pci_nvme_err_invalid_opc.exit.i:            ; preds = %if.else.i.i63.i, %if.then8.i.i58.i, %land.lhs.true5.i.i53.i, %if.then25.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i49.i)
  br label %if.then55

if.end28.i:                                       ; preds = %if.end21.i
  %status.i = getelementptr inbounds %struct.NvmeNamespace, ptr %54, i64 0, i32 12
  %64 = load i16, ptr %status.i, align 2
  %tobool29.not.i = icmp eq i16 %64, 0
  br i1 %tobool29.not.i, label %if.end32.i, label %cond.end

if.end32.i:                                       ; preds = %if.end28.i
  %flags.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 1
  %65 = load i8, ptr %flags.i, align 1
  %66 = and i8 %65, 3
  %tobool36.not.i = icmp eq i8 %66, 0
  br i1 %tobool36.not.i, label %if.end38.i, label %if.then55

if.end38.i:                                       ; preds = %if.end32.i
  store ptr %54, ptr %ns.i, align 8
  switch i8 %48, label %sw.default.i [
    i8 8, label %sw.bb.i
    i8 125, label %sw.bb44.i
    i8 1, label %sw.bb46.i
    i8 2, label %sw.bb48.i
    i8 5, label %sw.bb50.i
    i8 9, label %sw.bb52.i
    i8 12, label %sw.bb54.i
    i8 25, label %sw.bb56.i
    i8 121, label %sw.bb58.i
    i8 122, label %sw.bb60.i
    i8 18, label %sw.bb62.i
    i8 29, label %sw.bb64.i
  ]

sw.bb.i:                                          ; preds = %if.end38.i
  %call.i.i = call fastcc zeroext i16 @nvme_do_write(ptr noundef nonnull %0, ptr noundef nonnull %28, i1 noundef zeroext false, i1 noundef zeroext true)
  br label %cond.end

sw.bb44.i:                                        ; preds = %if.end38.i
  %call.i65.i = call fastcc zeroext i16 @nvme_do_write(ptr noundef nonnull %0, ptr noundef nonnull %28, i1 noundef zeroext true, i1 noundef zeroext false)
  br label %cond.end

sw.bb46.i:                                        ; preds = %if.end38.i
  %call.i66.i = call fastcc zeroext i16 @nvme_do_write(ptr noundef nonnull %0, ptr noundef nonnull %28, i1 noundef zeroext false, i1 noundef zeroext false)
  br label %cond.end

sw.bb48.i:                                        ; preds = %if.end38.i
  %call49.i = call fastcc zeroext i16 @nvme_read(ptr noundef nonnull %0, ptr noundef nonnull %28)
  br label %cond.end

sw.bb50.i:                                        ; preds = %if.end38.i
  %call51.i = call fastcc zeroext i16 @nvme_compare(ptr noundef nonnull %0, ptr noundef nonnull %28), !range !31
  br label %cond.end

sw.bb52.i:                                        ; preds = %if.end38.i
  %call53.i = call fastcc zeroext i16 @nvme_dsm(ptr noundef nonnull %0, ptr noundef nonnull %28)
  br label %cond.end

sw.bb54.i:                                        ; preds = %if.end38.i
  %call55.i = call fastcc zeroext i16 @nvme_verify(ptr noundef nonnull %0, ptr noundef nonnull %28)
  br label %cond.end

sw.bb56.i:                                        ; preds = %if.end38.i
  %call57.i = call fastcc zeroext i16 @nvme_copy(ptr noundef nonnull %0, ptr noundef nonnull %28), !range !31
  br label %cond.end

sw.bb58.i:                                        ; preds = %if.end38.i
  %call59.i = call fastcc zeroext i16 @nvme_zone_mgmt_send(ptr noundef nonnull %0, ptr noundef nonnull %28)
  br label %cond.end

sw.bb60.i:                                        ; preds = %if.end38.i
  %call61.i = call fastcc zeroext i16 @nvme_zone_mgmt_recv(ptr noundef nonnull %0, ptr noundef nonnull %28)
  br label %cond.end

sw.bb62.i:                                        ; preds = %if.end38.i
  %call63.i = call fastcc zeroext i16 @nvme_io_mgmt_recv(ptr noundef nonnull %0, ptr noundef nonnull %28)
  br label %cond.end

sw.bb64.i:                                        ; preds = %if.end38.i
  %call65.i = call fastcc zeroext i16 @nvme_io_mgmt_send(ptr noundef nonnull %0, ptr noundef nonnull %28)
  br label %cond.end

sw.default.i:                                     ; preds = %if.end38.i
  call void @__assert_fail(ptr noundef nonnull @.str.176, ptr noundef nonnull @.str.1, i32 noundef 4483, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_io_cmd) #18
  unreachable

nvme_cid.exit.i:                                  ; preds = %if.end8
  %req.val.i63 = load ptr, ptr %28, align 8
  %67 = getelementptr i8, ptr %req.val.i63, i64 8
  %req.val.val.i64 = load i16, ptr %67, align 8
  %68 = load i8, ptr %cmd44, align 8
  switch i8 %68, label %sw.default.i.i106 [
    i8 0, label %nvme_adm_opc_str.exit.i
    i8 1, label %sw.bb1.i.i105
    i8 2, label %sw.bb2.i.i104
    i8 4, label %sw.bb3.i.i103
    i8 5, label %sw.bb4.i.i102
    i8 6, label %sw.bb5.i.i101
    i8 8, label %sw.bb6.i.i100
    i8 9, label %sw.bb7.i.i99
    i8 10, label %sw.bb8.i.i98
    i8 12, label %sw.bb9.i.i97
    i8 21, label %sw.bb10.i.i96
    i8 25, label %sw.bb11.i.i
    i8 28, label %sw.bb12.i.i
    i8 26, label %sw.bb13.i.i
    i8 124, label %sw.bb14.i.i
    i8 -128, label %sw.bb15.i.i
  ]

sw.bb1.i.i105:                                    ; preds = %nvme_cid.exit.i
  br label %nvme_adm_opc_str.exit.i

sw.bb2.i.i104:                                    ; preds = %nvme_cid.exit.i
  br label %nvme_adm_opc_str.exit.i

sw.bb3.i.i103:                                    ; preds = %nvme_cid.exit.i
  br label %nvme_adm_opc_str.exit.i

sw.bb4.i.i102:                                    ; preds = %nvme_cid.exit.i
  br label %nvme_adm_opc_str.exit.i

sw.bb5.i.i101:                                    ; preds = %nvme_cid.exit.i
  br label %nvme_adm_opc_str.exit.i

sw.bb6.i.i100:                                    ; preds = %nvme_cid.exit.i
  br label %nvme_adm_opc_str.exit.i

sw.bb7.i.i99:                                     ; preds = %nvme_cid.exit.i
  br label %nvme_adm_opc_str.exit.i

sw.bb8.i.i98:                                     ; preds = %nvme_cid.exit.i
  br label %nvme_adm_opc_str.exit.i

sw.bb9.i.i97:                                     ; preds = %nvme_cid.exit.i
  br label %nvme_adm_opc_str.exit.i

sw.bb10.i.i96:                                    ; preds = %nvme_cid.exit.i
  br label %nvme_adm_opc_str.exit.i

sw.bb11.i.i:                                      ; preds = %nvme_cid.exit.i
  br label %nvme_adm_opc_str.exit.i

sw.bb12.i.i:                                      ; preds = %nvme_cid.exit.i
  br label %nvme_adm_opc_str.exit.i

sw.bb13.i.i:                                      ; preds = %nvme_cid.exit.i
  br label %nvme_adm_opc_str.exit.i

sw.bb14.i.i:                                      ; preds = %nvme_cid.exit.i
  br label %nvme_adm_opc_str.exit.i

sw.bb15.i.i:                                      ; preds = %nvme_cid.exit.i
  br label %nvme_adm_opc_str.exit.i

sw.default.i.i106:                                ; preds = %nvme_cid.exit.i
  br label %nvme_adm_opc_str.exit.i

nvme_adm_opc_str.exit.i:                          ; preds = %sw.default.i.i106, %sw.bb15.i.i, %sw.bb14.i.i, %sw.bb13.i.i, %sw.bb12.i.i, %sw.bb11.i.i, %sw.bb10.i.i96, %sw.bb9.i.i97, %sw.bb8.i.i98, %sw.bb7.i.i99, %sw.bb6.i.i100, %sw.bb5.i.i101, %sw.bb4.i.i102, %sw.bb3.i.i103, %sw.bb2.i.i104, %sw.bb1.i.i105, %nvme_cid.exit.i
  %retval.0.i42.i = phi ptr [ @.str.308, %sw.default.i.i106 ], [ @.str.307, %sw.bb15.i.i ], [ @.str.306, %sw.bb14.i.i ], [ @.str.305, %sw.bb13.i.i ], [ @.str.304, %sw.bb12.i.i ], [ @.str.303, %sw.bb11.i.i ], [ @.str.302, %sw.bb10.i.i96 ], [ @.str.301, %sw.bb9.i.i97 ], [ @.str.300, %sw.bb8.i.i98 ], [ @.str.299, %sw.bb7.i.i99 ], [ @.str.298, %sw.bb6.i.i100 ], [ @.str.297, %sw.bb5.i.i101 ], [ @.str.296, %sw.bb4.i.i102 ], [ @.str.295, %sw.bb3.i.i103 ], [ @.str.294, %sw.bb2.i.i104 ], [ @.str.293, %sw.bb1.i.i105 ], [ @.str.292, %nvme_cid.exit.i ]
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i61)
  %69 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i66 = icmp ne i32 %69, 0
  %70 = load i16, ptr @_TRACE_PCI_NVME_ADMIN_CMD_DSTATE, align 2
  %tobool4.i.i.i67 = icmp ne i16 %70, 0
  %or.cond.i.i.i68 = select i1 %tobool.i.i.i66, i1 %tobool4.i.i.i67, i1 false
  br i1 %or.cond.i.i.i68, label %land.lhs.true5.i.i.i80, label %trace_pci_nvme_admin_cmd.exit.i

land.lhs.true5.i.i.i80:                           ; preds = %nvme_adm_opc_str.exit.i
  %71 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i81 = and i32 %71, 32768
  %cmp.i.not.i.i.i82 = icmp eq i32 %and.i.i.i.i81, 0
  br i1 %cmp.i.not.i.i.i82, label %trace_pci_nvme_admin_cmd.exit.i, label %if.then.i.i.i83

if.then.i.i.i83:                                  ; preds = %land.lhs.true5.i.i.i80
  %72 = load i8, ptr @message_with_timestamp, align 1
  %73 = and i8 %72, 1
  %tobool7.not.i.i.i84 = icmp eq i8 %73, 0
  br i1 %tobool7.not.i.i.i84, label %if.else.i.i.i92, label %if.then8.i.i.i85

if.then8.i.i.i85:                                 ; preds = %if.then.i.i.i83
  %call9.i.i.i86 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i61, ptr noundef null) #17
  %call10.i.i.i87 = call i32 @qemu_get_thread_id() #17
  %74 = load i64, ptr %_now.i.i.i61, align 8
  %75 = load i64, ptr %tv_usec.i.i.i88, align 8
  %conv11.i.i.i89 = zext i16 %33 to i32
  %conv12.i.i.i90 = zext i16 %req.val.val.i64 to i32
  %conv13.i.i.i91 = zext i8 %68 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.290, i32 noundef %call10.i.i.i87, i64 noundef %74, i64 noundef %75, i32 noundef %conv11.i.i.i89, i32 noundef %conv12.i.i.i90, i32 noundef %conv13.i.i.i91, ptr noundef nonnull %retval.0.i42.i) #17
  br label %trace_pci_nvme_admin_cmd.exit.i

if.else.i.i.i92:                                  ; preds = %if.then.i.i.i83
  %conv14.i.i.i93 = zext i16 %33 to i32
  %conv15.i.i.i94 = zext i16 %req.val.val.i64 to i32
  %conv16.i.i.i95 = zext i8 %68 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.291, i32 noundef %conv14.i.i.i93, i32 noundef %conv15.i.i.i94, i32 noundef %conv16.i.i.i95, ptr noundef nonnull %retval.0.i42.i) #17
  br label %trace_pci_nvme_admin_cmd.exit.i

trace_pci_nvme_admin_cmd.exit.i:                  ; preds = %if.else.i.i.i92, %if.then8.i.i.i85, %land.lhs.true5.i.i.i80, %nvme_adm_opc_str.exit.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i61)
  %76 = load i8, ptr %cmd44, align 8
  %idxprom.i69 = zext i8 %76 to i64
  %arrayidx.i70 = getelementptr [256 x i32], ptr @nvme_cse_acs, i64 0, i64 %idxprom.i69
  %77 = load i32, ptr %arrayidx.i70, align 4
  %and.i71 = and i32 %77, 1
  %tobool.not.i72 = icmp eq i32 %and.i71, 0
  br i1 %tobool.not.i72, label %if.then.i, label %if.end.i73

if.then.i:                                        ; preds = %trace_pci_nvme_admin_cmd.exit.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i43.i)
  %78 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i44.i = icmp ne i32 %78, 0
  %79 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_ADMIN_OPC_DSTATE, align 2
  %tobool4.i.i45.i = icmp ne i16 %79, 0
  %or.cond.i.i46.i = select i1 %tobool.i.i44.i, i1 %tobool4.i.i45.i, i1 false
  br i1 %or.cond.i.i46.i, label %land.lhs.true5.i.i47.i, label %trace_pci_nvme_err_invalid_admin_opc.exit.i

land.lhs.true5.i.i47.i:                           ; preds = %if.then.i
  %80 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i48.i = and i32 %80, 32768
  %cmp.i.not.i.i49.i = icmp eq i32 %and.i.i.i48.i, 0
  br i1 %cmp.i.not.i.i49.i, label %trace_pci_nvme_err_invalid_admin_opc.exit.i, label %if.then.i.i50.i

if.then.i.i50.i:                                  ; preds = %land.lhs.true5.i.i47.i
  %81 = load i8, ptr @message_with_timestamp, align 1
  %82 = and i8 %81, 1
  %tobool7.not.i.i51.i = icmp eq i8 %82, 0
  br i1 %tobool7.not.i.i51.i, label %if.else.i.i57.i, label %if.then8.i.i52.i

if.then8.i.i52.i:                                 ; preds = %if.then.i.i50.i
  %call9.i.i53.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i43.i, ptr noundef null) #17
  %call10.i.i54.i = call i32 @qemu_get_thread_id() #17
  %83 = load i64, ptr %_now.i.i43.i, align 8
  %84 = load i64, ptr %tv_usec.i.i55.i, align 8
  %conv11.i.i56.i = zext i8 %76 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.310, i32 noundef %call10.i.i54.i, i64 noundef %83, i64 noundef %84, i32 noundef %conv11.i.i56.i) #17
  br label %trace_pci_nvme_err_invalid_admin_opc.exit.i

if.else.i.i57.i:                                  ; preds = %if.then.i.i50.i
  %conv12.i.i58.i = zext i8 %76 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.311, i32 noundef %conv12.i.i58.i) #17
  br label %trace_pci_nvme_err_invalid_admin_opc.exit.i

trace_pci_nvme_err_invalid_admin_opc.exit.i:      ; preds = %if.else.i.i57.i, %if.then8.i.i52.i, %land.lhs.true5.i.i47.i, %if.then.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i43.i)
  br label %if.then55

if.end.i73:                                       ; preds = %trace_pci_nvme_admin_cmd.exit.i
  %flags.i74 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 1
  %85 = load i8, ptr %flags.i74, align 1
  %cmp.not.i = icmp ult i8 %85, 64
  br i1 %cmp.not.i, label %if.end13.i, label %if.then55

if.end13.i:                                       ; preds = %if.end.i73
  %86 = and i8 %85, 3
  %tobool18.not.i = icmp eq i8 %86, 0
  br i1 %tobool18.not.i, label %if.end20.i, label %if.then55

if.end20.i:                                       ; preds = %if.end13.i
  switch i8 %76, label %sw.default.i79 [
    i8 0, label %sw.bb.i78
    i8 1, label %sw.bb25.i
    i8 2, label %sw.bb27.i
    i8 4, label %sw.bb29.i
    i8 5, label %sw.bb31.i
    i8 6, label %nvme_cid.exit.i402
    i8 8, label %sw.bb35.i
    i8 9, label %sw.bb37.i
    i8 10, label %sw.bb39.i
    i8 12, label %nvme_cid.exit.i272
    i8 21, label %sw.bb43.i
    i8 28, label %sw.bb45.i
    i8 124, label %sw.bb47.i
    i8 -128, label %sw.bb49.i
    i8 25, label %if.then55
    i8 26, label %sw.bb53.i
  ]

sw.bb.i78:                                        ; preds = %if.end20.i
  %87 = getelementptr i8, ptr %28, i64 96
  %req.val40.i = load i16, ptr %87, align 1
  %tobool.not.i642 = icmp eq i16 %req.val40.i, 0
  br i1 %tobool.not.i642, label %if.then.i648, label %lor.rhs.i643

lor.rhs.i643:                                     ; preds = %sw.bb.i78
  %conv.i.i644 = zext i16 %req.val40.i to i32
  %88 = load i32, ptr %conf_ioqpairs131.i, align 8
  %add.i.i646 = add i32 %88, 1
  %cmp.i.i647 = icmp ugt i32 %add.i.i646, %conv.i.i644
  br i1 %cmp.i.i647, label %nvme_check_sqid.exit.i, label %if.then.i648

nvme_check_sqid.exit.i:                           ; preds = %lor.rhs.i643
  %89 = load ptr, ptr %sq11.i, align 16
  %idxprom.i.i665 = zext i16 %req.val40.i to i64
  %arrayidx.i.i666 = getelementptr ptr, ptr %89, i64 %idxprom.i.i665
  %90 = load ptr, ptr %arrayidx.i.i666, align 8
  %cmp2.i.i667 = icmp eq ptr %90, null
  br i1 %cmp2.i.i667, label %if.then.i648, label %if.end.i668

if.then.i648:                                     ; preds = %nvme_check_sqid.exit.i, %lor.rhs.i643, %sw.bb.i78
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i641)
  %91 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i649 = icmp ne i32 %91, 0
  %92 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_DEL_SQ_DSTATE, align 2
  %tobool4.i.i.i650 = icmp ne i16 %92, 0
  %or.cond.i.i.i651 = select i1 %tobool.i.i.i649, i1 %tobool4.i.i.i650, i1 false
  br i1 %or.cond.i.i.i651, label %land.lhs.true5.i.i.i653, label %trace_pci_nvme_err_invalid_del_sq.exit.i

land.lhs.true5.i.i.i653:                          ; preds = %if.then.i648
  %93 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i654 = and i32 %93, 32768
  %cmp.i.not.i.i.i655 = icmp eq i32 %and.i.i.i.i654, 0
  br i1 %cmp.i.not.i.i.i655, label %trace_pci_nvme_err_invalid_del_sq.exit.i, label %if.then.i.i.i656

if.then.i.i.i656:                                 ; preds = %land.lhs.true5.i.i.i653
  %94 = load i8, ptr @message_with_timestamp, align 1
  %95 = and i8 %94, 1
  %tobool7.not.i.i.i657 = icmp eq i8 %95, 0
  br i1 %tobool7.not.i.i.i657, label %if.else.i.i.i663, label %if.then8.i.i.i658

if.then8.i.i.i658:                                ; preds = %if.then.i.i.i656
  %call9.i.i.i659 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i641, ptr noundef null) #17
  %call10.i.i.i660 = call i32 @qemu_get_thread_id() #17
  %96 = load i64, ptr %_now.i.i.i641, align 8
  %97 = load i64, ptr %tv_usec.i.i.i661, align 8
  %conv11.i.i.i662 = zext i16 %req.val40.i to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.314, i32 noundef %call10.i.i.i660, i64 noundef %96, i64 noundef %97, i32 noundef %conv11.i.i.i662) #17
  br label %trace_pci_nvme_err_invalid_del_sq.exit.i

if.else.i.i.i663:                                 ; preds = %if.then.i.i.i656
  %conv12.i.i.i664 = zext i16 %req.val40.i to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.315, i32 noundef %conv12.i.i.i664) #17
  br label %trace_pci_nvme_err_invalid_del_sq.exit.i

trace_pci_nvme_err_invalid_del_sq.exit.i:         ; preds = %if.else.i.i.i663, %if.then8.i.i.i658, %land.lhs.true5.i.i.i653, %if.then.i648
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i641)
  br label %if.then55

if.end.i668:                                      ; preds = %nvme_check_sqid.exit.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i50.i)
  %98 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i51.i = icmp ne i32 %98, 0
  %99 = load i16, ptr @_TRACE_PCI_NVME_DEL_SQ_DSTATE, align 2
  %tobool4.i.i52.i = icmp ne i16 %99, 0
  %or.cond.i.i53.i = select i1 %tobool.i.i51.i, i1 %tobool4.i.i52.i, i1 false
  br i1 %or.cond.i.i53.i, label %land.lhs.true5.i.i54.i, label %trace_pci_nvme_del_sq.exit.i

land.lhs.true5.i.i54.i:                           ; preds = %if.end.i668
  %100 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i55.i = and i32 %100, 32768
  %cmp.i.not.i.i56.i = icmp eq i32 %and.i.i.i55.i, 0
  br i1 %cmp.i.not.i.i56.i, label %trace_pci_nvme_del_sq.exit.i, label %if.then.i.i57.i

if.then.i.i57.i:                                  ; preds = %land.lhs.true5.i.i54.i
  %101 = load i8, ptr @message_with_timestamp, align 1
  %102 = and i8 %101, 1
  %tobool7.not.i.i58.i = icmp eq i8 %102, 0
  br i1 %tobool7.not.i.i58.i, label %if.else.i.i64.i, label %if.then8.i.i59.i

if.then8.i.i59.i:                                 ; preds = %if.then.i.i57.i
  %call9.i.i60.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i50.i, ptr noundef null) #17
  %call10.i.i61.i = call i32 @qemu_get_thread_id() #17
  %103 = load i64, ptr %_now.i.i50.i, align 8
  %104 = load i64, ptr %tv_usec.i.i62.i, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.316, i32 noundef %call10.i.i61.i, i64 noundef %103, i64 noundef %104, i32 noundef %conv.i.i644) #17
  br label %trace_pci_nvme_del_sq.exit.i

if.else.i.i64.i:                                  ; preds = %if.then.i.i57.i
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.317, i32 noundef %conv.i.i644) #17
  br label %trace_pci_nvme_del_sq.exit.i

trace_pci_nvme_del_sq.exit.i:                     ; preds = %if.else.i.i64.i, %if.then8.i.i59.i, %land.lhs.true5.i.i54.i, %if.end.i668
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i50.i)
  %105 = load ptr, ptr %sq11.i, align 16
  %arrayidx.i669 = getelementptr ptr, ptr %105, i64 %idxprom.i.i665
  %106 = load ptr, ptr %arrayidx.i669, align 8
  %out_req_list.i = getelementptr inbounds %struct.NvmeSQueue, ptr %106, i64 0, i32 14
  %107 = load ptr, ptr %out_req_list.i, align 8
  %cmp.not5.i = icmp eq ptr %107, null
  br i1 %cmp.not5.i, label %if.end20.i674, label %while.body.i

while.body.i:                                     ; preds = %trace_pci_nvme_del_sq.exit.i, %if.end13.i672
  %108 = phi ptr [ %110, %if.end13.i672 ], [ %107, %trace_pci_nvme_del_sq.exit.i ]
  %aiocb.i670 = getelementptr inbounds %struct.NvmeRequest, ptr %108, i64 0, i32 2
  %109 = load ptr, ptr %aiocb.i670, align 8
  %tobool11.not.i671 = icmp eq ptr %109, null
  br i1 %tobool11.not.i671, label %if.else.i681, label %if.end13.i672

if.else.i681:                                     ; preds = %while.body.i
  call void @__assert_fail(ptr noundef nonnull @.str.312, ptr noundef nonnull @.str.1, i32 noundef 4594, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_del_sq) #18
  unreachable

if.end13.i672:                                    ; preds = %while.body.i
  call void @blk_aio_cancel(ptr noundef nonnull %109) #17
  %110 = load ptr, ptr %out_req_list.i, align 8
  %cmp.not.i673 = icmp eq ptr %110, null
  br i1 %cmp.not.i673, label %if.end20.i674, label %while.body.i, !llvm.loop !32

if.end20.i674:                                    ; preds = %if.end13.i672, %trace_pci_nvme_del_sq.exit.i
  %cqid.i675 = getelementptr inbounds %struct.NvmeSQueue, ptr %106, i64 0, i32 2
  %111 = load i16, ptr %cqid.i675, align 2
  %conv.i66.i = zext i16 %111 to i32
  %112 = load i32, ptr %conf_ioqpairs131.i, align 8
  %add.i68.i = add i32 %112, 1
  %cmp.i69.i676 = icmp ugt i32 %add.i68.i, %conv.i66.i
  br i1 %cmp.i69.i676, label %nvme_check_cqid.exit.i677, label %if.end95.i

nvme_check_cqid.exit.i677:                        ; preds = %if.end20.i674
  %113 = load ptr, ptr %cq1, align 8
  %idxprom.i72.i = zext i16 %111 to i64
  %arrayidx.i73.i = getelementptr ptr, ptr %113, i64 %idxprom.i72.i
  %114 = load ptr, ptr %arrayidx.i73.i, align 8
  %cmp2.i74.not.i = icmp eq ptr %114, null
  br i1 %cmp2.i74.not.i, label %if.end95.i, label %if.then23.i

if.then23.i:                                      ; preds = %nvme_check_cqid.exit.i677
  %entry28.i = getelementptr inbounds %struct.NvmeSQueue, ptr %106, i64 0, i32 15
  %115 = load ptr, ptr %entry28.i, align 8
  %cmp29.not.i679 = icmp eq ptr %115, null
  %tql_prev38.i = getelementptr inbounds %struct.NvmeSQueue, ptr %106, i64 0, i32 15, i32 0, i32 1
  %116 = load ptr, ptr %tql_prev38.i, align 8
  %tql_prev39.i = getelementptr inbounds %struct.NvmeCQueue, ptr %114, i64 0, i32 14, i32 0, i32 1
  %tql_prev35.i = getelementptr inbounds %struct.NvmeSQueue, ptr %115, i64 0, i32 15, i32 0, i32 1
  %tql_prev39.sink.i = select i1 %cmp29.not.i679, ptr %tql_prev39.i, ptr %tql_prev35.i
  store ptr %116, ptr %tql_prev39.sink.i, align 8
  %117 = load ptr, ptr %entry28.i, align 8
  store ptr %117, ptr %116, align 8
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %entry28.i, i8 0, i64 16, i1 false)
  call void @nvme_post_cqes(ptr noundef nonnull %114)
  %req_list.i = getelementptr inbounds %struct.NvmeCQueue, ptr %114, i64 0, i32 15
  %118 = load ptr, ptr %req_list.i, align 8
  %tobool49.not6.i = icmp eq ptr %118, null
  br i1 %tobool49.not6.i, label %if.end95.i, label %land.rhs.lr.ph.i

land.rhs.lr.ph.i:                                 ; preds = %if.then23.i
  %tql_prev69.i = getelementptr inbounds %struct.NvmeCQueue, ptr %114, i64 0, i32 15, i32 0, i32 1
  %tql_prev84.i = getelementptr inbounds %struct.NvmeSQueue, ptr %106, i64 0, i32 13, i32 0, i32 1
  br label %land.rhs.i

land.rhs.i:                                       ; preds = %for.inc.i680, %land.rhs.lr.ph.i
  %r.07.i = phi ptr [ %118, %land.rhs.lr.ph.i ], [ %119, %for.inc.i680 ]
  %entry50.i = getelementptr inbounds %struct.NvmeRequest, ptr %r.07.i, i64 0, i32 9
  %119 = load ptr, ptr %entry50.i, align 8
  %120 = load ptr, ptr %r.07.i, align 8
  %cmp52.i = icmp eq ptr %120, %106
  br i1 %cmp52.i, label %do.body55.i, label %for.inc.i680

do.body55.i:                                      ; preds = %land.rhs.i
  %cmp57.not.i = icmp eq ptr %119, null
  %tql_prev67.i = getelementptr inbounds %struct.NvmeRequest, ptr %r.07.i, i64 0, i32 9, i32 0, i32 1
  %121 = load ptr, ptr %tql_prev67.i, align 8
  %tql_prev64.i = getelementptr inbounds %struct.NvmeRequest, ptr %119, i64 0, i32 9, i32 0, i32 1
  %tql_prev69.sink.i = select i1 %cmp57.not.i, ptr %tql_prev69.i, ptr %tql_prev64.i
  store ptr %121, ptr %tql_prev69.sink.i, align 8
  %122 = load ptr, ptr %entry50.i, align 8
  store ptr %122, ptr %121, align 8
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %entry50.i, i8 0, i64 16, i1 false)
  %123 = load ptr, ptr %tql_prev84.i, align 8
  store ptr %123, ptr %tql_prev67.i, align 8
  store ptr %r.07.i, ptr %123, align 8
  store ptr %entry50.i, ptr %tql_prev84.i, align 8
  br label %for.inc.i680

for.inc.i680:                                     ; preds = %do.body55.i, %land.rhs.i
  %tobool49.not.i = icmp eq ptr %119, null
  br i1 %tobool49.not.i, label %if.end95.i, label %land.rhs.i, !llvm.loop !33

if.end95.i:                                       ; preds = %for.inc.i680, %if.then23.i, %nvme_check_cqid.exit.i677, %if.end20.i674
  call fastcc void @nvme_free_sq(ptr noundef %106, ptr noundef %0)
  br label %if.then55

sw.bb25.i:                                        ; preds = %if.end20.i
  %cqid1.i589 = getelementptr inbounds i8, ptr %28, i64 102
  %124 = load i16, ptr %cqid1.i589, align 1
  %sqid2.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 7
  %125 = load i16, ptr %sqid2.i, align 1
  %qsize4.i = getelementptr inbounds i8, ptr %28, i64 98
  %126 = load i16, ptr %qsize4.i, align 1
  %sq_flags.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 8
  %127 = load i16, ptr %sq_flags.i, align 1
  %prp17.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 6
  %128 = load i64, ptr %prp17.i, align 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i588)
  %129 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i590 = icmp ne i32 %129, 0
  %130 = load i16, ptr @_TRACE_PCI_NVME_CREATE_SQ_DSTATE, align 2
  %tobool4.i.i.i591 = icmp ne i16 %130, 0
  %or.cond.i.i.i592 = select i1 %tobool.i.i.i590, i1 %tobool4.i.i.i591, i1 false
  br i1 %or.cond.i.i.i592, label %land.lhs.true5.i.i.i623, label %trace_pci_nvme_create_sq.exit.i

land.lhs.true5.i.i.i623:                          ; preds = %sw.bb25.i
  %131 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i624 = and i32 %131, 32768
  %cmp.i.not.i.i.i625 = icmp eq i32 %and.i.i.i.i624, 0
  br i1 %cmp.i.not.i.i.i625, label %trace_pci_nvme_create_sq.exit.i, label %if.then.i.i.i626

if.then.i.i.i626:                                 ; preds = %land.lhs.true5.i.i.i623
  %132 = load i8, ptr @message_with_timestamp, align 1
  %133 = and i8 %132, 1
  %tobool7.not.i.i.i627 = icmp eq i8 %133, 0
  br i1 %tobool7.not.i.i.i627, label %if.else.i.i.i636, label %if.then8.i.i.i628

if.then8.i.i.i628:                                ; preds = %if.then.i.i.i626
  %call9.i.i.i629 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i588, ptr noundef null) #17
  %call10.i.i.i630 = call i32 @qemu_get_thread_id() #17
  %134 = load i64, ptr %_now.i.i.i588, align 8
  %135 = load i64, ptr %tv_usec.i.i.i631, align 8
  %conv11.i.i.i632 = zext i16 %125 to i32
  %conv12.i.i.i633 = zext i16 %124 to i32
  %conv13.i.i.i634 = zext i16 %126 to i32
  %conv14.i.i.i635 = zext i16 %127 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.318, i32 noundef %call10.i.i.i630, i64 noundef %134, i64 noundef %135, i64 noundef %128, i32 noundef %conv11.i.i.i632, i32 noundef %conv12.i.i.i633, i32 noundef %conv13.i.i.i634, i32 noundef %conv14.i.i.i635) #17
  br label %trace_pci_nvme_create_sq.exit.i

if.else.i.i.i636:                                 ; preds = %if.then.i.i.i626
  %conv15.i.i.i637 = zext i16 %125 to i32
  %conv16.i.i.i638 = zext i16 %124 to i32
  %conv17.i.i.i639 = zext i16 %126 to i32
  %conv18.i.i.i640 = zext i16 %127 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.319, i64 noundef %128, i32 noundef %conv15.i.i.i637, i32 noundef %conv16.i.i.i638, i32 noundef %conv17.i.i.i639, i32 noundef %conv18.i.i.i640) #17
  br label %trace_pci_nvme_create_sq.exit.i

trace_pci_nvme_create_sq.exit.i:                  ; preds = %if.else.i.i.i636, %if.then8.i.i.i628, %land.lhs.true5.i.i.i623, %sw.bb25.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i588)
  %tobool.not.i593 = icmp eq i16 %124, 0
  br i1 %tobool.not.i593, label %if.then.i599, label %lor.rhs.i594

lor.rhs.i594:                                     ; preds = %trace_pci_nvme_create_sq.exit.i
  %conv.i.i595 = zext i16 %124 to i32
  %136 = load i32, ptr %conf_ioqpairs131.i, align 8
  %add.i.i597 = add i32 %136, 1
  %cmp.i.i598 = icmp ugt i32 %add.i.i597, %conv.i.i595
  br i1 %cmp.i.i598, label %nvme_check_cqid.exit.i601, label %if.then.i599

nvme_check_cqid.exit.i601:                        ; preds = %lor.rhs.i594
  %137 = load ptr, ptr %cq1, align 8
  %idxprom.i.i603 = zext i16 %124 to i64
  %arrayidx.i.i604 = getelementptr ptr, ptr %137, i64 %idxprom.i.i603
  %138 = load ptr, ptr %arrayidx.i.i604, align 8
  %cmp2.i.i605 = icmp eq ptr %138, null
  br i1 %cmp2.i.i605, label %if.then.i599, label %if.end.i606

if.then.i599:                                     ; preds = %nvme_check_cqid.exit.i601, %lor.rhs.i594, %trace_pci_nvme_create_sq.exit.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i28.i)
  %139 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i29.i = icmp ne i32 %139, 0
  %140 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_CREATE_SQ_CQID_DSTATE, align 2
  %tobool4.i.i30.i = icmp ne i16 %140, 0
  %or.cond.i.i31.i = select i1 %tobool.i.i29.i, i1 %tobool4.i.i30.i, i1 false
  br i1 %or.cond.i.i31.i, label %land.lhs.true5.i.i32.i, label %trace_pci_nvme_err_invalid_create_sq_cqid.exit.i

land.lhs.true5.i.i32.i:                           ; preds = %if.then.i599
  %141 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i33.i = and i32 %141, 32768
  %cmp.i.not.i.i34.i = icmp eq i32 %and.i.i.i33.i, 0
  br i1 %cmp.i.not.i.i34.i, label %trace_pci_nvme_err_invalid_create_sq_cqid.exit.i, label %if.then.i.i35.i

if.then.i.i35.i:                                  ; preds = %land.lhs.true5.i.i32.i
  %142 = load i8, ptr @message_with_timestamp, align 1
  %143 = and i8 %142, 1
  %tobool7.not.i.i36.i = icmp eq i8 %143, 0
  br i1 %tobool7.not.i.i36.i, label %if.else.i.i42.i, label %if.then8.i.i37.i

if.then8.i.i37.i:                                 ; preds = %if.then.i.i35.i
  %call9.i.i38.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i28.i, ptr noundef null) #17
  %call10.i.i39.i = call i32 @qemu_get_thread_id() #17
  %144 = load i64, ptr %_now.i.i28.i, align 8
  %145 = load i64, ptr %tv_usec.i.i40.i, align 8
  %conv11.i.i41.i = zext i16 %124 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.320, i32 noundef %call10.i.i39.i, i64 noundef %144, i64 noundef %145, i32 noundef %conv11.i.i41.i) #17
  br label %trace_pci_nvme_err_invalid_create_sq_cqid.exit.i

if.else.i.i42.i:                                  ; preds = %if.then.i.i35.i
  %conv12.i.i43.i = zext i16 %124 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.321, i32 noundef %conv12.i.i43.i) #17
  br label %trace_pci_nvme_err_invalid_create_sq_cqid.exit.i

trace_pci_nvme_err_invalid_create_sq_cqid.exit.i: ; preds = %if.else.i.i42.i, %if.then8.i.i37.i, %land.lhs.true5.i.i32.i, %if.then.i599
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i28.i)
  br label %if.then55

if.end.i606:                                      ; preds = %nvme_check_cqid.exit.i601
  %tobool13.not.i607 = icmp eq i16 %125, 0
  %conv14.i608 = zext i16 %125 to i32
  %cmp.i609 = icmp ult i32 %136, %conv14.i608
  %or.cond.i610 = or i1 %tobool13.not.i607, %cmp.i609
  br i1 %or.cond.i610, label %if.then27.i, label %lor.rhs16.i

lor.rhs16.i:                                      ; preds = %if.end.i606
  %146 = load ptr, ptr %sq11.i, align 16
  %idxprom.i611 = zext i16 %125 to i64
  %arrayidx.i612 = getelementptr ptr, ptr %146, i64 %idxprom.i611
  %147 = load ptr, ptr %arrayidx.i612, align 8
  %cmp18.not.i = icmp eq ptr %147, null
  br i1 %cmp18.not.i, label %if.end28.i613, label %if.then27.i

if.then27.i:                                      ; preds = %lor.rhs16.i, %if.end.i606
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i44.i)
  %148 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i45.i = icmp ne i32 %148, 0
  %149 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_CREATE_SQ_SQID_DSTATE, align 2
  %tobool4.i.i46.i = icmp ne i16 %149, 0
  %or.cond.i.i47.i = select i1 %tobool.i.i45.i, i1 %tobool4.i.i46.i, i1 false
  br i1 %or.cond.i.i47.i, label %land.lhs.true5.i.i48.i, label %trace_pci_nvme_err_invalid_create_sq_sqid.exit.i

land.lhs.true5.i.i48.i:                           ; preds = %if.then27.i
  %150 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i49.i = and i32 %150, 32768
  %cmp.i.not.i.i50.i = icmp eq i32 %and.i.i.i49.i, 0
  br i1 %cmp.i.not.i.i50.i, label %trace_pci_nvme_err_invalid_create_sq_sqid.exit.i, label %if.then.i.i51.i

if.then.i.i51.i:                                  ; preds = %land.lhs.true5.i.i48.i
  %151 = load i8, ptr @message_with_timestamp, align 1
  %152 = and i8 %151, 1
  %tobool7.not.i.i52.i = icmp eq i8 %152, 0
  br i1 %tobool7.not.i.i52.i, label %if.else.i.i58.i, label %if.then8.i.i53.i

if.then8.i.i53.i:                                 ; preds = %if.then.i.i51.i
  %call9.i.i54.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i44.i, ptr noundef null) #17
  %call10.i.i55.i = call i32 @qemu_get_thread_id() #17
  %153 = load i64, ptr %_now.i.i44.i, align 8
  %154 = load i64, ptr %tv_usec.i.i56.i, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.322, i32 noundef %call10.i.i55.i, i64 noundef %153, i64 noundef %154, i32 noundef %conv14.i608) #17
  br label %trace_pci_nvme_err_invalid_create_sq_sqid.exit.i

if.else.i.i58.i:                                  ; preds = %if.then.i.i51.i
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.323, i32 noundef %conv14.i608) #17
  br label %trace_pci_nvme_err_invalid_create_sq_sqid.exit.i

trace_pci_nvme_err_invalid_create_sq_sqid.exit.i: ; preds = %if.else.i.i58.i, %if.then8.i.i53.i, %land.lhs.true5.i.i48.i, %if.then27.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i44.i)
  br label %if.then55

if.end28.i613:                                    ; preds = %lor.rhs16.i
  %tobool29.not.i614 = icmp eq i16 %126, 0
  br i1 %tobool29.not.i614, label %if.then42.i, label %lor.rhs30.i

lor.rhs30.i:                                      ; preds = %if.end28.i613
  %conv31.i = zext i16 %126 to i64
  %bar.val.i616 = load i64, ptr %bar.i, align 1
  %and.i617 = and i64 %bar.val.i616, 65535
  %cmp33.i = icmp ult i64 %and.i617, %conv31.i
  br i1 %cmp33.i, label %if.then42.i, label %if.end43.i

if.then42.i:                                      ; preds = %lor.rhs30.i, %if.end28.i613
  call fastcc void @trace_pci_nvme_err_invalid_create_sq_size(i16 noundef zeroext %126)
  br label %if.then55

if.end43.i:                                       ; preds = %lor.rhs30.i
  %155 = load i32, ptr %page_size.i, align 4
  %sub.i619 = add i32 %155, -1
  %conv44.i = zext i32 %sub.i619 to i64
  %and45.i = and i64 %128, %conv44.i
  %tobool46.not.i = icmp eq i64 %and45.i, 0
  br i1 %tobool46.not.i, label %if.end54.i, label %if.then53.i620

if.then53.i620:                                   ; preds = %if.end43.i
  call fastcc void @trace_pci_nvme_err_invalid_create_sq_addr(i64 noundef %128)
  br label %if.then55

if.end54.i:                                       ; preds = %if.end43.i
  %156 = and i16 %127, 1
  %tobool57.not.i = icmp eq i16 %156, 0
  br i1 %tobool57.not.i, label %if.then66.i, label %if.end70.i

if.then66.i:                                      ; preds = %if.end54.i
  call fastcc void @trace_pci_nvme_err_invalid_create_sq_qflags(i16 noundef zeroext 0)
  br label %if.then55

if.end70.i:                                       ; preds = %if.end54.i
  %call71.i621 = call noalias dereferenceable_or_null(128) ptr @g_malloc0(i64 noundef 128) #20
  %add.i622 = add i16 %126, 1
  call fastcc void @nvme_init_sq(ptr noundef %call71.i621, ptr noundef nonnull %0, i64 noundef %128, i16 noundef zeroext %125, i16 noundef zeroext %124, i16 noundef zeroext %add.i622)
  br label %if.then55

sw.bb27.i:                                        ; preds = %if.end20.i
  %cdw10.i527 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 7
  %157 = load i32, ptr %cdw10.i527, align 1
  %cdw11.i528 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 8
  %158 = load i32, ptr %cdw11.i528, align 1
  %cdw12.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 9
  %159 = load i32, ptr %cdw12.i, align 1
  %cdw13.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 10
  %160 = load i32, ptr %cdw13.i, align 1
  %shr7.i = lshr i32 %157, 15
  %161 = trunc i32 %shr7.i to i8
  %conv9.i = and i8 %161, 1
  %cdw14.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 11
  %162 = load i32, ptr %cdw14.i, align 1
  %shr11.i = lshr i32 %162, 24
  %conv12.i = trunc i32 %shr11.i to i8
  %shr15.i529 = lshr i32 %158, 16
  %conv16.i = zext i32 %159 to i64
  %conv17.i530 = zext i32 %160 to i64
  %or.i531 = call i32 @llvm.fshl.i32(i32 %158, i32 %157, i32 16)
  %add.i532 = shl i32 %or.i531, 2
  %shl18.i = add i32 %add.i532, 4
  %shl20.i = shl nuw i64 %conv17.i530, 32
  %or21.i = or disjoint i64 %shl20.i, %conv16.i
  %and22.i = and i64 %conv16.i, 3
  %tobool.not.i533 = icmp eq i64 %and22.i, 0
  br i1 %tobool.not.i533, label %nvme_cid.exit.i535, label %if.then55

nvme_cid.exit.i535:                               ; preds = %sw.bb27.i
  %conv.i536 = trunc i32 %157 to i8
  %conv19.i = zext i32 %shl18.i to i64
  %shr.i537 = lshr i32 %157, 8
  %conv6.i = and i32 %shr.i537, 15
  %163 = load i16, ptr %cid43, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i526)
  %164 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i539 = icmp ne i32 %164, 0
  %165 = load i16, ptr @_TRACE_PCI_NVME_GET_LOG_DSTATE, align 2
  %tobool4.i.i.i540 = icmp ne i16 %165, 0
  %or.cond.i.i.i541 = select i1 %tobool.i.i.i539, i1 %tobool4.i.i.i540, i1 false
  br i1 %or.cond.i.i.i541, label %land.lhs.true5.i.i.i572, label %trace_pci_nvme_get_log.exit.i

land.lhs.true5.i.i.i572:                          ; preds = %nvme_cid.exit.i535
  %166 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i573 = and i32 %166, 32768
  %cmp.i.not.i.i.i574 = icmp eq i32 %and.i.i.i.i573, 0
  br i1 %cmp.i.not.i.i.i574, label %trace_pci_nvme_get_log.exit.i, label %if.then.i.i.i575

if.then.i.i.i575:                                 ; preds = %land.lhs.true5.i.i.i572
  %167 = load i8, ptr @message_with_timestamp, align 1
  %168 = and i8 %167, 1
  %tobool7.not.i.i.i576 = icmp eq i8 %168, 0
  br i1 %tobool7.not.i.i.i576, label %if.else.i.i.i584, label %if.then8.i.i.i577

if.then8.i.i.i577:                                ; preds = %if.then.i.i.i575
  %call9.i.i.i578 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i526, ptr noundef null) #17
  %call10.i.i.i579 = call i32 @qemu_get_thread_id() #17
  %169 = load i64, ptr %_now.i.i.i526, align 8
  %170 = load i64, ptr %tv_usec.i.i.i580, align 8
  %conv11.i.i.i581 = zext i16 %163 to i32
  %conv12.i.i.i582 = and i32 %157, 255
  %conv14.i.i.i583 = and i32 %shr7.i, 1
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.330, i32 noundef %call10.i.i.i579, i64 noundef %169, i64 noundef %170, i32 noundef %conv11.i.i.i581, i32 noundef %conv12.i.i.i582, i32 noundef %conv6.i, i32 noundef %conv14.i.i.i583, i32 noundef %shl18.i, i64 noundef %or21.i) #17
  br label %trace_pci_nvme_get_log.exit.i

if.else.i.i.i584:                                 ; preds = %if.then.i.i.i575
  %conv15.i.i.i585 = zext i16 %163 to i32
  %conv16.i.i.i586 = and i32 %157, 255
  %conv18.i.i.i587 = and i32 %shr7.i, 1
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.331, i32 noundef %conv15.i.i.i585, i32 noundef %conv16.i.i.i586, i32 noundef %conv6.i, i32 noundef %conv18.i.i.i587, i32 noundef %shl18.i, i64 noundef %or21.i) #17
  br label %trace_pci_nvme_get_log.exit.i

trace_pci_nvme_get_log.exit.i:                    ; preds = %if.else.i.i.i584, %if.then8.i.i.i577, %land.lhs.true5.i.i.i572, %nvme_cid.exit.i535
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i526)
  %171 = load i8, ptr %mdts1.i.i, align 16
  %tobool.not.i65.i = icmp eq i8 %171, 0
  br i1 %tobool.not.i65.i, label %if.end28.i545, label %land.lhs.true.i.i

land.lhs.true.i.i:                                ; preds = %trace_pci_nvme_get_log.exit.i
  %conv.i.i542 = zext nneg i8 %171 to i32
  %172 = load i32, ptr %page_size.i, align 4
  %shl.i.i543 = shl i32 %172, %conv.i.i542
  %cmp.i.i544 = icmp ult i32 %shl.i.i543, %shl18.i
  br i1 %cmp.i.i544, label %if.then.i.i558, label %if.end28.i545

if.then.i.i558:                                   ; preds = %land.lhs.true.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i.i525)
  %173 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i.i559 = icmp ne i32 %173, 0
  %174 = load i16, ptr @_TRACE_PCI_NVME_ERR_MDTS_DSTATE, align 2
  %tobool4.i.i.i.i560 = icmp ne i16 %174, 0
  %or.cond.i.i.i.i561 = select i1 %tobool.i.i.i.i559, i1 %tobool4.i.i.i.i560, i1 false
  br i1 %or.cond.i.i.i.i561, label %land.lhs.true5.i.i.i.i562, label %nvme_check_mdts.exit.i

land.lhs.true5.i.i.i.i562:                        ; preds = %if.then.i.i558
  %175 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i.i563 = and i32 %175, 32768
  %cmp.i.not.i.i.i.i564 = icmp eq i32 %and.i.i.i.i.i563, 0
  br i1 %cmp.i.not.i.i.i.i564, label %nvme_check_mdts.exit.i, label %if.then.i.i.i.i565

if.then.i.i.i.i565:                               ; preds = %land.lhs.true5.i.i.i.i562
  %176 = load i8, ptr @message_with_timestamp, align 1
  %177 = and i8 %176, 1
  %tobool7.not.i.i.i.i566 = icmp eq i8 %177, 0
  br i1 %tobool7.not.i.i.i.i566, label %if.else.i.i.i.i571, label %if.then8.i.i.i.i567

if.then8.i.i.i.i567:                              ; preds = %if.then.i.i.i.i565
  %call9.i.i.i.i568 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i.i525, ptr noundef null) #17
  %call10.i.i.i.i569 = call i32 @qemu_get_thread_id() #17
  %178 = load i64, ptr %_now.i.i.i.i525, align 8
  %179 = load i64, ptr %tv_usec.i.i.i.i570, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.199, i32 noundef %call10.i.i.i.i569, i64 noundef %178, i64 noundef %179, i64 noundef %conv19.i) #17
  br label %nvme_check_mdts.exit.i

if.else.i.i.i.i571:                               ; preds = %if.then.i.i.i.i565
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.200, i64 noundef %conv19.i) #17
  br label %nvme_check_mdts.exit.i

nvme_check_mdts.exit.i:                           ; preds = %if.else.i.i.i.i571, %if.then8.i.i.i.i567, %land.lhs.true5.i.i.i.i562, %if.then.i.i558
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i.i525)
  br label %if.then55

if.end28.i545:                                    ; preds = %land.lhs.true.i.i, %trace_pci_nvme_get_log.exit.i
  switch i8 %conv.i536, label %nvme_cid.exit71.i [
    i8 1, label %sw.bb.i557
    i8 2, label %sw.bb32.i556
    i8 3, label %sw.bb35.i555
    i8 4, label %sw.bb38.i554
    i8 5, label %sw.bb41.i553
    i8 9, label %sw.bb44.i552
    i8 32, label %sw.bb47.i550
    i8 33, label %sw.bb50.i549
    i8 34, label %sw.bb53.i547
    i8 35, label %sw.bb56.i546
  ]

sw.bb.i557:                                       ; preds = %if.end28.i545
  %call31.i = call fastcc zeroext i16 @nvme_error_info(ptr noundef nonnull %0, i8 noundef zeroext %conv9.i, i32 noundef %shl18.i, i64 noundef %or21.i, ptr noundef nonnull %28)
  br label %cond.end

sw.bb32.i556:                                     ; preds = %if.end28.i545
  %call34.i = call fastcc zeroext i16 @nvme_smart_info(ptr noundef nonnull %0, i8 noundef zeroext %conv9.i, i32 noundef %shl18.i, i64 noundef %or21.i, ptr noundef nonnull %28)
  br label %cond.end

sw.bb35.i555:                                     ; preds = %if.end28.i545
  %call37.i = call fastcc zeroext i16 @nvme_fw_log_info(ptr noundef nonnull %0, i32 noundef %shl18.i, i64 noundef %or21.i, ptr noundef nonnull %28)
  br label %cond.end

sw.bb38.i554:                                     ; preds = %if.end28.i545
  %call40.i = call fastcc zeroext i16 @nvme_changed_nslist(ptr noundef nonnull %0, i8 noundef zeroext %conv9.i, i32 noundef %shl18.i, i64 noundef %or21.i, ptr noundef nonnull %28)
  br label %cond.end

sw.bb41.i553:                                     ; preds = %if.end28.i545
  %call43.i = call fastcc zeroext i16 @nvme_cmd_effects(ptr noundef nonnull %0, i8 noundef zeroext %conv12.i, i32 noundef %shl18.i, i64 noundef %or21.i, ptr noundef nonnull %28)
  br label %cond.end

sw.bb44.i552:                                     ; preds = %if.end28.i545
  %call46.i = call fastcc zeroext i16 @nvme_endgrp_info(ptr noundef nonnull %0, i32 noundef %shl18.i, i64 noundef %or21.i, ptr noundef nonnull %28)
  br label %cond.end

sw.bb47.i550:                                     ; preds = %if.end28.i545
  %call49.i551 = call fastcc zeroext i16 @nvme_fdp_confs(ptr noundef nonnull %0, i32 noundef %shr15.i529, i32 noundef %shl18.i, i64 noundef %or21.i, ptr noundef nonnull %28)
  br label %cond.end

sw.bb50.i549:                                     ; preds = %if.end28.i545
  %call52.i = call fastcc zeroext i16 @nvme_fdp_ruh_usage(ptr noundef nonnull %0, i32 noundef %shr15.i529, i32 noundef %shl18.i, i64 noundef %or21.i, ptr noundef nonnull %28)
  br label %cond.end

sw.bb53.i547:                                     ; preds = %if.end28.i545
  %call55.i548 = call fastcc zeroext i16 @nvme_fdp_stats(ptr noundef nonnull %0, i32 noundef %shr15.i529, i32 noundef %shl18.i, i64 noundef %or21.i, ptr noundef nonnull %28)
  br label %cond.end

sw.bb56.i546:                                     ; preds = %if.end28.i545
  %call58.i = call fastcc zeroext i16 @nvme_fdp_events(ptr noundef nonnull %0, i32 noundef %shr15.i529, i32 noundef %shl18.i, i64 noundef %or21.i, ptr noundef nonnull %28)
  br label %cond.end

nvme_cid.exit71.i:                                ; preds = %if.end28.i545
  %180 = load i16, ptr %cid43, align 4
  %181 = trunc i32 %157 to i16
  %conv60.i = and i16 %181, 255
  call fastcc void @trace_pci_nvme_err_invalid_log_page(i16 noundef zeroext %180, i16 noundef zeroext %conv60.i)
  br label %if.then55

sw.bb29.i:                                        ; preds = %if.end20.i
  %182 = getelementptr i8, ptr %28, i64 96
  %req.val41.i = load i16, ptr %182, align 1
  %tobool.not.i491 = icmp eq i16 %req.val41.i, 0
  br i1 %tobool.not.i491, label %if.then.i496, label %lor.rhs.i492

lor.rhs.i492:                                     ; preds = %sw.bb29.i
  %conv.i.i493 = zext i16 %req.val41.i to i32
  %183 = load i32, ptr %conf_ioqpairs131.i, align 8
  %add.i.i494 = add i32 %183, 1
  %cmp.i.i495 = icmp ugt i32 %add.i.i494, %conv.i.i493
  br i1 %cmp.i.i495, label %nvme_check_cqid.exit.i, label %if.then.i496

nvme_check_cqid.exit.i:                           ; preds = %lor.rhs.i492
  %184 = load ptr, ptr %cq1, align 8
  %idxprom.i.i513 = zext i16 %req.val41.i to i64
  %arrayidx.i.i514 = getelementptr ptr, ptr %184, i64 %idxprom.i.i513
  %185 = load ptr, ptr %arrayidx.i.i514, align 8
  %cmp2.i.i515 = icmp eq ptr %185, null
  br i1 %cmp2.i.i515, label %if.then.i496, label %if.end.i516

if.then.i496:                                     ; preds = %nvme_check_cqid.exit.i, %lor.rhs.i492, %sw.bb29.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i490)
  %186 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i497 = icmp ne i32 %186, 0
  %187 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_DEL_CQ_CQID_DSTATE, align 2
  %tobool4.i.i.i498 = icmp ne i16 %187, 0
  %or.cond.i.i.i499 = select i1 %tobool.i.i.i497, i1 %tobool4.i.i.i498, i1 false
  br i1 %or.cond.i.i.i499, label %land.lhs.true5.i.i.i501, label %trace_pci_nvme_err_invalid_del_cq_cqid.exit.i

land.lhs.true5.i.i.i501:                          ; preds = %if.then.i496
  %188 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i502 = and i32 %188, 32768
  %cmp.i.not.i.i.i503 = icmp eq i32 %and.i.i.i.i502, 0
  br i1 %cmp.i.not.i.i.i503, label %trace_pci_nvme_err_invalid_del_cq_cqid.exit.i, label %if.then.i.i.i504

if.then.i.i.i504:                                 ; preds = %land.lhs.true5.i.i.i501
  %189 = load i8, ptr @message_with_timestamp, align 1
  %190 = and i8 %189, 1
  %tobool7.not.i.i.i505 = icmp eq i8 %190, 0
  br i1 %tobool7.not.i.i.i505, label %if.else.i.i.i511, label %if.then8.i.i.i506

if.then8.i.i.i506:                                ; preds = %if.then.i.i.i504
  %call9.i.i.i507 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i490, ptr noundef null) #17
  %call10.i.i.i508 = call i32 @qemu_get_thread_id() #17
  %191 = load i64, ptr %_now.i.i.i490, align 8
  %192 = load i64, ptr %tv_usec.i.i.i509, align 8
  %conv11.i.i.i510 = zext i16 %req.val41.i to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.341, i32 noundef %call10.i.i.i508, i64 noundef %191, i64 noundef %192, i32 noundef %conv11.i.i.i510) #17
  br label %trace_pci_nvme_err_invalid_del_cq_cqid.exit.i

if.else.i.i.i511:                                 ; preds = %if.then.i.i.i504
  %conv12.i.i.i512 = zext i16 %req.val41.i to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.342, i32 noundef %conv12.i.i.i512) #17
  br label %trace_pci_nvme_err_invalid_del_cq_cqid.exit.i

trace_pci_nvme_err_invalid_del_cq_cqid.exit.i:    ; preds = %if.else.i.i.i511, %if.then8.i.i.i506, %land.lhs.true5.i.i.i501, %if.then.i496
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i490)
  br label %if.then55

if.end.i516:                                      ; preds = %nvme_check_cqid.exit.i
  %sq_list.i = getelementptr inbounds %struct.NvmeCQueue, ptr %185, i64 0, i32 14
  %193 = load ptr, ptr %sq_list.i, align 8
  %cmp.not.i517 = icmp eq ptr %193, null
  br i1 %cmp.not.i517, label %if.end17.i, label %if.then16.i518

if.then16.i518:                                   ; preds = %if.end.i516
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i15.i)
  %194 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i16.i = icmp ne i32 %194, 0
  %195 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_DEL_CQ_NOTEMPTY_DSTATE, align 2
  %tobool4.i.i17.i = icmp ne i16 %195, 0
  %or.cond.i.i18.i = select i1 %tobool.i.i16.i, i1 %tobool4.i.i17.i, i1 false
  br i1 %or.cond.i.i18.i, label %land.lhs.true5.i.i19.i, label %trace_pci_nvme_err_invalid_del_cq_notempty.exit.i

land.lhs.true5.i.i19.i:                           ; preds = %if.then16.i518
  %196 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i20.i = and i32 %196, 32768
  %cmp.i.not.i.i21.i = icmp eq i32 %and.i.i.i20.i, 0
  br i1 %cmp.i.not.i.i21.i, label %trace_pci_nvme_err_invalid_del_cq_notempty.exit.i, label %if.then.i.i22.i

if.then.i.i22.i:                                  ; preds = %land.lhs.true5.i.i19.i
  %197 = load i8, ptr @message_with_timestamp, align 1
  %198 = and i8 %197, 1
  %tobool7.not.i.i23.i = icmp eq i8 %198, 0
  br i1 %tobool7.not.i.i23.i, label %if.else.i.i29.i, label %if.then8.i.i24.i

if.then8.i.i24.i:                                 ; preds = %if.then.i.i22.i
  %call9.i.i25.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i15.i, ptr noundef null) #17
  %call10.i.i26.i = call i32 @qemu_get_thread_id() #17
  %199 = load i64, ptr %_now.i.i15.i, align 8
  %200 = load i64, ptr %tv_usec.i.i27.i, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.343, i32 noundef %call10.i.i26.i, i64 noundef %199, i64 noundef %200, i32 noundef %conv.i.i493) #17
  br label %trace_pci_nvme_err_invalid_del_cq_notempty.exit.i

if.else.i.i29.i:                                  ; preds = %if.then.i.i22.i
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.344, i32 noundef %conv.i.i493) #17
  br label %trace_pci_nvme_err_invalid_del_cq_notempty.exit.i

trace_pci_nvme_err_invalid_del_cq_notempty.exit.i: ; preds = %if.else.i.i29.i, %if.then8.i.i24.i, %land.lhs.true5.i.i19.i, %if.then16.i518
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i15.i)
  br label %if.then55

if.end17.i:                                       ; preds = %if.end.i516
  %irq_enabled.i = getelementptr inbounds %struct.NvmeCQueue, ptr %185, i64 0, i32 3
  %201 = load i16, ptr %irq_enabled.i, align 4
  %tobool19.not.i519 = icmp eq i16 %201, 0
  br i1 %tobool19.not.i519, label %if.end23.i, label %land.lhs.true.i520

land.lhs.true.i520:                               ; preds = %if.end17.i
  %tail.i521 = getelementptr inbounds %struct.NvmeCQueue, ptr %185, i64 0, i32 5
  %202 = load i32, ptr %tail.i521, align 4
  %head.i522 = getelementptr inbounds %struct.NvmeCQueue, ptr %185, i64 0, i32 4
  %203 = load i32, ptr %head.i522, align 8
  %cmp20.not.i = icmp eq i32 %202, %203
  br i1 %cmp20.not.i, label %if.end23.i, label %if.then22.i523

if.then22.i523:                                   ; preds = %land.lhs.true.i520
  %204 = load i32, ptr %cq_pending.i, align 16
  %dec.i524 = add i32 %204, -1
  store i32 %dec.i524, ptr %cq_pending.i, align 16
  br label %if.end23.i

if.end23.i:                                       ; preds = %if.then22.i523, %land.lhs.true.i520, %if.end17.i
  call fastcc void @nvme_irq_deassert(ptr noundef nonnull %0, ptr noundef nonnull %185)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i31.i)
  %205 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i32.i = icmp ne i32 %205, 0
  %206 = load i16, ptr @_TRACE_PCI_NVME_DEL_CQ_DSTATE, align 2
  %tobool4.i.i33.i = icmp ne i16 %206, 0
  %or.cond.i.i34.i = select i1 %tobool.i.i32.i, i1 %tobool4.i.i33.i, i1 false
  br i1 %or.cond.i.i34.i, label %land.lhs.true5.i.i35.i, label %trace_pci_nvme_del_cq.exit.i

land.lhs.true5.i.i35.i:                           ; preds = %if.end23.i
  %207 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i36.i = and i32 %207, 32768
  %cmp.i.not.i.i37.i = icmp eq i32 %and.i.i.i36.i, 0
  br i1 %cmp.i.not.i.i37.i, label %trace_pci_nvme_del_cq.exit.i, label %if.then.i.i38.i

if.then.i.i38.i:                                  ; preds = %land.lhs.true5.i.i35.i
  %208 = load i8, ptr @message_with_timestamp, align 1
  %209 = and i8 %208, 1
  %tobool7.not.i.i39.i = icmp eq i8 %209, 0
  br i1 %tobool7.not.i.i39.i, label %if.else.i.i45.i, label %if.then8.i.i40.i

if.then8.i.i40.i:                                 ; preds = %if.then.i.i38.i
  %call9.i.i41.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i31.i, ptr noundef null) #17
  %call10.i.i42.i = call i32 @qemu_get_thread_id() #17
  %210 = load i64, ptr %_now.i.i31.i, align 8
  %211 = load i64, ptr %tv_usec.i.i43.i, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.345, i32 noundef %call10.i.i42.i, i64 noundef %210, i64 noundef %211, i32 noundef %conv.i.i493) #17
  br label %trace_pci_nvme_del_cq.exit.i

if.else.i.i45.i:                                  ; preds = %if.then.i.i38.i
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.346, i32 noundef %conv.i.i493) #17
  br label %trace_pci_nvme_del_cq.exit.i

trace_pci_nvme_del_cq.exit.i:                     ; preds = %if.else.i.i45.i, %if.then8.i.i40.i, %land.lhs.true5.i.i35.i, %if.end23.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i31.i)
  call fastcc void @nvme_free_cq(ptr noundef nonnull %185, ptr noundef nonnull %0)
  br label %if.then55

sw.bb31.i:                                        ; preds = %if.end20.i
  %cqid1.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 7
  %212 = load i16, ptr %cqid1.i, align 1
  %irq_vector.i = getelementptr inbounds i8, ptr %28, i64 102
  %213 = load i16, ptr %irq_vector.i, align 1
  %qsize3.i = getelementptr inbounds i8, ptr %28, i64 98
  %214 = load i16, ptr %qsize3.i, align 1
  %cq_flags.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 8
  %215 = load i16, ptr %cq_flags.i, align 1
  %prp16.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 6
  %216 = load i64, ptr %prp16.i, align 1
  %cc8.val.i = load i64, ptr %cc8.i, align 1
  %shr37.i = lshr i64 %cc8.val.i, 20
  %217 = trunc i64 %shr37.i to i8
  %conv10.i = and i8 %217, 15
  %shr1138.i = lshr i64 %cc8.val.i, 16
  %218 = trunc i64 %shr1138.i to i8
  %conv13.i = and i8 %218, 15
  %conv14.i = zext i16 %215 to i32
  %shr15.i = lshr i32 %conv14.i, 1
  %and16.i = and i32 %shr15.i, 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i451)
  %219 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i452 = icmp ne i32 %219, 0
  %220 = load i16, ptr @_TRACE_PCI_NVME_CREATE_CQ_DSTATE, align 2
  %tobool4.i.i.i453 = icmp ne i16 %220, 0
  %or.cond.i.i.i454 = select i1 %tobool.i.i.i452, i1 %tobool4.i.i.i453, i1 false
  br i1 %or.cond.i.i.i454, label %land.lhs.true5.i.i.i474, label %trace_pci_nvme_create_cq.exit.i

land.lhs.true5.i.i.i474:                          ; preds = %sw.bb31.i
  %221 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i475 = and i32 %221, 32768
  %cmp.i.not.i.i.i476 = icmp eq i32 %and.i.i.i.i475, 0
  br i1 %cmp.i.not.i.i.i476, label %trace_pci_nvme_create_cq.exit.i, label %if.then.i.i.i477

if.then.i.i.i477:                                 ; preds = %land.lhs.true5.i.i.i474
  %222 = load i8, ptr @message_with_timestamp, align 1
  %223 = and i8 %222, 1
  %tobool7.not.i.i.i478 = icmp eq i8 %223, 0
  br i1 %tobool7.not.i.i.i478, label %if.else.i.i.i486, label %if.then8.i.i.i479

if.then8.i.i.i479:                                ; preds = %if.then.i.i.i477
  %call9.i.i.i480 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i451, ptr noundef null) #17
  %call10.i.i.i481 = call i32 @qemu_get_thread_id() #17
  %224 = load i64, ptr %_now.i.i.i451, align 8
  %225 = load i64, ptr %tv_usec.i.i.i482, align 8
  %conv11.i.i.i483 = zext i16 %212 to i32
  %conv12.i.i.i484 = zext i16 %213 to i32
  %conv13.i.i.i485 = zext i16 %214 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.347, i32 noundef %call10.i.i.i481, i64 noundef %224, i64 noundef %225, i64 noundef %216, i32 noundef %conv11.i.i.i483, i32 noundef %conv12.i.i.i484, i32 noundef %conv13.i.i.i485, i32 noundef %conv14.i, i32 noundef %and16.i) #17
  br label %trace_pci_nvme_create_cq.exit.i

if.else.i.i.i486:                                 ; preds = %if.then.i.i.i477
  %conv15.i.i.i487 = zext i16 %212 to i32
  %conv16.i.i.i488 = zext i16 %213 to i32
  %conv17.i.i.i489 = zext i16 %214 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.348, i64 noundef %216, i32 noundef %conv15.i.i.i487, i32 noundef %conv16.i.i.i488, i32 noundef %conv17.i.i.i489, i32 noundef %conv14.i, i32 noundef %and16.i) #17
  br label %trace_pci_nvme_create_cq.exit.i

trace_pci_nvme_create_cq.exit.i:                  ; preds = %if.else.i.i.i486, %if.then8.i.i.i479, %land.lhs.true5.i.i.i474, %sw.bb31.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i451)
  %cmp19.i = icmp ne i8 %conv13.i, 6
  %cmp22.i = icmp ne i8 %conv10.i, 4
  %or.cond.i455 = select i1 %cmp19.i, i1 true, i1 %cmp22.i
  br i1 %or.cond.i455, label %if.then.i473, label %if.end.i456

if.then.i473:                                     ; preds = %trace_pci_nvme_create_cq.exit.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i39.i)
  %226 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i40.i = icmp ne i32 %226, 0
  %227 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_CREATE_CQ_ENTRY_SIZE_DSTATE, align 2
  %tobool4.i.i41.i = icmp ne i16 %227, 0
  %or.cond.i.i42.i = select i1 %tobool.i.i40.i, i1 %tobool4.i.i41.i, i1 false
  br i1 %or.cond.i.i42.i, label %land.lhs.true5.i.i43.i, label %trace_pci_nvme_err_invalid_create_cq_entry_size.exit.i

land.lhs.true5.i.i43.i:                           ; preds = %if.then.i473
  %228 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i44.i = and i32 %228, 32768
  %cmp.i.not.i.i45.i = icmp eq i32 %and.i.i.i44.i, 0
  br i1 %cmp.i.not.i.i45.i, label %trace_pci_nvme_err_invalid_create_cq_entry_size.exit.i, label %if.then.i.i46.i

if.then.i.i46.i:                                  ; preds = %land.lhs.true5.i.i43.i
  %229 = load i8, ptr @message_with_timestamp, align 1
  %230 = and i8 %229, 1
  %tobool7.not.i.i47.i = icmp eq i8 %230, 0
  br i1 %tobool7.not.i.i47.i, label %if.else.i.i54.i, label %if.then8.i.i48.i

if.then8.i.i48.i:                                 ; preds = %if.then.i.i46.i
  %call9.i.i49.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i39.i, ptr noundef null) #17
  %call10.i.i50.i = call i32 @qemu_get_thread_id() #17
  %231 = load i64, ptr %_now.i.i39.i, align 8
  %232 = load i64, ptr %tv_usec.i.i51.i, align 8
  %conv11.i.i52.i = zext nneg i8 %conv13.i to i32
  %conv12.i.i53.i = zext nneg i8 %conv10.i to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.349, i32 noundef %call10.i.i50.i, i64 noundef %231, i64 noundef %232, i32 noundef %conv11.i.i52.i, i32 noundef %conv12.i.i53.i) #17
  br label %trace_pci_nvme_err_invalid_create_cq_entry_size.exit.i

if.else.i.i54.i:                                  ; preds = %if.then.i.i46.i
  %conv13.i.i55.i = zext nneg i8 %conv13.i to i32
  %conv14.i.i56.i = zext nneg i8 %conv10.i to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.350, i32 noundef %conv13.i.i55.i, i32 noundef %conv14.i.i56.i) #17
  br label %trace_pci_nvme_err_invalid_create_cq_entry_size.exit.i

trace_pci_nvme_err_invalid_create_cq_entry_size.exit.i: ; preds = %if.else.i.i54.i, %if.then8.i.i48.i, %land.lhs.true5.i.i43.i, %if.then.i473
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i39.i)
  br label %if.then55

if.end.i456:                                      ; preds = %trace_pci_nvme_create_cq.exit.i
  %tobool.not.i457 = icmp eq i16 %212, 0
  br i1 %tobool.not.i457, label %if.then34.i, label %lor.lhs.false24.i

lor.lhs.false24.i:                                ; preds = %if.end.i456
  %conv25.i = zext i16 %212 to i32
  %233 = load i32, ptr %conf_ioqpairs131.i, align 8
  %cmp26.i = icmp ult i32 %233, %conv25.i
  br i1 %cmp26.i, label %if.then34.i, label %lor.rhs.i

lor.rhs.i:                                        ; preds = %lor.lhs.false24.i
  %234 = load ptr, ptr %cq1, align 8
  %idxprom.i459 = zext i16 %212 to i64
  %arrayidx.i460 = getelementptr ptr, ptr %234, i64 %idxprom.i459
  %235 = load ptr, ptr %arrayidx.i460, align 8
  %cmp29.not.i = icmp eq ptr %235, null
  br i1 %cmp29.not.i, label %if.end35.i, label %if.then34.i

if.then34.i:                                      ; preds = %lor.rhs.i, %lor.lhs.false24.i, %if.end.i456
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i57.i)
  %236 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i58.i = icmp ne i32 %236, 0
  %237 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_CREATE_CQ_CQID_DSTATE, align 2
  %tobool4.i.i59.i = icmp ne i16 %237, 0
  %or.cond.i.i60.i = select i1 %tobool.i.i58.i, i1 %tobool4.i.i59.i, i1 false
  br i1 %or.cond.i.i60.i, label %land.lhs.true5.i.i61.i, label %trace_pci_nvme_err_invalid_create_cq_cqid.exit.i

land.lhs.true5.i.i61.i:                           ; preds = %if.then34.i
  %238 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i62.i = and i32 %238, 32768
  %cmp.i.not.i.i63.i = icmp eq i32 %and.i.i.i62.i, 0
  br i1 %cmp.i.not.i.i63.i, label %trace_pci_nvme_err_invalid_create_cq_cqid.exit.i, label %if.then.i.i64.i

if.then.i.i64.i:                                  ; preds = %land.lhs.true5.i.i61.i
  %239 = load i8, ptr @message_with_timestamp, align 1
  %240 = and i8 %239, 1
  %tobool7.not.i.i65.i = icmp eq i8 %240, 0
  br i1 %tobool7.not.i.i65.i, label %if.else.i.i71.i, label %if.then8.i.i66.i

if.then8.i.i66.i:                                 ; preds = %if.then.i.i64.i
  %call9.i.i67.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i57.i, ptr noundef null) #17
  %call10.i.i68.i = call i32 @qemu_get_thread_id() #17
  %241 = load i64, ptr %_now.i.i57.i, align 8
  %242 = load i64, ptr %tv_usec.i.i69.i, align 8
  %conv11.i.i70.i = zext i16 %212 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.351, i32 noundef %call10.i.i68.i, i64 noundef %241, i64 noundef %242, i32 noundef %conv11.i.i70.i) #17
  br label %trace_pci_nvme_err_invalid_create_cq_cqid.exit.i

if.else.i.i71.i:                                  ; preds = %if.then.i.i64.i
  %conv12.i.i72.i = zext i16 %212 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.352, i32 noundef %conv12.i.i72.i) #17
  br label %trace_pci_nvme_err_invalid_create_cq_cqid.exit.i

trace_pci_nvme_err_invalid_create_cq_cqid.exit.i: ; preds = %if.else.i.i71.i, %if.then8.i.i66.i, %land.lhs.true5.i.i61.i, %if.then34.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i57.i)
  br label %if.then55

if.end35.i:                                       ; preds = %lor.rhs.i
  %tobool36.not.i462 = icmp eq i16 %214, 0
  br i1 %tobool36.not.i462, label %if.then52.i, label %lor.rhs37.i

lor.rhs37.i:                                      ; preds = %if.end35.i
  %conv38.i = zext i16 %214 to i64
  %bar.val.i = load i64, ptr %bar.i, align 1
  %and42.i = and i64 %bar.val.i, 65535
  %cmp43.i = icmp ult i64 %and42.i, %conv38.i
  br i1 %cmp43.i, label %if.then52.i, label %if.end53.i463

if.then52.i:                                      ; preds = %lor.rhs37.i, %if.end35.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i73.i)
  %243 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i74.i = icmp ne i32 %243, 0
  %244 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_CREATE_CQ_SIZE_DSTATE, align 2
  %tobool4.i.i75.i = icmp ne i16 %244, 0
  %or.cond.i.i76.i = select i1 %tobool.i.i74.i, i1 %tobool4.i.i75.i, i1 false
  br i1 %or.cond.i.i76.i, label %land.lhs.true5.i.i77.i, label %trace_pci_nvme_err_invalid_create_cq_size.exit.i

land.lhs.true5.i.i77.i:                           ; preds = %if.then52.i
  %245 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i78.i = and i32 %245, 32768
  %cmp.i.not.i.i79.i = icmp eq i32 %and.i.i.i78.i, 0
  br i1 %cmp.i.not.i.i79.i, label %trace_pci_nvme_err_invalid_create_cq_size.exit.i, label %if.then.i.i80.i

if.then.i.i80.i:                                  ; preds = %land.lhs.true5.i.i77.i
  %246 = load i8, ptr @message_with_timestamp, align 1
  %247 = and i8 %246, 1
  %tobool7.not.i.i81.i = icmp eq i8 %247, 0
  br i1 %tobool7.not.i.i81.i, label %if.else.i.i87.i, label %if.then8.i.i82.i

if.then8.i.i82.i:                                 ; preds = %if.then.i.i80.i
  %call9.i.i83.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i73.i, ptr noundef null) #17
  %call10.i.i84.i = call i32 @qemu_get_thread_id() #17
  %248 = load i64, ptr %_now.i.i73.i, align 8
  %249 = load i64, ptr %tv_usec.i.i85.i, align 8
  %conv11.i.i86.i = zext i16 %214 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.353, i32 noundef %call10.i.i84.i, i64 noundef %248, i64 noundef %249, i32 noundef %conv11.i.i86.i) #17
  br label %trace_pci_nvme_err_invalid_create_cq_size.exit.i

if.else.i.i87.i:                                  ; preds = %if.then.i.i80.i
  %conv12.i.i88.i = zext i16 %214 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.354, i32 noundef %conv12.i.i88.i) #17
  br label %trace_pci_nvme_err_invalid_create_cq_size.exit.i

trace_pci_nvme_err_invalid_create_cq_size.exit.i: ; preds = %if.else.i.i87.i, %if.then8.i.i82.i, %land.lhs.true5.i.i77.i, %if.then52.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i73.i)
  br label %if.then55

if.end53.i463:                                    ; preds = %lor.rhs37.i
  %250 = load i32, ptr %page_size.i, align 4
  %sub.i465 = add i32 %250, -1
  %conv54.i = zext i32 %sub.i465 to i64
  %and55.i = and i64 %216, %conv54.i
  %tobool56.not.i = icmp eq i64 %and55.i, 0
  br i1 %tobool56.not.i, label %if.end64.i, label %if.then63.i

if.then63.i:                                      ; preds = %if.end53.i463
  call fastcc void @trace_pci_nvme_err_invalid_create_cq_addr(i64 noundef %216)
  br label %if.then55

if.end64.i:                                       ; preds = %if.end53.i463
  %call.i.i466 = call ptr @object_dynamic_cast_assert(ptr noundef nonnull %0, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %call66.i = call i32 @msix_enabled(ptr noundef %call.i.i466) #17
  %tobool67.not.i467 = icmp eq i32 %call66.i, 0
  %tobool69.i = icmp ne i16 %213, 0
  %251 = select i1 %tobool67.not.i467, i1 %tobool69.i, i1 false
  br i1 %251, label %if.then76.i, label %if.end77.i

if.then76.i:                                      ; preds = %if.end64.i
  call fastcc void @trace_pci_nvme_err_invalid_create_cq_vector(i16 noundef zeroext %213)
  br label %if.then55

if.end77.i:                                       ; preds = %if.end64.i
  %conv68.i = zext i16 %213 to i32
  %252 = load i32, ptr %conf_msix_qsize.i, align 4
  %cmp79.not.i468 = icmp ugt i32 %252, %conv68.i
  br i1 %cmp79.not.i468, label %if.end88.i, label %if.then87.i

if.then87.i:                                      ; preds = %if.end77.i
  call fastcc void @trace_pci_nvme_err_invalid_create_cq_vector(i16 noundef zeroext %213)
  br label %if.then55

if.end88.i:                                       ; preds = %if.end77.i
  %and90.i = and i32 %conv14.i, 1
  %tobool91.not.i = icmp eq i32 %and90.i, 0
  br i1 %tobool91.not.i, label %if.then100.i, label %if.end104.i469

if.then100.i:                                     ; preds = %if.end88.i
  call fastcc void @trace_pci_nvme_err_invalid_create_cq_qflags(i16 noundef zeroext 0)
  br label %if.then55

if.end104.i469:                                   ; preds = %if.end88.i
  %call105.i470 = call noalias dereferenceable_or_null(112) ptr @g_malloc0(i64 noundef 112) #20
  %add.i471 = add i16 %214, 1
  %conv111.i = trunc i32 %and16.i to i16
  call fastcc void @nvme_init_cq(ptr noundef %call105.i470, ptr noundef nonnull %0, i64 noundef %216, i16 noundef zeroext %212, i16 noundef zeroext %213, i16 noundef zeroext %add.i471, i16 noundef zeroext %conv111.i)
  store i8 1, ptr %qs_created.i, align 2
  br label %if.then55

nvme_cid.exit.i402:                               ; preds = %if.end20.i
  %253 = load i16, ptr %cid43, align 4
  %cns.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 7
  %254 = load i8, ptr %cns.i, align 1
  %ctrlid.i = getelementptr inbounds i8, ptr %28, i64 98
  %255 = load i16, ptr %ctrlid.i, align 1
  %csi.i = getelementptr inbounds i8, ptr %28, i64 103
  %256 = load i8, ptr %csi.i, align 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i398)
  %257 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i404 = icmp ne i32 %257, 0
  %258 = load i16, ptr @_TRACE_PCI_NVME_IDENTIFY_DSTATE, align 2
  %tobool4.i.i.i405 = icmp ne i16 %258, 0
  %or.cond.i.i.i406 = select i1 %tobool.i.i.i404, i1 %tobool4.i.i.i405, i1 false
  br i1 %or.cond.i.i.i406, label %land.lhs.true5.i.i.i435, label %trace_pci_nvme_identify.exit.i

land.lhs.true5.i.i.i435:                          ; preds = %nvme_cid.exit.i402
  %259 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i436 = and i32 %259, 32768
  %cmp.i.not.i.i.i437 = icmp eq i32 %and.i.i.i.i436, 0
  br i1 %cmp.i.not.i.i.i437, label %trace_pci_nvme_identify.exit.i, label %if.then.i.i.i438

if.then.i.i.i438:                                 ; preds = %land.lhs.true5.i.i.i435
  %260 = load i8, ptr @message_with_timestamp, align 1
  %261 = and i8 %260, 1
  %tobool7.not.i.i.i439 = icmp eq i8 %261, 0
  br i1 %tobool7.not.i.i.i439, label %if.else.i.i.i448, label %if.then8.i.i.i440

if.then8.i.i.i440:                                ; preds = %if.then.i.i.i438
  %call9.i.i.i441 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i398, ptr noundef null) #17
  %call10.i.i.i442 = call i32 @qemu_get_thread_id() #17
  %262 = load i64, ptr %_now.i.i.i398, align 8
  %263 = load i64, ptr %tv_usec.i.i.i443, align 8
  %conv11.i.i.i444 = zext i16 %253 to i32
  %conv12.i.i.i445 = zext i8 %254 to i32
  %conv13.i.i.i446 = zext i16 %255 to i32
  %conv14.i.i.i447 = zext i8 %256 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.361, i32 noundef %call10.i.i.i442, i64 noundef %262, i64 noundef %263, i32 noundef %conv11.i.i.i444, i32 noundef %conv12.i.i.i445, i32 noundef %conv13.i.i.i446, i32 noundef %conv14.i.i.i447) #17
  br label %trace_pci_nvme_identify.exit.i

if.else.i.i.i448:                                 ; preds = %if.then.i.i.i438
  %conv15.i.i.i449 = zext i16 %253 to i32
  %conv16.i.i.i450 = zext i8 %254 to i32
  %conv17.i.i.i = zext i16 %255 to i32
  %conv18.i.i.i = zext i8 %256 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.362, i32 noundef %conv15.i.i.i449, i32 noundef %conv16.i.i.i450, i32 noundef %conv17.i.i.i, i32 noundef %conv18.i.i.i) #17
  br label %trace_pci_nvme_identify.exit.i

trace_pci_nvme_identify.exit.i:                   ; preds = %if.else.i.i.i448, %if.then8.i.i.i440, %land.lhs.true5.i.i.i435, %nvme_cid.exit.i402
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i398)
  %264 = load i8, ptr %cns.i, align 1
  switch i8 %264, label %sw.default.i434 [
    i8 0, label %sw.bb.i433
    i8 17, label %sw.bb4.i
    i8 18, label %sw.bb6.i
    i8 19, label %sw.bb8.i
    i8 20, label %sw.bb10.i
    i8 21, label %sw.bb12.i
    i8 5, label %sw.bb14.i
    i8 27, label %sw.bb16.i
    i8 1, label %sw.bb18.i
    i8 6, label %sw.bb20.i419
    i8 2, label %sw.bb22.i417
    i8 16, label %sw.bb24.i415
    i8 7, label %sw.bb26.i
    i8 26, label %sw.bb28.i
    i8 3, label %sw.bb30.i
    i8 28, label %sw.bb32.i
  ]

sw.bb.i433:                                       ; preds = %trace_pci_nvme_identify.exit.i
  %call3.i = call fastcc zeroext i16 @nvme_identify_ns(ptr noundef nonnull %0, ptr noundef nonnull %28, i1 noundef zeroext true)
  br label %cond.end

sw.bb4.i:                                         ; preds = %trace_pci_nvme_identify.exit.i
  %call5.i = call fastcc zeroext i16 @nvme_identify_ns(ptr noundef nonnull %0, ptr noundef nonnull %28, i1 noundef zeroext false)
  br label %cond.end

sw.bb6.i:                                         ; preds = %trace_pci_nvme_identify.exit.i
  %call7.i = call fastcc zeroext i16 @nvme_identify_ctrl_list(ptr noundef nonnull %0, ptr noundef nonnull %28, i1 noundef zeroext true)
  br label %cond.end

sw.bb8.i:                                         ; preds = %trace_pci_nvme_identify.exit.i
  %call9.i = call fastcc zeroext i16 @nvme_identify_ctrl_list(ptr noundef nonnull %0, ptr noundef nonnull %28, i1 noundef zeroext false)
  br label %cond.end

sw.bb10.i:                                        ; preds = %trace_pci_nvme_identify.exit.i
  %265 = load i16, ptr %pri_ctrl_cap.i38.i, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i.i)
  %266 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i.i = icmp ne i32 %266, 0
  %267 = load i16, ptr @_TRACE_PCI_NVME_IDENTIFY_PRI_CTRL_CAP_DSTATE, align 2
  %tobool4.i.i.i.i = icmp ne i16 %267, 0
  %or.cond.i.i.i.i = select i1 %tobool.i.i.i.i, i1 %tobool4.i.i.i.i, i1 false
  br i1 %or.cond.i.i.i.i, label %land.lhs.true5.i.i.i.i, label %trace_pci_nvme_identify_pri_ctrl_cap.exit.i.i

land.lhs.true5.i.i.i.i:                           ; preds = %sw.bb10.i
  %268 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i.i = and i32 %268, 32768
  %cmp.i.not.i.i.i.i = icmp eq i32 %and.i.i.i.i.i, 0
  br i1 %cmp.i.not.i.i.i.i, label %trace_pci_nvme_identify_pri_ctrl_cap.exit.i.i, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %land.lhs.true5.i.i.i.i
  %269 = load i8, ptr @message_with_timestamp, align 1
  %270 = and i8 %269, 1
  %tobool7.not.i.i.i.i = icmp eq i8 %270, 0
  br i1 %tobool7.not.i.i.i.i, label %if.else.i.i.i.i, label %if.then8.i.i.i.i

if.then8.i.i.i.i:                                 ; preds = %if.then.i.i.i.i
  %call9.i.i.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i.i, ptr noundef null) #17
  %call10.i.i.i.i = call i32 @qemu_get_thread_id() #17
  %271 = load i64, ptr %_now.i.i.i.i, align 8
  %272 = load i64, ptr %tv_usec.i.i.i.i, align 8
  %conv11.i.i.i.i = zext i16 %265 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.367, i32 noundef %call10.i.i.i.i, i64 noundef %271, i64 noundef %272, i32 noundef %conv11.i.i.i.i) #17
  br label %trace_pci_nvme_identify_pri_ctrl_cap.exit.i.i

if.else.i.i.i.i:                                  ; preds = %if.then.i.i.i.i
  %conv12.i.i.i.i = zext i16 %265 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.368, i32 noundef %conv12.i.i.i.i) #17
  br label %trace_pci_nvme_identify_pri_ctrl_cap.exit.i.i

trace_pci_nvme_identify_pri_ctrl_cap.exit.i.i:    ; preds = %if.else.i.i.i.i, %if.then8.i.i.i.i, %land.lhs.true5.i.i.i.i, %sw.bb10.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i.i)
  %sg.i.i.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 8
  %call.i.i.i = call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %0, ptr noundef nonnull %sg.i.i.i, i64 noundef 4096, ptr noundef nonnull %cmd44)
  %tobool.not.i.i.i432 = icmp eq i16 %call.i.i.i, 0
  br i1 %tobool.not.i.i.i432, label %if.end.i.i.i, label %cond.end

if.end.i.i.i:                                     ; preds = %trace_pci_nvme_identify_pri_ctrl_cap.exit.i.i
  %call2.i.i.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i.i.i, ptr noundef nonnull %pri_ctrl_cap.i38.i, i32 noundef 4096, i32 noundef 1)
  br label %cond.end

sw.bb12.i:                                        ; preds = %trace_pci_nvme_identify.exit.i
  call void @llvm.lifetime.start.p0(i64 4096, ptr nonnull %list.i.i)
  %273 = load i16, ptr %pri_ctrl_cap.i38.i, align 8
  %274 = load i16, ptr %ctrlid.i, align 1
  %275 = load i8, ptr %sec_ctrl_list.i.i.i, align 8
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 1 dereferenceable(4096) %list.i.i, i8 0, i64 4096, i1 false)
  %cmp12.not.i.i = icmp eq i8 %275, 0
  br i1 %cmp12.not.i.i, label %for.end.i.i, label %for.body.preheader.i.i

for.body.preheader.i.i:                           ; preds = %sw.bb12.i
  %wide.trip.count.i.i = zext i8 %275 to i64
  br label %for.body.i.i

for.body.i.i:                                     ; preds = %for.inc.i.i429, %for.body.preheader.i.i
  %indvars.iv.i.i424 = phi i64 [ 0, %for.body.preheader.i.i ], [ %indvars.iv.next.i.i430, %for.inc.i.i429 ]
  %arrayidx.i.i425 = getelementptr %struct.NvmeCtrl, ptr %0, i64 0, i32 43, i32 2, i64 %indvars.iv.i.i424
  %276 = load i16, ptr %arrayidx.i.i425, align 8
  %cmp7.not.i.i = icmp ult i16 %276, %274
  br i1 %cmp7.not.i.i, label %for.inc.i.i429, label %if.then.i.i426

if.then.i.i426:                                   ; preds = %for.body.i.i
  %277 = trunc i64 %indvars.iv.i.i424 to i8
  %sub.i.i427 = sub i8 %275, %277
  store i8 %sub.i.i427, ptr %list.i.i, align 1
  %add.ptr.i.i428 = getelementptr %struct.NvmeSecCtrlEntry, ptr %sec.i.i, i64 %indvars.iv.i.i424
  %conv18.i.i = zext i8 %sub.i.i427 to i64
  %mul.i.i = shl nuw nsw i64 %conv18.i.i, 5
  call void @llvm.memcpy.p0.p0.i64(ptr nonnull align 1 %sec13.i.i, ptr align 1 %add.ptr.i.i428, i64 %mul.i.i, i1 false)
  %278 = zext i8 %sub.i.i427 to i32
  br label %for.end.i.i

for.inc.i.i429:                                   ; preds = %for.body.i.i
  %indvars.iv.next.i.i430 = add nuw nsw i64 %indvars.iv.i.i424, 1
  %exitcond.not.i.i431 = icmp eq i64 %indvars.iv.next.i.i430, %wide.trip.count.i.i
  br i1 %exitcond.not.i.i431, label %for.end.i.i, label %for.body.i.i, !llvm.loop !34

for.end.i.i:                                      ; preds = %for.inc.i.i429, %if.then.i.i426, %sw.bb12.i
  %conv14.i.i.i.i = phi i32 [ 0, %sw.bb12.i ], [ %278, %if.then.i.i426 ], [ 0, %for.inc.i.i429 ]
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i37.i)
  %279 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i39.i = icmp ne i32 %279, 0
  %280 = load i16, ptr @_TRACE_PCI_NVME_IDENTIFY_SEC_CTRL_LIST_DSTATE, align 2
  %tobool4.i.i.i40.i = icmp ne i16 %280, 0
  %or.cond.i.i.i41.i = select i1 %tobool.i.i.i39.i, i1 %tobool4.i.i.i40.i, i1 false
  br i1 %or.cond.i.i.i41.i, label %land.lhs.true5.i.i.i49.i, label %trace_pci_nvme_identify_sec_ctrl_list.exit.i.i

land.lhs.true5.i.i.i49.i:                         ; preds = %for.end.i.i
  %281 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i50.i = and i32 %281, 32768
  %cmp.i.not.i.i.i51.i = icmp eq i32 %and.i.i.i.i50.i, 0
  br i1 %cmp.i.not.i.i.i51.i, label %trace_pci_nvme_identify_sec_ctrl_list.exit.i.i, label %if.then.i.i.i52.i

if.then.i.i.i52.i:                                ; preds = %land.lhs.true5.i.i.i49.i
  %282 = load i8, ptr @message_with_timestamp, align 1
  %283 = and i8 %282, 1
  %tobool7.not.i.i.i53.i = icmp eq i8 %283, 0
  br i1 %tobool7.not.i.i.i53.i, label %if.else.i.i.i59.i, label %if.then8.i.i.i54.i

if.then8.i.i.i54.i:                               ; preds = %if.then.i.i.i52.i
  %call9.i.i.i55.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i37.i, ptr noundef null) #17
  %call10.i.i.i56.i = call i32 @qemu_get_thread_id() #17
  %284 = load i64, ptr %_now.i.i.i37.i, align 8
  %285 = load i64, ptr %tv_usec.i.i.i57.i, align 8
  %conv11.i.i.i58.i = zext i16 %273 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.369, i32 noundef %call10.i.i.i56.i, i64 noundef %284, i64 noundef %285, i32 noundef %conv11.i.i.i58.i, i32 noundef %conv14.i.i.i.i) #17
  br label %trace_pci_nvme_identify_sec_ctrl_list.exit.i.i

if.else.i.i.i59.i:                                ; preds = %if.then.i.i.i52.i
  %conv13.i.i.i.i = zext i16 %273 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.370, i32 noundef %conv13.i.i.i.i, i32 noundef %conv14.i.i.i.i) #17
  br label %trace_pci_nvme_identify_sec_ctrl_list.exit.i.i

trace_pci_nvme_identify_sec_ctrl_list.exit.i.i:   ; preds = %if.else.i.i.i59.i, %if.then8.i.i.i54.i, %land.lhs.true5.i.i.i49.i, %for.end.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i37.i)
  %sg.i.i42.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 8
  %call.i.i44.i = call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %0, ptr noundef nonnull %sg.i.i42.i, i64 noundef 4096, ptr noundef nonnull %cmd44)
  %tobool.not.i.i45.i = icmp eq i16 %call.i.i44.i, 0
  br i1 %tobool.not.i.i45.i, label %if.end.i.i47.i, label %nvme_identify_sec_ctrl_list.exit.i

if.end.i.i47.i:                                   ; preds = %trace_pci_nvme_identify_sec_ctrl_list.exit.i.i
  %call2.i.i48.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i.i42.i, ptr noundef nonnull %list.i.i, i32 noundef 4096, i32 noundef 1)
  br label %nvme_identify_sec_ctrl_list.exit.i

nvme_identify_sec_ctrl_list.exit.i:               ; preds = %if.end.i.i47.i, %trace_pci_nvme_identify_sec_ctrl_list.exit.i.i
  %retval.0.i.i46.i = phi i16 [ %call2.i.i48.i, %if.end.i.i47.i ], [ %call.i.i44.i, %trace_pci_nvme_identify_sec_ctrl_list.exit.i.i ]
  call void @llvm.lifetime.end.p0(i64 4096, ptr nonnull %list.i.i)
  br label %cond.end

sw.bb14.i:                                        ; preds = %trace_pci_nvme_identify.exit.i
  %call15.i423 = call fastcc zeroext i16 @nvme_identify_ns_csi(ptr noundef nonnull %0, ptr noundef nonnull %28, i1 noundef zeroext true)
  br label %cond.end

sw.bb16.i:                                        ; preds = %trace_pci_nvme_identify.exit.i
  %call17.i = call fastcc zeroext i16 @nvme_identify_ns_csi(ptr noundef nonnull %0, ptr noundef nonnull %28, i1 noundef zeroext false)
  br label %cond.end

sw.bb18.i:                                        ; preds = %trace_pci_nvme_identify.exit.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i60.i)
  %286 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i61.i = icmp ne i32 %286, 0
  %287 = load i16, ptr @_TRACE_PCI_NVME_IDENTIFY_CTRL_DSTATE, align 2
  %tobool4.i.i.i62.i = icmp ne i16 %287, 0
  %or.cond.i.i.i63.i = select i1 %tobool.i.i.i61.i, i1 %tobool4.i.i.i62.i, i1 false
  br i1 %or.cond.i.i.i63.i, label %land.lhs.true5.i.i.i71.i, label %trace_pci_nvme_identify_ctrl.exit.i.i

land.lhs.true5.i.i.i71.i:                         ; preds = %sw.bb18.i
  %288 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i72.i = and i32 %288, 32768
  %cmp.i.not.i.i.i73.i = icmp eq i32 %and.i.i.i.i72.i, 0
  br i1 %cmp.i.not.i.i.i73.i, label %trace_pci_nvme_identify_ctrl.exit.i.i, label %if.then.i.i.i74.i

if.then.i.i.i74.i:                                ; preds = %land.lhs.true5.i.i.i71.i
  %289 = load i8, ptr @message_with_timestamp, align 1
  %290 = and i8 %289, 1
  %tobool7.not.i.i.i75.i = icmp eq i8 %290, 0
  br i1 %tobool7.not.i.i.i75.i, label %if.else.i.i.i80.i, label %if.then8.i.i.i76.i

if.then8.i.i.i76.i:                               ; preds = %if.then.i.i.i74.i
  %call9.i.i.i77.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i60.i, ptr noundef null) #17
  %call10.i.i.i78.i = call i32 @qemu_get_thread_id() #17
  %291 = load i64, ptr %_now.i.i.i60.i, align 8
  %292 = load i64, ptr %tv_usec.i.i.i79.i, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.373, i32 noundef %call10.i.i.i78.i, i64 noundef %291, i64 noundef %292) #17
  br label %trace_pci_nvme_identify_ctrl.exit.i.i

if.else.i.i.i80.i:                                ; preds = %if.then.i.i.i74.i
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.374) #17
  br label %trace_pci_nvme_identify_ctrl.exit.i.i

trace_pci_nvme_identify_ctrl.exit.i.i:            ; preds = %if.else.i.i.i80.i, %if.then8.i.i.i76.i, %land.lhs.true5.i.i.i71.i, %sw.bb18.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i60.i)
  %sg.i.i64.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 8
  %call.i.i66.i = call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %0, ptr noundef nonnull %sg.i.i64.i, i64 noundef 4096, ptr noundef nonnull %cmd44)
  %tobool.not.i.i67.i = icmp eq i16 %call.i.i66.i, 0
  br i1 %tobool.not.i.i67.i, label %if.end.i.i69.i, label %cond.end

if.end.i.i69.i:                                   ; preds = %trace_pci_nvme_identify_ctrl.exit.i.i
  %call2.i.i70.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i.i64.i, ptr noundef nonnull %id_ctrl.i.i, i32 noundef 4096, i32 noundef 1)
  br label %cond.end

sw.bb20.i419:                                     ; preds = %trace_pci_nvme_identify.exit.i
  call void @llvm.lifetime.start.p0(i64 4096, ptr nonnull %id.i.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 16 dereferenceable(4096) %id.i.i, i8 0, i64 4096, i1 false)
  %293 = load i8, ptr %csi.i, align 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i81.i)
  %294 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i82.i = icmp ne i32 %294, 0
  %295 = load i16, ptr @_TRACE_PCI_NVME_IDENTIFY_CTRL_CSI_DSTATE, align 2
  %tobool4.i.i.i83.i = icmp ne i16 %295, 0
  %or.cond.i.i.i84.i = select i1 %tobool.i.i.i82.i, i1 %tobool4.i.i.i83.i, i1 false
  br i1 %or.cond.i.i.i84.i, label %land.lhs.true5.i.i.i92.i, label %trace_pci_nvme_identify_ctrl_csi.exit.i.i

land.lhs.true5.i.i.i92.i:                         ; preds = %sw.bb20.i419
  %296 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i93.i = and i32 %296, 32768
  %cmp.i.not.i.i.i94.i = icmp eq i32 %and.i.i.i.i93.i, 0
  br i1 %cmp.i.not.i.i.i94.i, label %trace_pci_nvme_identify_ctrl_csi.exit.i.i, label %if.then.i.i.i95.i

if.then.i.i.i95.i:                                ; preds = %land.lhs.true5.i.i.i92.i
  %297 = load i8, ptr @message_with_timestamp, align 1
  %298 = and i8 %297, 1
  %tobool7.not.i.i.i96.i = icmp eq i8 %298, 0
  br i1 %tobool7.not.i.i.i96.i, label %if.else.i.i.i102.i, label %if.then8.i.i.i97.i

if.then8.i.i.i97.i:                               ; preds = %if.then.i.i.i95.i
  %call9.i.i.i98.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i81.i, ptr noundef null) #17
  %call10.i.i.i99.i = call i32 @qemu_get_thread_id() #17
  %299 = load i64, ptr %_now.i.i.i81.i, align 8
  %300 = load i64, ptr %tv_usec.i.i.i100.i, align 8
  %conv11.i.i.i101.i = zext i8 %293 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.375, i32 noundef %call10.i.i.i99.i, i64 noundef %299, i64 noundef %300, i32 noundef %conv11.i.i.i101.i) #17
  br label %trace_pci_nvme_identify_ctrl_csi.exit.i.i

if.else.i.i.i102.i:                               ; preds = %if.then.i.i.i95.i
  %conv12.i.i.i103.i = zext i8 %293 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.376, i32 noundef %conv12.i.i.i103.i) #17
  br label %trace_pci_nvme_identify_ctrl_csi.exit.i.i

trace_pci_nvme_identify_ctrl_csi.exit.i.i:        ; preds = %if.else.i.i.i102.i, %if.then8.i.i.i97.i, %land.lhs.true5.i.i.i92.i, %sw.bb20.i419
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i81.i)
  %301 = load i8, ptr %csi.i, align 1
  switch i8 %301, label %nvme_identify_ctrl_csi.exit.i [
    i8 0, label %sw.bb.i.i421
    i8 2, label %sw.bb4.i.i420
  ]

sw.bb.i.i421:                                     ; preds = %trace_pci_nvme_identify_ctrl_csi.exit.i.i
  %302 = load i8, ptr %vsl.i.i, align 1
  store i8 %302, ptr %id.i.i, align 16
  %303 = load i32, ptr %dmrsl.i.i422, align 4
  store i32 %303, ptr %dmrsl3.i.i, align 4
  br label %sw.epilog.i.i

sw.bb4.i.i420:                                    ; preds = %trace_pci_nvme_identify_ctrl_csi.exit.i.i
  %304 = load i8, ptr %zasl.i.i, align 1
  store i8 %304, ptr %id.i.i, align 16
  br label %sw.epilog.i.i

sw.epilog.i.i:                                    ; preds = %sw.bb4.i.i420, %sw.bb.i.i421
  %sg.i.i85.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 8
  %call.i.i87.i = call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %0, ptr noundef nonnull %sg.i.i85.i, i64 noundef 4096, ptr noundef nonnull %cmd44)
  %tobool.not.i.i88.i = icmp eq i16 %call.i.i87.i, 0
  br i1 %tobool.not.i.i88.i, label %if.end.i.i90.i, label %nvme_identify_ctrl_csi.exit.i

if.end.i.i90.i:                                   ; preds = %sw.epilog.i.i
  %call2.i.i91.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i.i85.i, ptr noundef nonnull %id.i.i, i32 noundef 4096, i32 noundef 1)
  br label %nvme_identify_ctrl_csi.exit.i

nvme_identify_ctrl_csi.exit.i:                    ; preds = %if.end.i.i90.i, %sw.epilog.i.i, %trace_pci_nvme_identify_ctrl_csi.exit.i.i
  %retval.0.i89.i = phi i16 [ 16386, %trace_pci_nvme_identify_ctrl_csi.exit.i.i ], [ %call2.i.i91.i, %if.end.i.i90.i ], [ %call.i.i87.i, %sw.epilog.i.i ]
  call void @llvm.lifetime.end.p0(i64 4096, ptr nonnull %id.i.i)
  br label %cond.end

sw.bb22.i417:                                     ; preds = %trace_pci_nvme_identify.exit.i
  %call23.i418 = call fastcc zeroext i16 @nvme_identify_nslist(ptr noundef nonnull %0, ptr noundef nonnull %28, i1 noundef zeroext true)
  br label %cond.end

sw.bb24.i415:                                     ; preds = %trace_pci_nvme_identify.exit.i
  %call25.i416 = call fastcc zeroext i16 @nvme_identify_nslist(ptr noundef nonnull %0, ptr noundef nonnull %28, i1 noundef zeroext false)
  br label %cond.end

sw.bb26.i:                                        ; preds = %trace_pci_nvme_identify.exit.i
  %call27.i = call fastcc zeroext i16 @nvme_identify_nslist_csi(ptr noundef nonnull %0, ptr noundef nonnull %28, i1 noundef zeroext true)
  br label %cond.end

sw.bb28.i:                                        ; preds = %trace_pci_nvme_identify.exit.i
  %call29.i = call fastcc zeroext i16 @nvme_identify_nslist_csi(ptr noundef nonnull %0, ptr noundef nonnull %28, i1 noundef zeroext false)
  br label %cond.end

sw.bb30.i:                                        ; preds = %trace_pci_nvme_identify.exit.i
  call void @llvm.lifetime.start.p0(i64 4096, ptr nonnull %list.i105.i)
  %nsid1.i.i408 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 3
  %305 = load i32, ptr %nsid1.i.i408, align 1
  %.fr24.i.i = freeze i32 %305
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 16 dereferenceable(4096) %list.i105.i, i8 0, i64 4096, i1 false)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i104.i)
  %306 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i106.i = icmp ne i32 %306, 0
  %307 = load i16, ptr @_TRACE_PCI_NVME_IDENTIFY_NS_DESCR_LIST_DSTATE, align 2
  %tobool4.i.i.i107.i = icmp ne i16 %307, 0
  %or.cond.i.i.i108.i = select i1 %tobool.i.i.i106.i, i1 %tobool4.i.i.i107.i, i1 false
  br i1 %or.cond.i.i.i108.i, label %land.lhs.true5.i.i.i116.i, label %trace_pci_nvme_identify_ns_descr_list.exit.i.i

land.lhs.true5.i.i.i116.i:                        ; preds = %sw.bb30.i
  %308 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i117.i = and i32 %308, 32768
  %cmp.i.not.i.i.i118.i = icmp eq i32 %and.i.i.i.i117.i, 0
  br i1 %cmp.i.not.i.i.i118.i, label %trace_pci_nvme_identify_ns_descr_list.exit.i.i, label %if.then.i.i.i119.i

if.then.i.i.i119.i:                               ; preds = %land.lhs.true5.i.i.i116.i
  %309 = load i8, ptr @message_with_timestamp, align 1
  %310 = and i8 %309, 1
  %tobool7.not.i.i.i120.i = icmp eq i8 %310, 0
  br i1 %tobool7.not.i.i.i120.i, label %if.else.i.i.i125.i, label %if.then8.i.i.i121.i

if.then8.i.i.i121.i:                              ; preds = %if.then.i.i.i119.i
  %call9.i.i.i122.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i104.i, ptr noundef null) #17
  %call10.i.i.i123.i = call i32 @qemu_get_thread_id() #17
  %311 = load i64, ptr %_now.i.i.i104.i, align 8
  %312 = load i64, ptr %tv_usec.i.i.i124.i, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.381, i32 noundef %call10.i.i.i123.i, i64 noundef %311, i64 noundef %312, i32 noundef %.fr24.i.i) #17
  br label %trace_pci_nvme_identify_ns_descr_list.exit.i.i

if.else.i.i.i125.i:                               ; preds = %if.then.i.i.i119.i
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.382, i32 noundef %.fr24.i.i) #17
  br label %trace_pci_nvme_identify_ns_descr_list.exit.i.i

trace_pci_nvme_identify_ns_descr_list.exit.i.i:   ; preds = %if.else.i.i.i125.i, %if.then8.i.i.i121.i, %land.lhs.true5.i.i.i116.i, %sw.bb30.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i104.i)
  %313 = add i32 %.fr24.i.i, 1
  %314 = icmp ult i32 %313, 258
  br i1 %314, label %switch.early.test.i.i, label %nvme_identify_ns_descr_list.exit.i

switch.early.test.i.i:                            ; preds = %trace_pci_nvme_identify_ns_descr_list.exit.i.i
  switch i32 %.fr24.i.i, label %nvme_ns.exit.i.i409 [
    i32 -1, label %nvme_identify_ns_descr_list.exit.i
    i32 0, label %nvme_identify_ns_descr_list.exit.i
  ]

nvme_ns.exit.i.i409:                              ; preds = %switch.early.test.i.i
  %idxprom.i.i.i410 = zext nneg i32 %.fr24.i.i to i64
  %arrayidx.i.i.i411 = getelementptr %struct.NvmeCtrl, ptr %0, i64 0, i32 35, i64 %idxprom.i.i.i410
  %315 = load ptr, ptr %arrayidx.i.i.i411, align 8
  %tobool.not.i110.i = icmp eq ptr %315, null
  br i1 %tobool.not.i110.i, label %nvme_identify_ns_descr_list.exit.i, label %if.end8.i.i

if.end8.i.i:                                      ; preds = %nvme_ns.exit.i.i409
  %uuid9.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %315, i64 0, i32 30, i32 3
  %call10.i.i412 = call i32 @qemu_uuid_is_null(ptr noundef nonnull %uuid9.i.i) #17
  %tobool11.not.i.i413 = icmp eq i32 %call10.i.i412, 0
  br i1 %tobool11.not.i.i413, label %if.then12.i.i414, label %if.end18.i.i

if.then12.i.i414:                                 ; preds = %if.end8.i.i
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(16) %uuid.sroa.4.i.sroa.4.0.uuid.sroa.4.0..sroa_idx.i.sroa_idx.i, ptr noundef nonnull align 8 dereferenceable(16) %uuid9.i.i, i64 16, i1 false)
  store i8 3, ptr %list.i105.i, align 16
  store i8 16, ptr %uuid.sroa.3.0..sroa_idx.i.i, align 1
  store i16 0, ptr %uuid.sroa.4.0..sroa_idx.i.i, align 2
  br label %if.end18.i.i

if.end18.i.i:                                     ; preds = %if.then12.i.i414, %if.end8.i.i
  %pos.0.i.i = phi ptr [ %list.i105.i, %if.end8.i.i ], [ %add.ptr.i115.i, %if.then12.i.i414 ]
  %eui6420.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %315, i64 0, i32 30, i32 4
  %316 = load i64, ptr %eui6420.i.i, align 8
  %tobool21.not.i.i = icmp eq i64 %316, 0
  br i1 %tobool21.not.i.i, label %if.end32.i.i, label %if.then22.i.i

if.then22.i.i:                                    ; preds = %if.end18.i.i
  %317 = call noundef i64 @llvm.bswap.i64(i64 %316)
  store i8 1, ptr %pos.0.i.i, align 1
  %eui64.sroa.3.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %pos.0.i.i, i64 1
  store i8 8, ptr %eui64.sroa.3.0..sroa_idx.i.i, align 1
  %eui64.sroa.4.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %pos.0.i.i, i64 2
  store i16 0, ptr %eui64.sroa.4.0..sroa_idx.i.i, align 1
  %eui64.sroa.42.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %pos.0.i.i, i64 4
  store i64 %317, ptr %eui64.sroa.42.0..sroa_idx.i.i, align 1
  %add.ptr31.i.i = getelementptr i8, ptr %pos.0.i.i, i64 12
  br label %if.end32.i.i

if.end32.i.i:                                     ; preds = %if.then22.i.i, %if.end18.i.i
  %pos.1.i.i = phi ptr [ %add.ptr31.i.i, %if.then22.i.i ], [ %pos.0.i.i, %if.end18.i.i ]
  %csi37.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %315, i64 0, i32 11
  %318 = load i8, ptr %csi37.i.i, align 8
  store i8 4, ptr %pos.1.i.i, align 1
  %csi.sroa.3.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %pos.1.i.i, i64 1
  store i8 1, ptr %csi.sroa.3.0..sroa_idx.i.i, align 1
  %csi.sroa.4.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %pos.1.i.i, i64 2
  store i16 0, ptr %csi.sroa.4.0..sroa_idx.i.i, align 1
  %csi.sroa.41.0..sroa_idx.i.i = getelementptr inbounds i8, ptr %pos.1.i.i, i64 4
  store i8 %318, ptr %csi.sroa.41.0..sroa_idx.i.i, align 1
  %sg.i.i111.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 8
  %call.i.i113.i = call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %0, ptr noundef nonnull %sg.i.i111.i, i64 noundef 4096, ptr noundef nonnull %cmd44)
  %tobool.not.i19.i.i = icmp eq i16 %call.i.i113.i, 0
  br i1 %tobool.not.i19.i.i, label %if.end.i21.i.i, label %nvme_identify_ns_descr_list.exit.i

if.end.i21.i.i:                                   ; preds = %if.end32.i.i
  %call2.i.i114.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i.i111.i, ptr noundef nonnull %list.i105.i, i32 noundef 4096, i32 noundef 1)
  br label %nvme_identify_ns_descr_list.exit.i

nvme_identify_ns_descr_list.exit.i:               ; preds = %if.end.i21.i.i, %if.end32.i.i, %nvme_ns.exit.i.i409, %switch.early.test.i.i, %switch.early.test.i.i, %trace_pci_nvme_identify_ns_descr_list.exit.i.i
  %retval.0.i109.i = phi i16 [ 16395, %switch.early.test.i.i ], [ 16386, %nvme_ns.exit.i.i409 ], [ %call2.i.i114.i, %if.end.i21.i.i ], [ %call.i.i113.i, %if.end32.i.i ], [ 16395, %trace_pci_nvme_identify_ns_descr_list.exit.i.i ], [ 16395, %switch.early.test.i.i ]
  call void @llvm.lifetime.end.p0(i64 4096, ptr nonnull %list.i105.i)
  br label %cond.end

sw.bb32.i:                                        ; preds = %trace_pci_nvme_identify.exit.i
  call void @llvm.lifetime.start.p0(i64 4096, ptr nonnull %list.i127.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 16 dereferenceable(4096) %list.i127.i, i8 0, i64 4096, i1 false)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i126.i)
  %319 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i128.i = icmp ne i32 %319, 0
  %320 = load i16, ptr @_TRACE_PCI_NVME_IDENTIFY_CMD_SET_DSTATE, align 2
  %tobool4.i.i.i129.i = icmp ne i16 %320, 0
  %or.cond.i.i.i130.i = select i1 %tobool.i.i.i128.i, i1 %tobool4.i.i.i129.i, i1 false
  br i1 %or.cond.i.i.i130.i, label %land.lhs.true5.i.i.i138.i, label %trace_pci_nvme_identify_cmd_set.exit.i.i

land.lhs.true5.i.i.i138.i:                        ; preds = %sw.bb32.i
  %321 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i139.i = and i32 %321, 32768
  %cmp.i.not.i.i.i140.i = icmp eq i32 %and.i.i.i.i139.i, 0
  br i1 %cmp.i.not.i.i.i140.i, label %trace_pci_nvme_identify_cmd_set.exit.i.i, label %if.then.i.i.i141.i

if.then.i.i.i141.i:                               ; preds = %land.lhs.true5.i.i.i138.i
  %322 = load i8, ptr @message_with_timestamp, align 1
  %323 = and i8 %322, 1
  %tobool7.not.i.i.i142.i = icmp eq i8 %323, 0
  br i1 %tobool7.not.i.i.i142.i, label %if.else.i.i.i147.i, label %if.then8.i.i.i143.i

if.then8.i.i.i143.i:                              ; preds = %if.then.i.i.i141.i
  %call9.i.i.i144.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i126.i, ptr noundef null) #17
  %call10.i.i.i145.i = call i32 @qemu_get_thread_id() #17
  %324 = load i64, ptr %_now.i.i.i126.i, align 8
  %325 = load i64, ptr %tv_usec.i.i.i146.i, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.383, i32 noundef %call10.i.i.i145.i, i64 noundef %324, i64 noundef %325) #17
  br label %trace_pci_nvme_identify_cmd_set.exit.i.i

if.else.i.i.i147.i:                               ; preds = %if.then.i.i.i141.i
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.384) #17
  br label %trace_pci_nvme_identify_cmd_set.exit.i.i

trace_pci_nvme_identify_cmd_set.exit.i.i:         ; preds = %if.else.i.i.i147.i, %if.then8.i.i.i143.i, %land.lhs.true5.i.i.i138.i, %sw.bb32.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i126.i)
  store i8 5, ptr %list.i127.i, align 16
  %sg.i.i131.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 8
  %call.i.i133.i = call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %0, ptr noundef nonnull %sg.i.i131.i, i64 noundef 4096, ptr noundef nonnull %cmd44)
  %tobool.not.i.i134.i = icmp eq i16 %call.i.i133.i, 0
  br i1 %tobool.not.i.i134.i, label %if.end.i.i136.i, label %nvme_identify_cmd_set.exit.i

if.end.i.i136.i:                                  ; preds = %trace_pci_nvme_identify_cmd_set.exit.i.i
  %call2.i.i137.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i.i131.i, ptr noundef nonnull %list.i127.i, i32 noundef 4096, i32 noundef 1)
  br label %nvme_identify_cmd_set.exit.i

nvme_identify_cmd_set.exit.i:                     ; preds = %if.end.i.i136.i, %trace_pci_nvme_identify_cmd_set.exit.i.i
  %retval.0.i.i135.i = phi i16 [ %call2.i.i137.i, %if.end.i.i136.i ], [ %call.i.i133.i, %trace_pci_nvme_identify_cmd_set.exit.i.i ]
  call void @llvm.lifetime.end.p0(i64 4096, ptr nonnull %list.i127.i)
  br label %cond.end

sw.default.i434:                                  ; preds = %trace_pci_nvme_identify.exit.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i148.i)
  %326 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i149.i = icmp ne i32 %326, 0
  %327 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_IDENTIFY_CNS_DSTATE, align 2
  %tobool4.i.i150.i = icmp ne i16 %327, 0
  %or.cond.i.i151.i = select i1 %tobool.i.i149.i, i1 %tobool4.i.i150.i, i1 false
  br i1 %or.cond.i.i151.i, label %land.lhs.true5.i.i152.i, label %trace_pci_nvme_err_invalid_identify_cns.exit.i

land.lhs.true5.i.i152.i:                          ; preds = %sw.default.i434
  %328 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i153.i = and i32 %328, 32768
  %cmp.i.not.i.i154.i = icmp eq i32 %and.i.i.i153.i, 0
  br i1 %cmp.i.not.i.i154.i, label %trace_pci_nvme_err_invalid_identify_cns.exit.i, label %if.then.i.i155.i

if.then.i.i155.i:                                 ; preds = %land.lhs.true5.i.i152.i
  %329 = load i8, ptr @message_with_timestamp, align 1
  %330 = and i8 %329, 1
  %tobool7.not.i.i156.i = icmp eq i8 %330, 0
  br i1 %tobool7.not.i.i156.i, label %if.else.i.i162.i, label %if.then8.i.i157.i

if.then8.i.i157.i:                                ; preds = %if.then.i.i155.i
  %call9.i.i158.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i148.i, ptr noundef null) #17
  %call10.i.i159.i = call i32 @qemu_get_thread_id() #17
  %331 = load i64, ptr %_now.i.i148.i, align 8
  %332 = load i64, ptr %tv_usec.i.i160.i, align 8
  %conv11.i.i161.i = zext i8 %264 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.385, i32 noundef %call10.i.i159.i, i64 noundef %331, i64 noundef %332, i32 noundef %conv11.i.i161.i) #17
  br label %trace_pci_nvme_err_invalid_identify_cns.exit.i

if.else.i.i162.i:                                 ; preds = %if.then.i.i155.i
  %conv12.i.i163.i = zext i8 %264 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.386, i32 noundef %conv12.i.i163.i) #17
  br label %trace_pci_nvme_err_invalid_identify_cns.exit.i

trace_pci_nvme_err_invalid_identify_cns.exit.i:   ; preds = %if.else.i.i162.i, %if.then8.i.i157.i, %land.lhs.true5.i.i152.i, %sw.default.i434
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i148.i)
  br label %if.then55

sw.bb35.i:                                        ; preds = %if.end20.i
  %cdw10.i.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 7
  %333 = load i32, ptr %cdw10.i.i, align 8
  %cqe.i.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 5
  store i32 1, ptr %cqe.i.i, align 8
  %conv.i.i.i = and i32 %333, 65535
  %334 = load i32, ptr %conf_ioqpairs131.i, align 8
  %add.i.i.i = add i32 %334, 1
  %cmp.i.i.i = icmp ugt i32 %add.i.i.i, %conv.i.i.i
  br i1 %cmp.i.i.i, label %nvme_check_sqid.exit.i.i, label %if.then55

nvme_check_sqid.exit.i.i:                         ; preds = %sw.bb35.i
  %335 = load ptr, ptr %sq11.i, align 16
  %idxprom.i.i.i76 = zext nneg i32 %conv.i.i.i to i64
  %arrayidx.i.i.i77 = getelementptr ptr, ptr %335, i64 %idxprom.i.i.i76
  %336 = load ptr, ptr %arrayidx.i.i.i77, align 8
  %.fr.i.i = freeze ptr %336
  %cmp2.i.not.i.i = icmp eq ptr %.fr.i.i, null
  %spec.select.i.i = select i1 %cmp2.i.not.i.i, i16 16386, i16 0
  br label %if.then55

sw.bb37.i:                                        ; preds = %if.end20.i
  %cdw10.i343 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 7
  %337 = load i32, ptr %cdw10.i343, align 1
  %cdw11.i344 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 8
  %338 = load i32, ptr %cdw11.i344, align 1
  %.fr.i = freeze i32 %338
  %nsid3.i345 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 3
  %339 = load i32, ptr %nsid3.i345, align 1
  %conv.i346 = trunc i32 %337 to i8
  %shr.i347 = lshr i32 %337, 31
  %340 = load i16, ptr %cid43, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i342)
  %341 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i349 = icmp ne i32 %341, 0
  %342 = load i16, ptr @_TRACE_PCI_NVME_SETFEAT_DSTATE, align 2
  %tobool4.i.i.i350 = icmp ne i16 %342, 0
  %or.cond.i.i.i351 = select i1 %tobool.i.i.i349, i1 %tobool4.i.i.i350, i1 false
  br i1 %or.cond.i.i.i351, label %land.lhs.true5.i.i.i384, label %trace_pci_nvme_setfeat.exit.i

land.lhs.true5.i.i.i384:                          ; preds = %sw.bb37.i
  %343 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i385 = and i32 %343, 32768
  %cmp.i.not.i.i.i386 = icmp eq i32 %and.i.i.i.i385, 0
  br i1 %cmp.i.not.i.i.i386, label %trace_pci_nvme_setfeat.exit.i, label %if.then.i.i.i387

if.then.i.i.i387:                                 ; preds = %land.lhs.true5.i.i.i384
  %344 = load i8, ptr @message_with_timestamp, align 1
  %345 = and i8 %344, 1
  %tobool7.not.i.i.i388 = icmp eq i8 %345, 0
  br i1 %tobool7.not.i.i.i388, label %if.else.i.i.i395, label %if.then8.i.i.i389

if.then8.i.i.i389:                                ; preds = %if.then.i.i.i387
  %call9.i.i.i390 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i342, ptr noundef null) #17
  %call10.i.i.i391 = call i32 @qemu_get_thread_id() #17
  %346 = load i64, ptr %_now.i.i.i342, align 8
  %347 = load i64, ptr %tv_usec.i.i.i392, align 8
  %conv11.i.i.i393 = zext i16 %340 to i32
  %conv12.i.i.i394 = and i32 %337, 255
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.388, i32 noundef %call10.i.i.i391, i64 noundef %346, i64 noundef %347, i32 noundef %conv11.i.i.i393, i32 noundef %339, i32 noundef %conv12.i.i.i394, i32 noundef %shr.i347, i32 noundef %.fr.i) #17
  br label %trace_pci_nvme_setfeat.exit.i

if.else.i.i.i395:                                 ; preds = %if.then.i.i.i387
  %conv14.i.i.i396 = zext i16 %340 to i32
  %conv15.i.i.i397 = and i32 %337, 255
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.389, i32 noundef %conv14.i.i.i396, i32 noundef %339, i32 noundef %conv15.i.i.i397, i32 noundef %shr.i347, i32 noundef %.fr.i) #17
  br label %trace_pci_nvme_setfeat.exit.i

trace_pci_nvme_setfeat.exit.i:                    ; preds = %if.else.i.i.i395, %if.then8.i.i.i389, %land.lhs.true5.i.i.i384, %sw.bb37.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i342)
  %tobool.not.i352 = icmp sgt i32 %337, -1
  %.pre142.i = and i32 %337, 255
  %.pre143.i = zext nneg i32 %.pre142.i to i64
  br i1 %tobool.not.i352, label %if.end.i355, label %land.lhs.true.i353

land.lhs.true.i353:                               ; preds = %trace_pci_nvme_setfeat.exit.i
  %arrayidx.i354 = getelementptr [256 x i32], ptr @nvme_feature_cap, i64 0, i64 %.pre143.i
  %348 = load i32, ptr %arrayidx.i354, align 4
  %and9.i = and i32 %348, 1
  %tobool10.not.i = icmp eq i32 %and9.i, 0
  br i1 %tobool10.not.i, label %if.then55, label %if.end.i355

if.end.i355:                                      ; preds = %land.lhs.true.i353, %trace_pci_nvme_setfeat.exit.i
  %arrayidx12.i = getelementptr [256 x i8], ptr @nvme_feature_support, i64 0, i64 %.pre143.i
  %349 = load i8, ptr %arrayidx12.i, align 1
  %350 = and i8 %349, 1
  %tobool13.not.i356 = icmp eq i8 %350, 0
  br i1 %tobool13.not.i356, label %if.then55, label %if.end15.i357

if.end15.i357:                                    ; preds = %if.end.i355
  %arrayidx17.i = getelementptr [256 x i32], ptr @nvme_feature_cap, i64 0, i64 %.pre143.i
  %351 = load i32, ptr %arrayidx17.i, align 4
  %and18.i = and i32 %351, 2
  %tobool19.not.i = icmp eq i32 %and18.i, 0
  br i1 %tobool19.not.i, label %if.else.i, label %if.then20.i

if.then20.i:                                      ; preds = %if.end15.i357
  %cmp.not.i358 = icmp eq i32 %339, -1
  br i1 %cmp.not.i358, label %if.end44.i, label %if.then22.i

if.then22.i:                                      ; preds = %if.then20.i
  %352 = add i32 %339, -1
  %353 = icmp ult i32 %352, 256
  br i1 %353, label %nvme_ns.exit.i360, label %if.then55

nvme_ns.exit.i360:                                ; preds = %if.then22.i
  %idxprom.i.i361 = zext nneg i32 %339 to i64
  %arrayidx.i.i362 = getelementptr %struct.NvmeCtrl, ptr %0, i64 0, i32 35, i64 %idxprom.i.i361
  %354 = load ptr, ptr %arrayidx.i.i362, align 8
  %tobool27.not.i = icmp eq ptr %354, null
  br i1 %tobool27.not.i, label %if.then55, label %if.end44.i

if.else.i:                                        ; preds = %if.end15.i357
  %355 = add i32 %339, -1
  %or.cond.i383 = icmp ult i32 %355, -2
  br i1 %or.cond.i383, label %if.then39.i, label %if.end44.i

if.then39.i:                                      ; preds = %if.else.i
  %356 = icmp ult i32 %339, 257
  %..i = select i1 %356, i16 16655, i16 16395
  br label %if.then55

if.end44.i:                                       ; preds = %if.else.i, %nvme_ns.exit.i360, %if.then20.i
  %ns.0.i = phi ptr [ %354, %nvme_ns.exit.i360 ], [ null, %if.then20.i ], [ null, %if.else.i ]
  %and47.i = and i32 %351, 4
  %tobool48.not.i = icmp eq i32 %and47.i, 0
  br i1 %tobool48.not.i, label %if.then55, label %if.end50.i

if.end50.i:                                       ; preds = %if.end44.i
  switch i8 %conv.i346, label %sw.default210.i [
    i8 4, label %sw.bb.i377
    i8 5, label %sw.bb82.i
    i8 6, label %for.cond115.preheader.i
    i8 7, label %sw.bb140.i
    i8 11, label %sw.bb163.i
    i8 14, label %sw.bb165.i
    i8 22, label %sw.bb167.i
    i8 25, label %sw.bb201.i
    i8 29, label %if.then55
    i8 30, label %sw.bb208.i
  ]

for.cond115.preheader.i:                          ; preds = %if.end50.i
  %and123.i = and i32 %.fr.i, 1
  %tobool124.not.i = icmp eq i32 %and123.i, 0
  br i1 %tobool124.not.i, label %nvme_ns.exit106.i, label %nvme_ns.exit106.us.i

nvme_ns.exit106.us.i:                             ; preds = %for.cond115.preheader.i, %for.inc137.us.i
  %indvars.iv130.i = phi i64 [ %indvars.iv.next131.i, %for.inc137.us.i ], [ 1, %for.cond115.preheader.i ]
  %arrayidx.i104.us.i = getelementptr %struct.NvmeCtrl, ptr %0, i64 0, i32 35, i64 %indvars.iv130.i
  %357 = load ptr, ptr %arrayidx.i104.us.i, align 8
  %tobool120.not.us.i = icmp eq ptr %357, null
  br i1 %tobool120.not.us.i, label %for.inc137.us.i, label %if.end122.us.i

if.end122.us.i:                                   ; preds = %nvme_ns.exit106.us.i
  %blkconf133.us.i = getelementptr inbounds %struct.NvmeNamespace, ptr %357, i64 0, i32 1
  %358 = load ptr, ptr %blkconf133.us.i, align 8
  call void @blk_set_enable_write_cache(ptr noundef %358, i1 noundef zeroext true) #17
  br label %for.inc137.us.i

for.inc137.us.i:                                  ; preds = %if.end122.us.i, %nvme_ns.exit106.us.i
  %indvars.iv.next131.i = add nuw nsw i64 %indvars.iv130.i, 1
  %exitcond133.not.i = icmp eq i64 %indvars.iv.next131.i, 257
  br i1 %exitcond133.not.i, label %if.then55, label %nvme_ns.exit106.us.i, !llvm.loop !35

sw.bb.i377:                                       ; preds = %if.end50.i
  %359 = and i32 %.fr.i, 983040
  %cmp54.not.i = icmp eq i32 %359, 0
  br i1 %cmp54.not.i, label %if.end57.i, label %if.then55

if.end57.i:                                       ; preds = %sw.bb.i377
  %shr58.i = lshr i32 %.fr.i, 20
  %and59.i = and i32 %shr58.i, 3
  switch i32 %and59.i, label %if.then55 [
    i32 0, label %sw.bb60.i381
    i32 1, label %sw.bb63.i
  ]

sw.bb60.i381:                                     ; preds = %if.end57.i
  %conv62.i = trunc i32 %.fr.i to i16
  store i16 %conv62.i, ptr %features.i, align 16
  br label %sw.epilog.i380

sw.bb63.i:                                        ; preds = %if.end57.i
  %conv65.i = trunc i32 %.fr.i to i16
  store i16 %conv65.i, ptr %temp_thresh_low.i, align 2
  %.pre.i379 = load i16, ptr %features.i, align 16
  br label %sw.epilog.i380

sw.epilog.i380:                                   ; preds = %sw.bb63.i, %sw.bb60.i381
  %360 = phi i16 [ %.pre.i379, %sw.bb63.i ], [ %conv62.i, %sw.bb60.i381 ]
  %361 = load i16, ptr %temperature.i, align 16
  %cmp71.not.i = icmp ult i16 %361, %360
  br i1 %cmp71.not.i, label %lor.lhs.false.i, label %if.then80.i

lor.lhs.false.i:                                  ; preds = %sw.epilog.i380
  %362 = load i16, ptr %temp_thresh_low.i, align 2
  %cmp78.not.i = icmp ugt i16 %361, %362
  br i1 %cmp78.not.i, label %if.then55, label %if.then80.i

if.then80.i:                                      ; preds = %lor.lhs.false.i, %sw.epilog.i380
  %363 = load i32, ptr %async_config.i, align 4
  %and1.i.i = and i32 %363, 2
  %tobool.not.i93.i = icmp eq i32 %and1.i.i, 0
  br i1 %tobool.not.i93.i, label %if.then55, label %if.end.i94.i

if.end.i94.i:                                     ; preds = %if.then80.i
  call fastcc void @nvme_enqueue_event(ptr noundef nonnull %0, i8 noundef zeroext 1, i8 noundef zeroext 1, i8 noundef zeroext 2)
  br label %if.then55

sw.bb82.i:                                        ; preds = %if.end50.i
  %cmp83.i = icmp eq i32 %339, -1
  br i1 %cmp83.i, label %nvme_ns.exit100.i, label %if.end99.i

nvme_ns.exit100.i:                                ; preds = %sw.bb82.i, %for.inc.i376
  %indvars.iv138.i = phi i64 [ %indvars.iv.next139.i, %for.inc.i376 ], [ 1, %sw.bb82.i ]
  %arrayidx.i98.i = getelementptr %struct.NvmeCtrl, ptr %0, i64 0, i32 35, i64 %indvars.iv138.i
  %364 = load ptr, ptr %arrayidx.i98.i, align 8
  %tobool89.not.i = icmp eq ptr %364, null
  br i1 %tobool89.not.i, label %for.inc.i376, label %if.end91.i

if.end91.i:                                       ; preds = %nvme_ns.exit100.i
  %nsfeat.i = getelementptr inbounds %struct.NvmeNamespace, ptr %364, i64 0, i32 5, i32 3
  %365 = load i8, ptr %nsfeat.i, align 8
  %366 = and i8 %365, 4
  %tobool95.not.i = icmp eq i8 %366, 0
  br i1 %tobool95.not.i, label %for.inc.i376, label %if.then96.i

if.then96.i:                                      ; preds = %if.end91.i
  %features97.i = getelementptr inbounds %struct.NvmeNamespace, ptr %364, i64 0, i32 33
  store i32 %.fr.i, ptr %features97.i, align 8
  br label %for.inc.i376

for.inc.i376:                                     ; preds = %if.then96.i, %if.end91.i, %nvme_ns.exit100.i
  %indvars.iv.next139.i = add nuw nsw i64 %indvars.iv138.i, 1
  %exitcond141.not.i = icmp eq i64 %indvars.iv.next139.i, 257
  br i1 %exitcond141.not.i, label %if.then55, label %nvme_ns.exit100.i, !llvm.loop !36

if.end99.i:                                       ; preds = %sw.bb82.i
  %tobool100.not.i = icmp eq ptr %ns.0.i, null
  br i1 %tobool100.not.i, label %if.else102.i, label %if.end103.i

if.else102.i:                                     ; preds = %if.end99.i
  call void @__assert_fail(ptr noundef nonnull @.str.387, ptr noundef nonnull @.str.1, i32 noundef 6219, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_set_feature) #18
  unreachable

if.end103.i:                                      ; preds = %if.end99.i
  %nsfeat105.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns.0.i, i64 0, i32 5, i32 3
  %367 = load i8, ptr %nsfeat105.i, align 8
  %368 = and i8 %367, 4
  %tobool109.not.i = icmp eq i8 %368, 0
  br i1 %tobool109.not.i, label %if.then55, label %if.then110.i

if.then110.i:                                     ; preds = %if.end103.i
  %features111.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns.0.i, i64 0, i32 33
  store i32 %.fr.i, ptr %features111.i, align 8
  br label %if.then55

nvme_ns.exit106.i:                                ; preds = %for.cond115.preheader.i, %for.inc137.i
  %indvars.iv134.i = phi i64 [ %indvars.iv.next135.i, %for.inc137.i ], [ 1, %for.cond115.preheader.i ]
  %arrayidx.i104.i = getelementptr %struct.NvmeCtrl, ptr %0, i64 0, i32 35, i64 %indvars.iv134.i
  %369 = load ptr, ptr %arrayidx.i104.i, align 8
  %tobool120.not.i = icmp eq ptr %369, null
  br i1 %tobool120.not.i, label %for.inc137.i, label %if.end122.i

if.end122.i:                                      ; preds = %nvme_ns.exit106.i
  %blkconf.i375 = getelementptr inbounds %struct.NvmeNamespace, ptr %369, i64 0, i32 1
  %370 = load ptr, ptr %blkconf.i375, align 8
  %call126.i = call zeroext i1 @blk_enable_write_cache(ptr noundef %370) #17
  br i1 %call126.i, label %if.then128.i, label %if.end132.i

if.then128.i:                                     ; preds = %if.end122.i
  %371 = load ptr, ptr %blkconf.i375, align 8
  %call131.i = call i32 @blk_flush(ptr noundef %371) #17
  br label %if.end132.i

if.end132.i:                                      ; preds = %if.then128.i, %if.end122.i
  %372 = load ptr, ptr %blkconf.i375, align 8
  call void @blk_set_enable_write_cache(ptr noundef %372, i1 noundef zeroext false) #17
  br label %for.inc137.i

for.inc137.i:                                     ; preds = %if.end132.i, %nvme_ns.exit106.i
  %indvars.iv.next135.i = add nuw nsw i64 %indvars.iv134.i, 1
  %exitcond137.not.i = icmp eq i64 %indvars.iv.next135.i, 257
  br i1 %exitcond137.not.i, label %if.then55, label %nvme_ns.exit106.i, !llvm.loop !35

sw.bb140.i:                                       ; preds = %if.end50.i
  %373 = load i8, ptr %qs_created.i, align 2
  %374 = and i8 %373, 1
  %tobool141.not.i = icmp eq i8 %374, 0
  br i1 %tobool141.not.i, label %if.end143.i, label %if.then55

if.end143.i:                                      ; preds = %sw.bb140.i
  %and144.i = and i32 %.fr.i, 65535
  %cmp145.i = icmp eq i32 %and144.i, 65535
  br i1 %cmp145.i, label %if.then55, label %lor.lhs.false147.i

lor.lhs.false147.i:                               ; preds = %if.end143.i
  %shr148.i = lshr i32 %.fr.i, 16
  %cmp150.i = icmp eq i32 %shr148.i, 65535
  br i1 %cmp150.i, label %if.then55, label %if.end153.i

if.end153.i:                                      ; preds = %lor.lhs.false147.i
  %add.i369 = add nuw nsw i32 %and144.i, 1
  %add157.i = add nuw nsw i32 %shr148.i, 1
  %375 = load i32, ptr %conf_ioqpairs131.i, align 8
  call fastcc void @trace_pci_nvme_setfeat_numq(i32 noundef %add.i369, i32 noundef %add157.i, i32 noundef %375, i32 noundef %375)
  %376 = load i32, ptr %conf_ioqpairs131.i, align 8
  %sub.i371 = add i32 %376, -1
  %shl.i372 = shl i32 %sub.i371, 16
  %or.i373 = or i32 %shl.i372, %sub.i371
  %cqe.i374 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 5
  store i32 %or.i373, ptr %cqe.i374, align 8
  br label %if.then55

sw.bb163.i:                                       ; preds = %if.end50.i
  store i32 %.fr.i, ptr %async_config.i, align 4
  br label %if.then55

sw.bb165.i:                                       ; preds = %if.end50.i
  %call166.i = call fastcc zeroext i16 @nvme_set_feature_timestamp(ptr noundef nonnull %0, ptr noundef nonnull %28)
  br label %cond.end

sw.bb167.i:                                       ; preds = %if.end50.i
  %call169.i = call fastcc zeroext i16 @nvme_h2c(ptr noundef nonnull %0, ptr noundef nonnull %hbs.i, i32 noundef 512, ptr noundef nonnull %28)
  %tobool170.not.i = icmp eq i16 %call169.i, 0
  br i1 %tobool170.not.i, label %nvme_ns.exit112.i, label %cond.end

nvme_ns.exit112.i:                                ; preds = %sw.bb167.i, %for.inc198.i
  %indvars.iv.i365 = phi i64 [ %indvars.iv.next.i366, %for.inc198.i ], [ 1, %sw.bb167.i ]
  %arrayidx.i110.i = getelementptr %struct.NvmeCtrl, ptr %0, i64 0, i32 35, i64 %indvars.iv.i365
  %377 = load ptr, ptr %arrayidx.i110.i, align 8
  %tobool178.not.i = icmp eq ptr %377, null
  br i1 %tobool178.not.i, label %for.inc198.i, label %if.end180.i

if.end180.i:                                      ; preds = %nvme_ns.exit112.i
  %nlbaf.i = getelementptr inbounds %struct.NvmeNamespace, ptr %377, i64 0, i32 8
  %378 = load i32, ptr %nlbaf.i, align 4
  %379 = trunc i32 %378 to i8
  %conv182.i = add i8 %379, -1
  %nlbaf184.i = getelementptr inbounds %struct.NvmeNamespace, ptr %377, i64 0, i32 5, i32 4
  store i8 %conv182.i, ptr %nlbaf184.i, align 1
  %380 = load i8, ptr %lbafee.i, align 2
  %tobool187.not.i = icmp eq i8 %380, 0
  br i1 %tobool187.not.i, label %if.then188.i, label %for.inc198.i

if.then188.i:                                     ; preds = %if.end180.i
  %381 = call i8 @llvm.umin.i8(i8 %conv182.i, i8 15)
  store i8 %381, ptr %nlbaf184.i, align 1
  br label %for.inc198.i

for.inc198.i:                                     ; preds = %if.then188.i, %if.end180.i, %nvme_ns.exit112.i
  %indvars.iv.next.i366 = add nuw nsw i64 %indvars.iv.i365, 1
  %exitcond.not.i367 = icmp eq i64 %indvars.iv.next.i366, 257
  br i1 %exitcond.not.i367, label %if.then55, label %nvme_ns.exit112.i, !llvm.loop !37

sw.bb201.i:                                       ; preds = %if.end50.i
  %and202.i = and i32 %.fr.i, 511
  %tobool203.not.i = icmp eq i32 %and202.i, 0
  br i1 %tobool203.not.i, label %if.then55, label %if.then204.i

if.then204.i:                                     ; preds = %sw.bb201.i
  call fastcc void @trace_pci_nvme_err_invalid_iocsci(i32 noundef %and202.i)
  br label %if.then55

sw.bb208.i:                                       ; preds = %if.end50.i
  %call209.i = call fastcc zeroext i16 @nvme_set_feature_fdp_events(ptr noundef nonnull %0, ptr noundef %ns.0.i, ptr noundef nonnull %28)
  br label %cond.end

sw.default210.i:                                  ; preds = %if.end50.i
  br label %if.then55

sw.bb39.i:                                        ; preds = %if.end20.i
  call void @llvm.lifetime.start.p0(i64 4, ptr nonnull %result.i)
  %cdw10.i296 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 7
  %382 = load i32, ptr %cdw10.i296, align 1
  %cdw11.i297 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 8
  %383 = load i32, ptr %cdw11.i297, align 1
  %nsid3.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 3
  %384 = load i32, ptr %nsid3.i, align 1
  %.fr130.i = freeze i32 %384
  %conv.i298 = trunc i32 %382 to i8
  %shr.i299 = lshr i32 %382, 8
  %and5.i = and i32 %shr.i299, 7
  %385 = load i16, ptr %cid43, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i295)
  %386 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i301 = icmp ne i32 %386, 0
  %387 = load i16, ptr @_TRACE_PCI_NVME_GETFEAT_DSTATE, align 2
  %tobool4.i.i.i302 = icmp ne i16 %387, 0
  %or.cond.i.i.i303 = select i1 %tobool.i.i.i301, i1 %tobool4.i.i.i302, i1 false
  br i1 %or.cond.i.i.i303, label %land.lhs.true5.i.i.i327, label %trace_pci_nvme_getfeat.exit.i

land.lhs.true5.i.i.i327:                          ; preds = %sw.bb39.i
  %388 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i328 = and i32 %388, 32768
  %cmp.i.not.i.i.i329 = icmp eq i32 %and.i.i.i.i328, 0
  br i1 %cmp.i.not.i.i.i329, label %trace_pci_nvme_getfeat.exit.i, label %if.then.i.i.i330

if.then.i.i.i330:                                 ; preds = %land.lhs.true5.i.i.i327
  %389 = load i8, ptr @message_with_timestamp, align 1
  %390 = and i8 %389, 1
  %tobool7.not.i.i.i331 = icmp eq i8 %390, 0
  br i1 %tobool7.not.i.i.i331, label %if.else.i.i.i338, label %if.then8.i.i.i332

if.then8.i.i.i332:                                ; preds = %if.then.i.i.i330
  %call9.i.i.i333 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i295, ptr noundef null) #17
  %call10.i.i.i334 = call i32 @qemu_get_thread_id() #17
  %391 = load i64, ptr %_now.i.i.i295, align 8
  %392 = load i64, ptr %tv_usec.i.i.i335, align 8
  %conv11.i.i.i336 = zext i16 %385 to i32
  %conv12.i.i.i337 = and i32 %382, 255
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.398, i32 noundef %call10.i.i.i334, i64 noundef %391, i64 noundef %392, i32 noundef %conv11.i.i.i336, i32 noundef %.fr130.i, i32 noundef %conv12.i.i.i337, i32 noundef %and5.i, i32 noundef %383) #17
  br label %trace_pci_nvme_getfeat.exit.i

if.else.i.i.i338:                                 ; preds = %if.then.i.i.i330
  %conv14.i.i.i339 = zext i16 %385 to i32
  %conv15.i.i.i340 = and i32 %382, 255
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.399, i32 noundef %conv14.i.i.i339, i32 noundef %.fr130.i, i32 noundef %conv15.i.i.i340, i32 noundef %and5.i, i32 noundef %383) #17
  br label %trace_pci_nvme_getfeat.exit.i

trace_pci_nvme_getfeat.exit.i:                    ; preds = %if.else.i.i.i338, %if.then8.i.i.i332, %land.lhs.true5.i.i.i327, %sw.bb39.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i295)
  %conv.mask.i = and i32 %382, 255
  %idxprom.i304 = zext nneg i32 %conv.mask.i to i64
  %arrayidx.i305 = getelementptr [256 x i8], ptr @nvme_feature_support, i64 0, i64 %idxprom.i304
  %393 = load i8, ptr %arrayidx.i305, align 1
  %394 = and i8 %393, 1
  %tobool.not.i306 = icmp eq i8 %394, 0
  br i1 %tobool.not.i306, label %nvme_get_feature.exit, label %if.end.i307

if.end.i307:                                      ; preds = %trace_pci_nvme_getfeat.exit.i
  %arrayidx9.i = getelementptr [256 x i32], ptr @nvme_feature_cap, i64 0, i64 %idxprom.i304
  %395 = load i32, ptr %arrayidx9.i, align 4
  %and10.i = and i32 %395, 2
  %tobool11.not.i = icmp eq i32 %and10.i, 0
  br i1 %tobool11.not.i, label %if.end21.i314, label %if.then12.i308

if.then12.i308:                                   ; preds = %if.end.i307
  %396 = add i32 %.fr130.i, 1
  %397 = icmp ult i32 %396, 258
  br i1 %397, label %switch.early.test.i, label %nvme_get_feature.exit

switch.early.test.i:                              ; preds = %if.then12.i308
  switch i32 %.fr130.i, label %nvme_ns.exit.i310 [
    i32 -1, label %nvme_get_feature.exit
    i32 0, label %nvme_get_feature.exit
  ]

nvme_ns.exit.i310:                                ; preds = %switch.early.test.i
  %idxprom.i.i311 = zext nneg i32 %.fr130.i to i64
  %arrayidx.i.i312 = getelementptr %struct.NvmeCtrl, ptr %0, i64 0, i32 35, i64 %idxprom.i.i311
  %398 = load ptr, ptr %arrayidx.i.i312, align 8
  %tobool18.not.i313 = icmp eq ptr %398, null
  br i1 %tobool18.not.i313, label %nvme_get_feature.exit, label %if.end21.i314

if.end21.i314:                                    ; preds = %nvme_ns.exit.i310, %if.end.i307
  switch i32 %and5.i, label %sw.epilog.i320 [
    i32 3, label %out.i315
    i32 2, label %defaults.i
    i32 1, label %defaults.i
  ]

sw.epilog.i320:                                   ; preds = %if.end21.i314
  switch i8 %conv.i298, label %sw.default157.i [
    i8 4, label %sw.bb27.i326
    i8 5, label %sw.bb42.i
    i8 6, label %nvme_ns.exit83.i
    i8 11, label %sw.bb68.i
    i8 14, label %sw.bb70.i
    i8 22, label %sw.bb72.i
    i8 29, label %sw.bb75.i
    i8 30, label %sw.bb89.i
    i8 7, label %sw.bb124.i
    i8 9, label %sw.bb127.i
  ]

sw.bb27.i326:                                     ; preds = %sw.epilog.i320
  %399 = and i32 %383, 983040
  %cmp30.not.i = icmp eq i32 %399, 0
  br i1 %cmp30.not.i, label %if.end33.i, label %out.i315

if.end33.i:                                       ; preds = %sw.bb27.i326
  %shr34.i = lshr i32 %383, 20
  %and35.i = and i32 %shr34.i, 3
  switch i32 %and35.i, label %nvme_get_feature.exit [
    i32 0, label %sw.bb36.i
    i32 1, label %sw.bb38.i
  ]

sw.bb36.i:                                        ; preds = %if.end33.i
  %400 = load i16, ptr %features.i, align 16
  %conv37.i = zext i16 %400 to i32
  br label %out.i315

sw.bb38.i:                                        ; preds = %if.end33.i
  %401 = load i16, ptr %temp_thresh_low.i, align 2
  %conv40.i = zext i16 %401 to i32
  br label %out.i315

sw.bb42.i:                                        ; preds = %sw.epilog.i320
  %tobool.not.i71.i = icmp ne i32 %.fr130.i, 0
  %402 = add i32 %.fr130.i, 1
  %403 = icmp ult i32 %402, 258
  %404 = and i1 %tobool.not.i71.i, %403
  br i1 %404, label %if.end45.i325, label %nvme_get_feature.exit

if.end45.i325:                                    ; preds = %sw.bb42.i
  %405 = add nsw i32 %.fr130.i, -257
  %or.cond.i72.i = icmp ult i32 %405, -256
  br i1 %or.cond.i72.i, label %nvme_get_feature.exit, label %nvme_ns.exit77.i

nvme_ns.exit77.i:                                 ; preds = %if.end45.i325
  %idxprom.i74.i = zext nneg i32 %.fr130.i to i64
  %arrayidx.i75.i = getelementptr %struct.NvmeCtrl, ptr %0, i64 0, i32 35, i64 %idxprom.i74.i
  %406 = load ptr, ptr %arrayidx.i75.i, align 8
  %tobool47.not.i = icmp eq ptr %406, null
  br i1 %tobool47.not.i, label %nvme_get_feature.exit, label %if.end53.i

if.end53.i:                                       ; preds = %nvme_ns.exit77.i
  %features54.i = getelementptr inbounds %struct.NvmeNamespace, ptr %406, i64 0, i32 33
  %407 = load i32, ptr %features54.i, align 8
  br label %out.i315

nvme_ns.exit83.i:                                 ; preds = %sw.epilog.i320, %for.inc.i322
  %indvars.iv.i321 = phi i64 [ %indvars.iv.next.i323, %for.inc.i322 ], [ 1, %sw.epilog.i320 ]
  %arrayidx.i81.i = getelementptr %struct.NvmeCtrl, ptr %0, i64 0, i32 35, i64 %indvars.iv.i321
  %408 = load ptr, ptr %arrayidx.i81.i, align 8
  %tobool59.not.i = icmp eq ptr %408, null
  br i1 %tobool59.not.i, label %for.inc.i322, label %if.end61.i

if.end61.i:                                       ; preds = %nvme_ns.exit83.i
  %blkconf.i = getelementptr inbounds %struct.NvmeNamespace, ptr %408, i64 0, i32 1
  %409 = load ptr, ptr %blkconf.i, align 8
  %call62.i = call zeroext i1 @blk_enable_write_cache(ptr noundef %409) #17
  br i1 %call62.i, label %for.end.i324, label %for.inc.i322

for.inc.i322:                                     ; preds = %if.end61.i, %nvme_ns.exit83.i
  %indvars.iv.next.i323 = add nuw nsw i64 %indvars.iv.i321, 1
  %exitcond.not.i = icmp eq i64 %indvars.iv.next.i323, 257
  br i1 %exitcond.not.i, label %for.end.i324, label %nvme_ns.exit83.i, !llvm.loop !38

for.end.i324:                                     ; preds = %for.inc.i322, %if.end61.i
  %tobool67.not.i = phi ptr [ @.str.396, %if.end61.i ], [ @.str.397, %for.inc.i322 ]
  %conv63133.i = phi i32 [ 1, %if.end61.i ], [ 0, %for.inc.i322 ]
  call fastcc void @trace_pci_nvme_getfeat_vwcache(ptr noundef nonnull %tobool67.not.i)
  br label %out.i315

sw.bb68.i:                                        ; preds = %sw.epilog.i320
  %410 = load i32, ptr %async_config.i, align 4
  br label %out.i315

sw.bb70.i:                                        ; preds = %sw.epilog.i320
  %call71.i = call fastcc zeroext i16 @nvme_get_feature_timestamp(ptr noundef nonnull %0, ptr noundef nonnull %28)
  br label %nvme_get_feature.exit

sw.bb72.i:                                        ; preds = %sw.epilog.i320
  %call74.i = call fastcc zeroext i16 @nvme_c2h(ptr noundef nonnull %0, ptr noundef nonnull %hbs.i, i32 noundef 512, ptr noundef nonnull %28)
  br label %nvme_get_feature.exit

sw.bb75.i:                                        ; preds = %sw.epilog.i320
  %conv77.i = and i32 %383, 255
  %cmp79.not.i = icmp eq i32 %conv77.i, 1
  br i1 %cmp79.not.i, label %if.end82.i, label %nvme_get_feature.exit

if.end82.i:                                       ; preds = %sw.bb75.i
  %411 = load ptr, ptr %subsys.i, align 8
  %tobool.not.i84.i = icmp eq ptr %411, null
  br i1 %tobool.not.i84.i, label %nvme_get_feature.exit, label %lor.lhs.false.i.i

lor.lhs.false.i.i:                                ; preds = %if.end82.i
  %enabled.i.i = getelementptr inbounds %struct.NvmeSubsystem, ptr %411, i64 0, i32 6, i32 1, i32 9
  %412 = load i8, ptr %enabled.i.i, align 8
  %413 = and i8 %412, 1
  %tobool2.not.i.i = icmp eq i8 %413, 0
  br i1 %tobool2.not.i.i, label %nvme_get_feature.exit, label %out.i315

sw.bb89.i:                                        ; preds = %sw.epilog.i320
  %tobool.not.i87.i = icmp ne i32 %.fr130.i, 0
  %414 = add i32 %.fr130.i, 1
  %415 = icmp ult i32 %414, 258
  %416 = and i1 %tobool.not.i87.i, %415
  br i1 %416, label %if.end92.i, label %nvme_get_feature.exit

if.end92.i:                                       ; preds = %sw.bb89.i
  %417 = add nsw i32 %.fr130.i, -257
  %or.cond.i88.i = icmp ult i32 %417, -256
  br i1 %or.cond.i88.i, label %nvme_get_feature.exit, label %nvme_ns.exit93.i

nvme_ns.exit93.i:                                 ; preds = %if.end92.i
  %idxprom.i90.i = zext nneg i32 %.fr130.i to i64
  %arrayidx.i91.i = getelementptr %struct.NvmeCtrl, ptr %0, i64 0, i32 35, i64 %idxprom.i90.i
  %418 = load ptr, ptr %arrayidx.i91.i, align 8
  %tobool94.not.i = icmp eq ptr %418, null
  br i1 %tobool94.not.i, label %nvme_get_feature.exit, label %if.end104.i

if.end104.i:                                      ; preds = %nvme_ns.exit93.i
  %call105.i = call fastcc zeroext i16 @nvme_get_feature_fdp_events(ptr noundef nonnull %0, ptr noundef nonnull %418, ptr noundef nonnull %28, ptr noundef nonnull %result.i)
  %tobool106.not.i = icmp eq i16 %call105.i, 0
  br i1 %tobool106.not.i, label %if.end104.out_crit_edge.i, label %nvme_get_feature.exit

if.end104.out_crit_edge.i:                        ; preds = %if.end104.i
  %.pre.i = load i32, ptr %result.i, align 4
  br label %out.i315

defaults.i:                                       ; preds = %if.end21.i314, %if.end21.i314
  switch i8 %conv.i298, label %sw.default157.i [
    i8 4, label %sw.bb111.i
    i8 7, label %sw.bb124.i
    i8 9, label %sw.bb127.i
    i8 29, label %sw.bb143.i
  ]

sw.bb111.i:                                       ; preds = %defaults.i
  %419 = and i32 %383, 4128768
  %or.cond.i319 = icmp eq i32 %419, 0
  %spec.store.select.i = select i1 %or.cond.i319, i32 343, i32 0
  br label %out.i315

sw.bb124.i:                                       ; preds = %defaults.i, %sw.epilog.i320
  %420 = load i32, ptr %conf_ioqpairs131.i, align 8
  %sub.i317 = add i32 %420, -1
  %shl.i318 = shl i32 %sub.i317, 16
  %or.i = or i32 %shl.i318, %sub.i317
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i94.i)
  %421 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i95.i = icmp ne i32 %421, 0
  %422 = load i16, ptr @_TRACE_PCI_NVME_GETFEAT_NUMQ_DSTATE, align 2
  %tobool4.i.i96.i = icmp ne i16 %422, 0
  %or.cond.i.i97.i = select i1 %tobool.i.i95.i, i1 %tobool4.i.i96.i, i1 false
  br i1 %or.cond.i.i97.i, label %land.lhs.true5.i.i98.i, label %trace_pci_nvme_getfeat_numq.exit.i

land.lhs.true5.i.i98.i:                           ; preds = %sw.bb124.i
  %423 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i99.i = and i32 %423, 32768
  %cmp.i.not.i.i100.i = icmp eq i32 %and.i.i.i99.i, 0
  br i1 %cmp.i.not.i.i100.i, label %trace_pci_nvme_getfeat_numq.exit.i, label %if.then.i.i101.i

if.then.i.i101.i:                                 ; preds = %land.lhs.true5.i.i98.i
  %424 = load i8, ptr @message_with_timestamp, align 1
  %425 = and i8 %424, 1
  %tobool7.not.i.i102.i = icmp eq i8 %425, 0
  br i1 %tobool7.not.i.i102.i, label %if.else.i.i107.i, label %if.then8.i.i103.i

if.then8.i.i103.i:                                ; preds = %if.then.i.i101.i
  %call9.i.i104.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i94.i, ptr noundef null) #17
  %call10.i.i105.i = call i32 @qemu_get_thread_id() #17
  %426 = load i64, ptr %_now.i.i94.i, align 8
  %427 = load i64, ptr %tv_usec.i.i106.i, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.404, i32 noundef %call10.i.i105.i, i64 noundef %426, i64 noundef %427, i32 noundef %or.i) #17
  br label %trace_pci_nvme_getfeat_numq.exit.i

if.else.i.i107.i:                                 ; preds = %if.then.i.i101.i
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.405, i32 noundef %or.i) #17
  br label %trace_pci_nvme_getfeat_numq.exit.i

trace_pci_nvme_getfeat_numq.exit.i:               ; preds = %if.else.i.i107.i, %if.then8.i.i103.i, %land.lhs.true5.i.i98.i, %sw.bb124.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i94.i)
  br label %out.i315

sw.bb127.i:                                       ; preds = %defaults.i, %sw.epilog.i320
  %conv130.i = and i32 %383, 65535
  %428 = load i32, ptr %conf_ioqpairs131.i, align 8
  %add.i316 = add i32 %428, 1
  %cmp132.not.i = icmp ult i32 %conv130.i, %add.i316
  br i1 %cmp132.not.i, label %if.end135.i, label %nvme_get_feature.exit

if.end135.i:                                      ; preds = %sw.bb127.i
  %429 = load i32, ptr %vector.i, align 8
  %cmp138.i = icmp eq i32 %conv130.i, %429
  %or141.i = or disjoint i32 %conv130.i, 65536
  %spec.select.i = select i1 %cmp138.i, i32 %or141.i, i32 %conv130.i
  br label %out.i315

sw.bb143.i:                                       ; preds = %defaults.i
  %conv145.i = and i32 %383, 255
  %cmp147.not.i = icmp eq i32 %conv145.i, 1
  br i1 %cmp147.not.i, label %if.end150.i, label %nvme_get_feature.exit

if.end150.i:                                      ; preds = %sw.bb143.i
  %430 = load ptr, ptr %subsys.i, align 8
  %tobool.not.i109.i = icmp eq ptr %430, null
  br i1 %tobool.not.i109.i, label %nvme_get_feature.exit, label %lor.lhs.false.i110.i

lor.lhs.false.i110.i:                             ; preds = %if.end150.i
  %enabled.i111.i = getelementptr inbounds %struct.NvmeSubsystem, ptr %430, i64 0, i32 6, i32 1, i32 9
  %431 = load i8, ptr %enabled.i111.i, align 8
  %432 = and i8 %431, 1
  %tobool2.not.i112.i = icmp eq i8 %432, 0
  br i1 %tobool2.not.i112.i, label %nvme_get_feature.exit, label %out.i315

sw.default157.i:                                  ; preds = %defaults.i, %sw.epilog.i320
  %arrayidx159.i = getelementptr [256 x i32], ptr @nvme_get_feature.nvme_feature_default, i64 0, i64 %idxprom.i304
  %433 = load i32, ptr %arrayidx159.i, align 4
  br label %out.i315

out.i315:                                         ; preds = %sw.default157.i, %lor.lhs.false.i110.i, %if.end135.i, %trace_pci_nvme_getfeat_numq.exit.i, %sw.bb111.i, %if.end104.out_crit_edge.i, %lor.lhs.false.i.i, %sw.bb68.i, %for.end.i324, %if.end53.i, %sw.bb38.i, %sw.bb36.i, %sw.bb27.i326, %if.end21.i314
  %434 = phi i32 [ %.pre.i, %if.end104.out_crit_edge.i ], [ %spec.store.select.i, %sw.bb111.i ], [ %or.i, %trace_pci_nvme_getfeat_numq.exit.i ], [ %433, %sw.default157.i ], [ 0, %sw.bb27.i326 ], [ %410, %sw.bb68.i ], [ %conv63133.i, %for.end.i324 ], [ %407, %if.end53.i ], [ %conv40.i, %sw.bb38.i ], [ %conv37.i, %sw.bb36.i ], [ %395, %if.end21.i314 ], [ 1, %lor.lhs.false.i.i ], [ %spec.select.i, %if.end135.i ], [ 1, %lor.lhs.false.i110.i ]
  %cqe.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 5
  store i32 %434, ptr %cqe.i, align 8
  br label %nvme_get_feature.exit

nvme_get_feature.exit:                            ; preds = %trace_pci_nvme_getfeat.exit.i, %if.then12.i308, %switch.early.test.i, %switch.early.test.i, %nvme_ns.exit.i310, %if.end33.i, %sw.bb42.i, %if.end45.i325, %nvme_ns.exit77.i, %sw.bb70.i, %sw.bb72.i, %sw.bb75.i, %if.end82.i, %lor.lhs.false.i.i, %sw.bb89.i, %if.end92.i, %nvme_ns.exit93.i, %if.end104.i, %sw.bb127.i, %sw.bb143.i, %if.end150.i, %lor.lhs.false.i110.i, %out.i315
  %retval.0.i309 = phi i16 [ 0, %out.i315 ], [ %call74.i, %sw.bb72.i ], [ %call71.i, %sw.bb70.i ], [ 16386, %trace_pci_nvme_getfeat.exit.i ], [ 16395, %switch.early.test.i ], [ 16386, %nvme_ns.exit.i310 ], [ 16386, %if.end33.i ], [ 16395, %sw.bb42.i ], [ 16386, %nvme_ns.exit77.i ], [ 16386, %sw.bb75.i ], [ 16395, %sw.bb89.i ], [ 16386, %nvme_ns.exit93.i ], [ %call105.i, %if.end104.i ], [ 16386, %sw.bb127.i ], [ 16386, %sw.bb143.i ], [ 16386, %if.end45.i325 ], [ 16386, %lor.lhs.false.i.i ], [ 16386, %if.end82.i ], [ 16386, %if.end92.i ], [ 16386, %lor.lhs.false.i110.i ], [ 16386, %if.end150.i ], [ 16395, %if.then12.i308 ], [ 16395, %switch.early.test.i ]
  call void @llvm.lifetime.end.p0(i64 4, ptr nonnull %result.i)
  br label %cond.end

nvme_cid.exit.i272:                               ; preds = %if.end20.i
  %435 = load i16, ptr %cid43, align 4
  %436 = zext i16 %435 to i32
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i268)
  %437 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i274 = icmp ne i32 %437, 0
  %438 = load i16, ptr @_TRACE_PCI_NVME_AER_DSTATE, align 2
  %tobool4.i.i.i275 = icmp ne i16 %438, 0
  %or.cond.i.i.i276 = select i1 %tobool.i.i.i274, i1 %tobool4.i.i.i275, i1 false
  br i1 %or.cond.i.i.i276, label %land.lhs.true5.i.i.i284, label %trace_pci_nvme_aer.exit.i

land.lhs.true5.i.i.i284:                          ; preds = %nvme_cid.exit.i272
  %439 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i285 = and i32 %439, 32768
  %cmp.i.not.i.i.i286 = icmp eq i32 %and.i.i.i.i285, 0
  br i1 %cmp.i.not.i.i.i286, label %trace_pci_nvme_aer.exit.i, label %if.then.i.i.i287

if.then.i.i.i287:                                 ; preds = %land.lhs.true5.i.i.i284
  %440 = load i8, ptr @message_with_timestamp, align 1
  %441 = and i8 %440, 1
  %tobool7.not.i.i.i288 = icmp eq i8 %441, 0
  br i1 %tobool7.not.i.i.i288, label %if.else.i.i.i293, label %if.then8.i.i.i289

if.then8.i.i.i289:                                ; preds = %if.then.i.i.i287
  %call9.i.i.i290 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i268, ptr noundef null) #17
  %call10.i.i.i291 = call i32 @qemu_get_thread_id() #17
  %442 = load i64, ptr %_now.i.i.i268, align 8
  %443 = load i64, ptr %tv_usec.i.i.i292, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.406, i32 noundef %call10.i.i.i291, i64 noundef %442, i64 noundef %443, i32 noundef %436) #17
  br label %trace_pci_nvme_aer.exit.i

if.else.i.i.i293:                                 ; preds = %if.then.i.i.i287
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.407, i32 noundef %436) #17
  br label %trace_pci_nvme_aer.exit.i

trace_pci_nvme_aer.exit.i:                        ; preds = %if.else.i.i.i293, %if.then8.i.i.i289, %land.lhs.true5.i.i.i284, %nvme_cid.exit.i272
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i268)
  %444 = load i8, ptr %outstanding_aers.i, align 8
  %445 = load i8, ptr %aerl.i, align 8
  %cmp.i277 = icmp ugt i8 %444, %445
  br i1 %cmp.i277, label %if.then.i283, label %if.end.i278

if.then.i283:                                     ; preds = %trace_pci_nvme_aer.exit.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i8.i)
  %446 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i9.i = icmp ne i32 %446, 0
  %447 = load i16, ptr @_TRACE_PCI_NVME_AER_AERL_EXCEEDED_DSTATE, align 2
  %tobool4.i.i10.i = icmp ne i16 %447, 0
  %or.cond.i.i11.i = select i1 %tobool.i.i9.i, i1 %tobool4.i.i10.i, i1 false
  br i1 %or.cond.i.i11.i, label %land.lhs.true5.i.i12.i, label %trace_pci_nvme_aer_aerl_exceeded.exit.i

land.lhs.true5.i.i12.i:                           ; preds = %if.then.i283
  %448 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i13.i = and i32 %448, 32768
  %cmp.i.not.i.i14.i = icmp eq i32 %and.i.i.i13.i, 0
  br i1 %cmp.i.not.i.i14.i, label %trace_pci_nvme_aer_aerl_exceeded.exit.i, label %if.then.i.i15.i

if.then.i.i15.i:                                  ; preds = %land.lhs.true5.i.i12.i
  %449 = load i8, ptr @message_with_timestamp, align 1
  %450 = and i8 %449, 1
  %tobool7.not.i.i16.i = icmp eq i8 %450, 0
  br i1 %tobool7.not.i.i16.i, label %if.else.i.i21.i, label %if.then8.i.i17.i

if.then8.i.i17.i:                                 ; preds = %if.then.i.i15.i
  %call9.i.i18.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i8.i, ptr noundef null) #17
  %call10.i.i19.i = call i32 @qemu_get_thread_id() #17
  %451 = load i64, ptr %_now.i.i8.i, align 8
  %452 = load i64, ptr %tv_usec.i.i20.i, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.408, i32 noundef %call10.i.i19.i, i64 noundef %451, i64 noundef %452) #17
  br label %trace_pci_nvme_aer_aerl_exceeded.exit.i

if.else.i.i21.i:                                  ; preds = %if.then.i.i15.i
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.409) #17
  br label %trace_pci_nvme_aer_aerl_exceeded.exit.i

trace_pci_nvme_aer_aerl_exceeded.exit.i:          ; preds = %if.else.i.i21.i, %if.then8.i.i17.i, %land.lhs.true5.i.i12.i, %if.then.i283
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i8.i)
  br label %if.then55

if.end.i278:                                      ; preds = %trace_pci_nvme_aer.exit.i
  %453 = load ptr, ptr %aer_reqs.i, align 16
  %idxprom.i279 = zext i8 %444 to i64
  %arrayidx.i280 = getelementptr ptr, ptr %453, i64 %idxprom.i279
  store ptr %28, ptr %arrayidx.i280, align 8
  %454 = load i8, ptr %outstanding_aers.i, align 8
  %inc.i281 = add i8 %454, 1
  store i8 %inc.i281, ptr %outstanding_aers.i, align 8
  %455 = load ptr, ptr %aer_queue.i, align 8
  %cmp5.i = icmp eq ptr %455, null
  br i1 %cmp5.i, label %if.end57, label %if.then7.i

if.then7.i:                                       ; preds = %if.end.i278
  call fastcc void @nvme_process_aers(ptr noundef nonnull %0)
  br label %if.end57

sw.bb43.i:                                        ; preds = %if.end20.i
  call void @llvm.lifetime.start.p0(i64 4096, ptr nonnull %list.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 16 dereferenceable(4096) %list.i, i8 0, i64 4096, i1 false)
  %nsid1.i222 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 3
  %456 = load i32, ptr %nsid1.i222, align 4
  %cdw10.i223 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 7
  %457 = load i32, ptr %cdw10.i223, align 8
  %conv.i224 = and i32 %457, 15
  %458 = load i16, ptr %cid43, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i221)
  %459 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i226 = icmp ne i32 %459, 0
  %460 = load i16, ptr @_TRACE_PCI_NVME_NS_ATTACHMENT_DSTATE, align 2
  %tobool4.i.i.i227 = icmp ne i16 %460, 0
  %or.cond.i.i.i228 = select i1 %tobool.i.i.i226, i1 %tobool4.i.i.i227, i1 false
  br i1 %or.cond.i.i.i228, label %land.lhs.true5.i.i.i256, label %trace_pci_nvme_ns_attachment.exit.i

land.lhs.true5.i.i.i256:                          ; preds = %sw.bb43.i
  %461 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i257 = and i32 %461, 32768
  %cmp.i.not.i.i.i258 = icmp eq i32 %and.i.i.i.i257, 0
  br i1 %cmp.i.not.i.i.i258, label %trace_pci_nvme_ns_attachment.exit.i, label %if.then.i.i.i259

if.then.i.i.i259:                                 ; preds = %land.lhs.true5.i.i.i256
  %462 = load i8, ptr @message_with_timestamp, align 1
  %463 = and i8 %462, 1
  %tobool7.not.i.i.i260 = icmp eq i8 %463, 0
  br i1 %tobool7.not.i.i.i260, label %if.else.i.i.i266, label %if.then8.i.i.i261

if.then8.i.i.i261:                                ; preds = %if.then.i.i.i259
  %call9.i.i.i262 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i221, ptr noundef null) #17
  %call10.i.i.i263 = call i32 @qemu_get_thread_id() #17
  %464 = load i64, ptr %_now.i.i.i221, align 8
  %465 = load i64, ptr %tv_usec.i.i.i264, align 8
  %conv11.i.i.i265 = zext i16 %458 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.410, i32 noundef %call10.i.i.i263, i64 noundef %464, i64 noundef %465, i32 noundef %conv11.i.i.i265, i32 noundef %conv.i224) #17
  br label %trace_pci_nvme_ns_attachment.exit.i

if.else.i.i.i266:                                 ; preds = %if.then.i.i.i259
  %conv13.i.i.i267 = zext i16 %458 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.411, i32 noundef %conv13.i.i.i267, i32 noundef %conv.i224) #17
  br label %trace_pci_nvme_ns_attachment.exit.i

trace_pci_nvme_ns_attachment.exit.i:              ; preds = %if.else.i.i.i266, %if.then8.i.i.i261, %land.lhs.true5.i.i.i256, %sw.bb43.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i221)
  %tobool.not.i34.i = icmp ne i32 %456, 0
  %466 = add i32 %456, 1
  %467 = icmp ult i32 %466, 258
  %468 = and i1 %tobool.not.i34.i, %467
  br i1 %468, label %if.end.i230, label %nvme_ns_attachment.exit

if.end.i230:                                      ; preds = %trace_pci_nvme_ns_attachment.exit.i
  %469 = load ptr, ptr %subsys.i, align 8
  %tobool.i.i231 = icmp eq ptr %469, null
  %470 = add nsw i32 %456, -257
  %471 = icmp ult i32 %470, -256
  %or.cond1.i.i = or i1 %471, %tobool.i.i231
  br i1 %or.cond1.i.i, label %nvme_ns_attachment.exit, label %nvme_subsys_ns.exit.i

nvme_subsys_ns.exit.i:                            ; preds = %if.end.i230
  %idxprom.i.i232 = zext nneg i32 %456 to i64
  %arrayidx.i.i233 = getelementptr %struct.NvmeSubsystem, ptr %469, i64 0, i32 5, i64 %idxprom.i.i232
  %472 = load ptr, ptr %arrayidx.i.i233, align 8
  %tobool.not.i234 = icmp eq ptr %472, null
  br i1 %tobool.not.i234, label %nvme_ns_attachment.exit, label %if.end11.i

if.end11.i:                                       ; preds = %nvme_subsys_ns.exit.i
  %sg.i.i235 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 8
  %call.i.i237 = call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %0, ptr noundef nonnull %sg.i.i235, i64 noundef 4096, ptr noundef nonnull %cmd44)
  %tobool.not.i37.i = icmp eq i16 %call.i.i237, 0
  br i1 %tobool.not.i37.i, label %nvme_h2c.exit.i, label %nvme_ns_attachment.exit

nvme_h2c.exit.i:                                  ; preds = %if.end11.i
  %call2.i.i238 = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i.i235, ptr noundef nonnull %list.i, i32 noundef 4096, i32 noundef 0)
  %tobool13.not.i = icmp eq i16 %call2.i.i238, 0
  br i1 %tobool13.not.i, label %if.end15.i, label %nvme_ns_attachment.exit

if.end15.i:                                       ; preds = %nvme_h2c.exit.i
  %473 = load i16, ptr %list.i, align 16
  %tobool16.not.i = icmp eq i16 %473, 0
  br i1 %tobool16.not.i, label %nvme_ns_attachment.exit, label %for.body.lr.ph.i239

for.body.lr.ph.i239:                              ; preds = %if.end15.i
  %474 = call i16 @llvm.umin.i16(i16 %473, i16 2047)
  store i16 %474, ptr %list.i, align 16
  %attached48.i = getelementptr inbounds %struct.NvmeNamespace, ptr %472, i64 0, i32 13
  %shared.i = getelementptr inbounds %struct.NvmeNamespace, ptr %472, i64 0, i32 30, i32 1
  %nsid1.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %472, i64 0, i32 30, i32 2
  %475 = getelementptr i8, ptr %472, i64 8466
  %iocs.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %472, i64 0, i32 10
  %csi.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %472, i64 0, i32 11
  %rem.i.i = and i64 %idxprom.i.i232, 63
  %shl.i.i240 = shl nuw i64 1, %rem.i.i
  %div5.i.i = lshr i64 %idxprom.i.i232, 6
  br label %for.body.i241

for.body.i241:                                    ; preds = %for.inc.i246, %for.body.lr.ph.i239
  %indvars.iv.i = phi i64 [ 0, %for.body.lr.ph.i239 ], [ %indvars.iv.next.i, %for.inc.i246 ]
  %476 = load ptr, ptr %subsys.i, align 8
  %arrayidx26.i = getelementptr i16, ptr %arrayidx4.i, i64 %indvars.iv.i
  %477 = load i16, ptr %arrayidx26.i, align 2
  %tobool.i40.i = icmp eq ptr %476, null
  %cmp.i.i242 = icmp ugt i16 %477, 255
  %or.cond.i.i243 = or i1 %tobool.i40.i, %cmp.i.i242
  br i1 %or.cond.i.i243, label %nvme_ns_attachment.exit, label %if.end.i41.i

if.end.i41.i:                                     ; preds = %for.body.i241
  %idxprom.i42.i = zext nneg i16 %477 to i64
  %arrayidx.i43.i = getelementptr %struct.NvmeSubsystem, ptr %476, i64 0, i32 4, i64 %idxprom.i42.i
  %478 = load ptr, ptr %arrayidx.i43.i, align 8
  %magicptr.i = ptrtoint ptr %478 to i64
  switch i64 %magicptr.i, label %if.end31.i [
    i64 65535, label %nvme_ns_attachment.exit
    i64 0, label %nvme_ns_attachment.exit
  ]

if.end31.i:                                       ; preds = %if.end.i41.i
  switch i32 %conv.i224, label %nvme_ns_attachment.exit [
    i32 0, label %nvme_ns.exit.i247
    i32 1, label %nvme_ns.exit59.i
  ]

nvme_ns.exit.i247:                                ; preds = %if.end31.i
  %arrayidx.i48.i = getelementptr %struct.NvmeCtrl, ptr %478, i64 0, i32 35, i64 %idxprom.i.i232
  %479 = load ptr, ptr %arrayidx.i48.i, align 8
  %tobool34.not.i = icmp eq ptr %479, null
  br i1 %tobool34.not.i, label %if.end36.i, label %nvme_ns_attachment.exit

if.end36.i:                                       ; preds = %nvme_ns.exit.i247
  %480 = load i32, ptr %attached48.i, align 4
  %tobool37.not.i = icmp eq i32 %480, 0
  br i1 %tobool37.not.i, label %if.end40.i249, label %land.lhs.true.i248

land.lhs.true.i248:                               ; preds = %if.end36.i
  %481 = load i8, ptr %shared.i, align 1
  %482 = and i8 %481, 1
  %tobool38.not.i = icmp eq i8 %482, 0
  br i1 %tobool38.not.i, label %nvme_ns_attachment.exit, label %if.end40.i249

if.end40.i249:                                    ; preds = %land.lhs.true.i248, %if.end36.i
  %483 = load i32, ptr %nsid1.i.i, align 4
  %484 = add i32 %483, -1
  %or.cond.i50.i = icmp ult i32 %484, 256
  br i1 %or.cond.i50.i, label %nvme_attach_ns.exit.i, label %if.else.i.i250

if.else.i.i250:                                   ; preds = %if.end40.i249
  call void @__assert_fail(ptr noundef nonnull @.str, ptr noundef nonnull @.str.1, i32 noundef 8293, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_attach_ns) #18
  unreachable

nvme_attach_ns.exit.i:                            ; preds = %if.end40.i249
  %idxprom.i52.i = zext nneg i32 %483 to i64
  %arrayidx.i53.i = getelementptr %struct.NvmeCtrl, ptr %478, i64 0, i32 35, i64 %idxprom.i52.i
  store ptr %472, ptr %arrayidx.i53.i, align 8
  %485 = load i32, ptr %attached48.i, align 4
  %inc.i.i = add i32 %485, 1
  store i32 %inc.i.i, ptr %attached48.i, align 4
  %dmrsl.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %478, i64 0, i32 31
  %486 = load i32, ptr %dmrsl.i.i, align 4
  %conv.i.i251 = zext i32 %486 to i64
  %ns.val.i.i = load i8, ptr %475, align 2
  %sh_prom.i.i.i = zext nneg i8 %ns.val.i.i to i64
  %div14.i.i = lshr i64 2147483136, %sh_prom.i.i.i
  %cmp2.i.i = icmp eq i32 %486, 0
  %cmp4.i.i252 = icmp ugt i8 %ns.val.i.i, 30
  %487 = call i64 @llvm.umin.i64(i64 %div14.i.i, i64 %conv.i.i251)
  %spec.select.i.i253 = select i1 %cmp4.i.i252, i64 %conv.i.i251, i64 %487
  %cond11.i.i = select i1 %cmp2.i.i, i64 %div14.i.i, i64 %spec.select.i.i253
  %conv12.i.i = trunc i64 %cond11.i.i to i32
  store i32 %conv12.i.i, ptr %dmrsl.i.i, align 4
  %488 = getelementptr i8, ptr %478, i64 3172
  %call28.val.i = load i32, ptr %488, align 1
  store ptr @nvme_cse_iocs_none, ptr %iocs.i.i, align 8
  %489 = load i8, ptr %csi.i.i, align 8
  switch i8 %489, label %sw.epilog.i [
    i8 0, label %sw.bb.i.i
    i8 2, label %sw.bb4.i.i254
  ]

sw.bb.i.i:                                        ; preds = %nvme_attach_ns.exit.i
  %490 = and i32 %call28.val.i, 112
  %cmp.not.i.i255 = icmp eq i32 %490, 112
  br i1 %cmp.not.i.i255, label %sw.epilog.i, label %sw.epilog.sink.split.i.i

sw.bb4.i.i254:                                    ; preds = %nvme_attach_ns.exit.i
  %shr5.i.i = lshr i32 %call28.val.i, 4
  %and6.i.i = and i32 %shr5.i.i, 7
  switch i32 %and6.i.i, label %sw.epilog.i [
    i32 6, label %sw.epilog.sink.split.i.i
    i32 0, label %if.then15.i.i
  ]

if.then15.i.i:                                    ; preds = %sw.bb4.i.i254
  br label %sw.epilog.sink.split.i.i

sw.epilog.sink.split.i.i:                         ; preds = %if.then15.i.i, %sw.bb4.i.i254, %sw.bb.i.i
  %nvme_cse_iocs_zoned.sink.i.i = phi ptr [ @nvme_cse_iocs_nvm, %if.then15.i.i ], [ @nvme_cse_iocs_nvm, %sw.bb.i.i ], [ @nvme_cse_iocs_zoned, %sw.bb4.i.i254 ]
  store ptr %nvme_cse_iocs_zoned.sink.i.i, ptr %iocs.i.i, align 8
  br label %sw.epilog.i

nvme_ns.exit59.i:                                 ; preds = %if.end31.i
  %arrayidx.i57.i = getelementptr %struct.NvmeCtrl, ptr %478, i64 0, i32 35, i64 %idxprom.i.i232
  %491 = load ptr, ptr %arrayidx.i57.i, align 8
  %tobool43.not.i = icmp eq ptr %491, null
  br i1 %tobool43.not.i, label %nvme_ns_attachment.exit, label %if.end45.i

if.end45.i:                                       ; preds = %nvme_ns.exit59.i
  store ptr null, ptr %arrayidx.i57.i, align 8
  %492 = load i32, ptr %attached48.i, align 4
  %dec.i = add i32 %492, -1
  store i32 %dec.i, ptr %attached48.i, align 4
  %dmrsl.i60.i = getelementptr inbounds %struct.NvmeCtrl, ptr %478, i64 0, i32 31
  br label %nvme_ns.exit.i.i244

nvme_ns.exit.i.i244:                              ; preds = %for.inc.i.i, %if.end45.i
  %indvars.iv.i.i = phi i64 [ 1, %if.end45.i ], [ %indvars.iv.next.i.i, %for.inc.i.i ]
  %arrayidx.i.i.i245 = getelementptr %struct.NvmeCtrl, ptr %478, i64 0, i32 35, i64 %indvars.iv.i.i
  %493 = load ptr, ptr %arrayidx.i.i.i245, align 8
  %tobool.not.i61.i = icmp eq ptr %493, null
  br i1 %tobool.not.i61.i, label %for.inc.i.i, label %if.end.i62.i

if.end.i62.i:                                     ; preds = %nvme_ns.exit.i.i244
  %494 = load i32, ptr %dmrsl.i60.i, align 4
  %conv.i63.i = zext i32 %494 to i64
  %495 = getelementptr i8, ptr %493, i64 8466
  %call.val.i.i = load i8, ptr %495, align 2
  %sh_prom.i.i64.i = zext nneg i8 %call.val.i.i to i64
  %div13.i.i = lshr i64 2147483136, %sh_prom.i.i64.i
  %cmp2.i65.i = icmp eq i32 %494, 0
  %cmp4.i66.i = icmp ugt i8 %call.val.i.i, 30
  %496 = call i64 @llvm.umin.i64(i64 %div13.i.i, i64 %conv.i63.i)
  %spec.select.i67.i = select i1 %cmp4.i66.i, i64 %conv.i63.i, i64 %496
  %cond11.i68.i = select i1 %cmp2.i65.i, i64 %div13.i.i, i64 %spec.select.i67.i
  %conv12.i69.i = trunc i64 %cond11.i68.i to i32
  store i32 %conv12.i69.i, ptr %dmrsl.i60.i, align 4
  br label %for.inc.i.i

for.inc.i.i:                                      ; preds = %if.end.i62.i, %nvme_ns.exit.i.i244
  %indvars.iv.next.i.i = add nuw nsw i64 %indvars.iv.i.i, 1
  %exitcond.not.i.i = icmp eq i64 %indvars.iv.next.i.i, 257
  br i1 %exitcond.not.i.i, label %sw.epilog.i, label %nvme_ns.exit.i.i244, !llvm.loop !39

sw.epilog.i:                                      ; preds = %for.inc.i.i, %sw.epilog.sink.split.i.i, %sw.bb4.i.i254, %sw.bb.i.i, %nvme_attach_ns.exit.i
  %changed_nsids.i = getelementptr inbounds %struct.NvmeCtrl, ptr %478, i64 0, i32 32
  %add.ptr.i.i = getelementptr i64, ptr %changed_nsids.i, i64 %div5.i.i
  %497 = load i64, ptr %add.ptr.i.i, align 8
  %or.i.i = or i64 %497, %shl.i.i240
  store i64 %or.i.i, ptr %add.ptr.i.i, align 8
  %and.i.i = and i64 %497, %shl.i.i240
  %cmp.i70.not.i = icmp eq i64 %and.i.i, 0
  br i1 %cmp.i70.not.i, label %if.then53.i, label %for.inc.i246

if.then53.i:                                      ; preds = %sw.epilog.i
  call fastcc void @nvme_enqueue_event(ptr noundef nonnull %478, i8 noundef zeroext 2, i8 noundef zeroext 0, i8 noundef zeroext 4)
  br label %for.inc.i246

for.inc.i246:                                     ; preds = %if.then53.i, %sw.epilog.i
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  %498 = load i16, ptr %list.i, align 16
  %499 = zext i16 %498 to i64
  %cmp23.i = icmp ult i64 %indvars.iv.next.i, %499
  br i1 %cmp23.i, label %for.body.i241, label %nvme_ns_attachment.exit, !llvm.loop !40

nvme_ns_attachment.exit:                          ; preds = %for.body.i241, %if.end.i41.i, %if.end.i41.i, %if.end31.i, %nvme_ns.exit.i247, %land.lhs.true.i248, %nvme_ns.exit59.i, %for.inc.i246, %trace_pci_nvme_ns_attachment.exit.i, %if.end.i230, %nvme_subsys_ns.exit.i, %if.end11.i, %nvme_h2c.exit.i, %if.end15.i
  %retval.0.i229 = phi i16 [ 16395, %trace_pci_nvme_ns_attachment.exit.i ], [ 16386, %nvme_subsys_ns.exit.i ], [ %call2.i.i238, %nvme_h2c.exit.i ], [ 16668, %if.end15.i ], [ 16386, %if.end.i230 ], [ %call.i.i237, %if.end11.i ], [ 16664, %nvme_ns.exit.i247 ], [ 16665, %land.lhs.true.i248 ], [ 16666, %nvme_ns.exit59.i ], [ 16386, %if.end31.i ], [ 0, %for.inc.i246 ], [ 16668, %for.body.i241 ], [ 16668, %if.end.i41.i ], [ 16668, %if.end.i41.i ]
  call void @llvm.lifetime.end.p0(i64 4096, ptr nonnull %list.i)
  br label %cond.end

sw.bb45.i:                                        ; preds = %if.end20.i
  %cdw10.i189 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 7
  %500 = load i32, ptr %cdw10.i189, align 8
  %cdw11.i190 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 8
  %501 = load i32, ptr %cdw11.i190, align 4
  %conv.i191 = and i32 %500, 15
  %shr.i = lshr i32 %500, 8
  %502 = trunc i32 %shr.i to i8
  %conv4.i = and i8 %502, 7
  %shr5.i = lshr i32 %500, 16
  %conv7.i = trunc i32 %shr5.i to i16
  %and8.i192 = and i32 %501, 65535
  %503 = load i16, ptr %cid43, align 4
  %conv11.i194 = and i32 %shr.i, 7
  %tobool.not.i195 = icmp eq i32 %conv11.i194, 0
  %cond.i = select i1 %tobool.not.i195, ptr @.str.413, ptr @.str.412
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i188)
  %504 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i196 = icmp ne i32 %504, 0
  %505 = load i16, ptr @_TRACE_PCI_NVME_VIRT_MNGMT_DSTATE, align 2
  %tobool4.i.i.i197 = icmp ne i16 %505, 0
  %or.cond.i.i.i198 = select i1 %tobool.i.i.i196, i1 %tobool4.i.i.i197, i1 false
  br i1 %or.cond.i.i.i198, label %land.lhs.true5.i.i.i208, label %trace_pci_nvme_virt_mngmt.exit.i

land.lhs.true5.i.i.i208:                          ; preds = %sw.bb45.i
  %506 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i209 = and i32 %506, 32768
  %cmp.i.not.i.i.i210 = icmp eq i32 %and.i.i.i.i209, 0
  br i1 %cmp.i.not.i.i.i210, label %trace_pci_nvme_virt_mngmt.exit.i, label %if.then.i.i.i211

if.then.i.i.i211:                                 ; preds = %land.lhs.true5.i.i.i208
  %507 = load i8, ptr @message_with_timestamp, align 1
  %508 = and i8 %507, 1
  %tobool7.not.i.i.i212 = icmp eq i8 %508, 0
  br i1 %tobool7.not.i.i.i212, label %if.else.i.i.i218, label %if.then8.i.i.i213

if.then8.i.i.i213:                                ; preds = %if.then.i.i.i211
  %call9.i.i.i214 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i188, ptr noundef null) #17
  %call10.i.i.i215 = call i32 @qemu_get_thread_id() #17
  %509 = load i64, ptr %_now.i.i.i188, align 8
  %510 = load i64, ptr %tv_usec.i.i.i216, align 8
  %conv11.i.i.i217 = zext i16 %503 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.414, i32 noundef %call10.i.i.i215, i64 noundef %509, i64 noundef %510, i32 noundef %conv11.i.i.i217, i32 noundef %conv.i191, i32 noundef %shr5.i, ptr noundef nonnull %cond.i, i32 noundef %and8.i192) #17
  br label %trace_pci_nvme_virt_mngmt.exit.i

if.else.i.i.i218:                                 ; preds = %if.then.i.i.i211
  %conv15.i.i.i219 = zext i16 %503 to i32
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.415, i32 noundef %conv15.i.i.i219, i32 noundef %conv.i191, i32 noundef %shr5.i, ptr noundef nonnull %cond.i, i32 noundef %and8.i192) #17
  br label %trace_pci_nvme_virt_mngmt.exit.i

trace_pci_nvme_virt_mngmt.exit.i:                 ; preds = %if.else.i.i.i218, %if.then8.i.i.i213, %land.lhs.true5.i.i.i208, %sw.bb45.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i188)
  %or.cond.i199 = icmp ugt i32 %conv11.i194, 1
  br i1 %or.cond.i199, label %if.then55, label %if.end.i200

if.end.i200:                                      ; preds = %trace_pci_nvme_virt_mngmt.exit.i
  switch i32 %conv.i191, label %if.then55 [
    i32 8, label %sw.bb.i203
    i32 1, label %sw.bb20.i
    i32 9, label %sw.bb22.i
    i32 7, label %sw.bb24.i
  ]

sw.bb.i203:                                       ; preds = %if.end.i200
  %511 = load i8, ptr %sec_ctrl_list.i.i.i, align 1
  %cmp6.not.i.i.i = icmp eq i8 %511, 0
  br i1 %cmp6.not.i.i.i, label %if.then55, label %for.body.preheader.i.i.i

for.body.preheader.i.i.i:                         ; preds = %sw.bb.i203
  %wide.trip.count.i.i.i = zext i8 %511 to i64
  br label %for.body.i.i.i

for.cond.i.i.i:                                   ; preds = %for.body.i.i.i
  %indvars.iv.next.i.i.i = add nuw nsw i64 %indvars.iv.i.i.i, 1
  %exitcond.not.i.i.i = icmp eq i64 %indvars.iv.next.i.i.i, %wide.trip.count.i.i.i
  br i1 %exitcond.not.i.i.i, label %if.then55, label %for.body.i.i.i, !llvm.loop !41

for.body.i.i.i:                                   ; preds = %for.cond.i.i.i, %for.body.preheader.i.i.i
  %indvars.iv.i.i.i = phi i64 [ 0, %for.body.preheader.i.i.i ], [ %indvars.iv.next.i.i.i, %for.cond.i.i.i ]
  %arrayidx.i.i.i204 = getelementptr %struct.NvmeCtrl, ptr %0, i64 0, i32 43, i32 2, i64 %indvars.iv.i.i.i
  %512 = load i16, ptr %arrayidx.i.i.i204, align 1
  %cmp5.i.i.i = icmp eq i16 %512, %conv7.i
  br i1 %cmp5.i.i.i, label %if.end.i22.i, label %for.cond.i.i.i

if.end.i22.i:                                     ; preds = %for.body.i.i.i
  %scs.i.i = getelementptr %struct.NvmeCtrl, ptr %0, i64 0, i32 43, i32 2, i64 %indvars.iv.i.i.i, i32 2
  %513 = load i8, ptr %scs.i.i, align 1
  %tobool1.not.i.i = icmp eq i8 %513, 0
  br i1 %tobool1.not.i.i, label %if.end3.i.i, label %if.then55

if.end3.i.i:                                      ; preds = %if.end.i22.i
  %tobool4.not.i.i = icmp eq i8 %conv4.i, 0
  %cond.in.in.i.i = select i1 %tobool4.not.i.i, ptr %vqfrsm.i.i, ptr %vifrsm.i.i
  %cond.in16.i.i = load i16, ptr %cond.in.in.i.i, align 4
  %conv10.i.i = zext i16 %cond.in16.i.i to i32
  %cmp.i.i205 = icmp ugt i32 %and8.i192, %conv10.i.i
  br i1 %cmp.i.i205, label %if.then55, label %if.end13.i.i206

if.end13.i.i206:                                  ; preds = %if.end3.i.i
  %cond.in.i.i.i = select i1 %tobool4.not.i.i, ptr %vqfrt.i.i28.i, ptr %vifrt.i.i27.i
  %cond.i.i.i = load i32, ptr %cond.in.i.i.i, align 8
  %cond11.in.in.i.i.i = select i1 %tobool4.not.i.i, ptr %vqrfap.i.i.i, ptr %virfap.i.i.i
  %cond11.in8.i.i.i = load i16, ptr %cond11.in.in.i.i.i, align 8
  %conv14.i.i23.i = zext i16 %cond11.in8.i.i.i to i32
  %cond22.in.i.i.i = select i1 %tobool4.not.i.i, ptr %vqrfa.i.i31.i, ptr %virfa.i.i32.i
  %cond22.i.i.i = load i32, ptr %cond22.in.i.i.i, align 4
  %conv25.i.i.i = and i32 %cond22.i.i.i, 65535
  %514 = add nuw nsw i32 %conv25.i.i.i, %conv14.i.i23.i
  %sub14.i.i = sub i32 %cond.i.i.i, %514
  %nvi.i.i = getelementptr %struct.NvmeCtrl, ptr %0, i64 0, i32 43, i32 2, i64 %indvars.iv.i.i.i, i32 6
  %nvq.i.i = getelementptr %struct.NvmeCtrl, ptr %0, i64 0, i32 43, i32 2, i64 %indvars.iv.i.i.i, i32 5
  %cond22.in.in.i.i = select i1 %tobool4.not.i.i, ptr %nvq.i.i, ptr %nvi.i.i
  %cond22.in17.i.i = load i16, ptr %cond22.in.in.i.i, align 1
  %conv25.i.i = zext i16 %cond22.in17.i.i to i32
  %sub26.i.i = sub nsw i32 %and8.i192, %conv25.i.i
  %cmp27.i.i = icmp sgt i32 %sub26.i.i, %sub14.i.i
  br i1 %cmp27.i.i, label %if.then55, label %if.end30.i.i

if.end30.i.i:                                     ; preds = %if.end13.i.i206
  %conv12.i.i24.i = trunc i32 %501 to i16
  store i16 %conv12.i.i24.i, ptr %cond22.in.in.i.i, align 1
  %add15.i.i.i = add i32 %cond22.i.i.i, %and8.i192
  %sub16.i.i.i = sub i32 %add15.i.i.i, %conv25.i.i
  store i32 %sub16.i.i.i, ptr %cond22.in.i.i.i, align 4
  %cqe.i.i207 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 5
  store i32 %and8.i192, ptr %cqe.i.i207, align 8
  %status.i.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 3
  %515 = load i16, ptr %status.i.i, align 8
  br label %cond.end

sw.bb20.i:                                        ; preds = %if.end.i200
  %516 = load i16, ptr %cntlid1.i.i, align 8
  %cmp.not.i.i = icmp eq i16 %516, %conv7.i
  br i1 %cmp.not.i.i, label %if.end.i26.i, label %if.then55

if.end.i26.i:                                     ; preds = %sw.bb20.i
  %tobool.not.i.i.i = icmp eq i8 %conv4.i, 0
  %cond.in.i.i29.i = select i1 %tobool.not.i.i.i, ptr %vqfrt.i.i28.i, ptr %vifrt.i.i27.i
  %cond.i.i30.i = load i32, ptr %cond.in.i.i29.i, align 8
  %cmp4.i.i = icmp slt i32 %cond.i.i30.i, %and8.i192
  br i1 %cmp4.i.i, label %if.then55, label %if.end7.i.i

if.end7.i.i:                                      ; preds = %if.end.i26.i
  %cond22.in.i.i33.i = select i1 %tobool.not.i.i.i, ptr %vqrfa.i.i31.i, ptr %virfa.i.i32.i
  %cond22.i.i34.i = load i32, ptr %cond22.in.i.i33.i, align 4
  %conv25.i.i35.i = and i32 %cond22.i.i34.i, 65535
  %sub.i.i = sub nsw i32 %cond.i.i30.i, %conv25.i.i35.i
  %cmp8.i.i = icmp slt i32 %sub.i.i, %and8.i192
  br i1 %cmp8.i.i, label %if.then55, label %if.end11.i.i

if.end11.i.i:                                     ; preds = %if.end7.i.i
  %conv14.i.i = trunc i32 %501 to i16
  br i1 %tobool.not.i.i.i, label %if.else.i.i202, label %if.then12.i.i

if.then12.i.i:                                    ; preds = %if.end11.i.i
  store i16 %conv14.i.i, ptr %virfap.i.i, align 2
  br label %if.end17.i.i

if.else.i.i202:                                   ; preds = %if.end11.i.i
  store i16 %conv14.i.i, ptr %next_pri_ctrl_cap16.i.i, align 8
  br label %if.end17.i.i

if.end17.i.i:                                     ; preds = %if.else.i.i202, %if.then12.i.i
  %cqe.i36.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 5
  store i32 %and8.i192, ptr %cqe.i36.i, align 8
  %status.i37.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 3
  %517 = load i16, ptr %status.i37.i, align 8
  br label %cond.end

sw.bb22.i:                                        ; preds = %if.end.i200
  %call23.i = call fastcc zeroext i16 @nvme_virt_set_state(ptr noundef nonnull %0, i16 noundef zeroext %conv7.i, i1 noundef zeroext true), !range !18
  br label %if.then55

sw.bb24.i:                                        ; preds = %if.end.i200
  %call25.i = call fastcc zeroext i16 @nvme_virt_set_state(ptr noundef nonnull %0, i16 noundef zeroext %conv7.i, i1 noundef zeroext false), !range !18
  br label %if.then55

sw.bb47.i:                                        ; preds = %if.end20.i
  %call.i.i153 = call ptr @object_dynamic_cast_assert(ptr noundef nonnull %0, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %dptr.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 6
  %518 = load i64, ptr %dptr.i, align 8
  %prp2.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 6, i32 0, i32 1
  %519 = load i64, ptr %prp2.i, align 8
  %520 = load i32, ptr %page_size.i, align 4
  %sub.i = add i32 %520, -1
  %conv.i154 = zext i32 %sub.i to i64
  %and.i155 = and i64 %518, %conv.i154
  %tobool.not.i156 = icmp eq i64 %and.i155, 0
  %and8.i = and i64 %519, %conv.i154
  %tobool9.not.i = icmp eq i64 %and8.i, 0
  %or.cond.i157 = select i1 %tobool.not.i156, i1 %tobool9.not.i, i1 false
  br i1 %or.cond.i157, label %if.end.i159, label %if.then55

if.end.i159:                                      ; preds = %sw.bb47.i
  store i64 %518, ptr %dbbuf_dbs.i, align 16
  store i64 %519, ptr %dbbuf_eis.i, align 8
  store i8 1, ptr %dbbuf_enabled, align 16
  %521 = load i32, ptr %max_ioqpairs.i, align 4
  %cmp81.not.i = icmp eq i32 %521, -1
  br i1 %cmp81.not.i, label %for.end.i, label %for.body.lr.ph.i

for.body.lr.ph.i:                                 ; preds = %if.end.i159
  %bus_master_as.i.i.i160 = getelementptr inbounds %struct.PCIDevice, ptr %call.i.i153, i64 0, i32 12
  %add68.i = add i64 %518, 4
  %add73.i = add i64 %519, 4
  br label %for.body.i

for.body.i:                                       ; preds = %for.inc.i, %for.body.lr.ph.i
  %.compoundliteral77.sroa.0.084.i = phi i32 [ undef, %for.body.lr.ph.i ], [ %.compoundliteral77.sroa.0.1.i, %for.inc.i ]
  %.compoundliteral.sroa.0.083.i = phi i32 [ undef, %for.body.lr.ph.i ], [ %.compoundliteral.sroa.0.1.i, %for.inc.i ]
  %i.082.i = phi i32 [ 0, %for.body.lr.ph.i ], [ %inc.i, %for.inc.i ]
  %522 = load ptr, ptr %sq11.i, align 16
  %idxprom.i161 = sext i32 %i.082.i to i64
  %arrayidx.i162 = getelementptr ptr, ptr %522, i64 %idxprom.i161
  %523 = load ptr, ptr %arrayidx.i162, align 8
  %524 = load ptr, ptr %cq1, align 8
  %arrayidx14.i = getelementptr ptr, ptr %524, i64 %idxprom.i161
  %525 = load ptr, ptr %arrayidx14.i, align 8
  %tobool15.not.i = icmp eq ptr %523, null
  br i1 %tobool15.not.i, label %if.end63.i, label %if.then16.i

if.then16.i:                                      ; preds = %for.body.i
  %shl.i163 = shl i32 %i.082.i, 3
  %conv17.i164 = sext i32 %shl.i163 to i64
  %add18.i = add i64 %518, %conv17.i164
  %db_addr.i = getelementptr inbounds %struct.NvmeSQueue, ptr %523, i64 0, i32 7
  store i64 %add18.i, ptr %db_addr.i, align 8
  %add21.i = add i64 %519, %conv17.i164
  %ei_addr.i165 = getelementptr inbounds %struct.NvmeSQueue, ptr %523, i64 0, i32 8
  store i64 %add21.i, ptr %ei_addr.i165, align 8
  %tail.i166 = getelementptr inbounds %struct.NvmeSQueue, ptr %523, i64 0, i32 4
  %526 = load i32, ptr %tail.i166, align 8
  %bf.set.i = and i32 %.compoundliteral.sroa.0.083.i, -67108864
  %bf.clear24.i = or disjoint i32 %bf.set.i, 1
  call void @llvm.lifetime.start.p0(i64 4, ptr nonnull %val.addr.i.i.i152)
  store i32 %526, ptr %val.addr.i.i.i152, align 4
  call void asm sideeffect "", "~{memory},~{dirflag},~{fpsr},~{flags}"() #17, !srcloc !10
  fence seq_cst
  %call.i.i.i.i.i.i167 = call i32 @address_space_rw(ptr noundef nonnull %bus_master_as.i.i.i160, i64 noundef %add18.i, i32 %bf.clear24.i, ptr noundef nonnull %val.addr.i.i.i152, i64 noundef 4, i1 noundef zeroext true) #17
  call void @llvm.lifetime.end.p0(i64 4, ptr nonnull %val.addr.i.i.i152)
  %527 = load i8, ptr %ioeventfd.i, align 2
  %528 = and i8 %527, 1
  %tobool52.not.i = icmp eq i8 %528, 0
  br i1 %tobool52.not.i, label %if.end63.i, label %land.lhs.true.i168

land.lhs.true.i168:                               ; preds = %if.then16.i
  %sqid.i169 = getelementptr inbounds %struct.NvmeSQueue, ptr %523, i64 0, i32 1
  %529 = load i16, ptr %sqid.i169, align 8
  %cmp55.not.i = icmp eq i16 %529, 0
  br i1 %cmp55.not.i, label %if.end63.i, label %if.then57.i

if.then57.i:                                      ; preds = %land.lhs.true.i168
  %530 = load ptr, ptr %523, align 8
  %notifier.i.i = getelementptr inbounds %struct.NvmeSQueue, ptr %523, i64 0, i32 10
  %call.i63.i = call i32 @event_notifier_init(ptr noundef nonnull %notifier.i.i, i32 noundef 0) #17
  %cmp.i.i170 = icmp slt i32 %call.i63.i, 0
  br i1 %cmp.i.i170, label %if.end63.i, label %if.then60.i

if.then60.i:                                      ; preds = %if.then57.i
  %shl.i.i = shl i16 %529, 3
  call void @event_notifier_set_handler(ptr noundef nonnull %notifier.i.i, ptr noundef nonnull @nvme_sq_notifier) #17
  %iomem.i.i = getelementptr inbounds %struct.NvmeCtrl, ptr %530, i64 0, i32 2
  %conv4.i.i = zext i16 %shl.i.i to i64
  %add.i.i = add nuw nsw i64 %conv4.i.i, 4096
  call void @memory_region_add_eventfd(ptr noundef nonnull %iomem.i.i, i64 noundef %add.i.i, i32 noundef 4, i1 noundef zeroext false, i64 noundef 0, ptr noundef nonnull %notifier.i.i) #17
  %ioeventfd_enabled.i = getelementptr inbounds %struct.NvmeSQueue, ptr %523, i64 0, i32 11
  store i8 1, ptr %ioeventfd_enabled.i, align 4
  br label %if.end63.i

if.end63.i:                                       ; preds = %if.then60.i, %if.then57.i, %land.lhs.true.i168, %if.then16.i, %for.body.i
  %.compoundliteral.sroa.0.1.i = phi i32 [ %bf.clear24.i, %if.then60.i ], [ %bf.clear24.i, %land.lhs.true.i168 ], [ %bf.clear24.i, %if.then16.i ], [ %.compoundliteral.sroa.0.083.i, %for.body.i ], [ %bf.clear24.i, %if.then57.i ]
  %tobool64.not.i = icmp eq ptr %525, null
  br i1 %tobool64.not.i, label %for.inc.i, label %if.then65.i

if.then65.i:                                      ; preds = %if.end63.i
  %shl66.i = shl i32 %i.082.i, 3
  %conv67.i = sext i32 %shl66.i to i64
  %add69.i = add i64 %add68.i, %conv67.i
  %db_addr70.i = getelementptr inbounds %struct.NvmeCQueue, ptr %525, i64 0, i32 9
  store i64 %add69.i, ptr %db_addr70.i, align 8
  %add74.i = add i64 %add73.i, %conv67.i
  %ei_addr75.i = getelementptr inbounds %struct.NvmeCQueue, ptr %525, i64 0, i32 10
  store i64 %add74.i, ptr %ei_addr75.i, align 8
  %head.i171 = getelementptr inbounds %struct.NvmeCQueue, ptr %525, i64 0, i32 4
  %531 = load i32, ptr %head.i171, align 8
  %bf.set80.i = and i32 %.compoundliteral77.sroa.0.084.i, -67108864
  %bf.clear82.i = or disjoint i32 %bf.set80.i, 1
  call void @llvm.lifetime.start.p0(i64 4, ptr nonnull %val.addr.i.i64.i)
  store i32 %531, ptr %val.addr.i.i64.i, align 4
  call void asm sideeffect "", "~{memory},~{dirflag},~{fpsr},~{flags}"() #17, !srcloc !10
  fence seq_cst
  %call.i.i.i.i.i66.i = call i32 @address_space_rw(ptr noundef nonnull %bus_master_as.i.i.i160, i64 noundef %add69.i, i32 %bf.clear82.i, ptr noundef nonnull %val.addr.i.i64.i, i64 noundef 4, i1 noundef zeroext true) #17
  call void @llvm.lifetime.end.p0(i64 4, ptr nonnull %val.addr.i.i64.i)
  %532 = load i8, ptr %ioeventfd.i, align 2
  %533 = and i8 %532, 1
  %tobool112.not.i = icmp eq i8 %533, 0
  br i1 %tobool112.not.i, label %for.inc.i, label %land.lhs.true114.i

land.lhs.true114.i:                               ; preds = %if.then65.i
  %cqid.i = getelementptr inbounds %struct.NvmeCQueue, ptr %525, i64 0, i32 2
  %534 = load i16, ptr %cqid.i, align 2
  %cmp116.not.i = icmp eq i16 %534, 0
  br i1 %cmp116.not.i, label %for.inc.i, label %if.then118.i

if.then118.i:                                     ; preds = %land.lhs.true114.i
  %535 = load ptr, ptr %525, align 8
  %notifier.i67.i = getelementptr inbounds %struct.NvmeCQueue, ptr %525, i64 0, i32 12
  %call.i68.i = call i32 @event_notifier_init(ptr noundef nonnull %notifier.i67.i, i32 noundef 0) #17
  %cmp.i69.i = icmp slt i32 %call.i68.i, 0
  br i1 %cmp.i69.i, label %for.inc.i, label %if.then121.i

if.then121.i:                                     ; preds = %if.then118.i
  %shl.i71.i = shl i16 %534, 3
  %add.i72.i = or disjoint i16 %shl.i71.i, 4
  call void @event_notifier_set_handler(ptr noundef nonnull %notifier.i67.i, ptr noundef nonnull @nvme_cq_notifier) #17
  %iomem.i73.i = getelementptr inbounds %struct.NvmeCtrl, ptr %535, i64 0, i32 2
  %conv4.i74.i = zext i16 %add.i72.i to i64
  %add5.i.i = add nuw nsw i64 %conv4.i74.i, 4096
  call void @memory_region_add_eventfd(ptr noundef nonnull %iomem.i73.i, i64 noundef %add5.i.i, i32 noundef 4, i1 noundef zeroext false, i64 noundef 0, ptr noundef nonnull %notifier.i67.i) #17
  %ioeventfd_enabled122.i = getelementptr inbounds %struct.NvmeCQueue, ptr %525, i64 0, i32 13
  store i8 1, ptr %ioeventfd_enabled122.i, align 4
  br label %for.inc.i

for.inc.i:                                        ; preds = %if.then121.i, %if.then118.i, %land.lhs.true114.i, %if.then65.i, %if.end63.i
  %.compoundliteral77.sroa.0.1.i = phi i32 [ %bf.clear82.i, %if.then121.i ], [ %bf.clear82.i, %land.lhs.true114.i ], [ %bf.clear82.i, %if.then65.i ], [ %.compoundliteral77.sroa.0.084.i, %if.end63.i ], [ %bf.clear82.i, %if.then118.i ]
  %inc.i = add nuw i32 %i.082.i, 1
  %536 = load i32, ptr %max_ioqpairs.i, align 4
  %add.i172 = add i32 %536, 1
  %cmp.i173 = icmp ult i32 %inc.i, %add.i172
  br i1 %cmp.i173, label %for.body.i, label %for.end.i, !llvm.loop !42

for.end.i:                                        ; preds = %for.inc.i, %if.end.i159
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i151)
  %537 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i174 = icmp ne i32 %537, 0
  %538 = load i16, ptr @_TRACE_PCI_NVME_DBBUF_CONFIG_DSTATE, align 2
  %tobool4.i.i.i175 = icmp ne i16 %538, 0
  %or.cond.i.i.i176 = select i1 %tobool.i.i.i174, i1 %tobool4.i.i.i175, i1 false
  br i1 %or.cond.i.i.i176, label %land.lhs.true5.i.i.i177, label %trace_pci_nvme_dbbuf_config.exit.i

land.lhs.true5.i.i.i177:                          ; preds = %for.end.i
  %539 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i178 = and i32 %539, 32768
  %cmp.i.not.i.i.i179 = icmp eq i32 %and.i.i.i.i178, 0
  br i1 %cmp.i.not.i.i.i179, label %trace_pci_nvme_dbbuf_config.exit.i, label %if.then.i.i.i180

if.then.i.i.i180:                                 ; preds = %land.lhs.true5.i.i.i177
  %540 = load i8, ptr @message_with_timestamp, align 1
  %541 = and i8 %540, 1
  %tobool7.not.i.i.i181 = icmp eq i8 %541, 0
  br i1 %tobool7.not.i.i.i181, label %if.else.i.i.i186, label %if.then8.i.i.i182

if.then8.i.i.i182:                                ; preds = %if.then.i.i.i180
  %call9.i.i.i183 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i151, ptr noundef null) #17
  %call10.i.i.i184 = call i32 @qemu_get_thread_id() #17
  %542 = load i64, ptr %_now.i.i.i151, align 8
  %543 = load i64, ptr %tv_usec.i.i.i185, align 8
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.416, i32 noundef %call10.i.i.i184, i64 noundef %542, i64 noundef %543, i64 noundef %518, i64 noundef %519) #17
  br label %trace_pci_nvme_dbbuf_config.exit.i

if.else.i.i.i186:                                 ; preds = %if.then.i.i.i180
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.417, i64 noundef %518, i64 noundef %519) #17
  br label %trace_pci_nvme_dbbuf_config.exit.i

trace_pci_nvme_dbbuf_config.exit.i:               ; preds = %if.else.i.i.i186, %if.then8.i.i.i182, %land.lhs.true5.i.i.i177, %for.end.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i151)
  br label %if.then55

sw.bb49.i:                                        ; preds = %if.end20.i
  %nsid1.i137 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 3
  %544 = load i32, ptr %nsid1.i137, align 4
  %cdw10.i138 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 7
  %545 = load i32, ptr %cdw10.i138, align 8
  %546 = trunc i32 %545 to i8
  %conv.i = and i8 %546, 15
  %547 = lshr i8 %546, 4
  %conv5.i = and i8 %547, 1
  %548 = lshr i8 %546, 5
  %shr9.i = lshr i32 %545, 8
  %549 = trunc i32 %shr9.i to i8
  %conv11.i = and i8 %549, 1
  %call15.i = call ptr @qemu_aio_get(ptr noundef nonnull @nvme_format_aiocb_info, ptr noundef null, ptr noundef nonnull @nvme_misc_cb, ptr noundef nonnull %28) #17
  %req16.i = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %call15.i, i64 0, i32 2
  store ptr %28, ptr %req16.i, align 8
  %ret.i = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %call15.i, i64 0, i32 3
  store i32 0, ptr %ret.i, align 8
  %ns.i139 = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %call15.i, i64 0, i32 4
  store ptr null, ptr %ns.i139, align 8
  %nsid17.i = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %call15.i, i64 0, i32 5
  store i32 0, ptr %nsid17.i, align 8
  %lbaf18.i = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %call15.i, i64 0, i32 8
  store i8 %conv.i, ptr %lbaf18.i, align 8
  %mset19.i = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %call15.i, i64 0, i32 9
  store i8 %conv5.i, ptr %mset19.i, align 1
  %pi20.i = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %call15.i, i64 0, i32 10
  store i8 %548, ptr %pi20.i, align 2
  %pil21.i = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %call15.i, i64 0, i32 11
  store i8 %conv11.i, ptr %pil21.i, align 1
  %cmp.i140 = icmp eq i32 %544, -1
  %broadcast.i = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %call15.i, i64 0, i32 6
  %frombool.i = zext i1 %cmp.i140 to i8
  store i8 %frombool.i, ptr %broadcast.i, align 4
  %offset.i = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %call15.i, i64 0, i32 7
  store i64 0, ptr %offset.i, align 8
  %550 = load i8, ptr %lbafee.i, align 2
  %tobool.not.i141 = icmp eq i8 %550, 0
  br i1 %tobool.not.i141, label %if.end.i143, label %if.then.i142

if.then.i142:                                     ; preds = %sw.bb49.i
  %551 = and i8 %549, 48
  %conv26.i = or disjoint i8 %551, %conv.i
  store i8 %conv26.i, ptr %lbaf18.i, align 8
  br label %if.end.i143

if.end.i143:                                      ; preds = %if.then.i142, %sw.bb49.i
  br i1 %cmp.i140, label %if.end39.i, label %if.then29.i

if.then29.i:                                      ; preds = %if.end.i143
  %552 = add i32 %544, -1
  %553 = icmp ult i32 %552, 256
  br i1 %553, label %nvme_ns.exit.i147, label %out.i

nvme_ns.exit.i147:                                ; preds = %if.then29.i
  %idxprom.i.i148 = zext nneg i32 %544 to i64
  %arrayidx.i.i149 = getelementptr %struct.NvmeCtrl, ptr %0, i64 0, i32 35, i64 %idxprom.i.i148
  %554 = load ptr, ptr %arrayidx.i.i149, align 8
  store ptr %554, ptr %ns.i139, align 8
  %tobool36.not.i150 = icmp eq ptr %554, null
  br i1 %tobool36.not.i150, label %out.i, label %if.end39.i

if.end39.i:                                       ; preds = %nvme_ns.exit.i147, %if.end.i143
  %aiocb.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 2
  store ptr %call15.i, ptr %aiocb.i, align 8
  call fastcc void @nvme_do_format(ptr noundef nonnull %call15.i)
  br label %if.end57

out.i:                                            ; preds = %nvme_ns.exit.i147, %if.then29.i
  %status.0.i = phi i16 [ 16395, %if.then29.i ], [ 16386, %nvme_ns.exit.i147 ]
  call void @qemu_aio_unref(ptr noundef nonnull %call15.i) #17
  br label %if.then55

sw.bb53.i:                                        ; preds = %if.end20.i
  call void @llvm.lifetime.start.p0(i64 4096, ptr nonnull %id.i)
  %cdw10.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 7
  %555 = load i32, ptr %cdw10.i, align 8
  %cdw11.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 8
  %556 = load i32, ptr %cdw11.i, align 4
  %nsid4.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 6, i32 3
  %557 = load i32, ptr %nsid4.i, align 4
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 1 dereferenceable(4096) %8, i8 0, i64 4095, i1 false)
  store i8 1, ptr %id.i, align 1
  store i8 1, ptr %9, align 1
  %add.i126 = shl i32 %555, 2
  %shl.i = add i32 %add.i126, 4
  %558 = call i32 @llvm.umin.i32(i32 %shl.i, i32 4096)
  %cmp11.i = icmp eq i32 %557, -1
  %559 = and i32 %556, 65280
  %cmp14.i = icmp ne i32 %559, 0
  %or.cond.i = select i1 %cmp11.i, i1 true, i1 %cmp14.i
  %conv17.i = and i32 %556, 255
  %cmp18.i = icmp ne i32 %conv17.i, 1
  %or.cond3.i = select i1 %or.cond.i, i1 true, i1 %cmp18.i
  %560 = add i32 %557, -257
  %or.cond.i.i127 = icmp ult i32 %560, -256
  %or.cond20.i = or i1 %or.cond.i.i127, %or.cond3.i
  br i1 %or.cond20.i, label %nvme_directive_receive.exit, label %nvme_ns.exit.i128

nvme_ns.exit.i128:                                ; preds = %sw.bb53.i
  %idxprom.i.i129 = zext nneg i32 %557 to i64
  %arrayidx.i.i130 = getelementptr %struct.NvmeCtrl, ptr %0, i64 0, i32 35, i64 %idxprom.i.i129
  %561 = load ptr, ptr %arrayidx.i.i130, align 8
  %tobool.not.i131 = icmp eq ptr %561, null
  br i1 %tobool.not.i131, label %nvme_directive_receive.exit, label %sw.bb25.i132

sw.bb25.i132:                                     ; preds = %nvme_ns.exit.i128
  %endgrp.i = getelementptr inbounds %struct.NvmeNamespace, ptr %561, i64 0, i32 32
  %562 = load ptr, ptr %endgrp.i, align 8
  %tobool26.not.i = icmp eq ptr %562, null
  br i1 %tobool26.not.i, label %if.end40.i, label %land.lhs.true.i

land.lhs.true.i:                                  ; preds = %sw.bb25.i132
  %enabled.i = getelementptr inbounds %struct.NvmeEnduranceGroup, ptr %562, i64 0, i32 1, i32 9
  %563 = load i8, ptr %enabled.i, align 8
  %564 = and i8 %563, 1
  %tobool28.not.i = icmp eq i8 %564, 0
  br i1 %tobool28.not.i, label %if.end40.i, label %if.then30.i

if.then30.i:                                      ; preds = %land.lhs.true.i
  store i8 5, ptr %id.i, align 1
  store i8 5, ptr %9, align 1
  store i8 4, ptr %persistent.i, align 1
  br label %if.end40.i

if.end40.i:                                       ; preds = %if.then30.i, %land.lhs.true.i, %sw.bb25.i132
  %sg.i.i = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 8
  %conv.i.i = zext nneg i32 %558 to i64
  %call.i.i133 = call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %0, ptr noundef nonnull %sg.i.i, i64 noundef %conv.i.i, ptr noundef nonnull %cmd44)
  %tobool.not.i.i134 = icmp eq i16 %call.i.i133, 0
  br i1 %tobool.not.i.i134, label %if.end.i17.i, label %nvme_directive_receive.exit

if.end.i17.i:                                     ; preds = %if.end40.i
  %call2.i.i136 = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i.i, ptr noundef nonnull %id.i, i32 noundef %558, i32 noundef 1)
  br label %nvme_directive_receive.exit

nvme_directive_receive.exit:                      ; preds = %sw.bb53.i, %nvme_ns.exit.i128, %if.end40.i, %if.end.i17.i
  %retval.0.i135 = phi i16 [ 16386, %sw.bb53.i ], [ 16386, %nvme_ns.exit.i128 ], [ %call2.i.i136, %if.end.i17.i ], [ %call.i.i133, %if.end40.i ]
  call void @llvm.lifetime.end.p0(i64 4096, ptr nonnull %id.i)
  br label %cond.end

sw.default.i79:                                   ; preds = %if.end20.i
  call void @__assert_fail(ptr noundef nonnull @.str.176, ptr noundef nonnull @.str.1, i32 noundef 6972, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_admin_cmd) #18
  unreachable

cond.end:                                         ; preds = %nvme_directive_receive.exit, %nvme_ns_attachment.exit, %nvme_get_feature.exit, %sw.bb.i557, %sw.bb32.i556, %sw.bb35.i555, %sw.bb38.i554, %sw.bb41.i553, %sw.bb44.i552, %sw.bb47.i550, %sw.bb50.i549, %sw.bb53.i547, %sw.bb56.i546, %sw.bb.i433, %sw.bb4.i, %sw.bb6.i, %sw.bb8.i, %trace_pci_nvme_identify_pri_ctrl_cap.exit.i.i, %if.end.i.i.i, %nvme_identify_sec_ctrl_list.exit.i, %sw.bb14.i, %sw.bb16.i, %trace_pci_nvme_identify_ctrl.exit.i.i, %if.end.i.i69.i, %nvme_identify_ctrl_csi.exit.i, %sw.bb22.i417, %sw.bb24.i415, %sw.bb26.i, %sw.bb28.i, %nvme_identify_ns_descr_list.exit.i, %nvme_identify_cmd_set.exit.i, %sw.bb165.i, %sw.bb167.i, %sw.bb208.i, %if.end30.i.i, %if.end17.i.i, %sw.bb64.i, %sw.bb62.i, %sw.bb60.i, %sw.bb58.i, %sw.bb56.i, %sw.bb54.i, %sw.bb52.i, %sw.bb50.i, %sw.bb48.i, %sw.bb46.i, %sw.bb44.i, %sw.bb.i, %if.end28.i
  %cond.in = phi i16 [ %call65.i, %sw.bb64.i ], [ %call63.i, %sw.bb62.i ], [ %call61.i, %sw.bb60.i ], [ %call59.i, %sw.bb58.i ], [ %call57.i, %sw.bb56.i ], [ %call55.i, %sw.bb54.i ], [ %call53.i, %sw.bb52.i ], [ %call51.i, %sw.bb50.i ], [ %call49.i, %sw.bb48.i ], [ %call.i66.i, %sw.bb46.i ], [ %call.i65.i, %sw.bb44.i ], [ %call.i.i, %sw.bb.i ], [ %64, %if.end28.i ], [ %retval.0.i135, %nvme_directive_receive.exit ], [ %retval.0.i229, %nvme_ns_attachment.exit ], [ %retval.0.i309, %nvme_get_feature.exit ], [ %call58.i, %sw.bb56.i546 ], [ %call55.i548, %sw.bb53.i547 ], [ %call52.i, %sw.bb50.i549 ], [ %call49.i551, %sw.bb47.i550 ], [ %call46.i, %sw.bb44.i552 ], [ %call43.i, %sw.bb41.i553 ], [ %call40.i, %sw.bb38.i554 ], [ %call37.i, %sw.bb35.i555 ], [ %call34.i, %sw.bb32.i556 ], [ %call31.i, %sw.bb.i557 ], [ %retval.0.i.i135.i, %nvme_identify_cmd_set.exit.i ], [ %retval.0.i109.i, %nvme_identify_ns_descr_list.exit.i ], [ %call29.i, %sw.bb28.i ], [ %call27.i, %sw.bb26.i ], [ %call25.i416, %sw.bb24.i415 ], [ %call23.i418, %sw.bb22.i417 ], [ %retval.0.i89.i, %nvme_identify_ctrl_csi.exit.i ], [ %call17.i, %sw.bb16.i ], [ %call15.i423, %sw.bb14.i ], [ %retval.0.i.i46.i, %nvme_identify_sec_ctrl_list.exit.i ], [ %call9.i, %sw.bb8.i ], [ %call7.i, %sw.bb6.i ], [ %call5.i, %sw.bb4.i ], [ %call3.i, %sw.bb.i433 ], [ %call2.i.i.i, %if.end.i.i.i ], [ %call.i.i.i, %trace_pci_nvme_identify_pri_ctrl_cap.exit.i.i ], [ %call2.i.i70.i, %if.end.i.i69.i ], [ %call.i.i66.i, %trace_pci_nvme_identify_ctrl.exit.i.i ], [ %call209.i, %sw.bb208.i ], [ %call166.i, %sw.bb165.i ], [ %call169.i, %sw.bb167.i ], [ %515, %if.end30.i.i ], [ %517, %if.end17.i.i ]
  %cmp53.not = icmp eq i16 %cond.in, -1
  br i1 %cmp53.not, label %if.end57, label %if.then55

if.then55:                                        ; preds = %for.cond.i.i.i, %for.inc198.i, %for.inc137.us.i, %for.inc137.i, %for.inc.i376, %out.i, %sw.bb47.i, %trace_pci_nvme_dbbuf_config.exit.i, %if.end7.i.i, %if.end.i26.i, %sw.bb20.i, %sw.bb.i203, %if.end13.i.i206, %if.end3.i.i, %if.end.i22.i, %if.end.i200, %trace_pci_nvme_virt_mngmt.exit.i, %sw.bb22.i, %sw.bb24.i, %trace_pci_nvme_aer_aerl_exceeded.exit.i, %if.end.i94.i, %if.then80.i, %if.end153.i, %sw.bb163.i, %sw.bb.i377, %lor.lhs.false.i, %if.then110.i, %if.end103.i, %sw.bb201.i, %if.end50.i, %if.end143.i, %lor.lhs.false147.i, %sw.bb140.i, %if.end57.i, %if.end44.i, %if.then39.i, %nvme_ns.exit.i360, %if.then22.i, %if.end.i355, %land.lhs.true.i353, %if.then204.i, %sw.default210.i, %trace_pci_nvme_err_invalid_identify_cns.exit.i, %if.end104.i469, %if.then100.i, %if.then87.i, %if.then76.i, %if.then63.i, %trace_pci_nvme_err_invalid_create_cq_size.exit.i, %trace_pci_nvme_err_invalid_create_cq_cqid.exit.i, %trace_pci_nvme_err_invalid_create_cq_entry_size.exit.i, %trace_pci_nvme_del_cq.exit.i, %trace_pci_nvme_err_invalid_del_cq_notempty.exit.i, %trace_pci_nvme_err_invalid_del_cq_cqid.exit.i, %nvme_check_mdts.exit.i, %sw.bb27.i, %nvme_cid.exit71.i, %if.end70.i, %if.then66.i, %if.then53.i620, %if.then42.i, %trace_pci_nvme_err_invalid_create_sq_sqid.exit.i, %trace_pci_nvme_err_invalid_create_sq_cqid.exit.i, %if.end95.i, %trace_pci_nvme_err_invalid_del_sq.exit.i, %if.end20.i, %nvme_check_sqid.exit.i.i, %sw.bb35.i, %if.end13.i, %if.end.i73, %trace_pci_nvme_err_invalid_admin_opc.exit.i, %if.end14.i, %out.i.i, %if.end32.i, %nvme_ns.exit.i, %trace_pci_nvme_io_cmd.exit.i, %trace_pci_nvme_err_invalid_opc.exit.i, %cond.end
  %cond.in684 = phi i16 [ %cond.in, %cond.end ], [ %status.0.i, %out.i ], [ 16386, %sw.bb47.i ], [ 0, %trace_pci_nvme_dbbuf_config.exit.i ], [ 16674, %if.end7.i.i ], [ 16673, %if.end.i26.i ], [ 16671, %sw.bb20.i ], [ 16671, %sw.bb.i203 ], [ 16674, %if.end13.i.i206 ], [ 16673, %if.end3.i.i ], [ 16672, %if.end.i22.i ], [ 16386, %if.end.i200 ], [ 16674, %trace_pci_nvme_virt_mngmt.exit.i ], [ %call23.i, %sw.bb22.i ], [ %call25.i, %sw.bb24.i ], [ 261, %trace_pci_nvme_aer_aerl_exceeded.exit.i ], [ 0, %if.end.i94.i ], [ 0, %if.then80.i ], [ 0, %if.end153.i ], [ 0, %sw.bb163.i ], [ 0, %sw.bb.i377 ], [ 0, %lor.lhs.false.i ], [ 0, %if.then110.i ], [ 0, %if.end103.i ], [ 0, %sw.bb201.i ], [ 16396, %if.end50.i ], [ 16386, %if.end143.i ], [ 16386, %lor.lhs.false147.i ], [ 16396, %sw.bb140.i ], [ 16386, %if.end57.i ], [ 16654, %if.end44.i ], [ %..i, %if.then39.i ], [ 16386, %nvme_ns.exit.i360 ], [ 16395, %if.then22.i ], [ 16386, %if.end.i355 ], [ 16653, %land.lhs.true.i353 ], [ 16427, %if.then204.i ], [ 16654, %sw.default210.i ], [ 16386, %trace_pci_nvme_err_invalid_identify_cns.exit.i ], [ 0, %if.end104.i469 ], [ 16386, %if.then100.i ], [ 16648, %if.then87.i ], [ 16648, %if.then76.i ], [ 16403, %if.then63.i ], [ 16642, %trace_pci_nvme_err_invalid_create_cq_size.exit.i ], [ 16641, %trace_pci_nvme_err_invalid_create_cq_cqid.exit.i ], [ 16642, %trace_pci_nvme_err_invalid_create_cq_entry_size.exit.i ], [ 0, %trace_pci_nvme_del_cq.exit.i ], [ 268, %trace_pci_nvme_err_invalid_del_cq_notempty.exit.i ], [ 16640, %trace_pci_nvme_err_invalid_del_cq_cqid.exit.i ], [ 16386, %nvme_check_mdts.exit.i ], [ 16386, %sw.bb27.i ], [ 16386, %nvme_cid.exit71.i ], [ 0, %if.end70.i ], [ 16386, %if.then66.i ], [ 16403, %if.then53.i620 ], [ 16642, %if.then42.i ], [ 16641, %trace_pci_nvme_err_invalid_create_sq_sqid.exit.i ], [ 16640, %trace_pci_nvme_err_invalid_create_sq_cqid.exit.i ], [ 0, %if.end95.i ], [ 16641, %trace_pci_nvme_err_invalid_del_sq.exit.i ], [ 16386, %if.end20.i ], [ %spec.select.i.i, %nvme_check_sqid.exit.i.i ], [ 16386, %sw.bb35.i ], [ 2, %if.end13.i ], [ 16386, %if.end.i73 ], [ 16385, %trace_pci_nvme_err_invalid_admin_opc.exit.i ], [ 16386, %if.end14.i ], [ %status.0.i.i, %out.i.i ], [ 2, %if.end32.i ], [ 16386, %nvme_ns.exit.i ], [ 16395, %trace_pci_nvme_io_cmd.exit.i ], [ 16385, %trace_pci_nvme_err_invalid_opc.exit.i ], [ 0, %for.inc.i376 ], [ 0, %for.inc137.i ], [ 0, %for.inc137.us.i ], [ 0, %for.inc198.i ], [ 16671, %for.cond.i.i.i ]
  %status56 = getelementptr inbounds %struct.NvmeRequest, ptr %28, i64 0, i32 3
  store i16 %cond.in684, ptr %status56, align 8
  call fastcc void @nvme_enqueue_req_completion(ptr noundef %3, ptr noundef %28)
  br label %if.end57

if.end57:                                         ; preds = %if.end39.i, %if.end.i278, %if.then7.i, %if.end15.i.i, %if.then55, %cond.end
  %565 = load i8, ptr %dbbuf_enabled, align 16
  %566 = and i8 %565, 1
  %tobool59.not = icmp eq i8 %566, 0
  br i1 %tobool59.not, label %if.end61, label %if.then60

if.then60:                                        ; preds = %if.end57
  %567 = load i16, ptr %sqid, align 8
  %568 = load i32, ptr %7, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i107)
  %569 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i108 = icmp ne i32 %569, 0
  %570 = load i16, ptr @_TRACE_PCI_NVME_UPDATE_SQ_EVENTIDX_DSTATE, align 2
  %tobool4.i.i.i109 = icmp ne i16 %570, 0
  %or.cond.i.i.i110 = select i1 %tobool.i.i.i108, i1 %tobool4.i.i.i109, i1 false
  br i1 %or.cond.i.i.i110, label %land.lhs.true5.i.i.i112, label %nvme_update_sq_eventidx.exit

land.lhs.true5.i.i.i112:                          ; preds = %if.then60
  %571 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i113 = and i32 %571, 32768
  %cmp.i.not.i.i.i114 = icmp eq i32 %and.i.i.i.i113, 0
  br i1 %cmp.i.not.i.i.i114, label %nvme_update_sq_eventidx.exit, label %if.then.i.i.i115

if.then.i.i.i115:                                 ; preds = %land.lhs.true5.i.i.i112
  %572 = load i8, ptr @message_with_timestamp, align 1
  %573 = and i8 %572, 1
  %tobool7.not.i.i.i116 = icmp eq i8 %573, 0
  br i1 %tobool7.not.i.i.i116, label %if.else.i.i.i123, label %if.then8.i.i.i117

if.then8.i.i.i117:                                ; preds = %if.then.i.i.i115
  %call9.i.i.i118 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i107, ptr noundef null) #17
  %call10.i.i.i119 = call i32 @qemu_get_thread_id() #17
  %574 = load i64, ptr %_now.i.i.i107, align 8
  %575 = load i64, ptr %tv_usec.i.i.i120, align 8
  %conv11.i.i.i121 = zext i16 %567 to i32
  %conv12.i.i.i122 = and i32 %568, 65535
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.420, i32 noundef %call10.i.i.i119, i64 noundef %574, i64 noundef %575, i32 noundef %conv11.i.i.i121, i32 noundef %conv12.i.i.i122) #17
  br label %nvme_update_sq_eventidx.exit

if.else.i.i.i123:                                 ; preds = %if.then.i.i.i115
  %conv13.i.i.i124 = zext i16 %567 to i32
  %conv14.i.i.i125 = and i32 %568, 65535
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.421, i32 noundef %conv13.i.i.i124, i32 noundef %conv14.i.i.i125) #17
  br label %nvme_update_sq_eventidx.exit

nvme_update_sq_eventidx.exit:                     ; preds = %if.then60, %land.lhs.true5.i.i.i112, %if.then8.i.i.i117, %if.else.i.i.i123
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i107)
  %576 = load ptr, ptr %opaque, align 8
  %call.i.i111 = call ptr @object_dynamic_cast_assert(ptr noundef %576, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %577 = load i64, ptr %ei_addr.i, align 8
  %578 = load i32, ptr %7, align 8
  %bus_master_as.i.i.i = getelementptr inbounds %struct.PCIDevice, ptr %call.i.i111, i64 0, i32 12
  call void @llvm.lifetime.start.p0(i64 4, ptr nonnull %val.addr.i.i.i)
  store i32 %578, ptr %val.addr.i.i.i, align 4
  call void asm sideeffect "", "~{memory},~{dirflag},~{fpsr},~{flags}"() #17, !srcloc !10
  fence seq_cst
  %call.i.i.i.i.i.i = call i32 @address_space_rw(ptr noundef nonnull %bus_master_as.i.i.i, i64 noundef %577, i32 1, ptr noundef nonnull %val.addr.i.i.i, i64 noundef 4, i1 noundef zeroext true) #17
  call void @llvm.lifetime.end.p0(i64 4, ptr nonnull %val.addr.i.i.i)
  call fastcc void @nvme_update_sq_tail(ptr noundef nonnull %opaque)
  br label %if.end61

if.end61:                                         ; preds = %nvme_update_sq_eventidx.exit, %if.end57
  %opaque.val = load i32, ptr %6, align 4
  %opaque.val43 = load i32, ptr %7, align 8
  %cmp.i.not = icmp eq i32 %opaque.val, %opaque.val43
  br i1 %cmp.i.not, label %while.end, label %lor.rhs, !llvm.loop !43

while.end:                                        ; preds = %lor.rhs, %if.end61, %if.end, %trace_pci_nvme_err_cfs.exit
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @nvme_update_sq_tail(ptr noundef %sq) unnamed_addr #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %0 = load ptr, ptr %sq, align 8
  %call.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %0, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %db_addr = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 7
  %1 = load i64, ptr %db_addr, align 8
  %tail = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 4
  %bus_master_as.i.i = getelementptr inbounds %struct.PCIDevice, ptr %call.i, i64 0, i32 12
  tail call void asm sideeffect "", "~{memory},~{dirflag},~{fpsr},~{flags}"() #17, !srcloc !10
  fence seq_cst
  %call.i.i.i.i.i = tail call i32 @address_space_rw(ptr noundef nonnull %bus_master_as.i.i, i64 noundef %1, i32 1, ptr noundef nonnull %tail, i64 noundef 4, i1 noundef zeroext false) #17
  %sqid = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 1
  %2 = load i16, ptr %sqid, align 8
  %3 = load i32, ptr %tail, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %4 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %4, 0
  %5 = load i16, ptr @_TRACE_PCI_NVME_UPDATE_SQ_TAIL_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %5, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_update_sq_tail.exit

land.lhs.true5.i.i:                               ; preds = %entry
  %6 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %6, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_update_sq_tail.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %7 = load i8, ptr @message_with_timestamp, align 1
  %8 = and i8 %7, 1
  %tobool7.not.i.i = icmp eq i8 %8, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %9 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %10 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext i16 %2 to i32
  %conv12.i.i = and i32 %3, 65535
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.174, i32 noundef %call10.i.i, i64 noundef %9, i64 noundef %10, i32 noundef %conv11.i.i, i32 noundef %conv12.i.i) #17
  br label %trace_pci_nvme_update_sq_tail.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv13.i.i = zext i16 %2 to i32
  %conv14.i.i = and i32 %3, 65535
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.175, i32 noundef %conv13.i.i, i32 noundef %conv14.i.i) #17
  br label %trace_pci_nvme_update_sq_tail.exit

trace_pci_nvme_update_sq_tail.exit:               ; preds = %entry, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc zeroext i16 @nvme_read(ptr noundef %n, ptr noundef %req) unnamed_addr #0 {
entry:
  %err.i = alloca ptr, align 8
  %_now.i.i66 = alloca %struct.timeval, align 8
  %_now.i.i.i = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %ns1 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 1
  %0 = load ptr, ptr %ns1, align 8
  %slba2 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 7
  %1 = load i64, ptr %slba2, align 1
  %nlb3 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 9
  %2 = load i16, ptr %nlb3, align 1
  %conv = zext i16 %2 to i32
  %add = add nuw nsw i32 %conv, 1
  %conv8 = zext nneg i32 %add to i64
  %3 = getelementptr i8, ptr %0, i64 8466
  %.val51 = load i8, ptr %3, align 2
  %sh_prom.i = zext nneg i8 %.val51 to i64
  %shl.i = shl i64 %conv8, %sh_prom.i
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 1
  %4 = load ptr, ptr %blkconf, align 8
  %5 = getelementptr i8, ptr %0, i64 298
  %.val = load i8, ptr %5, align 2
  %6 = and i8 %.val, 16
  %tobool.i.not = icmp eq i8 %6, 0
  br i1 %tobool.i.not, label %nvme_nsid.exit, label %if.then

if.then:                                          ; preds = %entry
  %control = getelementptr inbounds i8, ptr %req, i64 106
  %7 = load i16, ptr %control, align 1
  %8 = getelementptr i8, ptr %0, i64 8464
  %.val52 = load i16, ptr %8, align 8
  %conv.i = zext i16 %.val52 to i64
  %mul.i = mul nuw nsw i64 %conv.i, %conv8
  %add14 = add i64 %mul.i, %shl.i
  %dps = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 5, i32 8
  %9 = load i8, ptr %dps, align 1
  %10 = and i8 %9, 7
  %tobool.not = icmp eq i8 %10, 0
  %11 = and i16 %7, 8192
  %tobool20.not = icmp eq i16 %11, 0
  %or.cond = select i1 %tobool.not, i1 true, i1 %tobool20.not
  br i1 %or.cond, label %nvme_nsid.exit, label %land.lhs.true

land.lhs.true:                                    ; preds = %if.then
  %12 = getelementptr i8, ptr %0, i64 8496
  %.val49 = load i8, ptr %12, align 8
  %tobool.not.i = icmp eq i8 %.val49, 0
  %conv1.i = select i1 %tobool.not.i, i64 8, i64 16
  %cmp = icmp eq i64 %conv1.i, %conv.i
  %spec.select = select i1 %cmp, i64 %shl.i, i64 %add14
  br label %nvme_nsid.exit

nvme_nsid.exit:                                   ; preds = %land.lhs.true, %if.then, %entry
  %mapped_size.0 = phi i64 [ %add14, %if.then ], [ %shl.i, %entry ], [ %spec.select, %land.lhs.true ]
  %cid.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 5, i32 4
  %13 = load i16, ptr %cid.i, align 4
  %nsid.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 30, i32 2
  %14 = load i32, ptr %nsid.i, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %15 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %15, 0
  %16 = load i16, ptr @_TRACE_PCI_NVME_READ_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %16, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_read.exit

land.lhs.true5.i.i:                               ; preds = %nvme_nsid.exit
  %17 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %17, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_read.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %18 = load i8, ptr @message_with_timestamp, align 1
  %19 = and i8 %18, 1
  %tobool7.not.i.i = icmp eq i8 %19, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %20 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %21 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext i16 %13 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.231, i32 noundef %call10.i.i, i64 noundef %20, i64 noundef %21, i32 noundef %conv11.i.i, i32 noundef %14, i32 noundef %add, i64 noundef %mapped_size.0, i64 noundef %1) #17
  br label %trace_pci_nvme_read.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv12.i.i = zext i16 %13 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.232, i32 noundef %conv12.i.i, i32 noundef %14, i32 noundef %add, i64 noundef %mapped_size.0, i64 noundef %1) #17
  br label %trace_pci_nvme_read.exit

trace_pci_nvme_read.exit:                         ; preds = %nvme_nsid.exit, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %mdts1.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 4, i32 7
  %22 = load i8, ptr %mdts1.i, align 16
  %tobool.not.i57 = icmp eq i8 %22, 0
  br i1 %tobool.not.i57, label %if.end34, label %land.lhs.true.i

land.lhs.true.i:                                  ; preds = %trace_pci_nvme_read.exit
  %conv.i58 = zext nneg i8 %22 to i32
  %page_size.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 8
  %23 = load i32, ptr %page_size.i, align 4
  %shl.i59 = shl i32 %23, %conv.i58
  %conv3.i = zext i32 %shl.i59 to i64
  %cmp.i = icmp ugt i64 %mapped_size.0, %conv3.i
  br i1 %cmp.i, label %if.then.i61, label %if.end34

if.then.i61:                                      ; preds = %land.lhs.true.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i)
  %24 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i = icmp ne i32 %24, 0
  %25 = load i16, ptr @_TRACE_PCI_NVME_ERR_MDTS_DSTATE, align 2
  %tobool4.i.i.i = icmp ne i16 %25, 0
  %or.cond.i.i.i = select i1 %tobool.i.i.i, i1 %tobool4.i.i.i, i1 false
  br i1 %or.cond.i.i.i, label %land.lhs.true5.i.i.i, label %nvme_check_mdts.exit

land.lhs.true5.i.i.i:                             ; preds = %if.then.i61
  %26 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i = and i32 %26, 32768
  %cmp.i.not.i.i.i = icmp eq i32 %and.i.i.i.i, 0
  br i1 %cmp.i.not.i.i.i, label %nvme_check_mdts.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %land.lhs.true5.i.i.i
  %27 = load i8, ptr @message_with_timestamp, align 1
  %28 = and i8 %27, 1
  %tobool7.not.i.i.i = icmp eq i8 %28, 0
  br i1 %tobool7.not.i.i.i, label %if.else.i.i.i, label %if.then8.i.i.i

if.then8.i.i.i:                                   ; preds = %if.then.i.i.i
  %call9.i.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i, ptr noundef null) #17
  %call10.i.i.i = tail call i32 @qemu_get_thread_id() #17
  %29 = load i64, ptr %_now.i.i.i, align 8
  %tv_usec.i.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i, i64 0, i32 1
  %30 = load i64, ptr %tv_usec.i.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.199, i32 noundef %call10.i.i.i, i64 noundef %29, i64 noundef %30, i64 noundef %mapped_size.0) #17
  br label %nvme_check_mdts.exit

if.else.i.i.i:                                    ; preds = %if.then.i.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.200, i64 noundef %mapped_size.0) #17
  br label %nvme_check_mdts.exit

nvme_check_mdts.exit:                             ; preds = %if.then.i61, %land.lhs.true5.i.i.i, %if.then8.i.i.i, %if.else.i.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i)
  br label %invalid

if.end34:                                         ; preds = %land.lhs.true.i, %trace_pci_nvme_read.exit
  %31 = getelementptr i8, ptr %0, i64 272
  %.val53 = load i64, ptr %31, align 8
  %call35 = tail call fastcc zeroext i16 @nvme_check_bounds(i64 %.val53, i64 noundef %1, i32 noundef %add)
  %tobool36.not = icmp eq i16 %call35, 0
  br i1 %tobool36.not, label %if.end38, label %invalid

if.end38:                                         ; preds = %if.end34
  %zoned = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 30, i32 14
  %32 = load i8, ptr %zoned, align 1
  %33 = and i8 %32, 1
  %tobool39.not = icmp eq i8 %33, 0
  br i1 %tobool39.not, label %if.end45, label %if.then40

if.then40:                                        ; preds = %if.end38
  %zone_size_log2.i.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 26
  %34 = load i32, ptr %zone_size_log2.i.i.i, align 8
  %cmp.not.i.i.i = icmp eq i32 %34, 0
  br i1 %cmp.not.i.i.i, label %cond.false.i.i.i, label %cond.true.i.i.i

cond.true.i.i.i:                                  ; preds = %if.then40
  %sh_prom.i.i.i = zext nneg i32 %34 to i64
  %shr.i.i.i = lshr i64 %1, %sh_prom.i.i.i
  br label %nvme_zone_idx.exit.i.i

cond.false.i.i.i:                                 ; preds = %if.then40
  %zone_size.i.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 24
  %35 = load i64, ptr %zone_size.i.i.i, align 8
  %div.i.i.i = udiv i64 %1, %35
  br label %nvme_zone_idx.exit.i.i

nvme_zone_idx.exit.i.i:                           ; preds = %cond.false.i.i.i, %cond.true.i.i.i
  %cond.i.i.i = phi i64 [ %shr.i.i.i, %cond.true.i.i.i ], [ %div.i.i.i, %cond.false.i.i.i ]
  %conv.i.i.i = trunc i64 %cond.i.i.i to i32
  %num_zones.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 23
  %36 = load i32, ptr %num_zones.i.i, align 8
  %cmp.not.i.i = icmp ugt i32 %36, %conv.i.i.i
  br i1 %cmp.not.i.i, label %nvme_get_zone_by_slba.exit.i, label %if.else.i

nvme_get_zone_by_slba.exit.i:                     ; preds = %nvme_zone_idx.exit.i.i
  %zone_array.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 18
  %37 = load ptr, ptr %zone_array.i.i, align 8
  %idxprom.i.i = and i64 %cond.i.i.i, 4294967295
  %arrayidx.i.i = getelementptr %struct.NvmeZone, ptr %37, i64 %idxprom.i.i
  %tobool.not.i62 = icmp eq ptr %arrayidx.i.i, null
  br i1 %tobool.not.i62, label %if.else.i, label %if.end.i63

if.else.i:                                        ; preds = %nvme_get_zone_by_slba.exit.i, %nvme_zone_idx.exit.i.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.35, ptr noundef nonnull @.str.1, i32 noundef 1883, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_check_zone_read) #18
  unreachable

if.end.i63:                                       ; preds = %nvme_get_zone_by_slba.exit.i
  %38 = getelementptr i8, ptr %0, i64 8616
  %ns.val.i = load i64, ptr %38, align 8
  %39 = getelementptr i8, ptr %arrayidx.i.i, i64 16
  %call.val.i = load i64, ptr %39, align 8
  %add.i = add i64 %1, %conv8
  %call2.i = tail call fastcc zeroext i16 @nvme_check_zone_state_for_read(ptr noundef nonnull %arrayidx.i.i), !range !44
  %tobool3.not.i = icmp eq i16 %call2.i, 0
  br i1 %tobool3.not.i, label %if.else5.i, label %if.then43

if.else5.i:                                       ; preds = %if.end.i63
  %add.i.i = add i64 %call.val.i, %ns.val.i
  %cmp.i65 = icmp ugt i64 %add.i, %add.i.i
  br i1 %cmp.i65, label %if.then10.i, label %if.end45

if.then10.i:                                      ; preds = %if.else5.i
  %cross_zone_read.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 30, i32 15
  %40 = load i8, ptr %cross_zone_read.i, align 2
  %41 = and i8 %40, 1
  %tobool11.not.i = icmp eq i8 %41, 0
  br i1 %tobool11.not.i, label %if.then43, label %do.body.i

do.body.i:                                        ; preds = %if.then10.i, %do.cond.i
  %zone.0.i = phi ptr [ %incdec.ptr.i, %do.cond.i ], [ %arrayidx.i.i, %if.then10.i ]
  %incdec.ptr.i = getelementptr %struct.NvmeZone, ptr %zone.0.i, i64 1
  %call14.i = tail call fastcc zeroext i16 @nvme_check_zone_state_for_read(ptr noundef %incdec.ptr.i), !range !44
  %tobool15.not.i = icmp eq i16 %call14.i, 0
  br i1 %tobool15.not.i, label %do.cond.i, label %if.then43

do.cond.i:                                        ; preds = %do.body.i
  %ns.val13.i = load i64, ptr %38, align 8
  %42 = getelementptr %struct.NvmeZone, ptr %zone.0.i, i64 1, i32 0, i32 5
  %incdec.ptr.val.i = load i64, ptr %42, align 8
  %add.i14.i = add i64 %incdec.ptr.val.i, %ns.val13.i
  %cmp19.i = icmp ugt i64 %add.i, %add.i14.i
  br i1 %cmp19.i, label %do.body.i, label %if.end45, !llvm.loop !45

if.then43:                                        ; preds = %do.body.i, %if.end.i63, %if.then10.i
  %status.0.i.ph = phi i16 [ 440, %if.then10.i ], [ %call2.i, %if.end.i63 ], [ %call14.i, %do.body.i ]
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i66)
  %43 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i67 = icmp ne i32 %43, 0
  %44 = load i16, ptr @_TRACE_PCI_NVME_ERR_ZONE_READ_NOT_OK_DSTATE, align 2
  %tobool4.i.i68 = icmp ne i16 %44, 0
  %or.cond.i.i69 = select i1 %tobool.i.i67, i1 %tobool4.i.i68, i1 false
  br i1 %or.cond.i.i69, label %land.lhs.true5.i.i70, label %trace_pci_nvme_err_zone_read_not_ok.exit

land.lhs.true5.i.i70:                             ; preds = %if.then43
  %45 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i71 = and i32 %45, 32768
  %cmp.i.not.i.i72 = icmp eq i32 %and.i.i.i71, 0
  br i1 %cmp.i.not.i.i72, label %trace_pci_nvme_err_zone_read_not_ok.exit, label %if.then.i.i73

if.then.i.i73:                                    ; preds = %land.lhs.true5.i.i70
  %46 = load i8, ptr @message_with_timestamp, align 1
  %47 = and i8 %46, 1
  %tobool7.not.i.i74 = icmp eq i8 %47, 0
  br i1 %tobool7.not.i.i74, label %if.else.i.i80, label %if.then8.i.i75

if.then8.i.i75:                                   ; preds = %if.then.i.i73
  %call9.i.i76 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i66, ptr noundef null) #17
  %call10.i.i77 = tail call i32 @qemu_get_thread_id() #17
  %48 = load i64, ptr %_now.i.i66, align 8
  %tv_usec.i.i78 = getelementptr inbounds %struct.timeval, ptr %_now.i.i66, i64 0, i32 1
  %49 = load i64, ptr %tv_usec.i.i78, align 8
  %conv11.i.i79 = zext nneg i16 %status.0.i.ph to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.233, i32 noundef %call10.i.i77, i64 noundef %48, i64 noundef %49, i64 noundef %1, i32 noundef %add, i32 noundef %conv11.i.i79) #17
  br label %trace_pci_nvme_err_zone_read_not_ok.exit

if.else.i.i80:                                    ; preds = %if.then.i.i73
  %conv12.i.i81 = zext nneg i16 %status.0.i.ph to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.234, i64 noundef %1, i32 noundef %add, i32 noundef %conv12.i.i81) #17
  br label %trace_pci_nvme_err_zone_read_not_ok.exit

trace_pci_nvme_err_zone_read_not_ok.exit:         ; preds = %if.then43, %land.lhs.true5.i.i70, %if.then8.i.i75, %if.else.i.i80
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i66)
  br label %invalid

if.end45:                                         ; preds = %do.cond.i, %if.else5.i, %if.end38
  %features = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 33
  %50 = load i32, ptr %features, align 8
  %and46 = and i32 %50, 65536
  %tobool47.not = icmp eq i32 %and46, 0
  br i1 %tobool47.not, label %if.end53, label %if.then48

if.then48:                                        ; preds = %if.end45
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %err.i)
  store ptr null, ptr %err.i, align 8
  %call.i = tail call fastcc i32 @nvme_block_status_all(ptr noundef nonnull %0, i64 noundef %1, i32 noundef %add, i32 noundef 1), !range !46
  %tobool.not.i82 = icmp eq i32 %call.i, 0
  br i1 %tobool.not.i82, label %nvme_check_dulbe.exit, label %if.then.i83

if.then.i83:                                      ; preds = %if.then48
  %cmp.i84 = icmp slt i32 %call.i, 0
  br i1 %cmp.i84, label %if.then1.i, label %nvme_check_dulbe.exit.thread

if.then1.i:                                       ; preds = %if.then.i83
  %sub.i = sub i32 0, %call.i
  call void (ptr, ptr, i32, ptr, i32, ptr, ...) @error_setg_errno_internal(ptr noundef nonnull %err.i, ptr noundef nonnull @.str.1, i32 noundef 1729, ptr noundef nonnull @__func__.nvme_check_dulbe, i32 noundef %sub.i, ptr noundef nonnull @.str.235) #17
  %51 = load ptr, ptr %err.i, align 8
  call void @error_report_err(ptr noundef %51) #17
  br label %nvme_check_dulbe.exit.thread

nvme_check_dulbe.exit.thread:                     ; preds = %if.then1.i, %if.then.i83
  %retval.0.i85.ph = phi i16 [ 647, %if.then.i83 ], [ 6, %if.then1.i ]
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %err.i)
  br label %invalid

nvme_check_dulbe.exit:                            ; preds = %if.then48
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %err.i)
  br label %if.end53

if.end53:                                         ; preds = %nvme_check_dulbe.exit, %if.end45
  %dps55 = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 5, i32 8
  %52 = load i8, ptr %dps55, align 1
  %53 = and i8 %52, 7
  %tobool58.not = icmp eq i8 %53, 0
  br i1 %tobool58.not, label %if.end61, label %if.then59

if.then59:                                        ; preds = %if.end53
  %call60 = tail call zeroext i16 @nvme_dif_rw(ptr noundef %n, ptr noundef %req) #17
  br label %return

if.end61:                                         ; preds = %if.end53
  %call62 = tail call fastcc zeroext i16 @nvme_map_data(ptr noundef %n, i32 noundef %add, ptr noundef %req)
  %tobool63.not = icmp eq i16 %call62, 0
  br i1 %tobool63.not, label %if.end65, label %invalid

if.end65:                                         ; preds = %if.end61
  %.val50 = load i8, ptr %3, align 2
  %sh_prom.i86 = zext nneg i8 %.val50 to i64
  %shl.i87 = shl i64 %1, %sh_prom.i86
  %call67 = tail call ptr @blk_get_stats(ptr noundef %4) #17
  %acct = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 7
  tail call void @block_acct_start(ptr noundef %call67, ptr noundef nonnull %acct, i64 noundef %shl.i, i32 noundef 1) #17
  tail call fastcc void @nvme_blk_read(ptr noundef %4, i64 noundef %shl.i87, i32 noundef 512, ptr noundef nonnull @nvme_rw_cb, ptr noundef %req)
  br label %return

invalid:                                          ; preds = %nvme_check_dulbe.exit.thread, %nvme_check_mdts.exit, %if.end61, %if.end34, %trace_pci_nvme_err_zone_read_not_ok.exit
  %status.0 = phi i16 [ 16386, %nvme_check_mdts.exit ], [ %call35, %if.end34 ], [ %status.0.i.ph, %trace_pci_nvme_err_zone_read_not_ok.exit ], [ %call62, %if.end61 ], [ %retval.0.i85.ph, %nvme_check_dulbe.exit.thread ]
  %call68 = call ptr @blk_get_stats(ptr noundef %4) #17
  call void @block_acct_invalid(ptr noundef %call68, i32 noundef 1) #17
  %54 = or i16 %status.0, 16384
  br label %return

return:                                           ; preds = %invalid, %if.end65, %if.then59
  %retval.0 = phi i16 [ %54, %invalid ], [ %call60, %if.then59 ], [ -1, %if.end65 ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_compare(ptr noundef %n, ptr noundef %req) unnamed_addr #0 {
nvme_nsid.exit:
  %err.i = alloca ptr, align 8
  %_now.i.i.i = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %cmd = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %ns1 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 1
  %0 = load ptr, ptr %ns1, align 8
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 1
  %1 = load ptr, ptr %blkconf, align 8
  %slba3 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 7
  %2 = load i64, ptr %slba3, align 1
  %nlb4 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 9
  %3 = load i16, ptr %nlb4, align 1
  %conv = zext i16 %3 to i32
  %add = add nuw nsw i32 %conv, 1
  %control = getelementptr inbounds i8, ptr %req, i64 106
  %4 = load i16, ptr %control, align 1
  %conv9 = zext nneg i32 %add to i64
  %5 = getelementptr i8, ptr %0, i64 8466
  %.val47 = load i8, ptr %5, align 2
  %sh_prom.i = zext nneg i8 %.val47 to i64
  %shl.i = shl i64 %conv9, %sh_prom.i
  %shl.i51 = shl i64 %2, %sh_prom.i
  %cid.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 5, i32 4
  %6 = load i16, ptr %cid.i, align 4
  %nsid.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 30, i32 2
  %7 = load i32, ptr %nsid.i, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %8 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %8, 0
  %9 = load i16, ptr @_TRACE_PCI_NVME_COMPARE_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %9, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_compare.exit

land.lhs.true5.i.i:                               ; preds = %nvme_nsid.exit
  %10 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %10, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_compare.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %11 = load i8, ptr @message_with_timestamp, align 1
  %12 = and i8 %11, 1
  %tobool7.not.i.i = icmp eq i8 %12, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %13 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %14 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext i16 %6 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.238, i32 noundef %call10.i.i, i64 noundef %13, i64 noundef %14, i32 noundef %conv11.i.i, i32 noundef %7, i64 noundef %2, i32 noundef %add) #17
  br label %trace_pci_nvme_compare.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv12.i.i = zext i16 %6 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.239, i32 noundef %conv12.i.i, i32 noundef %7, i64 noundef %2, i32 noundef %add) #17
  br label %trace_pci_nvme_compare.exit

trace_pci_nvme_compare.exit:                      ; preds = %nvme_nsid.exit, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %dps = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 5, i32 8
  %15 = load i8, ptr %dps, align 1
  %16 = and i8 %15, 7
  %tobool.not = icmp eq i8 %16, 0
  %17 = and i16 %4, 8192
  %tobool18.not = icmp eq i16 %17, 0
  %or.cond = select i1 %tobool.not, i1 true, i1 %tobool18.not
  br i1 %or.cond, label %if.end, label %return

if.end:                                           ; preds = %trace_pci_nvme_compare.exit
  %18 = getelementptr i8, ptr %0, i64 298
  %.val = load i8, ptr %18, align 2
  %19 = and i8 %.val, 16
  %tobool.i.not = icmp eq i8 %19, 0
  br i1 %tobool.i.not, label %if.end24, label %if.then20

if.then20:                                        ; preds = %if.end
  %20 = getelementptr i8, ptr %0, i64 8464
  %.val48 = load i16, ptr %20, align 8
  %conv.i = zext i16 %.val48 to i64
  %mul.i = mul nuw nsw i64 %conv.i, %conv9
  %add23 = add i64 %mul.i, %shl.i
  br label %if.end24

if.end24:                                         ; preds = %if.then20, %if.end
  %len.0 = phi i64 [ %add23, %if.then20 ], [ %shl.i, %if.end ]
  %mdts1.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 4, i32 7
  %21 = load i8, ptr %mdts1.i, align 16
  %tobool.not.i54 = icmp eq i8 %21, 0
  br i1 %tobool.not.i54, label %if.end28, label %land.lhs.true.i

land.lhs.true.i:                                  ; preds = %if.end24
  %conv.i55 = zext nneg i8 %21 to i32
  %page_size.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 8
  %22 = load i32, ptr %page_size.i, align 4
  %shl.i56 = shl i32 %22, %conv.i55
  %conv3.i = zext i32 %shl.i56 to i64
  %cmp.i = icmp ugt i64 %len.0, %conv3.i
  br i1 %cmp.i, label %if.then.i58, label %if.end28

if.then.i58:                                      ; preds = %land.lhs.true.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i)
  %23 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i = icmp ne i32 %23, 0
  %24 = load i16, ptr @_TRACE_PCI_NVME_ERR_MDTS_DSTATE, align 2
  %tobool4.i.i.i = icmp ne i16 %24, 0
  %or.cond.i.i.i = select i1 %tobool.i.i.i, i1 %tobool4.i.i.i, i1 false
  br i1 %or.cond.i.i.i, label %land.lhs.true5.i.i.i, label %nvme_check_mdts.exit

land.lhs.true5.i.i.i:                             ; preds = %if.then.i58
  %25 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i = and i32 %25, 32768
  %cmp.i.not.i.i.i = icmp eq i32 %and.i.i.i.i, 0
  br i1 %cmp.i.not.i.i.i, label %nvme_check_mdts.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %land.lhs.true5.i.i.i
  %26 = load i8, ptr @message_with_timestamp, align 1
  %27 = and i8 %26, 1
  %tobool7.not.i.i.i = icmp eq i8 %27, 0
  br i1 %tobool7.not.i.i.i, label %if.else.i.i.i, label %if.then8.i.i.i

if.then8.i.i.i:                                   ; preds = %if.then.i.i.i
  %call9.i.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i, ptr noundef null) #17
  %call10.i.i.i = tail call i32 @qemu_get_thread_id() #17
  %28 = load i64, ptr %_now.i.i.i, align 8
  %tv_usec.i.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i, i64 0, i32 1
  %29 = load i64, ptr %tv_usec.i.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.199, i32 noundef %call10.i.i.i, i64 noundef %28, i64 noundef %29, i64 noundef %len.0) #17
  br label %nvme_check_mdts.exit

if.else.i.i.i:                                    ; preds = %if.then.i.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.200, i64 noundef %len.0) #17
  br label %nvme_check_mdts.exit

nvme_check_mdts.exit:                             ; preds = %if.then.i58, %land.lhs.true5.i.i.i, %if.then8.i.i.i, %if.else.i.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i)
  br label %return

if.end28:                                         ; preds = %land.lhs.true.i, %if.end24
  %30 = getelementptr i8, ptr %0, i64 272
  %.val49 = load i64, ptr %30, align 8
  %call29 = tail call fastcc zeroext i16 @nvme_check_bounds(i64 %.val49, i64 noundef %2, i32 noundef %add)
  %tobool30.not = icmp eq i16 %call29, 0
  br i1 %tobool30.not, label %if.end32, label %return

if.end32:                                         ; preds = %if.end28
  %features = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 33
  %31 = load i32, ptr %features, align 8
  %and33 = and i32 %31, 65536
  %tobool34.not = icmp eq i32 %and33, 0
  br i1 %tobool34.not, label %if.end40, label %if.then35

if.then35:                                        ; preds = %if.end32
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %err.i)
  store ptr null, ptr %err.i, align 8
  %call.i = tail call fastcc i32 @nvme_block_status_all(ptr noundef nonnull %0, i64 noundef %2, i32 noundef %add, i32 noundef 1), !range !46
  %tobool.not.i59 = icmp eq i32 %call.i, 0
  br i1 %tobool.not.i59, label %nvme_check_dulbe.exit, label %if.then.i60

if.then.i60:                                      ; preds = %if.then35
  %cmp.i61 = icmp slt i32 %call.i, 0
  br i1 %cmp.i61, label %if.then1.i, label %nvme_check_dulbe.exit.thread

if.then1.i:                                       ; preds = %if.then.i60
  %sub.i = sub i32 0, %call.i
  call void (ptr, ptr, i32, ptr, i32, ptr, ...) @error_setg_errno_internal(ptr noundef nonnull %err.i, ptr noundef nonnull @.str.1, i32 noundef 1729, ptr noundef nonnull @__func__.nvme_check_dulbe, i32 noundef %sub.i, ptr noundef nonnull @.str.235) #17
  %32 = load ptr, ptr %err.i, align 8
  call void @error_report_err(ptr noundef %32) #17
  br label %nvme_check_dulbe.exit.thread

nvme_check_dulbe.exit.thread:                     ; preds = %if.then1.i, %if.then.i60
  %retval.0.i62.ph = phi i16 [ 647, %if.then.i60 ], [ 6, %if.then1.i ]
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %err.i)
  br label %return

nvme_check_dulbe.exit:                            ; preds = %if.then35
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %err.i)
  br label %if.end40

if.end40:                                         ; preds = %nvme_check_dulbe.exit, %if.end32
  %sg = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %call42 = tail call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %n, ptr noundef nonnull %sg, i64 noundef %len.0, ptr noundef nonnull %cmd)
  %tobool43.not = icmp eq i16 %call42, 0
  br i1 %tobool43.not, label %if.end45, label %return

if.end45:                                         ; preds = %if.end40
  %call46 = tail call noalias dereferenceable_or_null(96) ptr @g_malloc_n(i64 noundef 1, i64 noundef 96) #19
  %call47 = tail call noalias ptr @g_malloc(i64 noundef %shl.i) #20
  %bounce = getelementptr inbounds %struct.anon.38, ptr %call46, i64 0, i32 1
  store ptr %call47, ptr %bounce, align 8
  %opaque = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 4
  store ptr %call46, ptr %opaque, align 8
  tail call void @qemu_iovec_init(ptr noundef %call46, i32 noundef 1) #17
  %33 = load ptr, ptr %bounce, align 8
  tail call void @qemu_iovec_add(ptr noundef %call46, ptr noundef %33, i64 noundef %shl.i) #17
  %call53 = tail call ptr @blk_get_stats(ptr noundef %1) #17
  %acct = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 7
  tail call void @block_acct_start(ptr noundef %call53, ptr noundef nonnull %acct, i64 noundef %shl.i, i32 noundef 1) #17
  %call56 = tail call ptr @blk_aio_preadv(ptr noundef %1, i64 noundef %shl.i51, ptr noundef %call46, i32 noundef 0, ptr noundef nonnull @nvme_compare_data_cb, ptr noundef nonnull %req) #17
  %aiocb = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 2
  store ptr %call56, ptr %aiocb, align 8
  br label %return

return:                                           ; preds = %nvme_check_dulbe.exit.thread, %nvme_check_mdts.exit, %if.end40, %if.end28, %trace_pci_nvme_compare.exit, %if.end45
  %retval.0 = phi i16 [ -1, %if.end45 ], [ 16769, %trace_pci_nvme_compare.exit ], [ 16386, %nvme_check_mdts.exit ], [ %call29, %if.end28 ], [ %call42, %if.end40 ], [ %retval.0.i62.ph, %nvme_check_dulbe.exit.thread ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_dsm(ptr noundef %n, ptr noundef %req) unnamed_addr #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %ns1 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 1
  %0 = load ptr, ptr %ns1, align 8
  %attributes = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 8
  %1 = load i32, ptr %attributes, align 1
  %nr2 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 7
  %2 = load i32, ptr %nr2, align 1
  %and = and i32 %2, 255
  %add = add nuw nsw i32 %and, 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %3 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %3, 0
  %4 = load i16, ptr @_TRACE_PCI_NVME_DSM_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %4, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_dsm.exit

land.lhs.true5.i.i:                               ; preds = %entry
  %5 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %5, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_dsm.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %6 = load i8, ptr @message_with_timestamp, align 1
  %7 = and i8 %6, 1
  %tobool7.not.i.i = icmp eq i8 %7, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %8 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %9 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.244, i32 noundef %call10.i.i, i64 noundef %8, i64 noundef %9, i32 noundef %add, i32 noundef %1) #17
  br label %trace_pci_nvme_dsm.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.245, i32 noundef %add, i32 noundef %1) #17
  br label %trace_pci_nvme_dsm.exit

trace_pci_nvme_dsm.exit:                          ; preds = %entry, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %and4 = and i32 %1, 4
  %tobool.not = icmp eq i32 %and4, 0
  br i1 %tobool.not, label %return, label %if.then

if.then:                                          ; preds = %trace_pci_nvme_dsm.exit
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 1
  %10 = load ptr, ptr %blkconf, align 8
  %call5 = tail call ptr @blk_aio_get(ptr noundef nonnull @nvme_dsm_aiocb_info, ptr noundef %10, ptr noundef nonnull @nvme_misc_cb, ptr noundef nonnull %req) #17
  %req6 = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %call5, i64 0, i32 2
  store ptr %req, ptr %req6, align 8
  %ret = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %call5, i64 0, i32 3
  store i32 0, ptr %ret, align 8
  %conv = zext nneg i32 %add to i64
  %call7 = tail call noalias ptr @g_malloc_n(i64 noundef %conv, i64 noundef 16) #19
  %range = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %call5, i64 0, i32 4
  store ptr %call7, ptr %range, align 8
  %nr8 = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %call5, i64 0, i32 5
  store i32 %add, ptr %nr8, align 8
  %idx = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %call5, i64 0, i32 6
  store i32 0, ptr %idx, align 4
  %mul = shl nuw nsw i32 %add, 4
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %conv.i = zext nneg i32 %mul to i64
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef %n, ptr noundef nonnull %sg.i, i64 noundef %conv.i, ptr noundef nonnull %cmd.i)
  %tobool.not.i = icmp eq i16 %call.i, 0
  br i1 %tobool.not.i, label %nvme_h2c.exit, label %if.then14

nvme_h2c.exit:                                    ; preds = %if.then
  %call2.i = tail call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef %call7, i32 noundef %mul, i32 noundef 0)
  %tobool13.not = icmp eq i16 %call2.i, 0
  br i1 %tobool13.not, label %if.end, label %if.then14

if.then14:                                        ; preds = %if.then, %nvme_h2c.exit
  %retval.0.i24 = phi i16 [ %call2.i, %nvme_h2c.exit ], [ %call.i, %if.then ]
  %11 = load ptr, ptr %range, align 8
  tail call void @g_free(ptr noundef %11) #17
  tail call void @qemu_aio_unref(ptr noundef nonnull %call5) #17
  br label %return

if.end:                                           ; preds = %nvme_h2c.exit
  %aiocb = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 2
  store ptr %call5, ptr %aiocb, align 8
  tail call void @nvme_dsm_cb(ptr noundef nonnull %call5, i32 noundef 0)
  br label %return

return:                                           ; preds = %trace_pci_nvme_dsm.exit, %if.end, %if.then14
  %retval.0 = phi i16 [ %retval.0.i24, %if.then14 ], [ -1, %if.end ], [ 0, %trace_pci_nvme_dsm.exit ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc zeroext i16 @nvme_verify(ptr nocapture noundef readonly %n, ptr noundef %req) unnamed_addr #0 {
nvme_nsid.exit:
  %err.i = alloca ptr, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %ns1 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 1
  %0 = load ptr, ptr %ns1, align 8
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 1
  %1 = load ptr, ptr %blkconf, align 8
  %slba3 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 7
  %2 = load i64, ptr %slba3, align 1
  %nlb4 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 9
  %3 = load i16, ptr %nlb4, align 1
  %conv = zext i16 %3 to i32
  %add = add nuw nsw i32 %conv, 1
  %conv6 = zext nneg i32 %add to i64
  %4 = getelementptr i8, ptr %0, i64 8466
  %.val41 = load i8, ptr %4, align 2
  %sh_prom.i = zext nneg i8 %.val41 to i64
  %shl.i = shl i64 %conv6, %sh_prom.i
  %shl.i44 = shl i64 %2, %sh_prom.i
  %control = getelementptr inbounds i8, ptr %req, i64 106
  %5 = load i16, ptr %control, align 1
  %reftag12 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 11
  %6 = load i32, ptr %reftag12, align 1
  %cid.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 5, i32 4
  %7 = load i16, ptr %cid.i, align 4
  %nsid.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 30, i32 2
  %8 = load i32, ptr %nsid.i, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %9 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %9, 0
  %10 = load i16, ptr @_TRACE_PCI_NVME_VERIFY_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %10, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_verify.exit

land.lhs.true5.i.i:                               ; preds = %nvme_nsid.exit
  %11 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %11, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_verify.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %12 = load i8, ptr @message_with_timestamp, align 1
  %13 = and i8 %12, 1
  %tobool7.not.i.i = icmp eq i8 %13, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %14 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %15 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext i16 %7 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.251, i32 noundef %call10.i.i, i64 noundef %14, i64 noundef %15, i32 noundef %conv11.i.i, i32 noundef %8, i64 noundef %2, i32 noundef %add) #17
  br label %trace_pci_nvme_verify.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv12.i.i = zext i16 %7 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.252, i32 noundef %conv12.i.i, i32 noundef %8, i64 noundef %2, i32 noundef %add) #17
  br label %trace_pci_nvme_verify.exit

trace_pci_nvme_verify.exit:                       ; preds = %nvme_nsid.exit, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %dps = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 5, i32 8
  %16 = load i8, ptr %dps, align 1
  %17 = and i8 %16, 7
  %tobool.not = icmp eq i8 %17, 0
  br i1 %tobool.not, label %if.end27, label %if.then

if.then:                                          ; preds = %trace_pci_nvme_verify.exit
  %18 = lshr i16 %5, 10
  %19 = trunc i16 %18 to i8
  %conv11 = and i8 %19, 15
  %conv18 = zext i32 %6 to i64
  %call19 = tail call zeroext i16 @nvme_check_prinfo(ptr noundef nonnull %0, i8 noundef zeroext %conv11, i64 noundef %2, i64 noundef %conv18) #17
  %tobool20.not = icmp eq i16 %call19, 0
  br i1 %tobool20.not, label %if.end, label %return

if.end:                                           ; preds = %if.then
  %20 = and i16 %5, 8192
  %tobool24.not = icmp eq i16 %20, 0
  br i1 %tobool24.not, label %if.end27, label %return

if.end27:                                         ; preds = %if.end, %trace_pci_nvme_verify.exit
  %page_size = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 8
  %21 = load i32, ptr %page_size, align 4
  %vsl = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 4, i32 8
  %22 = load i8, ptr %vsl, align 1
  %conv28 = zext nneg i8 %22 to i32
  %shl = shl i32 %21, %conv28
  %conv29 = zext i32 %shl to i64
  %cmp = icmp ugt i64 %shl.i, %conv29
  br i1 %cmp, label %return, label %if.end32

if.end32:                                         ; preds = %if.end27
  %23 = getelementptr i8, ptr %0, i64 272
  %.val42 = load i64, ptr %23, align 8
  %call33 = tail call fastcc zeroext i16 @nvme_check_bounds(i64 %.val42, i64 noundef %2, i32 noundef %add)
  %tobool34.not = icmp eq i16 %call33, 0
  br i1 %tobool34.not, label %if.end36, label %return

if.end36:                                         ; preds = %if.end32
  %features = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 33
  %24 = load i32, ptr %features, align 8
  %and37 = and i32 %24, 65536
  %tobool38.not = icmp eq i32 %and37, 0
  br i1 %tobool38.not, label %if.end44, label %if.then39

if.then39:                                        ; preds = %if.end36
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %err.i)
  store ptr null, ptr %err.i, align 8
  %call.i = tail call fastcc i32 @nvme_block_status_all(ptr noundef nonnull %0, i64 noundef %2, i32 noundef %add, i32 noundef 1), !range !46
  %tobool.not.i47 = icmp eq i32 %call.i, 0
  br i1 %tobool.not.i47, label %nvme_check_dulbe.exit, label %if.then.i48

if.then.i48:                                      ; preds = %if.then39
  %cmp.i = icmp slt i32 %call.i, 0
  br i1 %cmp.i, label %if.then1.i, label %nvme_check_dulbe.exit.thread

if.then1.i:                                       ; preds = %if.then.i48
  %sub.i = sub i32 0, %call.i
  call void (ptr, ptr, i32, ptr, i32, ptr, ...) @error_setg_errno_internal(ptr noundef nonnull %err.i, ptr noundef nonnull @.str.1, i32 noundef 1729, ptr noundef nonnull @__func__.nvme_check_dulbe, i32 noundef %sub.i, ptr noundef nonnull @.str.235) #17
  %25 = load ptr, ptr %err.i, align 8
  call void @error_report_err(ptr noundef %25) #17
  br label %nvme_check_dulbe.exit.thread

nvme_check_dulbe.exit.thread:                     ; preds = %if.then1.i, %if.then.i48
  %retval.0.i49.ph = phi i16 [ 647, %if.then.i48 ], [ 6, %if.then1.i ]
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %err.i)
  br label %return

nvme_check_dulbe.exit:                            ; preds = %if.then39
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %err.i)
  br label %if.end44

if.end44:                                         ; preds = %nvme_check_dulbe.exit, %if.end36
  %call45 = tail call noalias dereferenceable_or_null(104) ptr @g_malloc0_n(i64 noundef 1, i64 noundef 104) #19
  store ptr %req, ptr %call45, align 8
  %call47 = tail call noalias ptr @g_malloc(i64 noundef %shl.i) #20
  %data = getelementptr inbounds %struct.NvmeBounceContext, ptr %call45, i64 0, i32 1
  %bounce = getelementptr inbounds %struct.NvmeBounceContext, ptr %call45, i64 0, i32 1, i32 1
  store ptr %call47, ptr %bounce, align 8
  tail call void @qemu_iovec_init(ptr noundef nonnull %data, i32 noundef 1) #17
  %26 = load ptr, ptr %bounce, align 8
  tail call void @qemu_iovec_add(ptr noundef nonnull %data, ptr noundef %26, i64 noundef %shl.i) #17
  %call53 = tail call ptr @blk_get_stats(ptr noundef %1) #17
  %acct = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 7
  %size = getelementptr inbounds %struct.NvmeBounceContext, ptr %call45, i64 0, i32 1, i32 0, i32 2, i32 0, i32 1, i32 1
  %27 = load i64, ptr %size, align 8
  tail call void @block_acct_start(ptr noundef %call53, ptr noundef nonnull %acct, i64 noundef %27, i32 noundef 1) #17
  %28 = load ptr, ptr %blkconf, align 8
  %call60 = tail call ptr @blk_aio_preadv(ptr noundef %28, i64 noundef %shl.i44, ptr noundef nonnull %data, i32 noundef 0, ptr noundef nonnull @nvme_verify_mdata_in_cb, ptr noundef nonnull %call45) #17
  %aiocb = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 2
  store ptr %call60, ptr %aiocb, align 8
  br label %return

return:                                           ; preds = %nvme_check_dulbe.exit.thread, %if.end32, %if.end27, %if.end, %if.then, %if.end44
  %retval.0 = phi i16 [ -1, %if.end44 ], [ %call19, %if.then ], [ 16769, %if.end ], [ 16386, %if.end27 ], [ %call33, %if.end32 ], [ %retval.0.i49.ph, %nvme_check_dulbe.exit.thread ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc zeroext i16 @nvme_copy(ptr noundef %n, ptr noundef %req) unnamed_addr #0 {
nvme_nsid.exit:
  %_now.i.i71 = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %ns1 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 1
  %0 = load ptr, ptr %ns1, align 8
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 1
  %1 = load ptr, ptr %blkconf, align 8
  %call = tail call ptr @blk_aio_get(ptr noundef nonnull @nvme_copy_aiocb_info, ptr noundef %1, ptr noundef nonnull @nvme_misc_cb, ptr noundef %req) #17
  %nr2 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 9
  %2 = load i8, ptr %nr2, align 1
  %conv = zext i8 %2 to i16
  %add = add nuw nsw i16 %conv, 1
  %control = getelementptr inbounds i8, ptr %req, i64 105
  %3 = load i8, ptr %control, align 1
  %and = and i8 %3, 15
  %arrayidx12 = getelementptr i8, ptr %req, i64 107
  %4 = load i8, ptr %arrayidx12, align 1
  %cid.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 5, i32 4
  %5 = load i16, ptr %cid.i, align 4
  %nsid.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 30, i32 2
  %6 = load i32, ptr %nsid.i, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %7 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %7, 0
  %8 = load i16, ptr @_TRACE_PCI_NVME_COPY_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %8, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_copy.exit

land.lhs.true5.i.i:                               ; preds = %nvme_nsid.exit
  %9 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %9, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_copy.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %10 = load i8, ptr @message_with_timestamp, align 1
  %11 = and i8 %10, 1
  %tobool7.not.i.i = icmp eq i8 %11, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %12 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %13 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext i16 %5 to i32
  %conv12.i.i = zext nneg i16 %add to i32
  %conv13.i.i = zext nneg i8 %and to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.257, i32 noundef %call10.i.i, i64 noundef %12, i64 noundef %13, i32 noundef %conv11.i.i, i32 noundef %6, i32 noundef %conv12.i.i, i32 noundef %conv13.i.i) #17
  br label %trace_pci_nvme_copy.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv14.i.i = zext i16 %5 to i32
  %conv15.i.i = zext nneg i16 %add to i32
  %conv16.i.i = zext nneg i8 %and to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.258, i32 noundef %conv14.i.i, i32 noundef %6, i32 noundef %conv15.i.i, i32 noundef %conv16.i.i) #17
  br label %trace_pci_nvme_copy.exit

trace_pci_nvme_copy.exit:                         ; preds = %nvme_nsid.exit, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %ranges = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %call, i64 0, i32 4
  store ptr null, ptr %ranges, align 8
  %zone = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %call, i64 0, i32 13
  store ptr null, ptr %zone, align 8
  %dps = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 5, i32 8
  %14 = load i8, ptr %dps, align 1
  %15 = and i8 %14, 7
  %tobool.not = icmp eq i8 %15, 0
  br i1 %tobool.not, label %if.end, label %land.lhs.true

land.lhs.true:                                    ; preds = %trace_pci_nvme_copy.exit
  %16 = lshr i8 %4, 2
  %17 = lshr i8 %3, 4
  %18 = xor i8 %16, %17
  %19 = and i8 %18, 8
  %cmp.not = icmp eq i8 %19, 0
  br i1 %cmp.not, label %if.end, label %invalid

if.end:                                           ; preds = %land.lhs.true, %trace_pci_nvme_copy.exit
  %ocfs = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 40, i32 61
  %20 = load i16, ptr %ocfs, align 2
  %conv26 = zext i16 %20 to i32
  %conv27 = zext nneg i8 %and to i32
  %shl = shl nuw nsw i32 1, %conv27
  %and28 = and i32 %shl, %conv26
  %tobool29.not = icmp eq i32 %and28, 0
  br i1 %tobool29.not, label %if.then30, label %if.end31

if.then30:                                        ; preds = %if.end
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i71)
  %21 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i72 = icmp ne i32 %21, 0
  %22 = load i16, ptr @_TRACE_PCI_NVME_ERR_COPY_INVALID_FORMAT_DSTATE, align 2
  %tobool4.i.i73 = icmp ne i16 %22, 0
  %or.cond.i.i74 = select i1 %tobool.i.i72, i1 %tobool4.i.i73, i1 false
  br i1 %or.cond.i.i74, label %land.lhs.true5.i.i75, label %trace_pci_nvme_err_copy_invalid_format.exit

land.lhs.true5.i.i75:                             ; preds = %if.then30
  %23 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i76 = and i32 %23, 32768
  %cmp.i.not.i.i77 = icmp eq i32 %and.i.i.i76, 0
  br i1 %cmp.i.not.i.i77, label %trace_pci_nvme_err_copy_invalid_format.exit, label %if.then.i.i78

if.then.i.i78:                                    ; preds = %land.lhs.true5.i.i75
  %24 = load i8, ptr @message_with_timestamp, align 1
  %25 = and i8 %24, 1
  %tobool7.not.i.i79 = icmp eq i8 %25, 0
  br i1 %tobool7.not.i.i79, label %if.else.i.i85, label %if.then8.i.i80

if.then8.i.i80:                                   ; preds = %if.then.i.i78
  %call9.i.i81 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i71, ptr noundef null) #17
  %call10.i.i82 = tail call i32 @qemu_get_thread_id() #17
  %26 = load i64, ptr %_now.i.i71, align 8
  %tv_usec.i.i83 = getelementptr inbounds %struct.timeval, ptr %_now.i.i71, i64 0, i32 1
  %27 = load i64, ptr %tv_usec.i.i83, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.259, i32 noundef %call10.i.i82, i64 noundef %26, i64 noundef %27, i32 noundef %conv27) #17
  br label %trace_pci_nvme_err_copy_invalid_format.exit

if.else.i.i85:                                    ; preds = %if.then.i.i78
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.260, i32 noundef %conv27) #17
  br label %trace_pci_nvme_err_copy_invalid_format.exit

trace_pci_nvme_err_copy_invalid_format.exit:      ; preds = %if.then30, %land.lhs.true5.i.i75, %if.then8.i.i80, %if.else.i.i85
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i71)
  br label %invalid

if.end31:                                         ; preds = %if.end
  %conv32 = zext nneg i16 %add to i32
  %msrc = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 5, i32 28
  %28 = load i8, ptr %msrc, align 8
  %conv34 = zext i8 %28 to i32
  %add35 = add nuw nsw i32 %conv34, 1
  %cmp36 = icmp ult i32 %add35, %conv32
  br i1 %cmp36, label %invalid, label %if.end39

if.end39:                                         ; preds = %if.end31
  %pif = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 14
  %29 = load i8, ptr %pif, align 8
  %cmp41 = icmp eq i8 %29, 0
  %cmp45 = icmp ne i8 %and, 0
  %or.cond = select i1 %cmp41, i1 %cmp45, i1 false
  br i1 %or.cond, label %invalid, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %if.end39
  %cmp49 = icmp ne i8 %29, 0
  %cmp53 = icmp ne i8 %and, 1
  %or.cond1 = select i1 %cmp49, i1 %cmp53, i1 false
  br i1 %or.cond1, label %invalid, label %if.end56

if.end56:                                         ; preds = %lor.lhs.false
  %spec.select = select i1 %cmp41, i64 32, i64 40
  %format62 = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %call, i64 0, i32 5
  store i32 %conv27, ptr %format62, align 8
  %conv63 = zext nneg i16 %add to i64
  %call64 = tail call noalias ptr @g_malloc_n(i64 noundef %conv63, i64 noundef %spec.select) #19
  store ptr %call64, ptr %ranges, align 8
  %mul = mul nuw nsw i64 %spec.select, %conv63
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %n, ptr noundef nonnull %sg.i, i64 noundef %mul, ptr noundef nonnull %cmd.i)
  %tobool.not.i87 = icmp eq i16 %call.i, 0
  br i1 %tobool.not.i87, label %nvme_h2c.exit, label %invalid

nvme_h2c.exit:                                    ; preds = %if.end56
  %conv68 = trunc i64 %mul to i32
  %call2.i = tail call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef %call64, i32 noundef %conv68, i32 noundef 0)
  %tobool70.not = icmp eq i16 %call2.i, 0
  br i1 %tobool70.not, label %if.end72, label %invalid

if.end72:                                         ; preds = %nvme_h2c.exit
  %sdlba = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 7
  %30 = load i64, ptr %sdlba, align 1
  %slba = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %call, i64 0, i32 12
  store i64 %30, ptr %slba, align 8
  %zoned = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 30, i32 14
  %31 = load i8, ptr %zoned, align 1
  %32 = and i8 %31, 1
  %tobool74.not = icmp eq i8 %32, 0
  br i1 %tobool74.not, label %if.end88, label %if.then75

if.then75:                                        ; preds = %if.end72
  %zone_size_log2.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 26
  %33 = load i32, ptr %zone_size_log2.i.i, align 8
  %cmp.not.i.i = icmp eq i32 %33, 0
  br i1 %cmp.not.i.i, label %cond.false.i.i, label %cond.true.i.i

cond.true.i.i:                                    ; preds = %if.then75
  %sh_prom.i.i = zext nneg i32 %33 to i64
  %shr.i.i = lshr i64 %30, %sh_prom.i.i
  br label %nvme_zone_idx.exit.i

cond.false.i.i:                                   ; preds = %if.then75
  %zone_size.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 24
  %34 = load i64, ptr %zone_size.i.i, align 8
  %div.i.i = udiv i64 %30, %34
  br label %nvme_zone_idx.exit.i

nvme_zone_idx.exit.i:                             ; preds = %cond.false.i.i, %cond.true.i.i
  %cond.i.i = phi i64 [ %shr.i.i, %cond.true.i.i ], [ %div.i.i, %cond.false.i.i ]
  %conv.i.i = trunc i64 %cond.i.i to i32
  %num_zones.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 23
  %35 = load i32, ptr %num_zones.i, align 8
  %cmp.not.i = icmp ugt i32 %35, %conv.i.i
  br i1 %cmp.not.i, label %nvme_get_zone_by_slba.exit, label %nvme_get_zone_by_slba.exit.thread

nvme_get_zone_by_slba.exit.thread:                ; preds = %nvme_zone_idx.exit.i
  store ptr null, ptr %zone, align 8
  br label %invalid

nvme_get_zone_by_slba.exit:                       ; preds = %nvme_zone_idx.exit.i
  %zone_array.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 18
  %36 = load ptr, ptr %zone_array.i, align 8
  %idxprom.i = and i64 %cond.i.i, 4294967295
  %arrayidx.i = getelementptr %struct.NvmeZone, ptr %36, i64 %idxprom.i
  store ptr %arrayidx.i, ptr %zone, align 8
  %tobool80.not = icmp eq ptr %arrayidx.i, null
  br i1 %tobool80.not, label %invalid, label %if.end82

if.end82:                                         ; preds = %nvme_get_zone_by_slba.exit
  %call.i92 = tail call fastcc zeroext i16 @nvme_zrm_open_flags(ptr noundef nonnull %n, ptr noundef nonnull %0, ptr noundef nonnull %arrayidx.i, i32 noundef 1)
  %tobool85.not = icmp eq i16 %call.i92, 0
  br i1 %tobool85.not, label %if.end88, label %invalid

if.end88:                                         ; preds = %if.end82, %if.end72
  %call89 = tail call fastcc zeroext i16 @nvme_check_copy_mcl(ptr noundef nonnull %0, ptr noundef nonnull %call, i16 noundef zeroext %add), !range !47
  %tobool90.not = icmp eq i16 %call89, 0
  br i1 %tobool90.not, label %if.end92, label %invalid

if.end92:                                         ; preds = %if.end88
  %req93 = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %call, i64 0, i32 2
  store ptr %req, ptr %req93, align 8
  %ret = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %call, i64 0, i32 3
  store i32 0, ptr %ret, align 8
  %nr95 = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %call, i64 0, i32 6
  store i32 %conv32, ptr %nr95, align 4
  %idx = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %call, i64 0, i32 7
  store i32 0, ptr %idx, align 8
  %reftag = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 11
  %37 = load i32, ptr %reftag, align 1
  %conv97 = zext i32 %37 to i64
  %reftag98 = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %call, i64 0, i32 11
  store i64 %conv97, ptr %reftag98, align 8
  %cdw3 = getelementptr inbounds i8, ptr %req, i64 68
  %38 = load i32, ptr %cdw3, align 1
  %conv100 = zext i32 %38 to i64
  %shl101 = shl nuw i64 %conv100, 32
  %or = or disjoint i64 %shl101, %conv97
  store i64 %or, ptr %reftag98, align 8
  %mssrl = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 5, i32 26
  %39 = load i16, ptr %mssrl, align 2
  %conv105 = zext i16 %39 to i64
  %lbasz = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 9
  %40 = load i64, ptr %lbasz, align 8
  %lbaf = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 7
  %41 = load i16, ptr %lbaf, align 8
  %conv106 = zext i16 %41 to i64
  %add107 = add i64 %40, %conv106
  %call108 = tail call noalias ptr @g_malloc_n(i64 noundef %conv105, i64 noundef %add107) #19
  %bounce = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %call, i64 0, i32 8
  store ptr %call108, ptr %bounce, align 8
  %iov = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %call, i64 0, i32 9
  tail call void @qemu_iovec_init(ptr noundef nonnull %iov, i32 noundef 1) #17
  %42 = load ptr, ptr %blkconf, align 8
  %call111 = tail call ptr @blk_get_stats(ptr noundef %42) #17
  %acct = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %call, i64 0, i32 10
  tail call void @block_acct_start(ptr noundef %call111, ptr noundef nonnull %acct, i64 noundef 0, i32 noundef 1) #17
  %43 = load ptr, ptr %blkconf, align 8
  %call114 = tail call ptr @blk_get_stats(ptr noundef %43) #17
  %write = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %call, i64 0, i32 10, i32 1
  tail call void @block_acct_start(ptr noundef %call114, ptr noundef nonnull %write, i64 noundef 0, i32 noundef 2) #17
  %aiocb = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 2
  store ptr %call, ptr %aiocb, align 8
  tail call fastcc void @nvme_do_copy(ptr noundef nonnull %call)
  br label %return

invalid:                                          ; preds = %if.end56, %nvme_get_zone_by_slba.exit.thread, %nvme_get_zone_by_slba.exit, %if.end39, %lor.lhs.false, %if.end31, %land.lhs.true, %if.end88, %if.end82, %nvme_h2c.exit, %trace_pci_nvme_err_copy_invalid_format.exit
  %status.0 = phi i16 [ %call2.i, %nvme_h2c.exit ], [ %call.i92, %if.end82 ], [ %call89, %if.end88 ], [ 16386, %trace_pci_nvme_err_copy_invalid_format.exit ], [ 16386, %land.lhs.true ], [ 16771, %if.end31 ], [ 16650, %lor.lhs.false ], [ 16650, %if.end39 ], [ 16512, %nvme_get_zone_by_slba.exit ], [ 16512, %nvme_get_zone_by_slba.exit.thread ], [ %call.i, %if.end56 ]
  %44 = load ptr, ptr %ranges, align 8
  tail call void @g_free(ptr noundef %44) #17
  tail call void @qemu_aio_unref(ptr noundef nonnull %call) #17
  br label %return

return:                                           ; preds = %invalid, %if.end92
  %retval.0 = phi i16 [ %status.0, %invalid ], [ -1, %if.end92 ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc zeroext i16 @nvme_zone_mgmt_send(ptr noundef %n, ptr noundef %req) unnamed_addr #0 {
entry:
  %_now.i.i227 = alloca %struct.timeval, align 8
  %_now.i.i211 = alloca %struct.timeval, align 8
  %_now.i.i195 = alloca %struct.timeval, align 8
  %_now.i.i181 = alloca %struct.timeval, align 8
  %_now.i.i167 = alloca %struct.timeval, align 8
  %_now.i.i100 = alloca %struct.timeval, align 8
  %_now.i.i86 = alloca %struct.timeval, align 8
  %_now.i.i72 = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %slba = alloca i64, align 8
  %zone_idx = alloca i32, align 4
  %ns2 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 1
  %0 = load ptr, ptr %ns2, align 8
  store i64 0, ptr %slba, align 8
  store i32 0, ptr %zone_idx, align 4
  %zsa = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 10
  %1 = load i8, ptr %zsa, align 1
  %zsflags = getelementptr inbounds i8, ptr %req, i64 109
  %2 = load i8, ptr %zsflags, align 1
  %3 = and i8 %2, 1
  %tobool.not.not = icmp eq i8 %3, 0
  %status3 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 3
  store i16 0, ptr %status3, align 8
  br i1 %tobool.not.not, label %if.then, label %if.end8

if.then:                                          ; preds = %entry
  %cmd1 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call = call fastcc zeroext i16 @nvme_get_mgmt_zone_slba_idx(ptr noundef %0, ptr noundef nonnull %cmd1, ptr noundef nonnull %slba, ptr noundef nonnull %zone_idx), !range !48
  %tobool6.not = icmp eq i16 %call, 0
  br i1 %tobool6.not, label %if.then.if.end8_crit_edge, label %return

if.then.if.end8_crit_edge:                        ; preds = %if.then
  %.pre = load i32, ptr %zone_idx, align 4
  %.pre265 = load i64, ptr %slba, align 8
  br label %if.end8

if.end8:                                          ; preds = %if.then.if.end8_crit_edge, %entry
  %4 = phi i64 [ %.pre265, %if.then.if.end8_crit_edge ], [ 0, %entry ]
  %5 = phi i32 [ %.pre, %if.then.if.end8_crit_edge ], [ 0, %entry ]
  %zone_array = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 18
  %6 = load ptr, ptr %zone_array, align 8
  %idxprom = zext i32 %5 to i64
  %arrayidx = getelementptr %struct.NvmeZone, ptr %6, i64 %idxprom
  %zslba = getelementptr inbounds %struct.NvmeZoneDescr, ptr %arrayidx, i64 0, i32 5
  %7 = load i64, ptr %zslba, align 8
  %cmp = icmp ne i64 %4, %7
  %cmp11 = icmp ne i8 %1, 17
  %or.cond = select i1 %cmp, i1 %cmp11, i1 false
  br i1 %or.cond, label %if.then13, label %if.end16

if.then13:                                        ; preds = %if.end8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %8 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %8, 0
  %9 = load i16, ptr @_TRACE_PCI_NVME_ERR_UNALIGNED_ZONE_CMD_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %9, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_err_unaligned_zone_cmd.exit

land.lhs.true5.i.i:                               ; preds = %if.then13
  %10 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %10, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_err_unaligned_zone_cmd.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %11 = load i8, ptr @message_with_timestamp, align 1
  %12 = and i8 %11, 1
  %tobool7.not.i.i = icmp eq i8 %12, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %13 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %14 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext i8 %1 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.266, i32 noundef %call10.i.i, i64 noundef %13, i64 noundef %14, i32 noundef %conv11.i.i, i64 noundef %4, i64 noundef %7) #17
  br label %trace_pci_nvme_err_unaligned_zone_cmd.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv12.i.i = zext i8 %1 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.267, i32 noundef %conv12.i.i, i64 noundef %4, i64 noundef %7) #17
  br label %trace_pci_nvme_err_unaligned_zone_cmd.exit

trace_pci_nvme_err_unaligned_zone_cmd.exit:       ; preds = %if.then13, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  br label %return

if.end16:                                         ; preds = %if.end8
  switch i8 %1, label %sw.default [
    i8 3, label %sw.bb
    i8 1, label %sw.bb24
    i8 2, label %sw.bb31
    i8 4, label %sw.bb38
    i8 5, label %sw.bb47
    i8 16, label %sw.bb54
    i8 17, label %sw.bb73
  ]

sw.bb:                                            ; preds = %if.end16
  %15 = shl nuw nsw i8 %3, 1
  %spec.select = zext nneg i8 %15 to i32
  %conv22 = zext nneg i8 %3 to i32
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i72)
  %16 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i73 = icmp ne i32 %16, 0
  %17 = load i16, ptr @_TRACE_PCI_NVME_OPEN_ZONE_DSTATE, align 2
  %tobool4.i.i74 = icmp ne i16 %17, 0
  %or.cond.i.i75 = select i1 %tobool.i.i73, i1 %tobool4.i.i74, i1 false
  br i1 %or.cond.i.i75, label %land.lhs.true5.i.i76, label %trace_pci_nvme_open_zone.exit

land.lhs.true5.i.i76:                             ; preds = %sw.bb
  %18 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i77 = and i32 %18, 32768
  %cmp.i.not.i.i78 = icmp eq i32 %and.i.i.i77, 0
  br i1 %cmp.i.not.i.i78, label %trace_pci_nvme_open_zone.exit, label %if.then.i.i79

if.then.i.i79:                                    ; preds = %land.lhs.true5.i.i76
  %19 = load i8, ptr @message_with_timestamp, align 1
  %20 = and i8 %19, 1
  %tobool7.not.i.i80 = icmp eq i8 %20, 0
  br i1 %tobool7.not.i.i80, label %if.else.i.i85, label %if.then8.i.i81

if.then8.i.i81:                                   ; preds = %if.then.i.i79
  %call9.i.i82 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i72, ptr noundef null) #17
  %call10.i.i83 = tail call i32 @qemu_get_thread_id() #17
  %21 = load i64, ptr %_now.i.i72, align 8
  %tv_usec.i.i84 = getelementptr inbounds %struct.timeval, ptr %_now.i.i72, i64 0, i32 1
  %22 = load i64, ptr %tv_usec.i.i84, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.268, i32 noundef %call10.i.i83, i64 noundef %21, i64 noundef %22, i64 noundef %4, i32 noundef %5, i32 noundef %conv22) #17
  br label %trace_pci_nvme_open_zone.exit

if.else.i.i85:                                    ; preds = %if.then.i.i79
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.269, i64 noundef %4, i32 noundef %5, i32 noundef %conv22) #17
  br label %trace_pci_nvme_open_zone.exit

trace_pci_nvme_open_zone.exit:                    ; preds = %sw.bb, %land.lhs.true5.i.i76, %if.then8.i.i81, %if.else.i.i85
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i72)
  %call23 = tail call fastcc zeroext i16 @nvme_do_zone_op(ptr noundef nonnull %0, ptr noundef %arrayidx, i32 noundef %spec.select, ptr noundef nonnull @nvme_open_zone, ptr noundef nonnull %req)
  br label %sw.epilog

sw.bb24:                                          ; preds = %if.end16
  %conv29 = zext nneg i8 %3 to i32
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i86)
  %23 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i87 = icmp ne i32 %23, 0
  %24 = load i16, ptr @_TRACE_PCI_NVME_CLOSE_ZONE_DSTATE, align 2
  %tobool4.i.i88 = icmp ne i16 %24, 0
  %or.cond.i.i89 = select i1 %tobool.i.i87, i1 %tobool4.i.i88, i1 false
  br i1 %or.cond.i.i89, label %land.lhs.true5.i.i90, label %trace_pci_nvme_close_zone.exit

land.lhs.true5.i.i90:                             ; preds = %sw.bb24
  %25 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i91 = and i32 %25, 32768
  %cmp.i.not.i.i92 = icmp eq i32 %and.i.i.i91, 0
  br i1 %cmp.i.not.i.i92, label %trace_pci_nvme_close_zone.exit, label %if.then.i.i93

if.then.i.i93:                                    ; preds = %land.lhs.true5.i.i90
  %26 = load i8, ptr @message_with_timestamp, align 1
  %27 = and i8 %26, 1
  %tobool7.not.i.i94 = icmp eq i8 %27, 0
  br i1 %tobool7.not.i.i94, label %if.else.i.i99, label %if.then8.i.i95

if.then8.i.i95:                                   ; preds = %if.then.i.i93
  %call9.i.i96 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i86, ptr noundef null) #17
  %call10.i.i97 = tail call i32 @qemu_get_thread_id() #17
  %28 = load i64, ptr %_now.i.i86, align 8
  %tv_usec.i.i98 = getelementptr inbounds %struct.timeval, ptr %_now.i.i86, i64 0, i32 1
  %29 = load i64, ptr %tv_usec.i.i98, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.270, i32 noundef %call10.i.i97, i64 noundef %28, i64 noundef %29, i64 noundef %4, i32 noundef %5, i32 noundef %conv29) #17
  br label %trace_pci_nvme_close_zone.exit

if.else.i.i99:                                    ; preds = %if.then.i.i93
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.271, i64 noundef %4, i32 noundef %5, i32 noundef %conv29) #17
  br label %trace_pci_nvme_close_zone.exit

trace_pci_nvme_close_zone.exit:                   ; preds = %sw.bb24, %land.lhs.true5.i.i90, %if.then8.i.i95, %if.else.i.i99
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i86)
  br i1 %tobool.not.not, label %if.then.i, label %if.then14.i

if.then.i:                                        ; preds = %trace_pci_nvme_close_zone.exit
  %call.i244 = tail call fastcc noundef zeroext i16 @nvme_zrm_close(ptr noundef nonnull %0, ptr noundef %arrayidx), !range !12
  br label %sw.epilog

if.then14.i:                                      ; preds = %trace_pci_nvme_close_zone.exit
  %imp_open_zones.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 20
  %30 = load ptr, ptr %imp_open_zones.i, align 8
  %tobool16.not113.i = icmp eq ptr %30, null
  br i1 %tobool16.not113.i, label %for.end31.i, label %land.rhs17.i

for.cond15.i:                                     ; preds = %land.rhs17.i, %nvme_bulk_proc_zone.exit75.i
  %tobool16.not.i = icmp eq ptr %31, null
  br i1 %tobool16.not.i, label %for.end31.i, label %land.rhs17.i, !llvm.loop !49

land.rhs17.i:                                     ; preds = %if.then14.i, %for.cond15.i
  %zone.addr.2114.i = phi ptr [ %31, %for.cond15.i ], [ %30, %if.then14.i ]
  %entry18.i = getelementptr inbounds %struct.NvmeZone, ptr %zone.addr.2114.i, i64 0, i32 2
  %31 = load ptr, ptr %entry18.i, align 8
  %32 = getelementptr i8, ptr %zone.addr.2114.i, i64 1
  %zone.val.i63.i = load i8, ptr %32, align 1
  %33 = and i8 %zone.val.i63.i, -32
  %switch = icmp eq i8 %33, 32
  br i1 %switch, label %nvme_bulk_proc_zone.exit75.i, label %for.cond15.i

nvme_bulk_proc_zone.exit75.i:                     ; preds = %land.rhs17.i
  %call.i243 = tail call fastcc noundef zeroext i16 @nvme_zrm_close(ptr noundef %0, ptr noundef nonnull %zone.addr.2114.i), !range !12
  %34 = add nsw i16 %call.i243, -1
  %or.cond1.i = icmp ult i16 %34, -2
  br i1 %or.cond1.i, label %sw.epilog, label %for.cond15.i, !llvm.loop !49

for.end31.i:                                      ; preds = %for.cond15.i, %if.then14.i
  %exp_open_zones.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 19
  %35 = load ptr, ptr %exp_open_zones.i, align 8
  %tobool33.not116.i = icmp eq ptr %35, null
  br i1 %tobool33.not116.i, label %return, label %land.rhs34.i

for.cond32.i:                                     ; preds = %land.rhs34.i, %nvme_bulk_proc_zone.exit88.i
  %tobool33.not.i = icmp eq ptr %36, null
  br i1 %tobool33.not.i, label %return, label %land.rhs34.i, !llvm.loop !50

land.rhs34.i:                                     ; preds = %for.end31.i, %for.cond32.i
  %zone.addr.3117.i = phi ptr [ %36, %for.cond32.i ], [ %35, %for.end31.i ]
  %entry35.i = getelementptr inbounds %struct.NvmeZone, ptr %zone.addr.3117.i, i64 0, i32 2
  %36 = load ptr, ptr %entry35.i, align 8
  %37 = getelementptr i8, ptr %zone.addr.3117.i, i64 1
  %zone.val.i76.i = load i8, ptr %37, align 1
  %38 = and i8 %zone.val.i76.i, -32
  %switch253 = icmp eq i8 %38, 32
  br i1 %switch253, label %nvme_bulk_proc_zone.exit88.i, label %for.cond32.i

nvme_bulk_proc_zone.exit88.i:                     ; preds = %land.rhs34.i
  %call.i = tail call fastcc noundef zeroext i16 @nvme_zrm_close(ptr noundef %0, ptr noundef nonnull %zone.addr.3117.i), !range !12
  %39 = add nsw i16 %call.i, -1
  %or.cond2.i = icmp ult i16 %39, -2
  br i1 %or.cond2.i, label %sw.epilog, label %for.cond32.i, !llvm.loop !50

sw.bb31:                                          ; preds = %if.end16
  %spec.select69 = select i1 %tobool.not.not, i32 0, i32 3
  %conv36 = zext nneg i8 %3 to i32
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i100)
  %40 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i101 = icmp ne i32 %40, 0
  %41 = load i16, ptr @_TRACE_PCI_NVME_FINISH_ZONE_DSTATE, align 2
  %tobool4.i.i102 = icmp ne i16 %41, 0
  %or.cond.i.i103 = select i1 %tobool.i.i101, i1 %tobool4.i.i102, i1 false
  br i1 %or.cond.i.i103, label %land.lhs.true5.i.i104, label %trace_pci_nvme_finish_zone.exit

land.lhs.true5.i.i104:                            ; preds = %sw.bb31
  %42 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i105 = and i32 %42, 32768
  %cmp.i.not.i.i106 = icmp eq i32 %and.i.i.i105, 0
  br i1 %cmp.i.not.i.i106, label %trace_pci_nvme_finish_zone.exit, label %if.then.i.i107

if.then.i.i107:                                   ; preds = %land.lhs.true5.i.i104
  %43 = load i8, ptr @message_with_timestamp, align 1
  %44 = and i8 %43, 1
  %tobool7.not.i.i108 = icmp eq i8 %44, 0
  br i1 %tobool7.not.i.i108, label %if.else.i.i113, label %if.then8.i.i109

if.then8.i.i109:                                  ; preds = %if.then.i.i107
  %call9.i.i110 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i100, ptr noundef null) #17
  %call10.i.i111 = tail call i32 @qemu_get_thread_id() #17
  %45 = load i64, ptr %_now.i.i100, align 8
  %tv_usec.i.i112 = getelementptr inbounds %struct.timeval, ptr %_now.i.i100, i64 0, i32 1
  %46 = load i64, ptr %tv_usec.i.i112, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.272, i32 noundef %call10.i.i111, i64 noundef %45, i64 noundef %46, i64 noundef %4, i32 noundef %5, i32 noundef %conv36) #17
  br label %trace_pci_nvme_finish_zone.exit

if.else.i.i113:                                   ; preds = %if.then.i.i107
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.273, i64 noundef %4, i32 noundef %5, i32 noundef %conv36) #17
  br label %trace_pci_nvme_finish_zone.exit

trace_pci_nvme_finish_zone.exit:                  ; preds = %sw.bb31, %land.lhs.true5.i.i104, %if.then8.i.i109, %if.else.i.i113
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i100)
  br i1 %tobool.not.not, label %if.then.i162, label %if.else.i114

if.then.i162:                                     ; preds = %trace_pci_nvme_finish_zone.exit
  %call.i248 = tail call fastcc noundef zeroext i16 @nvme_zrm_finish(ptr noundef nonnull %0, ptr noundef %arrayidx), !range !12
  br label %sw.epilog

if.else.i114:                                     ; preds = %trace_pci_nvme_finish_zone.exit
  %closed_zones.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 21
  %47 = load ptr, ptr %closed_zones.i, align 8
  %tobool4.not111.i = icmp eq ptr %47, null
  br i1 %tobool4.not111.i, label %if.end11.i, label %land.rhs.i

for.cond.i:                                       ; preds = %land.rhs.i, %nvme_bulk_proc_zone.exit.i
  %tobool4.not.i = icmp eq ptr %48, null
  br i1 %tobool4.not.i, label %if.end11.i, label %land.rhs.i, !llvm.loop !51

land.rhs.i:                                       ; preds = %if.else.i114, %for.cond.i
  %zone.addr.0112.i = phi ptr [ %48, %for.cond.i ], [ %47, %if.else.i114 ]
  %entry5.i = getelementptr inbounds %struct.NvmeZone, ptr %zone.addr.0112.i, i64 0, i32 2
  %48 = load ptr, ptr %entry5.i, align 8
  %49 = getelementptr i8, ptr %zone.addr.0112.i, i64 1
  %zone.val.i.i = load i8, ptr %49, align 1
  %50 = lshr i8 %zone.val.i.i, 4
  %shr.i.i.i = zext nneg i8 %50 to i32
  %shr.i.i.i.off = add nsw i32 %shr.i.i.i, -2
  %switch254 = icmp ult i32 %shr.i.i.i.off, 3
  br i1 %switch254, label %nvme_bulk_proc_zone.exit.i, label %for.cond.i

nvme_bulk_proc_zone.exit.i:                       ; preds = %land.rhs.i
  %call.i247 = tail call fastcc noundef zeroext i16 @nvme_zrm_finish(ptr noundef %0, ptr noundef nonnull %zone.addr.0112.i), !range !12
  %51 = add nsw i16 %call.i247, -1
  %or.cond.i = icmp ult i16 %51, -2
  br i1 %or.cond.i, label %sw.epilog, label %for.cond.i, !llvm.loop !51

if.end11.i:                                       ; preds = %for.cond.i, %if.else.i114
  %and12.i = and i32 %spec.select69, 1
  %tobool13.not.i = icmp eq i32 %and12.i, 0
  br i1 %tobool13.not.i, label %return, label %if.then14.i115

if.then14.i115:                                   ; preds = %if.end11.i
  %imp_open_zones.i116 = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 20
  %52 = load ptr, ptr %imp_open_zones.i116, align 8
  %tobool16.not113.i117 = icmp eq ptr %52, null
  br i1 %tobool16.not113.i117, label %for.end31.i135, label %land.rhs17.lr.ph.i118

land.rhs17.lr.ph.i118:                            ; preds = %if.then14.i115
  %53 = trunc i32 %spec.select69 to i8
  %54 = lshr i8 %53, 1
  br label %land.rhs17.i119

for.cond15.i132:                                  ; preds = %nvme_bulk_proc_zone.exit75.i129, %sw.epilog.i66.i125, %land.rhs17.i119
  %tobool16.not.i134 = icmp eq ptr %55, null
  br i1 %tobool16.not.i134, label %for.end31.i135, label %land.rhs17.i119, !llvm.loop !49

land.rhs17.i119:                                  ; preds = %for.cond15.i132, %land.rhs17.lr.ph.i118
  %zone.addr.2114.i120 = phi ptr [ %52, %land.rhs17.lr.ph.i118 ], [ %55, %for.cond15.i132 ]
  %entry18.i121 = getelementptr inbounds %struct.NvmeZone, ptr %zone.addr.2114.i120, i64 0, i32 2
  %55 = load ptr, ptr %entry18.i121, align 8
  %56 = getelementptr i8, ptr %zone.addr.2114.i120, i64 1
  %zone.val.i63.i122 = load i8, ptr %56, align 1
  %57 = lshr i8 %zone.val.i63.i122, 4
  %shr.i.i64.i123 = zext nneg i8 %57 to i32
  switch i32 %shr.i.i64.i123, label %for.cond15.i132 [
    i32 2, label %sw.epilog.i66.i125
    i32 3, label %sw.epilog.i66.i125
    i32 4, label %sw.bb1.i73.i161
  ]

sw.bb1.i73.i161:                                  ; preds = %land.rhs17.i119
  br label %sw.epilog.i66.i125

sw.epilog.i66.i125:                               ; preds = %sw.bb1.i73.i161, %land.rhs17.i119, %land.rhs17.i119
  %proc_zone.0.in.i67.i126 = phi i8 [ %54, %sw.bb1.i73.i161 ], [ %53, %land.rhs17.i119 ], [ %53, %land.rhs17.i119 ]
  %proc_zone.0.i68.i127 = and i8 %proc_zone.0.in.i67.i126, 1
  %tobool13.not.i69.i128 = icmp eq i8 %proc_zone.0.i68.i127, 0
  br i1 %tobool13.not.i69.i128, label %for.cond15.i132, label %nvme_bulk_proc_zone.exit75.i129

nvme_bulk_proc_zone.exit75.i129:                  ; preds = %sw.epilog.i66.i125
  %call.i246 = tail call fastcc noundef zeroext i16 @nvme_zrm_finish(ptr noundef %0, ptr noundef nonnull %zone.addr.2114.i120), !range !12
  %58 = add nsw i16 %call.i246, -1
  %or.cond1.i131 = icmp ult i16 %58, -2
  br i1 %or.cond1.i131, label %sw.epilog, label %for.cond15.i132, !llvm.loop !49

for.end31.i135:                                   ; preds = %for.cond15.i132, %if.then14.i115
  %exp_open_zones.i137 = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 19
  %59 = load ptr, ptr %exp_open_zones.i137, align 8
  %tobool33.not116.i138 = icmp eq ptr %59, null
  br i1 %tobool33.not116.i138, label %return, label %land.rhs34.lr.ph.i139

land.rhs34.lr.ph.i139:                            ; preds = %for.end31.i135
  %60 = trunc i32 %spec.select69 to i8
  %61 = lshr i8 %60, 1
  br label %land.rhs34.i140

for.cond32.i153:                                  ; preds = %nvme_bulk_proc_zone.exit88.i150, %sw.epilog.i79.i146, %land.rhs34.i140
  %tobool33.not.i155 = icmp eq ptr %62, null
  br i1 %tobool33.not.i155, label %return, label %land.rhs34.i140, !llvm.loop !50

land.rhs34.i140:                                  ; preds = %for.cond32.i153, %land.rhs34.lr.ph.i139
  %zone.addr.3117.i141 = phi ptr [ %59, %land.rhs34.lr.ph.i139 ], [ %62, %for.cond32.i153 ]
  %entry35.i142 = getelementptr inbounds %struct.NvmeZone, ptr %zone.addr.3117.i141, i64 0, i32 2
  %62 = load ptr, ptr %entry35.i142, align 8
  %63 = getelementptr i8, ptr %zone.addr.3117.i141, i64 1
  %zone.val.i76.i143 = load i8, ptr %63, align 1
  %64 = lshr i8 %zone.val.i76.i143, 4
  %shr.i.i77.i144 = zext nneg i8 %64 to i32
  switch i32 %shr.i.i77.i144, label %for.cond32.i153 [
    i32 2, label %sw.epilog.i79.i146
    i32 3, label %sw.epilog.i79.i146
    i32 4, label %sw.bb1.i86.i160
  ]

sw.bb1.i86.i160:                                  ; preds = %land.rhs34.i140
  br label %sw.epilog.i79.i146

sw.epilog.i79.i146:                               ; preds = %sw.bb1.i86.i160, %land.rhs34.i140, %land.rhs34.i140
  %proc_zone.0.in.i80.i147 = phi i8 [ %61, %sw.bb1.i86.i160 ], [ %60, %land.rhs34.i140 ], [ %60, %land.rhs34.i140 ]
  %proc_zone.0.i81.i148 = and i8 %proc_zone.0.in.i80.i147, 1
  %tobool13.not.i82.i149 = icmp eq i8 %proc_zone.0.i81.i148, 0
  br i1 %tobool13.not.i82.i149, label %for.cond32.i153, label %nvme_bulk_proc_zone.exit88.i150

nvme_bulk_proc_zone.exit88.i150:                  ; preds = %sw.epilog.i79.i146
  %call.i245 = tail call fastcc noundef zeroext i16 @nvme_zrm_finish(ptr noundef %0, ptr noundef nonnull %zone.addr.3117.i141), !range !12
  %65 = add nsw i16 %call.i245, -1
  %or.cond2.i152 = icmp ult i16 %65, -2
  br i1 %or.cond2.i152, label %sw.epilog, label %for.cond32.i153, !llvm.loop !50

sw.bb38:                                          ; preds = %if.end16
  %conv40 = zext nneg i8 %3 to i32
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i167)
  %66 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i168 = icmp ne i32 %66, 0
  %67 = load i16, ptr @_TRACE_PCI_NVME_RESET_ZONE_DSTATE, align 2
  %tobool4.i.i169 = icmp ne i16 %67, 0
  %or.cond.i.i170 = select i1 %tobool.i.i168, i1 %tobool4.i.i169, i1 false
  br i1 %or.cond.i.i170, label %land.lhs.true5.i.i171, label %trace_pci_nvme_reset_zone.exit

land.lhs.true5.i.i171:                            ; preds = %sw.bb38
  %68 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i172 = and i32 %68, 32768
  %cmp.i.not.i.i173 = icmp eq i32 %and.i.i.i172, 0
  br i1 %cmp.i.not.i.i173, label %trace_pci_nvme_reset_zone.exit, label %if.then.i.i174

if.then.i.i174:                                   ; preds = %land.lhs.true5.i.i171
  %69 = load i8, ptr @message_with_timestamp, align 1
  %70 = and i8 %69, 1
  %tobool7.not.i.i175 = icmp eq i8 %70, 0
  br i1 %tobool7.not.i.i175, label %if.else.i.i180, label %if.then8.i.i176

if.then8.i.i176:                                  ; preds = %if.then.i.i174
  %call9.i.i177 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i167, ptr noundef null) #17
  %call10.i.i178 = tail call i32 @qemu_get_thread_id() #17
  %71 = load i64, ptr %_now.i.i167, align 8
  %tv_usec.i.i179 = getelementptr inbounds %struct.timeval, ptr %_now.i.i167, i64 0, i32 1
  %72 = load i64, ptr %tv_usec.i.i179, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.274, i32 noundef %call10.i.i178, i64 noundef %71, i64 noundef %72, i64 noundef %4, i32 noundef %5, i32 noundef %conv40) #17
  br label %trace_pci_nvme_reset_zone.exit

if.else.i.i180:                                   ; preds = %if.then.i.i174
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.275, i64 noundef %4, i32 noundef %5, i32 noundef %conv40) #17
  br label %trace_pci_nvme_reset_zone.exit

trace_pci_nvme_reset_zone.exit:                   ; preds = %sw.bb38, %land.lhs.true5.i.i171, %if.then8.i.i176, %if.else.i.i180
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i167)
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 1
  %73 = load ptr, ptr %blkconf, align 8
  %call41 = tail call ptr @blk_aio_get(ptr noundef nonnull @nvme_zone_reset_aiocb_info, ptr noundef %73, ptr noundef nonnull @nvme_misc_cb, ptr noundef nonnull %req) #17
  %req42 = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %call41, i64 0, i32 2
  store ptr %req, ptr %req42, align 8
  %ret = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %call41, i64 0, i32 3
  store i32 0, ptr %ret, align 8
  %all44 = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %call41, i64 0, i32 4
  store i8 %3, ptr %all44, align 4
  %idx = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %call41, i64 0, i32 5
  store i32 %5, ptr %idx, align 8
  %zone46 = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %call41, i64 0, i32 6
  store ptr null, ptr %zone46, align 8
  %aiocb = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 2
  store ptr %call41, ptr %aiocb, align 8
  tail call void @nvme_zone_reset_cb(ptr noundef %call41, i32 noundef 0)
  br label %return

sw.bb47:                                          ; preds = %if.end16
  %74 = shl nuw nsw i8 %3, 2
  %spec.select70 = zext nneg i8 %74 to i32
  %conv52 = zext nneg i8 %3 to i32
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i181)
  %75 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i182 = icmp ne i32 %75, 0
  %76 = load i16, ptr @_TRACE_PCI_NVME_OFFLINE_ZONE_DSTATE, align 2
  %tobool4.i.i183 = icmp ne i16 %76, 0
  %or.cond.i.i184 = select i1 %tobool.i.i182, i1 %tobool4.i.i183, i1 false
  br i1 %or.cond.i.i184, label %land.lhs.true5.i.i185, label %trace_pci_nvme_offline_zone.exit

land.lhs.true5.i.i185:                            ; preds = %sw.bb47
  %77 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i186 = and i32 %77, 32768
  %cmp.i.not.i.i187 = icmp eq i32 %and.i.i.i186, 0
  br i1 %cmp.i.not.i.i187, label %trace_pci_nvme_offline_zone.exit, label %if.then.i.i188

if.then.i.i188:                                   ; preds = %land.lhs.true5.i.i185
  %78 = load i8, ptr @message_with_timestamp, align 1
  %79 = and i8 %78, 1
  %tobool7.not.i.i189 = icmp eq i8 %79, 0
  br i1 %tobool7.not.i.i189, label %if.else.i.i194, label %if.then8.i.i190

if.then8.i.i190:                                  ; preds = %if.then.i.i188
  %call9.i.i191 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i181, ptr noundef null) #17
  %call10.i.i192 = tail call i32 @qemu_get_thread_id() #17
  %80 = load i64, ptr %_now.i.i181, align 8
  %tv_usec.i.i193 = getelementptr inbounds %struct.timeval, ptr %_now.i.i181, i64 0, i32 1
  %81 = load i64, ptr %tv_usec.i.i193, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.278, i32 noundef %call10.i.i192, i64 noundef %80, i64 noundef %81, i64 noundef %4, i32 noundef %5, i32 noundef %conv52) #17
  br label %trace_pci_nvme_offline_zone.exit

if.else.i.i194:                                   ; preds = %if.then.i.i188
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.279, i64 noundef %4, i32 noundef %5, i32 noundef %conv52) #17
  br label %trace_pci_nvme_offline_zone.exit

trace_pci_nvme_offline_zone.exit:                 ; preds = %sw.bb47, %land.lhs.true5.i.i185, %if.then8.i.i190, %if.else.i.i194
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i181)
  %call53 = tail call fastcc zeroext i16 @nvme_do_zone_op(ptr noundef nonnull %0, ptr noundef %arrayidx, i32 noundef %spec.select70, ptr noundef nonnull @nvme_offline_zone, ptr noundef nonnull %req)
  br label %sw.epilog

sw.bb54:                                          ; preds = %if.end16
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i195)
  %82 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i196 = icmp ne i32 %82, 0
  %83 = load i16, ptr @_TRACE_PCI_NVME_SET_DESCRIPTOR_EXTENSION_DSTATE, align 2
  %tobool4.i.i197 = icmp ne i16 %83, 0
  %or.cond.i.i198 = select i1 %tobool.i.i196, i1 %tobool4.i.i197, i1 false
  br i1 %or.cond.i.i198, label %land.lhs.true5.i.i199, label %trace_pci_nvme_set_descriptor_extension.exit

land.lhs.true5.i.i199:                            ; preds = %sw.bb54
  %84 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i200 = and i32 %84, 32768
  %cmp.i.not.i.i201 = icmp eq i32 %and.i.i.i200, 0
  br i1 %cmp.i.not.i.i201, label %trace_pci_nvme_set_descriptor_extension.exit, label %if.then.i.i202

if.then.i.i202:                                   ; preds = %land.lhs.true5.i.i199
  %85 = load i8, ptr @message_with_timestamp, align 1
  %86 = and i8 %85, 1
  %tobool7.not.i.i203 = icmp eq i8 %86, 0
  br i1 %tobool7.not.i.i203, label %if.else.i.i208, label %if.then8.i.i204

if.then8.i.i204:                                  ; preds = %if.then.i.i202
  %call9.i.i205 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i195, ptr noundef null) #17
  %call10.i.i206 = tail call i32 @qemu_get_thread_id() #17
  %87 = load i64, ptr %_now.i.i195, align 8
  %tv_usec.i.i207 = getelementptr inbounds %struct.timeval, ptr %_now.i.i195, i64 0, i32 1
  %88 = load i64, ptr %tv_usec.i.i207, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.280, i32 noundef %call10.i.i206, i64 noundef %87, i64 noundef %88, i64 noundef %4, i32 noundef %5) #17
  br label %trace_pci_nvme_set_descriptor_extension.exit

if.else.i.i208:                                   ; preds = %if.then.i.i202
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.281, i64 noundef %4, i32 noundef %5) #17
  br label %trace_pci_nvme_set_descriptor_extension.exit

trace_pci_nvme_set_descriptor_extension.exit:     ; preds = %sw.bb54, %land.lhs.true5.i.i199, %if.then8.i.i204, %if.else.i.i208
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i195)
  br i1 %tobool.not.not, label %lor.lhs.false, label %return

lor.lhs.false:                                    ; preds = %trace_pci_nvme_set_descriptor_extension.exit
  %zd_extension_size = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 30, i32 20
  %89 = load i32, ptr %zd_extension_size, align 8
  %tobool57.not = icmp eq i32 %89, 0
  br i1 %tobool57.not, label %return, label %if.end59

if.end59:                                         ; preds = %lor.lhs.false
  %90 = getelementptr i8, ptr %0, i64 8640
  %.val = load ptr, ptr %90, align 8
  %mul.i = mul i32 %89, %5
  %idxprom.i = zext i32 %mul.i to i64
  %arrayidx.i = getelementptr i8, ptr %.val, i64 %idxprom.i
  %call63 = tail call fastcc zeroext i16 @nvme_h2c(ptr noundef %n, ptr noundef %arrayidx.i, i32 noundef %89, ptr noundef nonnull %req)
  %tobool64.not = icmp eq i16 %call63, 0
  br i1 %tobool64.not, label %if.end66, label %if.then65

if.then65:                                        ; preds = %if.end59
  tail call fastcc void @trace_pci_nvme_err_zd_extension_map_error(i32 noundef %5)
  br label %return

if.end66:                                         ; preds = %if.end59
  %call67 = tail call fastcc zeroext i16 @nvme_set_zd_ext(ptr noundef nonnull %0, ptr noundef %arrayidx)
  %cmp69 = icmp eq i16 %call67, 0
  br i1 %cmp69, label %if.then71, label %sw.epilog

if.then71:                                        ; preds = %if.end66
  tail call fastcc void @trace_pci_nvme_zd_extension_set(i32 noundef %5)
  br label %return

sw.bb73:                                          ; preds = %if.end16
  br i1 %tobool.not.not, label %if.end76, label %return

if.end76:                                         ; preds = %sw.bb73
  %req.val = load ptr, ptr %ns2, align 8
  %id_ns_zoned.i = getelementptr inbounds %struct.NvmeNamespace, ptr %req.val, i64 0, i32 17
  %91 = load ptr, ptr %id_ns_zoned.i, align 8
  %ozcs2.i = getelementptr inbounds %struct.NvmeIdNsZoned, ptr %91, i64 0, i32 1
  %92 = load i16, ptr %ozcs2.i, align 1
  %wp3.i = getelementptr inbounds %struct.NvmeZoneDescr, ptr %arrayidx, i64 0, i32 6
  %93 = load i64, ptr %wp3.i, align 8
  %sub.i = sub i64 %4, %93
  %94 = trunc i64 %sub.i to i32
  %conv.i = add i32 %94, 1
  %95 = and i16 %92, 2
  %tobool.not.i = icmp eq i16 %95, 0
  br i1 %tobool.not.i, label %return, label %if.end.i

if.end.i:                                         ; preds = %if.end76
  %za.i = getelementptr inbounds %struct.NvmeZoneDescr, ptr %arrayidx, i64 0, i32 2
  %96 = load i8, ptr %za.i, align 2
  %97 = and i8 %96, 8
  %tobool8.not.i = icmp eq i8 %97, 0
  br i1 %tobool8.not.i, label %return, label %if.end10.i

if.end10.i:                                       ; preds = %if.end.i
  %cmp.i = icmp ugt i64 %93, %4
  br i1 %cmp.i, label %return, label %lor.lhs.false.i

lor.lhs.false.i:                                  ; preds = %if.end10.i
  %zns.i = getelementptr inbounds %struct.NvmeNamespace, ptr %req.val, i64 0, i32 15
  %98 = load i16, ptr %zns.i, align 4
  %conv12.i = zext i16 %98 to i64
  %add13.i = add i64 %93, %conv12.i
  %cmp14.i = icmp ult i64 %add13.i, %4
  br i1 %cmp14.i, label %return, label %if.end17.i

if.end17.i:                                       ; preds = %lor.lhs.false.i
  %zrwafg.i = getelementptr inbounds %struct.NvmeNamespace, ptr %req.val, i64 0, i32 15, i32 1
  %99 = load i16, ptr %zrwafg.i, align 2
  %conv19.i = zext i16 %99 to i32
  %rem.i = urem i32 %conv.i, %conv19.i
  %tobool20.not.i = icmp eq i32 %rem.i, 0
  br i1 %tobool20.not.i, label %if.end22.i, label %return

if.end22.i:                                       ; preds = %if.end17.i
  %call.i.i = tail call fastcc zeroext i16 @nvme_zrm_open_flags(ptr noundef %n, ptr noundef nonnull %req.val, ptr noundef nonnull %arrayidx, i32 noundef 1)
  %tobool24.not.i = icmp eq i16 %call.i.i, 0
  br i1 %tobool24.not.i, label %if.end26.i, label %return

if.end26.i:                                       ; preds = %if.end22.i
  %conv27.i = zext i32 %conv.i to i64
  %w_ptr.i = getelementptr %struct.NvmeZone, ptr %6, i64 %idxprom, i32 1
  %100 = load i64, ptr %w_ptr.i, align 8
  %add28.i = add i64 %100, %conv27.i
  store i64 %add28.i, ptr %w_ptr.i, align 8
  %101 = load i64, ptr %wp3.i, align 8
  %add.i.i = add i64 %101, %conv27.i
  store i64 %add.i.i, ptr %wp3.i, align 8
  %102 = getelementptr i8, ptr %arrayidx, i64 8
  %zone.val.i.i209 = load i64, ptr %102, align 8
  %zone.val4.i.i = load i64, ptr %zslba, align 8
  %add.i.i.i = add i64 %zone.val4.i.i, %zone.val.i.i209
  %cmp.i.i = icmp eq i64 %add.i.i, %add.i.i.i
  br i1 %cmp.i.i, label %if.then.i.i210, label %return

if.then.i.i210:                                   ; preds = %if.end26.i
  %call4.i.i = tail call fastcc zeroext i16 @nvme_zrm_finish(ptr noundef nonnull %req.val, ptr noundef nonnull %arrayidx), !range !12
  br label %return

sw.default:                                       ; preds = %if.end16
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i211)
  %103 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i212 = icmp ne i32 %103, 0
  %104 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_MGMT_ACTION_DSTATE, align 2
  %tobool4.i.i213 = icmp ne i16 %104, 0
  %or.cond.i.i214 = select i1 %tobool.i.i212, i1 %tobool4.i.i213, i1 false
  br i1 %or.cond.i.i214, label %land.lhs.true5.i.i215, label %sw.epilog.thread250

land.lhs.true5.i.i215:                            ; preds = %sw.default
  %105 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i216 = and i32 %105, 32768
  %cmp.i.not.i.i217 = icmp eq i32 %and.i.i.i216, 0
  br i1 %cmp.i.not.i.i217, label %sw.epilog.thread250, label %if.then.i.i218

if.then.i.i218:                                   ; preds = %land.lhs.true5.i.i215
  %106 = load i8, ptr @message_with_timestamp, align 1
  %107 = and i8 %106, 1
  %tobool7.not.i.i219 = icmp eq i8 %107, 0
  br i1 %tobool7.not.i.i219, label %if.else.i.i225, label %if.then8.i.i220

if.then8.i.i220:                                  ; preds = %if.then.i.i218
  %call9.i.i221 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i211, ptr noundef null) #17
  %call10.i.i222 = tail call i32 @qemu_get_thread_id() #17
  %108 = load i64, ptr %_now.i.i211, align 8
  %tv_usec.i.i223 = getelementptr inbounds %struct.timeval, ptr %_now.i.i211, i64 0, i32 1
  %109 = load i64, ptr %tv_usec.i.i223, align 8
  %conv11.i.i224 = zext i8 %1 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.286, i32 noundef %call10.i.i222, i64 noundef %108, i64 noundef %109, i32 noundef %conv11.i.i224) #17
  br label %sw.epilog.thread250

if.else.i.i225:                                   ; preds = %if.then.i.i218
  %conv12.i.i226 = zext i8 %1 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.287, i32 noundef %conv12.i.i226) #17
  br label %sw.epilog.thread250

sw.epilog.thread250:                              ; preds = %if.else.i.i225, %if.then8.i.i220, %land.lhs.true5.i.i215, %sw.default
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i211)
  br label %if.then85

sw.epilog:                                        ; preds = %nvme_bulk_proc_zone.exit.i, %nvme_bulk_proc_zone.exit75.i129, %nvme_bulk_proc_zone.exit88.i150, %nvme_bulk_proc_zone.exit75.i, %nvme_bulk_proc_zone.exit88.i, %if.then.i162, %if.then.i, %if.end66, %trace_pci_nvme_offline_zone.exit, %trace_pci_nvme_open_zone.exit
  %status.0 = phi i16 [ %call67, %if.end66 ], [ %call53, %trace_pci_nvme_offline_zone.exit ], [ %call23, %trace_pci_nvme_open_zone.exit ], [ %call.i244, %if.then.i ], [ %call.i248, %if.then.i162 ], [ %call.i, %nvme_bulk_proc_zone.exit88.i ], [ %call.i243, %nvme_bulk_proc_zone.exit75.i ], [ %call.i245, %nvme_bulk_proc_zone.exit88.i150 ], [ %call.i246, %nvme_bulk_proc_zone.exit75.i129 ], [ %call.i247, %nvme_bulk_proc_zone.exit.i ]
  switch i16 %status.0, label %if.then85 [
    i16 447, label %if.then81
    i16 0, label %return
  ]

if.then81:                                        ; preds = %sw.epilog
  %za = getelementptr inbounds %struct.NvmeZoneDescr, ptr %arrayidx, i64 0, i32 2
  %110 = load i8, ptr %za, align 2
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i227)
  %111 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i228 = icmp ne i32 %111, 0
  %112 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_ZONE_STATE_TRANSITION_DSTATE, align 2
  %tobool4.i.i229 = icmp ne i16 %112, 0
  %or.cond.i.i230 = select i1 %tobool.i.i228, i1 %tobool4.i.i229, i1 false
  br i1 %or.cond.i.i230, label %land.lhs.true5.i.i231, label %trace_pci_nvme_err_invalid_zone_state_transition.exit

land.lhs.true5.i.i231:                            ; preds = %if.then81
  %113 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i232 = and i32 %113, 32768
  %cmp.i.not.i.i233 = icmp eq i32 %and.i.i.i232, 0
  br i1 %cmp.i.not.i.i233, label %trace_pci_nvme_err_invalid_zone_state_transition.exit, label %if.then.i.i234

if.then.i.i234:                                   ; preds = %land.lhs.true5.i.i231
  %114 = load i8, ptr @message_with_timestamp, align 1
  %115 = and i8 %114, 1
  %tobool7.not.i.i235 = icmp eq i8 %115, 0
  br i1 %tobool7.not.i.i235, label %if.else.i.i242, label %if.then8.i.i236

if.then8.i.i236:                                  ; preds = %if.then.i.i234
  %call9.i.i237 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i227, ptr noundef null) #17
  %call10.i.i238 = tail call i32 @qemu_get_thread_id() #17
  %116 = load i64, ptr %_now.i.i227, align 8
  %tv_usec.i.i239 = getelementptr inbounds %struct.timeval, ptr %_now.i.i227, i64 0, i32 1
  %117 = load i64, ptr %tv_usec.i.i239, align 8
  %conv11.i.i240 = zext i8 %1 to i32
  %conv12.i.i241 = zext i8 %110 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.288, i32 noundef %call10.i.i238, i64 noundef %116, i64 noundef %117, i32 noundef %conv11.i.i240, i64 noundef %4, i32 noundef %conv12.i.i241) #17
  br label %trace_pci_nvme_err_invalid_zone_state_transition.exit

if.else.i.i242:                                   ; preds = %if.then.i.i234
  %conv13.i.i = zext i8 %1 to i32
  %conv14.i.i = zext i8 %110 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.289, i32 noundef %conv13.i.i, i64 noundef %4, i32 noundef %conv14.i.i) #17
  br label %trace_pci_nvme_err_invalid_zone_state_transition.exit

trace_pci_nvme_err_invalid_zone_state_transition.exit: ; preds = %if.then81, %land.lhs.true5.i.i231, %if.then8.i.i236, %if.else.i.i242
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i227)
  br label %if.then85

if.then85:                                        ; preds = %sw.epilog.thread250, %trace_pci_nvme_err_invalid_zone_state_transition.exit, %sw.epilog
  %status.0252 = phi i16 [ 2, %sw.epilog.thread250 ], [ 447, %trace_pci_nvme_err_invalid_zone_state_transition.exit ], [ %status.0, %sw.epilog ]
  %118 = or i16 %status.0252, 16384
  br label %return

return:                                           ; preds = %for.cond32.i153, %for.cond32.i, %for.end31.i135, %if.end11.i, %for.end31.i, %if.then.i.i210, %if.end26.i, %if.end22.i, %if.end17.i, %lor.lhs.false.i, %if.end10.i, %if.end.i, %if.end76, %if.then85, %sw.epilog, %sw.bb73, %trace_pci_nvme_set_descriptor_extension.exit, %lor.lhs.false, %if.then, %if.then71, %if.then65, %trace_pci_nvme_reset_zone.exit, %trace_pci_nvme_err_unaligned_zone_cmd.exit
  %retval.0 = phi i16 [ 16386, %trace_pci_nvme_err_unaligned_zone_cmd.exit ], [ %call63, %if.then65 ], [ 0, %if.then71 ], [ -1, %trace_pci_nvme_reset_zone.exit ], [ %call, %if.then ], [ 16386, %lor.lhs.false ], [ 16386, %trace_pci_nvme_set_descriptor_extension.exit ], [ 16386, %sw.bb73 ], [ %118, %if.then85 ], [ %status.0, %sw.epilog ], [ 16822, %if.end76 ], [ 16386, %if.end.i ], [ 16824, %lor.lhs.false.i ], [ 16824, %if.end10.i ], [ 16386, %if.end17.i ], [ %call.i.i, %if.end22.i ], [ 0, %if.end26.i ], [ 0, %if.then.i.i210 ], [ 0, %for.end31.i ], [ 0, %if.end11.i ], [ 0, %for.end31.i135 ], [ 0, %for.cond32.i ], [ 0, %for.cond32.i153 ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_zone_mgmt_recv(ptr noundef %n, ptr noundef %req) unnamed_addr #0 {
entry:
  %_now.i.i.i = alloca %struct.timeval, align 8
  %zone_idx = alloca i32, align 4
  %slba = alloca i64, align 8
  %cmd1 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %ns2 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 1
  %0 = load ptr, ptr %ns2, align 8
  %cdw12 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 9
  %1 = load i32, ptr %cdw12, align 1
  %add = shl i32 %1, 2
  %shl = add i32 %add, 4
  %cdw13 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 10
  %2 = load i32, ptr %cdw13, align 1
  %.fr116 = freeze i32 %2
  %status4 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 3
  store i16 0, ptr %status4, align 8
  %call5 = call fastcc zeroext i16 @nvme_get_mgmt_zone_slba_idx(ptr noundef %0, ptr noundef nonnull %cmd1, ptr noundef nonnull %slba, ptr noundef nonnull %zone_idx), !range !48
  %tobool.not = icmp eq i16 %call5, 0
  br i1 %tobool.not, label %if.end, label %return

if.end:                                           ; preds = %entry
  %and = and i32 %.fr116, 255
  %or.cond = icmp ugt i32 %and, 1
  br i1 %or.cond, label %return, label %if.end8

if.end8:                                          ; preds = %if.end
  %cmp9 = icmp eq i32 %and, 1
  br i1 %cmp9, label %land.lhs.true10, label %if.end13

land.lhs.true10:                                  ; preds = %if.end8
  %zd_extension_size = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 30, i32 20
  %3 = load i32, ptr %zd_extension_size, align 8
  %tobool11.not = icmp eq i32 %3, 0
  br i1 %tobool11.not, label %return, label %if.end13

if.end13:                                         ; preds = %land.lhs.true10, %if.end8
  %shr = lshr i32 %.fr116, 8
  %and14 = and i32 %shr, 255
  %cmp15 = icmp ugt i32 %and14, 7
  br i1 %cmp15, label %return, label %if.end17

if.end17:                                         ; preds = %if.end13
  %conv = zext i32 %shl to i64
  %cmp18 = icmp ult i32 %shl, 64
  br i1 %cmp18, label %return, label %if.end21

if.end21:                                         ; preds = %if.end17
  %mdts1.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 4, i32 7
  %4 = load i8, ptr %mdts1.i, align 16
  %tobool.not.i = icmp eq i8 %4, 0
  br i1 %tobool.not.i, label %if.end26, label %land.lhs.true.i

land.lhs.true.i:                                  ; preds = %if.end21
  %conv.i = zext nneg i8 %4 to i32
  %page_size.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 8
  %5 = load i32, ptr %page_size.i, align 4
  %shl.i = shl i32 %5, %conv.i
  %cmp.i = icmp ult i32 %shl.i, %shl
  br i1 %cmp.i, label %if.then.i, label %if.end26

if.then.i:                                        ; preds = %land.lhs.true.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i)
  %6 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i = icmp ne i32 %6, 0
  %7 = load i16, ptr @_TRACE_PCI_NVME_ERR_MDTS_DSTATE, align 2
  %tobool4.i.i.i = icmp ne i16 %7, 0
  %or.cond.i.i.i = select i1 %tobool.i.i.i, i1 %tobool4.i.i.i, i1 false
  br i1 %or.cond.i.i.i, label %land.lhs.true5.i.i.i, label %nvme_check_mdts.exit

land.lhs.true5.i.i.i:                             ; preds = %if.then.i
  %8 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i = and i32 %8, 32768
  %cmp.i.not.i.i.i = icmp eq i32 %and.i.i.i.i, 0
  br i1 %cmp.i.not.i.i.i, label %nvme_check_mdts.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %land.lhs.true5.i.i.i
  %9 = load i8, ptr @message_with_timestamp, align 1
  %10 = and i8 %9, 1
  %tobool7.not.i.i.i = icmp eq i8 %10, 0
  br i1 %tobool7.not.i.i.i, label %if.else.i.i.i, label %if.then8.i.i.i

if.then8.i.i.i:                                   ; preds = %if.then.i.i.i
  %call9.i.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i, ptr noundef null) #17
  %call10.i.i.i = tail call i32 @qemu_get_thread_id() #17
  %11 = load i64, ptr %_now.i.i.i, align 8
  %tv_usec.i.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i, i64 0, i32 1
  %12 = load i64, ptr %tv_usec.i.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.199, i32 noundef %call10.i.i.i, i64 noundef %11, i64 noundef %12, i64 noundef %conv) #17
  br label %nvme_check_mdts.exit

if.else.i.i.i:                                    ; preds = %if.then.i.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.200, i64 noundef %conv) #17
  br label %nvme_check_mdts.exit

nvme_check_mdts.exit:                             ; preds = %if.then.i, %land.lhs.true5.i.i.i, %if.then8.i.i.i, %if.else.i.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i)
  br label %return

if.end26:                                         ; preds = %land.lhs.true.i, %if.end21
  br i1 %cmp9, label %if.then31, label %if.end36

if.then31:                                        ; preds = %if.end26
  %zd_extension_size33 = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 30, i32 20
  %13 = load i32, ptr %zd_extension_size33, align 8
  %conv34 = zext i32 %13 to i64
  %add35 = add nuw nsw i64 %conv34, 64
  br label %if.end36

if.end36:                                         ; preds = %if.then31, %if.end26
  %zone_entry_sz.0 = phi i64 [ %add35, %if.then31 ], [ 64, %if.end26 ]
  %sub = add nsw i64 %conv, -64
  %div = udiv i64 %sub, %zone_entry_sz.0
  %call39 = tail call noalias ptr @g_malloc0(i64 noundef %conv) #20
  %zone_array = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 18
  %14 = load i32, ptr %zone_idx, align 4
  %num_zones = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 23
  %15 = load i32, ptr %num_zones, align 8
  %cmp40107 = icmp ult i32 %14, %15
  br i1 %cmp40107, label %for.body.lr.ph, label %for.end.thread

for.end.thread:                                   ; preds = %if.end36
  store i64 0, ptr %call39, align 1
  br label %for.end107

for.body.lr.ph:                                   ; preds = %if.end36
  %16 = load ptr, ptr %zone_array, align 8
  %idxprom = zext i32 %14 to i64
  %arrayidx = getelementptr %struct.NvmeZone, ptr %16, i64 %idxprom
  %17 = and i32 %.fr116, 65536
  %tobool42.not = icmp eq i32 %17, 0
  br i1 %tobool42.not, label %for.body.us, label %for.body

for.body.us:                                      ; preds = %for.body.lr.ph, %nvme_zone_matches_filter.exit.thread88.us
  %i.0110.us = phi i32 [ %inc51.us, %nvme_zone_matches_filter.exit.thread88.us ], [ %14, %for.body.lr.ph ]
  %zone.0109.us = phi ptr [ %incdec.ptr.us, %nvme_zone_matches_filter.exit.thread88.us ], [ %arrayidx, %for.body.lr.ph ]
  %nr_zones.0108.us = phi i64 [ %20, %nvme_zone_matches_filter.exit.thread88.us ], [ 0, %for.body.lr.ph ]
  %incdec.ptr.us = getelementptr %struct.NvmeZone, ptr %zone.0109.us, i64 1
  %18 = getelementptr i8, ptr %zone.0109.us, i64 1
  %zone.0.val.us = load i8, ptr %18, align 1
  %zone.0.val.fr.us = freeze i8 %zone.0.val.us
  %19 = lshr i8 %zone.0.val.fr.us, 4
  switch i32 %and14, label %nvme_zone_matches_filter.exit.thread88.us [
    i32 0, label %nvme_zone_matches_filter.exit.thread.us
    i32 1, label %nvme_zone_matches_filter.exit.us
    i32 2, label %sw.bb2.i.us
    i32 3, label %sw.bb4.i.us
    i32 4, label %sw.bb6.i.us
    i32 5, label %sw.bb8.i.us
    i32 6, label %sw.bb10.i.us
    i32 7, label %sw.bb12.i.us
  ]

sw.bb12.i.us:                                     ; preds = %for.body.us
  %cmp13.i.us = icmp eq i8 %19, 15
  br i1 %cmp13.i.us, label %nvme_zone_matches_filter.exit.thread.us, label %nvme_zone_matches_filter.exit.thread88.us

sw.bb10.i.us:                                     ; preds = %for.body.us
  %cmp11.i.us = icmp eq i8 %19, 13
  br i1 %cmp11.i.us, label %nvme_zone_matches_filter.exit.thread.us, label %nvme_zone_matches_filter.exit.thread88.us

sw.bb8.i.us:                                      ; preds = %for.body.us
  %cmp9.i.us = icmp eq i8 %19, 14
  br i1 %cmp9.i.us, label %nvme_zone_matches_filter.exit.thread.us, label %nvme_zone_matches_filter.exit.thread88.us

sw.bb6.i.us:                                      ; preds = %for.body.us
  %cmp7.i.us = icmp eq i8 %19, 4
  br i1 %cmp7.i.us, label %nvme_zone_matches_filter.exit.thread.us, label %nvme_zone_matches_filter.exit.thread88.us

sw.bb4.i.us:                                      ; preds = %for.body.us
  %cmp5.i.us = icmp eq i8 %19, 3
  br i1 %cmp5.i.us, label %nvme_zone_matches_filter.exit.thread.us, label %nvme_zone_matches_filter.exit.thread88.us

sw.bb2.i.us:                                      ; preds = %for.body.us
  %cmp3.i.us = icmp eq i8 %19, 2
  br i1 %cmp3.i.us, label %nvme_zone_matches_filter.exit.thread.us, label %nvme_zone_matches_filter.exit.thread88.us

nvme_zone_matches_filter.exit.us:                 ; preds = %for.body.us
  %cmp.i63.us = icmp eq i8 %19, 1
  br i1 %cmp.i63.us, label %nvme_zone_matches_filter.exit.thread.us, label %nvme_zone_matches_filter.exit.thread88.us

nvme_zone_matches_filter.exit.thread.us:          ; preds = %nvme_zone_matches_filter.exit.us, %sw.bb2.i.us, %sw.bb4.i.us, %sw.bb6.i.us, %sw.bb8.i.us, %sw.bb10.i.us, %sw.bb12.i.us, %for.body.us
  %inc87.us = add i64 %nr_zones.0108.us, 1
  br label %nvme_zone_matches_filter.exit.thread88.us

nvme_zone_matches_filter.exit.thread88.us:        ; preds = %nvme_zone_matches_filter.exit.thread.us, %nvme_zone_matches_filter.exit.us, %sw.bb2.i.us, %sw.bb4.i.us, %sw.bb6.i.us, %sw.bb8.i.us, %sw.bb10.i.us, %sw.bb12.i.us, %for.body.us
  %20 = phi i64 [ %inc87.us, %nvme_zone_matches_filter.exit.thread.us ], [ %nr_zones.0108.us, %nvme_zone_matches_filter.exit.us ], [ %nr_zones.0108.us, %sw.bb12.i.us ], [ %nr_zones.0108.us, %sw.bb10.i.us ], [ %nr_zones.0108.us, %sw.bb8.i.us ], [ %nr_zones.0108.us, %sw.bb6.i.us ], [ %nr_zones.0108.us, %sw.bb4.i.us ], [ %nr_zones.0108.us, %sw.bb2.i.us ], [ %nr_zones.0108.us, %for.body.us ]
  %inc51.us = add nuw i32 %i.0110.us, 1
  %exitcond118.not = icmp eq i32 %inc51.us, %15
  br i1 %exitcond118.not, label %for.end, label %for.body.us, !llvm.loop !52

for.body:                                         ; preds = %for.body.lr.ph, %nvme_zone_matches_filter.exit.thread88
  %i.0110 = phi i32 [ %inc51, %nvme_zone_matches_filter.exit.thread88 ], [ %14, %for.body.lr.ph ]
  %zone.0109 = phi ptr [ %incdec.ptr, %nvme_zone_matches_filter.exit.thread88 ], [ %arrayidx, %for.body.lr.ph ]
  %nr_zones.0108 = phi i64 [ %23, %nvme_zone_matches_filter.exit.thread88 ], [ 0, %for.body.lr.ph ]
  %cmp44.not = icmp ult i64 %nr_zones.0108, %div
  br i1 %cmp44.not, label %if.end47, label %for.end

if.end47:                                         ; preds = %for.body
  %incdec.ptr = getelementptr %struct.NvmeZone, ptr %zone.0109, i64 1
  %21 = getelementptr i8, ptr %zone.0109, i64 1
  %zone.0.val = load i8, ptr %21, align 1
  %zone.0.val.fr = freeze i8 %zone.0.val
  %22 = lshr i8 %zone.0.val.fr, 4
  switch i32 %and14, label %nvme_zone_matches_filter.exit.thread88 [
    i32 0, label %nvme_zone_matches_filter.exit.thread
    i32 1, label %nvme_zone_matches_filter.exit
    i32 2, label %sw.bb2.i
    i32 3, label %sw.bb4.i
    i32 4, label %sw.bb6.i
    i32 5, label %sw.bb8.i
    i32 6, label %sw.bb10.i
    i32 7, label %sw.bb12.i
  ]

sw.bb2.i:                                         ; preds = %if.end47
  %cmp3.i = icmp eq i8 %22, 2
  br i1 %cmp3.i, label %nvme_zone_matches_filter.exit.thread, label %nvme_zone_matches_filter.exit.thread88

sw.bb4.i:                                         ; preds = %if.end47
  %cmp5.i = icmp eq i8 %22, 3
  br i1 %cmp5.i, label %nvme_zone_matches_filter.exit.thread, label %nvme_zone_matches_filter.exit.thread88

sw.bb6.i:                                         ; preds = %if.end47
  %cmp7.i = icmp eq i8 %22, 4
  br i1 %cmp7.i, label %nvme_zone_matches_filter.exit.thread, label %nvme_zone_matches_filter.exit.thread88

sw.bb8.i:                                         ; preds = %if.end47
  %cmp9.i = icmp eq i8 %22, 14
  br i1 %cmp9.i, label %nvme_zone_matches_filter.exit.thread, label %nvme_zone_matches_filter.exit.thread88

sw.bb10.i:                                        ; preds = %if.end47
  %cmp11.i = icmp eq i8 %22, 13
  br i1 %cmp11.i, label %nvme_zone_matches_filter.exit.thread, label %nvme_zone_matches_filter.exit.thread88

sw.bb12.i:                                        ; preds = %if.end47
  %cmp13.i = icmp eq i8 %22, 15
  br i1 %cmp13.i, label %nvme_zone_matches_filter.exit.thread, label %nvme_zone_matches_filter.exit.thread88

nvme_zone_matches_filter.exit:                    ; preds = %if.end47
  %cmp.i63 = icmp eq i8 %22, 1
  br i1 %cmp.i63, label %nvme_zone_matches_filter.exit.thread, label %nvme_zone_matches_filter.exit.thread88

nvme_zone_matches_filter.exit.thread:             ; preds = %if.end47, %sw.bb2.i, %sw.bb4.i, %sw.bb6.i, %sw.bb8.i, %sw.bb10.i, %sw.bb12.i, %nvme_zone_matches_filter.exit
  %inc87 = add nuw i64 %nr_zones.0108, 1
  br label %nvme_zone_matches_filter.exit.thread88

nvme_zone_matches_filter.exit.thread88:           ; preds = %if.end47, %sw.bb2.i, %sw.bb4.i, %sw.bb6.i, %sw.bb8.i, %sw.bb10.i, %sw.bb12.i, %nvme_zone_matches_filter.exit, %nvme_zone_matches_filter.exit.thread
  %23 = phi i64 [ %inc87, %nvme_zone_matches_filter.exit.thread ], [ %nr_zones.0108, %nvme_zone_matches_filter.exit ], [ %nr_zones.0108, %sw.bb12.i ], [ %nr_zones.0108, %sw.bb10.i ], [ %nr_zones.0108, %sw.bb8.i ], [ %nr_zones.0108, %sw.bb6.i ], [ %nr_zones.0108, %sw.bb4.i ], [ %nr_zones.0108, %sw.bb2.i ], [ %nr_zones.0108, %if.end47 ]
  %inc51 = add nuw i32 %i.0110, 1
  %exitcond.not = icmp eq i32 %inc51, %15
  br i1 %exitcond.not, label %for.end, label %for.body, !llvm.loop !52

for.end:                                          ; preds = %nvme_zone_matches_filter.exit.thread88, %for.body, %nvme_zone_matches_filter.exit.thread88.us
  %nr_zones.0.lcssa = phi i64 [ %20, %nvme_zone_matches_filter.exit.thread88.us ], [ %nr_zones.0108, %for.body ], [ %23, %nvme_zone_matches_filter.exit.thread88 ]
  store i64 %nr_zones.0.lcssa, ptr %call39, align 1
  %cmp58113 = icmp ule i64 %zone_entry_sz.0, %sub
  %24 = select i1 %cmp40107, i1 %cmp58113, i1 false
  br i1 %24, label %for.body60.lr.ph, label %for.end107

for.body60.lr.ph:                                 ; preds = %for.end
  %add.ptr = getelementptr i8, ptr %call39, i64 64
  %25 = getelementptr i8, ptr %0, i64 8640
  %26 = getelementptr i8, ptr %0, i64 8736
  br label %for.body60

for.body60:                                       ; preds = %for.body60.lr.ph, %for.inc105
  %27 = phi i32 [ %15, %for.body60.lr.ph ], [ %44, %for.inc105 ]
  %28 = phi i32 [ %14, %for.body60.lr.ph ], [ %inc106, %for.inc105 ]
  %buf_p.0115 = phi ptr [ %add.ptr, %for.body60.lr.ph ], [ %buf_p.2, %for.inc105 ]
  %max_zones.0114 = phi i64 [ %div, %for.body60.lr.ph ], [ %max_zones.1, %for.inc105 ]
  %29 = load ptr, ptr %zone_array, align 8
  %idxprom62 = zext i32 %28 to i64
  %arrayidx63 = getelementptr %struct.NvmeZone, ptr %29, i64 %idxprom62
  %30 = getelementptr i8, ptr %arrayidx63, i64 1
  %arrayidx63.val = load i8, ptr %30, align 1
  %31 = lshr i8 %arrayidx63.val, 4
  switch i32 %and14, label %for.inc105 [
    i32 0, label %if.then65
    i32 1, label %nvme_zone_matches_filter.exit80
    i32 2, label %sw.bb2.i75
    i32 3, label %sw.bb4.i73
    i32 4, label %sw.bb6.i71
    i32 5, label %sw.bb8.i69
    i32 6, label %sw.bb10.i67
    i32 7, label %sw.bb12.i64
  ]

sw.bb2.i75:                                       ; preds = %for.body60
  %cmp3.i76 = icmp eq i8 %31, 2
  br i1 %cmp3.i76, label %if.then65, label %for.inc105

sw.bb4.i73:                                       ; preds = %for.body60
  %cmp5.i74 = icmp eq i8 %31, 3
  br i1 %cmp5.i74, label %if.then65, label %for.inc105

sw.bb6.i71:                                       ; preds = %for.body60
  %cmp7.i72 = icmp eq i8 %31, 4
  br i1 %cmp7.i72, label %if.then65, label %for.inc105

sw.bb8.i69:                                       ; preds = %for.body60
  %cmp9.i70 = icmp eq i8 %31, 14
  br i1 %cmp9.i70, label %if.then65, label %for.inc105

sw.bb10.i67:                                      ; preds = %for.body60
  %cmp11.i68 = icmp eq i8 %31, 13
  br i1 %cmp11.i68, label %if.then65, label %for.inc105

sw.bb12.i64:                                      ; preds = %for.body60
  %cmp13.i65 = icmp eq i8 %31, 15
  br i1 %cmp13.i65, label %if.then65, label %for.inc105

nvme_zone_matches_filter.exit80:                  ; preds = %for.body60
  %cmp.i78 = icmp eq i8 %31, 1
  br i1 %cmp.i78, label %if.then65, label %for.inc105

if.then65:                                        ; preds = %for.body60, %sw.bb2.i75, %sw.bb4.i73, %sw.bb6.i71, %sw.bb8.i69, %sw.bb10.i67, %sw.bb12.i64, %nvme_zone_matches_filter.exit80
  %add.ptr66 = getelementptr i8, ptr %buf_p.0115, i64 64
  %32 = load i8, ptr %arrayidx63, align 8
  store i8 %32, ptr %buf_p.0115, align 1
  %33 = load i8, ptr %30, align 1
  %zs69 = getelementptr inbounds %struct.NvmeZoneDescr, ptr %buf_p.0115, i64 0, i32 1
  store i8 %33, ptr %zs69, align 1
  %zcap = getelementptr inbounds %struct.NvmeZoneDescr, ptr %arrayidx63, i64 0, i32 4
  %34 = load i64, ptr %zcap, align 8
  %zcap72 = getelementptr inbounds %struct.NvmeZoneDescr, ptr %buf_p.0115, i64 0, i32 4
  store i64 %34, ptr %zcap72, align 1
  %zslba = getelementptr inbounds %struct.NvmeZoneDescr, ptr %arrayidx63, i64 0, i32 5
  %35 = load i64, ptr %zslba, align 8
  %zslba75 = getelementptr inbounds %struct.NvmeZoneDescr, ptr %buf_p.0115, i64 0, i32 5
  store i64 %35, ptr %zslba75, align 1
  %za = getelementptr inbounds %struct.NvmeZoneDescr, ptr %arrayidx63, i64 0, i32 2
  %36 = load i8, ptr %za, align 2
  %za77 = getelementptr inbounds %struct.NvmeZoneDescr, ptr %buf_p.0115, i64 0, i32 2
  store i8 %36, ptr %za77, align 1
  %arrayidx63.val61 = load i8, ptr %30, align 1
  %37 = lshr i8 %arrayidx63.val61, 4
  %shr.i.i = zext nneg i8 %37 to i32
  %38 = add nsw i32 %shr.i.i, -15
  %or.cond.i = icmp ult i32 %38, -2
  %cmp7.i81 = icmp ne i8 %37, 15
  %spec.select.i = and i1 %cmp7.i81, %or.cond.i
  br i1 %spec.select.i, label %if.then79, label %if.end85

if.then79:                                        ; preds = %if.then65
  %wp = getelementptr inbounds %struct.NvmeZoneDescr, ptr %arrayidx63, i64 0, i32 6
  %39 = load i64, ptr %wp, align 8
  br label %if.end85

if.end85:                                         ; preds = %if.then65, %if.then79
  %.sink = phi i64 [ %39, %if.then79 ], [ -1, %if.then65 ]
  %40 = getelementptr inbounds %struct.NvmeZoneDescr, ptr %buf_p.0115, i64 0, i32 6
  store i64 %.sink, ptr %40, align 1
  br i1 %cmp9, label %if.then88, label %if.end103

if.then88:                                        ; preds = %if.end85
  %41 = load i8, ptr %za, align 2
  %tobool93.not = icmp sgt i8 %41, -1
  br i1 %tobool93.not, label %if.end99, label %if.then94

if.then94:                                        ; preds = %if.then88
  %42 = load i32, ptr %zone_idx, align 4
  %.val = load ptr, ptr %25, align 8
  %.val60 = load i32, ptr %26, align 8
  %mul.i = mul i32 %.val60, %42
  %idxprom.i = zext i32 %mul.i to i64
  %arrayidx.i = getelementptr i8, ptr %.val, i64 %idxprom.i
  %conv98 = zext i32 %.val60 to i64
  tail call void @llvm.memcpy.p0.p0.i64(ptr align 1 %add.ptr66, ptr align 1 %arrayidx.i, i64 %conv98, i1 false)
  br label %if.end99

if.end99:                                         ; preds = %if.then94, %if.then88
  %43 = load i32, ptr %26, align 8
  %idx.ext = zext i32 %43 to i64
  %add.ptr102 = getelementptr i8, ptr %add.ptr66, i64 %idx.ext
  br label %if.end103

if.end103:                                        ; preds = %if.end99, %if.end85
  %buf_p.1 = phi ptr [ %add.ptr102, %if.end99 ], [ %add.ptr66, %if.end85 ]
  %dec = add nsw i64 %max_zones.0114, -1
  %.pre = load i32, ptr %zone_idx, align 4
  %.pre119 = load i32, ptr %num_zones, align 8
  br label %for.inc105

for.inc105:                                       ; preds = %for.body60, %sw.bb2.i75, %sw.bb4.i73, %sw.bb6.i71, %sw.bb8.i69, %sw.bb10.i67, %sw.bb12.i64, %nvme_zone_matches_filter.exit80, %if.end103
  %44 = phi i32 [ %.pre119, %if.end103 ], [ %27, %nvme_zone_matches_filter.exit80 ], [ %27, %sw.bb12.i64 ], [ %27, %sw.bb10.i67 ], [ %27, %sw.bb8.i69 ], [ %27, %sw.bb6.i71 ], [ %27, %sw.bb4.i73 ], [ %27, %sw.bb2.i75 ], [ %27, %for.body60 ]
  %45 = phi i32 [ %.pre, %if.end103 ], [ %28, %nvme_zone_matches_filter.exit80 ], [ %28, %sw.bb12.i64 ], [ %28, %sw.bb10.i67 ], [ %28, %sw.bb8.i69 ], [ %28, %sw.bb6.i71 ], [ %28, %sw.bb4.i73 ], [ %28, %sw.bb2.i75 ], [ %28, %for.body60 ]
  %max_zones.1 = phi i64 [ %dec, %if.end103 ], [ %max_zones.0114, %nvme_zone_matches_filter.exit80 ], [ %max_zones.0114, %sw.bb12.i64 ], [ %max_zones.0114, %sw.bb10.i67 ], [ %max_zones.0114, %sw.bb8.i69 ], [ %max_zones.0114, %sw.bb6.i71 ], [ %max_zones.0114, %sw.bb4.i73 ], [ %max_zones.0114, %sw.bb2.i75 ], [ %max_zones.0114, %for.body60 ]
  %buf_p.2 = phi ptr [ %buf_p.1, %if.end103 ], [ %buf_p.0115, %nvme_zone_matches_filter.exit80 ], [ %buf_p.0115, %sw.bb12.i64 ], [ %buf_p.0115, %sw.bb10.i67 ], [ %buf_p.0115, %sw.bb8.i69 ], [ %buf_p.0115, %sw.bb6.i71 ], [ %buf_p.0115, %sw.bb4.i73 ], [ %buf_p.0115, %sw.bb2.i75 ], [ %buf_p.0115, %for.body60 ]
  %inc106 = add i32 %45, 1
  store i32 %inc106, ptr %zone_idx, align 4
  %cmp56 = icmp ult i32 %inc106, %44
  %cmp58 = icmp ne i64 %max_zones.1, 0
  %46 = select i1 %cmp56, i1 %cmp58, i1 false
  br i1 %46, label %for.body60, label %for.end107, !llvm.loop !53

for.end107:                                       ; preds = %for.inc105, %for.end.thread, %for.end
  %call108 = tail call fastcc zeroext i16 @nvme_c2h(ptr noundef %n, ptr noundef nonnull %call39, i32 noundef %shl, ptr noundef %req)
  tail call void @g_free(ptr noundef nonnull %call39) #17
  br label %return

return:                                           ; preds = %nvme_check_mdts.exit, %if.end17, %if.end13, %land.lhs.true10, %if.end, %entry, %for.end107
  %retval.0 = phi i16 [ %call108, %for.end107 ], [ %call5, %entry ], [ 16386, %if.end ], [ 16386, %land.lhs.true10 ], [ 16386, %if.end13 ], [ 16386, %if.end17 ], [ 16386, %nvme_check_mdts.exit ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_io_mgmt_recv(ptr noundef %n, ptr noundef %req) unnamed_addr #0 {
entry:
  %cdw102 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 7
  %0 = load i32, ptr %cdw102, align 1
  %trunc = trunc i32 %0 to i8
  switch i8 %trunc, label %sw.default [
    i8 0, label %return
    i8 1, label %sw.bb6
  ]

sw.bb6:                                           ; preds = %entry
  %cdw11 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 8
  %1 = load i32, ptr %cdw11, align 1
  %add = shl i32 %1, 2
  %shl = add i32 %add, 4
  %conv4 = zext i32 %shl to i64
  %ns1.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 1
  %2 = load ptr, ptr %ns1.i, align 8
  %subsys.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 33
  %3 = load ptr, ptr %subsys.i, align 8
  %tobool.not.i = icmp eq ptr %3, null
  br i1 %tobool.not.i, label %nvme_io_mgmt_recv_ruhs.exit, label %if.end.i

if.end.i:                                         ; preds = %sw.bb6
  %nsid.i = getelementptr inbounds %struct.NvmeNamespace, ptr %2, i64 0, i32 30, i32 2
  %4 = load i32, ptr %nsid.i, align 4
  switch i32 %4, label %if.end6.i [
    i32 0, label %nvme_io_mgmt_recv_ruhs.exit
    i32 -1, label %nvme_io_mgmt_recv_ruhs.exit
  ]

if.end6.i:                                        ; preds = %if.end.i
  %enabled.i = getelementptr inbounds %struct.NvmeSubsystem, ptr %3, i64 0, i32 6, i32 1, i32 9
  %5 = load i8, ptr %enabled.i, align 8
  %6 = and i8 %5, 1
  %tobool9.not.i = icmp eq i8 %6, 0
  br i1 %tobool9.not.i, label %nvme_io_mgmt_recv_ruhs.exit, label %if.end11.i

if.end11.i:                                       ; preds = %if.end6.i
  %endgrp12.i = getelementptr inbounds %struct.NvmeNamespace, ptr %2, i64 0, i32 32
  %7 = load ptr, ptr %endgrp12.i, align 8
  %fdp13.i = getelementptr inbounds %struct.NvmeNamespace, ptr %2, i64 0, i32 34
  %8 = load i16, ptr %fdp13.i, align 8
  %conv.i = zext i16 %8 to i32
  %nrg.i = getelementptr inbounds %struct.NvmeEnduranceGroup, ptr %7, i64 0, i32 1, i32 3
  %9 = load i16, ptr %nrg.i, align 2
  %conv15.i = zext i16 %9 to i32
  %mul.i = mul nuw i32 %conv15.i, %conv.i
  %conv16.i = zext i32 %mul.i to i64
  %mul17.i = shl nuw nsw i64 %conv16.i, 5
  %add.i = or disjoint i64 %mul17.i, 16
  %call.i = tail call noalias ptr @g_malloc(i64 noundef %add.i) #20
  %cond.i = tail call i64 @llvm.umin.i64(i64 %add.i, i64 %conv4)
  %conv20.i = trunc i32 %mul.i to i16
  %nruhsd22.i = getelementptr inbounds %struct.NvmeRuhStatus, ptr %call.i, i64 0, i32 1
  store i16 %conv20.i, ptr %nruhsd22.i, align 1
  %10 = load i16, ptr %fdp13.i, align 8
  %cmp2834.not.i = icmp eq i16 %10, 0
  br i1 %cmp2834.not.i, label %for.end50.i, label %for.body.lr.ph.i

for.body.lr.ph.i:                                 ; preds = %if.end11.i
  %ruhs.i = getelementptr inbounds %struct.NvmeEnduranceGroup, ptr %7, i64 0, i32 1, i32 10
  %11 = load i16, ptr %nrg.i, align 2
  %.not.i = icmp eq i16 %11, 0
  br i1 %.not.i, label %for.end50.i, label %for.body.preheader.i

for.body.preheader.i:                             ; preds = %for.body.lr.ph.i
  %add.ptr.i = getelementptr i8, ptr %call.i, i64 16
  %phs.i = getelementptr inbounds %struct.NvmeNamespace, ptr %2, i64 0, i32 34, i32 1
  %12 = load ptr, ptr %phs.i, align 8
  br label %for.body.i

for.body.i:                                       ; preds = %for.inc47.i, %for.body.preheader.i
  %13 = phi i16 [ %25, %for.inc47.i ], [ %10, %for.body.preheader.i ]
  %14 = phi i16 [ %26, %for.inc47.i ], [ 1, %for.body.preheader.i ]
  %ruhsd.037.i = phi ptr [ %ruhsd.1.lcssa.i, %for.inc47.i ], [ %add.ptr.i, %for.body.preheader.i ]
  %ph.036.i = phi i16 [ %inc48.i, %for.inc47.i ], [ 0, %for.body.preheader.i ]
  %ruhid.035.i = phi ptr [ %incdec.ptr49.i, %for.inc47.i ], [ %12, %for.body.preheader.i ]
  %cmp3631.not.i = icmp eq i16 %14, 0
  br i1 %cmp3631.not.i, label %for.inc47.i, label %for.body38.lr.ph.i

for.body38.lr.ph.i:                               ; preds = %for.body.i
  %15 = load i16, ptr %ruhid.035.i, align 2
  %idxprom.i = zext i16 %15 to i64
  %16 = load ptr, ptr %ruhs.i, align 8
  %rus.i = getelementptr %struct.NvmeRuHandle, ptr %16, i64 %idxprom.i, i32 5
  br label %for.body38.i

for.body38.i:                                     ; preds = %for.body38.i, %for.body38.lr.ph.i
  %indvars.iv.i = phi i64 [ 0, %for.body38.lr.ph.i ], [ %indvars.iv.next.i, %for.body38.i ]
  %ruhsd.133.i = phi ptr [ %ruhsd.037.i, %for.body38.lr.ph.i ], [ %incdec.ptr.i, %for.body38.i ]
  %.val.i = load ptr, ptr %endgrp12.i, align 8
  %17 = getelementptr i8, ptr %.val.i, i64 8100
  %.val.val.i = load i8, ptr %17, align 4
  %tobool.not.i.i = icmp eq i8 %.val.val.i, 0
  %18 = trunc i64 %indvars.iv.i to i32
  %conv3.i.i = zext i8 %.val.val.i to i32
  %sub.i.i = sub nsw i32 16, %conv3.i.i
  %shl.i.i = shl nuw nsw i32 %18, %sub.i.i
  %19 = trunc i32 %shl.i.i to i16
  %conv5.i.i = select i1 %tobool.not.i.i, i16 0, i16 %19
  %retval.0.i.i = or i16 %conv5.i.i, %ph.036.i
  store i16 %retval.0.i.i, ptr %ruhsd.133.i, align 1
  %20 = load i16, ptr %ruhid.035.i, align 2
  %ruhid42.i = getelementptr inbounds %struct.NvmeRuhStatusDescr, ptr %ruhsd.133.i, i64 0, i32 1
  store i16 %20, ptr %ruhid42.i, align 1
  %earutr.i = getelementptr inbounds %struct.NvmeRuhStatusDescr, ptr %ruhsd.133.i, i64 0, i32 2
  store i32 0, ptr %earutr.i, align 1
  %21 = load ptr, ptr %rus.i, align 8
  %arrayidx44.i = getelementptr %struct.NvmeReclaimUnit, ptr %21, i64 %indvars.iv.i
  %22 = load i64, ptr %arrayidx44.i, align 8
  %ruamw46.i = getelementptr inbounds %struct.NvmeRuhStatusDescr, ptr %ruhsd.133.i, i64 0, i32 3
  store i64 %22, ptr %ruamw46.i, align 1
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  %incdec.ptr.i = getelementptr %struct.NvmeRuhStatusDescr, ptr %ruhsd.133.i, i64 1
  %23 = load i16, ptr %nrg.i, align 2
  %24 = zext i16 %23 to i64
  %cmp36.i = icmp ult i64 %indvars.iv.next.i, %24
  br i1 %cmp36.i, label %for.body38.i, label %for.inc47.loopexit.i, !llvm.loop !54

for.inc47.loopexit.i:                             ; preds = %for.body38.i
  %.pre.i = load i16, ptr %fdp13.i, align 8
  br label %for.inc47.i

for.inc47.i:                                      ; preds = %for.inc47.loopexit.i, %for.body.i
  %25 = phi i16 [ %13, %for.body.i ], [ %.pre.i, %for.inc47.loopexit.i ]
  %26 = phi i16 [ 0, %for.body.i ], [ %23, %for.inc47.loopexit.i ]
  %ruhsd.1.lcssa.i = phi ptr [ %ruhsd.037.i, %for.body.i ], [ %incdec.ptr.i, %for.inc47.loopexit.i ]
  %inc48.i = add nuw i16 %ph.036.i, 1
  %incdec.ptr49.i = getelementptr i16, ptr %ruhid.035.i, i64 1
  %cmp28.i = icmp ult i16 %inc48.i, %25
  br i1 %cmp28.i, label %for.body.i, label %for.end50.i, !llvm.loop !55

for.end50.i:                                      ; preds = %for.inc47.i, %for.body.lr.ph.i, %if.end11.i
  %sg.i.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef %n, ptr noundef nonnull %sg.i.i, i64 noundef %cond.i, ptr noundef nonnull %cmd.i.i)
  %tobool.not.i29.i = icmp eq i16 %call.i.i, 0
  br i1 %tobool.not.i29.i, label %if.end.i.i, label %nvme_io_mgmt_recv_ruhs.exit

if.end.i.i:                                       ; preds = %for.end50.i
  %conv51.i = trunc i64 %cond.i to i32
  %call2.i.i = tail call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i.i, ptr noundef %call.i, i32 noundef %conv51.i, i32 noundef 1)
  br label %nvme_io_mgmt_recv_ruhs.exit

nvme_io_mgmt_recv_ruhs.exit:                      ; preds = %sw.bb6, %if.end.i, %if.end.i, %if.end6.i, %for.end50.i, %if.end.i.i
  %buf.0.i = phi ptr [ null, %sw.bb6 ], [ null, %if.end6.i ], [ null, %if.end.i ], [ null, %if.end.i ], [ %call.i, %for.end50.i ], [ %call.i, %if.end.i.i ]
  %retval.0.i = phi i16 [ 16386, %sw.bb6 ], [ 16425, %if.end6.i ], [ 16395, %if.end.i ], [ 16395, %if.end.i ], [ %call.i.i, %for.end50.i ], [ %call2.i.i, %if.end.i.i ]
  tail call void @g_free(ptr noundef %buf.0.i) #17
  br label %return

sw.default:                                       ; preds = %entry
  br label %return

return:                                           ; preds = %entry, %sw.default, %nvme_io_mgmt_recv_ruhs.exit
  %retval.0 = phi i16 [ 16386, %sw.default ], [ %retval.0.i, %nvme_io_mgmt_recv_ruhs.exit ], [ 0, %entry ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_io_mgmt_send(ptr noundef %n, ptr noundef %req) unnamed_addr #0 {
entry:
  %cdw102 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 7
  %0 = load i32, ptr %cdw102, align 1
  %trunc = trunc i32 %0 to i8
  switch i8 %trunc, label %sw.default [
    i8 0, label %return
    i8 1, label %sw.bb4
  ]

sw.bb4:                                           ; preds = %entry
  %ns2.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 1
  %1 = load ptr, ptr %ns2.i, align 8
  %shr.i = lshr i32 %0, 1
  %add.i = add nuw i32 %shr.i, 1
  %endgrp.i = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 32
  %2 = load ptr, ptr %endgrp.i, align 8
  %tobool.not.i = icmp eq ptr %2, null
  br i1 %tobool.not.i, label %nvme_io_mgmt_send_ruh_update.exit, label %lor.lhs.false.i

lor.lhs.false.i:                                  ; preds = %sw.bb4
  %enabled.i = getelementptr inbounds %struct.NvmeEnduranceGroup, ptr %2, i64 0, i32 1, i32 9
  %3 = load i8, ptr %enabled.i, align 8
  %4 = and i8 %3, 1
  %tobool5.not.i = icmp eq i8 %4, 0
  br i1 %tobool5.not.i, label %nvme_io_mgmt_send_ruh_update.exit, label %if.end.i

if.end.i:                                         ; preds = %lor.lhs.false.i
  %subsys.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 33
  %5 = load ptr, ptr %subsys.i, align 8
  %nrg.i = getelementptr inbounds %struct.NvmeSubsystem, ptr %5, i64 0, i32 6, i32 1, i32 3
  %6 = load i16, ptr %nrg.i, align 2
  %conv.i = zext i16 %6 to i32
  %nruh.i = getelementptr inbounds %struct.NvmeSubsystem, ptr %5, i64 0, i32 6, i32 1, i32 2
  %7 = load i16, ptr %nruh.i, align 8
  %conv11.i = zext i16 %7 to i32
  %mul.i = mul nuw i32 %conv11.i, %conv.i
  %cond.i = tail call i32 @llvm.umin.i32(i32 %mul.i, i32 128)
  %cmp13.not.i = icmp ult i32 %add.i, %cond.i
  br i1 %cmp13.not.i, label %if.end19.i, label %nvme_io_mgmt_send_ruh_update.exit

if.end19.i:                                       ; preds = %if.end.i
  %conv20.i = zext nneg i32 %add.i to i64
  %call21.i = tail call noalias ptr @g_malloc_n(i64 noundef %conv20.i, i64 noundef 2) #19
  %mul23.i = shl nuw nsw i32 %add.i, 1
  %sg.i.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %conv.i.i = zext nneg i32 %mul23.i to i64
  %cmd.i.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %n, ptr noundef nonnull %sg.i.i, i64 noundef %conv.i.i, ptr noundef nonnull %cmd.i.i)
  %tobool.not.i.i = icmp eq i16 %call.i.i, 0
  br i1 %tobool.not.i.i, label %nvme_h2c.exit.i, label %nvme_io_mgmt_send_ruh_update.exit

nvme_h2c.exit.i:                                  ; preds = %if.end19.i
  %call2.i.i = tail call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i.i, ptr noundef %call21.i, i32 noundef %mul23.i, i32 noundef 0)
  %tobool26.not.i = icmp eq i16 %call2.i.i, 0
  br i1 %tobool26.not.i, label %for.body.i, label %nvme_io_mgmt_send_ruh_update.exit

for.cond.i:                                       ; preds = %for.body.i
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  %exitcond.not.i = icmp eq i64 %indvars.iv.next.i, %conv20.i
  br i1 %exitcond.not.i, label %nvme_io_mgmt_send_ruh_update.exit, label %for.body.i, !llvm.loop !57

for.body.i:                                       ; preds = %nvme_h2c.exit.i, %for.cond.i
  %indvars.iv.i = phi i64 [ %indvars.iv.next.i, %for.cond.i ], [ 0, %nvme_h2c.exit.i ]
  %arrayidx.i = getelementptr i16, ptr %call21.i, i64 %indvars.iv.i
  %8 = load i16, ptr %arrayidx.i, align 2
  %call31.i = tail call fastcc zeroext i1 @nvme_update_ruh(ptr noundef %n, ptr noundef %1, i16 noundef zeroext %8)
  br i1 %call31.i, label %for.cond.i, label %nvme_io_mgmt_send_ruh_update.exit

nvme_io_mgmt_send_ruh_update.exit:                ; preds = %for.cond.i, %for.body.i, %sw.bb4, %lor.lhs.false.i, %if.end.i, %if.end19.i, %nvme_h2c.exit.i
  %pids.0.i = phi ptr [ null, %sw.bb4 ], [ null, %lor.lhs.false.i ], [ %call21.i, %nvme_h2c.exit.i ], [ null, %if.end.i ], [ %call21.i, %if.end19.i ], [ %call21.i, %for.body.i ], [ %call21.i, %for.cond.i ]
  %retval.0.i = phi i16 [ 16425, %sw.bb4 ], [ 16425, %lor.lhs.false.i ], [ %call2.i.i, %nvme_h2c.exit.i ], [ 16386, %if.end.i ], [ %call.i.i, %if.end19.i ], [ 0, %for.cond.i ], [ 16386, %for.body.i ]
  tail call void @g_free(ptr noundef %pids.0.i) #17
  br label %return

sw.default:                                       ; preds = %entry
  br label %return

return:                                           ; preds = %entry, %sw.default, %nvme_io_mgmt_send_ruh_update.exit
  %retval.0 = phi i16 [ 16386, %sw.default ], [ %retval.0.i, %nvme_io_mgmt_send_ruh_update.exit ], [ 0, %entry ]
  ret i16 %retval.0
}

declare ptr @qemu_aio_get(ptr noundef, ptr noundef, ptr noundef, ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_misc_cb(ptr noundef %opaque, i32 noundef %ret) #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %tobool.not.i = icmp eq ptr %opaque, null
  br i1 %tobool.not.i, label %nvme_cid.exit, label %if.end.i

if.end.i:                                         ; preds = %entry
  %cid.i = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 5, i32 4
  %0 = load i16, ptr %cid.i, align 4
  %1 = zext i16 %0 to i32
  br label %nvme_cid.exit

nvme_cid.exit:                                    ; preds = %entry, %if.end.i
  %retval.0.i = phi i32 [ %1, %if.end.i ], [ 65535, %entry ]
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %2 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %2, 0
  %3 = load i16, ptr @_TRACE_PCI_NVME_MISC_CB_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %3, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_misc_cb.exit

land.lhs.true5.i.i:                               ; preds = %nvme_cid.exit
  %4 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %4, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_misc_cb.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %5 = load i8, ptr @message_with_timestamp, align 1
  %6 = and i8 %5, 1
  %tobool7.not.i.i = icmp eq i8 %6, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %7 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %8 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.191, i32 noundef %call10.i.i, i64 noundef %7, i64 noundef %8, i32 noundef %retval.0.i) #17
  br label %trace_pci_nvme_misc_cb.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.192, i32 noundef %retval.0.i) #17
  br label %trace_pci_nvme_misc_cb.exit

trace_pci_nvme_misc_cb.exit:                      ; preds = %nvme_cid.exit, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %tobool.not = icmp eq i32 %ret, 0
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %trace_pci_nvme_misc_cb.exit
  tail call fastcc void @nvme_aio_err(ptr noundef %opaque, i32 noundef %ret)
  br label %if.end

if.end:                                           ; preds = %if.then, %trace_pci_nvme_misc_cb.exit
  %opaque.val = load ptr, ptr %opaque, align 8
  %opaque.val.val = load ptr, ptr %opaque.val, align 8
  %9 = getelementptr i8, ptr %opaque.val, i64 10
  %opaque.val.val5 = load i16, ptr %9, align 2
  %10 = getelementptr i8, ptr %opaque.val.val, i64 18808
  %opaque.val.val.val = load ptr, ptr %10, align 8
  %idxprom.i = zext i16 %opaque.val.val5 to i64
  %arrayidx.i = getelementptr ptr, ptr %opaque.val.val.val, i64 %idxprom.i
  %11 = load ptr, ptr %arrayidx.i, align 8
  tail call fastcc void @nvme_enqueue_req_completion(ptr noundef %11, ptr noundef nonnull %opaque)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @nvme_do_flush(ptr noundef %iocb) unnamed_addr #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %req1 = getelementptr inbounds %struct.NvmeFlushAIOCB, ptr %iocb, i64 0, i32 2
  %0 = load ptr, ptr %req1, align 8
  %.val = load ptr, ptr %0, align 8
  %.val.val = load ptr, ptr %.val, align 8
  %ret = getelementptr inbounds %struct.NvmeFlushAIOCB, ptr %iocb, i64 0, i32 3
  %1 = load i32, ptr %ret, align 8
  %cmp = icmp slt i32 %1, 0
  br i1 %cmp, label %done, label %if.end

if.end:                                           ; preds = %entry
  %broadcast = getelementptr inbounds %struct.NvmeFlushAIOCB, ptr %iocb, i64 0, i32 6
  %2 = load i8, ptr %broadcast, align 4
  %3 = and i8 %2, 1
  %tobool.not = icmp eq i8 %3, 0
  br i1 %tobool.not, label %if.end10, label %if.then2

if.then2:                                         ; preds = %if.end
  %nsid = getelementptr inbounds %struct.NvmeFlushAIOCB, ptr %iocb, i64 0, i32 5
  %4 = load i32, ptr %nsid, align 8
  %ns = getelementptr inbounds %struct.NvmeFlushAIOCB, ptr %iocb, i64 0, i32 4
  br label %for.cond

for.cond:                                         ; preds = %nvme_ns.exit, %if.then2
  %i.0.in = phi i32 [ %4, %if.then2 ], [ %i.0, %nvme_ns.exit ]
  %i.0 = add i32 %i.0.in, 1
  %cmp3 = icmp slt i32 %i.0, 257
  br i1 %cmp3, label %for.body, label %if.end10

for.body:                                         ; preds = %for.cond
  %or.cond.i = icmp ugt i32 %i.0.in, 255
  br i1 %or.cond.i, label %nvme_ns.exit, label %if.end.i

if.end.i:                                         ; preds = %for.body
  %idxprom.i = zext nneg i32 %i.0 to i64
  %arrayidx.i = getelementptr %struct.NvmeCtrl, ptr %.val.val, i64 0, i32 35, i64 %idxprom.i
  %5 = load ptr, ptr %arrayidx.i, align 8
  br label %nvme_ns.exit

nvme_ns.exit:                                     ; preds = %for.body, %if.end.i
  %retval.0.i = phi ptr [ %5, %if.end.i ], [ null, %for.body ]
  store ptr %retval.0.i, ptr %ns, align 8
  %tobool6.not = icmp eq ptr %retval.0.i, null
  br i1 %tobool6.not, label %for.cond, label %if.then7, !llvm.loop !58

if.then7:                                         ; preds = %nvme_ns.exit
  store i32 %i.0, ptr %nsid, align 8
  br label %if.end10

if.end10:                                         ; preds = %for.cond, %if.then7, %if.end
  %ns11 = getelementptr inbounds %struct.NvmeFlushAIOCB, ptr %iocb, i64 0, i32 4
  %6 = load ptr, ptr %ns11, align 8
  %tobool12.not = icmp eq ptr %6, null
  br i1 %tobool12.not, label %done, label %if.then7.i

if.then7.i:                                       ; preds = %if.end10
  %nsid.i = getelementptr inbounds %struct.NvmeFlushAIOCB, ptr %iocb, i64 0, i32 5
  %7 = load i32, ptr %nsid.i, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %8 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %8, 0
  %9 = load i16, ptr @_TRACE_PCI_NVME_FLUSH_NS_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %9, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_flush_ns.exit

land.lhs.true5.i.i:                               ; preds = %if.then7.i
  %10 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %10, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_flush_ns.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %11 = load i8, ptr @message_with_timestamp, align 1
  %12 = and i8 %11, 1
  %tobool7.not.i.i = icmp eq i8 %12, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %13 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %14 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.193, i32 noundef %call10.i.i, i64 noundef %13, i64 noundef %14, i32 noundef %7) #17
  br label %trace_pci_nvme_flush_ns.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.194, i32 noundef %7) #17
  br label %trace_pci_nvme_flush_ns.exit

trace_pci_nvme_flush_ns.exit:                     ; preds = %if.then7.i, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  store ptr null, ptr %ns11, align 8
  %blkconf.i = getelementptr inbounds %struct.NvmeNamespace, ptr %6, i64 0, i32 1
  %15 = load ptr, ptr %blkconf.i, align 8
  %call.i = tail call ptr @blk_aio_flush(ptr noundef %15, ptr noundef nonnull @nvme_flush_ns_cb, ptr noundef nonnull %iocb) #17
  %aiocb.i = getelementptr inbounds %struct.NvmeFlushAIOCB, ptr %iocb, i64 0, i32 1
  store ptr %call.i, ptr %aiocb.i, align 8
  br label %return

done:                                             ; preds = %if.end10, %entry
  %cb = getelementptr inbounds %struct.BlockAIOCB, ptr %iocb, i64 0, i32 2
  %16 = load ptr, ptr %cb, align 8
  %opaque = getelementptr inbounds %struct.BlockAIOCB, ptr %iocb, i64 0, i32 3
  %17 = load ptr, ptr %opaque, align 8
  tail call void %16(ptr noundef %17, i32 noundef %1) #17
  tail call void @qemu_aio_unref(ptr noundef nonnull %iocb) #17
  br label %return

return:                                           ; preds = %trace_pci_nvme_flush_ns.exit, %done
  ret void
}

declare void @qemu_aio_unref(ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_flush_cancel(ptr nocapture noundef %acb) #0 {
entry:
  %ret = getelementptr inbounds %struct.NvmeFlushAIOCB, ptr %acb, i64 0, i32 3
  store i32 -125, ptr %ret, align 8
  %aiocb = getelementptr inbounds %struct.NvmeFlushAIOCB, ptr %acb, i64 0, i32 1
  %0 = load ptr, ptr %aiocb, align 8
  %tobool.not = icmp eq ptr %0, null
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  tail call void @blk_aio_cancel_async(ptr noundef nonnull %0) #17
  store ptr null, ptr %aiocb, align 8
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  ret void
}

declare void @blk_aio_cancel_async(ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_flush_ns_cb(ptr noundef %opaque, i32 noundef %ret) #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %ns1 = getelementptr inbounds %struct.NvmeFlushAIOCB, ptr %opaque, i64 0, i32 4
  %0 = load ptr, ptr %ns1, align 8
  %cmp = icmp slt i32 %ret, 0
  %ret2 = getelementptr inbounds %struct.NvmeFlushAIOCB, ptr %opaque, i64 0, i32 3
  br i1 %cmp, label %if.then, label %if.else

if.then:                                          ; preds = %entry
  store i32 %ret, ptr %ret2, align 8
  br label %out

if.else:                                          ; preds = %entry
  %1 = load i32, ptr %ret2, align 8
  %cmp4 = icmp sgt i32 %1, -1
  %tobool = icmp ne ptr %0, null
  %or.cond = select i1 %cmp4, i1 %tobool, i1 false
  br i1 %or.cond, label %if.then7, label %out

if.then7:                                         ; preds = %if.else
  %nsid = getelementptr inbounds %struct.NvmeFlushAIOCB, ptr %opaque, i64 0, i32 5
  %2 = load i32, ptr %nsid, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %3 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %3, 0
  %4 = load i16, ptr @_TRACE_PCI_NVME_FLUSH_NS_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %4, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_flush_ns.exit

land.lhs.true5.i.i:                               ; preds = %if.then7
  %5 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %5, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_flush_ns.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %6 = load i8, ptr @message_with_timestamp, align 1
  %7 = and i8 %6, 1
  %tobool7.not.i.i = icmp eq i8 %7, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %8 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %9 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.193, i32 noundef %call10.i.i, i64 noundef %8, i64 noundef %9, i32 noundef %2) #17
  br label %trace_pci_nvme_flush_ns.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.194, i32 noundef %2) #17
  br label %trace_pci_nvme_flush_ns.exit

trace_pci_nvme_flush_ns.exit:                     ; preds = %if.then7, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  store ptr null, ptr %ns1, align 8
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 1
  %10 = load ptr, ptr %blkconf, align 8
  %call = tail call ptr @blk_aio_flush(ptr noundef %10, ptr noundef nonnull @nvme_flush_ns_cb, ptr noundef nonnull %opaque) #17
  %aiocb = getelementptr inbounds %struct.NvmeFlushAIOCB, ptr %opaque, i64 0, i32 1
  store ptr %call, ptr %aiocb, align 8
  br label %return

out:                                              ; preds = %if.else, %if.then
  tail call fastcc void @nvme_do_flush(ptr noundef nonnull %opaque)
  br label %return

return:                                           ; preds = %out, %trace_pci_nvme_flush_ns.exit
  ret void
}

declare ptr @blk_aio_flush(ptr noundef, ptr noundef, ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc zeroext i16 @nvme_do_write(ptr noundef %n, ptr noundef %req, i1 noundef zeroext %append, i1 noundef zeroext %wrz) unnamed_addr #0 {
entry:
  %_now.i.i.i = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %cmd = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %ns2 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 1
  %0 = load ptr, ptr %ns2, align 8
  %slba3 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 7
  %1 = load i64, ptr %slba3, align 1
  %nlb4 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 9
  %2 = load i16, ptr %nlb4, align 1
  %conv = zext i16 %2 to i32
  %add = add nuw nsw i32 %conv, 1
  %control = getelementptr inbounds i8, ptr %req, i64 106
  %3 = load i16, ptr %control, align 1
  %conv9 = zext nneg i32 %add to i64
  %4 = getelementptr i8, ptr %0, i64 8466
  %.val92 = load i8, ptr %4, align 2
  %sh_prom.i = zext nneg i8 %.val92 to i64
  %shl.i = shl i64 %conv9, %sh_prom.i
  %cqe = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 5
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 1
  %5 = load ptr, ptr %blkconf, align 8
  %6 = getelementptr i8, ptr %0, i64 298
  %.val = load i8, ptr %6, align 2
  %7 = and i8 %.val, 16
  %tobool.i.not = icmp eq i8 %7, 0
  br i1 %tobool.i.not, label %nvme_cid.exit, label %if.then

if.then:                                          ; preds = %entry
  %8 = getelementptr i8, ptr %0, i64 8464
  %.val93 = load i16, ptr %8, align 8
  %conv.i = zext i16 %.val93 to i64
  %mul.i = mul nuw nsw i64 %conv.i, %conv9
  %add15 = add i64 %mul.i, %shl.i
  %dps = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 5, i32 8
  %9 = load i8, ptr %dps, align 1
  %10 = and i8 %9, 7
  %tobool.not = icmp eq i8 %10, 0
  %11 = and i16 %3, 8192
  %tobool21.not = icmp eq i16 %11, 0
  %or.cond = select i1 %tobool.not, i1 true, i1 %tobool21.not
  br i1 %or.cond, label %nvme_cid.exit, label %land.lhs.true

land.lhs.true:                                    ; preds = %if.then
  %12 = getelementptr i8, ptr %0, i64 8496
  %.val90 = load i8, ptr %12, align 8
  %tobool.not.i = icmp eq i8 %.val90, 0
  %conv1.i = select i1 %tobool.not.i, i64 8, i64 16
  %cmp = icmp eq i64 %conv1.i, %conv.i
  %spec.select = select i1 %cmp, i64 %shl.i, i64 %add15
  br label %nvme_cid.exit

nvme_cid.exit:                                    ; preds = %land.lhs.true, %if.then, %entry
  %mapped_size.0 = phi i64 [ %add15, %if.then ], [ %shl.i, %entry ], [ %spec.select, %land.lhs.true ]
  %cid.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 5, i32 4
  %13 = load i16, ptr %cid.i, align 4
  %14 = load i8, ptr %cmd, align 1
  switch i8 %14, label %sw.default.i [
    i8 0, label %nvme_nsid.exit
    i8 1, label %sw.bb1.i
    i8 2, label %sw.bb2.i
    i8 5, label %sw.bb3.i
    i8 8, label %sw.bb4.i
    i8 9, label %sw.bb5.i
    i8 12, label %sw.bb6.i
    i8 25, label %sw.bb7.i
    i8 121, label %sw.bb8.i
    i8 122, label %sw.bb9.i
    i8 125, label %sw.bb10.i
  ]

sw.bb1.i:                                         ; preds = %nvme_cid.exit
  br label %nvme_nsid.exit

sw.bb2.i:                                         ; preds = %nvme_cid.exit
  br label %nvme_nsid.exit

sw.bb3.i:                                         ; preds = %nvme_cid.exit
  br label %nvme_nsid.exit

sw.bb4.i:                                         ; preds = %nvme_cid.exit
  br label %nvme_nsid.exit

sw.bb5.i:                                         ; preds = %nvme_cid.exit
  br label %nvme_nsid.exit

sw.bb6.i:                                         ; preds = %nvme_cid.exit
  br label %nvme_nsid.exit

sw.bb7.i:                                         ; preds = %nvme_cid.exit
  br label %nvme_nsid.exit

sw.bb8.i:                                         ; preds = %nvme_cid.exit
  br label %nvme_nsid.exit

sw.bb9.i:                                         ; preds = %nvme_cid.exit
  br label %nvme_nsid.exit

sw.bb10.i:                                        ; preds = %nvme_cid.exit
  br label %nvme_nsid.exit

sw.default.i:                                     ; preds = %nvme_cid.exit
  br label %nvme_nsid.exit

nvme_nsid.exit:                                   ; preds = %nvme_cid.exit, %sw.bb1.i, %sw.bb2.i, %sw.bb3.i, %sw.bb4.i, %sw.bb5.i, %sw.bb6.i, %sw.bb7.i, %sw.bb8.i, %sw.bb9.i, %sw.bb10.i, %sw.default.i
  %retval.0.i99 = phi ptr [ @.str.190, %sw.default.i ], [ @.str.189, %sw.bb10.i ], [ @.str.188, %sw.bb9.i ], [ @.str.187, %sw.bb8.i ], [ @.str.186, %sw.bb7.i ], [ @.str.185, %sw.bb6.i ], [ @.str.184, %sw.bb5.i ], [ @.str.183, %sw.bb4.i ], [ @.str.182, %sw.bb3.i ], [ @.str.181, %sw.bb2.i ], [ @.str.180, %sw.bb1.i ], [ @.str.179, %nvme_cid.exit ]
  %nsid.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 30, i32 2
  %15 = load i32, ptr %nsid.i, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %16 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %16, 0
  %17 = load i16, ptr @_TRACE_PCI_NVME_WRITE_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %17, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_write.exit

land.lhs.true5.i.i:                               ; preds = %nvme_nsid.exit
  %18 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %18, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_write.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %19 = load i8, ptr @message_with_timestamp, align 1
  %20 = and i8 %19, 1
  %tobool7.not.i.i = icmp eq i8 %20, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %21 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %22 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext i16 %13 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.197, i32 noundef %call10.i.i, i64 noundef %21, i64 noundef %22, i32 noundef %conv11.i.i, ptr noundef nonnull %retval.0.i99, i32 noundef %15, i32 noundef %add, i64 noundef %mapped_size.0, i64 noundef %1) #17
  br label %trace_pci_nvme_write.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv12.i.i = zext i16 %13 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.198, i32 noundef %conv12.i.i, ptr noundef nonnull %retval.0.i99, i32 noundef %15, i32 noundef %add, i64 noundef %mapped_size.0, i64 noundef %1) #17
  br label %trace_pci_nvme_write.exit

trace_pci_nvme_write.exit:                        ; preds = %nvme_nsid.exit, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  br i1 %wrz, label %if.end42, label %if.then37

if.then37:                                        ; preds = %trace_pci_nvme_write.exit
  %mdts1.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 4, i32 7
  %23 = load i8, ptr %mdts1.i, align 16
  %tobool.not.i102 = icmp eq i8 %23, 0
  br i1 %tobool.not.i102, label %if.end42, label %land.lhs.true.i

land.lhs.true.i:                                  ; preds = %if.then37
  %conv.i103 = zext nneg i8 %23 to i32
  %page_size.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 8
  %24 = load i32, ptr %page_size.i, align 4
  %shl.i104 = shl i32 %24, %conv.i103
  %conv3.i = zext i32 %shl.i104 to i64
  %cmp.i = icmp ugt i64 %mapped_size.0, %conv3.i
  br i1 %cmp.i, label %if.then.i106, label %if.end42

if.then.i106:                                     ; preds = %land.lhs.true.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i)
  %25 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i = icmp ne i32 %25, 0
  %26 = load i16, ptr @_TRACE_PCI_NVME_ERR_MDTS_DSTATE, align 2
  %tobool4.i.i.i = icmp ne i16 %26, 0
  %or.cond.i.i.i = select i1 %tobool.i.i.i, i1 %tobool4.i.i.i, i1 false
  br i1 %or.cond.i.i.i, label %land.lhs.true5.i.i.i, label %nvme_check_mdts.exit

land.lhs.true5.i.i.i:                             ; preds = %if.then.i106
  %27 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i = and i32 %27, 32768
  %cmp.i.not.i.i.i = icmp eq i32 %and.i.i.i.i, 0
  br i1 %cmp.i.not.i.i.i, label %nvme_check_mdts.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %land.lhs.true5.i.i.i
  %28 = load i8, ptr @message_with_timestamp, align 1
  %29 = and i8 %28, 1
  %tobool7.not.i.i.i = icmp eq i8 %29, 0
  br i1 %tobool7.not.i.i.i, label %if.else.i.i.i, label %if.then8.i.i.i

if.then8.i.i.i:                                   ; preds = %if.then.i.i.i
  %call9.i.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i, ptr noundef null) #17
  %call10.i.i.i = tail call i32 @qemu_get_thread_id() #17
  %30 = load i64, ptr %_now.i.i.i, align 8
  %tv_usec.i.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i, i64 0, i32 1
  %31 = load i64, ptr %tv_usec.i.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.199, i32 noundef %call10.i.i.i, i64 noundef %30, i64 noundef %31, i64 noundef %mapped_size.0) #17
  br label %nvme_check_mdts.exit

if.else.i.i.i:                                    ; preds = %if.then.i.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.200, i64 noundef %mapped_size.0) #17
  br label %nvme_check_mdts.exit

nvme_check_mdts.exit:                             ; preds = %if.then.i106, %land.lhs.true5.i.i.i, %if.then8.i.i.i, %if.else.i.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i)
  br label %invalid

if.end42:                                         ; preds = %if.then37, %land.lhs.true.i, %trace_pci_nvme_write.exit
  %32 = getelementptr i8, ptr %0, i64 272
  %.val95 = load i64, ptr %32, align 8
  %call43 = tail call fastcc zeroext i16 @nvme_check_bounds(i64 %.val95, i64 noundef %1, i32 noundef %add)
  %tobool44.not = icmp eq i16 %call43, 0
  br i1 %tobool44.not, label %if.end46, label %invalid

if.end46:                                         ; preds = %if.end42
  %zoned = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 30, i32 14
  %33 = load i8, ptr %zoned, align 1
  %34 = and i8 %33, 1
  %tobool47.not = icmp eq i8 %34, 0
  br i1 %tobool47.not, label %if.else142, label %if.then48

if.then48:                                        ; preds = %if.end46
  %zone_size_log2.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 26
  %35 = load i32, ptr %zone_size_log2.i.i, align 8
  %cmp.not.i.i = icmp eq i32 %35, 0
  br i1 %cmp.not.i.i, label %cond.false.i.i, label %cond.true.i.i

cond.true.i.i:                                    ; preds = %if.then48
  %sh_prom.i.i = zext nneg i32 %35 to i64
  %shr.i.i = lshr i64 %1, %sh_prom.i.i
  br label %nvme_zone_idx.exit.i

cond.false.i.i:                                   ; preds = %if.then48
  %zone_size.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 24
  %36 = load i64, ptr %zone_size.i.i, align 8
  %div.i.i = udiv i64 %1, %36
  br label %nvme_zone_idx.exit.i

nvme_zone_idx.exit.i:                             ; preds = %cond.false.i.i, %cond.true.i.i
  %cond.i.i = phi i64 [ %shr.i.i, %cond.true.i.i ], [ %div.i.i, %cond.false.i.i ]
  %conv.i.i = trunc i64 %cond.i.i to i32
  %num_zones.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 23
  %37 = load i32, ptr %num_zones.i, align 8
  %cmp.not.i = icmp ugt i32 %37, %conv.i.i
  br i1 %cmp.not.i, label %nvme_get_zone_by_slba.exit, label %if.else

nvme_get_zone_by_slba.exit:                       ; preds = %nvme_zone_idx.exit.i
  %zone_array.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 18
  %38 = load ptr, ptr %zone_array.i, align 8
  %idxprom.i = and i64 %cond.i.i, 4294967295
  %arrayidx.i = getelementptr %struct.NvmeZone, ptr %38, i64 %idxprom.i
  %tobool50.not = icmp eq ptr %arrayidx.i, null
  br i1 %tobool50.not, label %if.else, label %if.end52

if.else:                                          ; preds = %nvme_zone_idx.exit.i, %nvme_get_zone_by_slba.exit
  tail call void @__assert_fail(ptr noundef nonnull @.str.35, ptr noundef nonnull @.str.1, i32 noundef 3554, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_do_write) #18
  unreachable

if.end52:                                         ; preds = %nvme_get_zone_by_slba.exit
  br i1 %append, label %if.then54, label %if.end123

if.then54:                                        ; preds = %if.end52
  %39 = and i16 %3, 512
  %tobool57.not = icmp eq i16 %39, 0
  %za = getelementptr inbounds %struct.NvmeZoneDescr, ptr %arrayidx.i, i64 0, i32 2
  %40 = load i8, ptr %za, align 2
  %41 = and i8 %40, 8
  %tobool62.not = icmp eq i8 %41, 0
  br i1 %tobool62.not, label %if.end68, label %return

if.end68:                                         ; preds = %if.then54
  %zslba = getelementptr inbounds %struct.NvmeZoneDescr, ptr %arrayidx.i, i64 0, i32 5
  %42 = load i64, ptr %zslba, align 8
  %cmp70.not = icmp eq i64 %1, %42
  br i1 %cmp70.not, label %if.end81, label %if.then78

if.then78:                                        ; preds = %if.end68
  tail call fastcc void @trace_pci_nvme_err_append_not_at_start(i64 noundef %1, i64 noundef %42)
  br label %invalid

if.end81:                                         ; preds = %if.end68
  %zasl = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 4, i32 10
  %43 = load i8, ptr %zasl, align 1
  %tobool84.not = icmp eq i8 %43, 0
  br i1 %tobool84.not, label %if.end93, label %land.lhs.true85

land.lhs.true85:                                  ; preds = %if.end81
  %page_size = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 8
  %44 = load i32, ptr %page_size, align 4
  %conv86 = zext i32 %44 to i64
  %sh_prom = zext nneg i8 %43 to i64
  %shl = shl i64 %conv86, %sh_prom
  %cmp90 = icmp ugt i64 %shl.i, %shl
  br i1 %cmp90, label %if.then92, label %if.end93

if.then92:                                        ; preds = %land.lhs.true85
  tail call fastcc void @trace_pci_nvme_err_zasl(i64 noundef %shl.i)
  br label %return

if.end93:                                         ; preds = %land.lhs.true85, %if.end81
  %w_ptr = getelementptr %struct.NvmeZone, ptr %38, i64 %idxprom.i, i32 1
  %45 = load i64, ptr %w_ptr, align 8
  store i64 %45, ptr %slba3, align 1
  store i64 %45, ptr %cqe, align 1
  %dps99 = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 5, i32 8
  %46 = load i8, ptr %dps99, align 1
  %47 = and i8 %46, 7
  %and101 = zext nneg i8 %47 to i32
  switch i32 %and101, label %if.end123 [
    i32 1, label %sw.bb
    i32 2, label %sw.bb105
    i32 3, label %sw.bb119
  ]

sw.bb:                                            ; preds = %if.end93
  br i1 %tobool57.not, label %return, label %if.then107

sw.bb105:                                         ; preds = %if.end93
  br i1 %tobool57.not, label %if.end123, label %if.then107

if.then107:                                       ; preds = %sw.bb, %sw.bb105
  %reftag108 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 11
  %48 = load i32, ptr %reftag108, align 1
  %49 = load i64, ptr %zslba, align 8
  %sub113 = sub i64 %45, %49
  %50 = trunc i64 %sub113 to i32
  %conv115 = add i32 %48, %50
  store i32 %conv115, ptr %reftag108, align 1
  br label %if.end123

sw.bb119:                                         ; preds = %if.end93
  br i1 %tobool57.not, label %if.end123, label %return

if.end123:                                        ; preds = %if.end93, %if.then107, %sw.bb105, %sw.bb119, %if.end52
  %slba.0 = phi i64 [ %45, %if.end93 ], [ %45, %sw.bb119 ], [ %45, %if.then107 ], [ %45, %sw.bb105 ], [ %1, %if.end52 ]
  %call124 = tail call fastcc zeroext i16 @nvme_check_zone_write(ptr noundef nonnull %0, ptr noundef nonnull %arrayidx.i, i64 noundef %slba.0, i32 noundef %add)
  %tobool125.not = icmp eq i16 %call124, 0
  br i1 %tobool125.not, label %if.end127, label %invalid

if.end127:                                        ; preds = %if.end123
  %call.i = tail call fastcc zeroext i16 @nvme_zrm_open_flags(ptr noundef %n, ptr noundef nonnull %0, ptr noundef nonnull %arrayidx.i, i32 noundef 1)
  %tobool129.not = icmp eq i16 %call.i, 0
  br i1 %tobool129.not, label %if.end131, label %invalid

if.end131:                                        ; preds = %if.end127
  %za133 = getelementptr inbounds %struct.NvmeZoneDescr, ptr %arrayidx.i, i64 0, i32 2
  %51 = load i8, ptr %za133, align 2
  %52 = and i8 %51, 8
  %tobool136.not = icmp eq i8 %52, 0
  br i1 %tobool136.not, label %if.then137, label %if.end150

if.then137:                                       ; preds = %if.end131
  %w_ptr139 = getelementptr %struct.NvmeZone, ptr %38, i64 %idxprom.i, i32 1
  %53 = load i64, ptr %w_ptr139, align 8
  %add140 = add i64 %53, %conv9
  store i64 %add140, ptr %w_ptr139, align 8
  br label %if.end150

if.else142:                                       ; preds = %if.end46
  %endgrp = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 32
  %54 = load ptr, ptr %endgrp, align 8
  %tobool143.not = icmp eq ptr %54, null
  br i1 %tobool143.not, label %if.end150, label %land.lhs.true144

land.lhs.true144:                                 ; preds = %if.else142
  %enabled = getelementptr inbounds %struct.NvmeEnduranceGroup, ptr %54, i64 0, i32 1, i32 9
  %55 = load i8, ptr %enabled, align 8
  %56 = and i8 %55, 1
  %tobool146.not = icmp eq i8 %56, 0
  br i1 %tobool146.not, label %if.end150, label %if.then148

if.then148:                                       ; preds = %land.lhs.true144
  %57 = load ptr, ptr %ns2, align 8
  %58 = getelementptr i8, ptr %57, i64 8466
  %.val.i = load i8, ptr %58, align 2
  %sh_prom.i.i110 = zext nneg i8 %.val.i to i64
  %shl.i.i = shl i64 %conv9, %sh_prom.i.i110
  %59 = load i32, ptr %nlb4, align 8
  %dspec.i = getelementptr inbounds i8, ptr %req, i64 110
  %60 = load i16, ptr %dspec.i, align 1
  %61 = and i32 %59, 15728640
  %cmp.not.i111 = icmp eq i32 %61, 2097152
  br i1 %cmp.not.i111, label %lor.lhs.false.i, label %entry.if.then_crit_edge.i

entry.if.then_crit_edge.i:                        ; preds = %if.then148
  %endgrp.phi.trans.insert.phi.trans.insert.i = getelementptr inbounds %struct.NvmeNamespace, ptr %57, i64 0, i32 32
  %.pre.pre.i = load ptr, ptr %endgrp.phi.trans.insert.phi.trans.insert.i, align 8
  br label %if.end.i112

lor.lhs.false.i:                                  ; preds = %if.then148
  %62 = getelementptr i8, ptr %57, i64 8776
  %ns.val.i.i = load ptr, ptr %62, align 8
  %63 = getelementptr i8, ptr %ns.val.i.i, i64 8100
  %ns.val.val.i.i = load i8, ptr %63, align 4
  %tobool.not.i.i.i = icmp eq i8 %ns.val.val.i.i, 0
  %conv3.i.i.i = zext i8 %ns.val.val.i.i to i32
  %sub.i11.i.i = sub nsw i32 15, %conv3.i.i.i
  %notmask.i.i.i = shl nsw i32 -1, %sub.i11.i.i
  %64 = trunc i32 %notmask.i.i.i to i16
  %65 = xor i16 %64, -1
  %conv5.i.i.i = select i1 %tobool.not.i.i.i, i16 -1, i16 %65
  %retval.0.i12.i.i = and i16 %conv5.i.i.i, %60
  %66 = getelementptr i8, ptr %57, i64 8792
  %ns.val8.i.i = load i16, ptr %66, align 8
  %cmp.i.i.i = icmp ugt i16 %ns.val8.i.i, %retval.0.i12.i.i
  br i1 %cmp.i.i.i, label %nvme_parse_pid.exit.i, label %if.end.i112

nvme_parse_pid.exit.i:                            ; preds = %lor.lhs.false.i
  %conv2.i.i.i = zext i16 %60 to i32
  %sub.i.i.i = sub nsw i32 16, %conv3.i.i.i
  %shr.i.i.i = lshr i32 %conv2.i.i.i, %sub.i.i.i
  %conv4.i.i.i = trunc i32 %shr.i.i.i to i16
  %retval.0.i.i.i = select i1 %tobool.not.i.i.i, i16 0, i16 %conv4.i.i.i
  %67 = getelementptr i8, ptr %ns.val.i.i, i64 8098
  %.val.i.i = load i16, ptr %67, align 2
  %cmp.i13.i.i = icmp ugt i16 %.val.i.i, %retval.0.i.i.i
  %spec.select.i = select i1 %cmp.i13.i.i, i16 %retval.0.i12.i.i, i16 0
  %spec.select26.i = select i1 %cmp.i13.i.i, i16 %retval.0.i.i.i, i16 0
  %68 = zext i16 %spec.select.i to i64
  %69 = zext i16 %spec.select26.i to i64
  br label %if.end.i112

if.end.i112:                                      ; preds = %nvme_parse_pid.exit.i, %lor.lhs.false.i, %entry.if.then_crit_edge.i
  %70 = phi ptr [ %.pre.pre.i, %entry.if.then_crit_edge.i ], [ %ns.val.i.i, %lor.lhs.false.i ], [ %ns.val.i.i, %nvme_parse_pid.exit.i ]
  %ph.0.i = phi i64 [ 0, %entry.if.then_crit_edge.i ], [ 0, %lor.lhs.false.i ], [ %68, %nvme_parse_pid.exit.i ]
  %rg.0.i = phi i64 [ 0, %entry.if.then_crit_edge.i ], [ 0, %lor.lhs.false.i ], [ %69, %nvme_parse_pid.exit.i ]
  %phs.i = getelementptr inbounds %struct.NvmeNamespace, ptr %57, i64 0, i32 34, i32 1
  %71 = load ptr, ptr %phs.i, align 8
  %arrayidx.i113 = getelementptr i16, ptr %71, i64 %ph.0.i
  %72 = load i16, ptr %arrayidx.i113, align 2
  %endgrp.i = getelementptr inbounds %struct.NvmeNamespace, ptr %57, i64 0, i32 32
  %ruhs.i = getelementptr inbounds %struct.NvmeEnduranceGroup, ptr %70, i64 0, i32 1, i32 10
  %73 = load ptr, ptr %ruhs.i, align 8
  %idxprom10.i = zext i16 %72 to i64
  %rus.i = getelementptr %struct.NvmeRuHandle, ptr %73, i64 %idxprom10.i, i32 5
  %74 = load ptr, ptr %rus.i, align 8
  %arrayidx13.i = getelementptr %struct.NvmeReclaimUnit, ptr %74, i64 %rg.0.i
  %hbmw.i = getelementptr inbounds %struct.NvmeEnduranceGroup, ptr %70, i64 0, i32 1, i32 6
  %75 = load i64, ptr %hbmw.i, align 8
  %cond.i.i114 = tail call i64 @llvm.uadd.sat.i64(i64 %75, i64 %shl.i.i)
  store i64 %cond.i.i114, ptr %hbmw.i, align 8
  %76 = load ptr, ptr %endgrp.i, align 8
  %mbmw.i = getelementptr inbounds %struct.NvmeEnduranceGroup, ptr %76, i64 0, i32 1, i32 7
  %77 = load i64, ptr %mbmw.i, align 8
  %cond.i17.i = tail call i64 @llvm.uadd.sat.i64(i64 %77, i64 %shl.i.i)
  store i64 %cond.i17.i, ptr %mbmw.i, align 8
  br label %while.body.i

while.body.i:                                     ; preds = %if.end24.i, %if.end.i112
  %nlb.addr.020.i = phi i32 [ %conv28.i, %if.end24.i ], [ %add, %if.end.i112 ]
  %conv18.i = zext i32 %nlb.addr.020.i to i64
  %78 = load i64, ptr %arrayidx13.i, align 8
  %cmp19.i = icmp ugt i64 %78, %conv18.i
  br i1 %cmp19.i, label %if.then21.i, label %if.end24.i

if.then21.i:                                      ; preds = %while.body.i
  %sub.i = sub i64 %78, %conv18.i
  store i64 %sub.i, ptr %arrayidx13.i, align 8
  br label %if.end150

if.end24.i:                                       ; preds = %while.body.i
  %79 = trunc i64 %78 to i32
  %conv28.i = sub i32 %nlb.addr.020.i, %79
  %call29.i = tail call fastcc zeroext i1 @nvme_update_ruh(ptr noundef %n, ptr noundef %57, i16 noundef zeroext %60)
  %tobool.not.i115 = icmp eq i32 %conv28.i, 0
  br i1 %tobool.not.i115, label %if.end150, label %while.body.i, !llvm.loop !59

if.end150:                                        ; preds = %if.end24.i, %if.then21.i, %if.else142, %land.lhs.true144, %if.end131, %if.then137
  %slba.1 = phi i64 [ %slba.0, %if.end131 ], [ %slba.0, %if.then137 ], [ %1, %land.lhs.true144 ], [ %1, %if.else142 ], [ %1, %if.then21.i ], [ %1, %if.end24.i ]
  %.val91 = load i8, ptr %4, align 2
  %sh_prom.i116 = zext nneg i8 %.val91 to i64
  %shl.i117 = shl i64 %slba.1, %sh_prom.i116
  %dps153 = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 5, i32 8
  %80 = load i8, ptr %dps153, align 1
  %81 = and i8 %80, 7
  %tobool156.not = icmp eq i8 %81, 0
  br i1 %tobool156.not, label %if.end159, label %if.then157

if.then157:                                       ; preds = %if.end150
  %call158 = tail call zeroext i16 @nvme_dif_rw(ptr noundef %n, ptr noundef %req) #17
  br label %return

if.end159:                                        ; preds = %if.end150
  br i1 %wrz, label %if.else167, label %if.then161

if.then161:                                       ; preds = %if.end159
  %call162 = tail call fastcc zeroext i16 @nvme_map_data(ptr noundef %n, i32 noundef %add, ptr noundef %req)
  %tobool163.not = icmp eq i16 %call162, 0
  br i1 %tobool163.not, label %if.end165, label %invalid

if.end165:                                        ; preds = %if.then161
  %call166 = tail call ptr @blk_get_stats(ptr noundef %5) #17
  %acct = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 7
  tail call void @block_acct_start(ptr noundef %call166, ptr noundef nonnull %acct, i64 noundef %shl.i, i32 noundef 2) #17
  tail call fastcc void @nvme_blk_write(ptr noundef %5, i64 noundef %shl.i117, i32 noundef 512, ptr noundef nonnull @nvme_rw_cb, ptr noundef %req)
  br label %return

if.else167:                                       ; preds = %if.end159
  %call168 = tail call ptr @blk_aio_pwrite_zeroes(ptr noundef %5, i64 noundef %shl.i117, i64 noundef %shl.i, i32 noundef 4, ptr noundef nonnull @nvme_rw_cb, ptr noundef %req) #17
  %aiocb = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 2
  store ptr %call168, ptr %aiocb, align 8
  br label %return

invalid:                                          ; preds = %nvme_check_mdts.exit, %if.then161, %if.end127, %if.end123, %if.end42, %if.then78
  %status.0 = phi i16 [ %call43, %if.end42 ], [ 2, %if.then78 ], [ %call124, %if.end123 ], [ %call.i, %if.end127 ], [ %call162, %if.then161 ], [ 16386, %nvme_check_mdts.exit ]
  %call170 = tail call ptr @blk_get_stats(ptr noundef %5) #17
  tail call void @block_acct_invalid(ptr noundef %call170, i32 noundef 2) #17
  %82 = or i16 %status.0, 16384
  br label %return

return:                                           ; preds = %if.end165, %if.else167, %sw.bb119, %sw.bb, %if.then54, %invalid, %if.then157, %if.then92
  %retval.0 = phi i16 [ %82, %invalid ], [ 16386, %if.then92 ], [ %call158, %if.then157 ], [ 16822, %if.then54 ], [ 16769, %sw.bb ], [ 16769, %sw.bb119 ], [ -1, %if.else167 ], [ -1, %if.end165 ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_check_bounds(i64 %ns.272.val, i64 noundef %slba, i32 noundef %nlb) unnamed_addr #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %sub = xor i64 %slba, -1
  %conv = zext i32 %nlb to i64
  %cmp = icmp ult i64 %sub, %conv
  %add = add i64 %conv, %slba
  %cmp4 = icmp ugt i64 %add, %ns.272.val
  %0 = select i1 %cmp, i1 true, i1 %cmp4
  br i1 %0, label %if.then, label %return

if.then:                                          ; preds = %entry
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %1 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %1, 0
  %2 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_LBA_RANGE_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %2, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_err_invalid_lba_range.exit

land.lhs.true5.i.i:                               ; preds = %if.then
  %3 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %3, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_err_invalid_lba_range.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %4 = load i8, ptr @message_with_timestamp, align 1
  %5 = and i8 %4, 1
  %tobool7.not.i.i = icmp eq i8 %5, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %6 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %7 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.201, i32 noundef %call10.i.i, i64 noundef %6, i64 noundef %7, i64 noundef %slba, i64 noundef %conv, i64 noundef %ns.272.val) #17
  br label %trace_pci_nvme_err_invalid_lba_range.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.202, i64 noundef %slba, i64 noundef %conv, i64 noundef %ns.272.val) #17
  br label %trace_pci_nvme_err_invalid_lba_range.exit

trace_pci_nvme_err_invalid_lba_range.exit:        ; preds = %if.then, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  br label %return

return:                                           ; preds = %entry, %trace_pci_nvme_err_invalid_lba_range.exit
  %retval.0 = phi i16 [ 16512, %trace_pci_nvme_err_invalid_lba_range.exit ], [ 0, %entry ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_err_append_not_at_start(i64 noundef %slba, i64 noundef %zone) unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_APPEND_NOT_AT_START_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_err_append_not_at_start.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_err_append_not_at_start.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.203, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6, i64 noundef %slba, i64 noundef %zone) #17
  br label %_nocheck__trace_pci_nvme_err_append_not_at_start.exit

if.else.i:                                        ; preds = %if.then.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.204, i64 noundef %slba, i64 noundef %zone) #17
  br label %_nocheck__trace_pci_nvme_err_append_not_at_start.exit

_nocheck__trace_pci_nvme_err_append_not_at_start.exit: ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_err_zasl(i64 noundef %len) unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_ZASL_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_err_zasl.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_err_zasl.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.205, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6, i64 noundef %len) #17
  br label %_nocheck__trace_pci_nvme_err_zasl.exit

if.else.i:                                        ; preds = %if.then.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.206, i64 noundef %len) #17
  br label %_nocheck__trace_pci_nvme_err_zasl.exit

_nocheck__trace_pci_nvme_err_zasl.exit:           ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_check_zone_write(ptr nocapture noundef readonly %ns, ptr nocapture noundef readonly %zone, i64 noundef %slba, i32 noundef %nlb) unnamed_addr #0 {
entry:
  %_now.i.i36 = alloca %struct.timeval, align 8
  %_now.i.i22 = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %_now.i.i18.i = alloca %struct.timeval, align 8
  %_now.i.i4.i = alloca %struct.timeval, align 8
  %_now.i.i.i = alloca %struct.timeval, align 8
  %0 = getelementptr i8, ptr %zone, i64 8
  %zone.val = load i64, ptr %0, align 8
  %1 = getelementptr i8, ptr %zone, i64 16
  %zone.val19 = load i64, ptr %1, align 8
  %add.i = add i64 %zone.val19, %zone.val
  %2 = getelementptr i8, ptr %zone, i64 1
  %zone.val20 = load i8, ptr %2, align 1
  %3 = lshr i8 %zone.val20, 4
  %shr.i.i = zext nneg i8 %3 to i32
  switch i32 %shr.i.i, label %sw.default.i [
    i32 1, label %if.end
    i32 2, label %if.end
    i32 3, label %if.end
    i32 4, label %if.end
    i32 14, label %sw.bb2.i
    i32 15, label %sw.bb3.i
    i32 13, label %sw.bb4.i
  ]

sw.bb2.i:                                         ; preds = %entry
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i)
  %4 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i = icmp ne i32 %4, 0
  %5 = load i16, ptr @_TRACE_PCI_NVME_ERR_ZONE_IS_FULL_DSTATE, align 2
  %tobool4.i.i.i = icmp ne i16 %5, 0
  %or.cond.i.i.i = select i1 %tobool.i.i.i, i1 %tobool4.i.i.i, i1 false
  br i1 %or.cond.i.i.i, label %land.lhs.true5.i.i.i, label %trace_pci_nvme_err_zone_is_full.exit.i

land.lhs.true5.i.i.i:                             ; preds = %sw.bb2.i
  %6 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i = and i32 %6, 32768
  %cmp.i.not.i.i.i = icmp eq i32 %and.i.i.i.i, 0
  br i1 %cmp.i.not.i.i.i, label %trace_pci_nvme_err_zone_is_full.exit.i, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %land.lhs.true5.i.i.i
  %7 = load i8, ptr @message_with_timestamp, align 1
  %8 = and i8 %7, 1
  %tobool7.not.i.i.i = icmp eq i8 %8, 0
  br i1 %tobool7.not.i.i.i, label %if.else.i.i.i, label %if.then8.i.i.i

if.then8.i.i.i:                                   ; preds = %if.then.i.i.i
  %call9.i.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i, ptr noundef null) #17
  %call10.i.i.i = tail call i32 @qemu_get_thread_id() #17
  %9 = load i64, ptr %_now.i.i.i, align 8
  %tv_usec.i.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i, i64 0, i32 1
  %10 = load i64, ptr %tv_usec.i.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.207, i32 noundef %call10.i.i.i, i64 noundef %9, i64 noundef %10, i64 noundef %zone.val19) #17
  br label %trace_pci_nvme_err_zone_is_full.exit.i

if.else.i.i.i:                                    ; preds = %if.then.i.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.208, i64 noundef %zone.val19) #17
  br label %trace_pci_nvme_err_zone_is_full.exit.i

trace_pci_nvme_err_zone_is_full.exit.i:           ; preds = %if.else.i.i.i, %if.then8.i.i.i, %land.lhs.true5.i.i.i, %sw.bb2.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i)
  br label %return

sw.bb3.i:                                         ; preds = %entry
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i4.i)
  %11 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i5.i = icmp ne i32 %11, 0
  %12 = load i16, ptr @_TRACE_PCI_NVME_ERR_ZONE_IS_OFFLINE_DSTATE, align 2
  %tobool4.i.i6.i = icmp ne i16 %12, 0
  %or.cond.i.i7.i = select i1 %tobool.i.i5.i, i1 %tobool4.i.i6.i, i1 false
  br i1 %or.cond.i.i7.i, label %land.lhs.true5.i.i8.i, label %trace_pci_nvme_err_zone_is_offline.exit.i

land.lhs.true5.i.i8.i:                            ; preds = %sw.bb3.i
  %13 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i9.i = and i32 %13, 32768
  %cmp.i.not.i.i10.i = icmp eq i32 %and.i.i.i9.i, 0
  br i1 %cmp.i.not.i.i10.i, label %trace_pci_nvme_err_zone_is_offline.exit.i, label %if.then.i.i11.i

if.then.i.i11.i:                                  ; preds = %land.lhs.true5.i.i8.i
  %14 = load i8, ptr @message_with_timestamp, align 1
  %15 = and i8 %14, 1
  %tobool7.not.i.i12.i = icmp eq i8 %15, 0
  br i1 %tobool7.not.i.i12.i, label %if.else.i.i17.i, label %if.then8.i.i13.i

if.then8.i.i13.i:                                 ; preds = %if.then.i.i11.i
  %call9.i.i14.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i4.i, ptr noundef null) #17
  %call10.i.i15.i = tail call i32 @qemu_get_thread_id() #17
  %16 = load i64, ptr %_now.i.i4.i, align 8
  %tv_usec.i.i16.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i4.i, i64 0, i32 1
  %17 = load i64, ptr %tv_usec.i.i16.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.209, i32 noundef %call10.i.i15.i, i64 noundef %16, i64 noundef %17, i64 noundef %zone.val19) #17
  br label %trace_pci_nvme_err_zone_is_offline.exit.i

if.else.i.i17.i:                                  ; preds = %if.then.i.i11.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.210, i64 noundef %zone.val19) #17
  br label %trace_pci_nvme_err_zone_is_offline.exit.i

trace_pci_nvme_err_zone_is_offline.exit.i:        ; preds = %if.else.i.i17.i, %if.then8.i.i13.i, %land.lhs.true5.i.i8.i, %sw.bb3.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i4.i)
  br label %return

sw.bb4.i:                                         ; preds = %entry
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i18.i)
  %18 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i19.i = icmp ne i32 %18, 0
  %19 = load i16, ptr @_TRACE_PCI_NVME_ERR_ZONE_IS_READ_ONLY_DSTATE, align 2
  %tobool4.i.i20.i = icmp ne i16 %19, 0
  %or.cond.i.i21.i = select i1 %tobool.i.i19.i, i1 %tobool4.i.i20.i, i1 false
  br i1 %or.cond.i.i21.i, label %land.lhs.true5.i.i22.i, label %trace_pci_nvme_err_zone_is_read_only.exit.i

land.lhs.true5.i.i22.i:                           ; preds = %sw.bb4.i
  %20 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i23.i = and i32 %20, 32768
  %cmp.i.not.i.i24.i = icmp eq i32 %and.i.i.i23.i, 0
  br i1 %cmp.i.not.i.i24.i, label %trace_pci_nvme_err_zone_is_read_only.exit.i, label %if.then.i.i25.i

if.then.i.i25.i:                                  ; preds = %land.lhs.true5.i.i22.i
  %21 = load i8, ptr @message_with_timestamp, align 1
  %22 = and i8 %21, 1
  %tobool7.not.i.i26.i = icmp eq i8 %22, 0
  br i1 %tobool7.not.i.i26.i, label %if.else.i.i31.i, label %if.then8.i.i27.i

if.then8.i.i27.i:                                 ; preds = %if.then.i.i25.i
  %call9.i.i28.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i18.i, ptr noundef null) #17
  %call10.i.i29.i = tail call i32 @qemu_get_thread_id() #17
  %23 = load i64, ptr %_now.i.i18.i, align 8
  %tv_usec.i.i30.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i18.i, i64 0, i32 1
  %24 = load i64, ptr %tv_usec.i.i30.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.211, i32 noundef %call10.i.i29.i, i64 noundef %23, i64 noundef %24, i64 noundef %zone.val19) #17
  br label %trace_pci_nvme_err_zone_is_read_only.exit.i

if.else.i.i31.i:                                  ; preds = %if.then.i.i25.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.212, i64 noundef %zone.val19) #17
  br label %trace_pci_nvme_err_zone_is_read_only.exit.i

trace_pci_nvme_err_zone_is_read_only.exit.i:      ; preds = %if.else.i.i31.i, %if.then8.i.i27.i, %land.lhs.true5.i.i22.i, %sw.bb4.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i18.i)
  br label %return

sw.default.i:                                     ; preds = %entry
  tail call void @__assert_fail(ptr noundef nonnull @.str.176, ptr noundef nonnull @.str.1, i32 noundef 1815, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_check_zone_state_for_write) #18
  unreachable

if.end:                                           ; preds = %entry, %entry, %entry, %entry
  %za = getelementptr inbounds %struct.NvmeZoneDescr, ptr %zone, i64 0, i32 2
  %25 = load i8, ptr %za, align 2
  %26 = and i8 %25, 8
  %tobool2.not = icmp eq i8 %26, 0
  %w_ptr15 = getelementptr inbounds %struct.NvmeZone, ptr %zone, i64 0, i32 1
  %27 = load i64, ptr %w_ptr15, align 8
  br i1 %tobool2.not, label %if.else, label %if.then3

if.then3:                                         ; preds = %if.end
  %cmp = icmp ugt i64 %27, %slba
  br i1 %cmp, label %if.then12, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %if.then3
  %zns = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 15
  %28 = load i16, ptr %zns, align 4
  %conv4 = zext i16 %28 to i64
  %mul = shl nuw nsw i64 %conv4, 1
  %add = add i64 %mul, %27
  %conv8 = zext i32 %nlb to i64
  %add9 = add i64 %conv8, %slba
  %cmp10 = icmp ugt i64 %add9, %add
  br i1 %cmp10, label %if.then12, label %if.end25

if.then12:                                        ; preds = %lor.lhs.false, %if.then3
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %29 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %29, 0
  %30 = load i16, ptr @_TRACE_PCI_NVME_ERR_ZONE_INVALID_WRITE_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %30, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_err_zone_invalid_write.exit

land.lhs.true5.i.i:                               ; preds = %if.then12
  %31 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %31, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_err_zone_invalid_write.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %32 = load i8, ptr @message_with_timestamp, align 1
  %33 = and i8 %32, 1
  %tobool7.not.i.i = icmp eq i8 %33, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %34 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %35 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.213, i32 noundef %call10.i.i, i64 noundef %34, i64 noundef %35, i64 noundef %slba, i64 noundef %27) #17
  br label %trace_pci_nvme_err_zone_invalid_write.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.214, i64 noundef %slba, i64 noundef %27) #17
  br label %trace_pci_nvme_err_zone_invalid_write.exit

trace_pci_nvme_err_zone_invalid_write.exit:       ; preds = %if.then12, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  br label %return

if.else:                                          ; preds = %if.end
  %cmp16.not = icmp eq i64 %27, %slba
  br i1 %cmp16.not, label %if.else.if.end25_crit_edge, label %if.then21

if.else.if.end25_crit_edge:                       ; preds = %if.else
  %.pre = zext i32 %nlb to i64
  %.pre52 = add i64 %.pre, %slba
  br label %if.end25

if.then21:                                        ; preds = %if.else
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i22)
  %36 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i23 = icmp ne i32 %36, 0
  %37 = load i16, ptr @_TRACE_PCI_NVME_ERR_WRITE_NOT_AT_WP_DSTATE, align 2
  %tobool4.i.i24 = icmp ne i16 %37, 0
  %or.cond.i.i25 = select i1 %tobool.i.i23, i1 %tobool4.i.i24, i1 false
  br i1 %or.cond.i.i25, label %land.lhs.true5.i.i26, label %trace_pci_nvme_err_write_not_at_wp.exit

land.lhs.true5.i.i26:                             ; preds = %if.then21
  %38 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i27 = and i32 %38, 32768
  %cmp.i.not.i.i28 = icmp eq i32 %and.i.i.i27, 0
  br i1 %cmp.i.not.i.i28, label %trace_pci_nvme_err_write_not_at_wp.exit, label %if.then.i.i29

if.then.i.i29:                                    ; preds = %land.lhs.true5.i.i26
  %39 = load i8, ptr @message_with_timestamp, align 1
  %40 = and i8 %39, 1
  %tobool7.not.i.i30 = icmp eq i8 %40, 0
  br i1 %tobool7.not.i.i30, label %if.else.i.i35, label %if.then8.i.i31

if.then8.i.i31:                                   ; preds = %if.then.i.i29
  %call9.i.i32 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i22, ptr noundef null) #17
  %call10.i.i33 = tail call i32 @qemu_get_thread_id() #17
  %41 = load i64, ptr %_now.i.i22, align 8
  %tv_usec.i.i34 = getelementptr inbounds %struct.timeval, ptr %_now.i.i22, i64 0, i32 1
  %42 = load i64, ptr %tv_usec.i.i34, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.215, i32 noundef %call10.i.i33, i64 noundef %41, i64 noundef %42, i64 noundef %slba, i64 noundef %zone.val19, i64 noundef %27) #17
  br label %trace_pci_nvme_err_write_not_at_wp.exit

if.else.i.i35:                                    ; preds = %if.then.i.i29
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.216, i64 noundef %slba, i64 noundef %zone.val19, i64 noundef %27) #17
  br label %trace_pci_nvme_err_write_not_at_wp.exit

trace_pci_nvme_err_write_not_at_wp.exit:          ; preds = %if.then21, %land.lhs.true5.i.i26, %if.then8.i.i31, %if.else.i.i35
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i22)
  br label %return

if.end25:                                         ; preds = %if.else.if.end25_crit_edge, %lor.lhs.false
  %add27.pre-phi = phi i64 [ %.pre52, %if.else.if.end25_crit_edge ], [ %add9, %lor.lhs.false ]
  %cmp28 = icmp ugt i64 %add27.pre-phi, %add.i
  br i1 %cmp28, label %if.then36, label %return

if.then36:                                        ; preds = %if.end25
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i36)
  %43 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i37 = icmp ne i32 %43, 0
  %44 = load i16, ptr @_TRACE_PCI_NVME_ERR_ZONE_BOUNDARY_DSTATE, align 2
  %tobool4.i.i38 = icmp ne i16 %44, 0
  %or.cond.i.i39 = select i1 %tobool.i.i37, i1 %tobool4.i.i38, i1 false
  br i1 %or.cond.i.i39, label %land.lhs.true5.i.i40, label %trace_pci_nvme_err_zone_boundary.exit

land.lhs.true5.i.i40:                             ; preds = %if.then36
  %45 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i41 = and i32 %45, 32768
  %cmp.i.not.i.i42 = icmp eq i32 %and.i.i.i41, 0
  br i1 %cmp.i.not.i.i42, label %trace_pci_nvme_err_zone_boundary.exit, label %if.then.i.i43

if.then.i.i43:                                    ; preds = %land.lhs.true5.i.i40
  %46 = load i8, ptr @message_with_timestamp, align 1
  %47 = and i8 %46, 1
  %tobool7.not.i.i44 = icmp eq i8 %47, 0
  br i1 %tobool7.not.i.i44, label %if.else.i.i49, label %if.then8.i.i45

if.then8.i.i45:                                   ; preds = %if.then.i.i43
  %call9.i.i46 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i36, ptr noundef null) #17
  %call10.i.i47 = tail call i32 @qemu_get_thread_id() #17
  %48 = load i64, ptr %_now.i.i36, align 8
  %tv_usec.i.i48 = getelementptr inbounds %struct.timeval, ptr %_now.i.i36, i64 0, i32 1
  %49 = load i64, ptr %tv_usec.i.i48, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.217, i32 noundef %call10.i.i47, i64 noundef %48, i64 noundef %49, i64 noundef %slba, i32 noundef %nlb, i64 noundef %add.i) #17
  br label %trace_pci_nvme_err_zone_boundary.exit

if.else.i.i49:                                    ; preds = %if.then.i.i43
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.218, i64 noundef %slba, i32 noundef %nlb, i64 noundef %add.i) #17
  br label %trace_pci_nvme_err_zone_boundary.exit

trace_pci_nvme_err_zone_boundary.exit:            ; preds = %if.then36, %land.lhs.true5.i.i40, %if.then8.i.i45, %if.else.i.i49
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i36)
  br label %return

return:                                           ; preds = %trace_pci_nvme_err_zone_is_full.exit.i, %trace_pci_nvme_err_zone_is_offline.exit.i, %trace_pci_nvme_err_zone_is_read_only.exit.i, %if.end25, %trace_pci_nvme_err_zone_boundary.exit, %trace_pci_nvme_err_write_not_at_wp.exit, %trace_pci_nvme_err_zone_invalid_write.exit
  %retval.0 = phi i16 [ 444, %trace_pci_nvme_err_zone_invalid_write.exit ], [ 440, %trace_pci_nvme_err_zone_boundary.exit ], [ 444, %trace_pci_nvme_err_write_not_at_wp.exit ], [ 0, %if.end25 ], [ 441, %trace_pci_nvme_err_zone_is_full.exit.i ], [ 443, %trace_pci_nvme_err_zone_is_offline.exit.i ], [ 442, %trace_pci_nvme_err_zone_is_read_only.exit.i ]
  ret i16 %retval.0
}

declare zeroext i16 @nvme_dif_rw(ptr noundef, ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_map_data(ptr noundef %n, i32 noundef %nlb, ptr noundef %req) unnamed_addr #0 {
entry:
  %sg = alloca %struct.NvmeSg, align 8
  %ns1 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 1
  %0 = load ptr, ptr %ns1, align 8
  %cmd = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %conv9 = zext nneg i32 %nlb to i64
  %1 = getelementptr i8, ptr %0, i64 8466
  %.val20 = load i8, ptr %1, align 2
  %sh_prom.i = zext nneg i8 %.val20 to i64
  %shl.i = shl i64 %conv9, %sh_prom.i
  %2 = getelementptr i8, ptr %0, i64 298
  %.val = load i8, ptr %2, align 2
  %3 = and i8 %.val, 16
  %tobool.i.not = icmp eq i8 %3, 0
  br i1 %tobool.i.not, label %if.end32, label %land.lhs.true

land.lhs.true:                                    ; preds = %entry
  %control = getelementptr inbounds i8, ptr %req, i64 106
  %4 = load i16, ptr %control, align 1
  %5 = and i16 %4, 8192
  %tobool5.not = icmp eq i16 %5, 0
  %dps = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 5, i32 8
  %6 = load i8, ptr %dps, align 1
  %7 = and i8 %6, 7
  %tobool.not = icmp eq i8 %7, 0
  %brmerge = select i1 %tobool.not, i1 true, i1 %tobool5.not
  br i1 %brmerge, label %land.lhs.true.if.then_crit_edge, label %land.lhs.true18

land.lhs.true.if.then_crit_edge:                  ; preds = %land.lhs.true
  %.phi.trans.insert = getelementptr i8, ptr %0, i64 8464
  %.val21.pre = load i16, ptr %.phi.trans.insert, align 8
  %.pre = zext i16 %.val21.pre to i64
  br label %if.then

land.lhs.true18:                                  ; preds = %land.lhs.true
  %lbaf = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 7
  %8 = load i16, ptr %lbaf, align 8
  %conv19 = zext i16 %8 to i64
  %9 = getelementptr i8, ptr %0, i64 8496
  %.val19 = load i8, ptr %9, align 8
  %tobool.not.i = icmp eq i8 %.val19, 0
  %conv1.i = select i1 %tobool.not.i, i64 8, i64 16
  %cmp = icmp eq i64 %conv1.i, %conv19
  br i1 %cmp, label %if.end32, label %if.then

if.then:                                          ; preds = %land.lhs.true.if.then_crit_edge, %land.lhs.true18
  %conv.i.pre-phi = phi i64 [ %.pre, %land.lhs.true.if.then_crit_edge ], [ %conv19, %land.lhs.true18 ]
  %mul.i = mul nuw nsw i64 %conv.i.pre-phi, %conv9
  %add = add i64 %mul.i, %shl.i
  %call25 = call zeroext i16 @nvme_map_dptr(ptr noundef %n, ptr noundef nonnull %sg, i64 noundef %add, ptr noundef nonnull %cmd)
  %tobool26.not = icmp eq i16 %call25, 0
  br i1 %tobool26.not, label %if.end, label %return

if.end:                                           ; preds = %if.then
  %sg28 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %10 = load i32, ptr %sg, align 8
  %and29 = and i32 %10, 2
  %tobool30.not = icmp eq i32 %and29, 0
  %11 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8, i32 1
  br i1 %tobool30.not, label %if.else.i, label %if.then.i

if.then.i:                                        ; preds = %if.end
  %call.i.i = call ptr @object_dynamic_cast_assert(ptr noundef %n, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %call.i.i.i = call ptr @object_dynamic_cast_assert(ptr noundef %call.i.i, ptr noundef nonnull @.str.4, ptr noundef nonnull @.str.5, i32 noundef 77, ptr noundef nonnull @__func__.DEVICE) #17
  %bus_master_as.i.i.i = getelementptr inbounds %struct.PCIDevice, ptr %call.i.i, i64 0, i32 12
  call void @qemu_sglist_init(ptr noundef nonnull %11, ptr noundef %call.i.i.i, i32 noundef 0, ptr noundef nonnull %bus_master_as.i.i.i) #17
  br label %nvme_sg_init.exit

if.else.i:                                        ; preds = %if.end
  call void @qemu_iovec_init(ptr noundef nonnull %11, i32 noundef 0) #17
  %.pre.i = load i32, ptr %sg28, align 8
  %12 = or i32 %.pre.i, 1
  br label %nvme_sg_init.exit

nvme_sg_init.exit:                                ; preds = %if.then.i, %if.else.i
  %or.i = phi i32 [ %12, %if.else.i ], [ 3, %if.then.i ]
  store i32 %or.i, ptr %sg28, align 8
  call fastcc void @nvme_sg_split(ptr noundef nonnull %sg, ptr noundef nonnull %0, ptr noundef nonnull %sg28, ptr noundef null)
  %13 = load i32, ptr %sg, align 8
  %and.i = and i32 %13, 1
  %tobool.not.i22 = icmp eq i32 %and.i, 0
  br i1 %tobool.not.i22, label %return, label %if.end.i

if.end.i:                                         ; preds = %nvme_sg_init.exit
  %and2.i = and i32 %13, 2
  %tobool3.not.i = icmp eq i32 %and2.i, 0
  %14 = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1
  br i1 %tobool3.not.i, label %if.else.i23, label %if.then4.i

if.then4.i:                                       ; preds = %if.end.i
  call void @qemu_sglist_destroy(ptr noundef nonnull %14) #17
  br label %return

if.else.i23:                                      ; preds = %if.end.i
  call void @qemu_iovec_destroy(ptr noundef nonnull %14) #17
  br label %return

if.end32:                                         ; preds = %land.lhs.true18, %entry
  %sg33 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %call35 = tail call zeroext i16 @nvme_map_dptr(ptr noundef %n, ptr noundef nonnull %sg33, i64 noundef %shl.i, ptr noundef nonnull %cmd)
  br label %return

return:                                           ; preds = %if.then4.i, %if.else.i23, %nvme_sg_init.exit, %if.then, %if.end32
  %retval.0 = phi i16 [ %call35, %if.end32 ], [ %call25, %if.then ], [ 0, %nvme_sg_init.exit ], [ 0, %if.else.i23 ], [ 0, %if.then4.i ]
  ret i16 %retval.0
}

declare void @block_acct_start(ptr noundef, ptr noundef, i64 noundef, i32 noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @nvme_blk_write(ptr noundef %blk, i64 noundef %offset, i32 noundef %align, ptr noundef %cb, ptr noundef %req) unnamed_addr #0 {
entry:
  %sg = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %0 = load i32, ptr %sg, align 8
  %and = and i32 %0, 1
  %tobool.not = icmp eq i32 %and, 0
  br i1 %tobool.not, label %if.else, label %if.end

if.else:                                          ; preds = %entry
  tail call void @__assert_fail(ptr noundef nonnull @.str.228, ptr noundef nonnull @.str.1, i32 noundef 1460, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_blk_write) #18
  unreachable

if.end:                                           ; preds = %entry
  %and3 = and i32 %0, 2
  %tobool4.not = icmp eq i32 %and3, 0
  %1 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8, i32 1
  br i1 %tobool4.not, label %if.else7, label %if.then5

if.then5:                                         ; preds = %if.end
  %call = tail call ptr @dma_blk_write(ptr noundef %blk, ptr noundef nonnull %1, i64 noundef %offset, i32 noundef %align, ptr noundef %cb, ptr noundef nonnull %req) #17
  br label %if.end11

if.else7:                                         ; preds = %if.end
  %call9 = tail call ptr @blk_aio_pwritev(ptr noundef %blk, i64 noundef %offset, ptr noundef nonnull %1, i32 noundef 0, ptr noundef %cb, ptr noundef nonnull %req) #17
  br label %if.end11

if.end11:                                         ; preds = %if.else7, %if.then5
  %call.sink = phi ptr [ %call9, %if.else7 ], [ %call, %if.then5 ]
  %2 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 2
  store ptr %call.sink, ptr %2, align 8
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_rw_cb(ptr noundef %opaque, i32 noundef %ret) #0 {
nvme_cid.exit:
  %sg.i = alloca %struct.NvmeSg, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %ns1 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 1
  %0 = load ptr, ptr %ns1, align 8
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 1
  %1 = load ptr, ptr %blkconf, align 8
  %cid.i = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 5, i32 4
  %2 = load i16, ptr %cid.i, align 4
  %call3 = tail call ptr @blk_name(ptr noundef %1) #17
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %3 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %3, 0
  %4 = load i16, ptr @_TRACE_PCI_NVME_RW_CB_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %4, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_rw_cb.exit

land.lhs.true5.i.i:                               ; preds = %nvme_cid.exit
  %5 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %5, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_rw_cb.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %6 = load i8, ptr @message_with_timestamp, align 1
  %7 = and i8 %6, 1
  %tobool7.not.i.i = icmp eq i8 %7, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %8 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %9 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext i16 %2 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.229, i32 noundef %call10.i.i, i64 noundef %8, i64 noundef %9, i32 noundef %conv11.i.i, ptr noundef %call3) #17
  br label %trace_pci_nvme_rw_cb.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv12.i.i = zext i16 %2 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.230, i32 noundef %conv12.i.i, ptr noundef %call3) #17
  br label %trace_pci_nvme_rw_cb.exit

trace_pci_nvme_rw_cb.exit:                        ; preds = %nvme_cid.exit, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %tobool.not = icmp eq i32 %ret, 0
  br i1 %tobool.not, label %if.end, label %out

if.end:                                           ; preds = %trace_pci_nvme_rw_cb.exit
  %lbaf = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 7
  %10 = load i16, ptr %lbaf, align 8
  %tobool4.not = icmp eq i16 %10, 0
  br i1 %tobool4.not, label %out, label %if.then5

if.then5:                                         ; preds = %if.end
  %cmd = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 6
  %slba6 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 6, i32 7
  %11 = load i64, ptr %slba6, align 1
  %nlb8 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 6, i32 9
  %12 = load i16, ptr %nlb8, align 1
  %conv = zext i16 %12 to i32
  %add = add nuw nsw i32 %conv, 1
  %13 = getelementptr i8, ptr %0, i64 264
  %.val27 = load i64, ptr %13, align 8
  %conv.i.i = zext i16 %10 to i64
  %mul.i.i = mul i64 %11, %conv.i.i
  %add.i = add i64 %.val27, %mul.i.i
  %14 = load i8, ptr %cmd, align 8
  %cmp = icmp eq i8 %14, 8
  br i1 %cmp, label %if.then14, label %if.end18

if.then14:                                        ; preds = %if.then5
  %conv15 = zext nneg i32 %add to i64
  %mul.i = mul nuw nsw i64 %conv15, %conv.i.i
  %call17 = tail call ptr @blk_aio_pwrite_zeroes(ptr noundef %1, i64 noundef %add.i, i64 noundef %mul.i, i32 noundef 4, ptr noundef nonnull @nvme_rw_complete_cb, ptr noundef nonnull %opaque) #17
  %aiocb = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 2
  store ptr %call17, ptr %aiocb, align 8
  br label %return

if.end18:                                         ; preds = %if.then5
  %15 = getelementptr i8, ptr %0, i64 298
  %.val = load i8, ptr %15, align 2
  %16 = and i8 %.val, 16
  %tobool.i.not = icmp eq i8 %16, 0
  br i1 %tobool.i.not, label %lor.lhs.false, label %if.then23

lor.lhs.false:                                    ; preds = %if.end18
  %mptr = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 6, i32 5
  %17 = load i64, ptr %mptr, align 8
  %tobool22.not = icmp eq i64 %17, 0
  br i1 %tobool22.not, label %out, label %if.then23

if.then23:                                        ; preds = %lor.lhs.false, %if.end18
  %sg = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 8
  %18 = load i32, ptr %sg, align 8
  %and.i = and i32 %18, 1
  %tobool.not.i29 = icmp eq i32 %and.i, 0
  br i1 %tobool.not.i29, label %nvme_sg_unmap.exit, label %if.end.i30

if.end.i30:                                       ; preds = %if.then23
  %and2.i = and i32 %18, 2
  %tobool3.not.i = icmp eq i32 %and2.i, 0
  %19 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 8, i32 1
  br i1 %tobool3.not.i, label %if.else.i, label %if.then4.i

if.then4.i:                                       ; preds = %if.end.i30
  tail call void @qemu_sglist_destroy(ptr noundef nonnull %19) #17
  br label %if.end5.i

if.else.i:                                        ; preds = %if.end.i30
  tail call void @qemu_iovec_destroy(ptr noundef nonnull %19) #17
  br label %if.end5.i

if.end5.i:                                        ; preds = %if.else.i, %if.then4.i
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(48) %sg, i8 0, i64 48, i1 false)
  br label %nvme_sg_unmap.exit

nvme_sg_unmap.exit:                               ; preds = %if.then23, %if.end5.i
  %opaque.val = load ptr, ptr %opaque, align 8
  %opaque.val.val = load ptr, ptr %opaque.val, align 8
  call void @llvm.lifetime.start.p0(i64 48, ptr nonnull %sg.i)
  %20 = load ptr, ptr %ns1, align 8
  %conv.i31 = zext nneg i32 %add to i64
  %21 = getelementptr i8, ptr %20, i64 8464
  %.val17.i = load i16, ptr %21, align 8
  %conv.i.i32 = zext i16 %.val17.i to i64
  %mul.i.i33 = mul nuw nsw i64 %conv.i.i32, %conv.i31
  %22 = getelementptr i8, ptr %20, i64 298
  %.val.i = load i8, ptr %22, align 2
  %23 = and i8 %.val.i, 16
  %tobool.i.not.i = icmp eq i8 %23, 0
  br i1 %tobool.i.not.i, label %nvme_map_mdata.exit, label %if.then.i

if.then.i:                                        ; preds = %nvme_sg_unmap.exit
  %24 = getelementptr i8, ptr %20, i64 8466
  %.val16.i = load i8, ptr %24, align 2
  %sh_prom.i.i = zext nneg i8 %.val16.i to i64
  %shl.i.i = shl i64 %conv.i31, %sh_prom.i.i
  %add.i34 = add i64 %shl.i.i, %mul.i.i33
  %call5.i = call zeroext i16 @nvme_map_dptr(ptr noundef %opaque.val.val, ptr noundef nonnull %sg.i, i64 noundef %add.i34, ptr noundef nonnull %cmd)
  %tobool.not.i35 = icmp eq i16 %call5.i, 0
  br i1 %tobool.not.i35, label %if.end.i37, label %nvme_map_mdata.exit.thread43

nvme_map_mdata.exit.thread43:                     ; preds = %if.then.i
  call void @llvm.lifetime.end.p0(i64 48, ptr nonnull %sg.i)
  br label %out

if.end.i37:                                       ; preds = %if.then.i
  %25 = load i32, ptr %sg.i, align 8
  %and.i38 = and i32 %25, 2
  %tobool8.not.i = icmp eq i32 %and.i38, 0
  %26 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 8, i32 1
  br i1 %tobool8.not.i, label %if.else.i.i40, label %if.then.i.i39

if.then.i.i39:                                    ; preds = %if.end.i37
  %call.i.i.i = call ptr @object_dynamic_cast_assert(ptr noundef %opaque.val.val, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %call.i.i.i.i = call ptr @object_dynamic_cast_assert(ptr noundef %call.i.i.i, ptr noundef nonnull @.str.4, ptr noundef nonnull @.str.5, i32 noundef 77, ptr noundef nonnull @__func__.DEVICE) #17
  %bus_master_as.i.i.i.i = getelementptr inbounds %struct.PCIDevice, ptr %call.i.i.i, i64 0, i32 12
  call void @qemu_sglist_init(ptr noundef nonnull %26, ptr noundef %call.i.i.i.i, i32 noundef 0, ptr noundef nonnull %bus_master_as.i.i.i.i) #17
  br label %nvme_sg_init.exit.i

if.else.i.i40:                                    ; preds = %if.end.i37
  call void @qemu_iovec_init(ptr noundef nonnull %26, i32 noundef 0) #17
  %.pre.i.i = load i32, ptr %sg, align 8
  %27 = or i32 %.pre.i.i, 1
  br label %nvme_sg_init.exit.i

nvme_sg_init.exit.i:                              ; preds = %if.else.i.i40, %if.then.i.i39
  %or.i.i = phi i32 [ %27, %if.else.i.i40 ], [ 3, %if.then.i.i39 ]
  store i32 %or.i.i, ptr %sg, align 8
  call fastcc void @nvme_sg_split(ptr noundef nonnull %sg.i, ptr noundef nonnull %20, ptr noundef null, ptr noundef nonnull %sg)
  %28 = load i32, ptr %sg.i, align 8
  %and.i.i = and i32 %28, 1
  %tobool.not.i.i = icmp eq i32 %and.i.i, 0
  br i1 %tobool.not.i.i, label %nvme_map_mdata.exit.thread, label %if.end.i.i

if.end.i.i:                                       ; preds = %nvme_sg_init.exit.i
  %and2.i.i = and i32 %28, 2
  %tobool3.not.i.i = icmp eq i32 %and2.i.i, 0
  %29 = getelementptr inbounds %struct.NvmeSg, ptr %sg.i, i64 0, i32 1
  br i1 %tobool3.not.i.i, label %if.else.i18.i, label %if.then4.i.i

if.then4.i.i:                                     ; preds = %if.end.i.i
  call void @qemu_sglist_destroy(ptr noundef nonnull %29) #17
  br label %nvme_map_mdata.exit.thread

if.else.i18.i:                                    ; preds = %if.end.i.i
  call void @qemu_iovec_destroy(ptr noundef nonnull %29) #17
  br label %nvme_map_mdata.exit.thread

nvme_map_mdata.exit.thread:                       ; preds = %nvme_sg_init.exit.i, %if.else.i18.i, %if.then4.i.i
  call void @llvm.lifetime.end.p0(i64 48, ptr nonnull %sg.i)
  br label %if.end28

nvme_map_mdata.exit:                              ; preds = %nvme_sg_unmap.exit
  %30 = getelementptr %struct.NvmeRequest, ptr %opaque, i64 0, i32 6, i32 1
  %cmd12.val.i = load i8, ptr %30, align 1
  %31 = getelementptr %struct.NvmeRequest, ptr %opaque, i64 0, i32 6, i32 5
  %cmd12.val15.i = load i64, ptr %31, align 1
  %call13.i = tail call fastcc zeroext i16 @nvme_map_mptr(ptr noundef %opaque.val.val, ptr noundef nonnull %sg, i64 noundef %mul.i.i33, i8 %cmd12.val.i, i64 %cmd12.val15.i)
  call void @llvm.lifetime.end.p0(i64 48, ptr nonnull %sg.i)
  %tobool26.not = icmp eq i16 %call13.i, 0
  br i1 %tobool26.not, label %if.end28, label %out

if.end28:                                         ; preds = %nvme_map_mdata.exit.thread, %nvme_map_mdata.exit
  %32 = load i8, ptr %cmd, align 8
  %cmp32 = icmp eq i8 %32, 2
  br i1 %cmp32, label %if.then34, label %if.end35

if.then34:                                        ; preds = %if.end28
  call fastcc void @nvme_blk_read(ptr noundef %1, i64 noundef %add.i, i32 noundef 1, ptr noundef nonnull @nvme_rw_complete_cb, ptr noundef nonnull %opaque)
  br label %return

if.end35:                                         ; preds = %if.end28
  call fastcc void @nvme_blk_write(ptr noundef %1, i64 noundef %add.i, i32 noundef 1, ptr noundef nonnull @nvme_rw_complete_cb, ptr noundef nonnull %opaque)
  br label %return

out:                                              ; preds = %nvme_map_mdata.exit.thread43, %nvme_map_mdata.exit, %if.end, %lor.lhs.false, %trace_pci_nvme_rw_cb.exit
  %ret.addr.0 = phi i32 [ %ret, %trace_pci_nvme_rw_cb.exit ], [ 0, %lor.lhs.false ], [ 0, %if.end ], [ -14, %nvme_map_mdata.exit ], [ -14, %nvme_map_mdata.exit.thread43 ]
  call void @nvme_rw_complete_cb(ptr noundef nonnull %opaque, i32 noundef %ret.addr.0)
  br label %return

return:                                           ; preds = %out, %if.end35, %if.then34, %if.then14
  ret void
}

declare ptr @blk_aio_pwrite_zeroes(ptr noundef, i64 noundef, i64 noundef, i32 noundef, ptr noundef, ptr noundef) local_unnamed_addr #1

declare void @block_acct_invalid(ptr noundef, i32 noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc zeroext i16 @nvme_zrm_open_flags(ptr nocapture noundef readonly %n, ptr nocapture noundef %ns, ptr noundef %zone, i32 noundef %flags) unnamed_addr #0 {
entry:
  %0 = getelementptr i8, ptr %zone, i64 1
  %zone.val = load i8, ptr %0, align 1
  %1 = lshr i8 %zone.val, 4
  %shr.i = zext nneg i8 %1 to i32
  switch i32 %shr.i, label %return [
    i32 1, label %sw.bb
    i32 4, label %sw.bb1
    i32 2, label %sw.bb14
    i32 3, label %sw.bb19
  ]

sw.bb:                                            ; preds = %entry
  br label %sw.bb1

sw.bb1:                                           ; preds = %sw.bb, %entry
  %tobool7.not = phi i1 [ true, %entry ], [ false, %sw.bb ]
  %act.0 = phi i32 [ 0, %entry ], [ 1, %sw.bb ]
  %auto_transition_zones = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 4, i32 11
  %2 = load i8, ptr %auto_transition_zones, align 4
  %3 = and i8 %2, 1
  %tobool.not = icmp eq i8 %3, 0
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %sw.bb1
  %max_open_zones.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 30, i32 19
  %4 = load i32, ptr %max_open_zones.i, align 4
  %tobool.not.i = icmp eq i32 %4, 0
  br i1 %tobool.not.i, label %if.end, label %land.lhs.true.i

land.lhs.true.i:                                  ; preds = %if.then
  %nr_open_zones.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 28
  %5 = load i32, ptr %nr_open_zones.i, align 8
  %cmp.i = icmp eq i32 %5, %4
  br i1 %cmp.i, label %if.then.i, label %if.end

if.then.i:                                        ; preds = %land.lhs.true.i
  %imp_open_zones.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 20
  %6 = load ptr, ptr %imp_open_zones.i, align 8
  %tobool3.not.i = icmp eq ptr %6, null
  br i1 %tobool3.not.i, label %if.end, label %do.body.i

do.body.i:                                        ; preds = %if.then.i
  %entry5.i = getelementptr inbounds %struct.NvmeZone, ptr %6, i64 0, i32 2
  %7 = load ptr, ptr %entry5.i, align 8
  %cmp6.not.i = icmp eq ptr %7, null
  %tql_prev13.i = getelementptr inbounds %struct.NvmeZone, ptr %6, i64 0, i32 2, i32 0, i32 1
  %8 = load ptr, ptr %tql_prev13.i, align 8
  %tql_prev15.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 20, i32 0, i32 1
  %tql_prev11.i = getelementptr inbounds %struct.NvmeZone, ptr %7, i64 0, i32 2, i32 0, i32 1
  %tql_prev15.sink.i = select i1 %cmp6.not.i, ptr %tql_prev15.i, ptr %tql_prev11.i
  store ptr %8, ptr %tql_prev15.sink.i, align 8
  %9 = load ptr, ptr %entry5.i, align 8
  store ptr %9, ptr %8, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %entry5.i, i8 0, i64 16, i1 false)
  %call.i = tail call fastcc zeroext i16 @nvme_zrm_close(ptr noundef nonnull %ns, ptr noundef nonnull %6), !range !12
  br label %if.end

if.end:                                           ; preds = %do.body.i, %if.then.i, %land.lhs.true.i, %if.then, %sw.bb1
  %and = lshr i32 %flags, 1
  %and.lobit = and i32 %and, 1
  %call3 = tail call fastcc zeroext i16 @nvme_zns_check_resources(ptr noundef %ns, i32 noundef %act.0, i32 noundef 1, i32 noundef %and.lobit), !range !60
  %tobool4.not = icmp eq i16 %call3, 0
  br i1 %tobool4.not, label %if.end6, label %return

if.end6:                                          ; preds = %if.end
  br i1 %tobool7.not, label %if.end9, label %if.then8

if.then8:                                         ; preds = %if.end6
  %nr_active_zones.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 29
  %10 = load i32, ptr %nr_active_zones.i, align 4
  %cmp.i15 = icmp sgt i32 %10, -1
  br i1 %cmp.i15, label %if.end.i, label %if.else.i

if.else.i:                                        ; preds = %if.then8
  tail call void @__assert_fail(ptr noundef nonnull @.str.43, ptr noundef nonnull @.str.39, i32 noundef 347, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_aor_inc_active) #18
  unreachable

if.end.i:                                         ; preds = %if.then8
  %max_active_zones.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 30, i32 18
  %11 = load i32, ptr %max_active_zones.i, align 8
  %tobool.not.i16 = icmp eq i32 %11, 0
  br i1 %tobool.not.i16, label %if.end9, label %if.then1.i

if.then1.i:                                       ; preds = %if.end.i
  %inc.i = add nuw i32 %10, 1
  store i32 %inc.i, ptr %nr_active_zones.i, align 4
  %cmp6.not.not.i = icmp ult i32 %10, %11
  br i1 %cmp6.not.not.i, label %if.end9, label %if.else8.i

if.else8.i:                                       ; preds = %if.then1.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.223, ptr noundef nonnull @.str.39, i32 noundef 350, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_aor_inc_active) #18
  unreachable

if.end9:                                          ; preds = %if.then1.i, %if.end.i, %if.end6
  %nr_open_zones.i17 = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 28
  %12 = load i32, ptr %nr_open_zones.i17, align 8
  %cmp.i18 = icmp sgt i32 %12, -1
  br i1 %cmp.i18, label %if.end.i20, label %if.else.i19

if.else.i19:                                      ; preds = %if.end9
  tail call void @__assert_fail(ptr noundef nonnull @.str.40, ptr noundef nonnull @.str.39, i32 noundef 329, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_aor_inc_open) #18
  unreachable

if.end.i20:                                       ; preds = %if.end9
  %max_open_zones.i21 = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 30, i32 19
  %13 = load i32, ptr %max_open_zones.i21, align 4
  %tobool.not.i22 = icmp eq i32 %13, 0
  br i1 %tobool.not.i22, label %nvme_aor_inc_open.exit, label %if.then1.i23

if.then1.i23:                                     ; preds = %if.end.i20
  %inc.i24 = add nuw i32 %12, 1
  store i32 %inc.i24, ptr %nr_open_zones.i17, align 8
  %cmp6.not.not.i25 = icmp ult i32 %12, %13
  br i1 %cmp6.not.not.i25, label %nvme_aor_inc_open.exit, label %if.else8.i26

if.else8.i26:                                     ; preds = %if.then1.i23
  tail call void @__assert_fail(ptr noundef nonnull @.str.224, ptr noundef nonnull @.str.39, i32 noundef 332, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_aor_inc_open) #18
  unreachable

nvme_aor_inc_open.exit:                           ; preds = %if.end.i20, %if.then1.i23
  %and10 = and i32 %flags, 1
  %tobool11.not = icmp eq i32 %and10, 0
  br i1 %tobool11.not, label %if.end18, label %if.then12

if.then12:                                        ; preds = %nvme_aor_inc_open.exit
  %entry1.i = getelementptr inbounds %struct.NvmeZone, ptr %zone, i64 0, i32 2
  %tql_prev.i = getelementptr inbounds %struct.NvmeZone, ptr %zone, i64 0, i32 2, i32 0, i32 1
  %14 = load ptr, ptr %tql_prev.i, align 8
  %cmp.not.i = icmp eq ptr %14, null
  br i1 %cmp.not.i, label %nvme_assign_zone_state.exit, label %if.then.i27

if.then.i27:                                      ; preds = %if.then12
  %zone.val.i = load i8, ptr %0, align 1
  %15 = lshr i8 %zone.val.i, 4
  %shr.i.i = zext nneg i8 %15 to i32
  switch i32 %shr.i.i, label %nvme_assign_zone_state.exit [
    i32 3, label %do.body.i28
    i32 2, label %do.body22.i
    i32 4, label %do.body47.i
    i32 14, label %do.body72.i
  ]

do.body.i28:                                      ; preds = %if.then.i27
  %16 = load ptr, ptr %entry1.i, align 8
  %cmp3.not.i = icmp eq ptr %16, null
  %tql_prev12.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 19, i32 0, i32 1
  %tql_prev9.i = getelementptr inbounds %struct.NvmeZone, ptr %16, i64 0, i32 2, i32 0, i32 1
  %tql_prev12.sink.i = select i1 %cmp3.not.i, ptr %tql_prev12.i, ptr %tql_prev9.i
  br label %if.end96.sink.split.i

do.body22.i:                                      ; preds = %if.then.i27
  %17 = load ptr, ptr %entry1.i, align 8
  %cmp24.not.i = icmp eq ptr %17, null
  %tql_prev34.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 20, i32 0, i32 1
  %tql_prev30.i = getelementptr inbounds %struct.NvmeZone, ptr %17, i64 0, i32 2, i32 0, i32 1
  %tql_prev34.sink.i = select i1 %cmp24.not.i, ptr %tql_prev34.i, ptr %tql_prev30.i
  br label %if.end96.sink.split.i

do.body47.i:                                      ; preds = %if.then.i27
  %18 = load ptr, ptr %entry1.i, align 8
  %cmp49.not.i = icmp eq ptr %18, null
  %tql_prev59.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 21, i32 0, i32 1
  %tql_prev55.i = getelementptr inbounds %struct.NvmeZone, ptr %18, i64 0, i32 2, i32 0, i32 1
  %tql_prev59.sink.i = select i1 %cmp49.not.i, ptr %tql_prev59.i, ptr %tql_prev55.i
  br label %if.end96.sink.split.i

do.body72.i:                                      ; preds = %if.then.i27
  %19 = load ptr, ptr %entry1.i, align 8
  %cmp74.not.i = icmp eq ptr %19, null
  %tql_prev84.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 22, i32 0, i32 1
  %tql_prev80.i = getelementptr inbounds %struct.NvmeZone, ptr %19, i64 0, i32 2, i32 0, i32 1
  %tql_prev84.sink.i = select i1 %cmp74.not.i, ptr %tql_prev84.i, ptr %tql_prev80.i
  br label %if.end96.sink.split.i

if.end96.sink.split.i:                            ; preds = %do.body72.i, %do.body47.i, %do.body22.i, %do.body.i28
  %tql_prev12.sink.sink.i = phi ptr [ %tql_prev12.sink.i, %do.body.i28 ], [ %tql_prev34.sink.i, %do.body22.i ], [ %tql_prev59.sink.i, %do.body47.i ], [ %tql_prev84.sink.i, %do.body72.i ]
  store ptr %14, ptr %tql_prev12.sink.sink.i, align 8
  %20 = load ptr, ptr %entry1.i, align 8
  %21 = load ptr, ptr %tql_prev.i, align 8
  store ptr %20, ptr %21, align 8
  %22 = getelementptr inbounds %struct.NvmeZone, ptr %zone, i64 0, i32 2, i32 0, i32 1
  store i64 0, ptr %22, align 8
  br label %nvme_assign_zone_state.exit

nvme_assign_zone_state.exit:                      ; preds = %if.then12, %if.then.i27, %if.end96.sink.split.i
  store i8 32, ptr %0, align 1
  store ptr null, ptr %entry1.i, align 8
  %tql_prev115.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 20, i32 0, i32 1
  %23 = load ptr, ptr %tql_prev115.i, align 8
  store ptr %23, ptr %tql_prev.i, align 8
  store ptr %zone, ptr %23, align 8
  store ptr %entry1.i, ptr %tql_prev115.i, align 8
  br label %return

sw.bb14:                                          ; preds = %entry
  %.pre = and i32 %flags, 1
  %24 = icmp eq i32 %.pre, 0
  br i1 %24, label %if.end18, label %return

if.end18:                                         ; preds = %nvme_aor_inc_open.exit, %sw.bb14
  %entry1.i29 = getelementptr inbounds %struct.NvmeZone, ptr %zone, i64 0, i32 2
  %tql_prev.i30 = getelementptr inbounds %struct.NvmeZone, ptr %zone, i64 0, i32 2, i32 0, i32 1
  %25 = load ptr, ptr %tql_prev.i30, align 8
  %cmp.not.i31 = icmp eq ptr %25, null
  br i1 %cmp.not.i31, label %nvme_assign_zone_state.exit58, label %if.then.i32

if.then.i32:                                      ; preds = %if.end18
  %zone.val.i33 = load i8, ptr %0, align 1
  %26 = lshr i8 %zone.val.i33, 4
  %shr.i.i34 = zext nneg i8 %26 to i32
  switch i32 %shr.i.i34, label %nvme_assign_zone_state.exit58 [
    i32 3, label %do.body.i53
    i32 2, label %do.body22.i48
    i32 4, label %do.body47.i43
    i32 14, label %do.body72.i35
  ]

do.body.i53:                                      ; preds = %if.then.i32
  %27 = load ptr, ptr %entry1.i29, align 8
  %cmp3.not.i54 = icmp eq ptr %27, null
  %tql_prev12.i55 = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 19, i32 0, i32 1
  %tql_prev9.i56 = getelementptr inbounds %struct.NvmeZone, ptr %27, i64 0, i32 2, i32 0, i32 1
  %tql_prev12.sink.i57 = select i1 %cmp3.not.i54, ptr %tql_prev12.i55, ptr %tql_prev9.i56
  br label %if.end96.sink.split.i40

do.body22.i48:                                    ; preds = %if.then.i32
  %28 = load ptr, ptr %entry1.i29, align 8
  %cmp24.not.i49 = icmp eq ptr %28, null
  %tql_prev34.i50 = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 20, i32 0, i32 1
  %tql_prev30.i51 = getelementptr inbounds %struct.NvmeZone, ptr %28, i64 0, i32 2, i32 0, i32 1
  %tql_prev34.sink.i52 = select i1 %cmp24.not.i49, ptr %tql_prev34.i50, ptr %tql_prev30.i51
  br label %if.end96.sink.split.i40

do.body47.i43:                                    ; preds = %if.then.i32
  %29 = load ptr, ptr %entry1.i29, align 8
  %cmp49.not.i44 = icmp eq ptr %29, null
  %tql_prev59.i45 = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 21, i32 0, i32 1
  %tql_prev55.i46 = getelementptr inbounds %struct.NvmeZone, ptr %29, i64 0, i32 2, i32 0, i32 1
  %tql_prev59.sink.i47 = select i1 %cmp49.not.i44, ptr %tql_prev59.i45, ptr %tql_prev55.i46
  br label %if.end96.sink.split.i40

do.body72.i35:                                    ; preds = %if.then.i32
  %30 = load ptr, ptr %entry1.i29, align 8
  %cmp74.not.i36 = icmp eq ptr %30, null
  %tql_prev84.i37 = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 22, i32 0, i32 1
  %tql_prev80.i38 = getelementptr inbounds %struct.NvmeZone, ptr %30, i64 0, i32 2, i32 0, i32 1
  %tql_prev84.sink.i39 = select i1 %cmp74.not.i36, ptr %tql_prev84.i37, ptr %tql_prev80.i38
  br label %if.end96.sink.split.i40

if.end96.sink.split.i40:                          ; preds = %do.body72.i35, %do.body47.i43, %do.body22.i48, %do.body.i53
  %tql_prev12.sink.sink.i41 = phi ptr [ %tql_prev12.sink.i57, %do.body.i53 ], [ %tql_prev34.sink.i52, %do.body22.i48 ], [ %tql_prev59.sink.i47, %do.body47.i43 ], [ %tql_prev84.sink.i39, %do.body72.i35 ]
  store ptr %25, ptr %tql_prev12.sink.sink.i41, align 8
  %31 = load ptr, ptr %entry1.i29, align 8
  %32 = load ptr, ptr %tql_prev.i30, align 8
  store ptr %31, ptr %32, align 8
  %33 = getelementptr inbounds %struct.NvmeZone, ptr %zone, i64 0, i32 2, i32 0, i32 1
  store i64 0, ptr %33, align 8
  br label %nvme_assign_zone_state.exit58

nvme_assign_zone_state.exit58:                    ; preds = %if.end18, %if.then.i32, %if.end96.sink.split.i40
  store i8 48, ptr %0, align 1
  store ptr null, ptr %entry1.i29, align 8
  %tql_prev101.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 19, i32 0, i32 1
  %34 = load ptr, ptr %tql_prev101.i, align 8
  store ptr %34, ptr %tql_prev.i30, align 8
  store ptr %zone, ptr %34, align 8
  store ptr %entry1.i29, ptr %tql_prev101.i, align 8
  br label %sw.bb19

sw.bb19:                                          ; preds = %nvme_assign_zone_state.exit58, %entry
  %and20 = and i32 %flags, 2
  %tobool21.not = icmp eq i32 %and20, 0
  br i1 %tobool21.not, label %return, label %if.then22

if.then22:                                        ; preds = %sw.bb19
  %numzrwa = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 15, i32 2
  %35 = load i32, ptr %numzrwa, align 4
  %dec = add i32 %35, -1
  store i32 %dec, ptr %numzrwa, align 4
  %za = getelementptr inbounds %struct.NvmeZoneDescr, ptr %zone, i64 0, i32 2
  %36 = load i8, ptr %za, align 2
  %37 = or i8 %36, 8
  store i8 %37, ptr %za, align 2
  br label %return

return:                                           ; preds = %entry, %sw.bb19, %if.then22, %sw.bb14, %if.end, %nvme_assign_zone_state.exit
  %retval.0 = phi i16 [ 0, %nvme_assign_zone_state.exit ], [ %call3, %if.end ], [ 0, %sw.bb14 ], [ 0, %if.then22 ], [ 0, %sw.bb19 ], [ 447, %entry ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc zeroext i16 @nvme_zns_check_resources(ptr nocapture noundef readonly %ns, i32 noundef %act, i32 noundef %opn, i32 noundef %zrwa) unnamed_addr #0 {
entry:
  %_now.i.i10 = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %max_active_zones = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 30, i32 18
  %0 = load i32, ptr %max_active_zones, align 8
  %cmp.not = icmp eq i32 %0, 0
  br i1 %cmp.not, label %if.end, label %land.lhs.true

land.lhs.true:                                    ; preds = %entry
  %nr_active_zones = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 29
  %1 = load i32, ptr %nr_active_zones, align 4
  %add = add i32 %1, %act
  %cmp3 = icmp ugt i32 %add, %0
  br i1 %cmp3, label %if.then, label %if.end

if.then:                                          ; preds = %land.lhs.true
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %2 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %2, 0
  %3 = load i16, ptr @_TRACE_PCI_NVME_ERR_INSUFF_ACTIVE_RES_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %3, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_err_insuff_active_res.exit

land.lhs.true5.i.i:                               ; preds = %if.then
  %4 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %4, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_err_insuff_active_res.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %5 = load i8, ptr @message_with_timestamp, align 1
  %6 = and i8 %5, 1
  %tobool7.not.i.i = icmp eq i8 %6, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %7 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %8 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.219, i32 noundef %call10.i.i, i64 noundef %7, i64 noundef %8, i32 noundef %0) #17
  br label %trace_pci_nvme_err_insuff_active_res.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.220, i32 noundef %0) #17
  br label %trace_pci_nvme_err_insuff_active_res.exit

trace_pci_nvme_err_insuff_active_res.exit:        ; preds = %if.then, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  br label %return

if.end:                                           ; preds = %land.lhs.true, %entry
  %max_open_zones = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 30, i32 19
  %9 = load i32, ptr %max_open_zones, align 4
  %cmp7.not = icmp eq i32 %9, 0
  br i1 %cmp7.not, label %if.end16, label %land.lhs.true8

land.lhs.true8:                                   ; preds = %if.end
  %nr_open_zones = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 28
  %10 = load i32, ptr %nr_open_zones, align 8
  %add9 = add i32 %10, %opn
  %cmp12 = icmp ugt i32 %add9, %9
  br i1 %cmp12, label %if.then13, label %if.end16

if.then13:                                        ; preds = %land.lhs.true8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i10)
  %11 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i11 = icmp ne i32 %11, 0
  %12 = load i16, ptr @_TRACE_PCI_NVME_ERR_INSUFF_OPEN_RES_DSTATE, align 2
  %tobool4.i.i12 = icmp ne i16 %12, 0
  %or.cond.i.i13 = select i1 %tobool.i.i11, i1 %tobool4.i.i12, i1 false
  br i1 %or.cond.i.i13, label %land.lhs.true5.i.i14, label %trace_pci_nvme_err_insuff_open_res.exit

land.lhs.true5.i.i14:                             ; preds = %if.then13
  %13 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i15 = and i32 %13, 32768
  %cmp.i.not.i.i16 = icmp eq i32 %and.i.i.i15, 0
  br i1 %cmp.i.not.i.i16, label %trace_pci_nvme_err_insuff_open_res.exit, label %if.then.i.i17

if.then.i.i17:                                    ; preds = %land.lhs.true5.i.i14
  %14 = load i8, ptr @message_with_timestamp, align 1
  %15 = and i8 %14, 1
  %tobool7.not.i.i18 = icmp eq i8 %15, 0
  br i1 %tobool7.not.i.i18, label %if.else.i.i23, label %if.then8.i.i19

if.then8.i.i19:                                   ; preds = %if.then.i.i17
  %call9.i.i20 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i10, ptr noundef null) #17
  %call10.i.i21 = tail call i32 @qemu_get_thread_id() #17
  %16 = load i64, ptr %_now.i.i10, align 8
  %tv_usec.i.i22 = getelementptr inbounds %struct.timeval, ptr %_now.i.i10, i64 0, i32 1
  %17 = load i64, ptr %tv_usec.i.i22, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.221, i32 noundef %call10.i.i21, i64 noundef %16, i64 noundef %17, i32 noundef %9) #17
  br label %trace_pci_nvme_err_insuff_open_res.exit

if.else.i.i23:                                    ; preds = %if.then.i.i17
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.222, i32 noundef %9) #17
  br label %trace_pci_nvme_err_insuff_open_res.exit

trace_pci_nvme_err_insuff_open_res.exit:          ; preds = %if.then13, %land.lhs.true5.i.i14, %if.then8.i.i19, %if.else.i.i23
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i10)
  br label %return

if.end16:                                         ; preds = %land.lhs.true8, %if.end
  %numzrwa = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 15, i32 2
  %18 = load i32, ptr %numzrwa, align 4
  %cmp17 = icmp ult i32 %18, %zrwa
  %. = select i1 %cmp17, i16 16823, i16 0
  br label %return

return:                                           ; preds = %if.end16, %trace_pci_nvme_err_insuff_open_res.exit, %trace_pci_nvme_err_insuff_active_res.exit
  %retval.0 = phi i16 [ 16829, %trace_pci_nvme_err_insuff_active_res.exit ], [ 16830, %trace_pci_nvme_err_insuff_open_res.exit ], [ %., %if.end16 ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_zrm_close(ptr nocapture noundef %ns, ptr noundef %zone) unnamed_addr #0 {
entry:
  %0 = getelementptr i8, ptr %zone, i64 1
  %zone.val = load i8, ptr %0, align 1
  %1 = lshr i8 %zone.val, 4
  %shr.i = zext nneg i8 %1 to i32
  switch i32 %shr.i, label %sw.default [
    i32 3, label %sw.bb
    i32 2, label %sw.bb
    i32 4, label %return
  ]

sw.bb:                                            ; preds = %entry, %entry
  %max_open_zones.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 30, i32 19
  %2 = load i32, ptr %max_open_zones.i, align 4
  %tobool.not.i = icmp eq i32 %2, 0
  %nr_open_zones4.phi.trans.insert.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 28
  %.pre.i = load i32, ptr %nr_open_zones4.phi.trans.insert.i, align 8
  br i1 %tobool.not.i, label %if.end3.i, label %if.then.i

if.then.i:                                        ; preds = %sw.bb
  %cmp.i = icmp sgt i32 %.pre.i, 0
  br i1 %cmp.i, label %if.end3.thread.i, label %if.else.i

if.else.i:                                        ; preds = %if.then.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.38, ptr noundef nonnull @.str.39, i32 noundef 339, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_aor_dec_open) #18
  unreachable

if.end3.thread.i:                                 ; preds = %if.then.i
  %dec.i = add nsw i32 %.pre.i, -1
  store i32 %dec.i, ptr %nr_open_zones4.phi.trans.insert.i, align 8
  br label %nvme_aor_dec_open.exit

if.end3.i:                                        ; preds = %sw.bb
  %3 = icmp sgt i32 %.pre.i, -1
  br i1 %3, label %nvme_aor_dec_open.exit, label %if.else7.i

if.else7.i:                                       ; preds = %if.end3.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.40, ptr noundef nonnull @.str.39, i32 noundef 342, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_aor_dec_open) #18
  unreachable

nvme_aor_dec_open.exit:                           ; preds = %if.end3.thread.i, %if.end3.i
  %entry1.i = getelementptr inbounds %struct.NvmeZone, ptr %zone, i64 0, i32 2
  %tql_prev.i = getelementptr inbounds %struct.NvmeZone, ptr %zone, i64 0, i32 2, i32 0, i32 1
  %4 = load ptr, ptr %tql_prev.i, align 8
  %cmp.not.i = icmp eq ptr %4, null
  br i1 %cmp.not.i, label %nvme_assign_zone_state.exit, label %if.then.i3

if.then.i3:                                       ; preds = %nvme_aor_dec_open.exit
  %zone.val.i = load i8, ptr %0, align 1
  %5 = lshr i8 %zone.val.i, 4
  %shr.i.i = zext nneg i8 %5 to i32
  switch i32 %shr.i.i, label %nvme_assign_zone_state.exit [
    i32 3, label %do.body.i
    i32 2, label %do.body22.i
    i32 4, label %do.body47.i
    i32 14, label %do.body72.i
  ]

do.body.i:                                        ; preds = %if.then.i3
  %6 = load ptr, ptr %entry1.i, align 8
  %cmp3.not.i = icmp eq ptr %6, null
  %tql_prev12.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 19, i32 0, i32 1
  %tql_prev9.i = getelementptr inbounds %struct.NvmeZone, ptr %6, i64 0, i32 2, i32 0, i32 1
  %tql_prev12.sink.i = select i1 %cmp3.not.i, ptr %tql_prev12.i, ptr %tql_prev9.i
  br label %if.end96.sink.split.i

do.body22.i:                                      ; preds = %if.then.i3
  %7 = load ptr, ptr %entry1.i, align 8
  %cmp24.not.i = icmp eq ptr %7, null
  %tql_prev34.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 20, i32 0, i32 1
  %tql_prev30.i = getelementptr inbounds %struct.NvmeZone, ptr %7, i64 0, i32 2, i32 0, i32 1
  %tql_prev34.sink.i = select i1 %cmp24.not.i, ptr %tql_prev34.i, ptr %tql_prev30.i
  br label %if.end96.sink.split.i

do.body47.i:                                      ; preds = %if.then.i3
  %8 = load ptr, ptr %entry1.i, align 8
  %cmp49.not.i = icmp eq ptr %8, null
  %tql_prev59.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 21, i32 0, i32 1
  %tql_prev55.i = getelementptr inbounds %struct.NvmeZone, ptr %8, i64 0, i32 2, i32 0, i32 1
  %tql_prev59.sink.i = select i1 %cmp49.not.i, ptr %tql_prev59.i, ptr %tql_prev55.i
  br label %if.end96.sink.split.i

do.body72.i:                                      ; preds = %if.then.i3
  %9 = load ptr, ptr %entry1.i, align 8
  %cmp74.not.i = icmp eq ptr %9, null
  %tql_prev84.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 22, i32 0, i32 1
  %tql_prev80.i = getelementptr inbounds %struct.NvmeZone, ptr %9, i64 0, i32 2, i32 0, i32 1
  %tql_prev84.sink.i = select i1 %cmp74.not.i, ptr %tql_prev84.i, ptr %tql_prev80.i
  br label %if.end96.sink.split.i

if.end96.sink.split.i:                            ; preds = %do.body72.i, %do.body47.i, %do.body22.i, %do.body.i
  %tql_prev12.sink.sink.i = phi ptr [ %tql_prev12.sink.i, %do.body.i ], [ %tql_prev34.sink.i, %do.body22.i ], [ %tql_prev59.sink.i, %do.body47.i ], [ %tql_prev84.sink.i, %do.body72.i ]
  store ptr %4, ptr %tql_prev12.sink.sink.i, align 8
  %10 = load ptr, ptr %entry1.i, align 8
  %11 = load ptr, ptr %tql_prev.i, align 8
  store ptr %10, ptr %11, align 8
  %12 = getelementptr inbounds %struct.NvmeZone, ptr %zone, i64 0, i32 2, i32 0, i32 1
  store i64 0, ptr %12, align 8
  br label %nvme_assign_zone_state.exit

nvme_assign_zone_state.exit:                      ; preds = %nvme_aor_dec_open.exit, %if.then.i3, %if.end96.sink.split.i
  store i8 64, ptr %0, align 1
  store ptr null, ptr %entry1.i, align 8
  %tql_prev129.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 21, i32 0, i32 1
  %13 = load ptr, ptr %tql_prev129.i, align 8
  store ptr %13, ptr %tql_prev.i, align 8
  store ptr %zone, ptr %13, align 8
  store ptr %entry1.i, ptr %tql_prev129.i, align 8
  br label %return

sw.default:                                       ; preds = %entry
  br label %return

return:                                           ; preds = %entry, %nvme_assign_zone_state.exit, %sw.default
  %retval.0 = phi i16 [ 447, %sw.default ], [ 0, %nvme_assign_zone_state.exit ], [ 0, %entry ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i1 @nvme_update_ruh(ptr nocapture noundef readonly %n, ptr nocapture noundef readonly %ns, i16 noundef zeroext %pid) unnamed_addr #0 {
entry:
  %endgrp1 = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 32
  %0 = load ptr, ptr %endgrp1, align 8
  %1 = getelementptr i8, ptr %0, i64 8100
  %ns.val.val.i = load i8, ptr %1, align 4
  %tobool.not.i.i = icmp eq i8 %ns.val.val.i, 0
  %conv2.i.i = zext i16 %pid to i32
  %conv3.i.i = zext i8 %ns.val.val.i to i32
  %sub.i.i = sub nsw i32 16, %conv3.i.i
  %shr.i.i = lshr i32 %conv2.i.i, %sub.i.i
  %conv4.i.i = trunc i32 %shr.i.i to i16
  %retval.0.i.i = select i1 %tobool.not.i.i, i16 0, i16 %conv4.i.i
  %sub.i11.i = sub nsw i32 15, %conv3.i.i
  %notmask.i.i = shl nsw i32 -1, %sub.i11.i
  %2 = trunc i32 %notmask.i.i to i16
  %3 = xor i16 %2, -1
  %conv5.i.i = select i1 %tobool.not.i.i, i16 -1, i16 %3
  %retval.0.i12.i = and i16 %conv5.i.i, %pid
  %4 = getelementptr i8, ptr %ns, i64 8792
  %ns.val8.i = load i16, ptr %4, align 8
  %cmp.i.i = icmp ugt i16 %ns.val8.i, %retval.0.i12.i
  br i1 %cmp.i.i, label %nvme_parse_pid.exit, label %return

nvme_parse_pid.exit:                              ; preds = %entry
  %5 = getelementptr i8, ptr %0, i64 8098
  %.val.i = load i16, ptr %5, align 2
  %cmp.i13.i = icmp ugt i16 %.val.i, %retval.0.i.i
  br i1 %cmp.i13.i, label %if.end, label %return

if.end:                                           ; preds = %nvme_parse_pid.exit
  %phs = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 34, i32 1
  %6 = load ptr, ptr %phs, align 8
  %idxprom = zext i16 %retval.0.i12.i to i64
  %arrayidx = getelementptr i16, ptr %6, i64 %idxprom
  %7 = load i16, ptr %arrayidx, align 2
  %fdp2 = getelementptr inbounds %struct.NvmeEnduranceGroup, ptr %0, i64 0, i32 1
  %ruhs = getelementptr inbounds %struct.NvmeEnduranceGroup, ptr %0, i64 0, i32 1, i32 10
  %8 = load ptr, ptr %ruhs, align 8
  %idxprom3 = zext i16 %7 to i64
  %rus = getelementptr %struct.NvmeRuHandle, ptr %8, i64 %idxprom3, i32 5
  %9 = load ptr, ptr %rus, align 8
  %idxprom5 = zext i16 %retval.0.i.i to i64
  %arrayidx6 = getelementptr %struct.NvmeReclaimUnit, ptr %9, i64 %idxprom5
  %10 = load i64, ptr %arrayidx6, align 8
  %tobool.not = icmp eq i64 %10, 0
  br i1 %tobool.not, label %if.end24, label %if.then7

if.then7:                                         ; preds = %if.end
  %11 = getelementptr %struct.NvmeRuHandle, ptr %8, i64 %idxprom3, i32 2
  %arrayidx4.val = load i64, ptr %11, align 8
  %conv1.i20 = and i64 %arrayidx4.val, 1
  %tobool9.not = icmp eq i64 %conv1.i20, 0
  br i1 %tobool9.not, label %if.end20, label %if.then10

if.then10:                                        ; preds = %if.then7
  %next.i = getelementptr inbounds %struct.NvmeEnduranceGroup, ptr %0, i64 0, i32 1, i32 0, i32 3
  %12 = load i32, ptr %next.i, align 4
  %start.i = getelementptr inbounds %struct.NvmeEnduranceGroup, ptr %0, i64 0, i32 1, i32 0, i32 2
  %13 = load i32, ptr %start.i, align 4
  %cmp.i = icmp eq i32 %12, %13
  br i1 %cmp.i, label %land.end.i, label %land.end.thread.i

land.end.thread.i:                                ; preds = %if.then10
  %inc13.i = add i32 %12, 1
  %cmp314.i = icmp eq i32 %inc13.i, 63
  %spec.select15.i = select i1 %cmp314.i, i32 0, i32 %inc13.i
  store i32 %spec.select15.i, ptr %next.i, align 4
  %nelems11.phi.trans.insert.i = getelementptr inbounds %struct.NvmeEnduranceGroup, ptr %0, i64 0, i32 1, i32 0, i32 1
  %.pre.i = load i32, ptr %nelems11.phi.trans.insert.i, align 4
  %14 = add i32 %.pre.i, 1
  br label %if.else.i

land.end.i:                                       ; preds = %if.then10
  %nelems.i = getelementptr inbounds %struct.NvmeEnduranceGroup, ptr %0, i64 0, i32 1, i32 0, i32 1
  %15 = load i32, ptr %nelems.i, align 4
  %tobool.not.i = icmp eq i32 %15, 0
  %inc.i = add i32 %12, 1
  %cmp3.i = icmp eq i32 %inc.i, 63
  %spec.select.i = select i1 %cmp3.i, i32 0, i32 %inc.i
  store i32 %spec.select.i, ptr %next.i, align 4
  br i1 %tobool.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %land.end.i
  store i32 %spec.select.i, ptr %start.i, align 4
  br label %nvme_fdp_alloc_event.exit

if.else.i:                                        ; preds = %land.end.i, %land.end.thread.i
  %inc12.i = phi i32 [ %14, %land.end.thread.i ], [ 1, %land.end.i ]
  %nelems11.i = getelementptr inbounds %struct.NvmeEnduranceGroup, ptr %0, i64 0, i32 1, i32 0, i32 1
  store i32 %inc12.i, ptr %nelems11.i, align 4
  br label %nvme_fdp_alloc_event.exit

nvme_fdp_alloc_event.exit:                        ; preds = %if.then8.i, %if.else.i
  %idxprom.i = zext i32 %12 to i64
  %arrayidx.i = getelementptr [63 x %struct.NvmeFdpEvent], ptr %fdp2, i64 0, i64 %idxprom.i
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 1 dereferenceable(64) %arrayidx.i, i8 0, i64 64, i1 false)
  %call.i = tail call fastcc i64 @nvme_get_timestamp(ptr noundef %n)
  %timestamp.i = getelementptr [63 x %struct.NvmeFdpEvent], ptr %fdp2, i64 0, i64 %idxprom.i, i32 3
  store i64 %call.i, ptr %timestamp.i, align 1
  store i8 0, ptr %arrayidx.i, align 1
  %flags = getelementptr [63 x %struct.NvmeFdpEvent], ptr %fdp2, i64 0, i64 %idxprom.i, i32 1
  store i8 7, ptr %flags, align 1
  %pid14 = getelementptr [63 x %struct.NvmeFdpEvent], ptr %fdp2, i64 0, i64 %idxprom.i, i32 2
  store i16 %pid, ptr %pid14, align 1
  %nsid = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 30, i32 2
  %16 = load i32, ptr %nsid, align 4
  %nsid16 = getelementptr [63 x %struct.NvmeFdpEvent], ptr %fdp2, i64 0, i64 %idxprom.i, i32 4
  store i32 %16, ptr %nsid16, align 1
  %rgid = getelementptr [63 x %struct.NvmeFdpEvent], ptr %fdp2, i64 0, i64 %idxprom.i, i32 6
  store i16 %retval.0.i.i, ptr %rgid, align 1
  %conv = trunc i16 %7 to i8
  %ruhid19 = getelementptr [63 x %struct.NvmeFdpEvent], ptr %fdp2, i64 0, i64 %idxprom.i, i32 7
  store i8 %conv, ptr %ruhid19, align 1
  %.pre = load i64, ptr %arrayidx6, align 8
  br label %if.end20

if.end20:                                         ; preds = %nvme_fdp_alloc_event.exit, %if.then7
  %17 = phi i64 [ %.pre, %nvme_fdp_alloc_event.exit ], [ %10, %if.then7 ]
  %mbmw = getelementptr inbounds %struct.NvmeEnduranceGroup, ptr %0, i64 0, i32 1, i32 7
  %18 = getelementptr i8, ptr %ns, i64 8466
  %ns.val = load i8, ptr %18, align 2
  %sh_prom.i = zext nneg i8 %ns.val to i64
  %shl.i = shl i64 %17, %sh_prom.i
  %19 = load i64, ptr %mbmw, align 8
  %cond.i = tail call i64 @llvm.uadd.sat.i64(i64 %19, i64 %shl.i)
  store i64 %cond.i, ptr %mbmw, align 8
  br label %if.end24

if.end24:                                         ; preds = %if.end20, %if.end
  %ruamw25 = getelementptr %struct.NvmeRuHandle, ptr %8, i64 %idxprom3, i32 4
  %20 = load i64, ptr %ruamw25, align 8
  store i64 %20, ptr %arrayidx6, align 8
  br label %return

return:                                           ; preds = %entry, %nvme_parse_pid.exit, %if.end24
  %21 = phi i1 [ false, %nvme_parse_pid.exit ], [ true, %if.end24 ], [ false, %entry ]
  ret i1 %21
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc i64 @nvme_get_timestamp(ptr nocapture noundef readonly %n) unnamed_addr #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %call.i = tail call i64 @qemu_clock_get_ns(i32 noundef 1) #17
  %div.i = sdiv i64 %call.i, 1000000
  %timestamp_set_qemu_clock_ms = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 16
  %0 = load i64, ptr %timestamp_set_qemu_clock_ms, align 16
  %sub = sub i64 %div.i, %0
  %host_timestamp = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 15
  %1 = load i64, ptr %host_timestamp, align 8
  %add = add i64 %sub, %1
  %bf.value = and i64 %add, 281474976710655
  %tobool.not.not = icmp eq i64 %1, 0
  %bf.shl = select i1 %tobool.not.not, i64 0, i64 562949953421312
  %bf.set5 = or disjoint i64 %bf.value, %bf.shl
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %2 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %2, 0
  %3 = load i16, ptr @_TRACE_PCI_NVME_GETFEAT_TIMESTAMP_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %3, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_getfeat_timestamp.exit

land.lhs.true5.i.i:                               ; preds = %entry
  %4 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %4, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_getfeat_timestamp.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %5 = load i8, ptr @message_with_timestamp, align 1
  %6 = and i8 %5, 1
  %tobool7.not.i.i = icmp eq i8 %6, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %7 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %8 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.226, i32 noundef %call10.i.i, i64 noundef %7, i64 noundef %8, i64 noundef %bf.set5) #17
  br label %trace_pci_nvme_getfeat_timestamp.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.227, i64 noundef %bf.set5) #17
  br label %trace_pci_nvme_getfeat_timestamp.exit

trace_pci_nvme_getfeat_timestamp.exit:            ; preds = %entry, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  ret i64 %bf.set5
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @nvme_sg_split(ptr nocapture noundef readonly %sg, ptr nocapture noundef readonly %ns, ptr noundef %data, ptr noundef %mdata) unnamed_addr #0 {
entry:
  %lbasz = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 9
  %0 = load i64, ptr %lbasz, align 8
  %conv = trunc i64 %0 to i32
  %1 = load i32, ptr %sg, align 8
  %.fr = freeze i32 %1
  %and = and i32 %.fr, 2
  %tobool.not = icmp eq i32 %and, 0
  %size = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1, i32 0, i32 3
  %size3 = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1, i32 0, i32 5
  %cond.in = select i1 %tobool.not, ptr %size3, ptr %size
  %cond = load i64, ptr %cond.in, align 8
  %and5 = and i32 %.fr, 1
  %tobool6.not = icmp eq i32 %and5, 0
  br i1 %tobool6.not, label %if.else, label %while.cond.preheader

while.cond.preheader:                             ; preds = %entry
  %tobool7.not42 = icmp eq i64 %cond, 0
  br i1 %tobool7.not42, label %while.end, label %while.body.lr.ph

while.body.lr.ph:                                 ; preds = %while.cond.preheader
  %2 = getelementptr inbounds %struct.NvmeSg, ptr %sg, i64 0, i32 1
  %lbaf = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 7
  br i1 %tobool.not, label %while.body.us, label %while.body

while.body.us:                                    ; preds = %while.body.lr.ph, %if.end71.us
  %dst.047.us = phi ptr [ %dst.1.us, %if.end71.us ], [ %data, %while.body.lr.ph ]
  %count.046.us = phi i32 [ %count.1.us, %if.end71.us ], [ %conv, %while.body.lr.ph ]
  %offset.045.us = phi i64 [ %spec.select41.us, %if.end71.us ], [ 0, %while.body.lr.ph ]
  %sg_len.044.us = phi i64 [ %sub49.us, %if.end71.us ], [ %cond, %while.body.lr.ph ]
  %sg_idx.043.us = phi i32 [ %spec.select.us, %if.end71.us ], [ 0, %while.body.lr.ph ]
  %3 = load ptr, ptr %2, align 8
  %idxprom13.us = sext i32 %sg_idx.043.us to i64
  %iov_len.us = getelementptr %struct.iovec, ptr %3, i64 %idxprom13.us, i32 1
  %cond16.us = load i64, ptr %iov_len.us, align 8
  %conv17.us = zext i32 %count.046.us to i64
  %cond22.us = tail call i64 @llvm.umin.i64(i64 %sg_len.044.us, i64 %conv17.us)
  %sub.us = sub i64 %cond16.us, %offset.045.us
  %cond31.us = tail call i64 @llvm.umin.i64(i64 %cond22.us, i64 %sub.us)
  %conv32.us = trunc i64 %cond31.us to i32
  %tobool33.not.us = icmp eq ptr %dst.047.us, null
  br i1 %tobool33.not.us, label %if.end47.us, label %if.then34.us

if.then34.us:                                     ; preds = %while.body.us
  %4 = getelementptr inbounds %struct.NvmeSg, ptr %dst.047.us, i64 0, i32 1
  %arrayidx44.us = getelementptr %struct.iovec, ptr %3, i64 %idxprom13.us
  %5 = load ptr, ptr %arrayidx44.us, align 8
  %add.ptr.us = getelementptr i8, ptr %5, i64 %offset.045.us
  tail call void @qemu_iovec_add(ptr noundef nonnull %4, ptr noundef %add.ptr.us, i64 noundef %cond31.us) #17
  br label %if.end47.us

if.end47.us:                                      ; preds = %if.then34.us, %while.body.us
  %sub49.us = sub i64 %sg_len.044.us, %cond31.us
  %sub50.us = sub i32 %count.046.us, %conv32.us
  %add52.us = add i64 %cond31.us, %offset.045.us
  %cmp53.us = icmp eq i32 %sub50.us, 0
  br i1 %cmp53.us, label %if.then55.us, label %if.end71.us

if.then55.us:                                     ; preds = %if.end47.us
  %cmp56.us = icmp eq ptr %dst.047.us, %data
  %cond61.us = select i1 %cmp56.us, ptr %mdata, ptr %data
  %cmp62.us = icmp eq ptr %cond61.us, %data
  br i1 %cmp62.us, label %cond.true64.us, label %cond.false66.us

cond.false66.us:                                  ; preds = %if.then55.us
  %6 = load i16, ptr %lbaf, align 8
  %conv67.us = zext i16 %6 to i64
  br label %cond.end68.us

cond.true64.us:                                   ; preds = %if.then55.us
  %7 = load i64, ptr %lbasz, align 8
  br label %cond.end68.us

cond.end68.us:                                    ; preds = %cond.true64.us, %cond.false66.us
  %cond69.us = phi i64 [ %7, %cond.true64.us ], [ %conv67.us, %cond.false66.us ]
  %conv70.us = trunc i64 %cond69.us to i32
  br label %if.end71.us

if.end71.us:                                      ; preds = %cond.end68.us, %if.end47.us
  %count.1.us = phi i32 [ %conv70.us, %cond.end68.us ], [ %sub50.us, %if.end47.us ]
  %dst.1.us = phi ptr [ %cond61.us, %cond.end68.us ], [ %dst.047.us, %if.end47.us ]
  %cmp72.us = icmp eq i64 %cond16.us, %add52.us
  %inc.us = zext i1 %cmp72.us to i32
  %spec.select.us = add i32 %sg_idx.043.us, %inc.us
  %spec.select41.us = select i1 %cmp72.us, i64 0, i64 %add52.us
  %tobool7.not.us = icmp eq i64 %sub49.us, 0
  br i1 %tobool7.not.us, label %while.end, label %while.body.us, !llvm.loop !61

if.else:                                          ; preds = %entry
  tail call void @__assert_fail(ptr noundef nonnull @.str.27, ptr noundef nonnull @.str.1, i32 noundef 748, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_sg_split) #18
  unreachable

while.body:                                       ; preds = %while.body.lr.ph, %if.end71
  %dst.047 = phi ptr [ %dst.1, %if.end71 ], [ %data, %while.body.lr.ph ]
  %count.046 = phi i32 [ %count.1, %if.end71 ], [ %conv, %while.body.lr.ph ]
  %offset.045 = phi i64 [ %spec.select41, %if.end71 ], [ 0, %while.body.lr.ph ]
  %sg_len.044 = phi i64 [ %sub49, %if.end71 ], [ %cond, %while.body.lr.ph ]
  %sg_idx.043 = phi i32 [ %spec.select, %if.end71 ], [ 0, %while.body.lr.ph ]
  %8 = load ptr, ptr %2, align 8
  %idxprom = sext i32 %sg_idx.043 to i64
  %len = getelementptr %struct.ScatterGatherEntry, ptr %8, i64 %idxprom, i32 1
  %cond16 = load i64, ptr %len, align 8
  %conv17 = zext i32 %count.046 to i64
  %cond22 = tail call i64 @llvm.umin.i64(i64 %sg_len.044, i64 %conv17)
  %sub = sub i64 %cond16, %offset.045
  %cond31 = tail call i64 @llvm.umin.i64(i64 %cond22, i64 %sub)
  %conv32 = trunc i64 %cond31 to i32
  %tobool33.not = icmp eq ptr %dst.047, null
  br i1 %tobool33.not, label %if.end47, label %if.then34

if.then34:                                        ; preds = %while.body
  %9 = getelementptr inbounds %struct.NvmeSg, ptr %dst.047, i64 0, i32 1
  %arrayidx39 = getelementptr %struct.ScatterGatherEntry, ptr %8, i64 %idxprom
  %10 = load i64, ptr %arrayidx39, align 8
  %add = add i64 %10, %offset.045
  tail call void @qemu_sglist_add(ptr noundef nonnull %9, i64 noundef %add, i64 noundef %cond31) #17
  br label %if.end47

if.end47:                                         ; preds = %if.then34, %while.body
  %sub49 = sub i64 %sg_len.044, %cond31
  %sub50 = sub i32 %count.046, %conv32
  %add52 = add i64 %cond31, %offset.045
  %cmp53 = icmp eq i32 %sub50, 0
  br i1 %cmp53, label %if.then55, label %if.end71

if.then55:                                        ; preds = %if.end47
  %cmp56 = icmp eq ptr %dst.047, %data
  %cond61 = select i1 %cmp56, ptr %mdata, ptr %data
  %cmp62 = icmp eq ptr %cond61, %data
  br i1 %cmp62, label %cond.true64, label %cond.false66

cond.true64:                                      ; preds = %if.then55
  %11 = load i64, ptr %lbasz, align 8
  br label %cond.end68

cond.false66:                                     ; preds = %if.then55
  %12 = load i16, ptr %lbaf, align 8
  %conv67 = zext i16 %12 to i64
  br label %cond.end68

cond.end68:                                       ; preds = %cond.false66, %cond.true64
  %cond69 = phi i64 [ %11, %cond.true64 ], [ %conv67, %cond.false66 ]
  %conv70 = trunc i64 %cond69 to i32
  br label %if.end71

if.end71:                                         ; preds = %cond.end68, %if.end47
  %count.1 = phi i32 [ %conv70, %cond.end68 ], [ %sub50, %if.end47 ]
  %dst.1 = phi ptr [ %cond61, %cond.end68 ], [ %dst.047, %if.end47 ]
  %cmp72 = icmp eq i64 %cond16, %add52
  %inc = zext i1 %cmp72 to i32
  %spec.select = add i32 %sg_idx.043, %inc
  %spec.select41 = select i1 %cmp72, i64 0, i64 %add52
  %tobool7.not = icmp eq i64 %sub49, 0
  br i1 %tobool7.not, label %while.end, label %while.body, !llvm.loop !61

while.end:                                        ; preds = %if.end71, %if.end71.us, %while.cond.preheader
  ret void
}

declare ptr @dma_blk_write(ptr noundef, ptr noundef, i64 noundef, i32 noundef, ptr noundef, ptr noundef) local_unnamed_addr #1

declare ptr @blk_aio_pwritev(ptr noundef, i64 noundef, ptr noundef, i32 noundef, ptr noundef, ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @nvme_blk_read(ptr noundef %blk, i64 noundef %offset, i32 noundef %align, ptr noundef %cb, ptr noundef %req) unnamed_addr #0 {
entry:
  %sg = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %0 = load i32, ptr %sg, align 8
  %and = and i32 %0, 1
  %tobool.not = icmp eq i32 %and, 0
  br i1 %tobool.not, label %if.else, label %if.end

if.else:                                          ; preds = %entry
  tail call void @__assert_fail(ptr noundef nonnull @.str.228, ptr noundef nonnull @.str.1, i32 noundef 1447, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_blk_read) #18
  unreachable

if.end:                                           ; preds = %entry
  %and3 = and i32 %0, 2
  %tobool4.not = icmp eq i32 %and3, 0
  %1 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8, i32 1
  br i1 %tobool4.not, label %if.else7, label %if.then5

if.then5:                                         ; preds = %if.end
  %call = tail call ptr @dma_blk_read(ptr noundef %blk, ptr noundef nonnull %1, i64 noundef %offset, i32 noundef %align, ptr noundef %cb, ptr noundef nonnull %req) #17
  br label %if.end11

if.else7:                                         ; preds = %if.end
  %call9 = tail call ptr @blk_aio_preadv(ptr noundef %blk, i64 noundef %offset, ptr noundef nonnull %1, i32 noundef 0, ptr noundef %cb, ptr noundef nonnull %req) #17
  br label %if.end11

if.end11:                                         ; preds = %if.else7, %if.then5
  %call.sink = phi ptr [ %call9, %if.else7 ], [ %call, %if.then5 ]
  %2 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 2
  store ptr %call.sink, ptr %2, align 8
  ret void
}

declare ptr @dma_blk_read(ptr noundef, ptr noundef, i64 noundef, i32 noundef, ptr noundef, ptr noundef) local_unnamed_addr #1

declare ptr @blk_aio_preadv(ptr noundef, i64 noundef, ptr noundef, i32 noundef, ptr noundef, ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_check_zone_state_for_read(ptr nocapture noundef readonly %zone) unnamed_addr #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %0 = getelementptr i8, ptr %zone, i64 1
  %zone.val = load i8, ptr %0, align 1
  %1 = lshr i8 %zone.val, 4
  %shr.i = zext nneg i8 %1 to i32
  switch i32 %shr.i, label %sw.default [
    i32 1, label %return
    i32 2, label %return
    i32 3, label %return
    i32 14, label %return
    i32 4, label %return
    i32 13, label %return
    i32 15, label %sw.bb1
  ]

sw.bb1:                                           ; preds = %entry
  %zslba = getelementptr inbounds %struct.NvmeZoneDescr, ptr %zone, i64 0, i32 5
  %2 = load i64, ptr %zslba, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %3 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %3, 0
  %4 = load i16, ptr @_TRACE_PCI_NVME_ERR_ZONE_IS_OFFLINE_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %4, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_err_zone_is_offline.exit

land.lhs.true5.i.i:                               ; preds = %sw.bb1
  %5 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %5, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_err_zone_is_offline.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %6 = load i8, ptr @message_with_timestamp, align 1
  %7 = and i8 %6, 1
  %tobool7.not.i.i = icmp eq i8 %7, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %8 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %9 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.209, i32 noundef %call10.i.i, i64 noundef %8, i64 noundef %9, i64 noundef %2) #17
  br label %trace_pci_nvme_err_zone_is_offline.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.210, i64 noundef %2) #17
  br label %trace_pci_nvme_err_zone_is_offline.exit

trace_pci_nvme_err_zone_is_offline.exit:          ; preds = %sw.bb1, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  br label %return

sw.default:                                       ; preds = %entry
  tail call void @__assert_fail(ptr noundef nonnull @.str.176, ptr noundef nonnull @.str.1, i32 noundef 1869, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_check_zone_state_for_read) #18
  unreachable

return:                                           ; preds = %entry, %entry, %entry, %entry, %entry, %entry, %trace_pci_nvme_err_zone_is_offline.exit
  %retval.0 = phi i16 [ 443, %trace_pci_nvme_err_zone_is_offline.exit ], [ 0, %entry ], [ 0, %entry ], [ 0, %entry ], [ 0, %entry ], [ 0, %entry ], [ 0, %entry ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc i32 @nvme_block_status_all(ptr nocapture noundef readonly %ns, i64 noundef %slba, i32 noundef %nlb, i32 noundef %flags) unnamed_addr #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %pnum = alloca i64, align 8
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 1
  %0 = load ptr, ptr %blkconf, align 8
  %call = tail call ptr @blk_bs(ptr noundef %0) #17
  store i64 0, ptr %pnum, align 8
  %conv = zext i32 %nlb to i64
  %1 = getelementptr i8, ptr %ns, i64 8466
  %ns.val12 = load i8, ptr %1, align 2
  %sh_prom.i = zext nneg i8 %ns.val12 to i64
  %shl.i = shl i64 %conv, %sh_prom.i
  %shl.i14 = shl i64 %slba, %sh_prom.i
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  br label %do.body

do.body:                                          ; preds = %if.end9, %entry
  %2 = phi i64 [ 0, %entry ], [ %11, %if.end9 ]
  %bytes.0 = phi i64 [ %shl.i, %entry ], [ %sub, %if.end9 ]
  %offset.0 = phi i64 [ %shl.i14, %entry ], [ %add, %if.end9 ]
  %sub = sub i64 %bytes.0, %2
  %call3 = call i32 @bdrv_block_status(ptr noundef %call, i64 noundef %offset.0, i64 noundef %sub, ptr noundef nonnull %pnum, ptr noundef null, ptr noundef null) #17
  %cmp = icmp slt i32 %call3, 0
  br i1 %cmp, label %return, label %if.end

if.end:                                           ; preds = %do.body
  %3 = load i64, ptr %pnum, align 8
  %and = and i32 %call3, 2
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %4 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %4, 0
  %5 = load i16, ptr @_TRACE_PCI_NVME_BLOCK_STATUS_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %5, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_block_status.exit

land.lhs.true5.i.i:                               ; preds = %if.end
  %6 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %6, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_block_status.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %7 = load i8, ptr @message_with_timestamp, align 1
  %8 = and i8 %7, 1
  %tobool7.not.i.i = icmp eq i8 %8, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = call i32 @qemu_get_thread_id() #17
  %9 = load i64, ptr %_now.i.i, align 8
  %10 = load i64, ptr %tv_usec.i.i, align 8
  %and.lobit = lshr exact i32 %and, 1
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.236, i32 noundef %call10.i.i, i64 noundef %9, i64 noundef %10, i64 noundef %offset.0, i64 noundef %sub, i64 noundef %3, i32 noundef %call3, i32 noundef %and.lobit) #17
  br label %trace_pci_nvme_block_status.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %and.lobit15 = lshr exact i32 %and, 1
  call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.237, i64 noundef %offset.0, i64 noundef %sub, i64 noundef %3, i32 noundef %call3, i32 noundef %and.lobit15) #17
  br label %trace_pci_nvme_block_status.exit

trace_pci_nvme_block_status.exit:                 ; preds = %if.end, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %and6 = and i32 %call3, %flags
  %tobool7.not = icmp eq i32 %and6, 0
  br i1 %tobool7.not, label %return, label %if.end9

if.end9:                                          ; preds = %trace_pci_nvme_block_status.exit
  %11 = load i64, ptr %pnum, align 8
  %add = add i64 %11, %offset.0
  %cmp10.not = icmp eq i64 %11, %sub
  br i1 %cmp10.not, label %return, label %do.body, !llvm.loop !62

return:                                           ; preds = %if.end9, %trace_pci_nvme_block_status.exit, %do.body
  %retval.0 = phi i32 [ %call3, %do.body ], [ 1, %trace_pci_nvme_block_status.exit ], [ 0, %if.end9 ]
  ret i32 %retval.0
}

declare ptr @blk_bs(ptr noundef) local_unnamed_addr #1

declare i32 @bdrv_block_status(ptr noundef, i64 noundef, i64 noundef, ptr noundef, ptr noundef, ptr noundef) #1

; Function Attrs: allocsize(0)
declare noalias ptr @g_malloc(i64 noundef) local_unnamed_addr #11

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_compare_data_cb(ptr noundef %opaque, i32 noundef %ret) #0 {
nvme_cid.exit:
  %_now.i.i = alloca %struct.timeval, align 8
  %opaque.val36 = load ptr, ptr %opaque, align 8
  %opaque.val36.val = load ptr, ptr %opaque.val36, align 8
  %ns1 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 1
  %0 = load ptr, ptr %ns1, align 8
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 1
  %1 = load ptr, ptr %blkconf, align 8
  %acct3 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 7
  %call4 = tail call ptr @blk_get_stats(ptr noundef %1) #17
  %opaque5 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 4
  %2 = load ptr, ptr %opaque5, align 8
  %cid.i = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 5, i32 4
  %3 = load i16, ptr %cid.i, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %4 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %4, 0
  %5 = load i16, ptr @_TRACE_PCI_NVME_COMPARE_DATA_CB_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %5, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_compare_data_cb.exit

land.lhs.true5.i.i:                               ; preds = %nvme_cid.exit
  %6 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %6, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_compare_data_cb.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %7 = load i8, ptr @message_with_timestamp, align 1
  %8 = and i8 %7, 1
  %tobool7.not.i.i = icmp eq i8 %8, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %9 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %10 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext i16 %3 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.240, i32 noundef %call10.i.i, i64 noundef %9, i64 noundef %10, i32 noundef %conv11.i.i) #17
  br label %trace_pci_nvme_compare_data_cb.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv12.i.i = zext i16 %3 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.241, i32 noundef %conv12.i.i) #17
  br label %trace_pci_nvme_compare_data_cb.exit

trace_pci_nvme_compare_data_cb.exit:              ; preds = %nvme_cid.exit, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %tobool.not = icmp eq i32 %ret, 0
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %trace_pci_nvme_compare_data_cb.exit
  tail call void @block_acct_failed(ptr noundef %call4, ptr noundef nonnull %acct3) #17
  tail call fastcc void @nvme_aio_err(ptr noundef nonnull %opaque, i32 noundef %ret)
  br label %out

if.end:                                           ; preds = %trace_pci_nvme_compare_data_cb.exit
  %size = getelementptr inbounds %struct.QEMUIOVector, ptr %2, i64 0, i32 2, i32 0, i32 1, i32 1
  %11 = load i64, ptr %size, align 8
  %call7 = tail call noalias ptr @g_malloc(i64 noundef %11) #20
  %12 = load i64, ptr %size, align 8
  %conv = trunc i64 %12 to i32
  %13 = load ptr, ptr %ns1, align 8
  %14 = getelementptr i8, ptr %13, i64 298
  %.val.i = load i8, ptr %14, align 2
  %15 = and i8 %.val.i, 16
  %tobool.i.not.i = icmp eq i8 %15, 0
  br i1 %tobool.i.not.i, label %if.end.i41, label %land.lhs.true.i

land.lhs.true.i:                                  ; preds = %if.end
  %control.i = getelementptr inbounds i8, ptr %opaque, i64 106
  %16 = load i16, ptr %control.i, align 1
  %17 = and i16 %16, 8192
  %tobool5.not.i = icmp eq i16 %17, 0
  %dps.i = getelementptr inbounds %struct.NvmeNamespace, ptr %13, i64 0, i32 5, i32 8
  %18 = load i8, ptr %dps.i, align 1
  %19 = and i8 %18, 7
  %tobool.not.i39 = icmp eq i8 %19, 0
  %brmerge.i = select i1 %tobool.not.i39, i1 true, i1 %tobool5.not.i
  %lbaf21.phi.trans.insert.i = getelementptr inbounds %struct.NvmeNamespace, ptr %13, i64 0, i32 7
  %.pre.i = load i16, ptr %lbaf21.phi.trans.insert.i, align 8
  br i1 %brmerge.i, label %if.then.i, label %land.lhs.true16.i

land.lhs.true16.i:                                ; preds = %land.lhs.true.i
  %conv17.i = zext i16 %.pre.i to i64
  %20 = getelementptr i8, ptr %13, i64 8496
  %.val13.i = load i8, ptr %20, align 8
  %tobool.not.i.i = icmp eq i8 %.val13.i, 0
  %conv1.i.i = select i1 %tobool.not.i.i, i64 8, i64 16
  %cmp.i = icmp eq i64 %conv1.i.i, %conv17.i
  br i1 %cmp.i, label %if.end.i41, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true16.i, %land.lhs.true.i
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 8
  %lbasz.i = getelementptr inbounds %struct.NvmeNamespace, ptr %13, i64 0, i32 9
  %21 = load i64, ptr %lbasz.i, align 8
  %conv20.i = trunc i64 %21 to i32
  %conv23.i = zext i16 %.pre.i to i32
  %call24.i = tail call fastcc zeroext i16 @nvme_tx_interleaved(ptr noundef %opaque.val36.val, ptr noundef nonnull %sg.i, ptr noundef %call7, i32 noundef %conv, i32 noundef %conv20.i, i32 noundef %conv23.i, i64 noundef 0, i32 noundef 0), !range !9
  br label %nvme_bounce_data.exit

if.end.i41:                                       ; preds = %land.lhs.true16.i, %if.end
  %sg25.i = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 8
  %call26.i = tail call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg25.i, ptr noundef %call7, i32 noundef %conv, i32 noundef 0)
  br label %nvme_bounce_data.exit

nvme_bounce_data.exit:                            ; preds = %if.then.i, %if.end.i41
  %retval.0.i40 = phi i16 [ %call26.i, %if.end.i41 ], [ %call24.i, %if.then.i ]
  %tobool12.not = icmp eq i16 %retval.0.i40, 0
  br i1 %tobool12.not, label %if.end15, label %if.then13

if.then13:                                        ; preds = %nvme_bounce_data.exit
  %status14 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 3
  store i16 %retval.0.i40, ptr %status14, align 8
  br label %out

if.end15:                                         ; preds = %nvme_bounce_data.exit
  %bounce = getelementptr inbounds %struct.anon.38, ptr %2, i64 0, i32 1
  %22 = load ptr, ptr %bounce, align 8
  %23 = load i64, ptr %size, align 8
  %bcmp = tail call i32 @bcmp(ptr %call7, ptr %22, i64 %23)
  %tobool21.not = icmp eq i32 %bcmp, 0
  br i1 %tobool21.not, label %if.end24, label %if.then22

if.then22:                                        ; preds = %if.end15
  %status23 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 3
  store i16 17029, ptr %status23, align 8
  br label %out

if.end24:                                         ; preds = %if.end15
  %lbaf = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 7
  %24 = load i16, ptr %lbaf, align 8
  %tobool25.not = icmp eq i16 %24, 0
  br i1 %tobool25.not, label %if.end46, label %if.then26

if.then26:                                        ; preds = %if.end24
  %slba27 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 6, i32 7
  %25 = load i64, ptr %slba27, align 1
  %nlb29 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 6, i32 9
  %26 = load i16, ptr %nlb29, align 1
  %conv31 = zext i16 %26 to i64
  %add = add nuw nsw i64 %conv31, 1
  %conv.i = zext i16 %24 to i64
  %mul.i = mul nuw nsw i64 %add, %conv.i
  %27 = getelementptr i8, ptr %0, i64 264
  %.val37 = load i64, ptr %27, align 8
  %mul.i.i = mul i64 %25, %conv.i
  %add.i = add i64 %.val37, %mul.i.i
  %call35 = tail call noalias ptr @g_malloc(i64 noundef %mul.i) #20
  %mdata = getelementptr inbounds %struct.nvme_compare_ctx, ptr %2, i64 0, i32 1
  %bounce36 = getelementptr inbounds %struct.nvme_compare_ctx, ptr %2, i64 0, i32 1, i32 1
  store ptr %call35, ptr %bounce36, align 8
  tail call void @qemu_iovec_init(ptr noundef nonnull %mdata, i32 noundef 1) #17
  %28 = load ptr, ptr %bounce36, align 8
  tail call void @qemu_iovec_add(ptr noundef nonnull %mdata, ptr noundef %28, i64 noundef %mul.i) #17
  %call45 = tail call ptr @blk_aio_preadv(ptr noundef %1, i64 noundef %add.i, ptr noundef nonnull %mdata, i32 noundef 0, ptr noundef nonnull @nvme_compare_mdata_cb, ptr noundef nonnull %opaque) #17
  %aiocb = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 2
  store ptr %call45, ptr %aiocb, align 8
  br label %cleanup

if.end46:                                         ; preds = %if.end24
  tail call void @block_acct_done(ptr noundef %call4, ptr noundef nonnull %acct3) #17
  br label %out

out:                                              ; preds = %if.end46, %if.then22, %if.then13, %if.then
  %buf.0 = phi ptr [ %call7, %if.end46 ], [ %call7, %if.then22 ], [ %call7, %if.then13 ], [ null, %if.then ]
  tail call void @qemu_iovec_destroy(ptr noundef %2) #17
  %bounce50 = getelementptr inbounds %struct.anon.38, ptr %2, i64 0, i32 1
  %29 = load ptr, ptr %bounce50, align 8
  tail call void @g_free(ptr noundef %29) #17
  tail call void @g_free(ptr noundef %2) #17
  %opaque.val = load ptr, ptr %opaque, align 8
  %opaque.val.val = load ptr, ptr %opaque.val, align 8
  %30 = getelementptr i8, ptr %opaque.val, i64 10
  %opaque.val.val35 = load i16, ptr %30, align 2
  %31 = getelementptr i8, ptr %opaque.val.val, i64 18808
  %opaque.val.val.val = load ptr, ptr %31, align 8
  %idxprom.i = zext i16 %opaque.val.val35 to i64
  %arrayidx.i = getelementptr ptr, ptr %opaque.val.val.val, i64 %idxprom.i
  %32 = load ptr, ptr %arrayidx.i, align 8
  tail call fastcc void @nvme_enqueue_req_completion(ptr noundef %32, ptr noundef nonnull %opaque)
  br label %cleanup

cleanup:                                          ; preds = %out, %if.then26
  %buf.1 = phi ptr [ %buf.0, %out ], [ %call7, %if.then26 ]
  tail call void @g_free(ptr noundef %buf.1) #17
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_compare_mdata_cb(ptr noundef %opaque, i32 noundef %ret) #0 {
nvme_cid.exit:
  %_now.i.i = alloca %struct.timeval, align 8
  %reftag = alloca i64, align 8
  %ns1 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 1
  %0 = load ptr, ptr %ns1, align 8
  %opaque.val55 = load ptr, ptr %opaque, align 8
  %opaque.val55.val = load ptr, ptr %opaque.val55, align 8
  %control = getelementptr inbounds i8, ptr %opaque, i64 106
  %1 = load i16, ptr %control, align 1
  %2 = lshr i16 %1, 10
  %3 = trunc i16 %2 to i8
  %conv3 = and i8 %3, 15
  %apptag4 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 6, i32 12
  %4 = load i16, ptr %apptag4, align 1
  %appmask6 = getelementptr inbounds i8, ptr %opaque, i64 118
  %5 = load i16, ptr %appmask6, align 1
  %reftag8 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 6, i32 11
  %6 = load i32, ptr %reftag8, align 1
  %conv10 = zext i32 %6 to i64
  %cdw311 = getelementptr inbounds i8, ptr %opaque, i64 68
  %7 = load i32, ptr %cdw311, align 1
  %conv13 = zext i32 %7 to i64
  %opaque14 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 4
  %8 = load ptr, ptr %opaque14, align 8
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 1
  %9 = load ptr, ptr %blkconf, align 8
  %acct16 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 7
  %call17 = tail call ptr @blk_get_stats(ptr noundef %9) #17
  %shl = shl nuw i64 %conv13, 32
  %or = or disjoint i64 %shl, %conv10
  store i64 %or, ptr %reftag, align 8
  %cid.i = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 5, i32 4
  %10 = load i16, ptr %cid.i, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %11 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %11, 0
  %12 = load i16, ptr @_TRACE_PCI_NVME_COMPARE_MDATA_CB_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %12, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_compare_mdata_cb.exit

land.lhs.true5.i.i:                               ; preds = %nvme_cid.exit
  %13 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %13, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_compare_mdata_cb.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %14 = load i8, ptr @message_with_timestamp, align 1
  %15 = and i8 %14, 1
  %tobool7.not.i.i = icmp eq i8 %15, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %16 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %17 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext i16 %10 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.242, i32 noundef %call10.i.i, i64 noundef %16, i64 noundef %17, i32 noundef %conv11.i.i) #17
  br label %trace_pci_nvme_compare_mdata_cb.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv12.i.i = zext i16 %10 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.243, i32 noundef %conv12.i.i) #17
  br label %trace_pci_nvme_compare_mdata_cb.exit

trace_pci_nvme_compare_mdata_cb.exit:             ; preds = %nvme_cid.exit, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %tobool.not = icmp eq i32 %ret, 0
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %trace_pci_nvme_compare_mdata_cb.exit
  tail call void @block_acct_failed(ptr noundef %call17, ptr noundef nonnull %acct16) #17
  tail call fastcc void @nvme_aio_err(ptr noundef nonnull %opaque, i32 noundef %ret)
  br label %out

if.end:                                           ; preds = %trace_pci_nvme_compare_mdata_cb.exit
  %size = getelementptr inbounds %struct.nvme_compare_ctx, ptr %8, i64 0, i32 1, i32 0, i32 2, i32 0, i32 1, i32 1
  %18 = load i64, ptr %size, align 8
  %call19 = tail call noalias ptr @g_malloc(i64 noundef %18) #20
  %19 = load i64, ptr %size, align 8
  %conv23 = trunc i64 %19 to i32
  %call24 = tail call zeroext i16 @nvme_bounce_mdata(ptr noundef %opaque.val55.val, ptr noundef %call19, i32 noundef %conv23, i32 noundef 0, ptr noundef nonnull %opaque)
  %tobool25.not = icmp eq i16 %call24, 0
  br i1 %tobool25.not, label %if.end28, label %if.then26

if.then26:                                        ; preds = %if.end
  %status27 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 3
  store i16 %call24, ptr %status27, align 8
  br label %out

if.end28:                                         ; preds = %if.end
  %dps = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 5, i32 8
  %20 = load i8, ptr %dps, align 1
  %21 = and i8 %20, 7
  %tobool31.not = icmp eq i8 %21, 0
  br i1 %tobool31.not, label %if.end90, label %if.then32

if.then32:                                        ; preds = %if.end28
  %slba33 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 6, i32 7
  %22 = load i64, ptr %slba33, align 1
  %bounce = getelementptr inbounds %struct.nvme_compare_ctx, ptr %8, i64 0, i32 1, i32 1
  %23 = load ptr, ptr %bounce, align 8
  %24 = load i64, ptr %size, align 8
  %add.ptr = getelementptr i8, ptr %23, i64 %24
  %bounce39 = getelementptr inbounds %struct.anon.38, ptr %8, i64 0, i32 1
  %25 = load ptr, ptr %bounce39, align 8
  %size42 = getelementptr inbounds %struct.QEMUIOVector, ptr %8, i64 0, i32 2, i32 0, i32 1, i32 1
  %26 = load i64, ptr %size42, align 8
  %call48 = call zeroext i16 @nvme_dif_check(ptr noundef nonnull %0, ptr noundef %25, i64 noundef %26, ptr noundef %23, i64 noundef %24, i8 noundef zeroext %conv3, i64 noundef %22, i16 noundef zeroext %4, i16 noundef zeroext %5, ptr noundef nonnull %reftag) #17
  %tobool49.not = icmp eq i16 %call48, 0
  br i1 %tobool49.not, label %if.end52, label %if.then50

if.then50:                                        ; preds = %if.then32
  %status51 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 3
  store i16 %call48, ptr %status51, align 8
  br label %out

if.end52:                                         ; preds = %if.then32
  %27 = load i8, ptr %dps, align 1
  %28 = and i8 %27, 8
  %tobool57.not = icmp eq i8 %28, 0
  br i1 %tobool57.not, label %if.then58, label %if.end62

if.then58:                                        ; preds = %if.end52
  %lbaf = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 7
  %29 = load i16, ptr %lbaf, align 8
  %30 = getelementptr i8, ptr %0, i64 8496
  %.val = load i8, ptr %30, align 8
  %tobool.not.i56 = icmp eq i8 %.val, 0
  %.neg = select i1 %tobool.not.i56, i16 -8, i16 -16
  %conv61 = add i16 %.neg, %29
  %31 = sext i16 %conv61 to i32
  br label %if.end62

if.end62:                                         ; preds = %if.then58, %if.end52
  %pil.0 = phi i32 [ 0, %if.end52 ], [ %31, %if.then58 ]
  %cmp58 = icmp ult ptr %23, %add.ptr
  br i1 %cmp58, label %for.body.lr.ph, label %out

for.body.lr.ph:                                   ; preds = %if.end62
  %idx.ext = sext i32 %pil.0 to i64
  %lbaf69 = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 7
  %32 = load i16, ptr %lbaf69, align 8
  %conv71 = zext i16 %32 to i32
  %sub73 = sub nsw i32 %conv71, %pil.0
  %conv74 = sext i32 %sub73 to i64
  %idx.ext83 = zext i16 %32 to i64
  br label %for.body

for.body:                                         ; preds = %for.body.lr.ph, %for.inc
  %mbufp.060 = phi ptr [ %23, %for.body.lr.ph ], [ %add.ptr89, %for.inc ]
  %bufp.059 = phi ptr [ %call19, %for.body.lr.ph ], [ %add.ptr84, %for.inc ]
  %add.ptr65 = getelementptr i8, ptr %bufp.059, i64 %idx.ext
  %add.ptr68 = getelementptr i8, ptr %mbufp.060, i64 %idx.ext
  %bcmp53 = call i32 @bcmp(ptr %add.ptr65, ptr %add.ptr68, i64 %conv74)
  %tobool76.not = icmp eq i32 %bcmp53, 0
  br i1 %tobool76.not, label %for.inc, label %if.then77

if.then77:                                        ; preds = %for.body
  %status78 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 3
  store i16 17029, ptr %status78, align 8
  br label %out

for.inc:                                          ; preds = %for.body
  %add.ptr84 = getelementptr i8, ptr %bufp.059, i64 %idx.ext83
  %add.ptr89 = getelementptr i8, ptr %mbufp.060, i64 %idx.ext83
  %cmp = icmp ult ptr %add.ptr89, %add.ptr
  br i1 %cmp, label %for.body, label %out, !llvm.loop !63

if.end90:                                         ; preds = %if.end28
  %bounce92 = getelementptr inbounds %struct.nvme_compare_ctx, ptr %8, i64 0, i32 1, i32 1
  %33 = load ptr, ptr %bounce92, align 8
  %34 = load i64, ptr %size, align 8
  %bcmp = tail call i32 @bcmp(ptr %call19, ptr %33, i64 %34)
  %tobool97.not = icmp eq i32 %bcmp, 0
  br i1 %tobool97.not, label %if.end100, label %if.then98

if.then98:                                        ; preds = %if.end90
  %status99 = getelementptr inbounds %struct.NvmeRequest, ptr %opaque, i64 0, i32 3
  store i16 17029, ptr %status99, align 8
  br label %out

if.end100:                                        ; preds = %if.end90
  tail call void @block_acct_done(ptr noundef %call17, ptr noundef nonnull %acct16) #17
  br label %out

out:                                              ; preds = %for.inc, %if.end62, %if.end100, %if.then98, %if.then77, %if.then50, %if.then26, %if.then
  %buf.0 = phi ptr [ %call19, %if.end100 ], [ %call19, %if.then98 ], [ %call19, %if.then77 ], [ %call19, %if.then50 ], [ %call19, %if.then26 ], [ null, %if.then ], [ %call19, %if.end62 ], [ %call19, %for.inc ]
  call void @qemu_iovec_destroy(ptr noundef %8) #17
  %bounce104 = getelementptr inbounds %struct.anon.38, ptr %8, i64 0, i32 1
  %35 = load ptr, ptr %bounce104, align 8
  call void @g_free(ptr noundef %35) #17
  %mdata105 = getelementptr inbounds %struct.nvme_compare_ctx, ptr %8, i64 0, i32 1
  call void @qemu_iovec_destroy(ptr noundef nonnull %mdata105) #17
  %bounce108 = getelementptr inbounds %struct.nvme_compare_ctx, ptr %8, i64 0, i32 1, i32 1
  %36 = load ptr, ptr %bounce108, align 8
  call void @g_free(ptr noundef %36) #17
  call void @g_free(ptr noundef %8) #17
  %opaque.val = load ptr, ptr %opaque, align 8
  %opaque.val.val = load ptr, ptr %opaque.val, align 8
  %37 = getelementptr i8, ptr %opaque.val, i64 10
  %opaque.val.val54 = load i16, ptr %37, align 2
  %38 = getelementptr i8, ptr %opaque.val.val, i64 18808
  %opaque.val.val.val = load ptr, ptr %38, align 8
  %idxprom.i = zext i16 %opaque.val.val54 to i64
  %arrayidx.i = getelementptr ptr, ptr %opaque.val.val.val, i64 %idxprom.i
  %39 = load ptr, ptr %arrayidx.i, align 8
  call fastcc void @nvme_enqueue_req_completion(ptr noundef %39, ptr noundef nonnull %opaque)
  call void @g_free(ptr noundef %buf.0) #17
  ret void
}

declare zeroext i16 @nvme_dif_check(ptr noundef, ptr noundef, i64 noundef, ptr noundef, i64 noundef, i8 noundef zeroext, i64 noundef, i16 noundef zeroext, i16 noundef zeroext, ptr noundef) local_unnamed_addr #1

declare ptr @blk_aio_get(ptr noundef, ptr noundef, ptr noundef, ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_h2c(ptr noundef %n, ptr noundef %ptr, i32 noundef %len, ptr noundef %req) unnamed_addr #0 {
entry:
  %sg = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %conv = zext i32 %len to i64
  %cmd = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call = tail call zeroext i16 @nvme_map_dptr(ptr noundef %n, ptr noundef nonnull %sg, i64 noundef %conv, ptr noundef nonnull %cmd)
  %tobool.not = icmp eq i16 %call, 0
  br i1 %tobool.not, label %if.end, label %return

if.end:                                           ; preds = %entry
  %call2 = tail call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg, ptr noundef %ptr, i32 noundef %len, i32 noundef 0)
  br label %return

return:                                           ; preds = %entry, %if.end
  %retval.0 = phi i16 [ %call2, %if.end ], [ %call, %entry ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_dsm_cb(ptr noundef %opaque, i32 noundef %ret) #0 {
entry:
  %_now.i.i48 = alloca %struct.timeval, align 8
  %_now.i.i34 = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %req1 = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %opaque, i64 0, i32 2
  %0 = load ptr, ptr %req1, align 8
  %.val32 = load ptr, ptr %0, align 8
  %.val32.val = load ptr, ptr %.val32, align 8
  %ns2 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 1
  %1 = load ptr, ptr %ns2, align 8
  %ret3 = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %opaque, i64 0, i32 3
  %2 = load i32, ptr %ret3, align 8
  %cmp = icmp slt i32 %2, 0
  br i1 %cmp, label %done, label %if.else

if.else:                                          ; preds = %entry
  %cmp4 = icmp slt i32 %ret, 0
  br i1 %cmp4, label %if.then5, label %next.preheader

next.preheader:                                   ; preds = %if.else
  %idx = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %opaque, i64 0, i32 6
  %nr = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %opaque, i64 0, i32 5
  %3 = load i32, ptr %idx, align 4
  %4 = load i32, ptr %nr, align 8
  %cmp865 = icmp eq i32 %3, %4
  br i1 %cmp865, label %done, label %if.end10.lr.ph

if.end10.lr.ph:                                   ; preds = %next.preheader
  %range11 = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %opaque, i64 0, i32 4
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %dmrsl = getelementptr inbounds %struct.NvmeCtrl, ptr %.val32.val, i64 0, i32 31
  %5 = getelementptr i8, ptr %1, i64 272
  %tv_usec.i.i60 = getelementptr inbounds %struct.timeval, ptr %_now.i.i48, i64 0, i32 1
  %tv_usec.i.i46 = getelementptr inbounds %struct.timeval, ptr %_now.i.i34, i64 0, i32 1
  br label %if.end10

if.then5:                                         ; preds = %if.else
  store i32 %ret, ptr %ret3, align 8
  br label %done

if.end10:                                         ; preds = %if.end10.lr.ph, %next.backedge
  %6 = phi i32 [ %3, %if.end10.lr.ph ], [ %25, %next.backedge ]
  %7 = load ptr, ptr %range11, align 8
  %inc = add i32 %6, 1
  store i32 %inc, ptr %idx, align 4
  %idxprom = zext i32 %6 to i64
  %slba13 = getelementptr %struct.NvmeDsmRange, ptr %7, i64 %idxprom, i32 2
  %8 = load i64, ptr %slba13, align 1
  %nlb15 = getelementptr %struct.NvmeDsmRange, ptr %7, i64 %idxprom, i32 1
  %9 = load i32, ptr %nlb15, align 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %10 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %10, 0
  %11 = load i16, ptr @_TRACE_PCI_NVME_DSM_DEALLOCATE_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %11, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_dsm_deallocate.exit

land.lhs.true5.i.i:                               ; preds = %if.end10
  %12 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %12, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_dsm_deallocate.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %13 = load i8, ptr @message_with_timestamp, align 1
  %14 = and i8 %13, 1
  %tobool7.not.i.i = icmp eq i8 %14, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %15 = load i64, ptr %_now.i.i, align 8
  %16 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.247, i32 noundef %call10.i.i, i64 noundef %15, i64 noundef %16, i64 noundef %8, i32 noundef %9) #17
  br label %trace_pci_nvme_dsm_deallocate.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.248, i64 noundef %8, i32 noundef %9) #17
  br label %trace_pci_nvme_dsm_deallocate.exit

trace_pci_nvme_dsm_deallocate.exit:               ; preds = %if.end10, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %17 = load i32, ptr %dmrsl, align 4
  %cmp17 = icmp ugt i32 %9, %17
  br i1 %cmp17, label %if.then18, label %if.end20

if.then18:                                        ; preds = %trace_pci_nvme_dsm_deallocate.exit
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i34)
  %18 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i35 = icmp ne i32 %18, 0
  %19 = load i16, ptr @_TRACE_PCI_NVME_DSM_SINGLE_RANGE_LIMIT_EXCEEDED_DSTATE, align 2
  %tobool4.i.i36 = icmp ne i16 %19, 0
  %or.cond.i.i37 = select i1 %tobool.i.i35, i1 %tobool4.i.i36, i1 false
  br i1 %or.cond.i.i37, label %land.lhs.true5.i.i38, label %trace_pci_nvme_dsm_single_range_limit_exceeded.exit

land.lhs.true5.i.i38:                             ; preds = %if.then18
  %20 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i39 = and i32 %20, 32768
  %cmp.i.not.i.i40 = icmp eq i32 %and.i.i.i39, 0
  br i1 %cmp.i.not.i.i40, label %trace_pci_nvme_dsm_single_range_limit_exceeded.exit, label %if.then.i.i41

if.then.i.i41:                                    ; preds = %land.lhs.true5.i.i38
  %21 = load i8, ptr @message_with_timestamp, align 1
  %22 = and i8 %21, 1
  %tobool7.not.i.i42 = icmp eq i8 %22, 0
  br i1 %tobool7.not.i.i42, label %if.else.i.i47, label %if.then8.i.i43

if.then8.i.i43:                                   ; preds = %if.then.i.i41
  %call9.i.i44 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i34, ptr noundef null) #17
  %call10.i.i45 = tail call i32 @qemu_get_thread_id() #17
  %23 = load i64, ptr %_now.i.i34, align 8
  %24 = load i64, ptr %tv_usec.i.i46, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.249, i32 noundef %call10.i.i45, i64 noundef %23, i64 noundef %24, i32 noundef %9, i32 noundef %17) #17
  br label %trace_pci_nvme_dsm_single_range_limit_exceeded.exit

if.else.i.i47:                                    ; preds = %if.then.i.i41
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.250, i32 noundef %9, i32 noundef %17) #17
  br label %trace_pci_nvme_dsm_single_range_limit_exceeded.exit

trace_pci_nvme_dsm_single_range_limit_exceeded.exit: ; preds = %if.then18, %land.lhs.true5.i.i38, %if.then8.i.i43, %if.else.i.i47
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i34)
  br label %next.backedge

next.backedge:                                    ; preds = %trace_pci_nvme_dsm_single_range_limit_exceeded.exit, %trace_pci_nvme_err_invalid_lba_range.exit
  %25 = load i32, ptr %idx, align 4
  %26 = load i32, ptr %nr, align 8
  %cmp8 = icmp eq i32 %25, %26
  br i1 %cmp8, label %done.loopexit, label %if.end10

if.end20:                                         ; preds = %trace_pci_nvme_dsm_deallocate.exit
  %.val33 = load i64, ptr %5, align 8
  %call21 = tail call fastcc zeroext i16 @nvme_check_bounds(i64 %.val33, i64 noundef %8, i32 noundef %9)
  %tobool.not = icmp eq i16 %call21, 0
  br i1 %tobool.not, label %if.end23, label %if.then22

if.then22:                                        ; preds = %if.end20
  %conv = zext i32 %9 to i64
  %27 = load i64, ptr %5, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i48)
  %28 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i49 = icmp ne i32 %28, 0
  %29 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_LBA_RANGE_DSTATE, align 2
  %tobool4.i.i50 = icmp ne i16 %29, 0
  %or.cond.i.i51 = select i1 %tobool.i.i49, i1 %tobool4.i.i50, i1 false
  br i1 %or.cond.i.i51, label %land.lhs.true5.i.i52, label %trace_pci_nvme_err_invalid_lba_range.exit

land.lhs.true5.i.i52:                             ; preds = %if.then22
  %30 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i53 = and i32 %30, 32768
  %cmp.i.not.i.i54 = icmp eq i32 %and.i.i.i53, 0
  br i1 %cmp.i.not.i.i54, label %trace_pci_nvme_err_invalid_lba_range.exit, label %if.then.i.i55

if.then.i.i55:                                    ; preds = %land.lhs.true5.i.i52
  %31 = load i8, ptr @message_with_timestamp, align 1
  %32 = and i8 %31, 1
  %tobool7.not.i.i56 = icmp eq i8 %32, 0
  br i1 %tobool7.not.i.i56, label %if.else.i.i61, label %if.then8.i.i57

if.then8.i.i57:                                   ; preds = %if.then.i.i55
  %call9.i.i58 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i48, ptr noundef null) #17
  %call10.i.i59 = tail call i32 @qemu_get_thread_id() #17
  %33 = load i64, ptr %_now.i.i48, align 8
  %34 = load i64, ptr %tv_usec.i.i60, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.201, i32 noundef %call10.i.i59, i64 noundef %33, i64 noundef %34, i64 noundef %8, i64 noundef %conv, i64 noundef %27) #17
  br label %trace_pci_nvme_err_invalid_lba_range.exit

if.else.i.i61:                                    ; preds = %if.then.i.i55
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.202, i64 noundef %8, i64 noundef %conv, i64 noundef %27) #17
  br label %trace_pci_nvme_err_invalid_lba_range.exit

trace_pci_nvme_err_invalid_lba_range.exit:        ; preds = %if.then22, %land.lhs.true5.i.i52, %if.then8.i.i57, %if.else.i.i61
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i48)
  br label %next.backedge

if.end23:                                         ; preds = %if.end20
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 1
  %35 = load ptr, ptr %blkconf, align 8
  %36 = getelementptr i8, ptr %1, i64 8466
  %.val31 = load i8, ptr %36, align 2
  %sh_prom.i = zext nneg i8 %.val31 to i64
  %shl.i = shl i64 %8, %sh_prom.i
  %conv25 = zext i32 %9 to i64
  %shl.i63 = shl i64 %conv25, %sh_prom.i
  %call27 = tail call ptr @blk_aio_pdiscard(ptr noundef %35, i64 noundef %shl.i, i64 noundef %shl.i63, ptr noundef nonnull @nvme_dsm_md_cb, ptr noundef nonnull %opaque) #17
  %aiocb = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %opaque, i64 0, i32 1
  store ptr %call27, ptr %aiocb, align 8
  br label %return

done.loopexit:                                    ; preds = %next.backedge
  %.pre = load i32, ptr %ret3, align 8
  br label %done

done:                                             ; preds = %done.loopexit, %next.preheader, %entry, %if.then5
  %37 = phi i32 [ %.pre, %done.loopexit ], [ %2, %next.preheader ], [ %2, %entry ], [ %ret, %if.then5 ]
  %aiocb28 = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %opaque, i64 0, i32 1
  store ptr null, ptr %aiocb28, align 8
  %cb = getelementptr inbounds %struct.BlockAIOCB, ptr %opaque, i64 0, i32 2
  %38 = load ptr, ptr %cb, align 8
  %opaque30 = getelementptr inbounds %struct.BlockAIOCB, ptr %opaque, i64 0, i32 3
  %39 = load ptr, ptr %opaque30, align 8
  tail call void %38(ptr noundef %39, i32 noundef %37) #17
  tail call void @qemu_aio_unref(ptr noundef nonnull %opaque) #17
  br label %return

return:                                           ; preds = %done, %if.end23
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_dsm_cancel(ptr nocapture noundef %aiocb) #0 {
entry:
  %nr = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %aiocb, i64 0, i32 5
  %0 = load i32, ptr %nr, align 8
  %idx = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %aiocb, i64 0, i32 6
  store i32 %0, ptr %idx, align 4
  %ret = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %aiocb, i64 0, i32 3
  store i32 -125, ptr %ret, align 8
  %aiocb1 = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %aiocb, i64 0, i32 1
  %1 = load ptr, ptr %aiocb1, align 8
  %tobool.not = icmp eq ptr %1, null
  br i1 %tobool.not, label %if.end8, label %if.then

if.then:                                          ; preds = %entry
  tail call void @blk_aio_cancel_async(ptr noundef nonnull %1) #17
  store ptr null, ptr %aiocb1, align 8
  br label %if.end8

if.end8:                                          ; preds = %entry, %if.then
  ret void
}

declare ptr @blk_aio_pdiscard(ptr noundef, i64 noundef, i64 noundef, ptr noundef, ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_dsm_md_cb(ptr noundef %opaque, i32 noundef %ret) #0 {
entry:
  %req1 = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %opaque, i64 0, i32 2
  %0 = load ptr, ptr %req1, align 8
  %ns2 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 1
  %1 = load ptr, ptr %ns2, align 8
  %cmp = icmp slt i32 %ret, 0
  br i1 %cmp, label %done, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %entry
  %ret3 = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %opaque, i64 0, i32 3
  %2 = load i32, ptr %ret3, align 8
  %cmp4 = icmp slt i32 %2, 0
  br i1 %cmp4, label %done, label %lor.lhs.false5

lor.lhs.false5:                                   ; preds = %lor.lhs.false
  %lbaf = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 7
  %3 = load i16, ptr %lbaf, align 8
  %tobool.not = icmp eq i16 %3, 0
  br i1 %tobool.not, label %done, label %if.end

if.end:                                           ; preds = %lor.lhs.false5
  %range6 = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %opaque, i64 0, i32 4
  %4 = load ptr, ptr %range6, align 8
  %idx = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %opaque, i64 0, i32 6
  %5 = load i32, ptr %idx, align 4
  %sub = add i32 %5, -1
  %idxprom = zext i32 %sub to i64
  %slba7 = getelementptr %struct.NvmeDsmRange, ptr %4, i64 %idxprom, i32 2
  %6 = load i64, ptr %slba7, align 1
  %nlb8 = getelementptr %struct.NvmeDsmRange, ptr %4, i64 %idxprom, i32 1
  %7 = load i32, ptr %nlb8, align 1
  %call10 = tail call fastcc i32 @nvme_block_status_all(ptr noundef nonnull %1, i64 noundef %6, i32 noundef %7, i32 noundef 2), !range !46
  %tobool11.not = icmp eq i32 %call10, 0
  br i1 %tobool11.not, label %if.end16, label %if.then12

if.then12:                                        ; preds = %if.end
  %cmp13 = icmp slt i32 %call10, 0
  br i1 %cmp13, label %done, label %if.end15

if.end15:                                         ; preds = %if.then12
  tail call void @nvme_dsm_cb(ptr noundef nonnull %opaque, i32 noundef 0)
  br label %return

if.end16:                                         ; preds = %if.end
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 1
  %8 = load ptr, ptr %blkconf, align 8
  %9 = getelementptr i8, ptr %1, i64 264
  %.val18 = load i64, ptr %9, align 8
  %.val19 = load i16, ptr %lbaf, align 8
  %conv.i.i = zext i16 %.val19 to i64
  %mul.i.i = mul i64 %6, %conv.i.i
  %add.i = add i64 %mul.i.i, %.val18
  %conv = zext i32 %7 to i64
  %mul.i = mul nuw nsw i64 %conv.i.i, %conv
  %call19 = tail call ptr @blk_aio_pwrite_zeroes(ptr noundef %8, i64 noundef %add.i, i64 noundef %mul.i, i32 noundef 4, ptr noundef nonnull @nvme_dsm_cb, ptr noundef nonnull %opaque) #17
  %aiocb = getelementptr inbounds %struct.NvmeDSMAIOCB, ptr %opaque, i64 0, i32 1
  store ptr %call19, ptr %aiocb, align 8
  br label %return

done:                                             ; preds = %if.then12, %entry, %lor.lhs.false, %lor.lhs.false5
  %ret.addr.0 = phi i32 [ %ret, %entry ], [ %ret, %lor.lhs.false ], [ %call10, %if.then12 ], [ %ret, %lor.lhs.false5 ]
  tail call void @nvme_dsm_cb(ptr noundef nonnull %opaque, i32 noundef %ret.addr.0)
  br label %return

return:                                           ; preds = %done, %if.end16, %if.end15
  ret void
}

declare zeroext i16 @nvme_check_prinfo(ptr noundef, i8 noundef zeroext, i64 noundef, i64 noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_verify_mdata_in_cb(ptr noundef %opaque, i32 noundef %ret) #0 {
nvme_cid.exit:
  %_now.i.i = alloca %struct.timeval, align 8
  %0 = load ptr, ptr %opaque, align 8
  %ns2 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 1
  %1 = load ptr, ptr %ns2, align 8
  %slba3 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 6, i32 7
  %2 = load i64, ptr %slba3, align 1
  %nlb4 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 6, i32 9
  %3 = load i16, ptr %nlb4, align 1
  %conv = zext i16 %3 to i64
  %add = add nuw nsw i64 %conv, 1
  %4 = getelementptr i8, ptr %1, i64 8464
  %.val = load i16, ptr %4, align 8
  %conv.i = zext i16 %.val to i64
  %mul.i = mul nuw nsw i64 %add, %conv.i
  %5 = getelementptr i8, ptr %1, i64 264
  %.val17 = load i64, ptr %5, align 8
  %mul.i.i = mul i64 %2, %conv.i
  %add.i = add i64 %mul.i.i, %.val17
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 1
  %6 = load ptr, ptr %blkconf, align 8
  %cid.i = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 5, i32 4
  %7 = load i16, ptr %cid.i, align 4
  %call11 = tail call ptr @blk_name(ptr noundef %6) #17
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %8 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %8, 0
  %9 = load i16, ptr @_TRACE_PCI_NVME_VERIFY_MDATA_IN_CB_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %9, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_verify_mdata_in_cb.exit

land.lhs.true5.i.i:                               ; preds = %nvme_cid.exit
  %10 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %10, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_verify_mdata_in_cb.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %11 = load i8, ptr @message_with_timestamp, align 1
  %12 = and i8 %11, 1
  %tobool7.not.i.i = icmp eq i8 %12, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %13 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %14 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext i16 %7 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.253, i32 noundef %call10.i.i, i64 noundef %13, i64 noundef %14, i32 noundef %conv11.i.i, ptr noundef %call11) #17
  br label %trace_pci_nvme_verify_mdata_in_cb.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv12.i.i = zext i16 %7 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.254, i32 noundef %conv12.i.i, ptr noundef %call11) #17
  br label %trace_pci_nvme_verify_mdata_in_cb.exit

trace_pci_nvme_verify_mdata_in_cb.exit:           ; preds = %nvme_cid.exit, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %tobool.not = icmp eq i32 %ret, 0
  br i1 %tobool.not, label %if.end, label %out

if.end:                                           ; preds = %trace_pci_nvme_verify_mdata_in_cb.exit
  %call12 = tail call noalias ptr @g_malloc(i64 noundef %mul.i) #20
  %mdata = getelementptr inbounds %struct.NvmeBounceContext, ptr %opaque, i64 0, i32 2
  %bounce = getelementptr inbounds %struct.NvmeBounceContext, ptr %opaque, i64 0, i32 2, i32 1
  store ptr %call12, ptr %bounce, align 8
  tail call void @qemu_iovec_reset(ptr noundef nonnull %mdata) #17
  %15 = load ptr, ptr %bounce, align 8
  tail call void @qemu_iovec_add(ptr noundef nonnull %mdata, ptr noundef %15, i64 noundef %mul.i) #17
  %call20 = tail call ptr @blk_aio_preadv(ptr noundef %6, i64 noundef %add.i, ptr noundef nonnull %mdata, i32 noundef 0, ptr noundef nonnull @nvme_verify_cb, ptr noundef nonnull %opaque) #17
  %aiocb = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 2
  store ptr %call20, ptr %aiocb, align 8
  br label %return

out:                                              ; preds = %trace_pci_nvme_verify_mdata_in_cb.exit
  tail call void @nvme_verify_cb(ptr noundef nonnull %opaque, i32 noundef %ret)
  br label %return

return:                                           ; preds = %out, %if.end
  ret void
}

declare void @qemu_iovec_reset(ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_verify_cb(ptr noundef %opaque, i32 noundef %ret) #0 {
nvme_cid.exit:
  %_now.i.i = alloca %struct.timeval, align 8
  %reftag = alloca i64, align 8
  %0 = load ptr, ptr %opaque, align 8
  %ns2 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 1
  %1 = load ptr, ptr %ns2, align 8
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 1
  %2 = load ptr, ptr %blkconf, align 8
  %acct4 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 7
  %call = tail call ptr @blk_get_stats(ptr noundef %2) #17
  %slba5 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 6, i32 7
  %3 = load i64, ptr %slba5, align 1
  %control = getelementptr inbounds i8, ptr %0, i64 106
  %4 = load i16, ptr %control, align 1
  %5 = lshr i16 %4, 10
  %6 = trunc i16 %5 to i8
  %conv8 = and i8 %6, 15
  %apptag9 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 6, i32 12
  %7 = load i16, ptr %apptag9, align 1
  %appmask11 = getelementptr inbounds i8, ptr %0, i64 118
  %8 = load i16, ptr %appmask11, align 1
  %reftag13 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 6, i32 11
  %9 = load i32, ptr %reftag13, align 1
  %conv15 = zext i32 %9 to i64
  %cdw316 = getelementptr inbounds i8, ptr %0, i64 68
  %10 = load i32, ptr %cdw316, align 1
  %conv18 = zext i32 %10 to i64
  %shl = shl nuw i64 %conv18, 32
  %or = or disjoint i64 %shl, %conv15
  store i64 %or, ptr %reftag, align 8
  %cid.i = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 5, i32 4
  %11 = load i16, ptr %cid.i, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %12 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %12, 0
  %13 = load i16, ptr @_TRACE_PCI_NVME_VERIFY_CB_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %13, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_verify_cb.exit

land.lhs.true5.i.i:                               ; preds = %nvme_cid.exit
  %14 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %14, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_verify_cb.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %15 = load i8, ptr @message_with_timestamp, align 1
  %16 = and i8 %15, 1
  %tobool7.not.i.i = icmp eq i8 %16, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %17 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %18 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext i16 %11 to i32
  %conv12.i.i = zext nneg i8 %conv8 to i32
  %conv13.i.i = zext i16 %7 to i32
  %conv14.i.i = zext i16 %8 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.255, i32 noundef %call10.i.i, i64 noundef %17, i64 noundef %18, i32 noundef %conv11.i.i, i32 noundef %conv12.i.i, i32 noundef %conv13.i.i, i32 noundef %conv14.i.i, i32 noundef %9) #17
  br label %trace_pci_nvme_verify_cb.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv15.i.i = zext i16 %11 to i32
  %conv16.i.i = zext nneg i8 %conv8 to i32
  %conv17.i.i = zext i16 %7 to i32
  %conv18.i.i = zext i16 %8 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.256, i32 noundef %conv15.i.i, i32 noundef %conv16.i.i, i32 noundef %conv17.i.i, i32 noundef %conv18.i.i, i32 noundef %9) #17
  br label %trace_pci_nvme_verify_cb.exit

trace_pci_nvme_verify_cb.exit:                    ; preds = %nvme_cid.exit, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %tobool.not = icmp eq i32 %ret, 0
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %trace_pci_nvme_verify_cb.exit
  tail call void @block_acct_failed(ptr noundef %call, ptr noundef nonnull %acct4) #17
  tail call fastcc void @nvme_aio_err(ptr noundef nonnull %0, i32 noundef %ret)
  br label %out

if.end:                                           ; preds = %trace_pci_nvme_verify_cb.exit
  tail call void @block_acct_done(ptr noundef %call, ptr noundef nonnull %acct4) #17
  %dps = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 5, i32 8
  %19 = load i8, ptr %dps, align 1
  %20 = and i8 %19, 7
  %tobool23.not = icmp eq i8 %20, 0
  br i1 %tobool23.not, label %out, label %if.then24

if.then24:                                        ; preds = %if.end
  %bounce = getelementptr inbounds %struct.NvmeBounceContext, ptr %opaque, i64 0, i32 2, i32 1
  %21 = load ptr, ptr %bounce, align 8
  %size = getelementptr inbounds %struct.NvmeBounceContext, ptr %opaque, i64 0, i32 2, i32 0, i32 2, i32 0, i32 1, i32 1
  %22 = load i64, ptr %size, align 8
  %call26 = tail call zeroext i16 @nvme_dif_mangle_mdata(ptr noundef nonnull %1, ptr noundef %21, i64 noundef %22, i64 noundef %3) #17
  %tobool27.not = icmp eq i16 %call26, 0
  br i1 %tobool27.not, label %if.end30, label %if.then28

if.then28:                                        ; preds = %if.then24
  %status29 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 3
  store i16 %call26, ptr %status29, align 8
  br label %out

if.end30:                                         ; preds = %if.then24
  %bounce31 = getelementptr inbounds %struct.NvmeBounceContext, ptr %opaque, i64 0, i32 1, i32 1
  %23 = load ptr, ptr %bounce31, align 8
  %size34 = getelementptr inbounds %struct.NvmeBounceContext, ptr %opaque, i64 0, i32 1, i32 0, i32 2, i32 0, i32 1, i32 1
  %24 = load i64, ptr %size34, align 8
  %25 = load ptr, ptr %bounce, align 8
  %26 = load i64, ptr %size, align 8
  %call40 = call zeroext i16 @nvme_dif_check(ptr noundef nonnull %1, ptr noundef %23, i64 noundef %24, ptr noundef %25, i64 noundef %26, i8 noundef zeroext %conv8, i64 noundef %3, i16 noundef zeroext %7, i16 noundef zeroext %8, ptr noundef nonnull %reftag) #17
  %status41 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 3
  store i16 %call40, ptr %status41, align 8
  br label %out

out:                                              ; preds = %if.end, %if.end30, %if.then28, %if.then
  %data43 = getelementptr inbounds %struct.NvmeBounceContext, ptr %opaque, i64 0, i32 1
  call void @qemu_iovec_destroy(ptr noundef nonnull %data43) #17
  %bounce46 = getelementptr inbounds %struct.NvmeBounceContext, ptr %opaque, i64 0, i32 1, i32 1
  %27 = load ptr, ptr %bounce46, align 8
  call void @g_free(ptr noundef %27) #17
  %mdata47 = getelementptr inbounds %struct.NvmeBounceContext, ptr %opaque, i64 0, i32 2
  call void @qemu_iovec_destroy(ptr noundef nonnull %mdata47) #17
  %bounce50 = getelementptr inbounds %struct.NvmeBounceContext, ptr %opaque, i64 0, i32 2, i32 1
  %28 = load ptr, ptr %bounce50, align 8
  call void @g_free(ptr noundef %28) #17
  call void @g_free(ptr noundef nonnull %opaque) #17
  %.val = load ptr, ptr %0, align 8
  %.val.val = load ptr, ptr %.val, align 8
  %29 = getelementptr i8, ptr %.val, i64 10
  %.val.val36 = load i16, ptr %29, align 2
  %30 = getelementptr i8, ptr %.val.val, i64 18808
  %.val.val.val = load ptr, ptr %30, align 8
  %idxprom.i = zext i16 %.val.val36 to i64
  %arrayidx.i = getelementptr ptr, ptr %.val.val.val, i64 %idxprom.i
  %31 = load ptr, ptr %arrayidx.i, align 8
  call fastcc void @nvme_enqueue_req_completion(ptr noundef %31, ptr noundef nonnull %0)
  ret void
}

declare zeroext i16 @nvme_dif_mangle_mdata(ptr noundef, ptr noundef, i64 noundef, i64 noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc zeroext i16 @nvme_check_copy_mcl(ptr nocapture noundef readonly %ns, ptr nocapture noundef readonly %iocb, i16 noundef zeroext %nr) unnamed_addr #0 {
entry:
  %cmp6.not = icmp eq i16 %nr, 0
  br i1 %cmp6.not, label %for.end, label %for.body.lr.ph

for.body.lr.ph:                                   ; preds = %entry
  %ranges = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %iocb, i64 0, i32 4
  %0 = load ptr, ptr %ranges, align 8
  %format = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %iocb, i64 0, i32 5
  %1 = load i32, ptr %format, align 8
  %conv2 = trunc i32 %1 to i8
  %switch = icmp ult i8 %conv2, 2
  br i1 %switch, label %for.body.lr.ph.split, label %sw.default.i

for.body.lr.ph.split:                             ; preds = %for.body.lr.ph
  %cond = icmp eq i8 %conv2, 0
  %wide.trip.count14 = zext i16 %nr to i64
  br i1 %cond, label %for.body.us, label %for.body

for.body.us:                                      ; preds = %for.body.lr.ph.split, %for.body.us
  %indvars.iv11 = phi i64 [ %indvars.iv.next12, %for.body.us ], [ 0, %for.body.lr.ph.split ]
  %copy_len.07.us = phi i32 [ %add3.us, %for.body.us ], [ 0, %for.body.lr.ph.split ]
  %nlb6.i.i.us = getelementptr %struct.NvmeCopySourceRangeFormat0, ptr %0, i64 %indvars.iv11, i32 2
  %nlb.0.in.in.us = load i16, ptr %nlb6.i.i.us, align 1
  %nlb.0.in.us = zext i16 %nlb.0.in.in.us to i32
  %add.us = add i32 %copy_len.07.us, 2
  %add3.us = add i32 %add.us, %nlb.0.in.us
  %indvars.iv.next12 = add nuw nsw i64 %indvars.iv11, 1
  %exitcond15.not = icmp eq i64 %indvars.iv.next12, %wide.trip.count14
  br i1 %exitcond15.not, label %for.end, label %for.body.us, !llvm.loop !64

for.body:                                         ; preds = %for.body.lr.ph.split, %for.body
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.body ], [ 0, %for.body.lr.ph.split ]
  %copy_len.07 = phi i32 [ %add3, %for.body ], [ 0, %for.body.lr.ph.split ]
  %nlb6.i16.i = getelementptr %struct.NvmeCopySourceRangeFormat1, ptr %0, i64 %indvars.iv, i32 2
  %nlb.0.in.in = load i16, ptr %nlb6.i16.i, align 1
  %nlb.0.in = zext i16 %nlb.0.in.in to i32
  %add = add i32 %copy_len.07, 2
  %add3 = add i32 %add, %nlb.0.in
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %exitcond.not = icmp eq i64 %indvars.iv.next, %wide.trip.count14
  br i1 %exitcond.not, label %for.end, label %for.body, !llvm.loop !64

sw.default.i:                                     ; preds = %for.body.lr.ph
  tail call void @abort() #18
  unreachable

for.end:                                          ; preds = %for.body, %for.body.us, %entry
  %copy_len.0.lcssa = phi i32 [ 0, %entry ], [ %add3.us, %for.body.us ], [ %add3, %for.body ]
  %mcl = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 5, i32 27
  %2 = load i32, ptr %mcl, align 4
  %cmp4 = icmp ugt i32 %copy_len.0.lcssa, %2
  %. = select i1 %cmp4, i16 16771, i16 0
  ret i16 %.
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @nvme_do_copy(ptr noundef %iocb) unnamed_addr #0 {
entry:
  %err.i = alloca ptr, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %req1 = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %iocb, i64 0, i32 2
  %0 = load ptr, ptr %req1, align 8
  %ns2 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 1
  %1 = load ptr, ptr %ns2, align 8
  %ret = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %iocb, i64 0, i32 3
  %2 = load i32, ptr %ret, align 8
  %cmp = icmp slt i32 %2, 0
  br i1 %cmp, label %done, label %if.end

if.end:                                           ; preds = %entry
  %idx = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %iocb, i64 0, i32 7
  %3 = load i32, ptr %idx, align 8
  %nr = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %iocb, i64 0, i32 6
  %4 = load i32, ptr %nr, align 4
  %cmp3 = icmp eq i32 %3, %4
  br i1 %cmp3, label %done, label %if.end5

if.end5:                                          ; preds = %if.end
  %ranges = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %iocb, i64 0, i32 4
  %5 = load ptr, ptr %ranges, align 8
  %format = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %iocb, i64 0, i32 5
  %6 = load i32, ptr %format, align 8
  %conv = trunc i32 %6 to i8
  switch i8 %conv, label %sw.default.i [
    i8 0, label %sw.bb.i
    i8 1, label %sw.bb1.i
  ]

sw.bb.i:                                          ; preds = %if.end5
  %idxprom.i.i = sext i32 %3 to i64
  %slba1.i.i = getelementptr %struct.NvmeCopySourceRangeFormat0, ptr %5, i64 %idxprom.i.i, i32 1
  %nlb6.i.i = getelementptr %struct.NvmeCopySourceRangeFormat0, ptr %5, i64 %idxprom.i.i, i32 2
  br label %nvme_copy_source_range_parse.exit

sw.bb1.i:                                         ; preds = %if.end5
  %idxprom.i10.i = sext i32 %3 to i64
  %slba1.i11.i = getelementptr %struct.NvmeCopySourceRangeFormat1, ptr %5, i64 %idxprom.i10.i, i32 1
  %nlb6.i16.i = getelementptr %struct.NvmeCopySourceRangeFormat1, ptr %5, i64 %idxprom.i10.i, i32 2
  br label %nvme_copy_source_range_parse.exit

sw.default.i:                                     ; preds = %if.end5
  tail call void @abort() #18
  unreachable

nvme_copy_source_range_parse.exit:                ; preds = %sw.bb.i, %sw.bb1.i
  %slba.0.in = phi ptr [ %slba1.i11.i, %sw.bb1.i ], [ %slba1.i.i, %sw.bb.i ]
  %nlb.0.in.in.in = phi ptr [ %nlb6.i16.i, %sw.bb1.i ], [ %nlb6.i.i, %sw.bb.i ]
  %nlb.0.in.in = load i16, ptr %nlb.0.in.in.in, align 1
  %nlb.0.in = zext i16 %nlb.0.in.in to i32
  %nlb.0 = add nuw nsw i32 %nlb.0.in, 1
  %slba.0 = load i64, ptr %slba.0.in, align 1
  %conv7 = zext nneg i32 %nlb.0 to i64
  %7 = getelementptr i8, ptr %1, i64 8466
  %.val27 = load i8, ptr %7, align 2
  %sh_prom.i = zext nneg i8 %.val27 to i64
  %shl.i = shl i64 %conv7, %sh_prom.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %8 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %8, 0
  %9 = load i16, ptr @_TRACE_PCI_NVME_COPY_SOURCE_RANGE_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %9, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_copy_source_range.exit

land.lhs.true5.i.i:                               ; preds = %nvme_copy_source_range_parse.exit
  %10 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %10, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_copy_source_range.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %11 = load i8, ptr @message_with_timestamp, align 1
  %12 = and i8 %11, 1
  %tobool7.not.i.i = icmp eq i8 %12, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %13 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %14 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.261, i32 noundef %call10.i.i, i64 noundef %13, i64 noundef %14, i64 noundef %slba.0, i32 noundef %nlb.0) #17
  br label %trace_pci_nvme_copy_source_range.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.262, i64 noundef %slba.0, i32 noundef %nlb.0) #17
  br label %trace_pci_nvme_copy_source_range.exit

trace_pci_nvme_copy_source_range.exit:            ; preds = %nvme_copy_source_range_parse.exit, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %mssrl = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 5, i32 26
  %15 = load i16, ptr %mssrl, align 2
  %cmp10.not = icmp ult i16 %nlb.0.in.in, %15
  br i1 %cmp10.not, label %if.end13, label %invalid

if.end13:                                         ; preds = %trace_pci_nvme_copy_source_range.exit
  %16 = getelementptr i8, ptr %1, i64 272
  %.val28 = load i64, ptr %16, align 8
  %call14 = tail call fastcc zeroext i16 @nvme_check_bounds(i64 %.val28, i64 noundef %slba.0, i32 noundef %nlb.0)
  %tobool.not = icmp eq i16 %call14, 0
  br i1 %tobool.not, label %if.end16, label %invalid

if.end16:                                         ; preds = %if.end13
  %features = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 33
  %17 = load i32, ptr %features, align 8
  %and = and i32 %17, 65536
  %tobool17.not = icmp eq i32 %and, 0
  br i1 %tobool17.not, label %if.end23, label %if.then18

if.then18:                                        ; preds = %if.end16
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %err.i)
  store ptr null, ptr %err.i, align 8
  %call.i = tail call fastcc i32 @nvme_block_status_all(ptr noundef nonnull %1, i64 noundef %slba.0, i32 noundef %nlb.0, i32 noundef 1), !range !46
  %tobool.not.i = icmp eq i32 %call.i, 0
  br i1 %tobool.not.i, label %nvme_check_dulbe.exit, label %if.then.i

if.then.i:                                        ; preds = %if.then18
  %cmp.i = icmp slt i32 %call.i, 0
  br i1 %cmp.i, label %if.then1.i, label %nvme_check_dulbe.exit.thread

if.then1.i:                                       ; preds = %if.then.i
  %sub.i = sub i32 0, %call.i
  call void (ptr, ptr, i32, ptr, i32, ptr, ...) @error_setg_errno_internal(ptr noundef nonnull %err.i, ptr noundef nonnull @.str.1, i32 noundef 1729, ptr noundef nonnull @__func__.nvme_check_dulbe, i32 noundef %sub.i, ptr noundef nonnull @.str.235) #17
  %18 = load ptr, ptr %err.i, align 8
  call void @error_report_err(ptr noundef %18) #17
  br label %nvme_check_dulbe.exit.thread

nvme_check_dulbe.exit.thread:                     ; preds = %if.then1.i, %if.then.i
  %retval.0.i.ph = phi i16 [ 647, %if.then.i ], [ 6, %if.then1.i ]
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %err.i)
  br label %invalid

nvme_check_dulbe.exit:                            ; preds = %if.then18
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %err.i)
  br label %if.end23

if.end23:                                         ; preds = %nvme_check_dulbe.exit, %if.end16
  %zoned = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 30, i32 14
  %19 = load i8, ptr %zoned, align 1
  %20 = and i8 %19, 1
  %tobool24.not = icmp eq i8 %20, 0
  br i1 %tobool24.not, label %if.end30, label %if.then25

if.then25:                                        ; preds = %if.end23
  %zone_size_log2.i.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 26
  %21 = load i32, ptr %zone_size_log2.i.i.i, align 8
  %cmp.not.i.i.i = icmp eq i32 %21, 0
  br i1 %cmp.not.i.i.i, label %cond.false.i.i.i, label %cond.true.i.i.i

cond.true.i.i.i:                                  ; preds = %if.then25
  %sh_prom.i.i.i = zext nneg i32 %21 to i64
  %shr.i.i.i = lshr i64 %slba.0, %sh_prom.i.i.i
  br label %nvme_zone_idx.exit.i.i

cond.false.i.i.i:                                 ; preds = %if.then25
  %zone_size.i.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 24
  %22 = load i64, ptr %zone_size.i.i.i, align 8
  %div.i.i.i = udiv i64 %slba.0, %22
  br label %nvme_zone_idx.exit.i.i

nvme_zone_idx.exit.i.i:                           ; preds = %cond.false.i.i.i, %cond.true.i.i.i
  %cond.i.i.i = phi i64 [ %shr.i.i.i, %cond.true.i.i.i ], [ %div.i.i.i, %cond.false.i.i.i ]
  %conv.i.i.i = trunc i64 %cond.i.i.i to i32
  %num_zones.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 23
  %23 = load i32, ptr %num_zones.i.i, align 8
  %cmp.not.i.i = icmp ugt i32 %23, %conv.i.i.i
  br i1 %cmp.not.i.i, label %nvme_get_zone_by_slba.exit.i, label %if.else.i

nvme_get_zone_by_slba.exit.i:                     ; preds = %nvme_zone_idx.exit.i.i
  %zone_array.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 18
  %24 = load ptr, ptr %zone_array.i.i, align 8
  %idxprom.i.i29 = and i64 %cond.i.i.i, 4294967295
  %arrayidx.i.i = getelementptr %struct.NvmeZone, ptr %24, i64 %idxprom.i.i29
  %tobool.not.i30 = icmp eq ptr %arrayidx.i.i, null
  br i1 %tobool.not.i30, label %if.else.i, label %if.end.i

if.else.i:                                        ; preds = %nvme_get_zone_by_slba.exit.i, %nvme_zone_idx.exit.i.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.35, ptr noundef nonnull @.str.1, i32 noundef 1883, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_check_zone_read) #18
  unreachable

if.end.i:                                         ; preds = %nvme_get_zone_by_slba.exit.i
  %25 = getelementptr i8, ptr %1, i64 8616
  %ns.val.i = load i64, ptr %25, align 8
  %26 = getelementptr i8, ptr %arrayidx.i.i, i64 16
  %call.val.i = load i64, ptr %26, align 8
  %add.i = add i64 %slba.0, %conv7
  %call2.i = tail call fastcc zeroext i16 @nvme_check_zone_state_for_read(ptr noundef nonnull %arrayidx.i.i), !range !44
  %tobool3.not.i = icmp eq i16 %call2.i, 0
  br i1 %tobool3.not.i, label %if.else5.i, label %invalid

if.else5.i:                                       ; preds = %if.end.i
  %add.i.i31 = add i64 %call.val.i, %ns.val.i
  %cmp.i32 = icmp ugt i64 %add.i, %add.i.i31
  br i1 %cmp.i32, label %if.then10.i, label %if.end30

if.then10.i:                                      ; preds = %if.else5.i
  %cross_zone_read.i = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 30, i32 15
  %27 = load i8, ptr %cross_zone_read.i, align 2
  %28 = and i8 %27, 1
  %tobool11.not.i = icmp eq i8 %28, 0
  br i1 %tobool11.not.i, label %invalid, label %do.body.i

do.body.i:                                        ; preds = %if.then10.i, %do.cond.i
  %zone.0.i = phi ptr [ %incdec.ptr.i, %do.cond.i ], [ %arrayidx.i.i, %if.then10.i ]
  %incdec.ptr.i = getelementptr %struct.NvmeZone, ptr %zone.0.i, i64 1
  %call14.i = tail call fastcc zeroext i16 @nvme_check_zone_state_for_read(ptr noundef %incdec.ptr.i), !range !44
  %tobool15.not.i = icmp eq i16 %call14.i, 0
  br i1 %tobool15.not.i, label %do.cond.i, label %invalid

do.cond.i:                                        ; preds = %do.body.i
  %ns.val13.i = load i64, ptr %25, align 8
  %29 = getelementptr %struct.NvmeZone, ptr %zone.0.i, i64 1, i32 0, i32 5
  %incdec.ptr.val.i = load i64, ptr %29, align 8
  %add.i14.i = add i64 %incdec.ptr.val.i, %ns.val13.i
  %cmp19.i = icmp ugt i64 %add.i, %add.i14.i
  br i1 %cmp19.i, label %do.body.i, label %if.end30, !llvm.loop !45

if.end30:                                         ; preds = %do.cond.i, %if.else5.i, %if.end23
  %iov = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %iocb, i64 0, i32 9
  tail call void @qemu_iovec_reset(ptr noundef nonnull %iov) #17
  %bounce = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %iocb, i64 0, i32 8
  %30 = load ptr, ptr %bounce, align 8
  tail call void @qemu_iovec_add(ptr noundef nonnull %iov, ptr noundef %30, i64 noundef %shl.i) #17
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 1
  %31 = load ptr, ptr %blkconf, align 8
  %.val = load i8, ptr %7, align 2
  %sh_prom.i33 = zext nneg i8 %.val to i64
  %shl.i34 = shl i64 %slba.0, %sh_prom.i33
  %call34 = tail call ptr @blk_aio_preadv(ptr noundef %31, i64 noundef %shl.i34, ptr noundef nonnull %iov, i32 noundef 0, ptr noundef nonnull @nvme_copy_in_cb, ptr noundef %iocb) #17
  %aiocb = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %iocb, i64 0, i32 1
  store ptr %call34, ptr %aiocb, align 8
  br label %return

invalid:                                          ; preds = %do.body.i, %if.then10.i, %if.end.i, %nvme_check_dulbe.exit.thread, %trace_pci_nvme_copy_source_range.exit, %if.end13
  %status.0 = phi i16 [ %call14, %if.end13 ], [ 16771, %trace_pci_nvme_copy_source_range.exit ], [ %retval.0.i.ph, %nvme_check_dulbe.exit.thread ], [ 440, %if.then10.i ], [ %call2.i, %if.end.i ], [ %call14.i, %do.body.i ]
  %status35 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 3
  store i16 %status.0, ptr %status35, align 8
  store i32 -1, ptr %ret, align 8
  %.pre = load ptr, ptr %req1, align 8
  %ns2.i.phi.trans.insert = getelementptr inbounds %struct.NvmeRequest, ptr %.pre, i64 0, i32 1
  %.pre54 = load ptr, ptr %ns2.i.phi.trans.insert, align 8
  br label %done

done:                                             ; preds = %if.end, %entry, %invalid
  %32 = phi ptr [ %1, %if.end ], [ %1, %entry ], [ %.pre54, %invalid ]
  %33 = phi ptr [ %0, %if.end ], [ %0, %entry ], [ %.pre, %invalid ]
  %blkconf.i = getelementptr inbounds %struct.NvmeNamespace, ptr %32, i64 0, i32 1
  %34 = load ptr, ptr %blkconf.i, align 8
  %call.i35 = call ptr @blk_get_stats(ptr noundef %34) #17
  %idx.i = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %iocb, i64 0, i32 7
  %35 = load i32, ptr %idx.i, align 8
  %nr.i = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %iocb, i64 0, i32 6
  %36 = load i32, ptr %nr.i, align 4
  %cmp.not.i = icmp eq i32 %35, %36
  br i1 %cmp.not.i, label %if.end.i37, label %if.then.i36

if.then.i36:                                      ; preds = %done
  %cqe.i = getelementptr inbounds %struct.NvmeRequest, ptr %33, i64 0, i32 5
  store i32 %35, ptr %cqe.i, align 8
  br label %if.end.i37

if.end.i37:                                       ; preds = %if.then.i36, %done
  %iov.i = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %iocb, i64 0, i32 9
  call void @qemu_iovec_destroy(ptr noundef nonnull %iov.i) #17
  %bounce.i = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %iocb, i64 0, i32 8
  %37 = load ptr, ptr %bounce.i, align 8
  call void @g_free(ptr noundef %37) #17
  %38 = load i32, ptr %ret, align 8
  %cmp5.i = icmp slt i32 %38, 0
  %acct.i = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %iocb, i64 0, i32 10
  %write.i = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %iocb, i64 0, i32 10, i32 1
  br i1 %cmp5.i, label %if.then6.i, label %if.else.i38

if.then6.i:                                       ; preds = %if.end.i37
  call void @block_acct_failed(ptr noundef %call.i35, ptr noundef nonnull %acct.i) #17
  call void @block_acct_failed(ptr noundef %call.i35, ptr noundef nonnull %write.i) #17
  br label %nvme_copy_done.exit

if.else.i38:                                      ; preds = %if.end.i37
  call void @block_acct_done(ptr noundef %call.i35, ptr noundef nonnull %acct.i) #17
  call void @block_acct_done(ptr noundef %call.i35, ptr noundef nonnull %write.i) #17
  br label %nvme_copy_done.exit

nvme_copy_done.exit:                              ; preds = %if.then6.i, %if.else.i38
  %cb.i = getelementptr inbounds %struct.BlockAIOCB, ptr %iocb, i64 0, i32 2
  %39 = load ptr, ptr %cb.i, align 8
  %opaque.i = getelementptr inbounds %struct.BlockAIOCB, ptr %iocb, i64 0, i32 3
  %40 = load ptr, ptr %opaque.i, align 8
  %41 = load i32, ptr %ret, align 8
  call void %39(ptr noundef %40, i32 noundef %41) #17
  call void @qemu_aio_unref(ptr noundef nonnull %iocb) #17
  br label %return

return:                                           ; preds = %nvme_copy_done.exit, %if.end30
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_copy_cancel(ptr nocapture noundef %aiocb) #0 {
entry:
  %ret = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %aiocb, i64 0, i32 3
  store i32 -125, ptr %ret, align 8
  %aiocb1 = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %aiocb, i64 0, i32 1
  %0 = load ptr, ptr %aiocb1, align 8
  %tobool.not = icmp eq ptr %0, null
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  tail call void @blk_aio_cancel_async(ptr noundef nonnull %0) #17
  store ptr null, ptr %aiocb1, align 8
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  ret void
}

; Function Attrs: noreturn nounwind
declare void @abort() local_unnamed_addr #2

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_copy_in_cb(ptr noundef %opaque, i32 noundef %ret) #0 {
entry:
  %req1 = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 2
  %0 = load ptr, ptr %req1, align 8
  %ns2 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 1
  %1 = load ptr, ptr %ns2, align 8
  %cmp = icmp slt i32 %ret, 0
  br i1 %cmp, label %out, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %entry
  %ret3 = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 3
  %2 = load i32, ptr %ret3, align 8
  %cmp4 = icmp slt i32 %2, 0
  br i1 %cmp4, label %out, label %lor.lhs.false5

lor.lhs.false5:                                   ; preds = %lor.lhs.false
  %lbaf = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 7
  %3 = load i16, ptr %lbaf, align 8
  %tobool.not = icmp eq i16 %3, 0
  br i1 %tobool.not, label %out, label %if.end

if.end:                                           ; preds = %lor.lhs.false5
  %ranges = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 4
  %4 = load ptr, ptr %ranges, align 8
  %idx = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 7
  %5 = load i32, ptr %idx, align 8
  %format = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 5
  %6 = load i32, ptr %format, align 8
  %conv = trunc i32 %6 to i8
  switch i8 %conv, label %sw.default.i [
    i8 0, label %sw.bb.i
    i8 1, label %sw.bb1.i
  ]

sw.bb.i:                                          ; preds = %if.end
  %idxprom.i.i = sext i32 %5 to i64
  %slba1.i.i = getelementptr %struct.NvmeCopySourceRangeFormat0, ptr %4, i64 %idxprom.i.i, i32 1
  %nlb6.i.i = getelementptr %struct.NvmeCopySourceRangeFormat0, ptr %4, i64 %idxprom.i.i, i32 2
  br label %nvme_copy_source_range_parse.exit

sw.bb1.i:                                         ; preds = %if.end
  %idxprom.i10.i = sext i32 %5 to i64
  %slba1.i11.i = getelementptr %struct.NvmeCopySourceRangeFormat1, ptr %4, i64 %idxprom.i10.i, i32 1
  %nlb6.i16.i = getelementptr %struct.NvmeCopySourceRangeFormat1, ptr %4, i64 %idxprom.i10.i, i32 2
  br label %nvme_copy_source_range_parse.exit

sw.default.i:                                     ; preds = %if.end
  tail call void @abort() #18
  unreachable

nvme_copy_source_range_parse.exit:                ; preds = %sw.bb.i, %sw.bb1.i
  %slba.0.in = phi ptr [ %slba1.i11.i, %sw.bb1.i ], [ %slba1.i.i, %sw.bb.i ]
  %nlb.0.in.in.in = phi ptr [ %nlb6.i16.i, %sw.bb1.i ], [ %nlb6.i.i, %sw.bb.i ]
  %nlb.0.in.in = load i16, ptr %nlb.0.in.in.in, align 1
  %nlb.0.in = zext i16 %nlb.0.in.in to i64
  %nlb.0 = add nuw nsw i64 %nlb.0.in, 1
  %slba.0 = load i64, ptr %slba.0.in, align 1
  %iov = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 9
  tail call void @qemu_iovec_reset(ptr noundef nonnull %iov) #17
  %bounce = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 8
  %7 = load ptr, ptr %bounce, align 8
  %8 = getelementptr i8, ptr %1, i64 8466
  %.val = load i8, ptr %8, align 2
  %sh_prom.i = zext nneg i8 %.val to i64
  %shl.i = shl i64 %nlb.0, %sh_prom.i
  %add.ptr = getelementptr i8, ptr %7, i64 %shl.i
  %.val17 = load i16, ptr %lbaf, align 8
  %conv.i = zext i16 %.val17 to i64
  %mul.i = mul nuw nsw i64 %nlb.0, %conv.i
  tail call void @qemu_iovec_add(ptr noundef nonnull %iov, ptr noundef %add.ptr, i64 noundef %mul.i) #17
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 1
  %9 = load ptr, ptr %blkconf, align 8
  %10 = getelementptr i8, ptr %1, i64 264
  %.val18 = load i64, ptr %10, align 8
  %.val19 = load i16, ptr %lbaf, align 8
  %conv.i.i20 = zext i16 %.val19 to i64
  %mul.i.i = mul i64 %slba.0, %conv.i.i20
  %add.i = add i64 %mul.i.i, %.val18
  %call12 = tail call ptr @blk_aio_preadv(ptr noundef %9, i64 noundef %add.i, ptr noundef nonnull %iov, i32 noundef 0, ptr noundef nonnull @nvme_copy_in_completed_cb, ptr noundef nonnull %opaque) #17
  %aiocb = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 1
  store ptr %call12, ptr %aiocb, align 8
  br label %return

out:                                              ; preds = %entry, %lor.lhs.false, %lor.lhs.false5
  tail call void @nvme_copy_in_completed_cb(ptr noundef nonnull %opaque, i32 noundef %ret)
  br label %return

return:                                           ; preds = %out, %nvme_copy_source_range_parse.exit
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_copy_in_completed_cb(ptr noundef %opaque, i32 noundef %ret) #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %reftag = alloca i64, align 8
  %req1 = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 2
  %0 = load ptr, ptr %req1, align 8
  %ns2 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 1
  %1 = load ptr, ptr %ns2, align 8
  %cmp = icmp slt i32 %ret, 0
  %ret3 = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 3
  br i1 %cmp, label %out.sink.split, label %if.else

if.else:                                          ; preds = %entry
  %2 = load i32, ptr %ret3, align 8
  %cmp5 = icmp slt i32 %2, 0
  br i1 %cmp5, label %out, label %if.end7

if.end7:                                          ; preds = %if.else
  %ranges = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 4
  %3 = load ptr, ptr %ranges, align 8
  %idx = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 7
  %4 = load i32, ptr %idx, align 8
  %format = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 5
  %5 = load i32, ptr %format, align 8
  %conv = trunc i32 %5 to i8
  switch i8 %conv, label %sw.default.i [
    i8 0, label %sw.bb.i
    i8 1, label %sw.bb1.i
  ]

sw.bb.i:                                          ; preds = %if.end7
  %idxprom.i.i = sext i32 %4 to i64
  %slba1.i.i = getelementptr %struct.NvmeCopySourceRangeFormat0, ptr %3, i64 %idxprom.i.i, i32 1
  %nlb6.i.i = getelementptr %struct.NvmeCopySourceRangeFormat0, ptr %3, i64 %idxprom.i.i, i32 2
  %apptag13.i.i = getelementptr %struct.NvmeCopySourceRangeFormat0, ptr %3, i64 %idxprom.i.i, i32 5
  %appmask20.i.i = getelementptr %struct.NvmeCopySourceRangeFormat0, ptr %3, i64 %idxprom.i.i, i32 6
  %reftag27.i.i = getelementptr %struct.NvmeCopySourceRangeFormat0, ptr %3, i64 %idxprom.i.i, i32 4
  %6 = load i32, ptr %reftag27.i.i, align 1
  %conv29.i.i = zext i32 %6 to i64
  br label %nvme_copy_source_range_parse.exit

sw.bb1.i:                                         ; preds = %if.end7
  %idxprom.i10.i = sext i32 %4 to i64
  %slba1.i11.i = getelementptr %struct.NvmeCopySourceRangeFormat1, ptr %3, i64 %idxprom.i10.i, i32 1
  %nlb6.i16.i = getelementptr %struct.NvmeCopySourceRangeFormat1, ptr %3, i64 %idxprom.i10.i, i32 2
  %apptag13.i23.i = getelementptr %struct.NvmeCopySourceRangeFormat1, ptr %3, i64 %idxprom.i10.i, i32 5
  %appmask20.i28.i = getelementptr %struct.NvmeCopySourceRangeFormat1, ptr %3, i64 %idxprom.i10.i, i32 6
  %arrayidx27.i.i = getelementptr %struct.NvmeCopySourceRangeFormat1, ptr %3, i64 %idxprom.i10.i, i32 4, i64 4
  %7 = load i8, ptr %arrayidx27.i.i, align 1
  %conv28.i.i = zext i8 %7 to i64
  %shl.i.i = shl nuw nsw i64 %conv28.i.i, 40
  %arrayidx32.i.i = getelementptr %struct.NvmeCopySourceRangeFormat1, ptr %3, i64 %idxprom.i10.i, i32 4, i64 5
  %8 = load i8, ptr %arrayidx32.i.i, align 1
  %conv33.i.i = zext i8 %8 to i64
  %shl34.i.i = shl nuw nsw i64 %conv33.i.i, 32
  %or35.i.i = or disjoint i64 %shl34.i.i, %shl.i.i
  %arrayidx39.i.i = getelementptr %struct.NvmeCopySourceRangeFormat1, ptr %3, i64 %idxprom.i10.i, i32 4, i64 6
  %9 = load i8, ptr %arrayidx39.i.i, align 1
  %conv40.i.i = zext i8 %9 to i64
  %shl41.i.i = shl nuw nsw i64 %conv40.i.i, 24
  %or42.i.i = or disjoint i64 %shl41.i.i, %or35.i.i
  %arrayidx46.i.i = getelementptr %struct.NvmeCopySourceRangeFormat1, ptr %3, i64 %idxprom.i10.i, i32 4, i64 7
  %10 = load i8, ptr %arrayidx46.i.i, align 1
  %conv47.i.i = zext i8 %10 to i64
  %shl48.i.i = shl nuw nsw i64 %conv47.i.i, 16
  %or49.i.i = or disjoint i64 %shl48.i.i, %or42.i.i
  %arrayidx53.i.i = getelementptr %struct.NvmeCopySourceRangeFormat1, ptr %3, i64 %idxprom.i10.i, i32 4, i64 8
  %11 = load i8, ptr %arrayidx53.i.i, align 1
  %conv54.i.i = zext i8 %11 to i64
  %shl55.i.i = shl nuw nsw i64 %conv54.i.i, 8
  %or56.i.i = or disjoint i64 %shl55.i.i, %or49.i.i
  %arrayidx60.i.i = getelementptr %struct.NvmeCopySourceRangeFormat1, ptr %3, i64 %idxprom.i10.i, i32 4, i64 9
  %12 = load i8, ptr %arrayidx60.i.i, align 1
  %conv61.i.i = zext i8 %12 to i64
  %or62.i.i = or disjoint i64 %or56.i.i, %conv61.i.i
  br label %nvme_copy_source_range_parse.exit

sw.default.i:                                     ; preds = %if.end7
  tail call void @abort() #18
  unreachable

nvme_copy_source_range_parse.exit:                ; preds = %sw.bb.i, %sw.bb1.i
  %nlb.0.in.in.in = phi ptr [ %nlb6.i16.i, %sw.bb1.i ], [ %nlb6.i.i, %sw.bb.i ]
  %slba.0.in = phi ptr [ %slba1.i11.i, %sw.bb1.i ], [ %slba1.i.i, %sw.bb.i ]
  %apptag.0.in = phi ptr [ %apptag13.i23.i, %sw.bb1.i ], [ %apptag13.i.i, %sw.bb.i ]
  %appmask.0.in = phi ptr [ %appmask20.i28.i, %sw.bb1.i ], [ %appmask20.i.i, %sw.bb.i ]
  %or62.i.sink.i = phi i64 [ %or62.i.i, %sw.bb1.i ], [ %conv29.i.i, %sw.bb.i ]
  %appmask.0 = load i16, ptr %appmask.0.in, align 1
  %apptag.0 = load i16, ptr %apptag.0.in, align 1
  %slba.0 = load i64, ptr %slba.0.in, align 1
  %nlb.0.in.in = load i16, ptr %nlb.0.in.in.in, align 1
  %nlb.0.in = zext i16 %nlb.0.in.in to i32
  %nlb.0 = add nuw nsw i32 %nlb.0.in, 1
  store i64 %or62.i.sink.i, ptr %reftag, align 8
  %conv8 = zext nneg i32 %nlb.0 to i64
  %13 = getelementptr i8, ptr %1, i64 8466
  %.val67 = load i8, ptr %13, align 2
  %sh_prom.i = zext nneg i8 %.val67 to i64
  %shl.i = shl i64 %conv8, %sh_prom.i
  %slba9 = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 12
  %14 = load i64, ptr %slba9, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %15 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %15, 0
  %16 = load i16, ptr @_TRACE_PCI_NVME_COPY_OUT_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %16, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_copy_out.exit

land.lhs.true5.i.i:                               ; preds = %nvme_copy_source_range_parse.exit
  %17 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %17, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_copy_out.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %18 = load i8, ptr @message_with_timestamp, align 1
  %19 = and i8 %18, 1
  %tobool7.not.i.i = icmp eq i8 %19, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %20 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %21 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.263, i32 noundef %call10.i.i, i64 noundef %20, i64 noundef %21, i64 noundef %14, i32 noundef %nlb.0) #17
  br label %trace_pci_nvme_copy_out.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.264, i64 noundef %14, i32 noundef %nlb.0) #17
  br label %trace_pci_nvme_copy_out.exit

trace_pci_nvme_copy_out.exit:                     ; preds = %nvme_copy_source_range_parse.exit, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %dps = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 5, i32 8
  %22 = load i8, ptr %dps, align 1
  %23 = and i8 %22, 7
  %tobool.not = icmp eq i8 %23, 0
  br i1 %tobool.not, label %if.end62, label %if.then11

if.then11:                                        ; preds = %trace_pci_nvme_copy_out.exit
  %control = getelementptr inbounds i8, ptr %0, i64 105
  %24 = load i8, ptr %control, align 1
  %arrayidx16 = getelementptr i8, ptr %0, i64 107
  %25 = load i8, ptr %arrayidx16, align 1
  %26 = lshr i8 %25, 2
  %27 = and i8 %26, 15
  %28 = getelementptr i8, ptr %1, i64 8464
  %.val68 = load i16, ptr %28, align 8
  %conv.i = zext i16 %.val68 to i64
  %mul.i = mul nuw nsw i64 %conv.i, %conv8
  %bounce = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 8
  %29 = load ptr, ptr %bounce, align 8
  %.val66 = load i8, ptr %13, align 2
  %sh_prom.i70 = zext nneg i8 %.val66 to i64
  %shl.i71 = shl i64 %conv8, %sh_prom.i70
  %add.ptr = getelementptr i8, ptr %29, i64 %shl.i71
  %call25 = tail call zeroext i16 @nvme_dif_mangle_mdata(ptr noundef nonnull %1, ptr noundef %add.ptr, i64 noundef %mul.i, i64 noundef %slba.0) #17
  %tobool26.not = icmp eq i16 %call25, 0
  br i1 %tobool26.not, label %if.end28, label %invalid

if.end28:                                         ; preds = %if.then11
  %30 = lshr i8 %24, 4
  %31 = load ptr, ptr %bounce, align 8
  %call31 = call zeroext i16 @nvme_dif_check(ptr noundef nonnull %1, ptr noundef %31, i64 noundef %shl.i, ptr noundef %add.ptr, i64 noundef %mul.i, i8 noundef zeroext %30, i64 noundef %slba.0, i16 noundef zeroext %apptag.0, i16 noundef zeroext %appmask.0, ptr noundef nonnull %reftag) #17
  %tobool32.not = icmp eq i16 %call31, 0
  br i1 %tobool32.not, label %if.end34, label %invalid

if.end34:                                         ; preds = %if.end28
  %apptag35 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 6, i32 12
  %32 = load i16, ptr %apptag35, align 1
  %33 = and i8 %25, 32
  %tobool41.not = icmp eq i8 %33, 0
  br i1 %tobool41.not, label %if.else52, label %if.then42

if.then42:                                        ; preds = %if.end34
  %34 = load i64, ptr %slba9, align 8
  %reftag45 = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 11
  %35 = load i64, ptr %reftag45, align 8
  %call46 = call zeroext i16 @nvme_check_prinfo(ptr noundef nonnull %1, i8 noundef zeroext %27, i64 noundef %34, i64 noundef %35) #17
  %tobool47.not = icmp eq i16 %call46, 0
  br i1 %tobool47.not, label %if.end49, label %invalid

if.end49:                                         ; preds = %if.then42
  %36 = load ptr, ptr %bounce, align 8
  call void @nvme_dif_pract_generate_dif(ptr noundef nonnull %1, ptr noundef %36, i64 noundef %shl.i, ptr noundef %add.ptr, i64 noundef %mul.i, i16 noundef zeroext %32, ptr noundef nonnull %reftag45) #17
  br label %if.end62

if.else52:                                        ; preds = %if.end34
  %appmask37 = getelementptr inbounds i8, ptr %0, i64 118
  %37 = load i16, ptr %appmask37, align 1
  %38 = load ptr, ptr %bounce, align 8
  %39 = load i64, ptr %slba9, align 8
  %reftag56 = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 11
  %call57 = call zeroext i16 @nvme_dif_check(ptr noundef nonnull %1, ptr noundef %38, i64 noundef %shl.i, ptr noundef %add.ptr, i64 noundef %mul.i, i8 noundef zeroext %27, i64 noundef %39, i16 noundef zeroext %32, i16 noundef zeroext %37, ptr noundef nonnull %reftag56) #17
  %tobool58.not = icmp eq i16 %call57, 0
  br i1 %tobool58.not, label %if.end62, label %invalid

if.end62:                                         ; preds = %if.end49, %if.else52, %trace_pci_nvme_copy_out.exit
  %40 = load i64, ptr %slba9, align 8
  %41 = getelementptr i8, ptr %1, i64 272
  %.val69 = load i64, ptr %41, align 8
  %call64 = call fastcc zeroext i16 @nvme_check_bounds(i64 %.val69, i64 noundef %40, i32 noundef %nlb.0)
  %tobool65.not = icmp eq i16 %call64, 0
  br i1 %tobool65.not, label %if.end67, label %invalid

if.end67:                                         ; preds = %if.end62
  %zoned = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 30, i32 14
  %42 = load i8, ptr %zoned, align 1
  %43 = and i8 %42, 1
  %tobool68.not = icmp eq i8 %43, 0
  br i1 %tobool68.not, label %if.end83, label %if.then69

if.then69:                                        ; preds = %if.end67
  %zone = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 13
  %44 = load ptr, ptr %zone, align 8
  %45 = load i64, ptr %slba9, align 8
  %call71 = call fastcc zeroext i16 @nvme_check_zone_write(ptr noundef nonnull %1, ptr noundef %44, i64 noundef %45, i32 noundef %nlb.0)
  %tobool72.not = icmp eq i16 %call71, 0
  br i1 %tobool72.not, label %if.end74, label %invalid

if.end74:                                         ; preds = %if.then69
  %46 = load ptr, ptr %zone, align 8
  %za = getelementptr inbounds %struct.NvmeZoneDescr, ptr %46, i64 0, i32 2
  %47 = load i8, ptr %za, align 2
  %48 = and i8 %47, 8
  %tobool78.not = icmp eq i8 %48, 0
  br i1 %tobool78.not, label %if.then79, label %if.end83

if.then79:                                        ; preds = %if.end74
  %w_ptr = getelementptr inbounds %struct.NvmeZone, ptr %46, i64 0, i32 1
  %49 = load i64, ptr %w_ptr, align 8
  %add = add i64 %49, %conv8
  store i64 %add, ptr %w_ptr, align 8
  br label %if.end83

if.end83:                                         ; preds = %if.end74, %if.then79, %if.end67
  %iov = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 9
  call void @qemu_iovec_reset(ptr noundef nonnull %iov) #17
  %bounce85 = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 8
  %50 = load ptr, ptr %bounce85, align 8
  call void @qemu_iovec_add(ptr noundef nonnull %iov, ptr noundef %50, i64 noundef %shl.i) #17
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 1
  %51 = load ptr, ptr %blkconf, align 8
  %52 = load i64, ptr %slba9, align 8
  %.val = load i8, ptr %13, align 2
  %sh_prom.i72 = zext nneg i8 %.val to i64
  %shl.i73 = shl i64 %52, %sh_prom.i72
  %call89 = call ptr @blk_aio_pwritev(ptr noundef %51, i64 noundef %shl.i73, ptr noundef nonnull %iov, i32 noundef 0, ptr noundef nonnull @nvme_copy_out_cb, ptr noundef nonnull %opaque) #17
  %aiocb = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 1
  store ptr %call89, ptr %aiocb, align 8
  br label %return

invalid:                                          ; preds = %if.then69, %if.end62, %if.else52, %if.then42, %if.end28, %if.then11
  %status.0 = phi i16 [ %call25, %if.then11 ], [ %call31, %if.end28 ], [ %call46, %if.then42 ], [ %call64, %if.end62 ], [ %call71, %if.then69 ], [ %call57, %if.else52 ]
  %status90 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 3
  store i16 %status.0, ptr %status90, align 8
  br label %out.sink.split

out.sink.split:                                   ; preds = %entry, %invalid
  %.sink = phi i32 [ -1, %invalid ], [ %ret, %entry ]
  store i32 %.sink, ptr %ret3, align 8
  br label %out

out:                                              ; preds = %out.sink.split, %if.else
  call fastcc void @nvme_do_copy(ptr noundef nonnull %opaque)
  br label %return

return:                                           ; preds = %out, %if.end83
  ret void
}

declare void @nvme_dif_pract_generate_dif(ptr noundef, ptr noundef, i64 noundef, ptr noundef, i64 noundef, i16 noundef zeroext, ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_copy_out_cb(ptr noundef %opaque, i32 noundef %ret) #0 {
entry:
  %req1 = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 2
  %0 = load ptr, ptr %req1, align 8
  %ns2 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 1
  %1 = load ptr, ptr %ns2, align 8
  %cmp = icmp slt i32 %ret, 0
  br i1 %cmp, label %out, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %entry
  %ret3 = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 3
  %2 = load i32, ptr %ret3, align 8
  %cmp4 = icmp slt i32 %2, 0
  br i1 %cmp4, label %out, label %lor.lhs.false5

lor.lhs.false5:                                   ; preds = %lor.lhs.false
  %lbaf = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 7
  %3 = load i16, ptr %lbaf, align 8
  %tobool.not = icmp eq i16 %3, 0
  br i1 %tobool.not, label %out, label %if.end

if.end:                                           ; preds = %lor.lhs.false5
  %ranges = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 4
  %4 = load ptr, ptr %ranges, align 8
  %idx = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 7
  %5 = load i32, ptr %idx, align 8
  %format = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 5
  %6 = load i32, ptr %format, align 8
  %conv = trunc i32 %6 to i8
  switch i8 %conv, label %sw.default.i [
    i8 0, label %sw.bb.i
    i8 1, label %sw.bb1.i
  ]

sw.bb.i:                                          ; preds = %if.end
  %idxprom4.i.i = sext i32 %5 to i64
  %nlb6.i.i = getelementptr %struct.NvmeCopySourceRangeFormat0, ptr %4, i64 %idxprom4.i.i, i32 2
  br label %nvme_copy_source_range_parse.exit

sw.bb1.i:                                         ; preds = %if.end
  %idxprom4.i15.i = sext i32 %5 to i64
  %nlb6.i16.i = getelementptr %struct.NvmeCopySourceRangeFormat1, ptr %4, i64 %idxprom4.i15.i, i32 2
  br label %nvme_copy_source_range_parse.exit

sw.default.i:                                     ; preds = %if.end
  tail call void @abort() #18
  unreachable

nvme_copy_source_range_parse.exit:                ; preds = %sw.bb.i, %sw.bb1.i
  %nlb.0.in.in.in = phi ptr [ %nlb6.i16.i, %sw.bb1.i ], [ %nlb6.i.i, %sw.bb.i ]
  %nlb.0.in.in = load i16, ptr %nlb.0.in.in.in, align 1
  %nlb.0.in = zext i16 %nlb.0.in.in to i64
  %nlb.0 = add nuw nsw i64 %nlb.0.in, 1
  %conv.i = zext i16 %3 to i64
  %mul.i = mul nuw nsw i64 %nlb.0, %conv.i
  %bounce = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 8
  %7 = load ptr, ptr %bounce, align 8
  %8 = getelementptr i8, ptr %1, i64 8466
  %.val = load i8, ptr %8, align 2
  %sh_prom.i = zext nneg i8 %.val to i64
  %shl.i = shl i64 %nlb.0, %sh_prom.i
  %add.ptr = getelementptr i8, ptr %7, i64 %shl.i
  %iov = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 9
  tail call void @qemu_iovec_reset(ptr noundef nonnull %iov) #17
  tail call void @qemu_iovec_add(ptr noundef nonnull %iov, ptr noundef %add.ptr, i64 noundef %mul.i) #17
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 1
  %9 = load ptr, ptr %blkconf, align 8
  %slba = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 12
  %10 = load i64, ptr %slba, align 8
  %11 = getelementptr i8, ptr %1, i64 264
  %.val19 = load i64, ptr %11, align 8
  %.val20 = load i16, ptr %lbaf, align 8
  %conv.i.i21 = zext i16 %.val20 to i64
  %mul.i.i = mul i64 %10, %conv.i.i21
  %add.i = add i64 %mul.i.i, %.val19
  %call12 = tail call ptr @blk_aio_pwritev(ptr noundef %9, i64 noundef %add.i, ptr noundef nonnull %iov, i32 noundef 0, ptr noundef nonnull @nvme_copy_out_completed_cb, ptr noundef nonnull %opaque) #17
  %aiocb = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 1
  store ptr %call12, ptr %aiocb, align 8
  br label %return

out:                                              ; preds = %entry, %lor.lhs.false, %lor.lhs.false5
  tail call void @nvme_copy_out_completed_cb(ptr noundef nonnull %opaque, i32 noundef %ret)
  br label %return

return:                                           ; preds = %out, %nvme_copy_source_range_parse.exit
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_copy_out_completed_cb(ptr noundef %opaque, i32 noundef %ret) #0 {
entry:
  %req1 = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 2
  %0 = load ptr, ptr %req1, align 8
  %ns2 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 1
  %1 = load ptr, ptr %ns2, align 8
  %ranges = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 4
  %2 = load ptr, ptr %ranges, align 8
  %idx = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 7
  %3 = load i32, ptr %idx, align 8
  %format = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 5
  %4 = load i32, ptr %format, align 8
  %conv = trunc i32 %4 to i8
  switch i8 %conv, label %sw.default.i [
    i8 0, label %sw.bb.i
    i8 1, label %sw.bb1.i
  ]

sw.bb.i:                                          ; preds = %entry
  %idxprom4.i.i = sext i32 %3 to i64
  %nlb6.i.i = getelementptr %struct.NvmeCopySourceRangeFormat0, ptr %2, i64 %idxprom4.i.i, i32 2
  br label %nvme_copy_source_range_parse.exit

sw.bb1.i:                                         ; preds = %entry
  %idxprom4.i15.i = sext i32 %3 to i64
  %nlb6.i16.i = getelementptr %struct.NvmeCopySourceRangeFormat1, ptr %2, i64 %idxprom4.i15.i, i32 2
  br label %nvme_copy_source_range_parse.exit

sw.default.i:                                     ; preds = %entry
  tail call void @abort() #18
  unreachable

nvme_copy_source_range_parse.exit:                ; preds = %sw.bb.i, %sw.bb1.i
  %nlb.0.in.in.in = phi ptr [ %nlb6.i16.i, %sw.bb1.i ], [ %nlb6.i.i, %sw.bb.i ]
  %nlb.0.in.in = load i16, ptr %nlb.0.in.in.in, align 1
  %nlb.0.in = zext i16 %nlb.0.in.in to i32
  %nlb.0 = add nuw nsw i32 %nlb.0.in, 1
  %cmp = icmp slt i32 %ret, 0
  %ret4 = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 3
  br i1 %cmp, label %if.then, label %if.else

if.then:                                          ; preds = %nvme_copy_source_range_parse.exit
  store i32 %ret, ptr %ret4, align 8
  br label %out

if.else:                                          ; preds = %nvme_copy_source_range_parse.exit
  %5 = load i32, ptr %ret4, align 8
  %cmp6 = icmp slt i32 %5, 0
  br i1 %cmp6, label %out, label %if.end9

if.end9:                                          ; preds = %if.else
  %zoned = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 30, i32 14
  %6 = load i8, ptr %zoned, align 1
  %7 = and i8 %6, 1
  %tobool.not = icmp eq i8 %7, 0
  br i1 %tobool.not, label %if.end9.if.end11_crit_edge, label %if.then10

if.end9.if.end11_crit_edge:                       ; preds = %if.end9
  %.pre = zext nneg i32 %nlb.0 to i64
  br label %if.end11

if.then10:                                        ; preds = %if.end9
  %zone = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 13
  %8 = load ptr, ptr %zone, align 8
  %conv.i = zext nneg i32 %nlb.0 to i64
  %wp.i = getelementptr inbounds %struct.NvmeZoneDescr, ptr %8, i64 0, i32 6
  %9 = load i64, ptr %wp.i, align 8
  %add.i = add i64 %9, %conv.i
  store i64 %add.i, ptr %wp.i, align 8
  %10 = getelementptr i8, ptr %8, i64 8
  %zone.val.i = load i64, ptr %10, align 8
  %11 = getelementptr i8, ptr %8, i64 16
  %zone.val4.i = load i64, ptr %11, align 8
  %add.i.i12 = add i64 %zone.val4.i, %zone.val.i
  %cmp.i = icmp eq i64 %add.i, %add.i.i12
  br i1 %cmp.i, label %if.then.i, label %if.end11

if.then.i:                                        ; preds = %if.then10
  %call4.i = tail call fastcc zeroext i16 @nvme_zrm_finish(ptr noundef nonnull %1, ptr noundef nonnull %8), !range !12
  br label %if.end11

if.end11:                                         ; preds = %if.end9.if.end11_crit_edge, %if.then.i, %if.then10
  %conv13.pre-phi = phi i64 [ %.pre, %if.end9.if.end11_crit_edge ], [ %conv.i, %if.then.i ], [ %conv.i, %if.then10 ]
  %12 = load i32, ptr %idx, align 8
  %inc = add i32 %12, 1
  store i32 %inc, ptr %idx, align 8
  %slba = getelementptr inbounds %struct.NvmeCopyAIOCB, ptr %opaque, i64 0, i32 12
  %13 = load i64, ptr %slba, align 8
  %add = add i64 %13, %conv13.pre-phi
  store i64 %add, ptr %slba, align 8
  br label %out

out:                                              ; preds = %if.else, %if.end11, %if.then
  tail call fastcc void @nvme_do_copy(ptr noundef nonnull %opaque)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_get_mgmt_zone_slba_idx(ptr nocapture noundef readonly %ns, ptr nocapture noundef readonly %c, ptr nocapture noundef writeonly %slba, ptr nocapture noundef writeonly %zone_idx) unnamed_addr #0 {
entry:
  %_now.i.i12 = alloca %struct.timeval, align 8
  %_now.i.i = alloca %struct.timeval, align 8
  %zoned = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 30, i32 14
  %0 = load i8, ptr %zoned, align 1
  %1 = and i8 %0, 1
  %tobool.not = icmp eq i8 %1, 0
  br i1 %tobool.not, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  %2 = load i8, ptr %c, align 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %3 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %3, 0
  %4 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_OPC_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %4, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_err_invalid_opc.exit

land.lhs.true5.i.i:                               ; preds = %if.then
  %5 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %5, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_err_invalid_opc.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %6 = load i8, ptr @message_with_timestamp, align 1
  %7 = and i8 %6, 1
  %tobool7.not.i.i = icmp eq i8 %7, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %8 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %9 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext i8 %2 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.195, i32 noundef %call10.i.i, i64 noundef %8, i64 noundef %9, i32 noundef %conv11.i.i) #17
  br label %trace_pci_nvme_err_invalid_opc.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv12.i.i = zext i8 %2 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.196, i32 noundef %conv12.i.i) #17
  br label %trace_pci_nvme_err_invalid_opc.exit

trace_pci_nvme_err_invalid_opc.exit:              ; preds = %if.then, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  br label %return

if.end:                                           ; preds = %entry
  %cdw11 = getelementptr inbounds %struct.NvmeCmd, ptr %c, i64 0, i32 8
  %10 = load i32, ptr %cdw11, align 1
  %cdw10 = getelementptr inbounds %struct.NvmeCmd, ptr %c, i64 0, i32 7
  %11 = load i32, ptr %cdw10, align 1
  %conv = zext i32 %10 to i64
  %shl = shl nuw i64 %conv, 32
  %conv2 = zext i32 %11 to i64
  %or = or disjoint i64 %shl, %conv2
  store i64 %or, ptr %slba, align 8
  %id_ns = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 5
  %12 = load i64, ptr %id_ns, align 8
  %cmp.not = icmp ult i64 %or, %12
  br i1 %cmp.not, label %if.end10, label %if.then7

if.then7:                                         ; preds = %if.end
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i12)
  %13 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i13 = icmp ne i32 %13, 0
  %14 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_LBA_RANGE_DSTATE, align 2
  %tobool4.i.i14 = icmp ne i16 %14, 0
  %or.cond.i.i15 = select i1 %tobool.i.i13, i1 %tobool4.i.i14, i1 false
  br i1 %or.cond.i.i15, label %land.lhs.true5.i.i16, label %trace_pci_nvme_err_invalid_lba_range.exit

land.lhs.true5.i.i16:                             ; preds = %if.then7
  %15 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i17 = and i32 %15, 32768
  %cmp.i.not.i.i18 = icmp eq i32 %and.i.i.i17, 0
  br i1 %cmp.i.not.i.i18, label %trace_pci_nvme_err_invalid_lba_range.exit, label %if.then.i.i19

if.then.i.i19:                                    ; preds = %land.lhs.true5.i.i16
  %16 = load i8, ptr @message_with_timestamp, align 1
  %17 = and i8 %16, 1
  %tobool7.not.i.i20 = icmp eq i8 %17, 0
  br i1 %tobool7.not.i.i20, label %if.else.i.i25, label %if.then8.i.i21

if.then8.i.i21:                                   ; preds = %if.then.i.i19
  %call9.i.i22 = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i12, ptr noundef null) #17
  %call10.i.i23 = tail call i32 @qemu_get_thread_id() #17
  %18 = load i64, ptr %_now.i.i12, align 8
  %tv_usec.i.i24 = getelementptr inbounds %struct.timeval, ptr %_now.i.i12, i64 0, i32 1
  %19 = load i64, ptr %tv_usec.i.i24, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.201, i32 noundef %call10.i.i23, i64 noundef %18, i64 noundef %19, i64 noundef %or, i64 noundef 0, i64 noundef %12) #17
  br label %trace_pci_nvme_err_invalid_lba_range.exit

if.else.i.i25:                                    ; preds = %if.then.i.i19
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.202, i64 noundef %or, i64 noundef 0, i64 noundef %12) #17
  br label %trace_pci_nvme_err_invalid_lba_range.exit

trace_pci_nvme_err_invalid_lba_range.exit:        ; preds = %if.then7, %land.lhs.true5.i.i16, %if.then8.i.i21, %if.else.i.i25
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i12)
  store i64 0, ptr %slba, align 8
  br label %return

if.end10:                                         ; preds = %if.end
  %zone_size_log2.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 26
  %20 = load i32, ptr %zone_size_log2.i, align 8
  %cmp.not.i = icmp eq i32 %20, 0
  br i1 %cmp.not.i, label %cond.false.i, label %cond.true.i

cond.true.i:                                      ; preds = %if.end10
  %sh_prom.i = zext nneg i32 %20 to i64
  %shr.i = lshr i64 %or, %sh_prom.i
  br label %nvme_zone_idx.exit

cond.false.i:                                     ; preds = %if.end10
  %zone_size.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 24
  %21 = load i64, ptr %zone_size.i, align 8
  %div.i = udiv i64 %or, %21
  br label %nvme_zone_idx.exit

nvme_zone_idx.exit:                               ; preds = %cond.true.i, %cond.false.i
  %cond.i = phi i64 [ %shr.i, %cond.true.i ], [ %div.i, %cond.false.i ]
  %conv.i = trunc i64 %cond.i to i32
  store i32 %conv.i, ptr %zone_idx, align 4
  %num_zones = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 23
  %22 = load i32, ptr %num_zones, align 8
  %cmp12 = icmp ugt i32 %22, %conv.i
  br i1 %cmp12, label %return, label %if.else

if.else:                                          ; preds = %nvme_zone_idx.exit
  tail call void @__assert_fail(ptr noundef nonnull @.str.265, ptr noundef nonnull @.str.1, i32 noundef 3683, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_get_mgmt_zone_slba_idx) #18
  unreachable

return:                                           ; preds = %nvme_zone_idx.exit, %trace_pci_nvme_err_invalid_lba_range.exit, %trace_pci_nvme_err_invalid_opc.exit
  %retval.0 = phi i16 [ 16512, %trace_pci_nvme_err_invalid_lba_range.exit ], [ 16385, %trace_pci_nvme_err_invalid_opc.exit ], [ 0, %nvme_zone_idx.exit ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc zeroext i16 @nvme_do_zone_op(ptr noundef %ns, ptr noundef %zone, i32 noundef %proc_mask, ptr nocapture noundef readonly %op_hndlr, ptr noundef %req) unnamed_addr #0 {
entry:
  %tobool.not = icmp eq i32 %proc_mask, 0
  br i1 %tobool.not, label %if.then, label %if.else

if.then:                                          ; preds = %entry
  %0 = getelementptr i8, ptr %zone, i64 1
  %zone.val = load i8, ptr %0, align 1
  %1 = lshr i8 %zone.val, 4
  %shr.i = zext nneg i8 %1 to i32
  %call1 = tail call zeroext i16 %op_hndlr(ptr noundef %ns, ptr noundef %zone, i32 noundef %shr.i, ptr noundef %req) #17, !callees !65
  br label %out

if.else:                                          ; preds = %entry
  %and = and i32 %proc_mask, 2
  %tobool2.not = icmp eq i32 %and, 0
  br i1 %tobool2.not, label %if.end11, label %if.then3

if.then3:                                         ; preds = %if.else
  %closed_zones = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 21
  %2 = load ptr, ptr %closed_zones, align 8
  %tobool4.not111 = icmp eq ptr %2, null
  br i1 %tobool4.not111, label %if.end11, label %land.rhs.lr.ph

land.rhs.lr.ph:                                   ; preds = %if.then3
  %3 = trunc i32 %proc_mask to i8
  %4 = lshr i8 %3, 2
  %5 = lshr i8 %3, 1
  br label %land.rhs

for.cond:                                         ; preds = %land.rhs, %sw.epilog.i, %nvme_bulk_proc_zone.exit
  %status.0.i132 = phi i16 [ %call14.i, %nvme_bulk_proc_zone.exit ], [ 0, %sw.epilog.i ], [ 0, %land.rhs ]
  %tobool4.not = icmp eq ptr %6, null
  br i1 %tobool4.not, label %if.end11, label %land.rhs, !llvm.loop !51

land.rhs:                                         ; preds = %land.rhs.lr.ph, %for.cond
  %zone.addr.0112 = phi ptr [ %2, %land.rhs.lr.ph ], [ %6, %for.cond ]
  %entry5 = getelementptr inbounds %struct.NvmeZone, ptr %zone.addr.0112, i64 0, i32 2
  %6 = load ptr, ptr %entry5, align 8
  %7 = getelementptr i8, ptr %zone.addr.0112, i64 1
  %zone.val.i = load i8, ptr %7, align 1
  %8 = lshr i8 %zone.val.i, 4
  %shr.i.i = zext nneg i8 %8 to i32
  switch i32 %shr.i.i, label %for.cond [
    i32 2, label %sw.epilog.i
    i32 3, label %sw.epilog.i
    i32 4, label %sw.bb1.i
    i32 13, label %sw.bb5.i
  ]

sw.bb1.i:                                         ; preds = %land.rhs
  br label %sw.epilog.i

sw.bb5.i:                                         ; preds = %land.rhs
  br label %sw.epilog.i

sw.epilog.i:                                      ; preds = %land.rhs, %land.rhs, %sw.bb5.i, %sw.bb1.i
  %proc_zone.0.in.i = phi i8 [ %4, %sw.bb5.i ], [ %5, %sw.bb1.i ], [ %3, %land.rhs ], [ %3, %land.rhs ]
  %proc_zone.0.i = and i8 %proc_zone.0.in.i, 1
  %tobool13.not.i = icmp eq i8 %proc_zone.0.i, 0
  br i1 %tobool13.not.i, label %for.cond, label %nvme_bulk_proc_zone.exit

nvme_bulk_proc_zone.exit:                         ; preds = %sw.epilog.i
  %call14.i = tail call zeroext i16 %op_hndlr(ptr noundef %ns, ptr noundef nonnull %zone.addr.0112, i32 noundef %shr.i.i, ptr noundef %req) #17, !callees !65
  %9 = add i16 %call14.i, -1
  %or.cond = icmp ult i16 %9, -2
  br i1 %or.cond, label %out, label %for.cond, !llvm.loop !51

if.end11:                                         ; preds = %for.cond, %if.then3, %if.else
  %zone.addr.1 = phi ptr [ %zone, %if.else ], [ null, %if.then3 ], [ null, %for.cond ]
  %status.1 = phi i16 [ 0, %if.else ], [ 0, %if.then3 ], [ %status.0.i132, %for.cond ]
  %and12 = and i32 %proc_mask, 1
  %tobool13.not = icmp eq i32 %and12, 0
  br i1 %tobool13.not, label %if.end70, label %if.then14

if.then14:                                        ; preds = %if.end11
  %imp_open_zones = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 20
  %10 = load ptr, ptr %imp_open_zones, align 8
  %tobool16.not113 = icmp eq ptr %10, null
  br i1 %tobool16.not113, label %for.end31, label %land.rhs17.lr.ph

land.rhs17.lr.ph:                                 ; preds = %if.then14
  %11 = trunc i32 %proc_mask to i8
  %12 = lshr i8 %11, 2
  %13 = lshr i8 %11, 1
  br label %land.rhs17

for.cond15:                                       ; preds = %land.rhs17, %sw.epilog.i66, %nvme_bulk_proc_zone.exit75
  %status.0.i72135 = phi i16 [ %call14.i71, %nvme_bulk_proc_zone.exit75 ], [ 0, %sw.epilog.i66 ], [ 0, %land.rhs17 ]
  %tobool16.not = icmp eq ptr %14, null
  br i1 %tobool16.not, label %for.end31, label %land.rhs17, !llvm.loop !49

land.rhs17:                                       ; preds = %land.rhs17.lr.ph, %for.cond15
  %zone.addr.2114 = phi ptr [ %10, %land.rhs17.lr.ph ], [ %14, %for.cond15 ]
  %entry18 = getelementptr inbounds %struct.NvmeZone, ptr %zone.addr.2114, i64 0, i32 2
  %14 = load ptr, ptr %entry18, align 8
  %15 = getelementptr i8, ptr %zone.addr.2114, i64 1
  %zone.val.i63 = load i8, ptr %15, align 1
  %16 = lshr i8 %zone.val.i63, 4
  %shr.i.i64 = zext nneg i8 %16 to i32
  switch i32 %shr.i.i64, label %for.cond15 [
    i32 2, label %sw.epilog.i66
    i32 3, label %sw.epilog.i66
    i32 4, label %sw.bb1.i73
    i32 13, label %sw.bb5.i65
  ]

sw.bb1.i73:                                       ; preds = %land.rhs17
  br label %sw.epilog.i66

sw.bb5.i65:                                       ; preds = %land.rhs17
  br label %sw.epilog.i66

sw.epilog.i66:                                    ; preds = %land.rhs17, %land.rhs17, %sw.bb5.i65, %sw.bb1.i73
  %proc_zone.0.in.i67 = phi i8 [ %12, %sw.bb5.i65 ], [ %13, %sw.bb1.i73 ], [ %11, %land.rhs17 ], [ %11, %land.rhs17 ]
  %proc_zone.0.i68 = and i8 %proc_zone.0.in.i67, 1
  %tobool13.not.i69 = icmp eq i8 %proc_zone.0.i68, 0
  br i1 %tobool13.not.i69, label %for.cond15, label %nvme_bulk_proc_zone.exit75

nvme_bulk_proc_zone.exit75:                       ; preds = %sw.epilog.i66
  %call14.i71 = tail call zeroext i16 %op_hndlr(ptr noundef %ns, ptr noundef nonnull %zone.addr.2114, i32 noundef %shr.i.i64, ptr noundef %req) #17, !callees !65
  %17 = add i16 %call14.i71, -1
  %or.cond1 = icmp ult i16 %17, -2
  br i1 %or.cond1, label %out, label %for.cond15, !llvm.loop !49

for.end31:                                        ; preds = %for.cond15, %if.then14
  %status.2.lcssa = phi i16 [ %status.1, %if.then14 ], [ %status.0.i72135, %for.cond15 ]
  %exp_open_zones = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 19
  %18 = load ptr, ptr %exp_open_zones, align 8
  %tobool33.not116 = icmp eq ptr %18, null
  br i1 %tobool33.not116, label %if.end70, label %land.rhs34.lr.ph

land.rhs34.lr.ph:                                 ; preds = %for.end31
  %19 = trunc i32 %proc_mask to i8
  %20 = lshr i8 %19, 2
  %21 = lshr i8 %19, 1
  br label %land.rhs34

for.cond32:                                       ; preds = %land.rhs34, %sw.epilog.i79, %nvme_bulk_proc_zone.exit88
  %status.0.i85138 = phi i16 [ %call14.i84, %nvme_bulk_proc_zone.exit88 ], [ 0, %sw.epilog.i79 ], [ 0, %land.rhs34 ]
  %tobool33.not = icmp eq ptr %22, null
  br i1 %tobool33.not, label %if.end70, label %land.rhs34, !llvm.loop !50

land.rhs34:                                       ; preds = %land.rhs34.lr.ph, %for.cond32
  %zone.addr.3117 = phi ptr [ %18, %land.rhs34.lr.ph ], [ %22, %for.cond32 ]
  %entry35 = getelementptr inbounds %struct.NvmeZone, ptr %zone.addr.3117, i64 0, i32 2
  %22 = load ptr, ptr %entry35, align 8
  %23 = getelementptr i8, ptr %zone.addr.3117, i64 1
  %zone.val.i76 = load i8, ptr %23, align 1
  %24 = lshr i8 %zone.val.i76, 4
  %shr.i.i77 = zext nneg i8 %24 to i32
  switch i32 %shr.i.i77, label %for.cond32 [
    i32 2, label %sw.epilog.i79
    i32 3, label %sw.epilog.i79
    i32 4, label %sw.bb1.i86
    i32 13, label %sw.bb5.i78
  ]

sw.bb1.i86:                                       ; preds = %land.rhs34
  br label %sw.epilog.i79

sw.bb5.i78:                                       ; preds = %land.rhs34
  br label %sw.epilog.i79

sw.epilog.i79:                                    ; preds = %land.rhs34, %land.rhs34, %sw.bb5.i78, %sw.bb1.i86
  %proc_zone.0.in.i80 = phi i8 [ %20, %sw.bb5.i78 ], [ %21, %sw.bb1.i86 ], [ %19, %land.rhs34 ], [ %19, %land.rhs34 ]
  %proc_zone.0.i81 = and i8 %proc_zone.0.in.i80, 1
  %tobool13.not.i82 = icmp eq i8 %proc_zone.0.i81, 0
  br i1 %tobool13.not.i82, label %for.cond32, label %nvme_bulk_proc_zone.exit88

nvme_bulk_proc_zone.exit88:                       ; preds = %sw.epilog.i79
  %call14.i84 = tail call zeroext i16 %op_hndlr(ptr noundef %ns, ptr noundef nonnull %zone.addr.3117, i32 noundef %shr.i.i77, ptr noundef %req) #17, !callees !65
  %25 = add i16 %call14.i84, -1
  %or.cond2 = icmp ult i16 %25, -2
  br i1 %or.cond2, label %out, label %for.cond32, !llvm.loop !50

if.end70:                                         ; preds = %for.cond32, %for.end31, %if.end11
  %zone.addr.4 = phi ptr [ %zone.addr.1, %if.end11 ], [ null, %for.end31 ], [ null, %for.cond32 ]
  %status.4 = phi i16 [ %status.1, %if.end11 ], [ %status.2.lcssa, %for.end31 ], [ %status.0.i85138, %for.cond32 ]
  %and71 = and i32 %proc_mask, 4
  %tobool72.not = icmp eq i32 %and71, 0
  br i1 %tobool72.not, label %out, label %for.cond74.preheader

for.cond74.preheader:                             ; preds = %if.end70
  %num_zones = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 23
  %26 = load i32, ptr %num_zones, align 8
  %cmp75119.not = icmp eq i32 %26, 0
  br i1 %cmp75119.not, label %out, label %for.body77.lr.ph

for.body77.lr.ph:                                 ; preds = %for.cond74.preheader
  %27 = trunc i32 %proc_mask to i8
  %28 = lshr i8 %27, 2
  %29 = lshr i8 %27, 1
  br label %for.body77

for.body77:                                       ; preds = %for.body77.lr.ph, %for.inc87
  %30 = phi i32 [ %26, %for.body77.lr.ph ], [ %34, %for.inc87 ]
  %i.0121 = phi i32 [ 0, %for.body77.lr.ph ], [ %inc, %for.inc87 ]
  %zone.addr.7120 = phi ptr [ %zone.addr.4, %for.body77.lr.ph ], [ %incdec.ptr, %for.inc87 ]
  %31 = getelementptr i8, ptr %zone.addr.7120, i64 1
  %zone.val.i89 = load i8, ptr %31, align 1
  %32 = lshr i8 %zone.val.i89, 4
  %shr.i.i90 = zext nneg i8 %32 to i32
  switch i32 %shr.i.i90, label %for.inc87 [
    i32 2, label %sw.epilog.i92
    i32 3, label %sw.epilog.i92
    i32 4, label %sw.bb1.i99
    i32 13, label %sw.bb5.i91
  ]

sw.bb1.i99:                                       ; preds = %for.body77
  br label %sw.epilog.i92

sw.bb5.i91:                                       ; preds = %for.body77
  br label %sw.epilog.i92

sw.epilog.i92:                                    ; preds = %for.body77, %for.body77, %sw.bb5.i91, %sw.bb1.i99
  %proc_zone.0.in.i93 = phi i8 [ %28, %sw.bb5.i91 ], [ %29, %sw.bb1.i99 ], [ %27, %for.body77 ], [ %27, %for.body77 ]
  %proc_zone.0.i94 = and i8 %proc_zone.0.in.i93, 1
  %tobool13.not.i95 = icmp eq i8 %proc_zone.0.i94, 0
  br i1 %tobool13.not.i95, label %for.inc87, label %nvme_bulk_proc_zone.exit101

nvme_bulk_proc_zone.exit101:                      ; preds = %sw.epilog.i92
  %call14.i97 = tail call zeroext i16 %op_hndlr(ptr noundef nonnull %ns, ptr noundef nonnull %zone.addr.7120, i32 noundef %shr.i.i90, ptr noundef %req) #17, !callees !65
  %33 = add i16 %call14.i97, -1
  %or.cond4 = icmp ult i16 %33, -2
  br i1 %or.cond4, label %out, label %nvme_bulk_proc_zone.exit101.for.inc87_crit_edge

nvme_bulk_proc_zone.exit101.for.inc87_crit_edge:  ; preds = %nvme_bulk_proc_zone.exit101
  %.pre = load i32, ptr %num_zones, align 8
  br label %for.inc87

for.inc87:                                        ; preds = %nvme_bulk_proc_zone.exit101.for.inc87_crit_edge, %for.body77, %sw.epilog.i92
  %34 = phi i32 [ %.pre, %nvme_bulk_proc_zone.exit101.for.inc87_crit_edge ], [ %30, %sw.epilog.i92 ], [ %30, %for.body77 ]
  %status.0.i98104 = phi i16 [ %call14.i97, %nvme_bulk_proc_zone.exit101.for.inc87_crit_edge ], [ 0, %sw.epilog.i92 ], [ 0, %for.body77 ]
  %inc = add nuw i32 %i.0121, 1
  %incdec.ptr = getelementptr %struct.NvmeZone, ptr %zone.addr.7120, i64 1
  %cmp75 = icmp ult i32 %inc, %34
  br i1 %cmp75, label %for.body77, label %out, !llvm.loop !66

out:                                              ; preds = %nvme_bulk_proc_zone.exit, %nvme_bulk_proc_zone.exit75, %nvme_bulk_proc_zone.exit88, %nvme_bulk_proc_zone.exit101, %for.inc87, %for.cond74.preheader, %if.then, %if.end70
  %status.8 = phi i16 [ %status.4, %if.end70 ], [ %call1, %if.then ], [ %status.4, %for.cond74.preheader ], [ %call14.i97, %nvme_bulk_proc_zone.exit101 ], [ %status.0.i98104, %for.inc87 ], [ %call14.i84, %nvme_bulk_proc_zone.exit88 ], [ %call14.i71, %nvme_bulk_proc_zone.exit75 ], [ %call14.i, %nvme_bulk_proc_zone.exit ]
  ret i16 %status.8
}

; Function Attrs: nounwind sspstrong uwtable
define internal zeroext i16 @nvme_open_zone(ptr nocapture noundef %ns, ptr noundef %zone, i32 %state, ptr nocapture noundef readonly %req) #0 {
entry:
  %zsflags = getelementptr inbounds i8, ptr %req, i64 109
  %0 = load i8, ptr %zsflags, align 1
  %1 = and i8 %0, 2
  %tobool.not = icmp eq i8 %1, 0
  br i1 %tobool.not, label %if.end11, label %if.then

if.then:                                          ; preds = %entry
  %id_ns_zoned = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 17
  %2 = load ptr, ptr %id_ns_zoned, align 8
  %ozcs2 = getelementptr inbounds %struct.NvmeIdNsZoned, ptr %2, i64 0, i32 1
  %3 = load i16, ptr %ozcs2, align 1
  %4 = and i16 %3, 2
  %tobool5.not = icmp eq i16 %4, 0
  br i1 %tobool5.not, label %return, label %if.end

if.end:                                           ; preds = %if.then
  %w_ptr = getelementptr inbounds %struct.NvmeZone, ptr %zone, i64 0, i32 1
  %5 = load i64, ptr %w_ptr, align 8
  %zrwafg = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 15, i32 1
  %6 = load i16, ptr %zrwafg, align 2
  %conv7 = zext i16 %6 to i64
  %rem = urem i64 %5, %conv7
  %tobool8.not = icmp eq i64 %rem, 0
  br i1 %tobool8.not, label %if.end11, label %return

if.end11:                                         ; preds = %if.end, %entry
  %flags.0 = phi i32 [ 0, %entry ], [ 2, %if.end ]
  %req.val = load ptr, ptr %req, align 8
  %req.val.val = load ptr, ptr %req.val, align 8
  %call13 = tail call fastcc zeroext i16 @nvme_zrm_open_flags(ptr noundef %req.val.val, ptr noundef %ns, ptr noundef %zone, i32 noundef %flags.0)
  br label %return

return:                                           ; preds = %if.end, %if.then, %if.end11
  %retval.0 = phi i16 [ %call13, %if.end11 ], [ 16822, %if.then ], [ 16823, %if.end ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_zone_reset_cb(ptr noundef %opaque, i32 noundef %ret) #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %req1 = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %opaque, i64 0, i32 2
  %0 = load ptr, ptr %req1, align 8
  %ns2 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 1
  %1 = load ptr, ptr %ns2, align 8
  %ret3 = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %opaque, i64 0, i32 3
  %2 = load i32, ptr %ret3, align 8
  %cmp = icmp slt i32 %2, 0
  br i1 %cmp, label %done, label %if.else

if.else:                                          ; preds = %entry
  %cmp4 = icmp slt i32 %ret, 0
  br i1 %cmp4, label %if.then5, label %if.end7

if.then5:                                         ; preds = %if.else
  store i32 %ret, ptr %ret3, align 8
  br label %done

if.end7:                                          ; preds = %if.else
  %zone = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %opaque, i64 0, i32 6
  %3 = load ptr, ptr %zone, align 8
  %tobool.not = icmp eq ptr %3, null
  br i1 %tobool.not, label %if.end13, label %if.then8

if.then8:                                         ; preds = %if.end7
  %4 = getelementptr i8, ptr %3, i64 1
  %zone.val.i = load i8, ptr %4, align 1
  %5 = lshr i8 %zone.val.i, 4
  %shr.i.i = zext nneg i8 %5 to i32
  switch i32 %shr.i.i, label %nvme_zrm_reset.exit [
    i32 3, label %sw.bb.i
    i32 2, label %sw.bb.i
    i32 4, label %sw.bb1.i
    i32 14, label %sw.bb6.i
  ]

sw.bb.i:                                          ; preds = %if.then8, %if.then8
  %max_open_zones.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 30, i32 19
  %6 = load i32, ptr %max_open_zones.i.i, align 4
  %tobool.not.i.i = icmp eq i32 %6, 0
  %nr_open_zones4.phi.trans.insert.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 28
  %.pre.i.i = load i32, ptr %nr_open_zones4.phi.trans.insert.i.i, align 8
  br i1 %tobool.not.i.i, label %if.end3.i.i, label %if.then.i.i

if.then.i.i:                                      ; preds = %sw.bb.i
  %cmp.i.i = icmp sgt i32 %.pre.i.i, 0
  br i1 %cmp.i.i, label %if.end3.thread.i.i, label %if.else.i.i

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.38, ptr noundef nonnull @.str.39, i32 noundef 339, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_aor_dec_open) #18
  unreachable

if.end3.thread.i.i:                               ; preds = %if.then.i.i
  %dec.i.i = add nsw i32 %.pre.i.i, -1
  store i32 %dec.i.i, ptr %nr_open_zones4.phi.trans.insert.i.i, align 8
  br label %sw.bb1.i

if.end3.i.i:                                      ; preds = %sw.bb.i
  %7 = icmp sgt i32 %.pre.i.i, -1
  br i1 %7, label %sw.bb1.i, label %if.else7.i.i

if.else7.i.i:                                     ; preds = %if.end3.i.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.40, ptr noundef nonnull @.str.39, i32 noundef 342, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_aor_dec_open) #18
  unreachable

sw.bb1.i:                                         ; preds = %if.end3.i.i, %if.end3.thread.i.i, %if.then8
  %max_active_zones.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 30, i32 18
  %8 = load i32, ptr %max_active_zones.i.i, align 8
  %tobool.not.i11.i = icmp eq i32 %8, 0
  %nr_active_zones9.phi.trans.insert.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 29
  %.pre.i12.i = load i32, ptr %nr_active_zones9.phi.trans.insert.i.i, align 4
  br i1 %tobool.not.i11.i, label %if.end8.i.i, label %if.then.i13.i

if.then.i13.i:                                    ; preds = %sw.bb1.i
  %cmp.i14.i = icmp sgt i32 %.pre.i12.i, 0
  br i1 %cmp.i14.i, label %if.end.i.i, label %if.else.i15.i

if.else.i15.i:                                    ; preds = %if.then.i13.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.41, ptr noundef nonnull @.str.39, i32 noundef 357, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_aor_dec_active) #18
  unreachable

if.end.i.i:                                       ; preds = %if.then.i13.i
  %dec.i16.i = add nsw i32 %.pre.i12.i, -1
  store i32 %dec.i16.i, ptr %nr_active_zones9.phi.trans.insert.i.i, align 4
  %nr_open_zones.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 28
  %9 = load i32, ptr %nr_open_zones.i.i, align 8
  %cmp4.not.not.i.i = icmp sgt i32 %.pre.i12.i, %9
  br i1 %cmp4.not.not.i.i, label %nvme_aor_dec_active.exit.i, label %if.else6.i.i

if.else6.i.i:                                     ; preds = %if.end.i.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.42, ptr noundef nonnull @.str.39, i32 noundef 359, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_aor_dec_active) #18
  unreachable

if.end8.i.i:                                      ; preds = %sw.bb1.i
  %10 = icmp sgt i32 %.pre.i12.i, -1
  br i1 %10, label %nvme_aor_dec_active.exit.i, label %if.else12.i.i

if.else12.i.i:                                    ; preds = %if.end8.i.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.43, ptr noundef nonnull @.str.39, i32 noundef 361, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_aor_dec_active) #18
  unreachable

nvme_aor_dec_active.exit.i:                       ; preds = %if.end8.i.i, %if.end.i.i
  %za.i = getelementptr inbounds %struct.NvmeZoneDescr, ptr %3, i64 0, i32 2
  %11 = load i8, ptr %za.i, align 2
  %12 = and i8 %11, 8
  %tobool.not.i = icmp eq i8 %12, 0
  br i1 %tobool.not.i, label %sw.bb6.i, label %if.then.i

if.then.i:                                        ; preds = %nvme_aor_dec_active.exit.i
  %numzrwa.i = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 30, i32 21
  %13 = load i32, ptr %numzrwa.i, align 4
  %tobool2.not.i = icmp eq i32 %13, 0
  br i1 %tobool2.not.i, label %sw.bb6.i, label %if.then3.i

if.then3.i:                                       ; preds = %if.then.i
  %numzrwa4.i = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 15, i32 2
  %14 = load i32, ptr %numzrwa4.i, align 4
  %inc.i = add i32 %14, 1
  store i32 %inc.i, ptr %numzrwa4.i, align 4
  br label %sw.bb6.i

sw.bb6.i:                                         ; preds = %if.then3.i, %if.then.i, %nvme_aor_dec_active.exit.i, %if.then8
  %zslba.i = getelementptr inbounds %struct.NvmeZoneDescr, ptr %3, i64 0, i32 5
  %15 = load i64, ptr %zslba.i, align 8
  %w_ptr.i = getelementptr inbounds %struct.NvmeZone, ptr %3, i64 0, i32 1
  store i64 %15, ptr %w_ptr.i, align 8
  %wp.i = getelementptr inbounds %struct.NvmeZoneDescr, ptr %3, i64 0, i32 6
  store i64 %15, ptr %wp.i, align 8
  %entry1.i.i = getelementptr inbounds %struct.NvmeZone, ptr %3, i64 0, i32 2
  %tql_prev.i.i = getelementptr inbounds %struct.NvmeZone, ptr %3, i64 0, i32 2, i32 0, i32 1
  %16 = load ptr, ptr %tql_prev.i.i, align 8
  %cmp.not.i.i = icmp eq ptr %16, null
  br i1 %cmp.not.i.i, label %nvme_assign_zone_state.exit.i, label %if.then.i17.i

if.then.i17.i:                                    ; preds = %sw.bb6.i
  %zone.val.i.i = load i8, ptr %4, align 1
  %17 = lshr i8 %zone.val.i.i, 4
  %shr.i.i.i = zext nneg i8 %17 to i32
  switch i32 %shr.i.i.i, label %nvme_assign_zone_state.exit.i [
    i32 3, label %do.body.i.i
    i32 2, label %do.body22.i.i
    i32 4, label %do.body47.i.i
    i32 14, label %do.body72.i.i
  ]

do.body.i.i:                                      ; preds = %if.then.i17.i
  %18 = load ptr, ptr %entry1.i.i, align 8
  %cmp3.not.i.i = icmp eq ptr %18, null
  %tql_prev12.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 19, i32 0, i32 1
  %tql_prev9.i.i = getelementptr inbounds %struct.NvmeZone, ptr %18, i64 0, i32 2, i32 0, i32 1
  %tql_prev12.sink.i.i = select i1 %cmp3.not.i.i, ptr %tql_prev12.i.i, ptr %tql_prev9.i.i
  br label %if.end96.sink.split.i.i

do.body22.i.i:                                    ; preds = %if.then.i17.i
  %19 = load ptr, ptr %entry1.i.i, align 8
  %cmp24.not.i.i = icmp eq ptr %19, null
  %tql_prev34.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 20, i32 0, i32 1
  %tql_prev30.i.i = getelementptr inbounds %struct.NvmeZone, ptr %19, i64 0, i32 2, i32 0, i32 1
  %tql_prev34.sink.i.i = select i1 %cmp24.not.i.i, ptr %tql_prev34.i.i, ptr %tql_prev30.i.i
  br label %if.end96.sink.split.i.i

do.body47.i.i:                                    ; preds = %if.then.i17.i
  %20 = load ptr, ptr %entry1.i.i, align 8
  %cmp49.not.i.i = icmp eq ptr %20, null
  %tql_prev59.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 21, i32 0, i32 1
  %tql_prev55.i.i = getelementptr inbounds %struct.NvmeZone, ptr %20, i64 0, i32 2, i32 0, i32 1
  %tql_prev59.sink.i.i = select i1 %cmp49.not.i.i, ptr %tql_prev59.i.i, ptr %tql_prev55.i.i
  br label %if.end96.sink.split.i.i

do.body72.i.i:                                    ; preds = %if.then.i17.i
  %21 = load ptr, ptr %entry1.i.i, align 8
  %cmp74.not.i.i = icmp eq ptr %21, null
  %tql_prev84.i.i = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 22, i32 0, i32 1
  %tql_prev80.i.i = getelementptr inbounds %struct.NvmeZone, ptr %21, i64 0, i32 2, i32 0, i32 1
  %tql_prev84.sink.i.i = select i1 %cmp74.not.i.i, ptr %tql_prev84.i.i, ptr %tql_prev80.i.i
  br label %if.end96.sink.split.i.i

if.end96.sink.split.i.i:                          ; preds = %do.body72.i.i, %do.body47.i.i, %do.body22.i.i, %do.body.i.i
  %tql_prev12.sink.sink.i.i = phi ptr [ %tql_prev12.sink.i.i, %do.body.i.i ], [ %tql_prev34.sink.i.i, %do.body22.i.i ], [ %tql_prev59.sink.i.i, %do.body47.i.i ], [ %tql_prev84.sink.i.i, %do.body72.i.i ]
  store ptr %16, ptr %tql_prev12.sink.sink.i.i, align 8
  %22 = load ptr, ptr %entry1.i.i, align 8
  %23 = load ptr, ptr %tql_prev.i.i, align 8
  store ptr %22, ptr %23, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %entry1.i.i, i8 0, i64 16, i1 false)
  br label %nvme_assign_zone_state.exit.i

nvme_assign_zone_state.exit.i:                    ; preds = %if.end96.sink.split.i.i, %if.then.i17.i, %sw.bb6.i
  store i8 16, ptr %4, align 1
  %za.i.i = getelementptr inbounds %struct.NvmeZoneDescr, ptr %3, i64 0, i32 2
  store i8 0, ptr %za.i.i, align 2
  br label %nvme_zrm_reset.exit

nvme_zrm_reset.exit:                              ; preds = %if.then8, %nvme_assign_zone_state.exit.i
  %all = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %opaque, i64 0, i32 4
  %24 = load i8, ptr %all, align 4
  %25 = and i8 %24, 1
  %tobool10.not = icmp eq i8 %25, 0
  br i1 %tobool10.not, label %done, label %if.end13

if.end13:                                         ; preds = %nvme_zrm_reset.exit, %if.end7
  %idx = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %opaque, i64 0, i32 5
  %num_zones = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 23
  %26 = load i32, ptr %idx, align 8
  %27 = load i32, ptr %num_zones, align 8
  %cmp1433 = icmp ult i32 %26, %27
  br i1 %cmp1433, label %while.body.lr.ph, label %done

while.body.lr.ph:                                 ; preds = %if.end13
  %zone_array = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 18
  %all18 = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %opaque, i64 0, i32 4
  br label %while.body

while.body:                                       ; preds = %while.body.lr.ph, %while.cond.backedge
  %28 = phi i32 [ %26, %while.body.lr.ph ], [ %inc, %while.cond.backedge ]
  %29 = load ptr, ptr %zone_array, align 8
  %inc = add nuw i32 %28, 1
  store i32 %inc, ptr %idx, align 8
  %idxprom = sext i32 %28 to i64
  %arrayidx = getelementptr %struct.NvmeZone, ptr %29, i64 %idxprom
  %30 = getelementptr i8, ptr %arrayidx, i64 1
  %arrayidx.val = load i8, ptr %30, align 1
  %31 = lshr i8 %arrayidx.val, 4
  %shr.i = zext nneg i8 %31 to i32
  switch i32 %shr.i, label %while.cond.backedge [
    i32 1, label %sw.bb
    i32 3, label %sw.bb22
    i32 2, label %sw.bb22
    i32 4, label %sw.bb22
    i32 14, label %sw.bb22
  ]

sw.bb:                                            ; preds = %while.body
  %32 = load i8, ptr %all18, align 4
  %33 = and i8 %32, 1
  %tobool19.not = icmp eq i8 %33, 0
  br i1 %tobool19.not, label %done, label %while.cond.backedge

while.cond.backedge:                              ; preds = %sw.bb, %while.body
  %34 = load i32, ptr %num_zones, align 8
  %cmp14 = icmp ult i32 %inc, %34
  br i1 %cmp14, label %while.body, label %done, !llvm.loop !67

sw.bb22:                                          ; preds = %while.body, %while.body, %while.body, %while.body
  store ptr %arrayidx, ptr %zone, align 8
  %zslba = getelementptr inbounds %struct.NvmeZoneDescr, ptr %arrayidx, i64 0, i32 5
  %35 = load i64, ptr %zslba, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %36 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %36, 0
  %37 = load i16, ptr @_TRACE_PCI_NVME_ZNS_ZONE_RESET_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %37, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_zns_zone_reset.exit

land.lhs.true5.i.i:                               ; preds = %sw.bb22
  %38 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %38, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_zns_zone_reset.exit, label %if.then.i.i29

if.then.i.i29:                                    ; preds = %land.lhs.true5.i.i
  %39 = load i8, ptr @message_with_timestamp, align 1
  %40 = and i8 %39, 1
  %tobool7.not.i.i = icmp eq i8 %40, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i30, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i29
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %41 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %42 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.276, i32 noundef %call10.i.i, i64 noundef %41, i64 noundef %42, i64 noundef %35) #17
  br label %trace_pci_nvme_zns_zone_reset.exit

if.else.i.i30:                                    ; preds = %if.then.i.i29
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.277, i64 noundef %35) #17
  br label %trace_pci_nvme_zns_zone_reset.exit

trace_pci_nvme_zns_zone_reset.exit:               ; preds = %sw.bb22, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i30
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 1
  %43 = load ptr, ptr %blkconf, align 8
  %44 = load i64, ptr %zslba, align 8
  %45 = getelementptr i8, ptr %1, i64 8466
  %.val28 = load i8, ptr %45, align 2
  %sh_prom.i = zext nneg i8 %.val28 to i64
  %shl.i = shl i64 %44, %sh_prom.i
  %zone_size = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 24
  %46 = load i64, ptr %zone_size, align 8
  %shl.i32 = shl i64 %46, %sh_prom.i
  %call28 = tail call ptr @blk_aio_pwrite_zeroes(ptr noundef %43, i64 noundef %shl.i, i64 noundef %shl.i32, i32 noundef 4, ptr noundef nonnull @nvme_zone_reset_epilogue_cb, ptr noundef nonnull %opaque) #17
  %aiocb = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %opaque, i64 0, i32 1
  store ptr %call28, ptr %aiocb, align 8
  br label %return

done:                                             ; preds = %sw.bb, %while.cond.backedge, %if.end13, %nvme_zrm_reset.exit, %entry, %if.then5
  %aiocb29 = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %opaque, i64 0, i32 1
  store ptr null, ptr %aiocb29, align 8
  %cb = getelementptr inbounds %struct.BlockAIOCB, ptr %opaque, i64 0, i32 2
  %47 = load ptr, ptr %cb, align 8
  %opaque31 = getelementptr inbounds %struct.BlockAIOCB, ptr %opaque, i64 0, i32 3
  %48 = load ptr, ptr %opaque31, align 8
  %49 = load i32, ptr %ret3, align 8
  tail call void %47(ptr noundef %48, i32 noundef %49) #17
  tail call void @qemu_aio_unref(ptr noundef nonnull %opaque) #17
  br label %return

return:                                           ; preds = %done, %trace_pci_nvme_zns_zone_reset.exit
  ret void
}

; Function Attrs: mustprogress nofree norecurse nosync nounwind sspstrong willreturn memory(write, argmem: readwrite, inaccessiblemem: none) uwtable
define internal noundef zeroext i16 @nvme_offline_zone(ptr nocapture noundef writeonly %ns, ptr nocapture noundef %zone, i32 noundef %state, ptr nocapture readnone %req) #12 {
entry:
  switch i32 %state, label %sw.default [
    i32 13, label %sw.bb
    i32 15, label %return
  ]

sw.bb:                                            ; preds = %entry
  %entry1.i = getelementptr inbounds %struct.NvmeZone, ptr %zone, i64 0, i32 2
  %tql_prev.i = getelementptr inbounds %struct.NvmeZone, ptr %zone, i64 0, i32 2, i32 0, i32 1
  %0 = load ptr, ptr %tql_prev.i, align 8
  %cmp.not.i = icmp eq ptr %0, null
  br i1 %cmp.not.i, label %nvme_assign_zone_state.exit, label %if.then.i

if.then.i:                                        ; preds = %sw.bb
  %1 = getelementptr i8, ptr %zone, i64 1
  %zone.val.i = load i8, ptr %1, align 1
  %2 = lshr i8 %zone.val.i, 4
  %shr.i.i = zext nneg i8 %2 to i32
  switch i32 %shr.i.i, label %nvme_assign_zone_state.exit [
    i32 3, label %do.body.i
    i32 2, label %do.body22.i
    i32 4, label %do.body47.i
    i32 14, label %do.body72.i
  ]

do.body.i:                                        ; preds = %if.then.i
  %3 = load ptr, ptr %entry1.i, align 8
  %cmp3.not.i = icmp eq ptr %3, null
  %tql_prev12.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 19, i32 0, i32 1
  %tql_prev9.i = getelementptr inbounds %struct.NvmeZone, ptr %3, i64 0, i32 2, i32 0, i32 1
  %tql_prev12.sink.i = select i1 %cmp3.not.i, ptr %tql_prev12.i, ptr %tql_prev9.i
  br label %if.end96.sink.split.i

do.body22.i:                                      ; preds = %if.then.i
  %4 = load ptr, ptr %entry1.i, align 8
  %cmp24.not.i = icmp eq ptr %4, null
  %tql_prev34.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 20, i32 0, i32 1
  %tql_prev30.i = getelementptr inbounds %struct.NvmeZone, ptr %4, i64 0, i32 2, i32 0, i32 1
  %tql_prev34.sink.i = select i1 %cmp24.not.i, ptr %tql_prev34.i, ptr %tql_prev30.i
  br label %if.end96.sink.split.i

do.body47.i:                                      ; preds = %if.then.i
  %5 = load ptr, ptr %entry1.i, align 8
  %cmp49.not.i = icmp eq ptr %5, null
  %tql_prev59.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 21, i32 0, i32 1
  %tql_prev55.i = getelementptr inbounds %struct.NvmeZone, ptr %5, i64 0, i32 2, i32 0, i32 1
  %tql_prev59.sink.i = select i1 %cmp49.not.i, ptr %tql_prev59.i, ptr %tql_prev55.i
  br label %if.end96.sink.split.i

do.body72.i:                                      ; preds = %if.then.i
  %6 = load ptr, ptr %entry1.i, align 8
  %cmp74.not.i = icmp eq ptr %6, null
  %tql_prev84.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 22, i32 0, i32 1
  %tql_prev80.i = getelementptr inbounds %struct.NvmeZone, ptr %6, i64 0, i32 2, i32 0, i32 1
  %tql_prev84.sink.i = select i1 %cmp74.not.i, ptr %tql_prev84.i, ptr %tql_prev80.i
  br label %if.end96.sink.split.i

if.end96.sink.split.i:                            ; preds = %do.body72.i, %do.body47.i, %do.body22.i, %do.body.i
  %tql_prev12.sink.sink.i = phi ptr [ %tql_prev12.sink.i, %do.body.i ], [ %tql_prev34.sink.i, %do.body22.i ], [ %tql_prev59.sink.i, %do.body47.i ], [ %tql_prev84.sink.i, %do.body72.i ]
  store ptr %0, ptr %tql_prev12.sink.sink.i, align 8
  %7 = load ptr, ptr %entry1.i, align 8
  %8 = load ptr, ptr %tql_prev.i, align 8
  store ptr %7, ptr %8, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %entry1.i, i8 0, i64 16, i1 false)
  br label %nvme_assign_zone_state.exit

nvme_assign_zone_state.exit:                      ; preds = %sw.bb, %if.then.i, %if.end96.sink.split.i
  %zs.i.i = getelementptr inbounds %struct.NvmeZoneDescr, ptr %zone, i64 0, i32 1
  store i8 -16, ptr %zs.i.i, align 1
  %za.i = getelementptr inbounds %struct.NvmeZoneDescr, ptr %zone, i64 0, i32 2
  store i8 0, ptr %za.i, align 2
  br label %return

sw.default:                                       ; preds = %entry
  br label %return

return:                                           ; preds = %entry, %nvme_assign_zone_state.exit, %sw.default
  %retval.0 = phi i16 [ 447, %sw.default ], [ 0, %nvme_assign_zone_state.exit ], [ 0, %entry ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_err_zd_extension_map_error(i32 noundef %zone_idx) unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_ZD_EXTENSION_MAP_ERROR_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_err_zd_extension_map_error.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_err_zd_extension_map_error.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.282, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6, i32 noundef %zone_idx) #17
  br label %_nocheck__trace_pci_nvme_err_zd_extension_map_error.exit

if.else.i:                                        ; preds = %if.then.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.283, i32 noundef %zone_idx) #17
  br label %_nocheck__trace_pci_nvme_err_zd_extension_map_error.exit

_nocheck__trace_pci_nvme_err_zd_extension_map_error.exit: ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc zeroext i16 @nvme_set_zd_ext(ptr nocapture noundef %ns, ptr noundef %zone) unnamed_addr #0 {
entry:
  %0 = getelementptr i8, ptr %zone, i64 1
  %zone.val = load i8, ptr %0, align 1
  %.mask = and i8 %zone.val, -16
  %cmp = icmp eq i8 %.mask, 16
  br i1 %cmp, label %if.then, label %return

if.then:                                          ; preds = %entry
  %call.i = tail call fastcc zeroext i16 @nvme_zns_check_resources(ptr noundef %ns, i32 noundef 1, i32 noundef 0, i32 noundef 0), !range !60
  %tobool.not = icmp eq i16 %call.i, 0
  br i1 %tobool.not, label %if.end, label %return

if.end:                                           ; preds = %if.then
  %nr_active_zones.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 29
  %1 = load i32, ptr %nr_active_zones.i, align 4
  %cmp.i = icmp sgt i32 %1, -1
  br i1 %cmp.i, label %if.end.i, label %if.else.i

if.else.i:                                        ; preds = %if.end
  tail call void @__assert_fail(ptr noundef nonnull @.str.43, ptr noundef nonnull @.str.39, i32 noundef 347, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_aor_inc_active) #18
  unreachable

if.end.i:                                         ; preds = %if.end
  %max_active_zones.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 30, i32 18
  %2 = load i32, ptr %max_active_zones.i, align 8
  %tobool.not.i = icmp eq i32 %2, 0
  br i1 %tobool.not.i, label %nvme_aor_inc_active.exit, label %if.then1.i

if.then1.i:                                       ; preds = %if.end.i
  %inc.i = add nuw i32 %1, 1
  store i32 %inc.i, ptr %nr_active_zones.i, align 4
  %cmp6.not.not.i = icmp ult i32 %1, %2
  br i1 %cmp6.not.not.i, label %nvme_aor_inc_active.exit, label %if.else8.i

if.else8.i:                                       ; preds = %if.then1.i
  tail call void @__assert_fail(ptr noundef nonnull @.str.223, ptr noundef nonnull @.str.39, i32 noundef 350, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_aor_inc_active) #18
  unreachable

nvme_aor_inc_active.exit:                         ; preds = %if.end.i, %if.then1.i
  %za = getelementptr inbounds %struct.NvmeZoneDescr, ptr %zone, i64 0, i32 2
  %3 = load i8, ptr %za, align 2
  %4 = or i8 %3, -128
  store i8 %4, ptr %za, align 2
  %entry1.i = getelementptr inbounds %struct.NvmeZone, ptr %zone, i64 0, i32 2
  %tql_prev.i = getelementptr inbounds %struct.NvmeZone, ptr %zone, i64 0, i32 2, i32 0, i32 1
  %5 = load ptr, ptr %tql_prev.i, align 8
  %cmp.not.i = icmp eq ptr %5, null
  br i1 %cmp.not.i, label %nvme_assign_zone_state.exit, label %if.then.i

if.then.i:                                        ; preds = %nvme_aor_inc_active.exit
  %zone.val.i = load i8, ptr %0, align 1
  %6 = lshr i8 %zone.val.i, 4
  %shr.i.i = zext nneg i8 %6 to i32
  switch i32 %shr.i.i, label %nvme_assign_zone_state.exit [
    i32 3, label %do.body.i
    i32 2, label %do.body22.i
    i32 4, label %do.body47.i
    i32 14, label %do.body72.i
  ]

do.body.i:                                        ; preds = %if.then.i
  %7 = load ptr, ptr %entry1.i, align 8
  %cmp3.not.i = icmp eq ptr %7, null
  %tql_prev12.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 19, i32 0, i32 1
  %tql_prev9.i = getelementptr inbounds %struct.NvmeZone, ptr %7, i64 0, i32 2, i32 0, i32 1
  %tql_prev12.sink.i = select i1 %cmp3.not.i, ptr %tql_prev12.i, ptr %tql_prev9.i
  br label %if.end96.sink.split.i

do.body22.i:                                      ; preds = %if.then.i
  %8 = load ptr, ptr %entry1.i, align 8
  %cmp24.not.i = icmp eq ptr %8, null
  %tql_prev34.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 20, i32 0, i32 1
  %tql_prev30.i = getelementptr inbounds %struct.NvmeZone, ptr %8, i64 0, i32 2, i32 0, i32 1
  %tql_prev34.sink.i = select i1 %cmp24.not.i, ptr %tql_prev34.i, ptr %tql_prev30.i
  br label %if.end96.sink.split.i

do.body47.i:                                      ; preds = %if.then.i
  %9 = load ptr, ptr %entry1.i, align 8
  %cmp49.not.i = icmp eq ptr %9, null
  %tql_prev59.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 21, i32 0, i32 1
  %tql_prev55.i = getelementptr inbounds %struct.NvmeZone, ptr %9, i64 0, i32 2, i32 0, i32 1
  %tql_prev59.sink.i = select i1 %cmp49.not.i, ptr %tql_prev59.i, ptr %tql_prev55.i
  br label %if.end96.sink.split.i

do.body72.i:                                      ; preds = %if.then.i
  %10 = load ptr, ptr %entry1.i, align 8
  %cmp74.not.i = icmp eq ptr %10, null
  %tql_prev84.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 22, i32 0, i32 1
  %tql_prev80.i = getelementptr inbounds %struct.NvmeZone, ptr %10, i64 0, i32 2, i32 0, i32 1
  %tql_prev84.sink.i = select i1 %cmp74.not.i, ptr %tql_prev84.i, ptr %tql_prev80.i
  br label %if.end96.sink.split.i

if.end96.sink.split.i:                            ; preds = %do.body72.i, %do.body47.i, %do.body22.i, %do.body.i
  %tql_prev12.sink.sink.i = phi ptr [ %tql_prev12.sink.i, %do.body.i ], [ %tql_prev34.sink.i, %do.body22.i ], [ %tql_prev59.sink.i, %do.body47.i ], [ %tql_prev84.sink.i, %do.body72.i ]
  store ptr %5, ptr %tql_prev12.sink.sink.i, align 8
  %11 = load ptr, ptr %entry1.i, align 8
  %12 = load ptr, ptr %tql_prev.i, align 8
  store ptr %11, ptr %12, align 8
  %13 = getelementptr inbounds %struct.NvmeZone, ptr %zone, i64 0, i32 2, i32 0, i32 1
  store i64 0, ptr %13, align 8
  br label %nvme_assign_zone_state.exit

nvme_assign_zone_state.exit:                      ; preds = %nvme_aor_inc_active.exit, %if.then.i, %if.end96.sink.split.i
  store i8 64, ptr %0, align 1
  store ptr null, ptr %entry1.i, align 8
  %tql_prev129.i = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 21, i32 0, i32 1
  %14 = load ptr, ptr %tql_prev129.i, align 8
  store ptr %14, ptr %tql_prev.i, align 8
  store ptr %zone, ptr %14, align 8
  store ptr %entry1.i, ptr %tql_prev129.i, align 8
  br label %return

return:                                           ; preds = %entry, %if.then, %nvme_assign_zone_state.exit
  %retval.0 = phi i16 [ 0, %nvme_assign_zone_state.exit ], [ %call.i, %if.then ], [ 447, %entry ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_zd_extension_set(i32 noundef %zone_idx) unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ZD_EXTENSION_SET_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_zd_extension_set.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_zd_extension_set.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.284, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6, i32 noundef %zone_idx) #17
  br label %_nocheck__trace_pci_nvme_zd_extension_set.exit

if.else.i:                                        ; preds = %if.then.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.285, i32 noundef %zone_idx) #17
  br label %_nocheck__trace_pci_nvme_zd_extension_set.exit

_nocheck__trace_pci_nvme_zd_extension_set.exit:   ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_zone_reset_cancel(ptr nocapture noundef %aiocb) #0 {
entry:
  %req1 = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %aiocb, i64 0, i32 2
  %0 = load ptr, ptr %req1, align 8
  %ns2 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 1
  %1 = load ptr, ptr %ns2, align 8
  %num_zones = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 23
  %2 = load i32, ptr %num_zones, align 8
  %idx = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %aiocb, i64 0, i32 5
  store i32 %2, ptr %idx, align 8
  %ret = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %aiocb, i64 0, i32 3
  store i32 -125, ptr %ret, align 8
  %aiocb3 = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %aiocb, i64 0, i32 1
  %3 = load ptr, ptr %aiocb3, align 8
  %tobool.not = icmp eq ptr %3, null
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  tail call void @blk_aio_cancel_async(ptr noundef nonnull %3) #17
  store ptr null, ptr %aiocb3, align 8
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_zone_reset_epilogue_cb(ptr noundef %opaque, i32 noundef %ret) #0 {
entry:
  %req1 = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %opaque, i64 0, i32 2
  %0 = load ptr, ptr %req1, align 8
  %ns2 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 1
  %1 = load ptr, ptr %ns2, align 8
  %cmp = icmp slt i32 %ret, 0
  br i1 %cmp, label %out, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %entry
  %ret3 = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %opaque, i64 0, i32 3
  %2 = load i32, ptr %ret3, align 8
  %cmp4 = icmp slt i32 %2, 0
  br i1 %cmp4, label %out, label %lor.lhs.false5

lor.lhs.false5:                                   ; preds = %lor.lhs.false
  %lbaf = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 7
  %3 = load i16, ptr %lbaf, align 8
  %tobool.not = icmp eq i16 %3, 0
  br i1 %tobool.not, label %out, label %if.end

if.end:                                           ; preds = %lor.lhs.false5
  %zone = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %opaque, i64 0, i32 6
  %4 = load ptr, ptr %zone, align 8
  %zslba = getelementptr inbounds %struct.NvmeZoneDescr, ptr %4, i64 0, i32 5
  %5 = load i64, ptr %zslba, align 8
  %6 = getelementptr i8, ptr %1, i64 264
  %.val11 = load i64, ptr %6, align 8
  %conv.i.i = zext i16 %3 to i64
  %mul.i.i = mul i64 %5, %conv.i.i
  %add.i = add i64 %mul.i.i, %.val11
  %zone_size = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 24
  %7 = load i64, ptr %zone_size, align 8
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %1, i64 0, i32 1
  %8 = load ptr, ptr %blkconf, align 8
  %mul.i = shl nuw nsw i64 %conv.i.i, 32
  %sext = mul i64 %mul.i, %7
  %conv7 = ashr exact i64 %sext, 32
  %call8 = tail call ptr @blk_aio_pwrite_zeroes(ptr noundef %8, i64 noundef %add.i, i64 noundef %conv7, i32 noundef 4, ptr noundef nonnull @nvme_zone_reset_cb, ptr noundef nonnull %opaque) #17
  %aiocb = getelementptr inbounds %struct.NvmeZoneResetAIOCB, ptr %opaque, i64 0, i32 1
  store ptr %call8, ptr %aiocb, align 8
  br label %return

out:                                              ; preds = %entry, %lor.lhs.false, %lor.lhs.false5
  tail call void @nvme_zone_reset_cb(ptr noundef nonnull %opaque, i32 noundef %ret)
  br label %return

return:                                           ; preds = %out, %if.end
  ret void
}

; Function Attrs: allocsize(0)
declare noalias ptr @g_malloc0(i64 noundef) local_unnamed_addr #11

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_c2h(ptr noundef %n, ptr noundef %ptr, i32 noundef %len, ptr noundef %req) unnamed_addr #0 {
entry:
  %sg = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %conv = zext i32 %len to i64
  %cmd = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call = tail call zeroext i16 @nvme_map_dptr(ptr noundef %n, ptr noundef nonnull %sg, i64 noundef %conv, ptr noundef nonnull %cmd)
  %tobool.not = icmp eq i16 %call, 0
  br i1 %tobool.not, label %if.end, label %return

if.end:                                           ; preds = %entry
  %call2 = tail call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg, ptr noundef %ptr, i32 noundef %len, i32 noundef 1)
  br label %return

return:                                           ; preds = %entry, %if.end
  %retval.0 = phi i16 [ %call2, %if.end ], [ %call, %entry ]
  ret i16 %retval.0
}

declare void @blk_aio_cancel(ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @nvme_free_sq(ptr noundef %sq, ptr noundef %n) unnamed_addr #0 {
entry:
  %sqid = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 1
  %0 = load i16, ptr %sqid, align 8
  %sq2 = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 36
  %1 = load ptr, ptr %sq2, align 16
  %idxprom = zext i16 %0 to i64
  %arrayidx = getelementptr ptr, ptr %1, i64 %idxprom
  store ptr null, ptr %arrayidx, align 8
  %bh = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 9
  %2 = load ptr, ptr %bh, align 8
  tail call void @qemu_bh_delete(ptr noundef %2) #17
  %ioeventfd_enabled = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 11
  %3 = load i8, ptr %ioeventfd_enabled, align 4
  %4 = and i8 %3, 1
  %tobool.not = icmp eq i8 %4, 0
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  %shl = shl i16 %0, 3
  %iomem = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 2
  %conv4 = zext i16 %shl to i64
  %add = add nuw nsw i64 %conv4, 4096
  %notifier = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 10
  tail call void @memory_region_del_eventfd(ptr noundef nonnull %iomem, i64 noundef %add, i32 noundef 4, i1 noundef zeroext false, i64 noundef 0, ptr noundef nonnull %notifier) #17
  tail call void @event_notifier_set_handler(ptr noundef nonnull %notifier, ptr noundef null) #17
  tail call void @event_notifier_cleanup(ptr noundef nonnull %notifier) #17
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  %io_req = getelementptr inbounds %struct.NvmeSQueue, ptr %sq, i64 0, i32 12
  %5 = load ptr, ptr %io_req, align 8
  tail call void @g_free(ptr noundef %5) #17
  %6 = load i16, ptr %sqid, align 8
  %tobool9.not = icmp eq i16 %6, 0
  br i1 %tobool9.not, label %if.end11, label %if.then10

if.then10:                                        ; preds = %if.end
  tail call void @g_free(ptr noundef nonnull %sq) #17
  br label %if.end11

if.end11:                                         ; preds = %if.then10, %if.end
  ret void
}

declare void @qemu_bh_delete(ptr noundef) local_unnamed_addr #1

declare void @memory_region_del_eventfd(ptr noundef, i64 noundef, i32 noundef, i1 noundef zeroext, i64 noundef, ptr noundef) local_unnamed_addr #1

declare void @event_notifier_cleanup(ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_err_invalid_create_sq_size(i16 noundef zeroext %qsize) unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_CREATE_SQ_SIZE_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_err_invalid_create_sq_size.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_err_invalid_create_sq_size.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  %conv11.i = zext i16 %qsize to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.324, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6, i32 noundef %conv11.i) #17
  br label %_nocheck__trace_pci_nvme_err_invalid_create_sq_size.exit

if.else.i:                                        ; preds = %if.then.i
  %conv12.i = zext i16 %qsize to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.325, i32 noundef %conv12.i) #17
  br label %_nocheck__trace_pci_nvme_err_invalid_create_sq_size.exit

_nocheck__trace_pci_nvme_err_invalid_create_sq_size.exit: ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_err_invalid_create_sq_addr(i64 noundef %addr) unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_CREATE_SQ_ADDR_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_err_invalid_create_sq_addr.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_err_invalid_create_sq_addr.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.326, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6, i64 noundef %addr) #17
  br label %_nocheck__trace_pci_nvme_err_invalid_create_sq_addr.exit

if.else.i:                                        ; preds = %if.then.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.327, i64 noundef %addr) #17
  br label %_nocheck__trace_pci_nvme_err_invalid_create_sq_addr.exit

_nocheck__trace_pci_nvme_err_invalid_create_sq_addr.exit: ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_err_invalid_create_sq_qflags(i16 noundef zeroext %qflags) unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_CREATE_SQ_QFLAGS_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_err_invalid_create_sq_qflags.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_err_invalid_create_sq_qflags.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  %conv11.i = zext nneg i16 %qflags to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.328, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6, i32 noundef %conv11.i) #17
  br label %_nocheck__trace_pci_nvme_err_invalid_create_sq_qflags.exit

if.else.i:                                        ; preds = %if.then.i
  %conv12.i = zext nneg i16 %qflags to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.329, i32 noundef %conv12.i) #17
  br label %_nocheck__trace_pci_nvme_err_invalid_create_sq_qflags.exit

_nocheck__trace_pci_nvme_err_invalid_create_sq_qflags.exit: ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_error_info(ptr noundef %n, i8 noundef zeroext %rae, i32 noundef %buf_len, i64 noundef %off, ptr noundef %req) unnamed_addr #0 {
entry:
  %errlog = alloca %struct.NvmeErrorLog, align 1
  %cmp = icmp ugt i64 %off, 63
  br i1 %cmp, label %return, label %if.end

if.end:                                           ; preds = %entry
  %tobool.not = icmp eq i8 %rae, 0
  br i1 %tobool.not, label %if.then1, label %if.end2

if.then1:                                         ; preds = %if.end
  %aer_mask.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 27
  %0 = load i8, ptr %aer_mask.i, align 8
  %conv2.i = and i8 %0, -2
  store i8 %conv2.i, ptr %aer_mask.i, align 8
  %aer_queue.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 29
  %1 = load ptr, ptr %aer_queue.i, align 8
  %cmp.i = icmp eq ptr %1, null
  br i1 %cmp.i, label %if.end2, label %if.then.i

if.then.i:                                        ; preds = %if.then1
  tail call fastcc void @nvme_process_aers(ptr noundef nonnull %n)
  br label %if.end2

if.end2:                                          ; preds = %if.then.i, %if.then1, %if.end
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 1 dereferenceable(64) %errlog, i8 0, i64 64, i1 false)
  %sub = sub nuw nsw i64 64, %off
  %conv = zext i32 %buf_len to i64
  %cond = tail call i64 @llvm.umin.i64(i64 %sub, i64 %conv)
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef %n, ptr noundef nonnull %sg.i, i64 noundef %cond, ptr noundef nonnull %cmd.i)
  %tobool.not.i = icmp eq i16 %call.i, 0
  br i1 %tobool.not.i, label %if.end.i, label %return

if.end.i:                                         ; preds = %if.end2
  %conv5 = trunc i64 %cond to i32
  %call2.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef nonnull %errlog, i32 noundef %conv5, i32 noundef 1)
  br label %return

return:                                           ; preds = %if.end.i, %if.end2, %entry
  %retval.0 = phi i16 [ 16386, %entry ], [ %call2.i, %if.end.i ], [ %call.i, %if.end2 ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_smart_info(ptr noundef %n, i8 noundef zeroext %rae, i32 noundef %buf_len, i64 noundef %off, ptr noundef %req) unnamed_addr #0 {
entry:
  %smart = alloca %struct.NvmeSmartLog, align 1
  %nsid1 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 3
  %0 = load i32, ptr %nsid1, align 4
  %1 = getelementptr inbounds i8, ptr %smart, i64 3
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 1 dereferenceable(512) %1, i8 0, i64 509, i1 false)
  %cmp = icmp ugt i64 %off, 511
  br i1 %cmp, label %return, label %if.end

if.end:                                           ; preds = %entry
  %cmp2.not = icmp eq i32 %0, -1
  br i1 %cmp2.not, label %nvme_ns.exit28, label %if.then3

if.then3:                                         ; preds = %if.end
  %2 = add i32 %0, -257
  %or.cond.i = icmp ult i32 %2, -256
  br i1 %or.cond.i, label %return, label %nvme_ns.exit

nvme_ns.exit:                                     ; preds = %if.then3
  %idxprom.i = zext nneg i32 %0 to i64
  %arrayidx.i = getelementptr %struct.NvmeCtrl, ptr %n, i64 0, i32 35, i64 %idxprom.i
  %3 = load ptr, ptr %arrayidx.i, align 8
  %tobool.not = icmp eq ptr %3, null
  br i1 %tobool.not, label %return, label %if.end6

if.end6:                                          ; preds = %nvme_ns.exit
  %4 = getelementptr i8, ptr %3, i64 160
  %call4.val = load ptr, ptr %4, align 8
  %call.i = tail call ptr @blk_get_stats(ptr noundef %call4.val) #17
  %arrayidx.i22 = getelementptr %struct.BlockAcctStats, ptr %call.i, i64 0, i32 1, i64 1
  %5 = load i64, ptr %arrayidx.i22, align 8
  %arrayidx2.i = getelementptr %struct.BlockAcctStats, ptr %call.i, i64 0, i32 1, i64 2
  %6 = load i64, ptr %arrayidx2.i, align 8
  %arrayidx4.i = getelementptr %struct.BlockAcctStats, ptr %call.i, i64 0, i32 2, i64 1
  %7 = load i64, ptr %arrayidx4.i, align 8
  %arrayidx7.i = getelementptr %struct.BlockAcctStats, ptr %call.i, i64 0, i32 2, i64 2
  %8 = load i64, ptr %arrayidx7.i, align 8
  br label %if.end12

nvme_ns.exit28:                                   ; preds = %if.end, %for.inc
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.inc ], [ 1, %if.end ]
  %stats.sroa.16.067 = phi i64 [ %stats.sroa.16.1, %for.inc ], [ 0, %if.end ]
  %stats.sroa.11.066 = phi i64 [ %stats.sroa.11.1, %for.inc ], [ 0, %if.end ]
  %stats.sroa.6.065 = phi i64 [ %stats.sroa.6.1, %for.inc ], [ 0, %if.end ]
  %stats.sroa.0.064 = phi i64 [ %stats.sroa.0.1, %for.inc ], [ 0, %if.end ]
  %arrayidx.i26 = getelementptr %struct.NvmeCtrl, ptr %n, i64 0, i32 35, i64 %indvars.iv
  %9 = load ptr, ptr %arrayidx.i26, align 8
  %tobool9.not = icmp eq ptr %9, null
  br i1 %tobool9.not, label %for.inc, label %if.end11

if.end11:                                         ; preds = %nvme_ns.exit28
  %10 = getelementptr i8, ptr %9, i64 160
  %call8.val = load ptr, ptr %10, align 8
  %call.i29 = tail call ptr @blk_get_stats(ptr noundef %call8.val) #17
  %arrayidx.i30 = getelementptr %struct.BlockAcctStats, ptr %call.i29, i64 0, i32 1, i64 1
  %11 = load i64, ptr %arrayidx.i30, align 8
  %add.i31 = add i64 %11, %stats.sroa.0.064
  %arrayidx2.i32 = getelementptr %struct.BlockAcctStats, ptr %call.i29, i64 0, i32 1, i64 2
  %12 = load i64, ptr %arrayidx2.i32, align 8
  %add3.i34 = add i64 %12, %stats.sroa.6.065
  %arrayidx4.i35 = getelementptr %struct.BlockAcctStats, ptr %call.i29, i64 0, i32 2, i64 1
  %13 = load i64, ptr %arrayidx4.i35, align 8
  %add5.i37 = add i64 %13, %stats.sroa.11.066
  %arrayidx7.i38 = getelementptr %struct.BlockAcctStats, ptr %call.i29, i64 0, i32 2, i64 2
  %14 = load i64, ptr %arrayidx7.i38, align 8
  %add8.i40 = add i64 %14, %stats.sroa.16.067
  br label %for.inc

for.inc:                                          ; preds = %nvme_ns.exit28, %if.end11
  %stats.sroa.0.1 = phi i64 [ %stats.sroa.0.064, %nvme_ns.exit28 ], [ %add.i31, %if.end11 ]
  %stats.sroa.6.1 = phi i64 [ %stats.sroa.6.065, %nvme_ns.exit28 ], [ %add3.i34, %if.end11 ]
  %stats.sroa.11.1 = phi i64 [ %stats.sroa.11.066, %nvme_ns.exit28 ], [ %add5.i37, %if.end11 ]
  %stats.sroa.16.1 = phi i64 [ %stats.sroa.16.067, %nvme_ns.exit28 ], [ %add8.i40, %if.end11 ]
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %exitcond.not = icmp eq i64 %indvars.iv.next, 257
  br i1 %exitcond.not, label %if.end12, label %nvme_ns.exit28, !llvm.loop !68

if.end12:                                         ; preds = %for.inc, %if.end6
  %stats.sroa.0.2 = phi i64 [ %5, %if.end6 ], [ %stats.sroa.0.1, %for.inc ]
  %stats.sroa.6.2 = phi i64 [ %6, %if.end6 ], [ %stats.sroa.6.1, %for.inc ]
  %stats.sroa.11.2 = phi i64 [ %7, %if.end6 ], [ %stats.sroa.11.1, %for.inc ]
  %stats.sroa.16.2 = phi i64 [ %8, %if.end6 ], [ %stats.sroa.16.1, %for.inc ]
  %sub = sub nuw nsw i64 512, %off
  %conv = zext i32 %buf_len to i64
  %cond = tail call i64 @llvm.umin.i64(i64 %sub, i64 %conv)
  %conv15 = trunc i64 %cond to i32
  %smart_critical_warning = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 19
  %15 = load i8, ptr %smart_critical_warning, align 2
  store i8 %15, ptr %smart, align 1
  %shr = lshr i64 %stats.sroa.0.2, 9
  %sub16 = add nuw nsw i64 %shr, 999
  %div = udiv i64 %sub16, 1000
  %shr17 = lshr i64 %stats.sroa.6.2, 9
  %sub19 = add nuw nsw i64 %shr17, 999
  %div20 = udiv i64 %sub19, 1000
  %data_units_read = getelementptr inbounds %struct.NvmeSmartLog, ptr %smart, i64 0, i32 6
  store i64 %div, ptr %data_units_read, align 1
  %data_units_written = getelementptr inbounds %struct.NvmeSmartLog, ptr %smart, i64 0, i32 7
  store i64 %div20, ptr %data_units_written, align 1
  %host_read_commands = getelementptr inbounds %struct.NvmeSmartLog, ptr %smart, i64 0, i32 8
  store i64 %stats.sroa.11.2, ptr %host_read_commands, align 1
  %host_write_commands = getelementptr inbounds %struct.NvmeSmartLog, ptr %smart, i64 0, i32 9
  store i64 %stats.sroa.16.2, ptr %host_write_commands, align 1
  %temperature = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 18
  %16 = load i16, ptr %temperature, align 16
  %temperature29 = getelementptr inbounds %struct.NvmeSmartLog, ptr %smart, i64 0, i32 1
  store i16 %16, ptr %temperature29, align 1
  %features = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 41
  %17 = load i16, ptr %features, align 16
  %cmp33.not = icmp ult i16 %16, %17
  br i1 %cmp33.not, label %lor.lhs.false, label %if.then41

lor.lhs.false:                                    ; preds = %if.end12
  %temp_thresh_low = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 41, i32 0, i32 1
  %18 = load i16, ptr %temp_thresh_low, align 2
  %cmp39.not = icmp ugt i16 %16, %18
  br i1 %cmp39.not, label %if.end45, label %if.then41

if.then41:                                        ; preds = %lor.lhs.false, %if.end12
  %19 = or i8 %15, 2
  store i8 %19, ptr %smart, align 1
  br label %if.end45

if.end45:                                         ; preds = %if.then41, %lor.lhs.false
  %call.i41 = tail call i64 @qemu_clock_get_ns(i32 noundef 1) #17
  %div.i = sdiv i64 %call.i41, 1000000
  %starttime_ms = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 17
  %20 = load i64, ptr %starttime_ms, align 8
  %sub47 = sub i64 %div.i, %20
  %div50 = udiv i64 %sub47, 3600000
  %power_on_hours = getelementptr inbounds %struct.NvmeSmartLog, ptr %smart, i64 0, i32 12
  store i64 %div50, ptr %power_on_hours, align 1
  %tobool53.not = icmp eq i8 %rae, 0
  br i1 %tobool53.not, label %if.then54, label %if.end55

if.then54:                                        ; preds = %if.end45
  %aer_mask.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 27
  %21 = load i8, ptr %aer_mask.i, align 8
  %conv2.i = and i8 %21, -3
  store i8 %conv2.i, ptr %aer_mask.i, align 8
  %aer_queue.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 29
  %22 = load ptr, ptr %aer_queue.i, align 8
  %cmp.i = icmp eq ptr %22, null
  br i1 %cmp.i, label %if.end55, label %if.then.i

if.then.i:                                        ; preds = %if.then54
  tail call fastcc void @nvme_process_aers(ptr noundef nonnull %n)
  br label %if.end55

if.end55:                                         ; preds = %if.then.i, %if.then54, %if.end45
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i43 = tail call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %n, ptr noundef nonnull %sg.i, i64 noundef %cond, ptr noundef nonnull %cmd.i)
  %tobool.not.i = icmp eq i16 %call.i43, 0
  br i1 %tobool.not.i, label %if.end.i45, label %return

if.end.i45:                                       ; preds = %if.end55
  %add.ptr = getelementptr i8, ptr %smart, i64 %off
  %call2.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef %add.ptr, i32 noundef %conv15, i32 noundef 1)
  br label %return

return:                                           ; preds = %if.then3, %if.end.i45, %if.end55, %nvme_ns.exit, %entry
  %retval.0 = phi i16 [ 16386, %entry ], [ 16395, %nvme_ns.exit ], [ %call2.i, %if.end.i45 ], [ %call.i43, %if.end55 ], [ 16395, %if.then3 ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_fw_log_info(ptr noundef %n, i32 noundef %buf_len, i64 noundef %off, ptr noundef %req) unnamed_addr #0 {
entry:
  %fw_log = alloca %struct.NvmeFwSlotInfoLog, align 1
  %0 = getelementptr inbounds i8, ptr %fw_log, i64 1
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 1 dereferenceable(512) %0, i8 0, i64 511, i1 false)
  store i8 1, ptr %fw_log, align 1
  %cmp = icmp ugt i64 %off, 511
  br i1 %cmp, label %return, label %if.end

if.end:                                           ; preds = %entry
  %frs1 = getelementptr inbounds %struct.NvmeFwSlotInfoLog, ptr %fw_log, i64 0, i32 2
  call void @strpadcpy(ptr noundef nonnull %frs1, i32 noundef 8, ptr noundef nonnull @.str.332, i8 noundef signext 32) #17
  %sub = sub nuw nsw i64 512, %off
  %conv = zext i32 %buf_len to i64
  %cond = call i64 @llvm.umin.i64(i64 %sub, i64 %conv)
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i = call zeroext i16 @nvme_map_dptr(ptr noundef %n, ptr noundef nonnull %sg.i, i64 noundef %cond, ptr noundef nonnull %cmd.i)
  %tobool.not.i = icmp eq i16 %call.i, 0
  br i1 %tobool.not.i, label %if.end.i, label %return

if.end.i:                                         ; preds = %if.end
  %conv3 = trunc i64 %cond to i32
  %add.ptr = getelementptr i8, ptr %fw_log, i64 %off
  %call2.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef %add.ptr, i32 noundef %conv3, i32 noundef 1)
  br label %return

return:                                           ; preds = %if.end.i, %if.end, %entry
  %retval.0 = phi i16 [ 16386, %entry ], [ %call2.i, %if.end.i ], [ %call.i, %if.end ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_changed_nslist(ptr noundef %n, i8 noundef zeroext %rae, i32 noundef %buf_len, i64 noundef %off, ptr noundef %req) unnamed_addr #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %nslist = alloca [1024 x i32], align 16
  %cmp = icmp ugt i64 %off, 4095
  br i1 %cmp, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_LOG_PAGE_OFFSET_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %1, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_err_invalid_log_page_offset.exit

land.lhs.true5.i.i:                               ; preds = %if.then
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %2, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_err_invalid_log_page_offset.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.333, i32 noundef %call10.i.i, i64 noundef %5, i64 noundef %6, i64 noundef %off, i64 noundef 4096) #17
  br label %trace_pci_nvme_err_invalid_log_page_offset.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.334, i64 noundef %off, i64 noundef 4096) #17
  br label %trace_pci_nvme_err_invalid_log_page_offset.exit

trace_pci_nvme_err_invalid_log_page_offset.exit:  ; preds = %if.then, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  br label %return

if.end:                                           ; preds = %entry
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 16 dereferenceable(4096) %nslist, i8 0, i64 4096, i1 false)
  %sub = sub nuw nsw i64 4096, %off
  %conv = zext i32 %buf_len to i64
  %cond = tail call i64 @llvm.umin.i64(i64 %sub, i64 %conv)
  %conv3 = trunc i64 %cond to i32
  %changed_nsids = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 32
  br label %while.cond

while.cond:                                       ; preds = %if.end13, %if.end
  %indvars.iv = phi i64 [ %indvars.iv.next, %if.end13 ], [ 0, %if.end ]
  br label %for.body.i

for.body.i:                                       ; preds = %for.inc.i, %while.cond
  %result.011.i = phi i64 [ 0, %while.cond ], [ %add3.i, %for.inc.i ]
  %addr.addr.010.i = phi ptr [ %changed_nsids, %while.cond ], [ %incdec.ptr.i, %for.inc.i ]
  %7 = load i64, ptr %addr.addr.010.i, align 8
  %tobool.not.i = icmp eq i64 %7, 0
  br i1 %tobool.not.i, label %for.inc.i, label %find_first_bit.exit

for.inc.i:                                        ; preds = %for.body.i
  %incdec.ptr.i = getelementptr i64, ptr %addr.addr.010.i, i64 1
  %add3.i = add nuw nsw i64 %result.011.i, 64
  %cmp.i = icmp ult i64 %result.011.i, 193
  br i1 %cmp.i, label %for.body.i, label %while.end, !llvm.loop !69

find_first_bit.exit:                              ; preds = %for.body.i
  %8 = tail call i64 @llvm.cttz.i64(i64 %7, i1 true), !range !16
  %add.i = or disjoint i64 %8, %result.011.i
  %cond.i = tail call i64 @llvm.umin.i64(i64 %add.i, i64 257)
  %conv5 = trunc i64 %cond.i to i32
  %cmp6.not = icmp eq i32 %conv5, 257
  br i1 %cmp6.not, label %while.end, label %while.body

while.body:                                       ; preds = %find_first_bit.exit
  %cmp9 = icmp eq i64 %indvars.iv, 1024
  br i1 %cmp9, label %while.end.thread, label %if.end13

while.end.thread:                                 ; preds = %while.body
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 16 dereferenceable(4096) %nslist, i8 0, i64 4096, i1 false)
  store i32 -1, ptr %nslist, align 16
  br label %if.then21

if.end13:                                         ; preds = %while.body
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %arrayidx14 = getelementptr [1024 x i32], ptr %nslist, i64 0, i64 %indvars.iv
  store i32 %conv5, ptr %arrayidx14, align 4
  %rem.i = and i64 %cond.i, 63
  %shl.i = shl nuw i64 1, %rem.i
  %div2.i = lshr i64 %cond.i, 6
  %add.ptr.i = getelementptr i64, ptr %changed_nsids, i64 %div2.i
  %not.i = xor i64 %shl.i, -1
  %9 = load i64, ptr %add.ptr.i, align 8
  %and.i = and i64 %9, %not.i
  store i64 %and.i, ptr %add.ptr.i, align 8
  br label %while.cond, !llvm.loop !70

while.end:                                        ; preds = %find_first_bit.exit, %for.inc.i
  %.pr = load i32, ptr %nslist, align 16
  %cmp19 = icmp eq i32 %.pr, -1
  br i1 %cmp19, label %if.then21, label %if.end24

if.then21:                                        ; preds = %while.end.thread, %while.end
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(40) %changed_nsids, i8 0, i64 40, i1 false)
  br label %if.end24

if.end24:                                         ; preds = %if.then21, %while.end
  %tobool.not = icmp eq i8 %rae, 0
  br i1 %tobool.not, label %if.then25, label %if.end26

if.then25:                                        ; preds = %if.end24
  %aer_mask.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 27
  %10 = load i8, ptr %aer_mask.i, align 8
  %conv2.i = and i8 %10, -5
  store i8 %conv2.i, ptr %aer_mask.i, align 8
  %aer_queue.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 29
  %11 = load ptr, ptr %aer_queue.i, align 8
  %cmp.i12 = icmp eq ptr %11, null
  br i1 %cmp.i12, label %if.end26, label %if.then.i13

if.then.i13:                                      ; preds = %if.then25
  tail call fastcc void @nvme_process_aers(ptr noundef nonnull %n)
  br label %if.end26

if.end26:                                         ; preds = %if.then.i13, %if.then25, %if.end24
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef %n, ptr noundef nonnull %sg.i, i64 noundef %cond, ptr noundef nonnull %cmd.i)
  %tobool.not.i14 = icmp eq i16 %call.i, 0
  br i1 %tobool.not.i14, label %if.end.i, label %return

if.end.i:                                         ; preds = %if.end26
  %add.ptr = getelementptr i8, ptr %nslist, i64 %off
  %call2.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef %add.ptr, i32 noundef %conv3, i32 noundef 1)
  br label %return

return:                                           ; preds = %if.end.i, %if.end26, %trace_pci_nvme_err_invalid_log_page_offset.exit
  %retval.0 = phi i16 [ 16386, %trace_pci_nvme_err_invalid_log_page_offset.exit ], [ %call2.i, %if.end.i ], [ %call.i, %if.end26 ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_cmd_effects(ptr noundef %n, i8 noundef zeroext %csi, i32 noundef %buf_len, i64 noundef %off, ptr noundef %req) unnamed_addr #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %log = alloca %struct.NvmeEffectsLog, align 4
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 4 dereferenceable(4096) %log, i8 0, i64 4096, i1 false)
  %cmp = icmp ugt i64 %off, 4095
  br i1 %cmp, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_LOG_PAGE_OFFSET_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %1, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_err_invalid_log_page_offset.exit

land.lhs.true5.i.i:                               ; preds = %if.then
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %2, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_err_invalid_log_page_offset.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.333, i32 noundef %call10.i.i, i64 noundef %5, i64 noundef %6, i64 noundef %off, i64 noundef 4096) #17
  br label %trace_pci_nvme_err_invalid_log_page_offset.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.334, i64 noundef %off, i64 noundef 4096) #17
  br label %trace_pci_nvme_err_invalid_log_page_offset.exit

trace_pci_nvme_err_invalid_log_page_offset.exit:  ; preds = %if.then, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  br label %return

if.end:                                           ; preds = %entry
  %cc = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 3, i32 4
  %cc.val = load i32, ptr %cc, align 1
  %shr = lshr i32 %cc.val, 4
  %and = and i32 %shr, 7
  switch i32 %and, label %sw.epilog5 [
    i32 0, label %if.then6
    i32 6, label %sw.bb2
  ]

sw.bb2:                                           ; preds = %if.end
  switch i8 %csi, label %sw.epilog5 [
    i8 0, label %if.then6
    i8 2, label %sw.bb4
  ]

sw.bb4:                                           ; preds = %sw.bb2
  br label %if.then6

sw.epilog5:                                       ; preds = %sw.bb2, %if.end
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(1024) %log, ptr noundef nonnull align 16 dereferenceable(1024) @nvme_cse_acs, i64 1024, i1 false)
  br label %if.end8

if.then6:                                         ; preds = %sw.bb2, %if.end, %sw.bb4
  %src_iocs.0.ph = phi ptr [ @nvme_cse_iocs_zoned, %sw.bb4 ], [ @nvme_cse_iocs_nvm, %if.end ], [ @nvme_cse_iocs_nvm, %sw.bb2 ]
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(1024) %log, ptr noundef nonnull align 16 dereferenceable(1024) @nvme_cse_acs, i64 1024, i1 false)
  %iocs = getelementptr inbounds %struct.NvmeEffectsLog, ptr %log, i64 0, i32 1
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 4 dereferenceable(1024) %iocs, ptr noundef nonnull align 16 dereferenceable(1024) %src_iocs.0.ph, i64 1024, i1 false)
  br label %if.end8

if.end8:                                          ; preds = %sw.epilog5, %if.then6
  %sub = sub nuw nsw i64 4096, %off
  %conv9 = zext i32 %buf_len to i64
  %cond = tail call i64 @llvm.umin.i64(i64 %sub, i64 %conv9)
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %n, ptr noundef nonnull %sg.i, i64 noundef %cond, ptr noundef nonnull %cmd.i)
  %tobool.not.i = icmp eq i16 %call.i, 0
  br i1 %tobool.not.i, label %if.end.i, label %return

if.end.i:                                         ; preds = %if.end8
  %conv12 = trunc i64 %cond to i32
  %add.ptr = getelementptr i8, ptr %log, i64 %off
  %call2.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef %add.ptr, i32 noundef %conv12, i32 noundef 1)
  br label %return

return:                                           ; preds = %if.end.i, %if.end8, %trace_pci_nvme_err_invalid_log_page_offset.exit
  %retval.0 = phi i16 [ 16386, %trace_pci_nvme_err_invalid_log_page_offset.exit ], [ %call2.i, %if.end.i ], [ %call.i, %if.end8 ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_endgrp_info(ptr noundef %n, i32 noundef %buf_len, i64 noundef %off, ptr noundef %req) unnamed_addr #0 {
entry:
  %info = alloca %struct.NvmeEndGrpLog, align 1
  %cdw11 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 8
  %0 = load i32, ptr %cdw11, align 4
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 1 dereferenceable(512) %info, i8 0, i64 512, i1 false)
  %subsys = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 33
  %1 = load ptr, ptr %subsys, align 8
  %tobool = icmp eq ptr %1, null
  %shr.mask = and i32 %0, -65536
  %cmp = icmp ne i32 %shr.mask, 65536
  %or.cond = select i1 %tobool, i1 true, i1 %cmp
  %cmp3 = icmp ugt i64 %off, 511
  %or.cond12 = or i1 %cmp3, %or.cond
  br i1 %or.cond12, label %return, label %for.body

for.body:                                         ; preds = %entry, %for.inc
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.inc ], [ 1, %entry ]
  %stats.sroa.11.031 = phi i64 [ %stats.sroa.11.1, %for.inc ], [ 0, %entry ]
  %stats.sroa.8.030 = phi i64 [ %stats.sroa.8.1, %for.inc ], [ 0, %entry ]
  %stats.sroa.4.029 = phi i64 [ %stats.sroa.4.1, %for.inc ], [ 0, %entry ]
  %stats.sroa.0.028 = phi i64 [ %stats.sroa.0.1, %for.inc ], [ 0, %entry ]
  %2 = load ptr, ptr %subsys, align 8
  %tobool.i = icmp eq ptr %2, null
  br i1 %tobool.i, label %for.inc, label %nvme_subsys_ns.exit

nvme_subsys_ns.exit:                              ; preds = %for.body
  %arrayidx.i = getelementptr %struct.NvmeSubsystem, ptr %2, i64 0, i32 5, i64 %indvars.iv
  %3 = load ptr, ptr %arrayidx.i, align 8
  %tobool11.not = icmp eq ptr %3, null
  br i1 %tobool11.not, label %for.inc, label %if.end13

if.end13:                                         ; preds = %nvme_subsys_ns.exit
  %4 = getelementptr i8, ptr %3, i64 160
  %call10.val = load ptr, ptr %4, align 8
  %call.i = tail call ptr @blk_get_stats(ptr noundef %call10.val) #17
  %arrayidx.i13 = getelementptr %struct.BlockAcctStats, ptr %call.i, i64 0, i32 1, i64 1
  %5 = load i64, ptr %arrayidx.i13, align 8
  %add.i = add i64 %5, %stats.sroa.0.028
  %arrayidx2.i = getelementptr %struct.BlockAcctStats, ptr %call.i, i64 0, i32 1, i64 2
  %6 = load i64, ptr %arrayidx2.i, align 8
  %add3.i = add i64 %6, %stats.sroa.4.029
  %arrayidx4.i = getelementptr %struct.BlockAcctStats, ptr %call.i, i64 0, i32 2, i64 1
  %7 = load i64, ptr %arrayidx4.i, align 8
  %add5.i = add i64 %7, %stats.sroa.8.030
  %arrayidx7.i = getelementptr %struct.BlockAcctStats, ptr %call.i, i64 0, i32 2, i64 2
  %8 = load i64, ptr %arrayidx7.i, align 8
  %add8.i = add i64 %8, %stats.sroa.11.031
  br label %for.inc

for.inc:                                          ; preds = %for.body, %nvme_subsys_ns.exit, %if.end13
  %stats.sroa.0.1 = phi i64 [ %stats.sroa.0.028, %nvme_subsys_ns.exit ], [ %add.i, %if.end13 ], [ %stats.sroa.0.028, %for.body ]
  %stats.sroa.4.1 = phi i64 [ %stats.sroa.4.029, %nvme_subsys_ns.exit ], [ %add3.i, %if.end13 ], [ %stats.sroa.4.029, %for.body ]
  %stats.sroa.8.1 = phi i64 [ %stats.sroa.8.030, %nvme_subsys_ns.exit ], [ %add5.i, %if.end13 ], [ %stats.sroa.8.030, %for.body ]
  %stats.sroa.11.1 = phi i64 [ %stats.sroa.11.031, %nvme_subsys_ns.exit ], [ %add8.i, %if.end13 ], [ %stats.sroa.11.031, %for.body ]
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %exitcond.not = icmp eq i64 %indvars.iv.next, 257
  br i1 %exitcond.not, label %for.end, label %for.body, !llvm.loop !71

for.end:                                          ; preds = %for.inc
  %div = udiv i64 %stats.sroa.0.1, 1000000000
  %sub = add nuw nsw i64 %div, 999999999
  %div14 = udiv i64 %sub, 1000000000
  %data_units_read = getelementptr inbounds %struct.NvmeEndGrpLog, ptr %info, i64 0, i32 7
  store i64 %div14, ptr %data_units_read, align 1
  %div16 = udiv i64 %stats.sroa.4.1, 1000000000
  %sub18 = add nuw nsw i64 %div16, 999999999
  %div19 = udiv i64 %sub18, 1000000000
  %data_units_written = getelementptr inbounds %struct.NvmeEndGrpLog, ptr %info, i64 0, i32 8
  store i64 %div19, ptr %data_units_written, align 1
  %media_units_written = getelementptr inbounds %struct.NvmeEndGrpLog, ptr %info, i64 0, i32 9
  store i64 %div19, ptr %media_units_written, align 1
  %host_read_commands = getelementptr inbounds %struct.NvmeEndGrpLog, ptr %info, i64 0, i32 10
  store i64 %stats.sroa.8.1, ptr %host_read_commands, align 1
  %host_write_commands = getelementptr inbounds %struct.NvmeEndGrpLog, ptr %info, i64 0, i32 11
  store i64 %stats.sroa.11.1, ptr %host_write_commands, align 1
  %sub33 = sub nuw nsw i64 512, %off
  %conv34 = zext i32 %buf_len to i64
  %cond = tail call i64 @llvm.umin.i64(i64 %sub33, i64 %conv34)
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i14 = tail call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %n, ptr noundef nonnull %sg.i, i64 noundef %cond, ptr noundef nonnull %cmd.i)
  %tobool.not.i = icmp eq i16 %call.i14, 0
  br i1 %tobool.not.i, label %if.end.i16, label %return

if.end.i16:                                       ; preds = %for.end
  %conv37 = trunc i64 %cond to i32
  %add.ptr = getelementptr i8, ptr %info, i64 %off
  %call2.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef %add.ptr, i32 noundef %conv37, i32 noundef 1)
  br label %return

return:                                           ; preds = %if.end.i16, %for.end, %entry
  %retval.0 = phi i16 [ 16386, %entry ], [ %call2.i, %if.end.i16 ], [ %call.i14, %for.end ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_fdp_confs(ptr noundef %n, i32 noundef %endgrpid, i32 noundef %buf_len, i64 noundef %off, ptr noundef %req) unnamed_addr #0 {
entry:
  %cmp.not = icmp eq i32 %endgrpid, 1
  br i1 %cmp.not, label %lor.lhs.false, label %cleanup

lor.lhs.false:                                    ; preds = %entry
  %subsys = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 33
  %0 = load ptr, ptr %subsys, align 8
  %tobool.not = icmp eq ptr %0, null
  br i1 %tobool.not, label %cleanup, label %if.end

if.end:                                           ; preds = %lor.lhs.false
  %enabled = getelementptr inbounds %struct.NvmeSubsystem, ptr %0, i64 0, i32 6, i32 1, i32 9
  %1 = load i8, ptr %enabled, align 8
  %2 = and i8 %1, 1
  %tobool3.not = icmp eq i8 %2, 0
  br i1 %tobool3.not, label %if.end7, label %if.then4

if.then4:                                         ; preds = %if.end
  %nruh6 = getelementptr inbounds %struct.NvmeSubsystem, ptr %0, i64 0, i32 6, i32 1, i32 2
  %3 = load i16, ptr %nruh6, align 8
  %conv = zext i16 %3 to i64
  br label %if.end7

if.end7:                                          ; preds = %if.end, %if.then4
  %nruh.0 = phi i64 [ %conv, %if.then4 ], [ 1, %if.end ]
  %mul.i = shl nuw nsw i64 %nruh.0, 2
  %sub.i = add nuw nsw i64 %mul.i, 71
  %and.i = and i64 %sub.i, 524280
  %4 = trunc i64 %and.i to i32
  %conv8 = add nuw nsw i32 %4, 16
  %conv9 = zext nneg i32 %conv8 to i64
  %cmp10.not = icmp ugt i64 %conv9, %off
  br i1 %cmp10.not, label %if.end13, label %cleanup

if.end13:                                         ; preds = %if.end7
  %sub = sub nsw i64 %conv9, %off
  %conv15 = zext i32 %buf_len to i64
  %cond = tail call i64 @llvm.umin.i64(i64 %sub, i64 %conv15)
  %conv18 = trunc i64 %cond to i32
  %call20 = tail call noalias ptr @g_malloc0(i64 noundef %conv9) #20
  %add.ptr = getelementptr %struct.NvmeFdpConfsHdr, ptr %call20, i64 1
  %add.ptr22 = getelementptr %struct.NvmeFdpConfsHdr, ptr %call20, i64 5
  store i16 0, ptr %call20, align 1
  %size = getelementptr inbounds %struct.NvmeFdpConfsHdr, ptr %call20, i64 0, i32 3
  store i32 %conv8, ptr %size, align 1
  %conv25 = trunc i64 %and.i to i16
  store i16 %conv25, ptr %add.ptr, align 1
  %5 = load i8, ptr %enabled, align 8
  %6 = and i8 %5, 1
  %tobool29.not = icmp eq i8 %6, 0
  br i1 %tobool29.not, label %if.else67, label %if.then30

if.then30:                                        ; preds = %if.end13
  %fdpa = getelementptr %struct.NvmeFdpConfsHdr, ptr %call20, i64 1, i32 1
  %7 = load i8, ptr %fdpa, align 1
  %8 = or i8 %7, -128
  store i8 %8, ptr %fdpa, align 1
  %rgif = getelementptr inbounds %struct.NvmeSubsystem, ptr %0, i64 0, i32 6, i32 1, i32 4
  %9 = load i8, ptr %rgif, align 4
  %10 = and i8 %8, -16
  %11 = and i8 %9, 15
  %or.i4041 = or disjoint i8 %11, %10
  store i8 %or.i4041, ptr %fdpa, align 1
  %nrg = getelementptr inbounds %struct.NvmeSubsystem, ptr %0, i64 0, i32 6, i32 1, i32 3
  %12 = load i16, ptr %nrg, align 2
  %conv53 = zext i16 %12 to i32
  %nrg54 = getelementptr %struct.NvmeFdpConfsHdr, ptr %call20, i64 1, i32 3
  store i32 %conv53, ptr %nrg54, align 1
  %nruh56 = getelementptr inbounds %struct.NvmeSubsystem, ptr %0, i64 0, i32 6, i32 1, i32 2
  %13 = load i16, ptr %nruh56, align 8
  %nruh58 = getelementptr %struct.NvmeFdpConfsHdr, ptr %call20, i64 1, i32 4
  store i16 %13, ptr %nruh58, align 1
  %maxpids = getelementptr %struct.NvmeFdpConfsHdr, ptr %call20, i64 1, i32 4, i64 2
  store i16 127, ptr %maxpids, align 1
  %nnss = getelementptr %struct.NvmeFdpConfsHdr, ptr %call20, i64 1, i32 4, i64 4
  store i32 256, ptr %nnss, align 1
  %runs = getelementptr inbounds %struct.NvmeSubsystem, ptr %0, i64 0, i32 6, i32 1, i32 5
  %14 = load i64, ptr %runs, align 8
  %runs63 = getelementptr %struct.NvmeFdpConfsHdr, ptr %call20, i64 2
  store i64 %14, ptr %runs63, align 1
  %cmp6542.not = icmp eq i64 %nruh.0, 0
  br i1 %cmp6542.not, label %if.end80, label %for.body

for.body:                                         ; preds = %if.then30, %for.body
  %ruhd.044 = phi ptr [ %incdec.ptr, %for.body ], [ %add.ptr22, %if.then30 ]
  %i.043 = phi i32 [ %inc, %for.body ], [ 0, %if.then30 ]
  store i8 1, ptr %ruhd.044, align 1
  %incdec.ptr = getelementptr %struct.NvmeRuhDescr, ptr %ruhd.044, i64 1
  %inc = add i32 %i.043, 1
  %conv64 = sext i32 %inc to i64
  %cmp65 = icmp ugt i64 %nruh.0, %conv64
  br i1 %cmp65, label %for.body, label %if.end80, !llvm.loop !72

if.else67:                                        ; preds = %if.end13
  %nrg70 = getelementptr %struct.NvmeFdpConfsHdr, ptr %call20, i64 1, i32 3
  store i32 1, ptr %nrg70, align 1
  %nruh72 = getelementptr %struct.NvmeFdpConfsHdr, ptr %call20, i64 1, i32 4
  store i16 1, ptr %nruh72, align 1
  %maxpids74 = getelementptr %struct.NvmeFdpConfsHdr, ptr %call20, i64 1, i32 4, i64 2
  store i16 127, ptr %maxpids74, align 1
  %nnss76 = getelementptr %struct.NvmeFdpConfsHdr, ptr %call20, i64 1, i32 4, i64 4
  store i32 1, ptr %nnss76, align 1
  %runs78 = getelementptr %struct.NvmeFdpConfsHdr, ptr %call20, i64 2
  store i64 100663296, ptr %runs78, align 1
  store i8 1, ptr %add.ptr22, align 1
  br label %if.end80

if.end80:                                         ; preds = %for.body, %if.then30, %if.else67
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef %n, ptr noundef nonnull %sg.i, i64 noundef %cond, ptr noundef nonnull %cmd.i)
  %tobool.not.i = icmp eq i16 %call.i, 0
  br i1 %tobool.not.i, label %if.end.i, label %cleanup

if.end.i:                                         ; preds = %if.end80
  %add.ptr81 = getelementptr i8, ptr %call20, i64 %off
  %call2.i = tail call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef %add.ptr81, i32 noundef %conv18, i32 noundef 1)
  br label %cleanup

cleanup:                                          ; preds = %if.end.i, %if.end80, %if.end7, %entry, %lor.lhs.false
  %buf.0 = phi ptr [ null, %lor.lhs.false ], [ null, %if.end7 ], [ null, %entry ], [ %call20, %if.end80 ], [ %call20, %if.end.i ]
  %retval.0 = phi i16 [ 16386, %lor.lhs.false ], [ 16386, %if.end7 ], [ 16386, %entry ], [ %call.i, %if.end80 ], [ %call2.i, %if.end.i ]
  tail call void @g_free(ptr noundef %buf.0) #17
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_fdp_ruh_usage(ptr noundef %n, i32 noundef %endgrpid, i32 noundef %buf_len, i64 noundef %off, ptr noundef %req) unnamed_addr #0 {
entry:
  %cmp.not = icmp eq i32 %endgrpid, 1
  br i1 %cmp.not, label %lor.lhs.false, label %cleanup

lor.lhs.false:                                    ; preds = %entry
  %subsys = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 33
  %0 = load ptr, ptr %subsys, align 8
  %tobool.not = icmp eq ptr %0, null
  br i1 %tobool.not, label %cleanup, label %if.end

if.end:                                           ; preds = %lor.lhs.false
  %enabled = getelementptr inbounds %struct.NvmeSubsystem, ptr %0, i64 0, i32 6, i32 1, i32 9
  %1 = load i8, ptr %enabled, align 8
  %2 = and i8 %1, 1
  %tobool3.not = icmp eq i8 %2, 0
  br i1 %tobool3.not, label %cleanup, label %if.end5

if.end5:                                          ; preds = %if.end
  %nruh = getelementptr inbounds %struct.NvmeSubsystem, ptr %0, i64 0, i32 6, i32 1, i32 2
  %3 = load i16, ptr %nruh, align 8
  %conv = zext i16 %3 to i64
  %mul = shl nuw nsw i64 %conv, 3
  %add = add nuw nsw i64 %mul, 8
  %cmp9.not = icmp ugt i64 %add, %off
  br i1 %cmp9.not, label %if.end12, label %cleanup

if.end12:                                         ; preds = %if.end5
  %sub = sub nsw i64 %add, %off
  %conv14 = zext i32 %buf_len to i64
  %cond = tail call i64 @llvm.umin.i64(i64 %sub, i64 %conv14)
  %conv17 = trunc i64 %cond to i32
  %call = tail call noalias ptr @g_malloc0(i64 noundef %add) #20
  %ruhs = getelementptr inbounds %struct.NvmeSubsystem, ptr %0, i64 0, i32 6, i32 1, i32 10
  %4 = load ptr, ptr %ruhs, align 8
  %5 = load i16, ptr %nruh, align 8
  store i16 %5, ptr %call, align 1
  %6 = load i16, ptr %nruh, align 8
  %cmp2817.not = icmp eq i16 %6, 0
  br i1 %cmp2817.not, label %for.end, label %for.body.preheader

for.body.preheader:                               ; preds = %if.end12
  %add.ptr = getelementptr %struct.NvmeRuhuLog, ptr %call, i64 1
  br label %for.body

for.body:                                         ; preds = %for.body.preheader, %for.body
  %ruh.020 = phi ptr [ %incdec.ptr31, %for.body ], [ %4, %for.body.preheader ]
  %ruhud.019 = phi ptr [ %incdec.ptr, %for.body ], [ %add.ptr, %for.body.preheader ]
  %i.018 = phi i16 [ %inc, %for.body ], [ 0, %for.body.preheader ]
  %ruha = getelementptr inbounds %struct.NvmeRuHandle, ptr %ruh.020, i64 0, i32 1
  %7 = load i8, ptr %ruha, align 1
  store i8 %7, ptr %ruhud.019, align 1
  %inc = add nuw i16 %i.018, 1
  %incdec.ptr = getelementptr %struct.NvmeRuhuDescr, ptr %ruhud.019, i64 1
  %incdec.ptr31 = getelementptr %struct.NvmeRuHandle, ptr %ruh.020, i64 1
  %8 = load i16, ptr %nruh, align 8
  %cmp28 = icmp ult i16 %inc, %8
  br i1 %cmp28, label %for.body, label %for.end, !llvm.loop !73

for.end:                                          ; preds = %for.body, %if.end12
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef %n, ptr noundef nonnull %sg.i, i64 noundef %cond, ptr noundef nonnull %cmd.i)
  %tobool.not.i = icmp eq i16 %call.i, 0
  br i1 %tobool.not.i, label %if.end.i, label %cleanup

if.end.i:                                         ; preds = %for.end
  %add.ptr32 = getelementptr i8, ptr %call, i64 %off
  %call2.i = tail call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef %add.ptr32, i32 noundef %conv17, i32 noundef 1)
  br label %cleanup

cleanup:                                          ; preds = %if.end.i, %for.end, %if.end5, %if.end, %entry, %lor.lhs.false
  %buf.0 = phi ptr [ null, %lor.lhs.false ], [ null, %if.end ], [ null, %if.end5 ], [ null, %entry ], [ %call, %for.end ], [ %call, %if.end.i ]
  %retval.0 = phi i16 [ 16386, %lor.lhs.false ], [ 16425, %if.end ], [ 16386, %if.end5 ], [ 16386, %entry ], [ %call.i, %for.end ], [ %call2.i, %if.end.i ]
  tail call void @g_free(ptr noundef %buf.0) #17
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_fdp_stats(ptr noundef %n, i32 noundef %endgrpid, i32 noundef %buf_len, i64 noundef %off, ptr noundef %req) unnamed_addr #0 {
entry:
  %log = alloca %struct.NvmeFdpStatsLog, align 8
  %0 = getelementptr inbounds i8, ptr %log, i64 8
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(64) %0, i8 0, i64 56, i1 false)
  %cmp = icmp ult i64 %off, 64
  %cmp1.not = icmp eq i32 %endgrpid, 1
  %or.cond = and i1 %cmp1.not, %cmp
  br i1 %or.cond, label %lor.lhs.false, label %return

lor.lhs.false:                                    ; preds = %entry
  %subsys = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 33
  %1 = load ptr, ptr %subsys, align 8
  %tobool.not = icmp eq ptr %1, null
  br i1 %tobool.not, label %return, label %if.end3

if.end3:                                          ; preds = %lor.lhs.false
  %enabled = getelementptr inbounds %struct.NvmeSubsystem, ptr %1, i64 0, i32 6, i32 1, i32 9
  %2 = load i8, ptr %enabled, align 8
  %3 = and i8 %2, 1
  %tobool6.not = icmp eq i8 %3, 0
  br i1 %tobool6.not, label %return, label %if.end8

if.end8:                                          ; preds = %if.end3
  %sub = sub nuw nsw i64 64, %off
  %conv = zext i32 %buf_len to i64
  %cond = tail call i64 @llvm.umin.i64(i64 %sub, i64 %conv)
  %hbmw = getelementptr inbounds %struct.NvmeSubsystem, ptr %1, i64 0, i32 6, i32 1, i32 6
  %4 = load i64, ptr %hbmw, align 8
  store i64 %4, ptr %log, align 8
  %mbmw = getelementptr inbounds %struct.NvmeSubsystem, ptr %1, i64 0, i32 6, i32 1, i32 7
  %5 = load i64, ptr %mbmw, align 8
  %mbmw18 = getelementptr inbounds %struct.NvmeFdpStatsLog, ptr %log, i64 0, i32 1
  store i64 %5, ptr %mbmw18, align 8
  %mbe = getelementptr inbounds %struct.NvmeSubsystem, ptr %1, i64 0, i32 6, i32 1, i32 8
  %6 = load i64, ptr %mbe, align 8
  %mbe22 = getelementptr inbounds %struct.NvmeFdpStatsLog, ptr %log, i64 0, i32 2
  store i64 %6, ptr %mbe22, align 8
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %n, ptr noundef nonnull %sg.i, i64 noundef %cond, ptr noundef nonnull %cmd.i)
  %tobool.not.i = icmp eq i16 %call.i, 0
  br i1 %tobool.not.i, label %if.end.i, label %return

if.end.i:                                         ; preds = %if.end8
  %conv13 = trunc i64 %cond to i32
  %add.ptr = getelementptr i8, ptr %log, i64 %off
  %call2.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef %add.ptr, i32 noundef %conv13, i32 noundef 1)
  br label %return

return:                                           ; preds = %if.end.i, %if.end8, %if.end3, %lor.lhs.false, %entry
  %retval.0 = phi i16 [ 16386, %entry ], [ 16386, %lor.lhs.false ], [ 16425, %if.end3 ], [ %call2.i, %if.end.i ], [ %call.i, %if.end8 ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_fdp_events(ptr noundef %n, i32 noundef %endgrpid, i32 noundef %buf_len, i64 noundef %off, ptr noundef %req) unnamed_addr #0 {
entry:
  %cdw10 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 7
  %0 = load i32, ptr %cdw10, align 1
  %1 = and i32 %0, 256
  %tobool.not = icmp eq i32 %1, 0
  %cmp.not = icmp eq i32 %endgrpid, 1
  br i1 %cmp.not, label %lor.lhs.false, label %cleanup

lor.lhs.false:                                    ; preds = %entry
  %subsys = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 33
  %2 = load ptr, ptr %subsys, align 8
  %tobool2.not = icmp eq ptr %2, null
  br i1 %tobool2.not, label %cleanup, label %if.end

if.end:                                           ; preds = %lor.lhs.false
  %enabled = getelementptr inbounds %struct.NvmeSubsystem, ptr %2, i64 0, i32 6, i32 1, i32 9
  %3 = load i8, ptr %enabled, align 8
  %4 = and i8 %3, 1
  %tobool5.not = icmp eq i8 %4, 0
  br i1 %tobool5.not, label %cleanup, label %if.end7

if.end7:                                          ; preds = %if.end
  %fdp = getelementptr inbounds %struct.NvmeSubsystem, ptr %2, i64 0, i32 6, i32 1
  %ctrl_events = getelementptr inbounds %struct.NvmeSubsystem, ptr %2, i64 0, i32 6, i32 1, i32 1
  %ebuf.0 = select i1 %tobool.not, ptr %ctrl_events, ptr %fdp
  %nelems = getelementptr inbounds %struct.NvmeFdpEventBuffer, ptr %ebuf.0, i64 0, i32 1
  %5 = load i32, ptr %nelems, align 4
  %mul = shl i32 %5, 6
  %add = add i32 %mul, 64
  %conv15 = zext i32 %add to i64
  %cmp16.not = icmp ugt i64 %conv15, %off
  br i1 %cmp16.not, label %if.end19, label %cleanup

if.end19:                                         ; preds = %if.end7
  %sub = sub nsw i64 %conv15, %off
  %conv21 = zext i32 %buf_len to i64
  %cond = tail call i64 @llvm.umin.i64(i64 %sub, i64 %conv21)
  %conv24 = trunc i64 %cond to i32
  %call = tail call noalias ptr @g_malloc0(i64 noundef %conv15) #20
  %6 = load i32, ptr %nelems, align 4
  store i32 %6, ptr %call, align 1
  %add.ptr = getelementptr %struct.NvmeFdpEventsLog, ptr %call, i64 1
  %7 = load i32, ptr %nelems, align 4
  %tobool29.not = icmp ne i32 %7, 0
  %start45.phi.trans.insert = getelementptr inbounds %struct.NvmeFdpEventBuffer, ptr %ebuf.0, i64 0, i32 2
  %.pre = load i32, ptr %start45.phi.trans.insert, align 4
  %next46.phi.trans.insert = getelementptr inbounds %struct.NvmeFdpEventBuffer, ptr %ebuf.0, i64 0, i32 3
  %.pre35 = load i32, ptr %next46.phi.trans.insert, align 4
  %cmp30 = icmp eq i32 %.pre, %.pre35
  %or.cond = select i1 %tobool29.not, i1 %cmp30, i1 false
  br i1 %or.cond, label %if.then32, label %if.else44

if.then32:                                        ; preds = %if.end19
  %sub35 = sub i32 63, %.pre
  %idxprom = zext i32 %.pre to i64
  %arrayidx = getelementptr [63 x %struct.NvmeFdpEvent], ptr %ebuf.0, i64 0, i64 %idxprom
  %conv37 = zext i32 %sub35 to i64
  %mul38 = shl nuw nsw i64 %conv37, 6
  tail call void @llvm.memcpy.p0.p0.i64(ptr align 1 %add.ptr, ptr align 4 %arrayidx, i64 %mul38, i1 false)
  %add.ptr39 = getelementptr %struct.NvmeFdpEvent, ptr %add.ptr, i64 %conv37
  %8 = load i32, ptr %next46.phi.trans.insert, align 4
  %conv42 = zext i32 %8 to i64
  %mul43 = shl nuw nsw i64 %conv42, 6
  tail call void @llvm.memcpy.p0.p0.i64(ptr align 1 %add.ptr39, ptr nonnull align 4 %ebuf.0, i64 %mul43, i1 false)
  br label %if.end60

if.else44:                                        ; preds = %if.end19
  %cmp47 = icmp ult i32 %.pre, %.pre35
  br i1 %cmp47, label %if.then49, label %if.end60

if.then49:                                        ; preds = %if.else44
  %idxprom52 = zext i32 %.pre to i64
  %arrayidx53 = getelementptr [63 x %struct.NvmeFdpEvent], ptr %ebuf.0, i64 0, i64 %idxprom52
  %sub56 = sub i32 %.pre35, %.pre
  %conv57 = zext i32 %sub56 to i64
  %mul58 = shl nuw nsw i64 %conv57, 6
  tail call void @llvm.memcpy.p0.p0.i64(ptr align 1 %add.ptr, ptr align 4 %arrayidx53, i64 %mul58, i1 false)
  br label %if.end60

if.end60:                                         ; preds = %if.else44, %if.then49, %if.then32
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %n, ptr noundef nonnull %sg.i, i64 noundef %cond, ptr noundef nonnull %cmd.i)
  %tobool.not.i = icmp eq i16 %call.i, 0
  br i1 %tobool.not.i, label %if.end.i, label %cleanup

if.end.i:                                         ; preds = %if.end60
  %add.ptr61 = getelementptr i8, ptr %call, i64 %off
  %call2.i = tail call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef %add.ptr61, i32 noundef %conv24, i32 noundef 1)
  br label %cleanup

cleanup:                                          ; preds = %if.end.i, %if.end60, %if.end7, %if.end, %entry, %lor.lhs.false
  %elog.0 = phi ptr [ null, %lor.lhs.false ], [ null, %if.end ], [ null, %if.end7 ], [ null, %entry ], [ %call, %if.end60 ], [ %call, %if.end.i ]
  %retval.0 = phi i16 [ 16386, %lor.lhs.false ], [ 16425, %if.end ], [ 16386, %if.end7 ], [ 16386, %entry ], [ %call.i, %if.end60 ], [ %call2.i, %if.end.i ]
  tail call void @g_free(ptr noundef %elog.0) #17
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_err_invalid_log_page(i16 noundef zeroext %cid, i16 noundef zeroext %lid) unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_LOG_PAGE_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_err_invalid_log_page.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_err_invalid_log_page.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  %conv11.i = zext i16 %cid to i32
  %conv12.i = zext nneg i16 %lid to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.339, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6, i32 noundef %conv11.i, i32 noundef %conv12.i) #17
  br label %_nocheck__trace_pci_nvme_err_invalid_log_page.exit

if.else.i:                                        ; preds = %if.then.i
  %conv13.i = zext i16 %cid to i32
  %conv14.i = zext nneg i16 %lid to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.340, i32 noundef %conv13.i, i32 noundef %conv14.i) #17
  br label %_nocheck__trace_pci_nvme_err_invalid_log_page.exit

_nocheck__trace_pci_nvme_err_invalid_log_page.exit: ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

declare void @strpadcpy(ptr noundef, i32 noundef, ptr noundef, i8 noundef signext) local_unnamed_addr #1

; Function Attrs: mustprogress nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare i64 @llvm.cttz.i64(i64, i1 immarg) #8

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @nvme_free_cq(ptr noundef %cq, ptr noundef %n) unnamed_addr #0 {
entry:
  %call.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %n, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %cqid = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 2
  %0 = load i16, ptr %cqid, align 2
  %cq2 = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 37
  %1 = load ptr, ptr %cq2, align 8
  %idxprom = zext i16 %0 to i64
  %arrayidx = getelementptr ptr, ptr %1, i64 %idxprom
  store ptr null, ptr %arrayidx, align 8
  %bh = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 11
  %2 = load ptr, ptr %bh, align 8
  tail call void @qemu_bh_delete(ptr noundef %2) #17
  %ioeventfd_enabled = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 13
  %3 = load i8, ptr %ioeventfd_enabled, align 4
  %4 = and i8 %3, 1
  %tobool.not = icmp eq i8 %4, 0
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  %shl = shl i16 %0, 3
  %add = or disjoint i16 %shl, 4
  %iomem = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 2
  %conv4 = zext i16 %add to i64
  %add5 = add nuw nsw i64 %conv4, 4096
  %notifier = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 12
  tail call void @memory_region_del_eventfd(ptr noundef nonnull %iomem, i64 noundef %add5, i32 noundef 4, i1 noundef zeroext false, i64 noundef 0, ptr noundef nonnull %notifier) #17
  tail call void @event_notifier_set_handler(ptr noundef nonnull %notifier, ptr noundef null) #17
  tail call void @event_notifier_cleanup(ptr noundef nonnull %notifier) #17
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  %call9 = tail call i32 @msix_enabled(ptr noundef %call.i) #17
  %tobool10.not = icmp eq i32 %call9, 0
  br i1 %tobool10.not, label %if.end12, label %if.then11

if.then11:                                        ; preds = %if.end
  %vector = getelementptr inbounds %struct.NvmeCQueue, ptr %cq, i64 0, i32 6
  %5 = load i32, ptr %vector, align 8
  tail call void @msix_vector_unuse(ptr noundef %call.i, i32 noundef %5) #17
  br label %if.end12

if.end12:                                         ; preds = %if.then11, %if.end
  %6 = load i16, ptr %cqid, align 2
  %tobool14.not = icmp eq i16 %6, 0
  br i1 %tobool14.not, label %if.end16, label %if.then15

if.then15:                                        ; preds = %if.end12
  tail call void @g_free(ptr noundef nonnull %cq) #17
  br label %if.end16

if.end16:                                         ; preds = %if.then15, %if.end12
  ret void
}

declare void @msix_vector_unuse(ptr noundef, i32 noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_err_invalid_create_cq_addr(i64 noundef %addr) unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_CREATE_CQ_ADDR_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_err_invalid_create_cq_addr.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_err_invalid_create_cq_addr.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.355, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6, i64 noundef %addr) #17
  br label %_nocheck__trace_pci_nvme_err_invalid_create_cq_addr.exit

if.else.i:                                        ; preds = %if.then.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.356, i64 noundef %addr) #17
  br label %_nocheck__trace_pci_nvme_err_invalid_create_cq_addr.exit

_nocheck__trace_pci_nvme_err_invalid_create_cq_addr.exit: ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_err_invalid_create_cq_vector(i16 noundef zeroext %vector) unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_CREATE_CQ_VECTOR_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_err_invalid_create_cq_vector.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_err_invalid_create_cq_vector.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  %conv11.i = zext i16 %vector to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.357, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6, i32 noundef %conv11.i) #17
  br label %_nocheck__trace_pci_nvme_err_invalid_create_cq_vector.exit

if.else.i:                                        ; preds = %if.then.i
  %conv12.i = zext i16 %vector to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.358, i32 noundef %conv12.i) #17
  br label %_nocheck__trace_pci_nvme_err_invalid_create_cq_vector.exit

_nocheck__trace_pci_nvme_err_invalid_create_cq_vector.exit: ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_err_invalid_create_cq_qflags(i16 noundef zeroext %qflags) unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_CREATE_CQ_QFLAGS_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_err_invalid_create_cq_qflags.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_err_invalid_create_cq_qflags.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  %conv11.i = zext nneg i16 %qflags to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.359, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6, i32 noundef %conv11.i) #17
  br label %_nocheck__trace_pci_nvme_err_invalid_create_cq_qflags.exit

if.else.i:                                        ; preds = %if.then.i
  %conv12.i = zext nneg i16 %qflags to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.360, i32 noundef %conv12.i) #17
  br label %_nocheck__trace_pci_nvme_err_invalid_create_cq_qflags.exit

_nocheck__trace_pci_nvme_err_invalid_create_cq_qflags.exit: ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_identify_ns(ptr noundef %n, ptr noundef %req, i1 noundef zeroext %active) unnamed_addr #0 {
entry:
  %id.i21 = alloca [4096 x i8], align 16
  %id.i = alloca [4096 x i8], align 16
  %_now.i.i = alloca %struct.timeval, align 8
  %nsid1 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 3
  %0 = load i32, ptr %nsid1, align 1
  %.fr40 = freeze i32 %0
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %1 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %1, 0
  %2 = load i16, ptr @_TRACE_PCI_NVME_IDENTIFY_NS_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %2, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_identify_ns.exit

land.lhs.true5.i.i:                               ; preds = %entry
  %3 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %3, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_identify_ns.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %4 = load i8, ptr @message_with_timestamp, align 1
  %5 = and i8 %4, 1
  %tobool7.not.i.i = icmp eq i8 %5, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %6 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %7 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.363, i32 noundef %call10.i.i, i64 noundef %6, i64 noundef %7, i32 noundef %.fr40) #17
  br label %trace_pci_nvme_identify_ns.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.364, i32 noundef %.fr40) #17
  br label %trace_pci_nvme_identify_ns.exit

trace_pci_nvme_identify_ns.exit:                  ; preds = %entry, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %8 = add i32 %.fr40, 1
  %9 = icmp ult i32 %8, 258
  br i1 %9, label %switch.early.test, label %return

switch.early.test:                                ; preds = %trace_pci_nvme_identify_ns.exit
  switch i32 %.fr40, label %nvme_ns.exit [
    i32 -1, label %return
    i32 0, label %return
  ]

nvme_ns.exit:                                     ; preds = %switch.early.test
  %idxprom.i = zext nneg i32 %.fr40 to i64
  %arrayidx.i = getelementptr %struct.NvmeCtrl, ptr %n, i64 0, i32 35, i64 %idxprom.i
  %10 = load ptr, ptr %arrayidx.i, align 8
  %tobool.not = icmp eq ptr %10, null
  br i1 %tobool.not, label %if.then7, label %if.end17

if.then7:                                         ; preds = %nvme_ns.exit
  br i1 %active, label %if.else, label %if.then9

if.then9:                                         ; preds = %if.then7
  %subsys = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 33
  %11 = load ptr, ptr %subsys, align 8
  %tobool.i = icmp eq ptr %11, null
  br i1 %tobool.i, label %if.then12, label %nvme_subsys_ns.exit

nvme_subsys_ns.exit:                              ; preds = %if.then9
  %idxprom.i18 = zext nneg i32 %.fr40 to i64
  %arrayidx.i19 = getelementptr %struct.NvmeSubsystem, ptr %11, i64 0, i32 5, i64 %idxprom.i18
  %12 = load ptr, ptr %arrayidx.i19, align 8
  %tobool11.not = icmp eq ptr %12, null
  br i1 %tobool11.not, label %if.then12, label %lor.lhs.false20

if.then12:                                        ; preds = %if.then9, %nvme_subsys_ns.exit
  call void @llvm.lifetime.start.p0(i64 4096, ptr nonnull %id.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 16 dereferenceable(4096) %id.i, i8 0, i64 4096, i1 false)
  %sg.i.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %n, ptr noundef nonnull %sg.i.i, i64 noundef 4096, ptr noundef nonnull %cmd.i.i)
  %tobool.not.i.i = icmp eq i16 %call.i.i, 0
  br i1 %tobool.not.i.i, label %if.end.i.i, label %nvme_rpt_empty_id_struct.exit

if.end.i.i:                                       ; preds = %if.then12
  %call2.i.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i.i, ptr noundef nonnull %id.i, i32 noundef 4096, i32 noundef 1)
  br label %nvme_rpt_empty_id_struct.exit

nvme_rpt_empty_id_struct.exit:                    ; preds = %if.then12, %if.end.i.i
  %retval.0.i.i = phi i16 [ %call2.i.i, %if.end.i.i ], [ %call.i.i, %if.then12 ]
  call void @llvm.lifetime.end.p0(i64 4096, ptr nonnull %id.i)
  br label %return

if.else:                                          ; preds = %if.then7
  call void @llvm.lifetime.start.p0(i64 4096, ptr nonnull %id.i21)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 16 dereferenceable(4096) %id.i21, i8 0, i64 4096, i1 false)
  %sg.i.i22 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i.i23 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i.i24 = tail call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %n, ptr noundef nonnull %sg.i.i22, i64 noundef 4096, ptr noundef nonnull %cmd.i.i23)
  %tobool.not.i.i25 = icmp eq i16 %call.i.i24, 0
  br i1 %tobool.not.i.i25, label %if.end.i.i27, label %nvme_rpt_empty_id_struct.exit29

if.end.i.i27:                                     ; preds = %if.else
  %call2.i.i28 = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i.i22, ptr noundef nonnull %id.i21, i32 noundef 4096, i32 noundef 1)
  br label %nvme_rpt_empty_id_struct.exit29

nvme_rpt_empty_id_struct.exit29:                  ; preds = %if.else, %if.end.i.i27
  %retval.0.i.i26 = phi i16 [ %call2.i.i28, %if.end.i.i27 ], [ %call.i.i24, %if.else ]
  call void @llvm.lifetime.end.p0(i64 4096, ptr nonnull %id.i21)
  br label %return

if.end17:                                         ; preds = %nvme_ns.exit
  br i1 %active, label %if.then24, label %lor.lhs.false20

lor.lhs.false20:                                  ; preds = %nvme_subsys_ns.exit, %if.end17
  %ns.038 = phi ptr [ %10, %if.end17 ], [ %12, %nvme_subsys_ns.exit ]
  %csi = getelementptr inbounds %struct.NvmeNamespace, ptr %ns.038, i64 0, i32 11
  %13 = load i8, ptr %csi, align 8
  %cmp22 = icmp eq i8 %13, 0
  br i1 %cmp22, label %if.then24, label %return

if.then24:                                        ; preds = %lor.lhs.false20, %if.end17
  %ns.039 = phi ptr [ %ns.038, %lor.lhs.false20 ], [ %10, %if.end17 ]
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %n, ptr noundef nonnull %sg.i, i64 noundef 4096, ptr noundef nonnull %cmd.i)
  %tobool.not.i30 = icmp eq i16 %call.i, 0
  br i1 %tobool.not.i30, label %if.end.i32, label %return

if.end.i32:                                       ; preds = %if.then24
  %id_ns = getelementptr inbounds %struct.NvmeNamespace, ptr %ns.039, i64 0, i32 5
  %call2.i = tail call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef nonnull %id_ns, i32 noundef 4096, i32 noundef 1)
  br label %return

return:                                           ; preds = %switch.early.test, %switch.early.test, %trace_pci_nvme_identify_ns.exit, %if.end.i32, %if.then24, %lor.lhs.false20, %nvme_rpt_empty_id_struct.exit29, %nvme_rpt_empty_id_struct.exit
  %retval.0 = phi i16 [ %retval.0.i.i26, %nvme_rpt_empty_id_struct.exit29 ], [ %retval.0.i.i, %nvme_rpt_empty_id_struct.exit ], [ 16395, %switch.early.test ], [ 16428, %lor.lhs.false20 ], [ %call2.i, %if.end.i32 ], [ %call.i, %if.then24 ], [ 16395, %trace_pci_nvme_identify_ns.exit ], [ 16395, %switch.early.test ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_identify_ctrl_list(ptr noundef %n, ptr noundef %req, i1 noundef zeroext %attached) unnamed_addr #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %list = alloca [2048 x i16], align 16
  %nsid1 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 3
  %0 = load i32, ptr %nsid1, align 1
  %.fr38 = freeze i32 %0
  %ctrlid = getelementptr inbounds i8, ptr %req, i64 98
  %1 = load i16, ptr %ctrlid, align 1
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 16 dereferenceable(4096) %list, i8 0, i64 4096, i1 false)
  %arrayidx = getelementptr inbounds [2048 x i16], ptr %list, i64 0, i64 1
  %cns = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 7
  %2 = load i8, ptr %cns, align 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %3 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %3, 0
  %4 = load i16, ptr @_TRACE_PCI_NVME_IDENTIFY_CTRL_LIST_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %4, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_identify_ctrl_list.exit

land.lhs.true5.i.i:                               ; preds = %entry
  %5 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %5, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_identify_ctrl_list.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %6 = load i8, ptr @message_with_timestamp, align 1
  %7 = and i8 %6, 1
  %tobool7.not.i.i = icmp eq i8 %7, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %8 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %9 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext i8 %2 to i32
  %conv12.i.i = zext i16 %1 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.365, i32 noundef %call10.i.i, i64 noundef %8, i64 noundef %9, i32 noundef %conv11.i.i, i32 noundef %conv12.i.i) #17
  br label %trace_pci_nvme_identify_ctrl_list.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv13.i.i = zext i8 %2 to i32
  %conv14.i.i = zext i16 %1 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.366, i32 noundef %conv13.i.i, i32 noundef %conv14.i.i) #17
  br label %trace_pci_nvme_identify_ctrl_list.exit

trace_pci_nvme_identify_ctrl_list.exit:           ; preds = %entry, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %subsys = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 33
  %10 = load ptr, ptr %subsys, align 8
  %tobool.not = icmp eq ptr %10, null
  br i1 %tobool.not, label %return, label %if.end

if.end:                                           ; preds = %trace_pci_nvme_identify_ctrl_list.exit
  br i1 %attached, label %if.then4, label %if.end12.thread

if.then4:                                         ; preds = %if.end
  %11 = add i32 %.fr38, -257
  %12 = icmp ult i32 %11, -256
  br i1 %12, label %return, label %nvme_subsys_ns.exit

nvme_subsys_ns.exit:                              ; preds = %if.then4
  %idxprom.i = zext nneg i32 %.fr38 to i64
  %arrayidx.i = getelementptr %struct.NvmeSubsystem, ptr %10, i64 0, i32 5, i64 %idxprom.i
  %13 = load ptr, ptr %arrayidx.i, align 8
  %tobool9.not = icmp eq ptr %13, null
  br i1 %tobool9.not, label %return, label %if.end12

if.end12:                                         ; preds = %nvme_subsys_ns.exit
  %cmp1434 = icmp ult i16 %1, 256
  br i1 %cmp1434, label %nvme_subsys_ctrl.exit.lr.ph, label %for.end

if.end12.thread:                                  ; preds = %if.end
  %cmp143446 = icmp ult i16 %1, 256
  br i1 %cmp143446, label %nvme_subsys_ctrl.exit.preheader, label %for.end

nvme_subsys_ctrl.exit.lr.ph:                      ; preds = %if.end12
  %idxprom.i23 = zext nneg i32 %.fr38 to i64
  br i1 %attached, label %nvme_subsys_ctrl.exit.us.preheader, label %nvme_subsys_ctrl.exit.preheader

nvme_subsys_ctrl.exit.preheader:                  ; preds = %if.end12.thread, %nvme_subsys_ctrl.exit.lr.ph
  %14 = zext nneg i16 %1 to i64
  br label %nvme_subsys_ctrl.exit

nvme_subsys_ctrl.exit.us.preheader:               ; preds = %nvme_subsys_ctrl.exit.lr.ph
  %15 = zext nneg i16 %1 to i64
  br label %nvme_subsys_ctrl.exit.us

nvme_subsys_ctrl.exit.us:                         ; preds = %nvme_subsys_ctrl.exit.us.preheader, %for.inc.us
  %indvars.iv42 = phi i64 [ %15, %nvme_subsys_ctrl.exit.us.preheader ], [ %indvars.iv.next43, %for.inc.us ]
  %nr_ids.036.us = phi i32 [ 0, %nvme_subsys_ctrl.exit.us.preheader ], [ %nr_ids.1.us, %for.inc.us ]
  %arrayidx.i19.us = getelementptr %struct.NvmeSubsystem, ptr %10, i64 0, i32 4, i64 %indvars.iv42
  %16 = load ptr, ptr %arrayidx.i19.us, align 8
  %magicptr.us = ptrtoint ptr %16 to i64
  switch i64 %magicptr.us, label %if.end20.us [
    i64 65535, label %for.inc.us
    i64 0, label %for.inc.us
  ]

if.end20.us:                                      ; preds = %nvme_subsys_ctrl.exit.us
  %arrayidx.i24.us = getelementptr %struct.NvmeCtrl, ptr %16, i64 0, i32 35, i64 %idxprom.i23
  %17 = load ptr, ptr %arrayidx.i24.us, align 8
  %tobool24.not.us = icmp eq ptr %17, null
  br i1 %tobool24.not.us, label %for.inc.us, label %if.end26.us

if.end26.us:                                      ; preds = %if.end20.us
  %conv27.us = trunc i64 %indvars.iv42 to i16
  %inc.us = add i32 %nr_ids.036.us, 1
  %idxprom.us = sext i32 %nr_ids.036.us to i64
  %arrayidx28.us = getelementptr i16, ptr %arrayidx, i64 %idxprom.us
  store i16 %conv27.us, ptr %arrayidx28.us, align 2
  br label %for.inc.us

for.inc.us:                                       ; preds = %if.end26.us, %if.end20.us, %nvme_subsys_ctrl.exit.us, %nvme_subsys_ctrl.exit.us
  %nr_ids.1.us = phi i32 [ %inc.us, %if.end26.us ], [ %nr_ids.036.us, %if.end20.us ], [ %nr_ids.036.us, %nvme_subsys_ctrl.exit.us ], [ %nr_ids.036.us, %nvme_subsys_ctrl.exit.us ]
  %indvars.iv.next43 = add nuw nsw i64 %indvars.iv42, 1
  %exitcond45.not = icmp eq i64 %indvars.iv.next43, 256
  br i1 %exitcond45.not, label %for.end, label %nvme_subsys_ctrl.exit.us, !llvm.loop !74

nvme_subsys_ctrl.exit:                            ; preds = %nvme_subsys_ctrl.exit.preheader, %for.inc
  %indvars.iv = phi i64 [ %14, %nvme_subsys_ctrl.exit.preheader ], [ %indvars.iv.next, %for.inc ]
  %nr_ids.036 = phi i32 [ 0, %nvme_subsys_ctrl.exit.preheader ], [ %nr_ids.1, %for.inc ]
  %arrayidx.i19 = getelementptr %struct.NvmeSubsystem, ptr %10, i64 0, i32 4, i64 %indvars.iv
  %18 = load ptr, ptr %arrayidx.i19, align 8
  %magicptr = ptrtoint ptr %18 to i64
  switch i64 %magicptr, label %if.end20 [
    i64 65535, label %for.inc
    i64 0, label %for.inc
  ]

if.end20:                                         ; preds = %nvme_subsys_ctrl.exit
  %conv27 = trunc i64 %indvars.iv to i16
  %inc = add i32 %nr_ids.036, 1
  %idxprom = sext i32 %nr_ids.036 to i64
  %arrayidx28 = getelementptr i16, ptr %arrayidx, i64 %idxprom
  store i16 %conv27, ptr %arrayidx28, align 2
  br label %for.inc

for.inc:                                          ; preds = %nvme_subsys_ctrl.exit, %nvme_subsys_ctrl.exit, %if.end20
  %nr_ids.1 = phi i32 [ %inc, %if.end20 ], [ %nr_ids.036, %nvme_subsys_ctrl.exit ], [ %nr_ids.036, %nvme_subsys_ctrl.exit ]
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %exitcond.not = icmp eq i64 %indvars.iv.next, 256
  br i1 %exitcond.not, label %for.end, label %nvme_subsys_ctrl.exit, !llvm.loop !74

for.end:                                          ; preds = %for.inc, %for.inc.us, %if.end12.thread, %if.end12
  %nr_ids.0.lcssa = phi i32 [ 0, %if.end12 ], [ 0, %if.end12.thread ], [ %nr_ids.1.us, %for.inc.us ], [ %nr_ids.1, %for.inc ]
  %conv30 = trunc i32 %nr_ids.0.lcssa to i16
  store i16 %conv30, ptr %list, align 16
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef %n, ptr noundef nonnull %sg.i, i64 noundef 4096, ptr noundef nonnull %cmd.i)
  %tobool.not.i = icmp eq i16 %call.i, 0
  br i1 %tobool.not.i, label %if.end.i27, label %return

if.end.i27:                                       ; preds = %for.end
  %call2.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef nonnull %list, i32 noundef 4096, i32 noundef 1)
  br label %return

return:                                           ; preds = %if.end.i27, %for.end, %nvme_subsys_ns.exit, %if.then4, %trace_pci_nvme_identify_ctrl_list.exit
  %retval.0 = phi i16 [ 16386, %trace_pci_nvme_identify_ctrl_list.exit ], [ 16386, %if.then4 ], [ 16386, %nvme_subsys_ns.exit ], [ %call2.i, %if.end.i27 ], [ %call.i, %for.end ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_identify_ns_csi(ptr noundef %n, ptr noundef %req, i1 noundef zeroext %active) unnamed_addr #0 {
entry:
  %id.i26 = alloca [4096 x i8], align 16
  %id.i = alloca [4096 x i8], align 16
  %_now.i.i = alloca %struct.timeval, align 8
  %nsid1 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 3
  %0 = load i32, ptr %nsid1, align 1
  %.fr50 = freeze i32 %0
  %csi = getelementptr inbounds i8, ptr %req, i64 103
  %1 = load i8, ptr %csi, align 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %2 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %2, 0
  %3 = load i16, ptr @_TRACE_PCI_NVME_IDENTIFY_NS_CSI_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %3, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_identify_ns_csi.exit

land.lhs.true5.i.i:                               ; preds = %entry
  %4 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %4, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_identify_ns_csi.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %5 = load i8, ptr @message_with_timestamp, align 1
  %6 = and i8 %5, 1
  %tobool7.not.i.i = icmp eq i8 %6, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %7 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %8 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = zext i8 %1 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.371, i32 noundef %call10.i.i, i64 noundef %7, i64 noundef %8, i32 noundef %.fr50, i32 noundef %conv11.i.i) #17
  br label %trace_pci_nvme_identify_ns_csi.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv12.i.i = zext i8 %1 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.372, i32 noundef %.fr50, i32 noundef %conv12.i.i) #17
  br label %trace_pci_nvme_identify_ns_csi.exit

trace_pci_nvme_identify_ns_csi.exit:              ; preds = %entry, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %9 = add i32 %.fr50, 1
  %10 = icmp ult i32 %9, 258
  br i1 %10, label %switch.early.test, label %return

switch.early.test:                                ; preds = %trace_pci_nvme_identify_ns_csi.exit
  switch i32 %.fr50, label %nvme_ns.exit [
    i32 -1, label %return
    i32 0, label %return
  ]

nvme_ns.exit:                                     ; preds = %switch.early.test
  %idxprom.i = zext nneg i32 %.fr50 to i64
  %arrayidx.i = getelementptr %struct.NvmeCtrl, ptr %n, i64 0, i32 35, i64 %idxprom.i
  %11 = load ptr, ptr %arrayidx.i, align 8
  %tobool.not = icmp eq ptr %11, null
  br i1 %tobool.not, label %if.then7, label %if.end17

if.then7:                                         ; preds = %nvme_ns.exit
  br i1 %active, label %if.else, label %if.then9

if.then9:                                         ; preds = %if.then7
  %subsys = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 33
  %12 = load ptr, ptr %subsys, align 8
  %tobool.i = icmp eq ptr %12, null
  br i1 %tobool.i, label %if.then12, label %nvme_subsys_ns.exit

nvme_subsys_ns.exit:                              ; preds = %if.then9
  %idxprom.i23 = zext nneg i32 %.fr50 to i64
  %arrayidx.i24 = getelementptr %struct.NvmeSubsystem, ptr %12, i64 0, i32 5, i64 %idxprom.i23
  %13 = load ptr, ptr %arrayidx.i24, align 8
  %tobool11.not = icmp eq ptr %13, null
  br i1 %tobool11.not, label %if.then12, label %if.end17

if.then12:                                        ; preds = %if.then9, %nvme_subsys_ns.exit
  call void @llvm.lifetime.start.p0(i64 4096, ptr nonnull %id.i)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 16 dereferenceable(4096) %id.i, i8 0, i64 4096, i1 false)
  %sg.i.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %n, ptr noundef nonnull %sg.i.i, i64 noundef 4096, ptr noundef nonnull %cmd.i.i)
  %tobool.not.i.i = icmp eq i16 %call.i.i, 0
  br i1 %tobool.not.i.i, label %if.end.i.i, label %nvme_rpt_empty_id_struct.exit

if.end.i.i:                                       ; preds = %if.then12
  %call2.i.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i.i, ptr noundef nonnull %id.i, i32 noundef 4096, i32 noundef 1)
  br label %nvme_rpt_empty_id_struct.exit

nvme_rpt_empty_id_struct.exit:                    ; preds = %if.then12, %if.end.i.i
  %retval.0.i.i = phi i16 [ %call2.i.i, %if.end.i.i ], [ %call.i.i, %if.then12 ]
  call void @llvm.lifetime.end.p0(i64 4096, ptr nonnull %id.i)
  br label %return

if.else:                                          ; preds = %if.then7
  call void @llvm.lifetime.start.p0(i64 4096, ptr nonnull %id.i26)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 16 dereferenceable(4096) %id.i26, i8 0, i64 4096, i1 false)
  %sg.i.i27 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i.i28 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i.i29 = tail call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %n, ptr noundef nonnull %sg.i.i27, i64 noundef 4096, ptr noundef nonnull %cmd.i.i28)
  %tobool.not.i.i30 = icmp eq i16 %call.i.i29, 0
  br i1 %tobool.not.i.i30, label %if.end.i.i32, label %nvme_rpt_empty_id_struct.exit34

if.end.i.i32:                                     ; preds = %if.else
  %call2.i.i33 = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i.i27, ptr noundef nonnull %id.i26, i32 noundef 4096, i32 noundef 1)
  br label %nvme_rpt_empty_id_struct.exit34

nvme_rpt_empty_id_struct.exit34:                  ; preds = %if.else, %if.end.i.i32
  %retval.0.i.i31 = phi i16 [ %call2.i.i33, %if.end.i.i32 ], [ %call.i.i29, %if.else ]
  call void @llvm.lifetime.end.p0(i64 4096, ptr nonnull %id.i26)
  br label %return

if.end17:                                         ; preds = %nvme_subsys_ns.exit, %nvme_ns.exit
  %ns.0 = phi ptr [ %13, %nvme_subsys_ns.exit ], [ %11, %nvme_ns.exit ]
  %14 = load i8, ptr %csi, align 1
  switch i8 %14, label %return [
    i8 0, label %if.then22
    i8 2, label %land.lhs.true
  ]

if.then22:                                        ; preds = %if.end17
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %n, ptr noundef nonnull %sg.i, i64 noundef 4096, ptr noundef nonnull %cmd.i)
  %tobool.not.i35 = icmp eq i16 %call.i, 0
  br i1 %tobool.not.i35, label %if.end.i37, label %return

if.end.i37:                                       ; preds = %if.then22
  %id_ns_nvm = getelementptr inbounds %struct.NvmeNamespace, ptr %ns.0, i64 0, i32 6
  %call2.i = tail call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef nonnull %id_ns_nvm, i32 noundef 4096, i32 noundef 1)
  br label %return

land.lhs.true:                                    ; preds = %if.end17
  %csi29 = getelementptr inbounds %struct.NvmeNamespace, ptr %ns.0, i64 0, i32 11
  %15 = load i8, ptr %csi29, align 8
  %cmp31 = icmp eq i8 %15, 2
  br i1 %cmp31, label %if.then33, label %return

if.then33:                                        ; preds = %land.lhs.true
  %id_ns_zoned = getelementptr inbounds %struct.NvmeNamespace, ptr %ns.0, i64 0, i32 17
  %16 = load ptr, ptr %id_ns_zoned, align 8
  %sg.i38 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i39 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i40 = tail call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %n, ptr noundef nonnull %sg.i38, i64 noundef 4096, ptr noundef nonnull %cmd.i39)
  %tobool.not.i41 = icmp eq i16 %call.i40, 0
  br i1 %tobool.not.i41, label %if.end.i43, label %return

if.end.i43:                                       ; preds = %if.then33
  %call2.i44 = tail call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i38, ptr noundef %16, i32 noundef 4096, i32 noundef 1)
  br label %return

return:                                           ; preds = %switch.early.test, %switch.early.test, %trace_pci_nvme_identify_ns_csi.exit, %if.end.i43, %if.then33, %if.end.i37, %if.then22, %land.lhs.true, %if.end17, %nvme_rpt_empty_id_struct.exit34, %nvme_rpt_empty_id_struct.exit
  %retval.0 = phi i16 [ %retval.0.i.i31, %nvme_rpt_empty_id_struct.exit34 ], [ %retval.0.i.i, %nvme_rpt_empty_id_struct.exit ], [ 16395, %switch.early.test ], [ 16386, %if.end17 ], [ 16386, %land.lhs.true ], [ %call2.i, %if.end.i37 ], [ %call.i, %if.then22 ], [ %call2.i44, %if.end.i43 ], [ %call.i40, %if.then33 ], [ 16395, %trace_pci_nvme_identify_ns_csi.exit ], [ 16395, %switch.early.test ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_identify_nslist(ptr noundef %n, ptr noundef %req, i1 noundef zeroext %active) unnamed_addr #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %list = alloca [4096 x i8], align 16
  %nsid = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 3
  %0 = load i32, ptr %nsid, align 1
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 16 dereferenceable(4096) %list, i8 0, i64 4096, i1 false)
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %1 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %1, 0
  %2 = load i16, ptr @_TRACE_PCI_NVME_IDENTIFY_NSLIST_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %2, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_identify_nslist.exit

land.lhs.true5.i.i:                               ; preds = %entry
  %3 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %3, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_identify_nslist.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %4 = load i8, ptr @message_with_timestamp, align 1
  %5 = and i8 %4, 1
  %tobool7.not.i.i = icmp eq i8 %5, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %6 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %7 = load i64, ptr %tv_usec.i.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.377, i32 noundef %call10.i.i, i64 noundef %6, i64 noundef %7, i32 noundef %0) #17
  br label %trace_pci_nvme_identify_nslist.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.378, i32 noundef %0) #17
  br label %trace_pci_nvme_identify_nslist.exit

trace_pci_nvme_identify_nslist.exit:              ; preds = %entry, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %cmp = icmp ugt i32 %0, -3
  br i1 %cmp, label %return, label %for.cond.preheader

for.cond.preheader:                               ; preds = %trace_pci_nvme_identify_nslist.exit
  %subsys = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 33
  br i1 %active, label %nvme_ns.exit.us, label %nvme_ns.exit

nvme_ns.exit.us:                                  ; preds = %for.cond.preheader, %for.inc.us
  %indvars.iv28 = phi i64 [ %indvars.iv.next29, %for.inc.us ], [ 1, %for.cond.preheader ]
  %j.025.us = phi i32 [ %j.1.us, %for.inc.us ], [ 0, %for.cond.preheader ]
  %arrayidx.i.us = getelementptr %struct.NvmeCtrl, ptr %n, i64 0, i32 35, i64 %indvars.iv28
  %8 = load ptr, ptr %arrayidx.i.us, align 8
  %tobool.not.us = icmp eq ptr %8, null
  br i1 %tobool.not.us, label %for.inc.us, label %if.end11.us

if.end11.us:                                      ; preds = %nvme_ns.exit.us
  %nsid12.us = getelementptr inbounds %struct.NvmeNamespace, ptr %8, i64 0, i32 30, i32 2
  %9 = load i32, ptr %nsid12.us, align 4
  %cmp13.not.us = icmp ugt i32 %9, %0
  br i1 %cmp13.not.us, label %if.end15.us, label %for.inc.us

if.end15.us:                                      ; preds = %if.end11.us
  %inc.us = add i32 %j.025.us, 1
  %idxprom.us = sext i32 %j.025.us to i64
  %arrayidx.us = getelementptr i32, ptr %list, i64 %idxprom.us
  store i32 %9, ptr %arrayidx.us, align 4
  %cmp19.us = icmp eq i32 %inc.us, 1024
  br i1 %cmp19.us, label %for.end, label %for.inc.us

for.inc.us:                                       ; preds = %nvme_ns.exit.us, %if.end15.us, %if.end11.us
  %j.1.us = phi i32 [ %j.025.us, %if.end11.us ], [ %inc.us, %if.end15.us ], [ %j.025.us, %nvme_ns.exit.us ]
  %indvars.iv.next29 = add nuw nsw i64 %indvars.iv28, 1
  %exitcond31.not = icmp eq i64 %indvars.iv.next29, 257
  br i1 %exitcond31.not, label %for.end, label %nvme_ns.exit.us, !llvm.loop !75

nvme_ns.exit:                                     ; preds = %for.cond.preheader, %for.inc
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.inc ], [ 1, %for.cond.preheader ]
  %j.025 = phi i32 [ %j.1, %for.inc ], [ 0, %for.cond.preheader ]
  %arrayidx.i = getelementptr %struct.NvmeCtrl, ptr %n, i64 0, i32 35, i64 %indvars.iv
  %10 = load ptr, ptr %arrayidx.i, align 8
  %tobool.not = icmp eq ptr %10, null
  br i1 %tobool.not, label %if.then3, label %if.end11

if.then3:                                         ; preds = %nvme_ns.exit
  %11 = load ptr, ptr %subsys, align 8
  %tobool.i = icmp eq ptr %11, null
  br i1 %tobool.i, label %for.inc, label %nvme_subsys_ns.exit

nvme_subsys_ns.exit:                              ; preds = %if.then3
  %arrayidx.i15 = getelementptr %struct.NvmeSubsystem, ptr %11, i64 0, i32 5, i64 %indvars.iv
  %12 = load ptr, ptr %arrayidx.i15, align 8
  %tobool7.not = icmp eq ptr %12, null
  br i1 %tobool7.not, label %for.inc, label %if.end11

if.end11:                                         ; preds = %nvme_subsys_ns.exit, %nvme_ns.exit
  %ns.0 = phi ptr [ %10, %nvme_ns.exit ], [ %12, %nvme_subsys_ns.exit ]
  %nsid12 = getelementptr inbounds %struct.NvmeNamespace, ptr %ns.0, i64 0, i32 30, i32 2
  %13 = load i32, ptr %nsid12, align 4
  %cmp13.not = icmp ugt i32 %13, %0
  br i1 %cmp13.not, label %if.end15, label %for.inc

if.end15:                                         ; preds = %if.end11
  %inc = add i32 %j.025, 1
  %idxprom = sext i32 %j.025 to i64
  %arrayidx = getelementptr i32, ptr %list, i64 %idxprom
  store i32 %13, ptr %arrayidx, align 4
  %cmp19 = icmp eq i32 %inc, 1024
  br i1 %cmp19, label %for.end, label %for.inc

for.inc:                                          ; preds = %if.then3, %if.end15, %if.end11, %nvme_subsys_ns.exit
  %j.1 = phi i32 [ %j.025, %if.end11 ], [ %inc, %if.end15 ], [ %j.025, %nvme_subsys_ns.exit ], [ %j.025, %if.then3 ]
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %exitcond.not = icmp eq i64 %indvars.iv.next, 257
  br i1 %exitcond.not, label %for.end, label %nvme_ns.exit, !llvm.loop !75

for.end:                                          ; preds = %for.inc, %if.end15, %if.end15.us, %for.inc.us
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %n, ptr noundef nonnull %sg.i, i64 noundef 4096, ptr noundef nonnull %cmd.i)
  %tobool.not.i = icmp eq i16 %call.i, 0
  br i1 %tobool.not.i, label %if.end.i18, label %return

if.end.i18:                                       ; preds = %for.end
  %call2.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef nonnull %list, i32 noundef 4096, i32 noundef 1)
  br label %return

return:                                           ; preds = %if.end.i18, %for.end, %trace_pci_nvme_identify_nslist.exit
  %retval.0 = phi i16 [ 16395, %trace_pci_nvme_identify_nslist.exit ], [ %call2.i, %if.end.i18 ], [ %call.i, %for.end ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_identify_nslist_csi(ptr noundef %n, ptr noundef %req, i1 noundef zeroext %active) unnamed_addr #0 {
entry:
  %_now.i.i = alloca %struct.timeval, align 8
  %list = alloca [4096 x i8], align 16
  %nsid = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 3
  %0 = load i32, ptr %nsid, align 1
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 16 dereferenceable(4096) %list, i8 0, i64 4096, i1 false)
  %csi = getelementptr inbounds i8, ptr %req, i64 103
  %1 = load i8, ptr %csi, align 1
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i)
  %2 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i = icmp ne i32 %2, 0
  %3 = load i16, ptr @_TRACE_PCI_NVME_IDENTIFY_NSLIST_CSI_DSTATE, align 2
  %tobool4.i.i = icmp ne i16 %3, 0
  %or.cond.i.i = select i1 %tobool.i.i, i1 %tobool4.i.i, i1 false
  br i1 %or.cond.i.i, label %land.lhs.true5.i.i, label %trace_pci_nvme_identify_nslist_csi.exit

land.lhs.true5.i.i:                               ; preds = %entry
  %4 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i = and i32 %4, 32768
  %cmp.i.not.i.i = icmp eq i32 %and.i.i.i, 0
  br i1 %cmp.i.not.i.i, label %trace_pci_nvme_identify_nslist_csi.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %land.lhs.true5.i.i
  %5 = load i8, ptr @message_with_timestamp, align 1
  %6 = and i8 %5, 1
  %tobool7.not.i.i = icmp eq i8 %6, 0
  br i1 %tobool7.not.i.i, label %if.else.i.i, label %if.then8.i.i

if.then8.i.i:                                     ; preds = %if.then.i.i
  %call9.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i, ptr noundef null) #17
  %call10.i.i = tail call i32 @qemu_get_thread_id() #17
  %7 = load i64, ptr %_now.i.i, align 8
  %tv_usec.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i, i64 0, i32 1
  %8 = load i64, ptr %tv_usec.i.i, align 8
  %conv11.i.i = and i32 %0, 65535
  %conv12.i.i = zext i8 %1 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.379, i32 noundef %call10.i.i, i64 noundef %7, i64 noundef %8, i32 noundef %conv11.i.i, i32 noundef %conv12.i.i) #17
  br label %trace_pci_nvme_identify_nslist_csi.exit

if.else.i.i:                                      ; preds = %if.then.i.i
  %conv13.i.i = and i32 %0, 65535
  %conv14.i.i = zext i8 %1 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.380, i32 noundef %conv13.i.i, i32 noundef %conv14.i.i) #17
  br label %trace_pci_nvme_identify_nslist_csi.exit

trace_pci_nvme_identify_nslist_csi.exit:          ; preds = %entry, %land.lhs.true5.i.i, %if.then8.i.i, %if.else.i.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i)
  %cmp = icmp ugt i32 %0, -3
  br i1 %cmp, label %return, label %if.end

if.end:                                           ; preds = %trace_pci_nvme_identify_nslist_csi.exit
  %9 = load i8, ptr %csi, align 1
  switch i8 %9, label %return [
    i8 0, label %if.end11
    i8 2, label %if.end11
  ]

if.end11:                                         ; preds = %if.end, %if.end
  %subsys = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 33
  br i1 %active, label %nvme_ns.exit.us, label %nvme_ns.exit

nvme_ns.exit.us:                                  ; preds = %if.end11, %for.inc.us
  %indvars.iv33 = phi i64 [ %indvars.iv.next34, %for.inc.us ], [ 1, %if.end11 ]
  %j.030.us = phi i32 [ %j.1.us, %for.inc.us ], [ 0, %if.end11 ]
  %arrayidx.i.us = getelementptr %struct.NvmeCtrl, ptr %n, i64 0, i32 35, i64 %indvars.iv33
  %10 = load ptr, ptr %arrayidx.i.us, align 8
  %tobool.not.us = icmp eq ptr %10, null
  br i1 %tobool.not.us, label %for.inc.us, label %if.end23.us

if.end23.us:                                      ; preds = %nvme_ns.exit.us
  %nsid24.us = getelementptr inbounds %struct.NvmeNamespace, ptr %10, i64 0, i32 30, i32 2
  %11 = load i32, ptr %nsid24.us, align 4
  %cmp25.not.us = icmp ugt i32 %11, %0
  br i1 %cmp25.not.us, label %lor.lhs.false.us, label %for.inc.us

lor.lhs.false.us:                                 ; preds = %if.end23.us
  %csi29.us = getelementptr inbounds %struct.NvmeNamespace, ptr %10, i64 0, i32 11
  %12 = load i8, ptr %csi29.us, align 8
  %cmp31.not.us = icmp eq i8 %9, %12
  br i1 %cmp31.not.us, label %if.end34.us, label %for.inc.us

if.end34.us:                                      ; preds = %lor.lhs.false.us
  %inc.us = add i32 %j.030.us, 1
  %idxprom.us = sext i32 %j.030.us to i64
  %arrayidx.us = getelementptr i32, ptr %list, i64 %idxprom.us
  store i32 %11, ptr %arrayidx.us, align 4
  %cmp39.us = icmp eq i32 %inc.us, 1024
  br i1 %cmp39.us, label %for.end, label %for.inc.us

for.inc.us:                                       ; preds = %nvme_ns.exit.us, %if.end34.us, %lor.lhs.false.us, %if.end23.us
  %j.1.us = phi i32 [ %j.030.us, %if.end23.us ], [ %j.030.us, %lor.lhs.false.us ], [ %inc.us, %if.end34.us ], [ %j.030.us, %nvme_ns.exit.us ]
  %indvars.iv.next34 = add nuw nsw i64 %indvars.iv33, 1
  %exitcond36.not = icmp eq i64 %indvars.iv.next34, 257
  br i1 %exitcond36.not, label %for.end, label %nvme_ns.exit.us, !llvm.loop !76

nvme_ns.exit:                                     ; preds = %if.end11, %for.inc
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.inc ], [ 1, %if.end11 ]
  %j.030 = phi i32 [ %j.1, %for.inc ], [ 0, %if.end11 ]
  %arrayidx.i = getelementptr %struct.NvmeCtrl, ptr %n, i64 0, i32 35, i64 %indvars.iv
  %13 = load ptr, ptr %arrayidx.i, align 8
  %tobool.not = icmp eq ptr %13, null
  br i1 %tobool.not, label %if.then15, label %if.end23

if.then15:                                        ; preds = %nvme_ns.exit
  %14 = load ptr, ptr %subsys, align 8
  %tobool.i = icmp eq ptr %14, null
  br i1 %tobool.i, label %for.inc, label %nvme_subsys_ns.exit

nvme_subsys_ns.exit:                              ; preds = %if.then15
  %arrayidx.i20 = getelementptr %struct.NvmeSubsystem, ptr %14, i64 0, i32 5, i64 %indvars.iv
  %15 = load ptr, ptr %arrayidx.i20, align 8
  %tobool19.not = icmp eq ptr %15, null
  br i1 %tobool19.not, label %for.inc, label %if.end23

if.end23:                                         ; preds = %nvme_subsys_ns.exit, %nvme_ns.exit
  %ns.0 = phi ptr [ %13, %nvme_ns.exit ], [ %15, %nvme_subsys_ns.exit ]
  %nsid24 = getelementptr inbounds %struct.NvmeNamespace, ptr %ns.0, i64 0, i32 30, i32 2
  %16 = load i32, ptr %nsid24, align 4
  %cmp25.not = icmp ugt i32 %16, %0
  br i1 %cmp25.not, label %lor.lhs.false, label %for.inc

lor.lhs.false:                                    ; preds = %if.end23
  %csi29 = getelementptr inbounds %struct.NvmeNamespace, ptr %ns.0, i64 0, i32 11
  %17 = load i8, ptr %csi29, align 8
  %cmp31.not = icmp eq i8 %9, %17
  br i1 %cmp31.not, label %if.end34, label %for.inc

if.end34:                                         ; preds = %lor.lhs.false
  %inc = add i32 %j.030, 1
  %idxprom = sext i32 %j.030 to i64
  %arrayidx = getelementptr i32, ptr %list, i64 %idxprom
  store i32 %16, ptr %arrayidx, align 4
  %cmp39 = icmp eq i32 %inc, 1024
  br i1 %cmp39, label %for.end, label %for.inc

for.inc:                                          ; preds = %if.then15, %if.end34, %if.end23, %lor.lhs.false, %nvme_subsys_ns.exit
  %j.1 = phi i32 [ %j.030, %if.end23 ], [ %j.030, %lor.lhs.false ], [ %inc, %if.end34 ], [ %j.030, %nvme_subsys_ns.exit ], [ %j.030, %if.then15 ]
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %exitcond.not = icmp eq i64 %indvars.iv.next, 257
  br i1 %exitcond.not, label %for.end, label %nvme_ns.exit, !llvm.loop !76

for.end:                                          ; preds = %for.inc, %if.end34, %if.end34.us, %for.inc.us
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %n, ptr noundef nonnull %sg.i, i64 noundef 4096, ptr noundef nonnull %cmd.i)
  %tobool.not.i = icmp eq i16 %call.i, 0
  br i1 %tobool.not.i, label %if.end.i23, label %return

if.end.i23:                                       ; preds = %for.end
  %call2.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef nonnull %list, i32 noundef 4096, i32 noundef 1)
  br label %return

return:                                           ; preds = %if.end.i23, %for.end, %if.end, %trace_pci_nvme_identify_nslist_csi.exit
  %retval.0 = phi i16 [ 16395, %trace_pci_nvme_identify_nslist_csi.exit ], [ 16386, %if.end ], [ %call2.i, %if.end.i23 ], [ %call.i, %for.end ]
  ret i16 %retval.0
}

declare i32 @qemu_uuid_is_null(ptr noundef) local_unnamed_addr #1

; Function Attrs: mustprogress nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare i64 @llvm.bswap.i64(i64) #8

declare zeroext i1 @blk_enable_write_cache(ptr noundef) local_unnamed_addr #1

declare i32 @blk_flush(ptr noundef) #1

declare void @blk_set_enable_write_cache(ptr noundef, i1 noundef zeroext) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_setfeat_numq(i32 noundef %reqcq, i32 noundef %reqsq, i32 noundef %gotcq, i32 noundef %gotsq) unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_SETFEAT_NUMQ_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_setfeat_numq.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_setfeat_numq.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.392, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6, i32 noundef %reqcq, i32 noundef %reqsq, i32 noundef %gotcq, i32 noundef %gotsq) #17
  br label %_nocheck__trace_pci_nvme_setfeat_numq.exit

if.else.i:                                        ; preds = %if.then.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.393, i32 noundef %reqcq, i32 noundef %reqsq, i32 noundef %gotcq, i32 noundef %gotsq) #17
  br label %_nocheck__trace_pci_nvme_setfeat_numq.exit

_nocheck__trace_pci_nvme_setfeat_numq.exit:       ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_set_feature_timestamp(ptr noundef %n, ptr noundef %req) unnamed_addr #0 {
entry:
  %timestamp = alloca i64, align 8
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef %n, ptr noundef nonnull %sg.i, i64 noundef 8, ptr noundef nonnull %cmd.i)
  %tobool.not.i = icmp eq i16 %call.i, 0
  br i1 %tobool.not.i, label %nvme_h2c.exit, label %return

nvme_h2c.exit:                                    ; preds = %entry
  %call2.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef nonnull %timestamp, i32 noundef 8, i32 noundef 0)
  %tobool.not = icmp eq i16 %call2.i, 0
  br i1 %tobool.not, label %if.end, label %return

if.end:                                           ; preds = %nvme_h2c.exit
  %0 = load i64, ptr %timestamp, align 8
  call fastcc void @nvme_set_timestamp(ptr noundef %n, i64 noundef %0)
  br label %return

return:                                           ; preds = %entry, %nvme_h2c.exit, %if.end
  %retval.0 = phi i16 [ 0, %if.end ], [ %call2.i, %nvme_h2c.exit ], [ %call.i, %entry ]
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_err_invalid_iocsci(i32 noundef %idx) unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_ERR_INVALID_IOCSCI_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_err_invalid_iocsci.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_err_invalid_iocsci.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.394, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6, i32 noundef %idx) #17
  br label %_nocheck__trace_pci_nvme_err_invalid_iocsci.exit

if.else.i:                                        ; preds = %if.then.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.395, i32 noundef %idx) #17
  br label %_nocheck__trace_pci_nvme_err_invalid_iocsci.exit

_nocheck__trace_pci_nvme_err_invalid_iocsci.exit: ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_set_feature_fdp_events(ptr noundef %n, ptr noundef readonly %ns, ptr noundef %req) unnamed_addr #0 {
entry:
  %cdw112 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 8
  %0 = load i32, ptr %cdw112, align 1
  %conv = trunc i32 %0 to i16
  %shr = lshr i32 %0, 16
  %cdw12 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 9
  %1 = load i32, ptr %cdw12, align 1
  %conv4.mask = and i32 %shr, 255
  %conv8 = zext nneg i32 %conv4.mask to i64
  %call9 = tail call noalias ptr @g_malloc0(i64 noundef %conv8) #20
  %tobool.not = icmp eq ptr %ns, null
  br i1 %tobool.not, label %if.else, label %if.end

if.else:                                          ; preds = %entry
  tail call void @__assert_fail(ptr noundef nonnull @.str.387, ptr noundef nonnull @.str.1, i32 noundef 6102, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_set_feature_fdp_events) #18
  unreachable

if.end:                                           ; preds = %entry
  %subsys = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 33
  %2 = load ptr, ptr %subsys, align 8
  %tobool10.not = icmp eq ptr %2, null
  br i1 %tobool10.not, label %cleanup, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %if.end
  %enabled = getelementptr inbounds %struct.NvmeSubsystem, ptr %2, i64 0, i32 6, i32 1, i32 9
  %3 = load i8, ptr %enabled, align 8
  %4 = and i8 %3, 1
  %tobool12.not = icmp eq i8 %4, 0
  br i1 %tobool12.not, label %cleanup, label %if.end14

if.end14:                                         ; preds = %lor.lhs.false
  %5 = getelementptr i8, ptr %ns, i64 8792
  %ns.val = load i16, ptr %5, align 8
  %cmp.i = icmp ugt i16 %ns.val, %conv
  br i1 %cmp.i, label %if.end17, label %cleanup

if.end17:                                         ; preds = %if.end14
  %phs = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 34, i32 1
  %6 = load ptr, ptr %phs, align 8
  %conv.mask = and i32 %0, 65535
  %idxprom = zext nneg i32 %conv.mask to i64
  %arrayidx = getelementptr i16, ptr %6, i64 %idxprom
  %7 = load i16, ptr %arrayidx, align 2
  %ruhs = getelementptr inbounds %struct.NvmeSubsystem, ptr %2, i64 0, i32 6, i32 1, i32 10
  %8 = load ptr, ptr %ruhs, align 8
  %idxprom22 = zext i16 %7 to i64
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef nonnull %n, ptr noundef nonnull %sg.i, i64 noundef %conv8, ptr noundef nonnull %cmd.i)
  %tobool.not.i = icmp eq i16 %call.i, 0
  br i1 %tobool.not.i, label %nvme_h2c.exit, label %cleanup

nvme_h2c.exit:                                    ; preds = %if.end17
  %call2.i = tail call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef %call9, i32 noundef %conv4.mask, i32 noundef 0)
  %tobool26.not = icmp eq i16 %call2.i, 0
  br i1 %tobool26.not, label %for.cond.preheader, label %cleanup

for.cond.preheader:                               ; preds = %nvme_h2c.exit
  %cmp23.not = icmp eq i32 %conv4.mask, 0
  br i1 %cmp23.not, label %for.end, label %for.body

for.body:                                         ; preds = %for.cond.preheader, %for.body
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.body ], [ 0, %for.cond.preheader ]
  %event_mask.024 = phi i8 [ %conv37, %for.body ], [ 0, %for.cond.preheader ]
  %arrayidx32 = getelementptr i8, ptr %call9, i64 %indvars.iv
  %9 = load i8, ptr %arrayidx32, align 1
  %idxprom33 = zext i8 %9 to i64
  %arrayidx34 = getelementptr [255 x i8], ptr @nvme_fdp_evf_shifts, i64 0, i64 %idxprom33
  %10 = load i8, ptr %arrayidx34, align 1
  %conv35 = zext nneg i8 %10 to i32
  %shl = shl nuw i32 1, %conv35
  %11 = trunc i32 %shl to i8
  %conv37 = or i8 %event_mask.024, %11
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %exitcond.not = icmp eq i64 %indvars.iv.next, %conv8
  br i1 %exitcond.not, label %for.end.loopexit, label %for.body, !llvm.loop !77

for.end.loopexit:                                 ; preds = %for.body
  %12 = zext i8 %conv37 to i64
  br label %for.end

for.end:                                          ; preds = %for.end.loopexit, %for.cond.preheader
  %event_mask.0.lcssa = phi i64 [ 0, %for.cond.preheader ], [ %12, %for.end.loopexit ]
  %conv719 = and i32 %1, 1
  %tobool38.not = icmp eq i32 %conv719, 0
  %event_filter43 = getelementptr %struct.NvmeRuHandle, ptr %8, i64 %idxprom22, i32 2
  %13 = load i64, ptr %event_filter43, align 8
  %or41 = or i64 %13, %event_mask.0.lcssa
  %not = xor i64 %event_mask.0.lcssa, -1
  %and46 = and i64 %13, %not
  %or41.sink = select i1 %tobool38.not, i64 %and46, i64 %or41
  store i64 %or41.sink, ptr %event_filter43, align 8
  br label %cleanup

cleanup:                                          ; preds = %for.end, %if.end17, %nvme_h2c.exit, %if.end14, %if.end, %lor.lhs.false
  %retval.0 = phi i16 [ 16425, %lor.lhs.false ], [ 16425, %if.end ], [ 16386, %if.end14 ], [ %call2.i, %nvme_h2c.exit ], [ %call.i, %if.end17 ], [ 0, %for.end ]
  tail call void @g_free(ptr noundef %call9) #17
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @trace_pci_nvme_getfeat_vwcache(ptr noundef %result) unnamed_addr #0 {
entry:
  %_now.i = alloca %struct.timeval, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i)
  %0 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i = icmp ne i32 %0, 0
  %1 = load i16, ptr @_TRACE_PCI_NVME_GETFEAT_VWCACHE_DSTATE, align 2
  %tobool4.i = icmp ne i16 %1, 0
  %or.cond.i = select i1 %tobool.i, i1 %tobool4.i, i1 false
  br i1 %or.cond.i, label %land.lhs.true5.i, label %_nocheck__trace_pci_nvme_getfeat_vwcache.exit

land.lhs.true5.i:                                 ; preds = %entry
  %2 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i = and i32 %2, 32768
  %cmp.i.not.i = icmp eq i32 %and.i.i, 0
  br i1 %cmp.i.not.i, label %_nocheck__trace_pci_nvme_getfeat_vwcache.exit, label %if.then.i

if.then.i:                                        ; preds = %land.lhs.true5.i
  %3 = load i8, ptr @message_with_timestamp, align 1
  %4 = and i8 %3, 1
  %tobool7.not.i = icmp eq i8 %4, 0
  br i1 %tobool7.not.i, label %if.else.i, label %if.then8.i

if.then8.i:                                       ; preds = %if.then.i
  %call9.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i, ptr noundef null) #17
  %call10.i = tail call i32 @qemu_get_thread_id() #17
  %5 = load i64, ptr %_now.i, align 8
  %tv_usec.i = getelementptr inbounds %struct.timeval, ptr %_now.i, i64 0, i32 1
  %6 = load i64, ptr %tv_usec.i, align 8
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.400, i32 noundef %call10.i, i64 noundef %5, i64 noundef %6, ptr noundef %result) #17
  br label %_nocheck__trace_pci_nvme_getfeat_vwcache.exit

if.else.i:                                        ; preds = %if.then.i
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.401, ptr noundef %result) #17
  br label %_nocheck__trace_pci_nvme_getfeat_vwcache.exit

_nocheck__trace_pci_nvme_getfeat_vwcache.exit:    ; preds = %entry, %land.lhs.true5.i, %if.then8.i, %if.else.i
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i)
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_get_feature_timestamp(ptr noundef %n, ptr noundef %req) unnamed_addr #0 {
entry:
  %timestamp = alloca i64, align 8
  %call = tail call fastcc i64 @nvme_get_timestamp(ptr noundef %n)
  store i64 %call, ptr %timestamp, align 8
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef %n, ptr noundef nonnull %sg.i, i64 noundef 8, ptr noundef nonnull %cmd.i)
  %tobool.not.i = icmp eq i16 %call.i, 0
  br i1 %tobool.not.i, label %if.end.i, label %nvme_c2h.exit

if.end.i:                                         ; preds = %entry
  %call2.i = call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef nonnull %timestamp, i32 noundef 8, i32 noundef 1)
  br label %nvme_c2h.exit

nvme_c2h.exit:                                    ; preds = %entry, %if.end.i
  %retval.0.i = phi i16 [ %call2.i, %if.end.i ], [ %call.i, %entry ]
  ret i16 %retval.0.i
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_get_feature_fdp_events(ptr noundef %n, ptr nocapture noundef readonly %ns, ptr noundef %req, ptr nocapture noundef writeonly %result) unnamed_addr #0 {
entry:
  %cdw112 = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6, i32 8
  %0 = load i32, ptr %cdw112, align 1
  %conv = trunc i32 %0 to i16
  %shr = lshr i32 %0, 16
  %conv4.mask = shl nuw nsw i32 %shr, 1
  %1 = and i32 %conv4.mask, 510
  %mul = zext nneg i32 %1 to i64
  %call6 = tail call noalias ptr @g_malloc0(i64 noundef %mul) #20
  %subsys = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 33
  %2 = load ptr, ptr %subsys, align 8
  %tobool.not = icmp eq ptr %2, null
  br i1 %tobool.not, label %cleanup, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %entry
  %enabled = getelementptr inbounds %struct.NvmeSubsystem, ptr %2, i64 0, i32 6, i32 1, i32 9
  %3 = load i8, ptr %enabled, align 8
  %4 = and i8 %3, 1
  %tobool8.not = icmp eq i8 %4, 0
  br i1 %tobool8.not, label %cleanup, label %if.end

if.end:                                           ; preds = %lor.lhs.false
  %5 = getelementptr i8, ptr %ns, i64 8792
  %ns.val = load i16, ptr %5, align 8
  %cmp.i = icmp ugt i16 %ns.val, %conv
  br i1 %cmp.i, label %if.end11, label %cleanup

if.end11:                                         ; preds = %if.end
  %phs = getelementptr inbounds %struct.NvmeNamespace, ptr %ns, i64 0, i32 34, i32 1
  %6 = load ptr, ptr %phs, align 8
  %conv.mask = and i32 %0, 65535
  %idxprom = zext nneg i32 %conv.mask to i64
  %arrayidx = getelementptr i16, ptr %6, i64 %idxprom
  %7 = load i16, ptr %arrayidx, align 2
  %ruhs = getelementptr inbounds %struct.NvmeSubsystem, ptr %2, i64 0, i32 6, i32 1, i32 10
  %8 = load ptr, ptr %ruhs, align 8
  %idxprom16 = zext i16 %7 to i64
  %arrayidx17 = getelementptr %struct.NvmeRuHandle, ptr %8, i64 %idxprom16
  %tobool18.not = icmp eq ptr %arrayidx17, null
  br i1 %tobool18.not, label %if.else, label %if.end20

if.else:                                          ; preds = %if.end11
  tail call void @__assert_fail(ptr noundef nonnull @.str.403, ptr noundef nonnull @.str.1, i32 noundef 5842, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_get_feature_fdp_events) #18
  unreachable

if.end20:                                         ; preds = %if.end11
  %9 = and i32 %0, 16711680
  %cmp = icmp eq i32 %9, 0
  br i1 %cmp, label %cleanup, label %for.cond.preheader

for.cond.preheader:                               ; preds = %if.end20
  %event_filter = getelementptr %struct.NvmeRuHandle, ptr %8, i64 %idxprom16, i32 2
  %10 = trunc i32 %shr to i8
  br label %for.body

for.body:                                         ; preds = %for.cond.preheader, %for.inc
  %indvars.iv = phi i64 [ 0, %for.cond.preheader ], [ %indvars.iv.next, %for.inc ]
  %nentries.025 = phi i32 [ 0, %for.cond.preheader ], [ %nentries.1, %for.inc ]
  %s_events_ndx.024 = phi i8 [ 0, %for.cond.preheader ], [ %s_events_ndx.1, %for.inc ]
  %arrayidx32 = getelementptr [255 x i8], ptr @nvme_fdp_evf_shifts, i64 0, i64 %indvars.iv
  %11 = load i8, ptr %arrayidx32, align 1
  %tobool33 = icmp eq i8 %11, 0
  %tobool35 = icmp ne i64 %indvars.iv, 0
  %or.cond = and i1 %tobool35, %tobool33
  br i1 %or.cond, label %for.inc, label %if.end37

if.end37:                                         ; preds = %for.body
  %inc = add i32 %nentries.025, 1
  %idxprom38 = zext i8 %s_events_ndx.024 to i64
  %arrayidx39 = getelementptr %struct.NvmeFdpEventDescr, ptr %call6, i64 %idxprom38
  %12 = trunc i64 %indvars.iv to i8
  store i8 %12, ptr %arrayidx39, align 1
  %13 = load i64, ptr %event_filter, align 8
  %sh_prom = zext nneg i8 %11 to i64
  %shr41 = lshr i64 %13, %sh_prom
  %14 = trunc i64 %shr41 to i8
  %conv43 = and i8 %14, 1
  %evta = getelementptr %struct.NvmeFdpEventDescr, ptr %call6, i64 %idxprom38, i32 1
  store i8 %conv43, ptr %evta, align 1
  %inc44 = add i8 %s_events_ndx.024, 1
  %cmp47 = icmp eq i8 %inc44, %10
  br i1 %cmp47, label %for.end, label %for.inc

for.inc:                                          ; preds = %if.end37, %for.body
  %s_events_ndx.1 = phi i8 [ %s_events_ndx.024, %for.body ], [ %inc44, %if.end37 ]
  %nentries.1 = phi i32 [ %nentries.025, %for.body ], [ %inc, %if.end37 ]
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %cmp29.not = icmp eq i64 %indvars.iv.next, 255
  br i1 %cmp29.not, label %for.end, label %for.body, !llvm.loop !78

for.end:                                          ; preds = %if.end37, %for.inc
  %nentries.2 = phi i32 [ %inc, %if.end37 ], [ %nentries.1, %for.inc ]
  %sg.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 8
  %cmd.i = getelementptr inbounds %struct.NvmeRequest, ptr %req, i64 0, i32 6
  %call.i = tail call zeroext i16 @nvme_map_dptr(ptr noundef %n, ptr noundef nonnull %sg.i, i64 noundef %mul, ptr noundef nonnull %cmd.i)
  %tobool.not.i = icmp eq i16 %call.i, 0
  br i1 %tobool.not.i, label %nvme_c2h.exit, label %cleanup

nvme_c2h.exit:                                    ; preds = %for.end
  %call2.i = tail call fastcc zeroext i16 @nvme_tx(ptr noundef nonnull %sg.i, ptr noundef %call6, i32 noundef %1, i32 noundef 1)
  %tobool54.not = icmp eq i16 %call2.i, 0
  br i1 %tobool54.not, label %if.end56, label %cleanup

if.end56:                                         ; preds = %nvme_c2h.exit
  store i32 %nentries.2, ptr %result, align 4
  br label %cleanup

cleanup:                                          ; preds = %for.end, %nvme_c2h.exit, %if.end20, %if.end, %entry, %lor.lhs.false, %if.end56
  %retval.0 = phi i16 [ 0, %if.end56 ], [ 16425, %lor.lhs.false ], [ 16425, %entry ], [ 16386, %if.end ], [ 16386, %if.end20 ], [ %call2.i, %nvme_c2h.exit ], [ %call.i, %for.end ]
  tail call void @g_free(ptr noundef %call6) #17
  ret i16 %retval.0
}

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc noundef zeroext i16 @nvme_virt_set_state(ptr noundef %n, i16 noundef zeroext %cntlid, i1 noundef zeroext %online) unnamed_addr #0 {
entry:
  %call.i = tail call ptr @object_dynamic_cast_assert(ptr noundef %n, ptr noundef nonnull @.str.6, ptr noundef nonnull @.str.7, i32 noundef 10, ptr noundef nonnull @__func__.PCI_DEVICE) #17
  %sec_ctrl_list.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 43
  %0 = load i8, ptr %sec_ctrl_list.i, align 1
  %cmp6.not.i = icmp eq i8 %0, 0
  br i1 %cmp6.not.i, label %return, label %for.body.preheader.i

for.body.preheader.i:                             ; preds = %entry
  %wide.trip.count.i = zext i8 %0 to i64
  br label %for.body.i

for.cond.i:                                       ; preds = %for.body.i
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  %exitcond.not.i = icmp eq i64 %indvars.iv.next.i, %wide.trip.count.i
  br i1 %exitcond.not.i, label %return, label %for.body.i, !llvm.loop !41

for.body.i:                                       ; preds = %for.cond.i, %for.body.preheader.i
  %indvars.iv.i = phi i64 [ 0, %for.body.preheader.i ], [ %indvars.iv.next.i, %for.cond.i ]
  %arrayidx.i = getelementptr %struct.NvmeCtrl, ptr %n, i64 0, i32 43, i32 2, i64 %indvars.iv.i
  %1 = load i16, ptr %arrayidx.i, align 1
  %cmp5.i = icmp eq i16 %1, %cntlid
  br i1 %cmp5.i, label %if.end, label %for.cond.i

if.end:                                           ; preds = %for.body.i
  %2 = getelementptr i8, ptr %call.i, i64 2232
  %call.val = load ptr, ptr %2, align 8
  %cmp.i.not = icmp eq ptr %call.val, null
  br i1 %cmp.i.not, label %if.then4, label %if.end8

if.then4:                                         ; preds = %if.end
  %vfn = getelementptr %struct.NvmeCtrl, ptr %n, i64 0, i32 43, i32 2, i64 %indvars.iv.i, i32 4
  %3 = load i16, ptr %vfn, align 1
  %conv = zext i16 %3 to i32
  %sub = add nsw i32 %conv, -1
  %call6 = tail call ptr @pcie_sriov_get_vf_at_index(ptr noundef nonnull %call.i, i32 noundef %sub) #17
  %call7 = tail call ptr @object_dynamic_cast_assert(ptr noundef %call6, ptr noundef nonnull @.str.49, ptr noundef nonnull @.str.1, i32 noundef 6751, ptr noundef nonnull @__func__.nvme_virt_set_state) #17
  br label %if.end8

if.end8:                                          ; preds = %if.then4, %if.end
  %sn.0 = phi ptr [ null, %if.end ], [ %call7, %if.then4 ]
  %nvi = getelementptr %struct.NvmeCtrl, ptr %n, i64 0, i32 43, i32 2, i64 %indvars.iv.i, i32 6
  br i1 %online, label %if.then10, label %if.else

if.then10:                                        ; preds = %if.end8
  %4 = load i16, ptr %nvi, align 1
  %tobool11.not = icmp eq i16 %4, 0
  br i1 %tobool11.not, label %return, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %if.then10
  %nvq = getelementptr %struct.NvmeCtrl, ptr %n, i64 0, i32 43, i32 2, i64 %indvars.iv.i, i32 5
  %5 = load i16, ptr %nvq, align 1
  %cmp = icmp ugt i16 %5, 1
  %tobool16 = icmp ne ptr %sn.0, null
  %or.cond = select i1 %cmp, i1 %tobool16, i1 false
  br i1 %or.cond, label %if.end18, label %return

if.end18:                                         ; preds = %lor.lhs.false
  %scs = getelementptr %struct.NvmeCtrl, ptr %n, i64 0, i32 43, i32 2, i64 %indvars.iv.i, i32 2
  %6 = load i8, ptr %scs, align 1
  %tobool19.not = icmp eq i8 %6, 0
  br i1 %tobool19.not, label %if.then20, label %return

if.then20:                                        ; preds = %if.end18
  store i8 1, ptr %scs, align 1
  br label %return.sink.split

if.else:                                          ; preds = %if.end8
  %virfa.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 42, i32 12
  %conv9.sink.in.i = load i16, ptr %nvi, align 1
  %conv9.sink.i = zext i16 %conv9.sink.in.i to i32
  %7 = load i32, ptr %virfa.i, align 4
  store i16 0, ptr %nvi, align 1
  %sub16.i = sub i32 %7, %conv9.sink.i
  store i32 %sub16.i, ptr %virfa.i, align 4
  %nvq.i = getelementptr %struct.NvmeCtrl, ptr %n, i64 0, i32 43, i32 2, i64 %indvars.iv.i, i32 5
  %vqrfa.i = getelementptr inbounds %struct.NvmeCtrl, ptr %n, i64 0, i32 42, i32 5
  %conv9.sink.in.i17 = load i16, ptr %nvq.i, align 1
  %conv9.sink.i18 = zext i16 %conv9.sink.in.i17 to i32
  %8 = load i32, ptr %vqrfa.i, align 4
  store i16 0, ptr %nvq.i, align 1
  %sub16.i19 = sub i32 %8, %conv9.sink.i18
  store i32 %sub16.i19, ptr %vqrfa.i, align 4
  %scs23 = getelementptr %struct.NvmeCtrl, ptr %n, i64 0, i32 43, i32 2, i64 %indvars.iv.i, i32 2
  %9 = load i8, ptr %scs23, align 1
  %tobool24.not = icmp eq i8 %9, 0
  br i1 %tobool24.not, label %return, label %if.then25

if.then25:                                        ; preds = %if.else
  store i8 0, ptr %scs23, align 1
  %tobool27.not = icmp eq ptr %sn.0, null
  br i1 %tobool27.not, label %return, label %return.sink.split

return.sink.split:                                ; preds = %if.then25, %if.then20
  tail call fastcc void @nvme_ctrl_reset(ptr noundef nonnull %sn.0, i32 noundef 0)
  br label %return

return:                                           ; preds = %for.cond.i, %return.sink.split, %entry, %if.end18, %if.then25, %if.else, %if.then10, %lor.lhs.false
  %retval.0 = phi i16 [ 16672, %lor.lhs.false ], [ 16672, %if.then10 ], [ 0, %if.else ], [ 0, %if.then25 ], [ 0, %if.end18 ], [ 16671, %entry ], [ 0, %return.sink.split ], [ 16671, %for.cond.i ]
  ret i16 %retval.0
}

declare ptr @pcie_sriov_get_vf_at_index(ptr noundef, i32 noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal fastcc void @nvme_do_format(ptr noundef %iocb) unnamed_addr #0 {
entry:
  %req1 = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %iocb, i64 0, i32 2
  %0 = load ptr, ptr %req1, align 8
  %.val = load ptr, ptr %0, align 8
  %.val.val = load ptr, ptr %.val, align 8
  %cdw10 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 6, i32 7
  %1 = load i32, ptr %cdw10, align 8
  %2 = trunc i32 %1 to i8
  %conv = and i8 %2, 15
  %ret = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %iocb, i64 0, i32 3
  %3 = load i32, ptr %ret, align 8
  %cmp = icmp slt i32 %3, 0
  br i1 %cmp, label %done, label %if.end

if.end:                                           ; preds = %entry
  %broadcast = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %iocb, i64 0, i32 6
  %4 = load i8, ptr %broadcast, align 4
  %5 = and i8 %4, 1
  %tobool.not = icmp eq i8 %5, 0
  br i1 %tobool.not, label %if.end15, label %if.then6

if.then6:                                         ; preds = %if.end
  %nsid = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %iocb, i64 0, i32 5
  %6 = load i32, ptr %nsid, align 8
  %ns = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %iocb, i64 0, i32 4
  br label %for.cond

for.cond:                                         ; preds = %nvme_ns.exit, %if.then6
  %i.0.in = phi i32 [ %6, %if.then6 ], [ %i.0, %nvme_ns.exit ]
  %i.0 = add i32 %i.0.in, 1
  %cmp7 = icmp slt i32 %i.0, 257
  br i1 %cmp7, label %for.body, label %if.end15

for.body:                                         ; preds = %for.cond
  %or.cond.i = icmp ugt i32 %i.0.in, 255
  br i1 %or.cond.i, label %nvme_ns.exit, label %if.end.i

if.end.i:                                         ; preds = %for.body
  %idxprom.i = zext nneg i32 %i.0 to i64
  %arrayidx.i = getelementptr %struct.NvmeCtrl, ptr %.val.val, i64 0, i32 35, i64 %idxprom.i
  %7 = load ptr, ptr %arrayidx.i, align 8
  br label %nvme_ns.exit

nvme_ns.exit:                                     ; preds = %for.body, %if.end.i
  %retval.0.i = phi ptr [ %7, %if.end.i ], [ null, %for.body ]
  store ptr %retval.0.i, ptr %ns, align 8
  %tobool11.not = icmp eq ptr %retval.0.i, null
  br i1 %tobool11.not, label %for.cond, label %if.then12, !llvm.loop !79

if.then12:                                        ; preds = %nvme_ns.exit
  store i32 %i.0, ptr %nsid, align 8
  br label %if.end15

if.end15:                                         ; preds = %for.cond, %if.then12, %if.end
  %ns16 = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %iocb, i64 0, i32 4
  %8 = load ptr, ptr %ns16, align 8
  %tobool17.not = icmp eq ptr %8, null
  br i1 %tobool17.not, label %done, label %if.end19

if.end19:                                         ; preds = %if.end15
  %zoned.i = getelementptr inbounds %struct.NvmeNamespace, ptr %8, i64 0, i32 30, i32 14
  %9 = load i8, ptr %zoned.i, align 1
  %10 = and i8 %9, 1
  %tobool.not.i = icmp eq i8 %10, 0
  br i1 %tobool.not.i, label %if.end.i23, label %if.then23

if.end.i23:                                       ; preds = %if.end19
  %nlbaf.i = getelementptr inbounds %struct.NvmeNamespace, ptr %8, i64 0, i32 5, i32 4
  %11 = load i8, ptr %nlbaf.i, align 1
  %cmp.i = icmp ult i8 %11, %conv
  br i1 %cmp.i, label %if.then23, label %if.end4.i

if.end4.i:                                        ; preds = %if.end.i23
  %tobool6.not.i = icmp ult i8 %2, 32
  br i1 %tobool6.not.i, label %if.end25, label %land.lhs.true.i

land.lhs.true.i:                                  ; preds = %if.end4.i
  %idxprom.i24 = zext nneg i8 %conv to i64
  %arrayidx.i25 = getelementptr %struct.NvmeNamespace, ptr %8, i64 0, i32 5, i32 35, i64 %idxprom.i24
  %12 = load i16, ptr %arrayidx.i25, align 4
  %conv9.i = zext i16 %12 to i64
  %13 = getelementptr i8, ptr %8, i64 8496
  %ns.val.i = load i8, ptr %13, align 8
  %tobool.not.i.i = icmp eq i8 %ns.val.i, 0
  %conv1.i.i = select i1 %tobool.not.i.i, i64 8, i64 16
  %cmp10.i = icmp ugt i64 %conv1.i.i, %conv9.i
  br i1 %cmp10.i, label %if.then23, label %if.end13.i

if.end13.i:                                       ; preds = %land.lhs.true.i
  %cmp18.i = icmp slt i8 %2, 0
  br i1 %cmp18.i, label %if.then23, label %if.end25

if.then23:                                        ; preds = %if.end13.i, %if.end19, %if.end.i23, %land.lhs.true.i
  %retval.0.i22.ph = phi i16 [ 16650, %land.lhs.true.i ], [ 16650, %if.end.i23 ], [ 16650, %if.end19 ], [ 16386, %if.end13.i ]
  %status24 = getelementptr inbounds %struct.NvmeRequest, ptr %0, i64 0, i32 3
  store i16 %retval.0.i22.ph, ptr %status24, align 8
  %.pre = load i32, ptr %ret, align 8
  br label %done

if.end25:                                         ; preds = %if.end4.i, %if.end13.i
  %status27 = getelementptr inbounds %struct.NvmeNamespace, ptr %8, i64 0, i32 12
  store i16 132, ptr %status27, align 2
  tail call void @nvme_format_ns_cb(ptr noundef nonnull %iocb, i32 noundef 0)
  br label %return

done:                                             ; preds = %if.end15, %entry, %if.then23
  %14 = phi i32 [ %3, %if.end15 ], [ %3, %entry ], [ %.pre, %if.then23 ]
  %cb = getelementptr inbounds %struct.BlockAIOCB, ptr %iocb, i64 0, i32 2
  %15 = load ptr, ptr %cb, align 8
  %opaque = getelementptr inbounds %struct.BlockAIOCB, ptr %iocb, i64 0, i32 3
  %16 = load ptr, ptr %opaque, align 8
  tail call void %15(ptr noundef %16, i32 noundef %14) #17
  tail call void @qemu_aio_unref(ptr noundef nonnull %iocb) #17
  br label %return

return:                                           ; preds = %done, %if.end25
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_format_cancel(ptr nocapture noundef %aiocb) #0 {
entry:
  %ret = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %aiocb, i64 0, i32 3
  store i32 -125, ptr %ret, align 8
  %aiocb1 = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %aiocb, i64 0, i32 1
  %0 = load ptr, ptr %aiocb1, align 8
  %tobool.not = icmp eq ptr %0, null
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  tail call void @blk_aio_cancel_async(ptr noundef nonnull %0) #17
  store ptr null, ptr %aiocb1, align 8
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  ret void
}

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_format_ns_cb(ptr noundef %opaque, i32 noundef %ret) #0 {
entry:
  %_now.i.i.i = alloca %struct.timeval, align 8
  %ns1 = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %opaque, i64 0, i32 4
  %0 = load ptr, ptr %ns1, align 8
  %ret2 = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %opaque, i64 0, i32 3
  %1 = load i32, ptr %ret2, align 8
  %cmp = icmp slt i32 %1, 0
  br i1 %cmp, label %done, label %if.else

if.else:                                          ; preds = %entry
  %cmp3 = icmp slt i32 %ret, 0
  br i1 %cmp3, label %if.then4, label %if.end6

if.then4:                                         ; preds = %if.else
  store i32 %ret, ptr %ret2, align 8
  br label %done

if.end6:                                          ; preds = %if.else
  %tobool.not = icmp eq ptr %0, null
  br i1 %tobool.not, label %if.else8, label %if.end9

if.else8:                                         ; preds = %if.end6
  tail call void @__assert_fail(ptr noundef nonnull @.str.387, ptr noundef nonnull @.str.1, i32 noundef 6506, ptr noundef nonnull @__PRETTY_FUNCTION__.nvme_format_ns_cb) #18
  unreachable

if.end9:                                          ; preds = %if.end6
  %offset = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %opaque, i64 0, i32 7
  %2 = load i64, ptr %offset, align 8
  %size = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 3
  %3 = load i64, ptr %size, align 8
  %cmp10 = icmp slt i64 %2, %3
  br i1 %cmp10, label %if.then11, label %if.end19

if.then11:                                        ; preds = %if.end9
  %sub = sub i64 %3, %2
  %cond = tail call i64 @llvm.umin.i64(i64 %sub, i64 2147483136)
  %blkconf = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 1
  %4 = load ptr, ptr %blkconf, align 8
  %call = tail call ptr @blk_aio_pwrite_zeroes(ptr noundef %4, i64 noundef %2, i64 noundef %cond, i32 noundef 4, ptr noundef nonnull @nvme_format_ns_cb, ptr noundef nonnull %opaque) #17
  %aiocb = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %opaque, i64 0, i32 1
  store ptr %call, ptr %aiocb, align 8
  %5 = load i64, ptr %offset, align 8
  %add = add i64 %5, %cond
  store i64 %add, ptr %offset, align 8
  br label %return

if.end19:                                         ; preds = %if.end9
  %lbaf = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %opaque, i64 0, i32 8
  %6 = load i8, ptr %lbaf, align 8
  %mset = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %opaque, i64 0, i32 9
  %7 = load i8, ptr %mset, align 1
  %pi = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %opaque, i64 0, i32 10
  %8 = load i8, ptr %pi, align 2
  %pil = getelementptr inbounds %struct.NvmeFormatAIOCB, ptr %opaque, i64 0, i32 11
  %9 = load i8, ptr %pil, align 1
  %nsid.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 30, i32 2
  %10 = load i32, ptr %nsid.i, align 4
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %_now.i.i.i)
  %11 = load i32, ptr @trace_events_enabled_count, align 4
  %tobool.i.i.i = icmp ne i32 %11, 0
  %12 = load i16, ptr @_TRACE_PCI_NVME_FORMAT_SET_DSTATE, align 2
  %tobool4.i.i.i = icmp ne i16 %12, 0
  %or.cond.i.i.i = select i1 %tobool.i.i.i, i1 %tobool4.i.i.i, i1 false
  br i1 %or.cond.i.i.i, label %land.lhs.true5.i.i.i, label %nvme_format_set.exit

land.lhs.true5.i.i.i:                             ; preds = %if.end19
  %13 = load i32, ptr @qemu_loglevel, align 4
  %and.i.i.i.i = and i32 %13, 32768
  %cmp.i.not.i.i.i = icmp eq i32 %and.i.i.i.i, 0
  br i1 %cmp.i.not.i.i.i, label %nvme_format_set.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %land.lhs.true5.i.i.i
  %14 = load i8, ptr @message_with_timestamp, align 1
  %15 = and i8 %14, 1
  %tobool7.not.i.i.i = icmp eq i8 %15, 0
  br i1 %tobool7.not.i.i.i, label %if.else.i.i.i, label %if.then8.i.i.i

if.then8.i.i.i:                                   ; preds = %if.then.i.i.i
  %call9.i.i.i = call i32 @gettimeofday(ptr noundef nonnull %_now.i.i.i, ptr noundef null) #17
  %call10.i.i.i = tail call i32 @qemu_get_thread_id() #17
  %16 = load i64, ptr %_now.i.i.i, align 8
  %tv_usec.i.i.i = getelementptr inbounds %struct.timeval, ptr %_now.i.i.i, i64 0, i32 1
  %17 = load i64, ptr %tv_usec.i.i.i, align 8
  %conv11.i.i.i = zext i8 %6 to i32
  %conv12.i.i.i = zext i8 %7 to i32
  %conv13.i.i.i = zext i8 %8 to i32
  %conv14.i.i.i = zext i8 %9 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.418, i32 noundef %call10.i.i.i, i64 noundef %16, i64 noundef %17, i32 noundef %10, i32 noundef %conv11.i.i.i, i32 noundef %conv12.i.i.i, i32 noundef %conv13.i.i.i, i32 noundef %conv14.i.i.i) #17
  br label %nvme_format_set.exit

if.else.i.i.i:                                    ; preds = %if.then.i.i.i
  %conv15.i.i.i = zext i8 %6 to i32
  %conv16.i.i.i = zext i8 %7 to i32
  %conv17.i.i.i = zext i8 %8 to i32
  %conv18.i.i.i = zext i8 %9 to i32
  tail call void (ptr, ...) @qemu_log(ptr noundef nonnull @.str.419, i32 noundef %10, i32 noundef %conv15.i.i.i, i32 noundef %conv16.i.i.i, i32 noundef %conv17.i.i.i, i32 noundef %conv18.i.i.i) #17
  br label %nvme_format_set.exit

nvme_format_set.exit:                             ; preds = %if.end19, %land.lhs.true5.i.i.i, %if.then8.i.i.i, %if.else.i.i.i
  %and.i = and i8 %6, 15
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %_now.i.i.i)
  %shl.i = shl i8 %9, 3
  %or.i = or i8 %shl.i, %8
  %dps.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 5, i32 8
  store i8 %or.i, ptr %dps.i, align 1
  %18 = shl i8 %6, 1
  %shl8.i = and i8 %18, -32
  %shl10.i = shl i8 %7, 4
  %or11.i = or disjoint i8 %shl10.i, %and.i
  %or13.i = or i8 %or11.i, %shl8.i
  %flbas.i = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 5, i32 5
  store i8 %or13.i, ptr %flbas.i, align 2
  tail call void @nvme_ns_init_format(ptr noundef nonnull %0) #17
  %status = getelementptr inbounds %struct.NvmeNamespace, ptr %0, i64 0, i32 12
  store i16 0, ptr %status, align 2
  store ptr null, ptr %ns1, align 8
  store i64 0, ptr %offset, align 8
  br label %done

done:                                             ; preds = %entry, %nvme_format_set.exit, %if.then4
  tail call fastcc void @nvme_do_format(ptr noundef nonnull %opaque)
  br label %return

return:                                           ; preds = %done, %if.then11
  ret void
}

declare void @nvme_ns_init_format(ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_sq_notifier(ptr noundef %e) #0 {
entry:
  %call = tail call i32 @event_notifier_test_and_clear(ptr noundef %e) #17
  %tobool.not = icmp eq i32 %call, 0
  br i1 %tobool.not, label %return, label %if.end

if.end:                                           ; preds = %entry
  %add.ptr = getelementptr i8, ptr %e, i64 -56
  tail call void @nvme_process_sq(ptr noundef %add.ptr)
  br label %return

return:                                           ; preds = %entry, %if.end
  ret void
}

declare void @nvme_ns_drain(ptr noundef) local_unnamed_addr #1

declare void @pcie_sriov_pf_disable_vfs(ptr noundef) local_unnamed_addr #1

declare i32 @msix_present(ptr noundef) local_unnamed_addr #1

; Function Attrs: nounwind sspstrong uwtable
define internal i64 @nvme_cmb_read(ptr nocapture noundef readonly %opaque, i64 noundef %addr, i32 noundef %size) #0 {
entry:
  %buf = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 25, i32 1
  %0 = load ptr, ptr %buf, align 16
  %arrayidx = getelementptr i8, ptr %0, i64 %addr
  switch i32 %size, label %do.body.i [
    i32 1, label %sw.bb.i
    i32 2, label %sw.bb1.i
    i32 4, label %sw.bb4.i
    i32 8, label %sw.bb7.i
  ]

sw.bb.i:                                          ; preds = %entry
  %ptr.val6.i = load i8, ptr %arrayidx, align 1
  %conv.i = zext i8 %ptr.val6.i to i64
  br label %ldn_le_p.exit

sw.bb1.i:                                         ; preds = %entry
  %ptr.val.i = load i16, ptr %arrayidx, align 1
  %conv3.i = zext i16 %ptr.val.i to i64
  br label %ldn_le_p.exit

sw.bb4.i:                                         ; preds = %entry
  %ptr.val5.i = load i32, ptr %arrayidx, align 1
  %conv6.i = zext i32 %ptr.val5.i to i64
  br label %ldn_le_p.exit

sw.bb7.i:                                         ; preds = %entry
  %ptr.val4.i = load i64, ptr %arrayidx, align 1
  br label %ldn_le_p.exit

do.body.i:                                        ; preds = %entry
  tail call void @g_assertion_message_expr(ptr noundef null, ptr noundef nonnull @.str.104, i32 noundef 419, ptr noundef nonnull @__func__.ldn_le_p, ptr noundef null) #18
  unreachable

ldn_le_p.exit:                                    ; preds = %sw.bb.i, %sw.bb1.i, %sw.bb4.i, %sw.bb7.i
  %retval.0.i = phi i64 [ %ptr.val4.i, %sw.bb7.i ], [ %conv6.i, %sw.bb4.i ], [ %conv3.i, %sw.bb1.i ], [ %conv.i, %sw.bb.i ]
  ret i64 %retval.0.i
}

; Function Attrs: nounwind sspstrong uwtable
define internal void @nvme_cmb_write(ptr nocapture noundef readonly %opaque, i64 noundef %addr, i64 noundef %data, i32 noundef %size) #0 {
entry:
  %buf = getelementptr inbounds %struct.NvmeCtrl, ptr %opaque, i64 0, i32 25, i32 1
  %0 = load ptr, ptr %buf, align 16
  %arrayidx = getelementptr i8, ptr %0, i64 %addr
  switch i32 %size, label %do.body.i [
    i32 1, label %sw.bb.i
    i32 2, label %sw.bb1.i
    i32 4, label %sw.bb3.i
    i32 8, label %sw.bb5.i
  ]

sw.bb.i:                                          ; preds = %entry
  %conv.i = trunc i64 %data to i8
  store i8 %conv.i, ptr %arrayidx, align 1
  br label %stn_le_p.exit

sw.bb1.i:                                         ; preds = %entry
  %conv2.i = trunc i64 %data to i16
  store i16 %conv2.i, ptr %arrayidx, align 1
  br label %stn_le_p.exit

sw.bb3.i:                                         ; preds = %entry
  %conv4.i = trunc i64 %data to i32
  store i32 %conv4.i, ptr %arrayidx, align 1
  br label %stn_le_p.exit

sw.bb5.i:                                         ; preds = %entry
  store i64 %data, ptr %arrayidx, align 1
  br label %stn_le_p.exit

do.body.i:                                        ; preds = %entry
  tail call void @g_assertion_message_expr(ptr noundef null, ptr noundef nonnull @.str.104, i32 noundef 419, ptr noundef nonnull @__func__.stn_le_p, ptr noundef null) #18
  unreachable

stn_le_p.exit:                                    ; preds = %sw.bb.i, %sw.bb1.i, %sw.bb3.i, %sw.bb5.i
  ret void
}

declare void @pcie_sriov_pf_init(ptr noundef, i16 noundef zeroext, ptr noundef, i16 noundef zeroext, i16 noundef zeroext, i16 noundef zeroext, i16 noundef zeroext, i16 noundef zeroext) local_unnamed_addr #1

declare void @pcie_sriov_pf_init_vf_bar(ptr noundef, i32 noundef, i8 noundef zeroext, i64 noundef) local_unnamed_addr #1

; Function Attrs: nofree nounwind
declare noundef i32 @snprintf(ptr noalias nocapture noundef writeonly, i64 noundef, ptr nocapture noundef readonly, ...) local_unnamed_addr #4

declare void @pstrcpy(ptr noundef, i32 noundef, ptr noundef) local_unnamed_addr #1

declare void @pci_default_write_config(ptr noundef, i32 noundef, i32 noundef, i32 noundef) local_unnamed_addr #1

declare void @pcie_cap_flr_write_config(ptr noundef, i32 noundef, i32 noundef, i32 noundef) local_unnamed_addr #1

declare void @nvme_subsys_unregister_ctrl(ptr noundef, ptr noundef) local_unnamed_addr #1

declare void @pcie_sriov_pf_exit(ptr noundef) local_unnamed_addr #1

declare void @msix_uninit(ptr noundef, ptr noundef, ptr noundef) local_unnamed_addr #1

declare void @memory_region_del_subregion(ptr noundef, ptr noundef) local_unnamed_addr #1

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare i64 @llvm.umin.i64(i64, i64) #13

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare i32 @llvm.umin.i32(i32, i32) #13

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare i64 @llvm.smin.i64(i64, i64) #13

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare i32 @llvm.umax.i32(i32, i32) #13

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare i64 @llvm.ctpop.i64(i64) #13

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare i64 @llvm.uadd.sat.i64(i64, i64) #13

; Function Attrs: nofree nounwind willreturn memory(argmem: read)
declare i32 @bcmp(ptr nocapture, ptr nocapture, i64) local_unnamed_addr #14

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare i32 @llvm.fshl.i32(i32, i32, i32) #13

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare i8 @llvm.umin.i8(i8, i8) #13

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare i16 @llvm.umin.i16(i16, i16) #13

; Function Attrs: nocallback nofree nosync nounwind willreturn memory(argmem: readwrite)
declare void @llvm.lifetime.start.p0(i64 immarg, ptr nocapture) #15

; Function Attrs: nocallback nofree nosync nounwind willreturn memory(argmem: readwrite)
declare void @llvm.lifetime.end.p0(i64 immarg, ptr nocapture) #15

; Function Attrs: nocallback nofree nosync nounwind willreturn memory(inaccessiblemem: write)
declare void @llvm.assume(i1 noundef) #16

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare i16 @llvm.umax.i16(i16, i16) #13

attributes #0 = { nounwind sspstrong uwtable "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx16,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #1 = { "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx16,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #2 = { noreturn nounwind "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx16,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #3 = { allocsize(0,1) "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx16,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #4 = { nofree nounwind "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx16,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #5 = { mustprogress nocallback nofree nounwind willreturn memory(argmem: readwrite) }
attributes #6 = { mustprogress nocallback nofree nounwind willreturn memory(argmem: write) }
attributes #7 = { nounwind "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx16,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #8 = { mustprogress nocallback nofree nosync nounwind speculatable willreturn memory(none) }
attributes #9 = { noreturn "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx16,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #10 = { nofree norecurse nosync nounwind sspstrong memory(readwrite, inaccessiblemem: none) uwtable "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx16,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #11 = { allocsize(0) "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx16,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #12 = { mustprogress nofree norecurse nosync nounwind sspstrong willreturn memory(write, argmem: readwrite, inaccessiblemem: none) uwtable "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx16,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #13 = { nocallback nofree nosync nounwind speculatable willreturn memory(none) }
attributes #14 = { nofree nounwind willreturn memory(argmem: read) }
attributes #15 = { nocallback nofree nosync nounwind willreturn memory(argmem: readwrite) }
attributes #16 = { nocallback nofree nosync nounwind willreturn memory(inaccessiblemem: write) }
attributes #17 = { nounwind }
attributes #18 = { noreturn nounwind }
attributes #19 = { nounwind allocsize(0,1) }
attributes #20 = { nounwind allocsize(0) }

!llvm.module.flags = !{!0, !1, !2, !3, !4}

!0 = !{i32 1, !"wchar_size", i32 4}
!1 = !{i32 8, !"PIC Level", i32 2}
!2 = !{i32 7, !"PIE Level", i32 2}
!3 = !{i32 7, !"uwtable", i32 2}
!4 = !{i32 7, !"frame-pointer", i32 2}
!5 = !{i16 0, i16 16403}
!6 = distinct !{!6, !7}
!7 = !{!"llvm.loop.mustprogress"}
!8 = distinct !{!8, !7}
!9 = !{i16 0, i16 5}
!10 = !{i64 2152351320}
!11 = distinct !{!11, !7}
!12 = !{i16 0, i16 448}
!13 = distinct !{!13, !7}
!14 = distinct !{!14, !7}
!15 = distinct !{!15, !7}
!16 = !{i64 0, i64 65}
!17 = distinct !{!17, !7}
!18 = !{i16 0, i16 16673}
!19 = distinct !{!19, !7}
!20 = distinct !{!20, !7}
!21 = distinct !{!21, !7}
!22 = distinct !{!22, !7}
!23 = distinct !{!23, !7}
!24 = distinct !{!24, !7}
!25 = distinct !{!25, !7}
!26 = distinct !{!26, !7}
!27 = distinct !{!27, !7}
!28 = distinct !{!28, !7}
!29 = distinct !{!29, !7}
!30 = distinct !{!30, !7}
!31 = !{i16 1, i16 0}
!32 = distinct !{!32, !7}
!33 = distinct !{!33, !7}
!34 = distinct !{!34, !7}
!35 = distinct !{!35, !7}
!36 = distinct !{!36, !7}
!37 = distinct !{!37, !7}
!38 = distinct !{!38, !7}
!39 = distinct !{!39, !7}
!40 = distinct !{!40, !7}
!41 = distinct !{!41, !7}
!42 = distinct !{!42, !7}
!43 = distinct !{!43, !7}
!44 = !{i16 0, i16 444}
!45 = distinct !{!45, !7}
!46 = !{i32 -2147483648, i32 2}
!47 = !{i16 0, i16 16772}
!48 = !{i16 0, i16 16513}
!49 = distinct !{!49, !7}
!50 = distinct !{!50, !7}
!51 = distinct !{!51, !7}
!52 = distinct !{!52, !7}
!53 = distinct !{!53, !7}
!54 = distinct !{!54, !7}
!55 = distinct !{!55, !7, !56}
!56 = !{!"llvm.loop.unswitch.partial.disable"}
!57 = distinct !{!57, !7}
!58 = distinct !{!58, !7}
!59 = distinct !{!59, !7}
!60 = !{i16 0, i16 16831}
!61 = distinct !{!61, !7}
!62 = distinct !{!62, !7}
!63 = distinct !{!63, !7}
!64 = distinct !{!64, !7}
!65 = distinct !{null, null, ptr @nvme_offline_zone, ptr @nvme_open_zone}
!66 = distinct !{!66, !7}
!67 = distinct !{!67, !7}
!68 = distinct !{!68, !7}
!69 = distinct !{!69, !7}
!70 = distinct !{!70, !7}
!71 = distinct !{!71, !7, !56}
!72 = distinct !{!72, !7}
!73 = distinct !{!73, !7}
!74 = distinct !{!74, !7}
!75 = distinct !{!75, !7}
!76 = distinct !{!76, !7}
!77 = distinct !{!77, !7}
!78 = distinct !{!78, !7}
!79 = distinct !{!79, !7}
