; ModuleID = 'bench/proxygen/original/HTTPConnectorWithFizz.cpp.ll'
source_filename = "bench/proxygen/original/HTTPConnectorWithFizz.cpp.ll"
target datalayout = "e-m:e-p270:32:32-p271:32:32-p272:64:64-i64:64-i128:128-f80:128-n8:16:32:64-S128"
target triple = "x86_64-unknown-linux-gnu"

%"class.std::ios_base::Init" = type { i8 }
%"struct.wangle::TransportInfo" = type { %"class.std::chrono::time_point", %"class.std::chrono::time_point", %"class.std::chrono::duration.7", i64, i64, i64, i64, i64, i64, i64, i64, i64, %"class.std::__cxx11::basic_string", i32, %struct.tcp_info, %"class.std::chrono::duration", %"class.std::chrono::duration", %"class.std::shared_ptr.8", %"class.std::shared_ptr.8", %"class.std::shared_ptr.8", %"class.std::shared_ptr.8", %"class.std::shared_ptr.8", %"class.std::shared_ptr.8", %"class.std::shared_ptr.8", %"class.std::shared_ptr.8", %"class.std::shared_ptr.8", %"class.std::shared_ptr.8", %"class.std::shared_ptr.8", %"class.std::shared_ptr.8", %"class.std::shared_ptr.11", i64, i64, i64, %"class.std::shared_ptr.14", %"class.std::shared_ptr.14", %"class.std::shared_ptr.14", i32, i32, i32, %"class.std::__cxx11::basic_string", i16, %"class.std::shared_ptr.8", i16, i8, i32, i8, i8, %"class.std::__cxx11::basic_string", %"class.std::shared_ptr.17", %"class.std::shared_ptr.8", %"class.std::shared_ptr.8", i8, %"class.folly::Optional.20", %"class.std::__cxx11::basic_string" }
%"class.std::chrono::time_point" = type { %"class.std::chrono::duration.6" }
%"class.std::chrono::duration.6" = type { i64 }
%"class.std::chrono::duration.7" = type { i64 }
%struct.tcp_info = type { i8, i8, i8, i8, i8, i8, i8, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32 }
%"class.std::chrono::duration" = type { i64 }
%"class.std::shared_ptr.11" = type { %"class.std::__shared_ptr.12" }
%"class.std::__shared_ptr.12" = type { ptr, %"class.std::__shared_count" }
%"class.std::__shared_count" = type { ptr }
%"class.std::shared_ptr.14" = type { %"class.std::__shared_ptr.15" }
%"class.std::__shared_ptr.15" = type { ptr, %"class.std::__shared_count" }
%"class.std::shared_ptr.17" = type { %"class.std::__shared_ptr.18" }
%"class.std::__shared_ptr.18" = type { ptr, %"class.std::__shared_count" }
%"class.std::shared_ptr.8" = type { %"class.std::__shared_ptr.9" }
%"class.std::__shared_ptr.9" = type { ptr, %"class.std::__shared_count" }
%"class.folly::Optional.20" = type { %"struct.folly::Optional<unsigned char>::StorageTriviallyDestructible" }
%"struct.folly::Optional<unsigned char>::StorageTriviallyDestructible" = type { %union.anon.21, i8 }
%union.anon.21 = type { i8 }
%"class.std::__cxx11::basic_string" = type { %"struct.std::__cxx11::basic_string<char>::_Alloc_hider", i64, %union.anon.3 }
%"struct.std::__cxx11::basic_string<char>::_Alloc_hider" = type { ptr }
%union.anon.3 = type { i64, [8 x i8] }
%"class.std::shared_ptr" = type { %"class.std::__shared_ptr" }
%"class.std::__shared_ptr" = type { ptr, %"class.std::__shared_count" }
%"class.std::shared_ptr.64" = type { %"class.std::__shared_ptr.65" }
%"class.std::__shared_ptr.65" = type { ptr, %"class.std::__shared_count" }
%"struct.fizz::AsyncFizzBase::TransportOptions" = type { i8, i8, %"class.std::shared_ptr.50", i64, i64, ptr }
%"class.std::shared_ptr.50" = type { %"class.std::__shared_ptr.51" }
%"class.std::__shared_ptr.51" = type { ptr, %"class.std::__shared_count" }
%"class.std::shared_ptr.0" = type { %"class.std::__shared_ptr.1" }
%"class.std::__shared_ptr.1" = type { ptr, %"class.std::__shared_count" }
%"class.folly::Optional" = type { %"struct.folly::Optional<std::__cxx11::basic_string<char>>::StorageNonTriviallyDestructible" }
%"struct.folly::Optional<std::__cxx11::basic_string<char>>::StorageNonTriviallyDestructible" = type <{ %union.anon, i8, [7 x i8] }>
%union.anon = type { %"class.std::__cxx11::basic_string" }
%"class.proxygen::HTTPConnector" = type { %"class.folly::AsyncSocketTransport::ConnectCallback", ptr, %"class.proxygen::WheelTimerInstance", %"class.std::unique_ptr", %"struct.wangle::TransportInfo", %"class.std::__cxx11::basic_string", %"class.std::chrono::time_point", %"class.std::unique_ptr.22" }
%"class.folly::AsyncSocketTransport::ConnectCallback" = type { ptr }
%"class.proxygen::WheelTimerInstance" = type { ptr, %"class.std::chrono::duration" }
%"class.std::unique_ptr" = type { %"struct.std::__uniq_ptr_data" }
%"struct.std::__uniq_ptr_data" = type { %"class.std::__uniq_ptr_impl" }
%"class.std::__uniq_ptr_impl" = type { %"class.std::tuple" }
%"class.std::tuple" = type { %"struct.std::_Tuple_impl" }
%"struct.std::_Tuple_impl" = type { %"struct.std::_Head_base.5" }
%"struct.std::_Head_base.5" = type { ptr }
%"class.std::unique_ptr.22" = type { %"struct.std::__uniq_ptr_data.23" }
%"struct.std::__uniq_ptr_data.23" = type { %"class.std::__uniq_ptr_impl.24" }
%"class.std::__uniq_ptr_impl.24" = type { %"class.std::tuple.25" }
%"class.std::tuple.25" = type { %"struct.std::_Tuple_impl.26" }
%"struct.std::_Tuple_impl.26" = type { %"struct.std::_Head_base.29" }
%"struct.std::_Head_base.29" = type { ptr }
%"class.std::_Sp_counted_base" = type { ptr, i32, i32 }
%"class.fizz::client::AsyncFizzClientT" = type { %"class.fizz::AsyncFizzBase", %"class.folly::AsyncSocketTransport::ConnectCallback", %"class.folly::Optional.61", %"class.std::shared_ptr", %"class.std::shared_ptr.64", %"class.folly::Optional", %"class.folly::Optional", %"class.fizz::client::State", %"class.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::ActionMoveVisitor", %"class.fizz::client::FizzClient", %"class.folly::Optional.195", i32, ptr, %"class.std::shared_ptr.0", %"class.std::deque.197" }
%"class.fizz::AsyncFizzBase" = type { %"class.folly::WriteChainAsyncTransportWrapper", %"class.folly::AsyncWriter::WriteCallback", %"class.folly::AsyncReader::ReadCallback.base", %"class.folly::EventRecvmsgCallback", %"class.folly::IOBufQueue", %"struct.fizz::Aead::AeadOptions", %"struct.fizz::Aead::AeadOptions", ptr, %"class.std::unique_ptr.30", i64, i64, i64, ptr, ptr, %"class.fizz::AsyncFizzBase::HandshakeTimeout", ptr, ptr, %"struct.fizz::AsyncFizzBase::TransportOptions", %"class.std::unique_ptr.53", %"class.folly::IOBufQueue" }
%"class.folly::WriteChainAsyncTransportWrapper" = type { %"class.folly::DecoratedAsyncTransportWrapper" }
%"class.folly::DecoratedAsyncTransportWrapper" = type { %"class.folly::AsyncTransport", %"class.std::unique_ptr" }
%"class.folly::AsyncTransport" = type { %"class.folly::DelayedDestruction.base", %"class.folly::AsyncSocketBase", %"class.folly::AsyncReader", %"class.folly::AsyncWriter", ptr }
%"class.folly::DelayedDestruction.base" = type { %"class.folly::DelayedDestructionBase.base", i8 }
%"class.folly::DelayedDestructionBase.base" = type <{ ptr, i32 }>
%"class.folly::AsyncSocketBase" = type { ptr }
%"class.folly::AsyncReader" = type { ptr }
%"class.folly::AsyncWriter" = type { ptr }
%"class.folly::AsyncWriter::WriteCallback" = type { ptr }
%"class.folly::AsyncReader::ReadCallback.base" = type <{ ptr, i8 }>
%"class.folly::EventRecvmsgCallback" = type { ptr }
%"struct.fizz::Aead::AeadOptions" = type { i32, i32 }
%"class.std::unique_ptr.30" = type { %"struct.std::__uniq_ptr_data.31" }
%"struct.std::__uniq_ptr_data.31" = type { %"class.std::__uniq_ptr_impl.32" }
%"class.std::__uniq_ptr_impl.32" = type { %"class.std::tuple.33" }
%"class.std::tuple.33" = type { %"struct.std::_Tuple_impl.34" }
%"struct.std::_Tuple_impl.34" = type { %"struct.std::_Head_base.37" }
%"struct.std::_Head_base.37" = type { ptr }
%"class.fizz::AsyncFizzBase::HandshakeTimeout" = type { %"class.folly::AsyncTimeout", ptr }
%"class.folly::AsyncTimeout" = type { ptr, %"class.folly::EventBaseEvent", ptr, %"class.std::shared_ptr.47" }
%"class.folly::EventBaseEvent" = type { %struct.event, ptr, ptr, ptr, %"struct.folly::EventCallback" }
%struct.event = type { %struct.event_callback, %union.anon.39, i32, i16, i16, ptr, %union.anon.41, %struct.timeval }
%struct.event_callback = type { %struct.anon, i16, i8, i8, %union.anon.38, ptr }
%struct.anon = type { ptr, ptr }
%union.anon.38 = type { ptr }
%union.anon.39 = type { %struct.anon.40 }
%struct.anon.40 = type { ptr, ptr }
%union.anon.41 = type { %struct.anon.42 }
%struct.anon.42 = type { %struct.anon.43, %struct.timeval }
%struct.anon.43 = type { ptr, ptr }
%struct.timeval = type { i64, i64 }
%"struct.folly::EventCallback" = type { i32, %union.anon.46 }
%union.anon.46 = type { ptr }
%"class.std::shared_ptr.47" = type { %"class.std::__shared_ptr.48" }
%"class.std::__shared_ptr.48" = type { ptr, %"class.std::__shared_count" }
%"class.std::unique_ptr.53" = type { %"struct.std::__uniq_ptr_data.54" }
%"struct.std::__uniq_ptr_data.54" = type { %"class.std::__uniq_ptr_impl.55" }
%"class.std::__uniq_ptr_impl.55" = type { %"class.std::tuple.56" }
%"class.std::tuple.56" = type { %"struct.std::_Tuple_impl.57" }
%"struct.std::_Tuple_impl.57" = type { %"struct.std::_Head_base.60" }
%"struct.std::_Head_base.60" = type { ptr }
%"class.folly::IOBufQueue" = type { %"struct.folly::IOBufQueue::Options", i64, %"class.std::unique_ptr.30", ptr, ptr, %"struct.folly::IOBufQueue::WritableRangeCacheData", ptr }
%"struct.folly::IOBufQueue::Options" = type { i8 }
%"struct.folly::IOBufQueue::WritableRangeCacheData" = type <{ %"struct.std::pair", i8, [7 x i8] }>
%"struct.std::pair" = type { ptr, ptr }
%"class.folly::Optional.61" = type { %"struct.folly::Optional<fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::AsyncClientCallbackPtr>::StorageTriviallyDestructible" }
%"struct.folly::Optional<fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::AsyncClientCallbackPtr>::StorageTriviallyDestructible" = type { %union.anon.62, i8, [7 x i8] }
%union.anon.62 = type { %"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::AsyncClientCallbackPtr" }
%"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::AsyncClientCallbackPtr" = type <{ %union.anon.63, i8, [7 x i8] }>
%union.anon.63 = type { ptr }
%"class.fizz::client::State" = type { i32, %"class.std::shared_ptr", %"class.std::shared_ptr.0", %"class.std::unique_ptr.67", %"class.std::unique_ptr.75", %"class.std::unique_ptr.83", %"class.std::unique_ptr.91", %"class.std::unique_ptr.99", %"class.std::shared_ptr.107", %"class.std::shared_ptr.107", %"class.std::shared_ptr.110", %"class.folly::Optional.113", %"class.folly::Optional.115", %"class.folly::Optional.117", %"class.folly::Optional.119", %"class.folly::Optional.121", %"class.folly::Optional.115", %"class.folly::Optional.123", %"class.folly::Optional.125", [2 x i8], %"class.folly::Optional.127", %"class.folly::Optional.129", %"class.folly::Optional", %"class.folly::Optional", %"class.folly::Optional.131", [4 x i8], %"class.folly::Optional.133", %"class.folly::Optional.136", %"class.folly::Optional.138", [7 x i8], %"class.folly::Optional.140", i8, [7 x i8], %"class.folly::Optional.140", %"class.folly::Optional.142", %"class.folly::Optional.169", %"class.folly::Optional.174", %"class.folly::Optional.140", %"class.folly::Optional.140", %"class.folly::Optional.140", %"class.folly::Optional.181", %"class.folly::Optional.188", %"class.folly::Optional.140", %"class.std::shared_ptr.64" }
%"class.std::unique_ptr.67" = type { %"struct.std::__uniq_ptr_data.68" }
%"struct.std::__uniq_ptr_data.68" = type { %"class.std::__uniq_ptr_impl.69" }
%"class.std::__uniq_ptr_impl.69" = type { %"class.std::tuple.70" }
%"class.std::tuple.70" = type { %"struct.std::_Tuple_impl.71" }
%"struct.std::_Tuple_impl.71" = type { %"struct.std::_Head_base.74" }
%"struct.std::_Head_base.74" = type { ptr }
%"class.std::unique_ptr.75" = type { %"struct.std::__uniq_ptr_data.76" }
%"struct.std::__uniq_ptr_data.76" = type { %"class.std::__uniq_ptr_impl.77" }
%"class.std::__uniq_ptr_impl.77" = type { %"class.std::tuple.78" }
%"class.std::tuple.78" = type { %"struct.std::_Tuple_impl.79" }
%"struct.std::_Tuple_impl.79" = type { %"struct.std::_Head_base.82" }
%"struct.std::_Head_base.82" = type { ptr }
%"class.std::unique_ptr.83" = type { %"struct.std::__uniq_ptr_data.84" }
%"struct.std::__uniq_ptr_data.84" = type { %"class.std::__uniq_ptr_impl.85" }
%"class.std::__uniq_ptr_impl.85" = type { %"class.std::tuple.86" }
%"class.std::tuple.86" = type { %"struct.std::_Tuple_impl.87" }
%"struct.std::_Tuple_impl.87" = type { %"struct.std::_Head_base.90" }
%"struct.std::_Head_base.90" = type { ptr }
%"class.std::unique_ptr.91" = type { %"struct.std::__uniq_ptr_data.92" }
%"struct.std::__uniq_ptr_data.92" = type { %"class.std::__uniq_ptr_impl.93" }
%"class.std::__uniq_ptr_impl.93" = type { %"class.std::tuple.94" }
%"class.std::tuple.94" = type { %"struct.std::_Tuple_impl.95" }
%"struct.std::_Tuple_impl.95" = type { %"struct.std::_Head_base.98" }
%"struct.std::_Head_base.98" = type { ptr }
%"class.std::unique_ptr.99" = type { %"struct.std::__uniq_ptr_data.100" }
%"struct.std::__uniq_ptr_data.100" = type { %"class.std::__uniq_ptr_impl.101" }
%"class.std::__uniq_ptr_impl.101" = type { %"class.std::tuple.102" }
%"class.std::tuple.102" = type { %"struct.std::_Tuple_impl.103" }
%"struct.std::_Tuple_impl.103" = type { %"struct.std::_Head_base.106" }
%"struct.std::_Head_base.106" = type { ptr }
%"class.std::shared_ptr.107" = type { %"class.std::__shared_ptr.108" }
%"class.std::__shared_ptr.108" = type { ptr, %"class.std::__shared_count" }
%"class.std::shared_ptr.110" = type { %"class.std::__shared_ptr.111" }
%"class.std::__shared_ptr.111" = type { ptr, %"class.std::__shared_count" }
%"class.folly::Optional.113" = type { %"struct.folly::Optional<fizz::client::ClientAuthType>::StorageTriviallyDestructible" }
%"struct.folly::Optional<fizz::client::ClientAuthType>::StorageTriviallyDestructible" = type <{ %union.anon.114, i8, [3 x i8] }>
%union.anon.114 = type { i32 }
%"class.folly::Optional.117" = type { %"struct.folly::Optional<fizz::ProtocolVersion>::StorageTriviallyDestructible" }
%"struct.folly::Optional<fizz::ProtocolVersion>::StorageTriviallyDestructible" = type <{ %union.anon.118, i8, i8 }>
%union.anon.118 = type { i16 }
%"class.folly::Optional.119" = type { %"struct.folly::Optional<fizz::CipherSuite>::StorageTriviallyDestructible" }
%"struct.folly::Optional<fizz::CipherSuite>::StorageTriviallyDestructible" = type <{ %union.anon.120, i8, i8 }>
%union.anon.120 = type { i16 }
%"class.folly::Optional.121" = type { %"struct.folly::Optional<fizz::NamedGroup>::StorageTriviallyDestructible" }
%"struct.folly::Optional<fizz::NamedGroup>::StorageTriviallyDestructible" = type <{ %union.anon.122, i8, i8 }>
%union.anon.122 = type { i16 }
%"class.folly::Optional.115" = type { %"struct.folly::Optional<fizz::SignatureScheme>::StorageTriviallyDestructible" }
%"struct.folly::Optional<fizz::SignatureScheme>::StorageTriviallyDestructible" = type <{ %union.anon.116, i8, i8 }>
%union.anon.116 = type { i16 }
%"class.folly::Optional.123" = type { %"struct.folly::Optional<fizz::PskType>::StorageTriviallyDestructible" }
%"struct.folly::Optional<fizz::PskType>::StorageTriviallyDestructible" = type <{ %union.anon.124, i8, [3 x i8] }>
%union.anon.124 = type { i32 }
%"class.folly::Optional.125" = type { %"struct.folly::Optional<fizz::PskKeyExchangeMode>::StorageTriviallyDestructible" }
%"struct.folly::Optional<fizz::PskKeyExchangeMode>::StorageTriviallyDestructible" = type { %union.anon.126, i8 }
%union.anon.126 = type { i8 }
%"class.folly::Optional.127" = type { %"struct.folly::Optional<fizz::KeyExchangeType>::StorageTriviallyDestructible" }
%"struct.folly::Optional<fizz::KeyExchangeType>::StorageTriviallyDestructible" = type <{ %union.anon.128, i8, [3 x i8] }>
%union.anon.128 = type { i32 }
%"class.folly::Optional.129" = type { %"struct.folly::Optional<fizz::EarlyDataType>::StorageTriviallyDestructible" }
%"struct.folly::Optional<fizz::EarlyDataType>::StorageTriviallyDestructible" = type <{ %union.anon.130, i8, [3 x i8] }>
%union.anon.130 = type { i32 }
%"class.folly::Optional.131" = type { %"struct.folly::Optional<fizz::CertificateCompressionAlgorithm>::StorageTriviallyDestructible" }
%"struct.folly::Optional<fizz::CertificateCompressionAlgorithm>::StorageTriviallyDestructible" = type <{ %union.anon.132, i8, i8 }>
%union.anon.132 = type { i16 }
%"class.folly::Optional.133" = type { %"struct.folly::Optional<std::chrono::time_point<std::chrono::_V2::system_clock, std::chrono::duration<long, std::ratio<1, 1000000000>>>>::StorageTriviallyDestructible" }
%"struct.folly::Optional<std::chrono::time_point<std::chrono::_V2::system_clock, std::chrono::duration<long, std::ratio<1, 1000000000>>>>::StorageTriviallyDestructible" = type <{ %union.anon.134, i8, [7 x i8] }>
%union.anon.134 = type { %"class.std::chrono::time_point.135" }
%"class.std::chrono::time_point.135" = type { %"class.std::chrono::duration.6" }
%"class.folly::Optional.136" = type { %"struct.folly::Optional<fizz::client::EarlyDataParams>::StorageNonTriviallyDestructible" }
%"struct.folly::Optional<fizz::client::EarlyDataParams>::StorageNonTriviallyDestructible" = type <{ %union.anon.137, i8, [7 x i8] }>
%union.anon.137 = type { %"struct.fizz::client::EarlyDataParams" }
%"struct.fizz::client::EarlyDataParams" = type { i16, i16, %"class.std::shared_ptr.107", %"class.std::shared_ptr.107", %"class.folly::Optional", %"class.std::unique_ptr.30" }
%"class.folly::Optional.138" = type { %"struct.folly::Optional<std::array<unsigned char, 32>>::StorageTriviallyDestructible" }
%"struct.folly::Optional<std::array<unsigned char, 32>>::StorageTriviallyDestructible" = type { %union.anon.139, i8 }
%union.anon.139 = type { %"struct.std::array" }
%"struct.std::array" = type { [32 x i8] }
%"class.folly::Optional.142" = type { %"struct.folly::Optional<fizz::client::ECHState>::StorageNonTriviallyDestructible" }
%"struct.folly::Optional<fizz::client::ECHState>::StorageNonTriviallyDestructible" = type <{ %union.anon.143, i8, [7 x i8] }>
%union.anon.143 = type { %"struct.fizz::client::ECHState" }
%"struct.fizz::client::ECHState" = type { i32, %"class.std::unique_ptr.30", %"class.folly::Optional", %"struct.fizz::ech::SupportedECHConfig", %"struct.fizz::hpke::SetupResult", %"struct.std::array", %"class.folly::Optional.152", %"class.std::unique_ptr.99", %"class.folly::Optional.162" }
%"struct.fizz::ech::SupportedECHConfig" = type { %"struct.fizz::ech::ECHConfig", i8, i16, %"struct.fizz::ech::HpkeSymmetricCipherSuite" }
%"struct.fizz::ech::ECHConfig" = type { i16, %"class.std::unique_ptr.30" }
%"struct.fizz::ech::HpkeSymmetricCipherSuite" = type { i16, i16 }
%"struct.fizz::hpke::SetupResult" = type { %"class.std::unique_ptr.30", %"class.std::unique_ptr.144" }
%"class.std::unique_ptr.144" = type { %"struct.std::__uniq_ptr_data.145" }
%"struct.std::__uniq_ptr_data.145" = type { %"class.std::__uniq_ptr_impl.146" }
%"class.std::__uniq_ptr_impl.146" = type { %"class.std::tuple.147" }
%"class.std::tuple.147" = type { %"struct.std::_Tuple_impl.148" }
%"struct.std::_Tuple_impl.148" = type { %"struct.std::_Head_base.151" }
%"struct.std::_Head_base.151" = type { ptr }
%"class.folly::Optional.152" = type { %"struct.folly::Optional<fizz::ClientPresharedKey>::StorageNonTriviallyDestructible" }
%"struct.folly::Optional<fizz::ClientPresharedKey>::StorageNonTriviallyDestructible" = type <{ %union.anon.153, i8, [7 x i8] }>
%union.anon.153 = type { %"struct.fizz::ClientPresharedKey" }
%"struct.fizz::ClientPresharedKey" = type { %"class.std::vector", %"class.std::vector.157" }
%"class.std::vector" = type { %"struct.std::_Vector_base" }
%"struct.std::_Vector_base" = type { %"struct.std::_Vector_base<fizz::PskIdentity, std::allocator<fizz::PskIdentity>>::_Vector_impl" }
%"struct.std::_Vector_base<fizz::PskIdentity, std::allocator<fizz::PskIdentity>>::_Vector_impl" = type { %"struct.std::_Vector_base<fizz::PskIdentity, std::allocator<fizz::PskIdentity>>::_Vector_impl_data" }
%"struct.std::_Vector_base<fizz::PskIdentity, std::allocator<fizz::PskIdentity>>::_Vector_impl_data" = type { ptr, ptr, ptr }
%"class.std::vector.157" = type { %"struct.std::_Vector_base.158" }
%"struct.std::_Vector_base.158" = type { %"struct.std::_Vector_base<fizz::PskBinder, std::allocator<fizz::PskBinder>>::_Vector_impl" }
%"struct.std::_Vector_base<fizz::PskBinder, std::allocator<fizz::PskBinder>>::_Vector_impl" = type { %"struct.std::_Vector_base<fizz::PskBinder, std::allocator<fizz::PskBinder>>::_Vector_impl_data" }
%"struct.std::_Vector_base<fizz::PskBinder, std::allocator<fizz::PskBinder>>::_Vector_impl_data" = type { ptr, ptr, ptr }
%"class.folly::Optional.162" = type { %"struct.folly::Optional<std::vector<fizz::ech::ECHConfig>>::StorageNonTriviallyDestructible" }
%"struct.folly::Optional<std::vector<fizz::ech::ECHConfig>>::StorageNonTriviallyDestructible" = type <{ %union.anon.163, i8, [7 x i8] }>
%union.anon.163 = type { %"class.std::vector.164" }
%"class.std::vector.164" = type { %"struct.std::_Vector_base.165" }
%"struct.std::_Vector_base.165" = type { %"struct.std::_Vector_base<fizz::ech::ECHConfig, std::allocator<fizz::ech::ECHConfig>>::_Vector_impl" }
%"struct.std::_Vector_base<fizz::ech::ECHConfig, std::allocator<fizz::ech::ECHConfig>>::_Vector_impl" = type { %"struct.std::_Vector_base<fizz::ech::ECHConfig, std::allocator<fizz::ech::ECHConfig>>::_Vector_impl_data" }
%"struct.std::_Vector_base<fizz::ech::ECHConfig, std::allocator<fizz::ech::ECHConfig>>::_Vector_impl_data" = type { ptr, ptr, ptr }
%"class.folly::Optional.169" = type { %"struct.folly::Optional<std::map<fizz::NamedGroup, std::unique_ptr<fizz::KeyExchange>>>::StorageNonTriviallyDestructible" }
%"struct.folly::Optional<std::map<fizz::NamedGroup, std::unique_ptr<fizz::KeyExchange>>>::StorageNonTriviallyDestructible" = type <{ %union.anon.170, i8, [7 x i8] }>
%union.anon.170 = type { %"class.std::map" }
%"class.std::map" = type { %"class.std::_Rb_tree" }
%"class.std::_Rb_tree" = type { %"struct.std::_Rb_tree<fizz::NamedGroup, std::pair<const fizz::NamedGroup, std::unique_ptr<fizz::KeyExchange>>, std::_Select1st<std::pair<const fizz::NamedGroup, std::unique_ptr<fizz::KeyExchange>>>, std::less<fizz::NamedGroup>>::_Rb_tree_impl" }
%"struct.std::_Rb_tree<fizz::NamedGroup, std::pair<const fizz::NamedGroup, std::unique_ptr<fizz::KeyExchange>>, std::_Select1st<std::pair<const fizz::NamedGroup, std::unique_ptr<fizz::KeyExchange>>>, std::less<fizz::NamedGroup>>::_Rb_tree_impl" = type { %"struct.std::_Rb_tree_key_compare", %"struct.std::_Rb_tree_header" }
%"struct.std::_Rb_tree_key_compare" = type { %"struct.std::less" }
%"struct.std::less" = type { i8 }
%"struct.std::_Rb_tree_header" = type { %"struct.std::_Rb_tree_node_base", i64 }
%"struct.std::_Rb_tree_node_base" = type { i32, ptr, ptr, ptr }
%"class.folly::Optional.174" = type { %"struct.folly::Optional<std::vector<fizz::ExtensionType>>::StorageNonTriviallyDestructible" }
%"struct.folly::Optional<std::vector<fizz::ExtensionType>>::StorageNonTriviallyDestructible" = type <{ %union.anon.175, i8, [7 x i8] }>
%union.anon.175 = type { %"class.std::vector.176" }
%"class.std::vector.176" = type { %"struct.std::_Vector_base.177" }
%"struct.std::_Vector_base.177" = type { %"struct.std::_Vector_base<fizz::ExtensionType, std::allocator<fizz::ExtensionType>>::_Vector_impl" }
%"struct.std::_Vector_base<fizz::ExtensionType, std::allocator<fizz::ExtensionType>>::_Vector_impl" = type { %"struct.std::_Vector_base<fizz::ExtensionType, std::allocator<fizz::ExtensionType>>::_Vector_impl_data" }
%"struct.std::_Vector_base<fizz::ExtensionType, std::allocator<fizz::ExtensionType>>::_Vector_impl_data" = type { ptr, ptr, ptr }
%"class.folly::Optional.181" = type { %"struct.folly::Optional<std::vector<std::shared_ptr<const fizz::PeerCert>>>::StorageNonTriviallyDestructible" }
%"struct.folly::Optional<std::vector<std::shared_ptr<const fizz::PeerCert>>>::StorageNonTriviallyDestructible" = type <{ %union.anon.182, i8, [7 x i8] }>
%union.anon.182 = type { %"class.std::vector.183" }
%"class.std::vector.183" = type { %"struct.std::_Vector_base.184" }
%"struct.std::_Vector_base.184" = type { %"struct.std::_Vector_base<std::shared_ptr<const fizz::PeerCert>, std::allocator<std::shared_ptr<const fizz::PeerCert>>>::_Vector_impl" }
%"struct.std::_Vector_base<std::shared_ptr<const fizz::PeerCert>, std::allocator<std::shared_ptr<const fizz::PeerCert>>>::_Vector_impl" = type { %"struct.std::_Vector_base<std::shared_ptr<const fizz::PeerCert>, std::allocator<std::shared_ptr<const fizz::PeerCert>>>::_Vector_impl_data" }
%"struct.std::_Vector_base<std::shared_ptr<const fizz::PeerCert>, std::allocator<std::shared_ptr<const fizz::PeerCert>>>::_Vector_impl_data" = type { ptr, ptr, ptr }
%"class.folly::Optional.188" = type { %"struct.folly::Optional<fizz::client::CachedPsk>::StorageNonTriviallyDestructible" }
%"struct.folly::Optional<fizz::client::CachedPsk>::StorageNonTriviallyDestructible" = type <{ %union.anon.189, i8, [7 x i8] }>
%union.anon.189 = type { %"struct.fizz::client::CachedPsk" }
%"struct.fizz::client::CachedPsk" = type { %"class.std::__cxx11::basic_string", %"class.std::__cxx11::basic_string", i32, i16, i16, %"class.folly::Optional.121", %"class.std::shared_ptr.107", %"class.std::shared_ptr.107", i32, [4 x i8], %"class.folly::Optional", i32, %"class.std::chrono::time_point.135", %"class.std::chrono::time_point.135", %"class.std::chrono::time_point.135" }
%"class.folly::Optional.140" = type { %"struct.folly::Optional<std::unique_ptr<folly::IOBuf>>::StorageNonTriviallyDestructible" }
%"struct.folly::Optional<std::unique_ptr<folly::IOBuf>>::StorageNonTriviallyDestructible" = type <{ %union.anon.141, i8, [7 x i8] }>
%union.anon.141 = type { %"class.std::unique_ptr.30" }
%"class.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::ActionMoveVisitor" = type { ptr }
%"class.fizz::client::FizzClient" = type { %"class.fizz::FizzBase.base", [5 x i8] }
%"class.fizz::FizzBase.base" = type <{ ptr, %"class.fizz::client::ClientStateMachine", ptr, ptr, ptr, ptr, ptr, %"class.std::deque", i8, [7 x i8], %"class.folly::Optional.193", i8, i8, i8 }>
%"class.fizz::client::ClientStateMachine" = type { ptr }
%"class.std::deque" = type { %"class.std::_Deque_base" }
%"class.std::_Deque_base" = type { %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl" }
%"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl" = type { %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data" }
%"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data" = type { ptr, i64, %"struct.std::_Deque_iterator", %"struct.std::_Deque_iterator" }
%"struct.std::_Deque_iterator" = type { ptr, ptr, ptr, ptr }
%"class.folly::Optional.193" = type { %"struct.folly::Optional<folly::DelayedDestructionBase::DestructorGuard>::StorageNonTriviallyDestructible" }
%"struct.folly::Optional<folly::DelayedDestructionBase::DestructorGuard>::StorageNonTriviallyDestructible" = type <{ %union.anon.194, i8, [7 x i8] }>
%union.anon.194 = type { %"class.folly::DelayedDestructionBase::DestructorGuard" }
%"class.folly::DelayedDestructionBase::DestructorGuard" = type { ptr }
%"class.folly::Optional.195" = type { %"struct.folly::Optional<fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState>::StorageNonTriviallyDestructible" }
%"struct.folly::Optional<fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState>::StorageNonTriviallyDestructible" = type <{ %union.anon.196, i8, [7 x i8] }>
%union.anon.196 = type { %"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState" }
%"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState" = type { i32, %"class.folly::IOBufQueue", %"class.std::deque.197" }
%"class.std::deque.197" = type { %"class.std::_Deque_base.198" }
%"class.std::_Deque_base.198" = type { %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl" }
%"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl" = type { %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data" }
%"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data" = type { ptr, i64, %"struct.std::_Deque_iterator.202", %"struct.std::_Deque_iterator.202" }
%"struct.std::_Deque_iterator.202" = type { ptr, ptr, ptr, ptr }
%"class.folly::SocketAddress" = type <{ %"union.folly::SocketAddress::AddrStorage", i16, i8, [5 x i8] }>
%"union.folly::SocketAddress::AddrStorage" = type { %"struct.folly::SocketAddress::ExternalUnixAddr", [8 x i8] }
%"struct.folly::SocketAddress::ExternalUnixAddr" = type { ptr, i32 }
%"class.std::unique_ptr.214" = type { %"struct.std::__uniq_ptr_data.215" }
%"struct.std::__uniq_ptr_data.215" = type { %"class.std::__uniq_ptr_impl.216" }
%"class.std::__uniq_ptr_impl.216" = type { %"class.std::tuple.217" }
%"class.std::tuple.217" = type { %"struct.std::_Tuple_impl.218" }
%"struct.std::_Tuple_impl.218" = type { %"struct.std::_Head_base.221" }
%"struct.std::_Head_base.221" = type { ptr }
%"class.std::shared_ptr.312" = type { %"class.std::__shared_ptr.313" }
%"class.std::__shared_ptr.313" = type { ptr, %"class.std::__shared_count" }
%"class.std::_Sp_counted_ptr_inplace.598" = type { %"class.std::_Sp_counted_base", %"class.std::_Sp_counted_ptr_inplace<std::__cxx11::basic_string<char>, std::allocator<void>, __gnu_cxx::_S_atomic>::_Impl" }
%"class.std::_Sp_counted_ptr_inplace<std::__cxx11::basic_string<char>, std::allocator<void>, __gnu_cxx::_S_atomic>::_Impl" = type { %"struct.__gnu_cxx::__aligned_buffer.599" }
%"struct.__gnu_cxx::__aligned_buffer.599" = type { %"union.std::aligned_storage<32, 8>::type" }
%"union.std::aligned_storage<32, 8>::type" = type { [32 x i8] }
%"class.google::base::CheckOpMessageBuilder" = type { ptr }
%"struct.google::CheckOpString" = type { ptr }
%"class.google::LogMessageFatal" = type { %"class.google::LogMessage" }
%"class.google::LogMessage" = type { ptr, ptr, %"struct.google::LogMessageTime" }
%"struct.google::LogMessageTime" = type { %struct.tm, i64, i32, i64 }
%struct.tm = type { i32, i32, i32, i32, i32, i32, i32, i32, i32, i64, ptr }
%"class.proxygen::HTTPUpstreamSession" = type { %"class.proxygen::HTTPSession", i8, %"class.std::shared_ptr.312", %"class.std::unique_ptr.315" }
%"class.proxygen::HTTPSession" = type { %"class.proxygen::HTTPSessionBase.base", %"class.proxygen::HTTPTransaction::Transport", %"class.proxygen::ByteEventTracker::Callback", %"class.folly::AsyncTransport::BufferCallback", %"class.proxygen::HTTPPriorityMapFactoryProvider", %"class.proxygen::FlowControlFilter::Callback", %"class.proxygen::HTTPCodec::Callback", %"class.folly::EventBase::LoopCallback", %"class.folly::AsyncReader::ReadCallback.base", %"class.folly::AsyncTransport::ReplaySafetyCallback", %"class.folly::AsyncWriter::WriteCallback", %"class.proxygen::HTTPSession::WriteTimeout", %"class.folly::IOBufQueue", %"class.folly::IOBufQueue", %"class.folly::F14NodeMap", %"class.folly::F14FastSet", %"class.folly::F14FastSet", i32, %"class.std::unique_ptr", %"class.proxygen::WheelTimerInstance", i32, i8, %"class.std::__cxx11::list.268", %"class.folly::Optional.273", ptr, i32, i32, i32, i32, i64, i64, i64, %"class.std::vector.277", %"class.std::shared_ptr.282", %"class.std::unique_ptr.240", ptr, i64, i64, i64, i64, %"class.std::unique_ptr.285", %"class.proxygen::HTTPSession::FlowControlTimeout", %"class.proxygen::HTTPSession::DrainTimeout", %"class.std::unique_ptr.293", %"class.std::unique_ptr.301", i8, i8, i8, i8, %"class.proxygen::HTTPSession::ObserverAccessor", %"class.proxygen::HTTPSessionObserverContainer" }
%"class.proxygen::HTTPSessionBase.base" = type <{ %"class.wangle::ManagedConnection", ptr, ptr, %"struct.wangle::TransportInfo", %"class.proxygen::FilterChain", %"class.proxygen::HTTP2PriorityQueue", %"class.folly::SocketAddress", %"class.folly::SocketAddress", %"class.folly::Optional", i8, [7 x i8], %"class.std::unique_ptr.240", %"struct.std::array.248", ptr, %"class.std::chrono::time_point", %"class.std::chrono::duration.249", i32, i32, i32, i32, i32, i32, i64, i64, i32, i8, i8 }>
%"class.wangle::ManagedConnection" = type { %"class.folly::HHWheelTimerBase<std::chrono::duration<long, std::ratio<1, 1000>>>::Callback", %"class.folly::DelayedDestruction.base", i32, ptr, %"class.wangle::ConnectionAgeTimeout", %"class.folly::Optional.222", %"class.std::chrono::time_point", %"class.boost::intrusive::list_member_hook" }
%"class.folly::HHWheelTimerBase<std::chrono::duration<long, std::ratio<1, 1000>>>::Callback" = type { ptr, %"class.boost::intrusive::list_base_hook", ptr, %"class.std::chrono::time_point", i32, %"class.std::shared_ptr.47" }
%"class.boost::intrusive::list_base_hook" = type { %"class.boost::intrusive::generic_hook" }
%"class.boost::intrusive::generic_hook" = type { %"struct.boost::intrusive::node_holder" }
%"struct.boost::intrusive::node_holder" = type { %"struct.boost::intrusive::list_node" }
%"struct.boost::intrusive::list_node" = type { ptr, ptr }
%"class.wangle::ConnectionAgeTimeout" = type { %"class.folly::HHWheelTimerBase<std::chrono::duration<long, std::ratio<1, 1000>>>::Callback", ptr }
%"class.folly::Optional.222" = type { %"struct.folly::Optional<std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1, 1000000000>>>>::StorageTriviallyDestructible" }
%"struct.folly::Optional<std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1, 1000000000>>>>::StorageTriviallyDestructible" = type <{ %union.anon.223, i8, [7 x i8] }>
%union.anon.223 = type { %"class.std::chrono::time_point" }
%"class.boost::intrusive::list_member_hook" = type { %"class.boost::intrusive::generic_hook.224" }
%"class.boost::intrusive::generic_hook.224" = type { %"struct.boost::intrusive::list_node" }
%"class.proxygen::FilterChain" = type { %"class.proxygen::PassThroughHTTPCodecFilter", ptr }
%"class.proxygen::PassThroughHTTPCodecFilter" = type { %"class.proxygen::GenericFilter" }
%"class.proxygen::GenericFilter" = type { %"class.proxygen::HTTPCodec", %"class.proxygen::HTTPCodec::Callback", i8, i8, ptr, ptr, ptr, ptr, ptr, ptr }
%"class.proxygen::HTTPCodec" = type { ptr }
%"class.proxygen::HTTP2PriorityQueue" = type { %"class.proxygen::HTTP2PriorityQueueBase", %"class.folly::F14FastMap", %"class.proxygen::HTTP2PriorityQueue::Node", i32, i64, i32, i32, %"class.folly::Optional.238", i8, %"class.proxygen::WheelTimerInstance", ptr }
%"class.proxygen::HTTP2PriorityQueueBase" = type { %"class.proxygen::HTTPCodec::PriorityQueue", i64 }
%"class.proxygen::HTTPCodec::PriorityQueue" = type { ptr }
%"class.folly::F14FastMap" = type { %"class.folly::F14ValueMap" }
%"class.folly::F14ValueMap" = type { %"class.folly::f14::detail::F14BasicMap" }
%"class.folly::f14::detail::F14BasicMap" = type { %"class.folly::f14::detail::F14Table" }
%"class.folly::f14::detail::F14Table" = type { ptr, %"struct.folly::f14::detail::SizeAndChunkShiftAndPackedBegin" }
%"struct.folly::f14::detail::SizeAndChunkShiftAndPackedBegin" = type { %"struct.folly::f14::detail::PackedSizeAndChunkShift", %"class.folly::f14::detail::PackedChunkItemPtr" }
%"struct.folly::f14::detail::PackedSizeAndChunkShift" = type { i64 }
%"class.folly::f14::detail::PackedChunkItemPtr" = type { i64 }
%"class.proxygen::HTTP2PriorityQueue::Node" = type { %"class.proxygen::HTTP2PriorityQueueBase::BaseNode", %"class.folly::HHWheelTimerBase<std::chrono::duration<long, std::ratio<1, 1000>>>::Callback", ptr, ptr, i64, i16, ptr, i8, i8, i64, i64, %"class.std::__cxx11::list", %"struct.std::_List_iterator", %"class.boost::intrusive::list_member_hook.235", %"class.boost::intrusive::list" }
%"class.proxygen::HTTP2PriorityQueueBase::BaseNode" = type { ptr }
%"class.std::__cxx11::list" = type { %"class.std::__cxx11::_List_base" }
%"class.std::__cxx11::_List_base" = type { %"struct.std::__cxx11::_List_base<std::unique_ptr<proxygen::HTTP2PriorityQueue::Node>, std::allocator<std::unique_ptr<proxygen::HTTP2PriorityQueue::Node>>>::_List_impl" }
%"struct.std::__cxx11::_List_base<std::unique_ptr<proxygen::HTTP2PriorityQueue::Node>, std::allocator<std::unique_ptr<proxygen::HTTP2PriorityQueue::Node>>>::_List_impl" = type { %"struct.std::__detail::_List_node_header" }
%"struct.std::__detail::_List_node_header" = type { %"struct.std::__detail::_List_node_base", i64 }
%"struct.std::__detail::_List_node_base" = type { ptr, ptr }
%"struct.std::_List_iterator" = type { ptr }
%"class.boost::intrusive::list_member_hook.235" = type { %"class.boost::intrusive::generic_hook.236" }
%"class.boost::intrusive::generic_hook.236" = type { %"struct.boost::intrusive::list_node" }
%"class.boost::intrusive::list" = type { %"class.boost::intrusive::list_impl" }
%"class.boost::intrusive::list_impl" = type { %"struct.boost::intrusive::list_impl<boost::intrusive::mhtraits<proxygen::HTTP2PriorityQueue::Node, boost::intrusive::list_member_hook<boost::intrusive::link_mode<boost::intrusive::auto_unlink>>, &proxygen::HTTP2PriorityQueue::Node::enqueuedHook_>, unsigned long, false, void>::data_t" }
%"struct.boost::intrusive::list_impl<boost::intrusive::mhtraits<proxygen::HTTP2PriorityQueue::Node, boost::intrusive::list_member_hook<boost::intrusive::link_mode<boost::intrusive::auto_unlink>>, &proxygen::HTTP2PriorityQueue::Node::enqueuedHook_>, unsigned long, false, void>::data_t" = type { %"struct.boost::intrusive::list_impl<boost::intrusive::mhtraits<proxygen::HTTP2PriorityQueue::Node, boost::intrusive::list_member_hook<boost::intrusive::link_mode<boost::intrusive::auto_unlink>>, &proxygen::HTTP2PriorityQueue::Node::enqueuedHook_>, unsigned long, false, void>::root_plus_size" }
%"struct.boost::intrusive::list_impl<boost::intrusive::mhtraits<proxygen::HTTP2PriorityQueue::Node, boost::intrusive::list_member_hook<boost::intrusive::link_mode<boost::intrusive::auto_unlink>>, &proxygen::HTTP2PriorityQueue::Node::enqueuedHook_>, unsigned long, false, void>::root_plus_size" = type { %"struct.boost::intrusive::detail::default_header_holder" }
%"struct.boost::intrusive::detail::default_header_holder" = type { %"struct.boost::intrusive::list_node" }
%"class.folly::Optional.238" = type { %"struct.folly::Optional<unsigned long>::StorageTriviallyDestructible" }
%"struct.folly::Optional<unsigned long>::StorageTriviallyDestructible" = type <{ %union.anon.239, i8, [7 x i8] }>
%union.anon.239 = type { i64 }
%"struct.std::array.248" = type { [4 x ptr] }
%"class.std::chrono::duration.249" = type { i64 }
%"class.proxygen::HTTPTransaction::Transport" = type { ptr }
%"class.proxygen::ByteEventTracker::Callback" = type { ptr }
%"class.folly::AsyncTransport::BufferCallback" = type { ptr }
%"class.proxygen::HTTPPriorityMapFactoryProvider" = type { ptr }
%"class.proxygen::FlowControlFilter::Callback" = type { ptr }
%"class.proxygen::HTTPCodec::Callback" = type { ptr }
%"class.folly::EventBase::LoopCallback" = type { ptr, %"class.boost::intrusive::list_base_hook", %"class.std::shared_ptr.47" }
%"class.folly::AsyncTransport::ReplaySafetyCallback" = type { ptr }
%"class.proxygen::HTTPSession::WriteTimeout" = type { %"class.folly::HHWheelTimerBase<std::chrono::duration<long, std::ratio<1, 1000>>>::Callback", ptr }
%"class.folly::F14NodeMap" = type { %"class.folly::f14::detail::F14BasicMap.250" }
%"class.folly::f14::detail::F14BasicMap.250" = type { %"class.folly::f14::detail::F14Table.251" }
%"class.folly::f14::detail::F14Table.251" = type { ptr, %"struct.folly::f14::detail::SizeAndChunkShiftAndPackedBegin.257" }
%"struct.folly::f14::detail::SizeAndChunkShiftAndPackedBegin.257" = type { %"struct.folly::f14::detail::PackedSizeAndChunkShift", %"class.folly::f14::detail::PackedChunkItemPtr.258" }
%"class.folly::f14::detail::PackedChunkItemPtr.258" = type { i64 }
%"class.folly::F14FastSet" = type { %"class.folly::F14ValueSet" }
%"class.folly::F14ValueSet" = type { %"class.folly::f14::detail::F14BasicSet" }
%"class.folly::f14::detail::F14BasicSet" = type { %"class.folly::f14::detail::F14Table.259" }
%"class.folly::f14::detail::F14Table.259" = type { ptr, %"struct.folly::f14::detail::SizeAndChunkShiftAndPackedBegin.266" }
%"struct.folly::f14::detail::SizeAndChunkShiftAndPackedBegin.266" = type { %"struct.folly::f14::detail::PackedSizeAndChunkShift", %"class.folly::f14::detail::PackedChunkItemPtr.267" }
%"class.folly::f14::detail::PackedChunkItemPtr.267" = type { i64 }
%"class.std::__cxx11::list.268" = type { %"class.std::__cxx11::_List_base.269" }
%"class.std::__cxx11::_List_base.269" = type { %"struct.std::__cxx11::_List_base<folly::AsyncTransport::ReplaySafetyCallback *, std::allocator<folly::AsyncTransport::ReplaySafetyCallback *>>::_List_impl" }
%"struct.std::__cxx11::_List_base<folly::AsyncTransport::ReplaySafetyCallback *, std::allocator<folly::AsyncTransport::ReplaySafetyCallback *>>::_List_impl" = type { %"struct.std::__detail::_List_node_header" }
%"class.folly::Optional.273" = type { %"struct.folly::Optional<std::pair<unsigned long, folly::DelayedDestructionBase::DestructorGuard>>::StorageNonTriviallyDestructible" }
%"struct.folly::Optional<std::pair<unsigned long, folly::DelayedDestructionBase::DestructorGuard>>::StorageNonTriviallyDestructible" = type <{ %union.anon.274, i8, [7 x i8] }>
%union.anon.274 = type { %"struct.std::pair.275" }
%"struct.std::pair.275" = type { i64, %"class.folly::DelayedDestructionBase::DestructorGuard" }
%"class.std::vector.277" = type { %"struct.std::_Vector_base.278" }
%"struct.std::_Vector_base.278" = type { %"struct.std::_Vector_base<std::pair<proxygen::HTTPTransaction *, double>, std::allocator<std::pair<proxygen::HTTPTransaction *, double>>>::_Vector_impl" }
%"struct.std::_Vector_base<std::pair<proxygen::HTTPTransaction *, double>, std::allocator<std::pair<proxygen::HTTPTransaction *, double>>>::_Vector_impl" = type { %"struct.std::_Vector_base<std::pair<proxygen::HTTPTransaction *, double>, std::allocator<std::pair<proxygen::HTTPTransaction *, double>>>::_Vector_impl_data" }
%"struct.std::_Vector_base<std::pair<proxygen::HTTPTransaction *, double>, std::allocator<std::pair<proxygen::HTTPTransaction *, double>>>::_Vector_impl_data" = type { ptr, ptr, ptr }
%"class.std::shared_ptr.282" = type { %"class.std::__shared_ptr.283" }
%"class.std::__shared_ptr.283" = type { ptr, %"class.std::__shared_count" }
%"class.std::unique_ptr.240" = type { %"struct.std::__uniq_ptr_data.241" }
%"struct.std::__uniq_ptr_data.241" = type { %"class.std::__uniq_ptr_impl.242" }
%"class.std::__uniq_ptr_impl.242" = type { %"class.std::tuple.243" }
%"class.std::tuple.243" = type { %"struct.std::_Tuple_impl.244" }
%"struct.std::_Tuple_impl.244" = type { %"struct.std::_Head_base.247" }
%"struct.std::_Head_base.247" = type { ptr }
%"class.std::unique_ptr.285" = type { %"struct.std::__uniq_ptr_data.286" }
%"struct.std::__uniq_ptr_data.286" = type { %"class.std::__uniq_ptr_impl.287" }
%"class.std::__uniq_ptr_impl.287" = type { %"class.std::tuple.288" }
%"class.std::tuple.288" = type { %"struct.std::_Tuple_impl.289" }
%"struct.std::_Tuple_impl.289" = type { %"struct.std::_Head_base.292" }
%"struct.std::_Head_base.292" = type { ptr }
%"class.proxygen::HTTPSession::FlowControlTimeout" = type { %"class.folly::HHWheelTimerBase<std::chrono::duration<long, std::ratio<1, 1000>>>::Callback", ptr, %"class.std::chrono::duration" }
%"class.proxygen::HTTPSession::DrainTimeout" = type { %"class.folly::HHWheelTimerBase<std::chrono::duration<long, std::ratio<1, 1000>>>::Callback", ptr }
%"class.std::unique_ptr.293" = type { %"struct.std::__uniq_ptr_data.294" }
%"struct.std::__uniq_ptr_data.294" = type { %"class.std::__uniq_ptr_impl.295" }
%"class.std::__uniq_ptr_impl.295" = type { %"class.std::tuple.296" }
%"class.std::tuple.296" = type { %"struct.std::_Tuple_impl.297" }
%"struct.std::_Tuple_impl.297" = type { %"struct.std::_Head_base.300" }
%"struct.std::_Head_base.300" = type { ptr }
%"class.std::unique_ptr.301" = type { %"struct.std::__uniq_ptr_data.302" }
%"struct.std::__uniq_ptr_data.302" = type { %"class.std::__uniq_ptr_impl.303" }
%"class.std::__uniq_ptr_impl.303" = type { %"class.std::tuple.304" }
%"class.std::tuple.304" = type { %"struct.std::_Tuple_impl.305" }
%"struct.std::_Tuple_impl.305" = type { %"struct.std::_Head_base.308" }
%"struct.std::_Head_base.308" = type { ptr }
%"class.proxygen::HTTPSession::ObserverAccessor" = type { %"class.proxygen::HTTPSessionObserverAccessor", ptr }
%"class.proxygen::HTTPSessionObserverAccessor" = type { ptr }
%"class.proxygen::HTTPSessionObserverContainer" = type { %"class.folly::ObserverContainer.base", [7 x i8] }
%"class.folly::ObserverContainer.base" = type <{ %"class.folly::ObserverContainerBase", ptr, %"class.folly::ObserverContainerStore", %"class.folly::ConstructorCallbackList" }>
%"class.folly::ObserverContainerBase" = type { ptr }
%"class.folly::ObserverContainerStore" = type <{ %"class.folly::ObserverContainerStoreBase", %"class.folly::small_vector", i8, [3 x i8], %"class.folly::Optional.310", i8, [3 x i8] }>
%"class.folly::ObserverContainerStoreBase" = type { ptr }
%"class.folly::small_vector" = type { %"struct.boost::operators_impl::totally_ordered1", %"union.folly::small_vector<std::shared_ptr<folly::ObserverContainerBase<proxygen::HTTPSessionObserverInterface, proxygen::HTTPSessionObserverAccessor, folly::ObserverContainerBasePolicyDefault<proxygen::HTTPSessionObserverInterface::Events, 32>>::Observer>, 2>::Data" }
%"struct.boost::operators_impl::totally_ordered1" = type { %"struct.boost::operators_impl::less_than_comparable1" }
%"struct.boost::operators_impl::less_than_comparable1" = type { %"struct.boost::operators_impl::equality_comparable1" }
%"struct.boost::operators_impl::equality_comparable1" = type { %"struct.folly::detail::IntegralSizePolicy" }
%"struct.folly::detail::IntegralSizePolicy" = type { %"struct.folly::detail::IntegralSizePolicyBase" }
%"struct.folly::detail::IntegralSizePolicyBase" = type { i64 }
%"union.folly::small_vector<std::shared_ptr<folly::ObserverContainerBase<proxygen::HTTPSessionObserverInterface, proxygen::HTTPSessionObserverAccessor, folly::ObserverContainerBasePolicyDefault<proxygen::HTTPSessionObserverInterface::Events, 32>>::Observer>, 2>::Data" = type { %"struct.folly::small_vector<std::shared_ptr<folly::ObserverContainerBase<proxygen::HTTPSessionObserverInterface, proxygen::HTTPSessionObserverAccessor, folly::ObserverContainerBasePolicyDefault<proxygen::HTTPSessionObserverInterface::Events, 32>>::Observer>, 2>::HeapPtrWithCapacity", [16 x i8] }
%"struct.folly::small_vector<std::shared_ptr<folly::ObserverContainerBase<proxygen::HTTPSessionObserverInterface, proxygen::HTTPSessionObserverAccessor, folly::ObserverContainerBasePolicyDefault<proxygen::HTTPSessionObserverInterface::Events, 32>>::Observer>, 2>::HeapPtrWithCapacity" = type { ptr, i64 }
%"class.folly::Optional.310" = type { %"struct.folly::Optional<folly::ObserverContainerStoreBase<folly::ObserverContainerBase<proxygen::HTTPSessionObserverInterface, proxygen::HTTPSessionObserverAccessor, folly::ObserverContainerBasePolicyDefault<proxygen::HTTPSessionObserverInterface::Events, 32>>::Observer>::InvokeWhileIteratingPolicy>::StorageTriviallyDestructible" }
%"struct.folly::Optional<folly::ObserverContainerStoreBase<folly::ObserverContainerBase<proxygen::HTTPSessionObserverInterface, proxygen::HTTPSessionObserverAccessor, folly::ObserverContainerBasePolicyDefault<proxygen::HTTPSessionObserverInterface::Events, 32>>::Observer>::InvokeWhileIteratingPolicy>::StorageTriviallyDestructible" = type <{ %union.anon.311, i8, [3 x i8] }>
%union.anon.311 = type { i32 }
%"class.folly::ConstructorCallbackList" = type { i8 }
%"class.std::unique_ptr.315" = type { %"struct.std::__uniq_ptr_data.316" }
%"struct.std::__uniq_ptr_data.316" = type { %"class.std::__uniq_ptr_impl.317" }
%"class.std::__uniq_ptr_impl.317" = type { %"class.std::tuple.318" }
%"class.std::tuple.318" = type { %"struct.std::_Tuple_impl.319" }
%"struct.std::_Tuple_impl.319" = type { %"struct.std::_Head_base.322" }
%"struct.std::_Head_base.322" = type { ptr }
%"class.proxygen::HTTPSessionBase" = type <{ %"class.wangle::ManagedConnection", ptr, ptr, %"struct.wangle::TransportInfo", %"class.proxygen::FilterChain", %"class.proxygen::HTTP2PriorityQueue", %"class.folly::SocketAddress", %"class.folly::SocketAddress", %"class.folly::Optional", i8, [7 x i8], %"class.std::unique_ptr.240", %"struct.std::array.248", ptr, %"class.std::chrono::time_point", %"class.std::chrono::duration.249", i32, i32, i32, i32, i32, i32, i64, i64, i32, i8, i8, [2 x i8] }>
%"class.folly::OptionalEmptyException" = type { %"class.std::runtime_error" }
%"class.std::runtime_error" = type { %"class.std::exception", %"struct.std::__cow_string" }
%"class.std::exception" = type { ptr }
%"struct.std::__cow_string" = type { %union.anon.323 }
%union.anon.323 = type { ptr }
%"class.fizz::FizzBase" = type <{ ptr, %"class.fizz::client::ClientStateMachine", ptr, ptr, ptr, ptr, ptr, %"class.std::deque", i8, [7 x i8], %"class.folly::Optional.193", i8, i8, i8, [5 x i8] }>
%"class.folly::DelayedDestructionBase" = type <{ ptr, i32, [4 x i8] }>
%"class.folly::DelayedDestruction" = type { %"class.folly::DelayedDestructionBase.base", i8, [3 x i8] }
%"class.folly::AsyncSocketException" = type { %"class.std::runtime_error", i32, i32 }
%"class.std::allocator" = type { i8 }
%"class.fizz::client::FizzClientContext" = type { ptr, %"class.std::shared_ptr.457", %"class.std::vector.460", %"class.std::vector.465", %"class.std::vector.414", %"class.std::vector.470", %"class.std::vector.470", %"class.std::vector.475", %"class.std::vector.480", i8, i8, i8, i8, i32, %"class.std::shared_ptr.485", %"class.std::shared_ptr.110", %"class.std::shared_ptr.488", %"class.std::shared_ptr.491", %"class.std::chrono::duration.249" }
%"class.std::shared_ptr.457" = type { %"class.std::__shared_ptr.458" }
%"class.std::__shared_ptr.458" = type { ptr, %"class.std::__shared_count" }
%"class.std::vector.460" = type { %"struct.std::_Vector_base.461" }
%"struct.std::_Vector_base.461" = type { %"struct.std::_Vector_base<fizz::ProtocolVersion, std::allocator<fizz::ProtocolVersion>>::_Vector_impl" }
%"struct.std::_Vector_base<fizz::ProtocolVersion, std::allocator<fizz::ProtocolVersion>>::_Vector_impl" = type { %"struct.std::_Vector_base<fizz::ProtocolVersion, std::allocator<fizz::ProtocolVersion>>::_Vector_impl_data" }
%"struct.std::_Vector_base<fizz::ProtocolVersion, std::allocator<fizz::ProtocolVersion>>::_Vector_impl_data" = type { ptr, ptr, ptr }
%"class.std::vector.465" = type { %"struct.std::_Vector_base.466" }
%"struct.std::_Vector_base.466" = type { %"struct.std::_Vector_base<fizz::CipherSuite, std::allocator<fizz::CipherSuite>>::_Vector_impl" }
%"struct.std::_Vector_base<fizz::CipherSuite, std::allocator<fizz::CipherSuite>>::_Vector_impl" = type { %"struct.std::_Vector_base<fizz::CipherSuite, std::allocator<fizz::CipherSuite>>::_Vector_impl_data" }
%"struct.std::_Vector_base<fizz::CipherSuite, std::allocator<fizz::CipherSuite>>::_Vector_impl_data" = type { ptr, ptr, ptr }
%"class.std::vector.414" = type { %"struct.std::_Vector_base.415" }
%"struct.std::_Vector_base.415" = type { %"struct.std::_Vector_base<fizz::SignatureScheme, std::allocator<fizz::SignatureScheme>>::_Vector_impl" }
%"struct.std::_Vector_base<fizz::SignatureScheme, std::allocator<fizz::SignatureScheme>>::_Vector_impl" = type { %"struct.std::_Vector_base<fizz::SignatureScheme, std::allocator<fizz::SignatureScheme>>::_Vector_impl_data" }
%"struct.std::_Vector_base<fizz::SignatureScheme, std::allocator<fizz::SignatureScheme>>::_Vector_impl_data" = type { ptr, ptr, ptr }
%"class.std::vector.470" = type { %"struct.std::_Vector_base.471" }
%"struct.std::_Vector_base.471" = type { %"struct.std::_Vector_base<fizz::NamedGroup, std::allocator<fizz::NamedGroup>>::_Vector_impl" }
%"struct.std::_Vector_base<fizz::NamedGroup, std::allocator<fizz::NamedGroup>>::_Vector_impl" = type { %"struct.std::_Vector_base<fizz::NamedGroup, std::allocator<fizz::NamedGroup>>::_Vector_impl_data" }
%"struct.std::_Vector_base<fizz::NamedGroup, std::allocator<fizz::NamedGroup>>::_Vector_impl_data" = type { ptr, ptr, ptr }
%"class.std::vector.475" = type { %"struct.std::_Vector_base.476" }
%"struct.std::_Vector_base.476" = type { %"struct.std::_Vector_base<fizz::PskKeyExchangeMode, std::allocator<fizz::PskKeyExchangeMode>>::_Vector_impl" }
%"struct.std::_Vector_base<fizz::PskKeyExchangeMode, std::allocator<fizz::PskKeyExchangeMode>>::_Vector_impl" = type { %"struct.std::_Vector_base<fizz::PskKeyExchangeMode, std::allocator<fizz::PskKeyExchangeMode>>::_Vector_impl_data" }
%"struct.std::_Vector_base<fizz::PskKeyExchangeMode, std::allocator<fizz::PskKeyExchangeMode>>::_Vector_impl_data" = type { ptr, ptr, ptr }
%"class.std::vector.480" = type { %"struct.std::_Vector_base.481" }
%"struct.std::_Vector_base.481" = type { %"struct.std::_Vector_base<std::__cxx11::basic_string<char>, std::allocator<std::__cxx11::basic_string<char>>>::_Vector_impl" }
%"struct.std::_Vector_base<std::__cxx11::basic_string<char>, std::allocator<std::__cxx11::basic_string<char>>>::_Vector_impl" = type { %"struct.std::_Vector_base<std::__cxx11::basic_string<char>, std::allocator<std::__cxx11::basic_string<char>>>::_Vector_impl_data" }
%"struct.std::_Vector_base<std::__cxx11::basic_string<char>, std::allocator<std::__cxx11::basic_string<char>>>::_Vector_impl_data" = type { ptr, ptr, ptr }
%"class.std::shared_ptr.485" = type { %"class.std::__shared_ptr.486" }
%"class.std::__shared_ptr.486" = type { ptr, %"class.std::__shared_count" }
%"class.std::shared_ptr.488" = type { %"class.std::__shared_ptr.489" }
%"class.std::__shared_ptr.489" = type { ptr, %"class.std::__shared_count" }
%"class.std::shared_ptr.491" = type { %"class.std::__shared_ptr.492" }
%"class.std::__shared_ptr.492" = type { ptr, %"class.std::__shared_count" }
%"class.std::function.332" = type { %"class.std::_Function_base", ptr }
%"class.std::_Function_base" = type { %"union.std::_Any_data", ptr }
%"union.std::_Any_data" = type { %"union.std::_Nocopy_types" }
%"union.std::_Nocopy_types" = type { { i64, i64 } }
%"struct.fizz::AppWrite" = type <{ ptr, %"class.std::unique_ptr.30", i32, %"struct.fizz::Aead::AeadOptions", [4 x i8] }>
%"struct.fizz::EarlyAppWrite" = type <{ ptr, %"class.std::unique_ptr.30", i32, %"struct.fizz::Aead::AeadOptions", [4 x i8] }>
%"class.folly::IOBuf" = type { i64, ptr, i64, ptr, ptr, ptr, i64 }
%"struct.folly::IOBuf::SharedInfo" = type <{ ptr, ptr, ptr, %"struct.std::atomic", i8, i8, %"struct.folly::MicroSpinLock", i8 }>
%"struct.std::atomic" = type { %"struct.std::__atomic_base" }
%"struct.std::__atomic_base" = type { i32 }
%"struct.folly::MicroSpinLock" = type { i8 }
%"class.std::shared_ptr.573" = type { %"class.std::__shared_ptr.574" }
%"class.std::__shared_ptr.574" = type { ptr, %"class.std::__shared_count" }
%"class.std::_Sp_counted_ptr_inplace" = type { %"class.std::_Sp_counted_base", %"class.std::_Sp_counted_ptr_inplace<fizz::DefaultCertificateVerifier, std::allocator<void>, __gnu_cxx::_S_atomic>::_Impl" }
%"class.std::_Sp_counted_ptr_inplace<fizz::DefaultCertificateVerifier, std::allocator<void>, __gnu_cxx::_S_atomic>::_Impl" = type { %"struct.__gnu_cxx::__aligned_buffer" }
%"struct.__gnu_cxx::__aligned_buffer" = type { %"union.std::aligned_storage<56, 8>::type" }
%"union.std::aligned_storage<56, 8>::type" = type { [56 x i8] }
%"class.folly::Optional.523" = type { %"struct.folly::Optional<fizz::KeyLogWriter::Label>::StorageTriviallyDestructible" }
%"struct.folly::Optional<fizz::KeyLogWriter::Label>::StorageTriviallyDestructible" = type <{ %union.anon.524, i8, [3 x i8] }>
%union.anon.524 = type { i32 }
%"struct.fizz::SecretType" = type { %union.anon.454, i32 }
%union.anon.454 = type { i32 }
%"class.folly::small_vector.437" = type { %"struct.boost::operators_impl::totally_ordered1.438", [8 x i8], %"union.folly::small_vector<fizz::client::Action, 4>::Data" }
%"struct.boost::operators_impl::totally_ordered1.438" = type { %"struct.boost::operators_impl::less_than_comparable1.439" }
%"struct.boost::operators_impl::less_than_comparable1.439" = type { %"struct.boost::operators_impl::equality_comparable1.440" }
%"struct.boost::operators_impl::equality_comparable1.440" = type { %"struct.folly::detail::IntegralSizePolicy" }
%"union.folly::small_vector<fizz::client::Action, 4>::Data" = type { %"struct.folly::small_vector<fizz::client::Action, 4>::HeapPtrWithCapacity", [816 x i8] }
%"struct.folly::small_vector<fizz::client::Action, 4>::HeapPtrWithCapacity" = type { ptr, i64 }
%"struct.fizz::client::Action" = type <{ %union.anon.442, i32, [12 x i8] }>
%union.anon.442 = type { %"struct.fizz::client::NewCachedPsk" }
%"struct.fizz::client::NewCachedPsk" = type { %"struct.fizz::client::CachedPsk" }
%"class.folly::Function" = type { %"union.folly::detail::function::Data", ptr, ptr }
%"union.folly::detail::function::Data" = type { ptr, [40 x i8] }
%"struct.std::_Vector_base<unsigned char, std::allocator<unsigned char>>::_Vector_impl_data" = type { ptr, ptr, ptr }
%"struct.fizz::DerivedSecret" = type { %"class.std::vector.449", %"struct.fizz::SecretType" }
%"class.std::vector.449" = type { %"struct.std::_Vector_base.450" }
%"struct.std::_Vector_base.450" = type { %"struct.std::_Vector_base<unsigned char, std::allocator<unsigned char>>::_Vector_impl" }
%"struct.std::_Vector_base<unsigned char, std::allocator<unsigned char>>::_Vector_impl" = type { %"struct.std::_Vector_base<unsigned char, std::allocator<unsigned char>>::_Vector_impl_data" }
%"struct.fizz::detail::PendingEvent" = type <{ %union.anon.429, i32, [4 x i8] }>
%union.anon.429 = type { %"struct.fizz::WriteNewSessionTicket", [24 x i8] }
%"struct.fizz::WriteNewSessionTicket" = type { %"class.std::unique_ptr.30" }
%"struct.fizz::WriteToSocket" = type <{ ptr, %"class.folly::small_vector.443", i32, [4 x i8] }>
%"class.folly::small_vector.443" = type { %"struct.boost::operators_impl::totally_ordered1.444", %"union.folly::small_vector<fizz::TLSContent, 4>::Data" }
%"struct.boost::operators_impl::totally_ordered1.444" = type { %"struct.boost::operators_impl::less_than_comparable1.445" }
%"struct.boost::operators_impl::less_than_comparable1.445" = type { %"struct.boost::operators_impl::equality_comparable1.446" }
%"struct.boost::operators_impl::equality_comparable1.446" = type { %"struct.folly::detail::IntegralSizePolicy" }
%"union.folly::small_vector<fizz::TLSContent, 4>::Data" = type { %"struct.folly::small_vector<fizz::TLSContent, 4>::HeapPtrWithCapacity", [48 x i8] }
%"struct.folly::small_vector<fizz::TLSContent, 4>::HeapPtrWithCapacity" = type { ptr, i64 }
%"struct.fizz::TLSContent" = type { %"class.std::unique_ptr.30", i8, i32 }
%"class.folly::Optional.455" = type { %"struct.folly::Optional<folly::AsyncSocketException>::StorageNonTriviallyDestructible" }
%"struct.folly::Optional<folly::AsyncSocketException>::StorageNonTriviallyDestructible" = type <{ %union.anon.456, i8, [7 x i8] }>
%union.anon.456 = type { %"class.folly::AsyncSocketException" }
%"class.folly::basic_fbstring" = type { %"class.folly::fbstring_core" }
%"class.folly::fbstring_core" = type { %union.anon.517 }
%union.anon.517 = type { %"struct.folly::fbstring_core<char>::MediumLarge" }
%"struct.folly::fbstring_core<char>::MediumLarge" = type { ptr, i64, i64 }
%"class.folly::exception_wrapper" = type { %"class.std::__exception_ptr::exception_ptr" }
%"class.std::__exception_ptr::exception_ptr" = type { ptr }
%struct.Initializer = type { i8 }
%"class.folly::Optional.494" = type { %"struct.folly::Optional<folly::small_vector<fizz::client::Action, 4>>::StorageNonTriviallyDestructible" }
%"struct.folly::Optional<folly::small_vector<fizz::client::Action, 4>>::StorageNonTriviallyDestructible" = type <{ %union.anon.495, i8, [15 x i8] }>
%union.anon.495 = type { %"class.folly::small_vector.437" }
%struct.Initializer.497 = type { i8 }
%struct.Initializer.496 = type { i8 }
%"class.std::bad_function_call" = type { %"class.std::exception" }
%struct._Guard = type { ptr }
%class.anon.504 = type { ptr }
%class.anon.503 = type { ptr }
%"class.std::type_info" = type { ptr, ptr }
%"struct.folly::fbstring_core<char>::RefCounted" = type <{ %"struct.std::atomic.519", [1 x i8], [7 x i8] }>
%"struct.std::atomic.519" = type { %"struct.std::__atomic_base.520" }
%"struct.std::__atomic_base.520" = type { i64 }
%"class.std::length_error" = type { %"class.std::logic_error" }
%"class.std::logic_error" = type { %"class.std::exception", %"struct.std::__cow_string" }
%"class.std::bad_alloc" = type { %"class.std::exception" }
%"class.std::__shared_ptr.526" = type { ptr, %"class.std::__shared_count" }
%"class.std::shared_ptr.525" = type { %"class.std::__shared_ptr.526" }
%"struct.std::_Rb_tree_node" = type { %"struct.std::_Rb_tree_node_base", %"struct.__gnu_cxx::__aligned_membuf" }
%"struct.__gnu_cxx::__aligned_membuf" = type { [16 x i8] }
%"struct.fizz::PskBinder" = type { %"class.std::unique_ptr.30" }
%"struct.fizz::PskIdentity" = type <{ %"class.std::unique_ptr.30", i32, [4 x i8] }>
%"class.folly::Range" = type { ptr, ptr }
%"struct.std::_Vector_base<fizz::DistinguishedName, std::allocator<fizz::DistinguishedName>>::_Vector_impl_data" = type { ptr, ptr, ptr }
%"struct.fizz::DistinguishedName" = type { %"class.std::unique_ptr.30" }

$_ZN6wangle13TransportInfoaSEOS0_ = comdat any

$_ZN6wangle13TransportInfoD2Ev = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEC2EPN5folly9EventBaseESt10shared_ptrIKNS0_17FizzClientContextEERKS7_INS_16ClientExtensionsEENS_13AsyncFizzBase16TransportOptionsE = comdat any

$_ZN4fizz13AsyncFizzBase16TransportOptionsD2Ev = comdat any

$_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev = comdat any

$_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev = comdat any

$_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev = comdat any

$__clang_call_terminate = comdat any

$_ZN8proxygen19HTTPUpstreamSessionC2ERKNS_18WheelTimerInstanceEOSt10unique_ptrIN5folly14AsyncTransportENS5_18DelayedDestruction10DestructorEERKNS5_13SocketAddressESD_S4_INS_9HTTPCodecESt14default_deleteISE_EERKN6wangle13TransportInfoEPNS_15HTTPSessionBase12InfoCallbackEhSt10shared_ptrIKNSM_18PriorityMapFactoryEE = comdat any

$_ZNSt10shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryEED2Ev = comdat any

$_ZN8proxygen21HTTPConnectorWithFizzD2Ev = comdat any

$_ZN8proxygen21HTTPConnectorWithFizzD0Ev = comdat any

$_ZN5folly20AsyncSocketTransport15ConnectCallback10preConnectENS_13NetworkSocketE = comdat any

$_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_ = comdat any

$_ZN5folly15throw_exceptionINS_22OptionalEmptyExceptionEEEvOT_ = comdat any

$_ZN5folly22OptionalEmptyExceptionD2Ev = comdat any

$_ZN5folly22OptionalEmptyExceptionC2EOS0_ = comdat any

$_ZN5folly22OptionalEmptyExceptionD0Ev = comdat any

$_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEED2Ev = comdat any

$_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_ED2Ev = comdat any

$_ZN4fizz6client5StateD2Ev = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED2Ev = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev = comdat any

$_ZN5folly18DelayedDestruction16onDelayedDestroyEb = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE5closeEv = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE8closeNowEv = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE14closeWithResetEv = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE13shutdownWriteEv = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE16shutdownWriteNowEv = comdat any

$_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE4goodEv = comdat any

$_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE8readableEv = comdat any

$_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE8writableEv = comdat any

$_ZNK5folly14AsyncTransport9isPendingEv = comdat any

$_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE10connectingEv = comdat any

$_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE5errorEv = comdat any

$_ZN4fizz13AsyncFizzBase15attachEventBaseEPN5folly9EventBaseE = comdat any

$_ZN4fizz13AsyncFizzBase15detachEventBaseEv = comdat any

$_ZNK4fizz13AsyncFizzBase12isDetachableEv = comdat any

$_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE14setSendTimeoutEj = comdat any

$_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE14getSendTimeoutEv = comdat any

$_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE15getLocalAddressEPNS_13SocketAddressE = comdat any

$_ZNK5folly14AsyncTransport10getAddressEPNS_13SocketAddressE = comdat any

$_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE14getPeerAddressEPNS_13SocketAddressE = comdat any

$_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE18getPeerCertificateEv = comdat any

$_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE19dropPeerCertificateEv = comdat any

$_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE19dropSelfCertificateEv = comdat any

$_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE18getSelfCertificateEv = comdat any

$_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE22getApplicationProtocolB5cxx11Ev = comdat any

$_ZNK4fizz13AsyncFizzBase19getSecurityProtocolB5cxx11Ev = comdat any

$_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE25getExportedKeyingMaterialEN5folly5RangeIPKcEESt10unique_ptrINS4_5IOBufESt14default_deleteISA_EEt = comdat any

$_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE20isEorTrackingEnabledEv = comdat any

$_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE14setEorTrackingEb = comdat any

$_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE18getRawBytesWrittenEv = comdat any

$_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE19getRawBytesReceivedEv = comdat any

$_ZNK5folly14AsyncTransport19getRawBytesBufferedEv = comdat any

$_ZNK5folly14AsyncTransport25getAllocatedBytesBufferedEv = comdat any

$_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE12isReplaySafeEv = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE23setReplaySafetyCallbackEPN5folly14AsyncTransport20ReplaySafetyCallbackE = comdat any

$_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE19getWrappedTransportEv = comdat any

$_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE27tryExchangeWrappedTransportERSt10unique_ptrIS1_NS_18DelayedDestruction10DestructorEE = comdat any

$_ZN5folly31WriteChainAsyncTransportWrapperINS_14AsyncTransportEE5writeEPNS_11AsyncWriter13WriteCallbackEPKvmNS_10WriteFlagsE = comdat any

$_ZN5folly31WriteChainAsyncTransportWrapperINS_14AsyncTransportEE6writevEPNS_11AsyncWriter13WriteCallbackEPK5iovecmNS_10WriteFlagsE = comdat any

$_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE12getEventBaseEv = comdat any

$_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE11setZeroCopyEb = comdat any

$_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE11getZeroCopyEv = comdat any

$_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE21setZeroCopyEnableFuncESt8functionIFbRKSt10unique_ptrINS_5IOBufESt14default_deleteIS5_EEEE = comdat any

$_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE9getCipherEv = comdat any

$_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE8getGroupEv = comdat any

$_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE22getSupportedSigSchemesEv = comdat any

$_ZN4fizz13AsyncFizzBase19setEndOfTLSCallbackEPNS0_16EndOfTLSCallbackE = comdat any

$_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE15getClientRandomEv = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE11tlsShutdownEv = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17initiateKeyUpdateENS_16KeyUpdateRequestE = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE12writeAppDataEPN5folly11AsyncWriter13WriteCallbackEOSt10unique_ptrINS4_5IOBufESt14default_deleteIS9_EENS4_10WriteFlagsE = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE14transportErrorERKN5folly20AsyncSocketExceptionE = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE22transportDataAvailableEv = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE11pauseEventsEv = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE12resumeEventsEv = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE7connectEPNS3_17HandshakeCallbackESt10shared_ptrIKNS_19CertificateVerifierEEN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEESI_NSB_ISt6vectorINS_3ech9ECHConfigESaISL_EEEENSt6chrono8durationIlSt5ratioILl1ELl1000EEEE = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE7connectERKN5folly13SocketAddressEPNS4_20AsyncSocketTransport15ConnectCallbackESt10shared_ptrIKNS_19CertificateVerifierEENS4_8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEESM_NSt6chrono8durationIlSt5ratioILl1ELl1000EEEESR_RKSt3mapINS4_15SocketOptionKeyEiSt4lessIST_ESaISt4pairIKST_iEEES7_ = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE7connectEPNS3_17HandshakeCallbackEN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEENS7_ISt6vectorINS_3ech9ECHConfigESaISH_EEEENSt6chrono8durationIlSt5ratioILl1ELl1000EEEE = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE10connectErrERKN5folly20AsyncSocketExceptionE = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE14connectSuccessEv = comdat any

$_ZThn16_NK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE12getEventBaseEv = comdat any

$_ZThn16_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev = comdat any

$_ZThn16_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev = comdat any

$_ZThn16_NK5folly14AsyncTransport10getAddressEPNS_13SocketAddressE = comdat any

$_ZN5folly11AsyncReader16setEventCallbackEPNS_20EventRecvmsgCallbackE = comdat any

$_ZN5folly11AsyncReader19takePreReceivedDataEv = comdat any

$_ZThn24_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev = comdat any

$_ZThn24_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev = comdat any

$_ZThn32_N5folly31WriteChainAsyncTransportWrapperINS_14AsyncTransportEE5writeEPNS_11AsyncWriter13WriteCallbackEPKvmNS_10WriteFlagsE = comdat any

$_ZThn32_N5folly31WriteChainAsyncTransportWrapperINS_14AsyncTransportEE6writevEPNS_11AsyncWriter13WriteCallbackEPK5iovecmNS_10WriteFlagsE = comdat any

$_ZThn32_N5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE11setZeroCopyEb = comdat any

$_ZThn32_NK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE11getZeroCopyEv = comdat any

$_ZN5folly11AsyncWriter13setRXZeroCopyENS0_16RXZerocopyParamsE = comdat any

$_ZNK5folly11AsyncWriter13getRXZeroCopyEv = comdat any

$_ZThn32_N5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE21setZeroCopyEnableFuncESt8functionIFbRKSt10unique_ptrINS_5IOBufESt14default_deleteIS5_EEEE = comdat any

$_ZThn32_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev = comdat any

$_ZThn32_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev = comdat any

$_ZThn56_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev = comdat any

$_ZThn56_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev = comdat any

$_ZN5folly11AsyncWriter13WriteCallback13writeStartingEv = comdat any

$_ZN5folly11AsyncWriter13WriteCallback23getReleaseIOBufCallbackEv = comdat any

$_ZThn64_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev = comdat any

$_ZThn64_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev = comdat any

$_ZNK5folly11AsyncReader12ReadCallback13maxBufferSizeEv = comdat any

$_ZThn80_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev = comdat any

$_ZThn80_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev = comdat any

$_ZThn576_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev = comdat any

$_ZThn576_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev = comdat any

$_ZThn576_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE14connectSuccessEv = comdat any

$_ZThn576_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE10connectErrERKN5folly20AsyncSocketExceptionE = comdat any

$_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_ED0Ev = comdat any

$_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_E12visitActionsERN5folly12small_vectorINS0_6ActionELm4EvEE = comdat any

$_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_ED2Ev = comdat any

$_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_ED0Ev = comdat any

$_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE17_M_initialize_mapEm = comdat any

$_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EED2Ev = comdat any

$_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev = comdat any

$_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE19_M_destroy_data_auxESt15_Deque_iteratorIS2_RS2_PS2_ES8_ = comdat any

$_ZN4fizz6detail12PendingEventD2Ev = comdat any

$_ZN4fizz8AppWriteD2Ev = comdat any

$_ZN4fizz13EarlyAppWriteD2Ev = comdat any

$_ZN4fizz21WriteNewSessionTicketD2Ev = comdat any

$_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS_13WriteToSocketE = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS0_22ReportHandshakeSuccessE = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS0_27ReportEarlyHandshakeSuccessE = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS_11ReportErrorE = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS0_12NewCachedPskE = comdat any

$_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E8appWriteENS_8AppWriteE = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17handleEarlyRejectEv = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE16deliverAllErrorsERKN5folly20AsyncSocketExceptionEb = comdat any

$_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E20processPendingEventsEv = comdat any

$_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE16_M_push_back_auxIJS2_EEEvDpOT_ = comdat any

$_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE17_M_reallocate_mapEmb = comdat any

$_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev = comdat any

$_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE9pop_frontEv = comdat any

$_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvEC2EOS4_ = comdat any

$_ZN5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEED2Ev = comdat any

$_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvE8freeHeapEv = comdat any

$_ZN4fizz6client6Action14destroyVariantEv = comdat any

$_ZN5folly12small_vectorIN4fizz10TLSContentELm4EvE8freeHeapEv = comdat any

$_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv = comdat any

$_ZZN5folly13usingJEMallocEvENK11InitializerclEv = comdat any

$_ZZN5folly13usingTCMallocEvENK11InitializerclEv = comdat any

$_ZN4fizz6client9CachedPskD2Ev = comdat any

$_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E14processActionsERN5folly12small_vectorINS1_6ActionELm4EvEE = comdat any

$_ZN4fizz6client6ActionC2EOS1_ = comdat any

$_ZN5folly12small_vectorIN4fizz10TLSContentELm4EvEC2EOS3_ = comdat any

$_ZN5folly6detail8function14FunctionTraitsIFvRN4fizz6client5StateEEE10uninitCallES6_RNS1_4DataE = comdat any

$_ZN5folly6detail16throw_exception_ISt17bad_function_callJEEEvDpT0_ = comdat any

$_ZN5folly15throw_exceptionISt17bad_function_callEEvOT_ = comdat any

$_ZN4fizz6client9CachedPskC2EOS1_ = comdat any

$_ZN5folly20AsyncSocketExceptionD2Ev = comdat any

$_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tag = comdat any

$_ZZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tagEN6_GuardD2Ev = comdat any

$_ZN5folly20AsyncSocketExceptionD0Ev = comdat any

$_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE21deliverHandshakeErrorEN5folly17exception_wrapperE = comdat any

$_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E16moveToErrorStateERKN5folly20AsyncSocketExceptionE = comdat any

$_ZZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE21deliverHandshakeErrorEN5folly17exception_wrapperEENKUlRKSt9exceptionE_clES8_ = comdat any

$_ZZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE21deliverHandshakeErrorEN5folly17exception_wrapperEENKUlzE_clEz = comdat any

$_ZNSt15__exception_ptr12__dest_thunkIN5folly20AsyncSocketExceptionEEEvPv = comdat any

$_ZNSt5dequeIN4fizz8AppWriteESaIS1_EED2Ev = comdat any

$_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE19_M_destroy_data_auxESt15_Deque_iteratorIS1_RS1_PS1_ES7_ = comdat any

$_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEE6assignEOS6_ = comdat any

$_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE15_M_move_assign1EOS3_St17integral_constantIbLb1EE = comdat any

$_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE17_M_initialize_mapEm = comdat any

$_ZNK5folly17exception_wrapper4whatEv = comdat any

$_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEED2Ev = comdat any

$_ZNK5folly17exception_wrapper10class_nameEv = comdat any

$_ZN5folly13fbstring_coreIcE12expandNoinitEmbb = comdat any

$_ZN5folly13fbstring_coreIcE12reserveSmallEmb = comdat any

$_ZN5folly13fbstring_coreIcE10RefCounted6createEPm = comdat any

$_ZN5folly6detail16throw_exception_ISt9bad_allocJEEEvDpT0_ = comdat any

$_ZN5folly15throw_exceptionISt9bad_allocEEvOT_ = comdat any

$_ZN5folly15throw_exceptionISt12length_errorEEvOT_ = comdat any

$_ZNSt12length_errorC2EOS_ = comdat any

$_ZN5folly13fbstring_coreIcE13reserveMediumEm = comdat any

$_ZN5folly13fbstring_coreIcE12reserveLargeEm = comdat any

$_ZN5folly13fbstring_coreIcED2Ev = comdat any

$_ZN5folly13fbstring_coreIcE10RefCounted10reallocateEPcmmPm = comdat any

$_ZN5folly6detail16throw_exception_ISt11logic_errorJPKcEEEvDpT0_ = comdat any

$_ZN5folly15throw_exceptionISt11logic_errorEEvOT_ = comdat any

$_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEEC2EPKcRKS3_ = comdat any

$_ZN5folly13fbstring_coreIcE10initMediumEPKcm = comdat any

$_ZN4fizz12KeyLogWriter16secretToNSSLabelENS_10SecretTypeE = comdat any

$_ZN5folly8OptionalISt6vectorISt10shared_ptrIKN4fizz8PeerCertEESaIS6_EEE31StorageNonTriviallyDestructible5clearEv = comdat any

$_ZNSt8_Rb_treeIN4fizz10NamedGroupESt4pairIKS1_St10unique_ptrINS0_11KeyExchangeESt14default_deleteIS5_EEESt10_Select1stIS9_ESt4lessIS1_ESaIS9_EE8_M_eraseEPSt13_Rb_tree_nodeIS9_E = comdat any

$_ZN4fizz6client8ECHStateD2Ev = comdat any

$_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev = comdat any

$_ZN4fizz18ClientPresharedKeyD2Ev = comdat any

$_ZN4fizz6client15EarlyDataParamsD2Ev = comdat any

$_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E17appCloseImmediateEv = comdat any

$_ZNK4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E25getExportedKeyingMaterialERKNS_7FactoryEN5folly5RangeIPKcEESt10unique_ptrINSC_5IOBufESt14default_deleteISI_EEt = comdat any

$_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E8appCloseEv = comdat any

$_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_E17initiateKeyUpdateENS_19KeyUpdateInitiationE = comdat any

$_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E20addProcessingActionsEN5folly12small_vectorINS1_6ActionELm4EvEE = comdat any

$_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E13earlyAppWriteENS_13EarlyAppWriteE = comdat any

$_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_push_back_auxIJS1_EEEvDpOT_ = comdat any

$_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE17_M_reallocate_mapEmb = comdat any

$_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_E7connectESt10shared_ptrIKNS0_17FizzClientContextEES7_IKNS_19CertificateVerifierEEN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEENSF_INS0_9CachedPskEEENSF_ISt6vectorINS_3ech9ECHConfigESaISR_EEEERKS7_INS_16ClientExtensionsEE = comdat any

$_ZN4fizz6client9CachedPskaSEOS1_ = comdat any

$_ZNSt10shared_ptrIN4fizz26DefaultCertificateVerifierEED2Ev = comdat any

$_ZNSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EED2Ev = comdat any

$_ZNSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EED0Ev = comdat any

$_ZNSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EE10_M_disposeEv = comdat any

$_ZNSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EE10_M_destroyEv = comdat any

$_ZNSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EE14_M_get_deleterERKSt9type_info = comdat any

$_ZNSt10unique_ptrI13x509_store_stN5folly23static_function_deleterIS0_XadL_Z15X509_STORE_freeEEEEED2Ev = comdat any

$_ZN4fizz22CertificateAuthoritiesD2Ev = comdat any

$_ZNSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EED2Ev = comdat any

$_ZNSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EED0Ev = comdat any

$_ZNSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE10_M_disposeEv = comdat any

$_ZNSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE10_M_destroyEv = comdat any

$_ZNSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE14_M_get_deleterERKSt9type_info = comdat any

$_ZTSN5folly22OptionalEmptyExceptionE = comdat any

$_ZTIN5folly22OptionalEmptyExceptionE = comdat any

$_ZTVN5folly22OptionalEmptyExceptionE = comdat any

$_ZTSN5folly14AsyncTransportE = comdat any

$_ZTSN5folly15AsyncSocketBaseE = comdat any

$_ZTIN5folly15AsyncSocketBaseE = comdat any

$_ZTSN5folly11AsyncReaderE = comdat any

$_ZTIN5folly11AsyncReaderE = comdat any

$_ZTSN5folly11AsyncWriterE = comdat any

$_ZTIN5folly11AsyncWriterE = comdat any

$_ZTIN5folly14AsyncTransportE = comdat any

$_ZTVN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE = comdat any

$_ZTSN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE = comdat any

$_ZTSN5folly20AsyncSocketTransport15ConnectCallbackE = comdat any

$_ZTIN5folly20AsyncSocketTransport15ConnectCallbackE = comdat any

$_ZTIN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE = comdat any

$_ZTVN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_EE = comdat any

$_ZTSN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_EE = comdat any

$_ZTSN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_EE = comdat any

$_ZTIN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_EE = comdat any

$_ZTIN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_EE = comdat any

$_ZTVN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_EE = comdat any

$_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv = comdat any

$_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv = comdat any

$_ZZN5folly6detail14FastStaticBoolIZNS_13usingJEMallocEvE11InitializerE3getESt12memory_orderE2rv = comdat any

$_ZGVZN5folly6detail14FastStaticBoolIZNS_13usingJEMallocEvE11InitializerE3getESt12memory_orderE2rv = comdat any

$_ZZZN5folly13usingJEMallocEvENK11InitializerclEvE3ptr = comdat any

$_ZGVZZN5folly13usingJEMallocEvENK11InitializerclEvE3ptr = comdat any

$_ZZN5folly6detail14FastStaticBoolIZNS_13usingTCMallocEvE11InitializerE3getESt12memory_orderE2rv = comdat any

$_ZGVZN5folly6detail14FastStaticBoolIZNS_13usingTCMallocEvE11InitializerE3getESt12memory_orderE2rv = comdat any

$_ZZZN5folly13usingTCMallocEvENK11InitializerclEvE11kAllocBytes = comdat any

$_ZZZN5folly13usingTCMallocEvENK11InitializerclEvE3ptr = comdat any

$_ZGVZZN5folly13usingTCMallocEvENK11InitializerclEvE3ptr = comdat any

$_ZTVN5folly20AsyncSocketExceptionE = comdat any

$_ZTSN5folly20AsyncSocketExceptionE = comdat any

$_ZTIN5folly20AsyncSocketExceptionE = comdat any

$_ZTVSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EE = comdat any

$_ZTSSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EE = comdat any

$_ZTSSt16_Sp_counted_baseILN9__gnu_cxx12_Lock_policyE2EE = comdat any

$_ZTSSt11_Mutex_baseILN9__gnu_cxx12_Lock_policyE2EE = comdat any

$_ZTISt11_Mutex_baseILN9__gnu_cxx12_Lock_policyE2EE = comdat any

$_ZTISt16_Sp_counted_baseILN9__gnu_cxx12_Lock_policyE2EE = comdat any

$_ZTISt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EE = comdat any

$_ZTSSt19_Sp_make_shared_tag = comdat any

$_ZZNSt19_Sp_make_shared_tag5_S_tiEvE5__tag = comdat any

$_ZTVSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE = comdat any

$_ZTSSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE = comdat any

$_ZTISt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE = comdat any

@_ZStL8__ioinit = internal global %"class.std::ios_base::Init" zeroinitializer, align 1
@__dso_handle = external hidden global i8
@_ZTVN8proxygen21HTTPConnectorWithFizzE = unnamed_addr constant { [7 x ptr] } { [7 x ptr] [ptr null, ptr @_ZTIN8proxygen21HTTPConnectorWithFizzE, ptr @_ZN8proxygen21HTTPConnectorWithFizzD2Ev, ptr @_ZN8proxygen21HTTPConnectorWithFizzD0Ev, ptr @_ZN8proxygen21HTTPConnectorWithFizz14connectSuccessEv, ptr @_ZN8proxygen13HTTPConnector10connectErrERKN5folly20AsyncSocketExceptionE, ptr @_ZN5folly20AsyncSocketTransport15ConnectCallback10preConnectENS_13NetworkSocketE] }, align 8
@_ZTVN10__cxxabiv120__si_class_type_infoE = external global [0 x ptr]
@_ZTSN8proxygen21HTTPConnectorWithFizzE = constant [35 x i8] c"N8proxygen21HTTPConnectorWithFizzE\00", align 1
@_ZTIN8proxygen13HTTPConnectorE = external constant ptr
@_ZTIN8proxygen21HTTPConnectorWithFizzE = constant { ptr, ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv120__si_class_type_infoE, i64 2), ptr @_ZTSN8proxygen21HTTPConnectorWithFizzE, ptr @_ZTIN8proxygen13HTTPConnectorE }, align 8
@__libc_single_threaded = external local_unnamed_addr global i8, align 1
@_ZTSN5folly22OptionalEmptyExceptionE = linkonce_odr constant [33 x i8] c"N5folly22OptionalEmptyExceptionE\00", comdat, align 1
@_ZTISt13runtime_error = external constant ptr
@_ZTIN5folly22OptionalEmptyExceptionE = linkonce_odr constant { ptr, ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv120__si_class_type_infoE, i64 2), ptr @_ZTSN5folly22OptionalEmptyExceptionE, ptr @_ZTISt13runtime_error }, comdat, align 8
@_ZTVN5folly22OptionalEmptyExceptionE = linkonce_odr unnamed_addr constant { [5 x ptr] } { [5 x ptr] [ptr null, ptr @_ZTIN5folly22OptionalEmptyExceptionE, ptr @_ZN5folly22OptionalEmptyExceptionD2Ev, ptr @_ZN5folly22OptionalEmptyExceptionD0Ev, ptr @_ZNKSt13runtime_error4whatEv] }, comdat, align 8
@.str.2 = private unnamed_addr constant [35 x i8] c"Empty Optional cannot be unwrapped\00", align 1
@_ZTVN8proxygen19HTTPUpstreamSessionE = external unnamed_addr constant { [138 x ptr], [6 x ptr], [58 x ptr], [7 x ptr], [6 x ptr], [5 x ptr], [6 x ptr], [32 x ptr], [5 x ptr], [15 x ptr], [5 x ptr], [8 x ptr] }, align 8
@.str.3 = private unnamed_addr constant [64 x i8] c"codec_->getTransportDirection() == TransportDirection::UPSTREAM\00", align 1
@.str.4 = private unnamed_addr constant [143 x i8] c"generated/home/dtcxzyw/WorkSpace/Projects/compilers/llvm-opt-benchmark/bench/proxygen/proxygen/proxygen/lib/http/session/HTTPUpstreamSession.h\00", align 1
@_ZTVN10__cxxabiv121__vmi_class_type_infoE = external global [0 x ptr]
@_ZTSN5folly14AsyncTransportE = linkonce_odr constant [25 x i8] c"N5folly14AsyncTransportE\00", comdat, align 1
@_ZTIN5folly18DelayedDestructionE = external constant ptr
@_ZTVN10__cxxabiv117__class_type_infoE = external global [0 x ptr]
@_ZTSN5folly15AsyncSocketBaseE = linkonce_odr constant [26 x i8] c"N5folly15AsyncSocketBaseE\00", comdat, align 1
@_ZTIN5folly15AsyncSocketBaseE = linkonce_odr constant { ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv117__class_type_infoE, i64 2), ptr @_ZTSN5folly15AsyncSocketBaseE }, comdat, align 8
@_ZTSN5folly11AsyncReaderE = linkonce_odr constant [22 x i8] c"N5folly11AsyncReaderE\00", comdat, align 1
@_ZTIN5folly11AsyncReaderE = linkonce_odr constant { ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv117__class_type_infoE, i64 2), ptr @_ZTSN5folly11AsyncReaderE }, comdat, align 8
@_ZTSN5folly11AsyncWriterE = linkonce_odr constant [22 x i8] c"N5folly11AsyncWriterE\00", comdat, align 1
@_ZTIN5folly11AsyncWriterE = linkonce_odr constant { ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv117__class_type_infoE, i64 2), ptr @_ZTSN5folly11AsyncWriterE }, comdat, align 8
@_ZTIN5folly14AsyncTransportE = linkonce_odr constant { ptr, ptr, i32, i32, ptr, i64, ptr, i64, ptr, i64, ptr, i64 } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv121__vmi_class_type_infoE, i64 2), ptr @_ZTSN5folly14AsyncTransportE, i32 0, i32 4, ptr @_ZTIN5folly18DelayedDestructionE, i64 2, ptr @_ZTIN5folly15AsyncSocketBaseE, i64 4098, ptr @_ZTIN5folly11AsyncReaderE, i64 6146, ptr @_ZTIN5folly11AsyncWriterE, i64 8194 }, comdat, align 8
@_ZTIN5folly11AsyncSocketE = external constant ptr
@_ZTVN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE = linkonce_odr unnamed_addr constant { [91 x ptr], [6 x ptr], [8 x ptr], [12 x ptr], [8 x ptr], [15 x ptr], [5 x ptr], [7 x ptr] } { [91 x ptr] [ptr null, ptr @_ZTIN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED2Ev, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev, ptr @_ZN5folly18DelayedDestruction16onDelayedDestroyEb, ptr @_ZN4fizz13AsyncFizzBase7destroyEv, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE5closeEv, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE8closeNowEv, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE14closeWithResetEv, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE13shutdownWriteEv, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE16shutdownWriteNowEv, ptr @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE4goodEv, ptr @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE8readableEv, ptr @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE8writableEv, ptr @_ZNK5folly14AsyncTransport9isPendingEv, ptr @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE10connectingEv, ptr @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE5errorEv, ptr @_ZN4fizz13AsyncFizzBase15attachEventBaseEPN5folly9EventBaseE, ptr @_ZN4fizz13AsyncFizzBase15detachEventBaseEv, ptr @_ZNK4fizz13AsyncFizzBase12isDetachableEv, ptr @_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE14setSendTimeoutEj, ptr @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE14getSendTimeoutEv, ptr @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE15getLocalAddressEPNS_13SocketAddressE, ptr @_ZNK5folly14AsyncTransport10getAddressEPNS_13SocketAddressE, ptr @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE14getPeerAddressEPNS_13SocketAddressE, ptr @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE18getPeerCertificateEv, ptr @_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE19dropPeerCertificateEv, ptr @_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE19dropSelfCertificateEv, ptr @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE18getSelfCertificateEv, ptr @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE22getApplicationProtocolB5cxx11Ev, ptr @_ZNK4fizz13AsyncFizzBase19getSecurityProtocolB5cxx11Ev, ptr @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE25getExportedKeyingMaterialEN5folly5RangeIPKcEESt10unique_ptrINS4_5IOBufESt14default_deleteISA_EEt, ptr @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE20isEorTrackingEnabledEv, ptr @_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE14setEorTrackingEb, ptr @_ZNK4fizz13AsyncFizzBase18getAppBytesWrittenEv, ptr @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE18getRawBytesWrittenEv, ptr @_ZNK4fizz13AsyncFizzBase19getAppBytesReceivedEv, ptr @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE19getRawBytesReceivedEv, ptr @_ZNK4fizz13AsyncFizzBase19getAppBytesBufferedEv, ptr @_ZNK5folly14AsyncTransport19getRawBytesBufferedEv, ptr @_ZNK5folly14AsyncTransport25getAllocatedBytesBufferedEv, ptr @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE12isReplaySafeEv, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE23setReplaySafetyCallbackEPN5folly14AsyncTransport20ReplaySafetyCallbackE, ptr @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE19getWrappedTransportEv, ptr @_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE27tryExchangeWrappedTransportERSt10unique_ptrIS1_NS_18DelayedDestruction10DestructorEE, ptr @_ZNK4fizz13AsyncFizzBase15getReadCallbackEv, ptr @_ZN4fizz13AsyncFizzBase9setReadCBEPN5folly11AsyncReader12ReadCallbackE, ptr @_ZN5folly31WriteChainAsyncTransportWrapperINS_14AsyncTransportEE5writeEPNS_11AsyncWriter13WriteCallbackEPKvmNS_10WriteFlagsE, ptr @_ZN4fizz13AsyncFizzBase10writeChainEPN5folly11AsyncWriter13WriteCallbackEOSt10unique_ptrINS1_5IOBufESt14default_deleteIS6_EENS1_10WriteFlagsE, ptr @_ZN5folly31WriteChainAsyncTransportWrapperINS_14AsyncTransportEE6writevEPNS_11AsyncWriter13WriteCallbackEPK5iovecmNS_10WriteFlagsE, ptr @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE12getEventBaseEv, ptr @_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE11setZeroCopyEb, ptr @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE11getZeroCopyEv, ptr @_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE21setZeroCopyEnableFuncESt8functionIFbRKSt10unique_ptrINS_5IOBufESt14default_deleteIS5_EEEE, ptr @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE9getCipherEv, ptr @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE8getGroupEv, ptr @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE22getSupportedSigSchemesEv, ptr @_ZN4fizz13AsyncFizzBase19setEndOfTLSCallbackEPNS0_16EndOfTLSCallbackE, ptr @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE15getClientRandomEv, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE11tlsShutdownEv, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17initiateKeyUpdateENS_16KeyUpdateRequestE, ptr @_ZN4fizz13AsyncFizzBase19startTransportReadsEv, ptr @_ZN4fizz13AsyncFizzBase21startHandshakeTimeoutENSt6chrono8durationIlSt5ratioILl1ELl1000EEEE, ptr @_ZN4fizz13AsyncFizzBase22cancelHandshakeTimeoutEv, ptr @_ZN4fizz13AsyncFizzBase14deliverAppDataESt10unique_ptrIN5folly5IOBufESt14default_deleteIS3_EE, ptr @_ZN4fizz13AsyncFizzBase12deliverErrorERKN5folly20AsyncSocketExceptionEb, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE12writeAppDataEPN5folly11AsyncWriter13WriteCallbackEOSt10unique_ptrINS4_5IOBufESt14default_deleteIS9_EENS4_10WriteFlagsE, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE14transportErrorERKN5folly20AsyncSocketExceptionE, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE22transportDataAvailableEv, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE11pauseEventsEv, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE12resumeEventsEv, ptr @_ZN4fizz13AsyncFizzBase15secretAvailableERKNS_13DerivedSecretE, ptr @_ZN4fizz13AsyncFizzBase8endOfTLSESt10unique_ptrIN5folly5IOBufESt14default_deleteIS3_EE, ptr @_ZN4fizz13AsyncFizzBase12allocateDataEv, ptr @_ZN4fizz13AsyncFizzBase13getReadBufferEPPvPm, ptr @_ZN4fizz13AsyncFizzBase14getReadBuffersERSt6vectorI5iovecSaIS2_EE, ptr @_ZN4fizz13AsyncFizzBase17readDataAvailableEm, ptr @_ZN4fizz13AsyncFizzBase15isBufferMovableEv, ptr @_ZN4fizz13AsyncFizzBase19readBufferAvailableESt10unique_ptrIN5folly5IOBufESt14default_deleteIS3_EE, ptr @_ZN4fizz13AsyncFizzBase7readEOFEv, ptr @_ZN4fizz13AsyncFizzBase7readErrERKN5folly20AsyncSocketExceptionE, ptr @_ZN4fizz13AsyncFizzBase19readZeroCopyEnabledEv, ptr @_ZN4fizz13AsyncFizzBase25getZeroCopyFallbackBufferEPPvPm, ptr @_ZN4fizz13AsyncFizzBase25readZeroCopyDataAvailableEOSt10unique_ptrIN5folly5IOBufESt14default_deleteIS3_EEm, ptr @_ZN4fizz13AsyncFizzBase12writeSuccessEv, ptr @_ZN4fizz13AsyncFizzBase8writeErrEmRKN5folly20AsyncSocketExceptionE, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE7connectEPNS3_17HandshakeCallbackESt10shared_ptrIKNS_19CertificateVerifierEEN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEESI_NSB_ISt6vectorINS_3ech9ECHConfigESaISL_EEEENSt6chrono8durationIlSt5ratioILl1ELl1000EEEE, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE7connectERKN5folly13SocketAddressEPNS4_20AsyncSocketTransport15ConnectCallbackESt10shared_ptrIKNS_19CertificateVerifierEENS4_8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEESM_NSt6chrono8durationIlSt5ratioILl1ELl1000EEEESR_RKSt3mapINS4_15SocketOptionKeyEiSt4lessIST_ESaISt4pairIKST_iEEES7_, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE7connectEPNS3_17HandshakeCallbackEN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEENS7_ISt6vectorINS_3ech9ECHConfigESaISH_EEEENSt6chrono8durationIlSt5ratioILl1ELl1000EEEE, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE10connectErrERKN5folly20AsyncSocketExceptionE, ptr @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE14connectSuccessEv], [6 x ptr] [ptr inttoptr (i64 -16 to ptr), ptr @_ZTIN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, ptr @_ZThn16_NK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE12getEventBaseEv, ptr @_ZThn16_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev, ptr @_ZThn16_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev, ptr @_ZThn16_NK5folly14AsyncTransport10getAddressEPNS_13SocketAddressE], [8 x ptr] [ptr inttoptr (i64 -24 to ptr), ptr @_ZTIN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, ptr @_ZThn24_N4fizz13AsyncFizzBase9setReadCBEPN5folly11AsyncReader12ReadCallbackE, ptr @_ZThn24_NK4fizz13AsyncFizzBase15getReadCallbackEv, ptr @_ZN5folly11AsyncReader16setEventCallbackEPNS_20EventRecvmsgCallbackE, ptr @_ZN5folly11AsyncReader19takePreReceivedDataEv, ptr @_ZThn24_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev, ptr @_ZThn24_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev], [12 x ptr] [ptr inttoptr (i64 -32 to ptr), ptr @_ZTIN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, ptr @_ZThn32_N5folly31WriteChainAsyncTransportWrapperINS_14AsyncTransportEE5writeEPNS_11AsyncWriter13WriteCallbackEPKvmNS_10WriteFlagsE, ptr @_ZThn32_N5folly31WriteChainAsyncTransportWrapperINS_14AsyncTransportEE6writevEPNS_11AsyncWriter13WriteCallbackEPK5iovecmNS_10WriteFlagsE, ptr @_ZThn32_N4fizz13AsyncFizzBase10writeChainEPN5folly11AsyncWriter13WriteCallbackEOSt10unique_ptrINS1_5IOBufESt14default_deleteIS6_EENS1_10WriteFlagsE, ptr @_ZThn32_N5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE11setZeroCopyEb, ptr @_ZThn32_NK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE11getZeroCopyEv, ptr @_ZN5folly11AsyncWriter13setRXZeroCopyENS0_16RXZerocopyParamsE, ptr @_ZNK5folly11AsyncWriter13getRXZeroCopyEv, ptr @_ZThn32_N5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE21setZeroCopyEnableFuncESt8functionIFbRKSt10unique_ptrINS_5IOBufESt14default_deleteIS5_EEEE, ptr @_ZThn32_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev, ptr @_ZThn32_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev], [8 x ptr] [ptr inttoptr (i64 -56 to ptr), ptr @_ZTIN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, ptr @_ZThn56_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev, ptr @_ZThn56_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev, ptr @_ZN5folly11AsyncWriter13WriteCallback13writeStartingEv, ptr @_ZThn56_N4fizz13AsyncFizzBase12writeSuccessEv, ptr @_ZThn56_N4fizz13AsyncFizzBase8writeErrEmRKN5folly20AsyncSocketExceptionE, ptr @_ZN5folly11AsyncWriter13WriteCallback23getReleaseIOBufCallbackEv], [15 x ptr] [ptr inttoptr (i64 -64 to ptr), ptr @_ZTIN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, ptr @_ZThn64_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev, ptr @_ZThn64_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev, ptr @_ZThn64_N4fizz13AsyncFizzBase13getReadBufferEPPvPm, ptr @_ZThn64_N4fizz13AsyncFizzBase14getReadBuffersERSt6vectorI5iovecSaIS2_EE, ptr @_ZThn64_N4fizz13AsyncFizzBase17readDataAvailableEm, ptr @_ZThn64_N4fizz13AsyncFizzBase19readZeroCopyEnabledEv, ptr @_ZThn64_N4fizz13AsyncFizzBase25getZeroCopyFallbackBufferEPPvPm, ptr @_ZThn64_N4fizz13AsyncFizzBase25readZeroCopyDataAvailableEOSt10unique_ptrIN5folly5IOBufESt14default_deleteIS3_EEm, ptr @_ZThn64_N4fizz13AsyncFizzBase15isBufferMovableEv, ptr @_ZNK5folly11AsyncReader12ReadCallback13maxBufferSizeEv, ptr @_ZThn64_N4fizz13AsyncFizzBase19readBufferAvailableESt10unique_ptrIN5folly5IOBufESt14default_deleteIS3_EE, ptr @_ZThn64_N4fizz13AsyncFizzBase7readEOFEv, ptr @_ZThn64_N4fizz13AsyncFizzBase7readErrERKN5folly20AsyncSocketExceptionE], [5 x ptr] [ptr inttoptr (i64 -80 to ptr), ptr @_ZTIN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, ptr @_ZThn80_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev, ptr @_ZThn80_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev, ptr @_ZThn80_N4fizz13AsyncFizzBase12allocateDataEv], [7 x ptr] [ptr inttoptr (i64 -576 to ptr), ptr @_ZTIN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, ptr @_ZThn576_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev, ptr @_ZThn576_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev, ptr @_ZThn576_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE14connectSuccessEv, ptr @_ZThn576_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE10connectErrERKN5folly20AsyncSocketExceptionE, ptr @_ZN5folly20AsyncSocketTransport15ConnectCallback10preConnectENS_13NetworkSocketE] }, comdat, align 8
@_ZTSN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE = linkonce_odr constant [60 x i8] c"N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE\00", comdat, align 1
@_ZTIN4fizz13AsyncFizzBaseE = external constant ptr
@_ZTSN5folly20AsyncSocketTransport15ConnectCallbackE = linkonce_odr constant [48 x i8] c"N5folly20AsyncSocketTransport15ConnectCallbackE\00", comdat, align 1
@_ZTIN5folly20AsyncSocketTransport15ConnectCallbackE = linkonce_odr constant { ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv117__class_type_infoE, i64 2), ptr @_ZTSN5folly20AsyncSocketTransport15ConnectCallbackE }, comdat, align 8
@_ZTIN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE = linkonce_odr constant { ptr, ptr, i32, i32, ptr, i64, ptr, i64 } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv121__vmi_class_type_infoE, i64 2), ptr @_ZTSN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, i32 0, i32 2, ptr @_ZTIN4fizz13AsyncFizzBaseE, i64 2, ptr @_ZTIN5folly20AsyncSocketTransport15ConnectCallbackE, i64 147456 }, comdat, align 8
@_ZTVN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_EE = linkonce_odr unnamed_addr constant { [5 x ptr] } { [5 x ptr] [ptr null, ptr @_ZTIN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_EE, ptr @_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_ED2Ev, ptr @_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_ED0Ev, ptr @_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_E12visitActionsERN5folly12small_vectorINS0_6ActionELm4EvEE] }, comdat, align 8
@_ZTSN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_EE = linkonce_odr constant [101 x i8] c"N4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_EE\00", comdat, align 1
@_ZTSN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_EE = linkonce_odr constant [122 x i8] c"N4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_EE\00", comdat, align 1
@_ZTIN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_EE = linkonce_odr constant { ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv117__class_type_infoE, i64 2), ptr @_ZTSN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_EE }, comdat, align 8
@_ZTIN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_EE = linkonce_odr constant { ptr, ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv120__si_class_type_infoE, i64 2), ptr @_ZTSN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_EE, ptr @_ZTIN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_EE }, comdat, align 8
@_ZTVN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_EE = linkonce_odr unnamed_addr constant { [5 x ptr] } { [5 x ptr] [ptr null, ptr @_ZTIN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_EE, ptr @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_ED2Ev, ptr @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_ED0Ev, ptr @__cxa_pure_virtual] }, comdat, align 8
@_ZTVN4fizz6client18ClientStateMachineE = external unnamed_addr constant { [12 x ptr] }, align 8
@.str.5 = private unnamed_addr constant [105 x i8] c"generated/home/dtcxzyw/WorkSpace/SDK/vcpkg/installed/x64-linux/include/fizz/client/AsyncFizzClient-inl.h\00", align 1
@.str.7 = private unnamed_addr constant [48 x i8] c"cannot create std::deque larger than max_size()\00", align 1
@_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv = linkonce_odr local_unnamed_addr global i8 0, comdat, align 1
@_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv = linkonce_odr global i64 0, comdat, align 8
@_ZZN5folly6detail14FastStaticBoolIZNS_13usingJEMallocEvE11InitializerE3getESt12memory_orderE2rv = linkonce_odr local_unnamed_addr global i8 0, comdat, align 1
@_ZGVZN5folly6detail14FastStaticBoolIZNS_13usingJEMallocEvE11InitializerE3getESt12memory_orderE2rv = linkonce_odr global i64 0, comdat, align 8
@.str.8 = private unnamed_addr constant [18 x i8] c"thread.allocatedp\00", align 1
@_ZZZN5folly13usingJEMallocEvENK11InitializerclEvE3ptr = linkonce_odr global ptr null, comdat, align 8
@_ZGVZZN5folly13usingJEMallocEvENK11InitializerclEvE3ptr = linkonce_odr global i64 0, comdat, align 8
@_ZZN5folly6detail14FastStaticBoolIZNS_13usingTCMallocEvE11InitializerE3getESt12memory_orderE2rv = linkonce_odr local_unnamed_addr global i8 0, comdat, align 1
@_ZGVZN5folly6detail14FastStaticBoolIZNS_13usingTCMallocEvE11InitializerE3getESt12memory_orderE2rv = linkonce_odr global i64 0, comdat, align 8
@_ZZZN5folly13usingTCMallocEvENK11InitializerclEvE11kAllocBytes = linkonce_odr constant [32 x i8] c"generic.current_allocated_bytes\00", comdat, align 16
@_ZZZN5folly13usingTCMallocEvENK11InitializerclEvE3ptr = linkonce_odr global ptr null, comdat, align 8
@_ZGVZZN5folly13usingTCMallocEvENK11InitializerclEvE3ptr = linkonce_odr global i64 0, comdat, align 8
@_ZTISt17bad_function_call = external constant ptr
@_ZTVSt17bad_function_call = external unnamed_addr constant { [5 x ptr] }, align 8
@.str.9 = private unnamed_addr constant [25 x i8] c"fizz early data rejected\00", align 1
@.str.10 = private unnamed_addr constant [46 x i8] c"fizz early data rejected, could not be resent\00", align 1
@.str.11 = private unnamed_addr constant [50 x i8] c"basic_string: construction from null is not valid\00", align 1
@_ZTVN5folly20AsyncSocketExceptionE = linkonce_odr unnamed_addr constant { [5 x ptr] } { [5 x ptr] [ptr null, ptr @_ZTIN5folly20AsyncSocketExceptionE, ptr @_ZN5folly20AsyncSocketExceptionD2Ev, ptr @_ZN5folly20AsyncSocketExceptionD0Ev, ptr @_ZNKSt13runtime_error4whatEv] }, comdat, align 8
@_ZTSN5folly20AsyncSocketExceptionE = linkonce_odr constant [31 x i8] c"N5folly20AsyncSocketExceptionE\00", comdat, align 1
@_ZTIN5folly20AsyncSocketExceptionE = linkonce_odr constant { ptr, ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv120__si_class_type_infoE, i64 2), ptr @_ZTSN5folly20AsyncSocketExceptionE, ptr @_ZTISt13runtime_error }, comdat, align 8
@__func__._ZN5folly17exception_wrapper6handleIJZN4fizz6client16AsyncFizzClientTINS3_18ClientStateMachineEE21deliverHandshakeErrorES0_EUlRKNS_20AsyncSocketExceptionEE_ZNS6_21deliverHandshakeErrorES0_EUlRKSt9exceptionE_ZNS6_21deliverHandshakeErrorES0_EUlzE_EEEvDpT_ = private unnamed_addr constant [7 x i8] c"handle\00", align 1
@_ZTISt9exception = external constant ptr
@.str.30 = private unnamed_addr constant [14 x i8] c"unknown error\00", align 1
@.str.31 = private unnamed_addr constant [3 x i8] c": \00", align 1
@_ZTISt9bad_alloc = external constant ptr
@_ZTVSt9bad_alloc = external unnamed_addr constant { [5 x ptr] }, align 8
@.str.32 = private unnamed_addr constant [1 x i8] zeroinitializer, align 1
@_ZTISt12length_error = external constant ptr
@_ZTVSt12length_error = external unnamed_addr constant { [5 x ptr] }, align 8
@.str.33 = private unnamed_addr constant [51 x i8] c"basic_fbstring: null pointer initializer not valid\00", align 1
@_ZTISt11logic_error = external constant ptr
@.str.34 = private unnamed_addr constant [10 x i8] c"<unknown>\00", align 1
@.str.35 = private unnamed_addr constant [23 x i8] c"Mismatched access type\00", align 1
@.str.36 = private unnamed_addr constant [22 x i8] c"socket closed locally\00", align 1
@.str.37 = private unnamed_addr constant [5 x i8] c"Fizz\00", align 1
@.str.39 = private unnamed_addr constant [27 x i8] c"actions already processing\00", align 1
@.str.40 = private unnamed_addr constant [30 x i8] c"fizz app write in error state\00", align 1
@.str.41 = private unnamed_addr constant [37 x i8] c"Check failed: !callback_.hasValue() \00", align 1
@.str.42 = private unnamed_addr constant [23 x i8] c"connect already called\00", align 1
@.str.43 = private unnamed_addr constant [47 x i8] c"handshake connect called but socket isn't open\00", align 1
@.str.44 = private unnamed_addr constant [33 x i8] c"could not find underlying socket\00", align 1
@_ZTVSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EE = linkonce_odr unnamed_addr constant { [7 x ptr] } { [7 x ptr] [ptr null, ptr @_ZTISt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EE, ptr @_ZNSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EED2Ev, ptr @_ZNSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EED0Ev, ptr @_ZNSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EE10_M_disposeEv, ptr @_ZNSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EE10_M_destroyEv, ptr @_ZNSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EE14_M_get_deleterERKSt9type_info] }, comdat, align 8
@_ZTSSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EE = linkonce_odr constant [99 x i8] c"St23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EE\00", comdat, align 1
@_ZTSSt16_Sp_counted_baseILN9__gnu_cxx12_Lock_policyE2EE = linkonce_odr constant [52 x i8] c"St16_Sp_counted_baseILN9__gnu_cxx12_Lock_policyE2EE\00", comdat, align 1
@_ZTSSt11_Mutex_baseILN9__gnu_cxx12_Lock_policyE2EE = linkonce_odr constant [47 x i8] c"St11_Mutex_baseILN9__gnu_cxx12_Lock_policyE2EE\00", comdat, align 1
@_ZTISt11_Mutex_baseILN9__gnu_cxx12_Lock_policyE2EE = linkonce_odr constant { ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv117__class_type_infoE, i64 2), ptr @_ZTSSt11_Mutex_baseILN9__gnu_cxx12_Lock_policyE2EE }, comdat, align 8
@_ZTISt16_Sp_counted_baseILN9__gnu_cxx12_Lock_policyE2EE = linkonce_odr constant { ptr, ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv120__si_class_type_infoE, i64 2), ptr @_ZTSSt16_Sp_counted_baseILN9__gnu_cxx12_Lock_policyE2EE, ptr @_ZTISt11_Mutex_baseILN9__gnu_cxx12_Lock_policyE2EE }, comdat, align 8
@_ZTISt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EE = linkonce_odr constant { ptr, ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv120__si_class_type_infoE, i64 2), ptr @_ZTSSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EE, ptr @_ZTISt16_Sp_counted_baseILN9__gnu_cxx12_Lock_policyE2EE }, comdat, align 8
@_ZTVN4fizz26DefaultCertificateVerifierE = external unnamed_addr constant { [6 x ptr] }, align 8
@_ZTSSt19_Sp_make_shared_tag = linkonce_odr constant [24 x i8] c"St19_Sp_make_shared_tag\00", comdat, align 1
@_ZZNSt19_Sp_make_shared_tag5_S_tiEvE5__tag = linkonce_odr constant [16 x i8] zeroinitializer, comdat, align 8
@_ZTVSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE = linkonce_odr unnamed_addr constant { [7 x ptr] } { [7 x ptr] [ptr null, ptr @_ZTISt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE, ptr @_ZNSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EED2Ev, ptr @_ZNSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EED0Ev, ptr @_ZNSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE10_M_disposeEv, ptr @_ZNSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE10_M_destroyEv, ptr @_ZNSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE14_M_get_deleterERKSt9type_info] }, comdat, align 8
@_ZTSSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE = linkonce_odr constant [116 x i8] c"St23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE\00", comdat, align 1
@_ZTISt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE = linkonce_odr constant { ptr, ptr, ptr } { ptr getelementptr inbounds (ptr, ptr @_ZTVN10__cxxabiv120__si_class_type_infoE, i64 2), ptr @_ZTSSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE, ptr @_ZTISt16_Sp_counted_baseILN9__gnu_cxx12_Lock_policyE2EE }, comdat, align 8
@llvm.global_ctors = appending global [1 x { i32, ptr, ptr }] [{ i32, ptr, ptr } { i32 65535, ptr @_GLOBAL__sub_I_HTTPConnectorWithFizz.cpp, ptr null }]

declare void @_ZNSt8ios_base4InitC1Ev(ptr noundef nonnull align 1 dereferenceable(1)) unnamed_addr #0

; Function Attrs: nounwind
declare void @_ZNSt8ios_base4InitD1Ev(ptr noundef nonnull align 1 dereferenceable(1)) unnamed_addr #1

; Function Attrs: nofree nounwind
declare i32 @__cxa_atexit(ptr, ptr, ptr) local_unnamed_addr #2

; Function Attrs: mustprogress uwtable
define void @_ZN8proxygen21HTTPConnectorWithFizz11connectFizzEPN5folly9EventBaseERKNS1_13SocketAddressESt10shared_ptrIKN4fizz6client17FizzClientContextEES7_IKNS8_19CertificateVerifierEENSt6chrono8durationIlSt5ratioILl1ELl1000EEEESK_RKSt3mapINS1_15SocketOptionKeyEiSt4lessISM_ESaISt4pairIKSM_iEEES6_NS1_8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEES13_(ptr noundef nonnull align 8 dereferenceable(832) %this, ptr noundef %eventBase, ptr noundef nonnull align 8 dereferenceable(27) %connectAddr, ptr nocapture noundef readonly %context, ptr nocapture noundef %verifier, i64 %totalTimeout.coerce, i64 %tcpConnectTimeout.coerce, ptr noundef nonnull align 8 dereferenceable(48) %socketOptions, ptr noundef nonnull align 8 dereferenceable(27) %bindAddr, ptr noundef %sni, ptr noundef %pskIdentity) local_unnamed_addr #3 align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp12 = alloca %"struct.wangle::TransportInfo", align 8
  %agg.tmp = alloca %"class.std::shared_ptr", align 8
  %ref.tmp16 = alloca %"class.std::shared_ptr.64", align 8
  %agg.tmp17 = alloca %"struct.fizz::AsyncFizzBase::TransportOptions", align 8
  %agg.tmp27 = alloca %"class.std::shared_ptr.0", align 16
  %agg.tmp28 = alloca %"class.folly::Optional", align 8
  %agg.tmp29 = alloca %"class.folly::Optional", align 8
  %rtt_var.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %ref.tmp12, i64 0, i32 3
  %caAlgo.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %ref.tmp12, i64 0, i32 12
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(744) %ref.tmp12, i8 0, i64 744, i1 false)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(72) %rtt_var.i, i8 -1, i64 72, i1 false)
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(32) %caAlgo.i) #28
  %maxPacingRate.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %ref.tmp12, i64 0, i32 13
  store i32 -1, ptr %maxPacingRate.i, align 8
  %tcpinfo.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %ref.tmp12, i64 0, i32 14
  %tcpi_rto.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %ref.tmp12, i64 0, i32 14, i32 7
  %setupTime.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %ref.tmp12, i64 0, i32 15
  %totalPackets.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %ref.tmp12, i64 0, i32 31
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 4 dereferenceable(7) %tcpinfo.i, i8 0, i64 7, i1 false)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 4 dereferenceable(96) %tcpi_rto.i, i8 0, i64 96, i1 false)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(232) %setupTime.i, i8 0, i64 232, i1 false)
  %remoteAddr.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %ref.tmp12, i64 0, i32 33
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %totalPackets.i, i8 -1, i64 16, i1 false)
  %sslError.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %ref.tmp12, i64 0, i32 39
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(60) %remoteAddr.i, i8 0, i64 60, i1 false)
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(32) %sslError.i) #28
  %sslVersion.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %ref.tmp12, i64 0, i32 40
  store i16 0, ptr %sslVersion.i, align 8
  %sslCertSigAlgName.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %ref.tmp12, i64 0, i32 41
  %sslResume.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %ref.tmp12, i64 0, i32 43
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(18) %sslCertSigAlgName.i, i8 0, i64 18, i1 false)
  store i8 2, ptr %sslResume.i, align 2
  %connectLatency.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %ref.tmp12, i64 0, i32 44
  store i32 -1, ptr %connectLatency.i, align 4
  %validTcpinfo.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %ref.tmp12, i64 0, i32 45
  store i8 0, ptr %validTcpinfo.i, align 8
  %secure.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %ref.tmp12, i64 0, i32 46
  store i8 0, ptr %secure.i, align 1
  %securityType.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %ref.tmp12, i64 0, i32 47
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(32) %securityType.i) #28
  %protocolInfo.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %ref.tmp12, i64 0, i32 48
  %echStatus.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %ref.tmp12, i64 0, i32 53
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(51) %protocolInfo.i, i8 0, i64 51, i1 false)
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(32) %echStatus.i) #28
  %transportInfo_ = getelementptr inbounds %"class.proxygen::HTTPConnector", ptr %this, i64 0, i32 4
  %call13 = call noundef nonnull align 8 dereferenceable(744) ptr @_ZN6wangle13TransportInfoaSEOS0_(ptr noundef nonnull align 8 dereferenceable(744) %transportInfo_, ptr noundef nonnull align 8 dereferenceable(744) %ref.tmp12) #28
  call void @_ZN6wangle13TransportInfoD2Ev(ptr noundef nonnull align 8 dereferenceable(744) %ref.tmp12) #28
  %secure = getelementptr inbounds %"class.proxygen::HTTPConnector", ptr %this, i64 0, i32 4, i32 46
  store i8 1, ptr %secure, align 1
  %call15 = call noalias noundef nonnull dereferenceable(2272) ptr @_Znwm(i64 noundef 2272) #29
  %0 = load ptr, ptr %context, align 8
  store ptr %0, ptr %agg.tmp, align 8
  %_M_refcount.i.i = getelementptr inbounds %"class.std::__shared_ptr", ptr %agg.tmp, i64 0, i32 1
  %_M_refcount3.i.i = getelementptr inbounds %"class.std::__shared_ptr", ptr %context, i64 0, i32 1
  %1 = load ptr, ptr %_M_refcount3.i.i, align 8
  store ptr %1, ptr %_M_refcount.i.i, align 8
  %cmp.not.i.i.i = icmp eq ptr %1, null
  br i1 %cmp.not.i.i.i, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEEC2ERKS4_.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %entry
  %_M_use_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %1, i64 0, i32 1
  %2 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.i.not.i.i.i.i = icmp eq i8 %2, 0
  br i1 %tobool.i.i.not.i.i.i.i, label %if.else.i.i.i.i.i, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.then.i.i.i
  %3 = load i32, ptr %_M_use_count.i.i.i.i, align 4
  %add.i.i.i.i.i = add nsw i32 %3, 1
  store i32 %add.i.i.i.i.i, ptr %_M_use_count.i.i.i.i, align 4
  br label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEEC2ERKS4_.exit

if.else.i.i.i.i.i:                                ; preds = %if.then.i.i.i
  %4 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i, i32 1 acq_rel, align 4
  br label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEEC2ERKS4_.exit

_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEEC2ERKS4_.exit: ; preds = %entry, %if.then.i.i.i.i.i, %if.else.i.i.i.i.i
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp16, i8 0, i64 16, i1 false)
  %readBufferAllocationSize.i = getelementptr inbounds %"struct.fizz::AsyncFizzBase::TransportOptions", ptr %agg.tmp17, i64 0, i32 3
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.tmp17, i8 0, i64 24, i1 false)
  store i64 4000, ptr %readBufferAllocationSize.i, align 8
  %readBufferMinReadSize.i = getelementptr inbounds %"struct.fizz::AsyncFizzBase::TransportOptions", ptr %agg.tmp17, i64 0, i32 4
  store i64 1460, ptr %readBufferMinReadSize.i, align 8
  %zeroCopyMemStore.i = getelementptr inbounds %"struct.fizz::AsyncFizzBase::TransportOptions", ptr %agg.tmp17, i64 0, i32 5
  store ptr null, ptr %zeroCopyMemStore.i, align 8
  invoke void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEC2EPN5folly9EventBaseESt10shared_ptrIKNS0_17FizzClientContextEERKS7_INS_16ClientExtensionsEENS_13AsyncFizzBase16TransportOptionsE(ptr noundef nonnull align 8 dereferenceable(2272) %call15, ptr noundef %eventBase, ptr noundef nonnull %agg.tmp, ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp16, ptr noundef nonnull %agg.tmp17)
          to label %invoke.cont19 unwind label %lpad18

invoke.cont19:                                    ; preds = %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEEC2ERKS4_.exit
  %_M_refcount.i.i.i = getelementptr inbounds %"struct.fizz::AsyncFizzBase::TransportOptions", ptr %agg.tmp17, i64 0, i32 2, i32 0, i32 1
  %5 = load ptr, ptr %_M_refcount.i.i.i, align 8
  %cmp.not.i.i.i.i = icmp eq ptr %5, null
  br i1 %cmp.not.i.i.i.i, label %_ZN4fizz13AsyncFizzBase16TransportOptionsD2Ev.exit, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %invoke.cont19
  %_M_use_count.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %5, i64 0, i32 1
  %6 = load atomic i64, ptr %_M_use_count.i.i.i.i.i acquire, align 8
  %cmp.i.i.i.i.i = icmp eq i64 %6, 4294967297
  %7 = trunc i64 %6 to i32
  br i1 %cmp.i.i.i.i.i, label %if.then.i.i.i.i.i4, label %if.end.i.i.i.i.i

if.then.i.i.i.i.i4:                               ; preds = %if.then.i.i.i.i
  store i32 0, ptr %_M_use_count.i.i.i.i.i, align 8
  %_M_weak_count.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %5, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i, align 4
  %vtable.i.i.i.i.i = load ptr, ptr %5, align 8
  %vfn.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i, i64 2
  %8 = load ptr, ptr %vfn.i.i.i.i.i, align 8
  call void %8(ptr noundef nonnull align 8 dereferenceable(16) %5) #28
  br label %if.end8.sink.split.i.i.i.i.i

if.end.i.i.i.i.i:                                 ; preds = %if.then.i.i.i.i
  %9 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i = icmp eq i8 %9, 0
  br i1 %tobool.i.not.i.i.i.i.i, label %if.else.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i

if.then.i.i.i.i.i.i:                              ; preds = %if.end.i.i.i.i.i
  %add.i.i.i.i.i.i = add nsw i32 %7, -1
  store i32 %add.i.i.i.i.i.i, ptr %_M_use_count.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

if.else.i.i.i.i.i.i:                              ; preds = %if.end.i.i.i.i.i
  %10 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i, %if.then.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i = phi i32 [ %7, %if.then.i.i.i.i.i.i ], [ %10, %if.else.i.i.i.i.i.i ]
  %cmp6.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i.i, label %if.then7.i.i.i.i.i, label %_ZN4fizz13AsyncFizzBase16TransportOptionsD2Ev.exit

if.then7.i.i.i.i.i:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i
  %vtable.i.i.i.i.i.i.i = load ptr, ptr %5, align 8
  %vfn.i.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i, i64 2
  %11 = load ptr, ptr %vfn.i.i.i.i.i.i.i, align 8
  call void %11(ptr noundef nonnull align 8 dereferenceable(16) %5) #28
  %_M_weak_count.i.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %5, i64 0, i32 2
  %12 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i = icmp eq i8 %12, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i.i:                          ; preds = %if.then7.i.i.i.i.i
  %13 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i.i.i = add nsw i32 %13, -1
  store i32 %add.i.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i.i:                          ; preds = %if.then7.i.i.i.i.i
  %14 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i.i = phi i32 [ %13, %if.then.i.i.i.i.i.i.i.i ], [ %14, %if.else.i.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i.i, label %_ZN4fizz13AsyncFizzBase16TransportOptionsD2Ev.exit

if.end8.sink.split.i.i.i.i.i:                     ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i, %if.then.i.i.i.i.i4
  %vtable2.i.i.i.i.i.i.i = load ptr, ptr %5, align 8
  %vfn3.i.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i, i64 3
  %15 = load ptr, ptr %vfn3.i.i.i.i.i.i.i, align 8
  call void %15(ptr noundef nonnull align 8 dereferenceable(16) %5) #28
  br label %_ZN4fizz13AsyncFizzBase16TransportOptionsD2Ev.exit

_ZN4fizz13AsyncFizzBase16TransportOptionsD2Ev.exit: ; preds = %invoke.cont19, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i, %if.end8.sink.split.i.i.i.i.i
  %_M_refcount.i.i5 = getelementptr inbounds %"class.std::__shared_ptr.65", ptr %ref.tmp16, i64 0, i32 1
  %16 = load ptr, ptr %_M_refcount.i.i5, align 8
  %cmp.not.i.i.i6 = icmp eq ptr %16, null
  br i1 %cmp.not.i.i.i6, label %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit, label %if.then.i.i.i7

if.then.i.i.i7:                                   ; preds = %_ZN4fizz13AsyncFizzBase16TransportOptionsD2Ev.exit
  %_M_use_count.i.i.i.i8 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %16, i64 0, i32 1
  %17 = load atomic i64, ptr %_M_use_count.i.i.i.i8 acquire, align 8
  %cmp.i.i.i.i = icmp eq i64 %17, 4294967297
  %18 = trunc i64 %17 to i32
  br i1 %cmp.i.i.i.i, label %if.then.i.i.i.i12, label %if.end.i.i.i.i

if.then.i.i.i.i12:                                ; preds = %if.then.i.i.i7
  store i32 0, ptr %_M_use_count.i.i.i.i8, align 8
  %_M_weak_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %16, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i, align 4
  %vtable.i.i.i.i = load ptr, ptr %16, align 8
  %vfn.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i, i64 2
  %19 = load ptr, ptr %vfn.i.i.i.i, align 8
  call void %19(ptr noundef nonnull align 8 dereferenceable(16) %16) #28
  br label %if.end8.sink.split.i.i.i.i

if.end.i.i.i.i:                                   ; preds = %if.then.i.i.i7
  %20 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i = icmp eq i8 %20, 0
  br i1 %tobool.i.not.i.i.i.i, label %if.else.i.i.i.i.i11, label %if.then.i.i.i.i.i9

if.then.i.i.i.i.i9:                               ; preds = %if.end.i.i.i.i
  %add.i.i.i.i.i10 = add nsw i32 %18, -1
  store i32 %add.i.i.i.i.i10, ptr %_M_use_count.i.i.i.i8, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

if.else.i.i.i.i.i11:                              ; preds = %if.end.i.i.i.i
  %21 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i8, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i: ; preds = %if.else.i.i.i.i.i11, %if.then.i.i.i.i.i9
  %retval.i.0.i.i.i.i = phi i32 [ %18, %if.then.i.i.i.i.i9 ], [ %21, %if.else.i.i.i.i.i11 ]
  %cmp6.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i, label %if.then7.i.i.i.i, label %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit

if.then7.i.i.i.i:                                 ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i
  %vtable.i.i.i.i.i.i = load ptr, ptr %16, align 8
  %vfn.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i, i64 2
  %22 = load ptr, ptr %vfn.i.i.i.i.i.i, align 8
  call void %22(ptr noundef nonnull align 8 dereferenceable(16) %16) #28
  %_M_weak_count.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %16, i64 0, i32 2
  %23 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i = icmp eq i8 %23, 0
  br i1 %tobool.i.not.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %24 = load i32, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i.i = add nsw i32 %24, -1
  store i32 %add.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %25 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i = phi i32 [ %24, %if.then.i.i.i.i.i.i.i ], [ %25, %if.else.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i, label %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit

if.end8.sink.split.i.i.i.i:                       ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.then.i.i.i.i12
  %vtable2.i.i.i.i.i.i = load ptr, ptr %16, align 8
  %vfn3.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i, i64 3
  %26 = load ptr, ptr %vfn3.i.i.i.i.i.i, align 8
  call void %26(ptr noundef nonnull align 8 dereferenceable(16) %16) #28
  br label %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit

_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit: ; preds = %_ZN4fizz13AsyncFizzBase16TransportOptionsD2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.end8.sink.split.i.i.i.i
  %27 = load ptr, ptr %_M_refcount.i.i, align 8
  %cmp.not.i.i.i14 = icmp eq ptr %27, null
  br i1 %cmp.not.i.i.i14, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit, label %if.then.i.i.i15

if.then.i.i.i15:                                  ; preds = %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit
  %_M_use_count.i.i.i.i16 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %27, i64 0, i32 1
  %28 = load atomic i64, ptr %_M_use_count.i.i.i.i16 acquire, align 8
  %cmp.i.i.i.i17 = icmp eq i64 %28, 4294967297
  %29 = trunc i64 %28 to i32
  br i1 %cmp.i.i.i.i17, label %if.then.i.i.i.i40, label %if.end.i.i.i.i18

if.then.i.i.i.i40:                                ; preds = %if.then.i.i.i15
  store i32 0, ptr %_M_use_count.i.i.i.i16, align 8
  %_M_weak_count.i.i.i.i41 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %27, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i41, align 4
  %vtable.i.i.i.i42 = load ptr, ptr %27, align 8
  %vfn.i.i.i.i43 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i42, i64 2
  %30 = load ptr, ptr %vfn.i.i.i.i43, align 8
  call void %30(ptr noundef nonnull align 8 dereferenceable(16) %27) #28
  br label %if.end8.sink.split.i.i.i.i35

if.end.i.i.i.i18:                                 ; preds = %if.then.i.i.i15
  %31 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i19 = icmp eq i8 %31, 0
  br i1 %tobool.i.not.i.i.i.i19, label %if.else.i.i.i.i.i39, label %if.then.i.i.i.i.i20

if.then.i.i.i.i.i20:                              ; preds = %if.end.i.i.i.i18
  %add.i.i.i.i.i21 = add nsw i32 %29, -1
  store i32 %add.i.i.i.i.i21, ptr %_M_use_count.i.i.i.i16, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i22

if.else.i.i.i.i.i39:                              ; preds = %if.end.i.i.i.i18
  %32 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i16, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i22

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i22: ; preds = %if.else.i.i.i.i.i39, %if.then.i.i.i.i.i20
  %retval.i.0.i.i.i.i23 = phi i32 [ %29, %if.then.i.i.i.i.i20 ], [ %32, %if.else.i.i.i.i.i39 ]
  %cmp6.i.i.i.i24 = icmp eq i32 %retval.i.0.i.i.i.i23, 1
  br i1 %cmp6.i.i.i.i24, label %if.then7.i.i.i.i25, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit

if.then7.i.i.i.i25:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i22
  %vtable.i.i.i.i.i.i26 = load ptr, ptr %27, align 8
  %vfn.i.i.i.i.i.i27 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i26, i64 2
  %33 = load ptr, ptr %vfn.i.i.i.i.i.i27, align 8
  call void %33(ptr noundef nonnull align 8 dereferenceable(16) %27) #28
  %_M_weak_count.i.i.i.i.i.i28 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %27, i64 0, i32 2
  %34 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i29 = icmp eq i8 %34, 0
  br i1 %tobool.i.not.i.i.i.i.i.i29, label %if.else.i.i.i.i.i.i.i38, label %if.then.i.i.i.i.i.i.i30

if.then.i.i.i.i.i.i.i30:                          ; preds = %if.then7.i.i.i.i25
  %35 = load i32, ptr %_M_weak_count.i.i.i.i.i.i28, align 4
  %add.i.i.i.i.i.i.i31 = add nsw i32 %35, -1
  store i32 %add.i.i.i.i.i.i.i31, ptr %_M_weak_count.i.i.i.i.i.i28, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i32

if.else.i.i.i.i.i.i.i38:                          ; preds = %if.then7.i.i.i.i25
  %36 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i28, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i32

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i32: ; preds = %if.else.i.i.i.i.i.i.i38, %if.then.i.i.i.i.i.i.i30
  %retval.i.0.i.i.i.i.i.i33 = phi i32 [ %35, %if.then.i.i.i.i.i.i.i30 ], [ %36, %if.else.i.i.i.i.i.i.i38 ]
  %cmp.i.i.i.i.i.i34 = icmp eq i32 %retval.i.0.i.i.i.i.i.i33, 1
  br i1 %cmp.i.i.i.i.i.i34, label %if.end8.sink.split.i.i.i.i35, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit

if.end8.sink.split.i.i.i.i35:                     ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i32, %if.then.i.i.i.i40
  %vtable2.i.i.i.i.i.i36 = load ptr, ptr %27, align 8
  %vfn3.i.i.i.i.i.i37 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i36, i64 3
  %37 = load ptr, ptr %vfn3.i.i.i.i.i.i37, align 8
  call void %37(ptr noundef nonnull align 8 dereferenceable(16) %27) #28
  br label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit

_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit: ; preds = %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i22, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i32, %if.end8.sink.split.i.i.i.i35
  %socket_ = getelementptr inbounds %"class.proxygen::HTTPConnector", ptr %this, i64 0, i32 3
  %38 = load ptr, ptr %socket_, align 8
  store ptr %call15, ptr %socket_, align 8
  %tobool.not.i.i = icmp eq ptr %38, null
  br i1 %tobool.not.i.i, label %_ZNSt10unique_ptrIN5folly14AsyncTransportENS0_18DelayedDestruction10DestructorEE5resetEPS1_.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit
  %vtable.i.i.i = load ptr, ptr %38, align 8
  %vfn.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i, i64 3
  %39 = load ptr, ptr %vfn.i.i.i, align 8
  invoke void %39(ptr noundef nonnull align 8 dereferenceable(13) %38)
          to label %_ZNSt10unique_ptrIN5folly14AsyncTransportENS0_18DelayedDestruction10DestructorEE5resetEPS1_.exit unwind label %terminate.lpad.i.i

terminate.lpad.i.i:                               ; preds = %if.then.i.i
  %40 = landingpad { ptr, i32 }
          catch ptr null
  %41 = extractvalue { ptr, i32 } %40, 0
  call void @__clang_call_terminate(ptr %41) #30
  unreachable

_ZNSt10unique_ptrIN5folly14AsyncTransportENS0_18DelayedDestruction10DestructorEE5resetEPS1_.exit: ; preds = %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit, %if.then.i.i
  %call.i = call i64 @_ZNSt6chrono3_V212steady_clock3nowEv() #28
  %connectStart_ = getelementptr inbounds %"class.proxygen::HTTPConnector", ptr %this, i64 0, i32 6
  store i64 %call.i, ptr %connectStart_, align 8
  %cb_ = getelementptr inbounds %"class.proxygen::HTTPConnector", ptr %this, i64 0, i32 1
  %42 = load ptr, ptr %cb_, align 8
  %vtable = load ptr, ptr %42, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 4
  %43 = load ptr, ptr %vfn, align 8
  call void %43(ptr noundef nonnull align 8 dereferenceable(8) %42, ptr noundef nonnull %call15)
  %_M_refcount.i.i44 = getelementptr inbounds %"class.std::__shared_ptr.1", ptr %agg.tmp27, i64 0, i32 1
  %_M_refcount4.i.i = getelementptr inbounds %"class.std::__shared_ptr.1", ptr %verifier, i64 0, i32 1
  %44 = load <2 x ptr>, ptr %verifier, align 8
  store ptr null, ptr %_M_refcount4.i.i, align 8
  store <2 x ptr> %44, ptr %agg.tmp27, align 16
  store ptr null, ptr %verifier, align 8
  %hasValue.i.i = getelementptr inbounds %"struct.folly::Optional<std::__cxx11::basic_string<char>>::StorageNonTriviallyDestructible", ptr %agg.tmp28, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i, align 8
  %hasValue.i.i.i = getelementptr inbounds %"struct.folly::Optional<std::__cxx11::basic_string<char>>::StorageNonTriviallyDestructible", ptr %sni, i64 0, i32 1
  %45 = load i8, ptr %hasValue.i.i.i, align 8
  %46 = and i8 %45, 1
  %tobool.i.i.not.i = icmp eq i8 %46, 0
  br i1 %tobool.i.i.not.i, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit, label %invoke.cont2.i

invoke.cont2.i:                                   ; preds = %_ZNSt10unique_ptrIN5folly14AsyncTransportENS0_18DelayedDestruction10DestructorEE5resetEPS1_.exit
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1EOS4_(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp28, ptr noundef nonnull align 8 dereferenceable(32) %sni) #28
  store i8 1, ptr %hasValue.i.i, align 8
  %47 = load i8, ptr %hasValue.i.i.i, align 8
  %48 = and i8 %47, 1
  %tobool.not.i.i6.i = icmp eq i8 %48, 0
  br i1 %tobool.not.i.i6.i, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit, label %if.then.i.i7.i

if.then.i.i7.i:                                   ; preds = %invoke.cont2.i
  store i8 0, ptr %hasValue.i.i.i, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %sni) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit: ; preds = %_ZNSt10unique_ptrIN5folly14AsyncTransportENS0_18DelayedDestruction10DestructorEE5resetEPS1_.exit, %invoke.cont2.i, %if.then.i.i7.i
  %hasValue.i.i45 = getelementptr inbounds %"struct.folly::Optional<std::__cxx11::basic_string<char>>::StorageNonTriviallyDestructible", ptr %agg.tmp29, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i45, align 8
  %hasValue.i.i.i46 = getelementptr inbounds %"struct.folly::Optional<std::__cxx11::basic_string<char>>::StorageNonTriviallyDestructible", ptr %pskIdentity, i64 0, i32 1
  %49 = load i8, ptr %hasValue.i.i.i46, align 8
  %50 = and i8 %49, 1
  %tobool.i.i.not.i47 = icmp eq i8 %50, 0
  br i1 %tobool.i.i.not.i47, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit51, label %invoke.cont2.i48

invoke.cont2.i48:                                 ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1EOS4_(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp29, ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity) #28
  store i8 1, ptr %hasValue.i.i45, align 8
  %51 = load i8, ptr %hasValue.i.i.i46, align 8
  %52 = and i8 %51, 1
  %tobool.not.i.i6.i49 = icmp eq i8 %52, 0
  br i1 %tobool.not.i.i6.i49, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit51, label %if.then.i.i7.i50

if.then.i.i7.i50:                                 ; preds = %invoke.cont2.i48
  store i8 0, ptr %hasValue.i.i.i46, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit51

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit51: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit, %invoke.cont2.i48, %if.then.i.i7.i50
  %vtable34 = load ptr, ptr %call15, align 8
  %vfn35 = getelementptr inbounds ptr, ptr %vtable34, i64 85
  %53 = load ptr, ptr %vfn35, align 8
  invoke void %53(ptr noundef nonnull align 8 dereferenceable(2272) %call15, ptr noundef nonnull align 8 dereferenceable(27) %connectAddr, ptr noundef nonnull %this, ptr noundef nonnull %agg.tmp27, ptr noundef nonnull %agg.tmp28, ptr noundef nonnull %agg.tmp29, i64 %totalTimeout.coerce, i64 %tcpConnectTimeout.coerce, ptr noundef nonnull align 8 dereferenceable(48) %socketOptions, ptr noundef nonnull align 8 dereferenceable(27) %bindAddr)
          to label %invoke.cont37 unwind label %lpad36

invoke.cont37:                                    ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit51
  %54 = load i8, ptr %hasValue.i.i45, align 8
  %55 = and i8 %54, 1
  %tobool.not.i.i.i = icmp eq i8 %55, 0
  br i1 %tobool.not.i.i.i, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, label %if.then.i.i.i53

if.then.i.i.i53:                                  ; preds = %invoke.cont37
  store i8 0, ptr %hasValue.i.i45, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp29) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit: ; preds = %invoke.cont37, %if.then.i.i.i53
  %56 = load i8, ptr %hasValue.i.i, align 8
  %57 = and i8 %56, 1
  %tobool.not.i.i.i55 = icmp eq i8 %57, 0
  br i1 %tobool.not.i.i.i55, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit57, label %if.then.i.i.i56

if.then.i.i.i56:                                  ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit
  store i8 0, ptr %hasValue.i.i, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp28) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit57

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit57: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, %if.then.i.i.i56
  %58 = load ptr, ptr %_M_refcount.i.i44, align 8
  %cmp.not.i.i.i59 = icmp eq ptr %58, null
  br i1 %cmp.not.i.i.i59, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit, label %if.then.i.i.i60

if.then.i.i.i60:                                  ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit57
  %_M_use_count.i.i.i.i61 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %58, i64 0, i32 1
  %59 = load atomic i64, ptr %_M_use_count.i.i.i.i61 acquire, align 8
  %cmp.i.i.i.i62 = icmp eq i64 %59, 4294967297
  %60 = trunc i64 %59 to i32
  br i1 %cmp.i.i.i.i62, label %if.then.i.i.i.i85, label %if.end.i.i.i.i63

if.then.i.i.i.i85:                                ; preds = %if.then.i.i.i60
  store i32 0, ptr %_M_use_count.i.i.i.i61, align 8
  %_M_weak_count.i.i.i.i86 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %58, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i86, align 4
  %vtable.i.i.i.i87 = load ptr, ptr %58, align 8
  %vfn.i.i.i.i88 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i87, i64 2
  %61 = load ptr, ptr %vfn.i.i.i.i88, align 8
  call void %61(ptr noundef nonnull align 8 dereferenceable(16) %58) #28
  br label %if.end8.sink.split.i.i.i.i80

if.end.i.i.i.i63:                                 ; preds = %if.then.i.i.i60
  %62 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i64 = icmp eq i8 %62, 0
  br i1 %tobool.i.not.i.i.i.i64, label %if.else.i.i.i.i.i84, label %if.then.i.i.i.i.i65

if.then.i.i.i.i.i65:                              ; preds = %if.end.i.i.i.i63
  %add.i.i.i.i.i66 = add nsw i32 %60, -1
  store i32 %add.i.i.i.i.i66, ptr %_M_use_count.i.i.i.i61, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i67

if.else.i.i.i.i.i84:                              ; preds = %if.end.i.i.i.i63
  %63 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i61, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i67

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i67: ; preds = %if.else.i.i.i.i.i84, %if.then.i.i.i.i.i65
  %retval.i.0.i.i.i.i68 = phi i32 [ %60, %if.then.i.i.i.i.i65 ], [ %63, %if.else.i.i.i.i.i84 ]
  %cmp6.i.i.i.i69 = icmp eq i32 %retval.i.0.i.i.i.i68, 1
  br i1 %cmp6.i.i.i.i69, label %if.then7.i.i.i.i70, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

if.then7.i.i.i.i70:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i67
  %vtable.i.i.i.i.i.i71 = load ptr, ptr %58, align 8
  %vfn.i.i.i.i.i.i72 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i71, i64 2
  %64 = load ptr, ptr %vfn.i.i.i.i.i.i72, align 8
  call void %64(ptr noundef nonnull align 8 dereferenceable(16) %58) #28
  %_M_weak_count.i.i.i.i.i.i73 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %58, i64 0, i32 2
  %65 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i74 = icmp eq i8 %65, 0
  br i1 %tobool.i.not.i.i.i.i.i.i74, label %if.else.i.i.i.i.i.i.i83, label %if.then.i.i.i.i.i.i.i75

if.then.i.i.i.i.i.i.i75:                          ; preds = %if.then7.i.i.i.i70
  %66 = load i32, ptr %_M_weak_count.i.i.i.i.i.i73, align 4
  %add.i.i.i.i.i.i.i76 = add nsw i32 %66, -1
  store i32 %add.i.i.i.i.i.i.i76, ptr %_M_weak_count.i.i.i.i.i.i73, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i77

if.else.i.i.i.i.i.i.i83:                          ; preds = %if.then7.i.i.i.i70
  %67 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i73, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i77

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i77: ; preds = %if.else.i.i.i.i.i.i.i83, %if.then.i.i.i.i.i.i.i75
  %retval.i.0.i.i.i.i.i.i78 = phi i32 [ %66, %if.then.i.i.i.i.i.i.i75 ], [ %67, %if.else.i.i.i.i.i.i.i83 ]
  %cmp.i.i.i.i.i.i79 = icmp eq i32 %retval.i.0.i.i.i.i.i.i78, 1
  br i1 %cmp.i.i.i.i.i.i79, label %if.end8.sink.split.i.i.i.i80, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

if.end8.sink.split.i.i.i.i80:                     ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i77, %if.then.i.i.i.i85
  %vtable2.i.i.i.i.i.i81 = load ptr, ptr %58, align 8
  %vfn3.i.i.i.i.i.i82 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i81, i64 3
  %68 = load ptr, ptr %vfn3.i.i.i.i.i.i82, align 8
  call void %68(ptr noundef nonnull align 8 dereferenceable(16) %58) #28
  br label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit57, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i67, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i77, %if.end8.sink.split.i.i.i.i80
  ret void

lpad18:                                           ; preds = %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEEC2ERKS4_.exit
  %69 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN4fizz13AsyncFizzBase16TransportOptionsD2Ev(ptr noundef nonnull align 8 dereferenceable(48) %agg.tmp17) #28
  call void @_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp16) #28
  call void @_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp) #28
  call void @_ZdlPv(ptr noundef nonnull %call15) #31
  br label %eh.resume

lpad36:                                           ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit51
  %70 = landingpad { ptr, i32 }
          cleanup
  %71 = load i8, ptr %hasValue.i.i45, align 8
  %72 = and i8 %71, 1
  %tobool.not.i.i.i90 = icmp eq i8 %72, 0
  br i1 %tobool.not.i.i.i90, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit92, label %if.then.i.i.i91

if.then.i.i.i91:                                  ; preds = %lpad36
  store i8 0, ptr %hasValue.i.i45, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp29) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit92

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit92: ; preds = %lpad36, %if.then.i.i.i91
  %73 = load i8, ptr %hasValue.i.i, align 8
  %74 = and i8 %73, 1
  %tobool.not.i.i.i94 = icmp eq i8 %74, 0
  br i1 %tobool.not.i.i.i94, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit96, label %if.then.i.i.i95

if.then.i.i.i95:                                  ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit92
  store i8 0, ptr %hasValue.i.i, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp28) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit96

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit96: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit92, %if.then.i.i.i95
  call void @_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp27) #28
  br label %eh.resume

eh.resume:                                        ; preds = %lpad18, %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit96
  %.pn = phi { ptr, i32 } [ %70, %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit96 ], [ %69, %lpad18 ]
  resume { ptr, i32 } %.pn
}

declare noundef nonnull align 8 dereferenceable(8) ptr @_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(ptr noundef nonnull align 8 dereferenceable(8), ptr noundef) local_unnamed_addr #0

declare void @_ZN6google15LogMessageFatalC1EPKci(ptr noundef nonnull align 8 dereferenceable(96), ptr noundef, i32 noundef) unnamed_addr #0

declare noundef nonnull align 8 dereferenceable(8) ptr @_ZN6google10LogMessage6streamEv(ptr noundef nonnull align 8 dereferenceable(96)) local_unnamed_addr #0

declare i32 @__gxx_personality_v0(...)

; Function Attrs: noreturn nounwind
declare void @_ZN6google15LogMessageFatalD1Ev(ptr noundef nonnull align 8 dereferenceable(96)) unnamed_addr #4

; Function Attrs: mustprogress nocallback nofree nounwind willreturn memory(argmem: write)
declare void @llvm.memset.p0.i64(ptr nocapture writeonly, i8, i64, i1 immarg) #5

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr noundef nonnull align 8 dereferenceable(744) ptr @_ZN6wangle13TransportInfoaSEOS0_(ptr noundef nonnull align 8 dereferenceable(744) %this, ptr noundef nonnull align 8 dereferenceable(744) %0) local_unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %this, ptr noundef nonnull align 8 dereferenceable(16) %0, i64 16, i1 false)
  %rtt = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 2
  %rtt3 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 2
  %1 = load i64, ptr %rtt3, align 8
  store i64 %1, ptr %rtt, align 8
  %rtt_var = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 3
  %rtt_var4 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 3
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(72) %rtt_var, ptr noundef nonnull align 8 dereferenceable(72) %rtt_var4, i64 72, i1 false)
  %caAlgo = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 12
  %caAlgo5 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 12
  %call = tail call noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEaSEOS4_(ptr noundef nonnull align 8 dereferenceable(32) %caAlgo, ptr noundef nonnull align 8 dereferenceable(32) %caAlgo5) #28
  %maxPacingRate = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 13
  %maxPacingRate6 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 13
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(108) %maxPacingRate, ptr noundef nonnull align 8 dereferenceable(108) %maxPacingRate6, i64 108, i1 false)
  %setupTime = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 15
  %setupTime7 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 15
  %2 = load i64, ptr %setupTime7, align 8
  store i64 %2, ptr %setupTime, align 8
  %sslSetupTime = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 16
  %sslSetupTime8 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 16
  %3 = load i64, ptr %sslSetupTime8, align 8
  store i64 %3, ptr %sslSetupTime, align 8
  %sslCipher = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 17
  %sslCipher9 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 17
  %_M_refcount3.i.i.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 17, i32 0, i32 1
  %4 = load <2 x ptr>, ptr %sslCipher9, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %sslCipher9, i8 0, i64 16, i1 false)
  %5 = load ptr, ptr %_M_refcount3.i.i.i, align 8
  store <2 x ptr> %4, ptr %sslCipher, align 8
  %cmp.not.i.i.i.i = icmp eq ptr %5, null
  br i1 %cmp.not.i.i.i.i, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %entry
  %_M_use_count.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %5, i64 0, i32 1
  %6 = load atomic i64, ptr %_M_use_count.i.i.i.i.i acquire, align 8
  %cmp.i.i.i.i.i = icmp eq i64 %6, 4294967297
  %7 = trunc i64 %6 to i32
  br i1 %cmp.i.i.i.i.i, label %if.then.i.i.i.i.i, label %if.end.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.then.i.i.i.i
  store i32 0, ptr %_M_use_count.i.i.i.i.i, align 8
  %_M_weak_count.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %5, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i, align 4
  %vtable.i.i.i.i.i = load ptr, ptr %5, align 8
  %vfn.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i, i64 2
  %8 = load ptr, ptr %vfn.i.i.i.i.i, align 8
  tail call void %8(ptr noundef nonnull align 8 dereferenceable(16) %5) #28
  br label %if.end8.sink.split.i.i.i.i.i

if.end.i.i.i.i.i:                                 ; preds = %if.then.i.i.i.i
  %9 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i = icmp eq i8 %9, 0
  br i1 %tobool.i.not.i.i.i.i.i, label %if.else.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i

if.then.i.i.i.i.i.i:                              ; preds = %if.end.i.i.i.i.i
  %add.i.i.i.i.i.i = add nsw i32 %7, -1
  store i32 %add.i.i.i.i.i.i, ptr %_M_use_count.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

if.else.i.i.i.i.i.i:                              ; preds = %if.end.i.i.i.i.i
  %10 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i, %if.then.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i = phi i32 [ %7, %if.then.i.i.i.i.i.i ], [ %10, %if.else.i.i.i.i.i.i ]
  %cmp6.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i.i, label %if.then7.i.i.i.i.i, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit

if.then7.i.i.i.i.i:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i
  %vtable.i.i.i.i.i.i.i = load ptr, ptr %5, align 8
  %vfn.i.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i, i64 2
  %11 = load ptr, ptr %vfn.i.i.i.i.i.i.i, align 8
  tail call void %11(ptr noundef nonnull align 8 dereferenceable(16) %5) #28
  %_M_weak_count.i.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %5, i64 0, i32 2
  %12 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i = icmp eq i8 %12, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i.i:                          ; preds = %if.then7.i.i.i.i.i
  %13 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i.i.i = add nsw i32 %13, -1
  store i32 %add.i.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i.i:                          ; preds = %if.then7.i.i.i.i.i
  %14 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i.i = phi i32 [ %13, %if.then.i.i.i.i.i.i.i.i ], [ %14, %if.else.i.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i.i, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit

if.end8.sink.split.i.i.i.i.i:                     ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i, %if.then.i.i.i.i.i
  %vtable2.i.i.i.i.i.i.i = load ptr, ptr %5, align 8
  %vfn3.i.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i, i64 3
  %15 = load ptr, ptr %vfn3.i.i.i.i.i.i.i, align 8
  tail call void %15(ptr noundef nonnull align 8 dereferenceable(16) %5) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit: ; preds = %entry, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i, %if.end8.sink.split.i.i.i.i.i
  %sslServerName = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 18
  %sslServerName11 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 18
  %_M_refcount3.i.i.i37 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 18, i32 0, i32 1
  %16 = load <2 x ptr>, ptr %sslServerName11, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %sslServerName11, i8 0, i64 16, i1 false)
  %17 = load ptr, ptr %_M_refcount3.i.i.i37, align 8
  store <2 x ptr> %16, ptr %sslServerName, align 8
  %cmp.not.i.i.i.i38 = icmp eq ptr %17, null
  br i1 %cmp.not.i.i.i.i38, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit68, label %if.then.i.i.i.i39

if.then.i.i.i.i39:                                ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit
  %_M_use_count.i.i.i.i.i40 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %17, i64 0, i32 1
  %18 = load atomic i64, ptr %_M_use_count.i.i.i.i.i40 acquire, align 8
  %cmp.i.i.i.i.i41 = icmp eq i64 %18, 4294967297
  %19 = trunc i64 %18 to i32
  br i1 %cmp.i.i.i.i.i41, label %if.then.i.i.i.i.i64, label %if.end.i.i.i.i.i42

if.then.i.i.i.i.i64:                              ; preds = %if.then.i.i.i.i39
  store i32 0, ptr %_M_use_count.i.i.i.i.i40, align 8
  %_M_weak_count.i.i.i.i.i65 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %17, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i65, align 4
  %vtable.i.i.i.i.i66 = load ptr, ptr %17, align 8
  %vfn.i.i.i.i.i67 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i66, i64 2
  %20 = load ptr, ptr %vfn.i.i.i.i.i67, align 8
  tail call void %20(ptr noundef nonnull align 8 dereferenceable(16) %17) #28
  br label %if.end8.sink.split.i.i.i.i.i59

if.end.i.i.i.i.i42:                               ; preds = %if.then.i.i.i.i39
  %21 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i43 = icmp eq i8 %21, 0
  br i1 %tobool.i.not.i.i.i.i.i43, label %if.else.i.i.i.i.i.i63, label %if.then.i.i.i.i.i.i44

if.then.i.i.i.i.i.i44:                            ; preds = %if.end.i.i.i.i.i42
  %add.i.i.i.i.i.i45 = add nsw i32 %19, -1
  store i32 %add.i.i.i.i.i.i45, ptr %_M_use_count.i.i.i.i.i40, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i46

if.else.i.i.i.i.i.i63:                            ; preds = %if.end.i.i.i.i.i42
  %22 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i40, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i46

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i46: ; preds = %if.else.i.i.i.i.i.i63, %if.then.i.i.i.i.i.i44
  %retval.i.0.i.i.i.i.i47 = phi i32 [ %19, %if.then.i.i.i.i.i.i44 ], [ %22, %if.else.i.i.i.i.i.i63 ]
  %cmp6.i.i.i.i.i48 = icmp eq i32 %retval.i.0.i.i.i.i.i47, 1
  br i1 %cmp6.i.i.i.i.i48, label %if.then7.i.i.i.i.i49, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit68

if.then7.i.i.i.i.i49:                             ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i46
  %vtable.i.i.i.i.i.i.i50 = load ptr, ptr %17, align 8
  %vfn.i.i.i.i.i.i.i51 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i50, i64 2
  %23 = load ptr, ptr %vfn.i.i.i.i.i.i.i51, align 8
  tail call void %23(ptr noundef nonnull align 8 dereferenceable(16) %17) #28
  %_M_weak_count.i.i.i.i.i.i.i52 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %17, i64 0, i32 2
  %24 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i53 = icmp eq i8 %24, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i53, label %if.else.i.i.i.i.i.i.i.i62, label %if.then.i.i.i.i.i.i.i.i54

if.then.i.i.i.i.i.i.i.i54:                        ; preds = %if.then7.i.i.i.i.i49
  %25 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i52, align 4
  %add.i.i.i.i.i.i.i.i55 = add nsw i32 %25, -1
  store i32 %add.i.i.i.i.i.i.i.i55, ptr %_M_weak_count.i.i.i.i.i.i.i52, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i56

if.else.i.i.i.i.i.i.i.i62:                        ; preds = %if.then7.i.i.i.i.i49
  %26 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i52, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i56

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i56: ; preds = %if.else.i.i.i.i.i.i.i.i62, %if.then.i.i.i.i.i.i.i.i54
  %retval.i.0.i.i.i.i.i.i.i57 = phi i32 [ %25, %if.then.i.i.i.i.i.i.i.i54 ], [ %26, %if.else.i.i.i.i.i.i.i.i62 ]
  %cmp.i.i.i.i.i.i.i58 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i57, 1
  br i1 %cmp.i.i.i.i.i.i.i58, label %if.end8.sink.split.i.i.i.i.i59, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit68

if.end8.sink.split.i.i.i.i.i59:                   ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i56, %if.then.i.i.i.i.i64
  %vtable2.i.i.i.i.i.i.i60 = load ptr, ptr %17, align 8
  %vfn3.i.i.i.i.i.i.i61 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i60, i64 3
  %27 = load ptr, ptr %vfn3.i.i.i.i.i.i.i61, align 8
  tail call void %27(ptr noundef nonnull align 8 dereferenceable(16) %17) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit68

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit68: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i46, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i56, %if.end8.sink.split.i.i.i.i.i59
  %sslClientCiphers = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 19
  %sslClientCiphers13 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 19
  %_M_refcount3.i.i.i70 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 19, i32 0, i32 1
  %28 = load <2 x ptr>, ptr %sslClientCiphers13, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %sslClientCiphers13, i8 0, i64 16, i1 false)
  %29 = load ptr, ptr %_M_refcount3.i.i.i70, align 8
  store <2 x ptr> %28, ptr %sslClientCiphers, align 8
  %cmp.not.i.i.i.i71 = icmp eq ptr %29, null
  br i1 %cmp.not.i.i.i.i71, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit101, label %if.then.i.i.i.i72

if.then.i.i.i.i72:                                ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit68
  %_M_use_count.i.i.i.i.i73 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %29, i64 0, i32 1
  %30 = load atomic i64, ptr %_M_use_count.i.i.i.i.i73 acquire, align 8
  %cmp.i.i.i.i.i74 = icmp eq i64 %30, 4294967297
  %31 = trunc i64 %30 to i32
  br i1 %cmp.i.i.i.i.i74, label %if.then.i.i.i.i.i97, label %if.end.i.i.i.i.i75

if.then.i.i.i.i.i97:                              ; preds = %if.then.i.i.i.i72
  store i32 0, ptr %_M_use_count.i.i.i.i.i73, align 8
  %_M_weak_count.i.i.i.i.i98 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %29, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i98, align 4
  %vtable.i.i.i.i.i99 = load ptr, ptr %29, align 8
  %vfn.i.i.i.i.i100 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i99, i64 2
  %32 = load ptr, ptr %vfn.i.i.i.i.i100, align 8
  tail call void %32(ptr noundef nonnull align 8 dereferenceable(16) %29) #28
  br label %if.end8.sink.split.i.i.i.i.i92

if.end.i.i.i.i.i75:                               ; preds = %if.then.i.i.i.i72
  %33 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i76 = icmp eq i8 %33, 0
  br i1 %tobool.i.not.i.i.i.i.i76, label %if.else.i.i.i.i.i.i96, label %if.then.i.i.i.i.i.i77

if.then.i.i.i.i.i.i77:                            ; preds = %if.end.i.i.i.i.i75
  %add.i.i.i.i.i.i78 = add nsw i32 %31, -1
  store i32 %add.i.i.i.i.i.i78, ptr %_M_use_count.i.i.i.i.i73, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i79

if.else.i.i.i.i.i.i96:                            ; preds = %if.end.i.i.i.i.i75
  %34 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i73, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i79

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i79: ; preds = %if.else.i.i.i.i.i.i96, %if.then.i.i.i.i.i.i77
  %retval.i.0.i.i.i.i.i80 = phi i32 [ %31, %if.then.i.i.i.i.i.i77 ], [ %34, %if.else.i.i.i.i.i.i96 ]
  %cmp6.i.i.i.i.i81 = icmp eq i32 %retval.i.0.i.i.i.i.i80, 1
  br i1 %cmp6.i.i.i.i.i81, label %if.then7.i.i.i.i.i82, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit101

if.then7.i.i.i.i.i82:                             ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i79
  %vtable.i.i.i.i.i.i.i83 = load ptr, ptr %29, align 8
  %vfn.i.i.i.i.i.i.i84 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i83, i64 2
  %35 = load ptr, ptr %vfn.i.i.i.i.i.i.i84, align 8
  tail call void %35(ptr noundef nonnull align 8 dereferenceable(16) %29) #28
  %_M_weak_count.i.i.i.i.i.i.i85 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %29, i64 0, i32 2
  %36 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i86 = icmp eq i8 %36, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i86, label %if.else.i.i.i.i.i.i.i.i95, label %if.then.i.i.i.i.i.i.i.i87

if.then.i.i.i.i.i.i.i.i87:                        ; preds = %if.then7.i.i.i.i.i82
  %37 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i85, align 4
  %add.i.i.i.i.i.i.i.i88 = add nsw i32 %37, -1
  store i32 %add.i.i.i.i.i.i.i.i88, ptr %_M_weak_count.i.i.i.i.i.i.i85, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i89

if.else.i.i.i.i.i.i.i.i95:                        ; preds = %if.then7.i.i.i.i.i82
  %38 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i85, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i89

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i89: ; preds = %if.else.i.i.i.i.i.i.i.i95, %if.then.i.i.i.i.i.i.i.i87
  %retval.i.0.i.i.i.i.i.i.i90 = phi i32 [ %37, %if.then.i.i.i.i.i.i.i.i87 ], [ %38, %if.else.i.i.i.i.i.i.i.i95 ]
  %cmp.i.i.i.i.i.i.i91 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i90, 1
  br i1 %cmp.i.i.i.i.i.i.i91, label %if.end8.sink.split.i.i.i.i.i92, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit101

if.end8.sink.split.i.i.i.i.i92:                   ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i89, %if.then.i.i.i.i.i97
  %vtable2.i.i.i.i.i.i.i93 = load ptr, ptr %29, align 8
  %vfn3.i.i.i.i.i.i.i94 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i93, i64 3
  %39 = load ptr, ptr %vfn3.i.i.i.i.i.i.i94, align 8
  tail call void %39(ptr noundef nonnull align 8 dereferenceable(16) %29) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit101

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit101: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit68, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i79, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i89, %if.end8.sink.split.i.i.i.i.i92
  %sslClientCiphersHex = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 20
  %sslClientCiphersHex15 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 20
  %_M_refcount3.i.i.i103 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 20, i32 0, i32 1
  %40 = load <2 x ptr>, ptr %sslClientCiphersHex15, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %sslClientCiphersHex15, i8 0, i64 16, i1 false)
  %41 = load ptr, ptr %_M_refcount3.i.i.i103, align 8
  store <2 x ptr> %40, ptr %sslClientCiphersHex, align 8
  %cmp.not.i.i.i.i104 = icmp eq ptr %41, null
  br i1 %cmp.not.i.i.i.i104, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit134, label %if.then.i.i.i.i105

if.then.i.i.i.i105:                               ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit101
  %_M_use_count.i.i.i.i.i106 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %41, i64 0, i32 1
  %42 = load atomic i64, ptr %_M_use_count.i.i.i.i.i106 acquire, align 8
  %cmp.i.i.i.i.i107 = icmp eq i64 %42, 4294967297
  %43 = trunc i64 %42 to i32
  br i1 %cmp.i.i.i.i.i107, label %if.then.i.i.i.i.i130, label %if.end.i.i.i.i.i108

if.then.i.i.i.i.i130:                             ; preds = %if.then.i.i.i.i105
  store i32 0, ptr %_M_use_count.i.i.i.i.i106, align 8
  %_M_weak_count.i.i.i.i.i131 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %41, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i131, align 4
  %vtable.i.i.i.i.i132 = load ptr, ptr %41, align 8
  %vfn.i.i.i.i.i133 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i132, i64 2
  %44 = load ptr, ptr %vfn.i.i.i.i.i133, align 8
  tail call void %44(ptr noundef nonnull align 8 dereferenceable(16) %41) #28
  br label %if.end8.sink.split.i.i.i.i.i125

if.end.i.i.i.i.i108:                              ; preds = %if.then.i.i.i.i105
  %45 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i109 = icmp eq i8 %45, 0
  br i1 %tobool.i.not.i.i.i.i.i109, label %if.else.i.i.i.i.i.i129, label %if.then.i.i.i.i.i.i110

if.then.i.i.i.i.i.i110:                           ; preds = %if.end.i.i.i.i.i108
  %add.i.i.i.i.i.i111 = add nsw i32 %43, -1
  store i32 %add.i.i.i.i.i.i111, ptr %_M_use_count.i.i.i.i.i106, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i112

if.else.i.i.i.i.i.i129:                           ; preds = %if.end.i.i.i.i.i108
  %46 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i106, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i112

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i112: ; preds = %if.else.i.i.i.i.i.i129, %if.then.i.i.i.i.i.i110
  %retval.i.0.i.i.i.i.i113 = phi i32 [ %43, %if.then.i.i.i.i.i.i110 ], [ %46, %if.else.i.i.i.i.i.i129 ]
  %cmp6.i.i.i.i.i114 = icmp eq i32 %retval.i.0.i.i.i.i.i113, 1
  br i1 %cmp6.i.i.i.i.i114, label %if.then7.i.i.i.i.i115, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit134

if.then7.i.i.i.i.i115:                            ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i112
  %vtable.i.i.i.i.i.i.i116 = load ptr, ptr %41, align 8
  %vfn.i.i.i.i.i.i.i117 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i116, i64 2
  %47 = load ptr, ptr %vfn.i.i.i.i.i.i.i117, align 8
  tail call void %47(ptr noundef nonnull align 8 dereferenceable(16) %41) #28
  %_M_weak_count.i.i.i.i.i.i.i118 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %41, i64 0, i32 2
  %48 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i119 = icmp eq i8 %48, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i119, label %if.else.i.i.i.i.i.i.i.i128, label %if.then.i.i.i.i.i.i.i.i120

if.then.i.i.i.i.i.i.i.i120:                       ; preds = %if.then7.i.i.i.i.i115
  %49 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i118, align 4
  %add.i.i.i.i.i.i.i.i121 = add nsw i32 %49, -1
  store i32 %add.i.i.i.i.i.i.i.i121, ptr %_M_weak_count.i.i.i.i.i.i.i118, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i122

if.else.i.i.i.i.i.i.i.i128:                       ; preds = %if.then7.i.i.i.i.i115
  %50 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i118, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i122

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i122: ; preds = %if.else.i.i.i.i.i.i.i.i128, %if.then.i.i.i.i.i.i.i.i120
  %retval.i.0.i.i.i.i.i.i.i123 = phi i32 [ %49, %if.then.i.i.i.i.i.i.i.i120 ], [ %50, %if.else.i.i.i.i.i.i.i.i128 ]
  %cmp.i.i.i.i.i.i.i124 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i123, 1
  br i1 %cmp.i.i.i.i.i.i.i124, label %if.end8.sink.split.i.i.i.i.i125, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit134

if.end8.sink.split.i.i.i.i.i125:                  ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i122, %if.then.i.i.i.i.i130
  %vtable2.i.i.i.i.i.i.i126 = load ptr, ptr %41, align 8
  %vfn3.i.i.i.i.i.i.i127 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i126, i64 3
  %51 = load ptr, ptr %vfn3.i.i.i.i.i.i.i127, align 8
  tail call void %51(ptr noundef nonnull align 8 dereferenceable(16) %41) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit134

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit134: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit101, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i112, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i122, %if.end8.sink.split.i.i.i.i.i125
  %sslClientComprMethods = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 21
  %sslClientComprMethods17 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 21
  %_M_refcount3.i.i.i136 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 21, i32 0, i32 1
  %52 = load <2 x ptr>, ptr %sslClientComprMethods17, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %sslClientComprMethods17, i8 0, i64 16, i1 false)
  %53 = load ptr, ptr %_M_refcount3.i.i.i136, align 8
  store <2 x ptr> %52, ptr %sslClientComprMethods, align 8
  %cmp.not.i.i.i.i137 = icmp eq ptr %53, null
  br i1 %cmp.not.i.i.i.i137, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit167, label %if.then.i.i.i.i138

if.then.i.i.i.i138:                               ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit134
  %_M_use_count.i.i.i.i.i139 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %53, i64 0, i32 1
  %54 = load atomic i64, ptr %_M_use_count.i.i.i.i.i139 acquire, align 8
  %cmp.i.i.i.i.i140 = icmp eq i64 %54, 4294967297
  %55 = trunc i64 %54 to i32
  br i1 %cmp.i.i.i.i.i140, label %if.then.i.i.i.i.i163, label %if.end.i.i.i.i.i141

if.then.i.i.i.i.i163:                             ; preds = %if.then.i.i.i.i138
  store i32 0, ptr %_M_use_count.i.i.i.i.i139, align 8
  %_M_weak_count.i.i.i.i.i164 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %53, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i164, align 4
  %vtable.i.i.i.i.i165 = load ptr, ptr %53, align 8
  %vfn.i.i.i.i.i166 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i165, i64 2
  %56 = load ptr, ptr %vfn.i.i.i.i.i166, align 8
  tail call void %56(ptr noundef nonnull align 8 dereferenceable(16) %53) #28
  br label %if.end8.sink.split.i.i.i.i.i158

if.end.i.i.i.i.i141:                              ; preds = %if.then.i.i.i.i138
  %57 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i142 = icmp eq i8 %57, 0
  br i1 %tobool.i.not.i.i.i.i.i142, label %if.else.i.i.i.i.i.i162, label %if.then.i.i.i.i.i.i143

if.then.i.i.i.i.i.i143:                           ; preds = %if.end.i.i.i.i.i141
  %add.i.i.i.i.i.i144 = add nsw i32 %55, -1
  store i32 %add.i.i.i.i.i.i144, ptr %_M_use_count.i.i.i.i.i139, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i145

if.else.i.i.i.i.i.i162:                           ; preds = %if.end.i.i.i.i.i141
  %58 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i139, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i145

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i145: ; preds = %if.else.i.i.i.i.i.i162, %if.then.i.i.i.i.i.i143
  %retval.i.0.i.i.i.i.i146 = phi i32 [ %55, %if.then.i.i.i.i.i.i143 ], [ %58, %if.else.i.i.i.i.i.i162 ]
  %cmp6.i.i.i.i.i147 = icmp eq i32 %retval.i.0.i.i.i.i.i146, 1
  br i1 %cmp6.i.i.i.i.i147, label %if.then7.i.i.i.i.i148, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit167

if.then7.i.i.i.i.i148:                            ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i145
  %vtable.i.i.i.i.i.i.i149 = load ptr, ptr %53, align 8
  %vfn.i.i.i.i.i.i.i150 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i149, i64 2
  %59 = load ptr, ptr %vfn.i.i.i.i.i.i.i150, align 8
  tail call void %59(ptr noundef nonnull align 8 dereferenceable(16) %53) #28
  %_M_weak_count.i.i.i.i.i.i.i151 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %53, i64 0, i32 2
  %60 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i152 = icmp eq i8 %60, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i152, label %if.else.i.i.i.i.i.i.i.i161, label %if.then.i.i.i.i.i.i.i.i153

if.then.i.i.i.i.i.i.i.i153:                       ; preds = %if.then7.i.i.i.i.i148
  %61 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i151, align 4
  %add.i.i.i.i.i.i.i.i154 = add nsw i32 %61, -1
  store i32 %add.i.i.i.i.i.i.i.i154, ptr %_M_weak_count.i.i.i.i.i.i.i151, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i155

if.else.i.i.i.i.i.i.i.i161:                       ; preds = %if.then7.i.i.i.i.i148
  %62 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i151, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i155

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i155: ; preds = %if.else.i.i.i.i.i.i.i.i161, %if.then.i.i.i.i.i.i.i.i153
  %retval.i.0.i.i.i.i.i.i.i156 = phi i32 [ %61, %if.then.i.i.i.i.i.i.i.i153 ], [ %62, %if.else.i.i.i.i.i.i.i.i161 ]
  %cmp.i.i.i.i.i.i.i157 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i156, 1
  br i1 %cmp.i.i.i.i.i.i.i157, label %if.end8.sink.split.i.i.i.i.i158, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit167

if.end8.sink.split.i.i.i.i.i158:                  ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i155, %if.then.i.i.i.i.i163
  %vtable2.i.i.i.i.i.i.i159 = load ptr, ptr %53, align 8
  %vfn3.i.i.i.i.i.i.i160 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i159, i64 3
  %63 = load ptr, ptr %vfn3.i.i.i.i.i.i.i160, align 8
  tail call void %63(ptr noundef nonnull align 8 dereferenceable(16) %53) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit167

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit167: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit134, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i145, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i155, %if.end8.sink.split.i.i.i.i.i158
  %sslClientExts = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 22
  %sslClientExts19 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 22
  %_M_refcount3.i.i.i169 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 22, i32 0, i32 1
  %64 = load <2 x ptr>, ptr %sslClientExts19, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %sslClientExts19, i8 0, i64 16, i1 false)
  %65 = load ptr, ptr %_M_refcount3.i.i.i169, align 8
  store <2 x ptr> %64, ptr %sslClientExts, align 8
  %cmp.not.i.i.i.i170 = icmp eq ptr %65, null
  br i1 %cmp.not.i.i.i.i170, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit200, label %if.then.i.i.i.i171

if.then.i.i.i.i171:                               ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit167
  %_M_use_count.i.i.i.i.i172 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %65, i64 0, i32 1
  %66 = load atomic i64, ptr %_M_use_count.i.i.i.i.i172 acquire, align 8
  %cmp.i.i.i.i.i173 = icmp eq i64 %66, 4294967297
  %67 = trunc i64 %66 to i32
  br i1 %cmp.i.i.i.i.i173, label %if.then.i.i.i.i.i196, label %if.end.i.i.i.i.i174

if.then.i.i.i.i.i196:                             ; preds = %if.then.i.i.i.i171
  store i32 0, ptr %_M_use_count.i.i.i.i.i172, align 8
  %_M_weak_count.i.i.i.i.i197 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %65, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i197, align 4
  %vtable.i.i.i.i.i198 = load ptr, ptr %65, align 8
  %vfn.i.i.i.i.i199 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i198, i64 2
  %68 = load ptr, ptr %vfn.i.i.i.i.i199, align 8
  tail call void %68(ptr noundef nonnull align 8 dereferenceable(16) %65) #28
  br label %if.end8.sink.split.i.i.i.i.i191

if.end.i.i.i.i.i174:                              ; preds = %if.then.i.i.i.i171
  %69 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i175 = icmp eq i8 %69, 0
  br i1 %tobool.i.not.i.i.i.i.i175, label %if.else.i.i.i.i.i.i195, label %if.then.i.i.i.i.i.i176

if.then.i.i.i.i.i.i176:                           ; preds = %if.end.i.i.i.i.i174
  %add.i.i.i.i.i.i177 = add nsw i32 %67, -1
  store i32 %add.i.i.i.i.i.i177, ptr %_M_use_count.i.i.i.i.i172, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i178

if.else.i.i.i.i.i.i195:                           ; preds = %if.end.i.i.i.i.i174
  %70 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i172, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i178

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i178: ; preds = %if.else.i.i.i.i.i.i195, %if.then.i.i.i.i.i.i176
  %retval.i.0.i.i.i.i.i179 = phi i32 [ %67, %if.then.i.i.i.i.i.i176 ], [ %70, %if.else.i.i.i.i.i.i195 ]
  %cmp6.i.i.i.i.i180 = icmp eq i32 %retval.i.0.i.i.i.i.i179, 1
  br i1 %cmp6.i.i.i.i.i180, label %if.then7.i.i.i.i.i181, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit200

if.then7.i.i.i.i.i181:                            ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i178
  %vtable.i.i.i.i.i.i.i182 = load ptr, ptr %65, align 8
  %vfn.i.i.i.i.i.i.i183 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i182, i64 2
  %71 = load ptr, ptr %vfn.i.i.i.i.i.i.i183, align 8
  tail call void %71(ptr noundef nonnull align 8 dereferenceable(16) %65) #28
  %_M_weak_count.i.i.i.i.i.i.i184 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %65, i64 0, i32 2
  %72 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i185 = icmp eq i8 %72, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i185, label %if.else.i.i.i.i.i.i.i.i194, label %if.then.i.i.i.i.i.i.i.i186

if.then.i.i.i.i.i.i.i.i186:                       ; preds = %if.then7.i.i.i.i.i181
  %73 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i184, align 4
  %add.i.i.i.i.i.i.i.i187 = add nsw i32 %73, -1
  store i32 %add.i.i.i.i.i.i.i.i187, ptr %_M_weak_count.i.i.i.i.i.i.i184, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i188

if.else.i.i.i.i.i.i.i.i194:                       ; preds = %if.then7.i.i.i.i.i181
  %74 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i184, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i188

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i188: ; preds = %if.else.i.i.i.i.i.i.i.i194, %if.then.i.i.i.i.i.i.i.i186
  %retval.i.0.i.i.i.i.i.i.i189 = phi i32 [ %73, %if.then.i.i.i.i.i.i.i.i186 ], [ %74, %if.else.i.i.i.i.i.i.i.i194 ]
  %cmp.i.i.i.i.i.i.i190 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i189, 1
  br i1 %cmp.i.i.i.i.i.i.i190, label %if.end8.sink.split.i.i.i.i.i191, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit200

if.end8.sink.split.i.i.i.i.i191:                  ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i188, %if.then.i.i.i.i.i196
  %vtable2.i.i.i.i.i.i.i192 = load ptr, ptr %65, align 8
  %vfn3.i.i.i.i.i.i.i193 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i192, i64 3
  %75 = load ptr, ptr %vfn3.i.i.i.i.i.i.i193, align 8
  tail call void %75(ptr noundef nonnull align 8 dereferenceable(16) %65) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit200

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit200: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit167, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i178, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i188, %if.end8.sink.split.i.i.i.i.i191
  %sslClientSigAlgs = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 23
  %sslClientSigAlgs21 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 23
  %_M_refcount3.i.i.i202 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 23, i32 0, i32 1
  %76 = load <2 x ptr>, ptr %sslClientSigAlgs21, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %sslClientSigAlgs21, i8 0, i64 16, i1 false)
  %77 = load ptr, ptr %_M_refcount3.i.i.i202, align 8
  store <2 x ptr> %76, ptr %sslClientSigAlgs, align 8
  %cmp.not.i.i.i.i203 = icmp eq ptr %77, null
  br i1 %cmp.not.i.i.i.i203, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit233, label %if.then.i.i.i.i204

if.then.i.i.i.i204:                               ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit200
  %_M_use_count.i.i.i.i.i205 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %77, i64 0, i32 1
  %78 = load atomic i64, ptr %_M_use_count.i.i.i.i.i205 acquire, align 8
  %cmp.i.i.i.i.i206 = icmp eq i64 %78, 4294967297
  %79 = trunc i64 %78 to i32
  br i1 %cmp.i.i.i.i.i206, label %if.then.i.i.i.i.i229, label %if.end.i.i.i.i.i207

if.then.i.i.i.i.i229:                             ; preds = %if.then.i.i.i.i204
  store i32 0, ptr %_M_use_count.i.i.i.i.i205, align 8
  %_M_weak_count.i.i.i.i.i230 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %77, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i230, align 4
  %vtable.i.i.i.i.i231 = load ptr, ptr %77, align 8
  %vfn.i.i.i.i.i232 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i231, i64 2
  %80 = load ptr, ptr %vfn.i.i.i.i.i232, align 8
  tail call void %80(ptr noundef nonnull align 8 dereferenceable(16) %77) #28
  br label %if.end8.sink.split.i.i.i.i.i224

if.end.i.i.i.i.i207:                              ; preds = %if.then.i.i.i.i204
  %81 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i208 = icmp eq i8 %81, 0
  br i1 %tobool.i.not.i.i.i.i.i208, label %if.else.i.i.i.i.i.i228, label %if.then.i.i.i.i.i.i209

if.then.i.i.i.i.i.i209:                           ; preds = %if.end.i.i.i.i.i207
  %add.i.i.i.i.i.i210 = add nsw i32 %79, -1
  store i32 %add.i.i.i.i.i.i210, ptr %_M_use_count.i.i.i.i.i205, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i211

if.else.i.i.i.i.i.i228:                           ; preds = %if.end.i.i.i.i.i207
  %82 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i205, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i211

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i211: ; preds = %if.else.i.i.i.i.i.i228, %if.then.i.i.i.i.i.i209
  %retval.i.0.i.i.i.i.i212 = phi i32 [ %79, %if.then.i.i.i.i.i.i209 ], [ %82, %if.else.i.i.i.i.i.i228 ]
  %cmp6.i.i.i.i.i213 = icmp eq i32 %retval.i.0.i.i.i.i.i212, 1
  br i1 %cmp6.i.i.i.i.i213, label %if.then7.i.i.i.i.i214, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit233

if.then7.i.i.i.i.i214:                            ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i211
  %vtable.i.i.i.i.i.i.i215 = load ptr, ptr %77, align 8
  %vfn.i.i.i.i.i.i.i216 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i215, i64 2
  %83 = load ptr, ptr %vfn.i.i.i.i.i.i.i216, align 8
  tail call void %83(ptr noundef nonnull align 8 dereferenceable(16) %77) #28
  %_M_weak_count.i.i.i.i.i.i.i217 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %77, i64 0, i32 2
  %84 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i218 = icmp eq i8 %84, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i218, label %if.else.i.i.i.i.i.i.i.i227, label %if.then.i.i.i.i.i.i.i.i219

if.then.i.i.i.i.i.i.i.i219:                       ; preds = %if.then7.i.i.i.i.i214
  %85 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i217, align 4
  %add.i.i.i.i.i.i.i.i220 = add nsw i32 %85, -1
  store i32 %add.i.i.i.i.i.i.i.i220, ptr %_M_weak_count.i.i.i.i.i.i.i217, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i221

if.else.i.i.i.i.i.i.i.i227:                       ; preds = %if.then7.i.i.i.i.i214
  %86 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i217, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i221

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i221: ; preds = %if.else.i.i.i.i.i.i.i.i227, %if.then.i.i.i.i.i.i.i.i219
  %retval.i.0.i.i.i.i.i.i.i222 = phi i32 [ %85, %if.then.i.i.i.i.i.i.i.i219 ], [ %86, %if.else.i.i.i.i.i.i.i.i227 ]
  %cmp.i.i.i.i.i.i.i223 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i222, 1
  br i1 %cmp.i.i.i.i.i.i.i223, label %if.end8.sink.split.i.i.i.i.i224, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit233

if.end8.sink.split.i.i.i.i.i224:                  ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i221, %if.then.i.i.i.i.i229
  %vtable2.i.i.i.i.i.i.i225 = load ptr, ptr %77, align 8
  %vfn3.i.i.i.i.i.i.i226 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i225, i64 3
  %87 = load ptr, ptr %vfn3.i.i.i.i.i.i.i226, align 8
  tail call void %87(ptr noundef nonnull align 8 dereferenceable(16) %77) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit233

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit233: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit200, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i211, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i221, %if.end8.sink.split.i.i.i.i.i224
  %sslClientSupportedVersions = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 24
  %sslClientSupportedVersions23 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 24
  %_M_refcount3.i.i.i235 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 24, i32 0, i32 1
  %88 = load <2 x ptr>, ptr %sslClientSupportedVersions23, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %sslClientSupportedVersions23, i8 0, i64 16, i1 false)
  %89 = load ptr, ptr %_M_refcount3.i.i.i235, align 8
  store <2 x ptr> %88, ptr %sslClientSupportedVersions, align 8
  %cmp.not.i.i.i.i236 = icmp eq ptr %89, null
  br i1 %cmp.not.i.i.i.i236, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit266, label %if.then.i.i.i.i237

if.then.i.i.i.i237:                               ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit233
  %_M_use_count.i.i.i.i.i238 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %89, i64 0, i32 1
  %90 = load atomic i64, ptr %_M_use_count.i.i.i.i.i238 acquire, align 8
  %cmp.i.i.i.i.i239 = icmp eq i64 %90, 4294967297
  %91 = trunc i64 %90 to i32
  br i1 %cmp.i.i.i.i.i239, label %if.then.i.i.i.i.i262, label %if.end.i.i.i.i.i240

if.then.i.i.i.i.i262:                             ; preds = %if.then.i.i.i.i237
  store i32 0, ptr %_M_use_count.i.i.i.i.i238, align 8
  %_M_weak_count.i.i.i.i.i263 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %89, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i263, align 4
  %vtable.i.i.i.i.i264 = load ptr, ptr %89, align 8
  %vfn.i.i.i.i.i265 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i264, i64 2
  %92 = load ptr, ptr %vfn.i.i.i.i.i265, align 8
  tail call void %92(ptr noundef nonnull align 8 dereferenceable(16) %89) #28
  br label %if.end8.sink.split.i.i.i.i.i257

if.end.i.i.i.i.i240:                              ; preds = %if.then.i.i.i.i237
  %93 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i241 = icmp eq i8 %93, 0
  br i1 %tobool.i.not.i.i.i.i.i241, label %if.else.i.i.i.i.i.i261, label %if.then.i.i.i.i.i.i242

if.then.i.i.i.i.i.i242:                           ; preds = %if.end.i.i.i.i.i240
  %add.i.i.i.i.i.i243 = add nsw i32 %91, -1
  store i32 %add.i.i.i.i.i.i243, ptr %_M_use_count.i.i.i.i.i238, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i244

if.else.i.i.i.i.i.i261:                           ; preds = %if.end.i.i.i.i.i240
  %94 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i238, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i244

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i244: ; preds = %if.else.i.i.i.i.i.i261, %if.then.i.i.i.i.i.i242
  %retval.i.0.i.i.i.i.i245 = phi i32 [ %91, %if.then.i.i.i.i.i.i242 ], [ %94, %if.else.i.i.i.i.i.i261 ]
  %cmp6.i.i.i.i.i246 = icmp eq i32 %retval.i.0.i.i.i.i.i245, 1
  br i1 %cmp6.i.i.i.i.i246, label %if.then7.i.i.i.i.i247, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit266

if.then7.i.i.i.i.i247:                            ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i244
  %vtable.i.i.i.i.i.i.i248 = load ptr, ptr %89, align 8
  %vfn.i.i.i.i.i.i.i249 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i248, i64 2
  %95 = load ptr, ptr %vfn.i.i.i.i.i.i.i249, align 8
  tail call void %95(ptr noundef nonnull align 8 dereferenceable(16) %89) #28
  %_M_weak_count.i.i.i.i.i.i.i250 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %89, i64 0, i32 2
  %96 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i251 = icmp eq i8 %96, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i251, label %if.else.i.i.i.i.i.i.i.i260, label %if.then.i.i.i.i.i.i.i.i252

if.then.i.i.i.i.i.i.i.i252:                       ; preds = %if.then7.i.i.i.i.i247
  %97 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i250, align 4
  %add.i.i.i.i.i.i.i.i253 = add nsw i32 %97, -1
  store i32 %add.i.i.i.i.i.i.i.i253, ptr %_M_weak_count.i.i.i.i.i.i.i250, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i254

if.else.i.i.i.i.i.i.i.i260:                       ; preds = %if.then7.i.i.i.i.i247
  %98 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i250, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i254

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i254: ; preds = %if.else.i.i.i.i.i.i.i.i260, %if.then.i.i.i.i.i.i.i.i252
  %retval.i.0.i.i.i.i.i.i.i255 = phi i32 [ %97, %if.then.i.i.i.i.i.i.i.i252 ], [ %98, %if.else.i.i.i.i.i.i.i.i260 ]
  %cmp.i.i.i.i.i.i.i256 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i255, 1
  br i1 %cmp.i.i.i.i.i.i.i256, label %if.end8.sink.split.i.i.i.i.i257, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit266

if.end8.sink.split.i.i.i.i.i257:                  ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i254, %if.then.i.i.i.i.i262
  %vtable2.i.i.i.i.i.i.i258 = load ptr, ptr %89, align 8
  %vfn3.i.i.i.i.i.i.i259 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i258, i64 3
  %99 = load ptr, ptr %vfn3.i.i.i.i.i.i.i259, align 8
  tail call void %99(ptr noundef nonnull align 8 dereferenceable(16) %89) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit266

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit266: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit233, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i244, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i254, %if.end8.sink.split.i.i.i.i.i257
  %sslSignature = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 25
  %sslSignature25 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 25
  %_M_refcount3.i.i.i268 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 25, i32 0, i32 1
  %100 = load <2 x ptr>, ptr %sslSignature25, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %sslSignature25, i8 0, i64 16, i1 false)
  %101 = load ptr, ptr %_M_refcount3.i.i.i268, align 8
  store <2 x ptr> %100, ptr %sslSignature, align 8
  %cmp.not.i.i.i.i269 = icmp eq ptr %101, null
  br i1 %cmp.not.i.i.i.i269, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit299, label %if.then.i.i.i.i270

if.then.i.i.i.i270:                               ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit266
  %_M_use_count.i.i.i.i.i271 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %101, i64 0, i32 1
  %102 = load atomic i64, ptr %_M_use_count.i.i.i.i.i271 acquire, align 8
  %cmp.i.i.i.i.i272 = icmp eq i64 %102, 4294967297
  %103 = trunc i64 %102 to i32
  br i1 %cmp.i.i.i.i.i272, label %if.then.i.i.i.i.i295, label %if.end.i.i.i.i.i273

if.then.i.i.i.i.i295:                             ; preds = %if.then.i.i.i.i270
  store i32 0, ptr %_M_use_count.i.i.i.i.i271, align 8
  %_M_weak_count.i.i.i.i.i296 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %101, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i296, align 4
  %vtable.i.i.i.i.i297 = load ptr, ptr %101, align 8
  %vfn.i.i.i.i.i298 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i297, i64 2
  %104 = load ptr, ptr %vfn.i.i.i.i.i298, align 8
  tail call void %104(ptr noundef nonnull align 8 dereferenceable(16) %101) #28
  br label %if.end8.sink.split.i.i.i.i.i290

if.end.i.i.i.i.i273:                              ; preds = %if.then.i.i.i.i270
  %105 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i274 = icmp eq i8 %105, 0
  br i1 %tobool.i.not.i.i.i.i.i274, label %if.else.i.i.i.i.i.i294, label %if.then.i.i.i.i.i.i275

if.then.i.i.i.i.i.i275:                           ; preds = %if.end.i.i.i.i.i273
  %add.i.i.i.i.i.i276 = add nsw i32 %103, -1
  store i32 %add.i.i.i.i.i.i276, ptr %_M_use_count.i.i.i.i.i271, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i277

if.else.i.i.i.i.i.i294:                           ; preds = %if.end.i.i.i.i.i273
  %106 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i271, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i277

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i277: ; preds = %if.else.i.i.i.i.i.i294, %if.then.i.i.i.i.i.i275
  %retval.i.0.i.i.i.i.i278 = phi i32 [ %103, %if.then.i.i.i.i.i.i275 ], [ %106, %if.else.i.i.i.i.i.i294 ]
  %cmp6.i.i.i.i.i279 = icmp eq i32 %retval.i.0.i.i.i.i.i278, 1
  br i1 %cmp6.i.i.i.i.i279, label %if.then7.i.i.i.i.i280, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit299

if.then7.i.i.i.i.i280:                            ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i277
  %vtable.i.i.i.i.i.i.i281 = load ptr, ptr %101, align 8
  %vfn.i.i.i.i.i.i.i282 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i281, i64 2
  %107 = load ptr, ptr %vfn.i.i.i.i.i.i.i282, align 8
  tail call void %107(ptr noundef nonnull align 8 dereferenceable(16) %101) #28
  %_M_weak_count.i.i.i.i.i.i.i283 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %101, i64 0, i32 2
  %108 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i284 = icmp eq i8 %108, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i284, label %if.else.i.i.i.i.i.i.i.i293, label %if.then.i.i.i.i.i.i.i.i285

if.then.i.i.i.i.i.i.i.i285:                       ; preds = %if.then7.i.i.i.i.i280
  %109 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i283, align 4
  %add.i.i.i.i.i.i.i.i286 = add nsw i32 %109, -1
  store i32 %add.i.i.i.i.i.i.i.i286, ptr %_M_weak_count.i.i.i.i.i.i.i283, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i287

if.else.i.i.i.i.i.i.i.i293:                       ; preds = %if.then7.i.i.i.i.i280
  %110 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i283, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i287

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i287: ; preds = %if.else.i.i.i.i.i.i.i.i293, %if.then.i.i.i.i.i.i.i.i285
  %retval.i.0.i.i.i.i.i.i.i288 = phi i32 [ %109, %if.then.i.i.i.i.i.i.i.i285 ], [ %110, %if.else.i.i.i.i.i.i.i.i293 ]
  %cmp.i.i.i.i.i.i.i289 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i288, 1
  br i1 %cmp.i.i.i.i.i.i.i289, label %if.end8.sink.split.i.i.i.i.i290, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit299

if.end8.sink.split.i.i.i.i.i290:                  ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i287, %if.then.i.i.i.i.i295
  %vtable2.i.i.i.i.i.i.i291 = load ptr, ptr %101, align 8
  %vfn3.i.i.i.i.i.i.i292 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i291, i64 3
  %111 = load ptr, ptr %vfn3.i.i.i.i.i.i.i292, align 8
  tail call void %111(ptr noundef nonnull align 8 dereferenceable(16) %101) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit299

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit299: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit266, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i277, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i287, %if.end8.sink.split.i.i.i.i.i290
  %sslServerCiphers = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 26
  %sslServerCiphers27 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 26
  %_M_refcount3.i.i.i301 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 26, i32 0, i32 1
  %112 = load <2 x ptr>, ptr %sslServerCiphers27, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %sslServerCiphers27, i8 0, i64 16, i1 false)
  %113 = load ptr, ptr %_M_refcount3.i.i.i301, align 8
  store <2 x ptr> %112, ptr %sslServerCiphers, align 8
  %cmp.not.i.i.i.i302 = icmp eq ptr %113, null
  br i1 %cmp.not.i.i.i.i302, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit332, label %if.then.i.i.i.i303

if.then.i.i.i.i303:                               ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit299
  %_M_use_count.i.i.i.i.i304 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %113, i64 0, i32 1
  %114 = load atomic i64, ptr %_M_use_count.i.i.i.i.i304 acquire, align 8
  %cmp.i.i.i.i.i305 = icmp eq i64 %114, 4294967297
  %115 = trunc i64 %114 to i32
  br i1 %cmp.i.i.i.i.i305, label %if.then.i.i.i.i.i328, label %if.end.i.i.i.i.i306

if.then.i.i.i.i.i328:                             ; preds = %if.then.i.i.i.i303
  store i32 0, ptr %_M_use_count.i.i.i.i.i304, align 8
  %_M_weak_count.i.i.i.i.i329 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %113, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i329, align 4
  %vtable.i.i.i.i.i330 = load ptr, ptr %113, align 8
  %vfn.i.i.i.i.i331 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i330, i64 2
  %116 = load ptr, ptr %vfn.i.i.i.i.i331, align 8
  tail call void %116(ptr noundef nonnull align 8 dereferenceable(16) %113) #28
  br label %if.end8.sink.split.i.i.i.i.i323

if.end.i.i.i.i.i306:                              ; preds = %if.then.i.i.i.i303
  %117 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i307 = icmp eq i8 %117, 0
  br i1 %tobool.i.not.i.i.i.i.i307, label %if.else.i.i.i.i.i.i327, label %if.then.i.i.i.i.i.i308

if.then.i.i.i.i.i.i308:                           ; preds = %if.end.i.i.i.i.i306
  %add.i.i.i.i.i.i309 = add nsw i32 %115, -1
  store i32 %add.i.i.i.i.i.i309, ptr %_M_use_count.i.i.i.i.i304, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i310

if.else.i.i.i.i.i.i327:                           ; preds = %if.end.i.i.i.i.i306
  %118 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i304, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i310

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i310: ; preds = %if.else.i.i.i.i.i.i327, %if.then.i.i.i.i.i.i308
  %retval.i.0.i.i.i.i.i311 = phi i32 [ %115, %if.then.i.i.i.i.i.i308 ], [ %118, %if.else.i.i.i.i.i.i327 ]
  %cmp6.i.i.i.i.i312 = icmp eq i32 %retval.i.0.i.i.i.i.i311, 1
  br i1 %cmp6.i.i.i.i.i312, label %if.then7.i.i.i.i.i313, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit332

if.then7.i.i.i.i.i313:                            ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i310
  %vtable.i.i.i.i.i.i.i314 = load ptr, ptr %113, align 8
  %vfn.i.i.i.i.i.i.i315 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i314, i64 2
  %119 = load ptr, ptr %vfn.i.i.i.i.i.i.i315, align 8
  tail call void %119(ptr noundef nonnull align 8 dereferenceable(16) %113) #28
  %_M_weak_count.i.i.i.i.i.i.i316 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %113, i64 0, i32 2
  %120 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i317 = icmp eq i8 %120, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i317, label %if.else.i.i.i.i.i.i.i.i326, label %if.then.i.i.i.i.i.i.i.i318

if.then.i.i.i.i.i.i.i.i318:                       ; preds = %if.then7.i.i.i.i.i313
  %121 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i316, align 4
  %add.i.i.i.i.i.i.i.i319 = add nsw i32 %121, -1
  store i32 %add.i.i.i.i.i.i.i.i319, ptr %_M_weak_count.i.i.i.i.i.i.i316, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i320

if.else.i.i.i.i.i.i.i.i326:                       ; preds = %if.then7.i.i.i.i.i313
  %122 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i316, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i320

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i320: ; preds = %if.else.i.i.i.i.i.i.i.i326, %if.then.i.i.i.i.i.i.i.i318
  %retval.i.0.i.i.i.i.i.i.i321 = phi i32 [ %121, %if.then.i.i.i.i.i.i.i.i318 ], [ %122, %if.else.i.i.i.i.i.i.i.i326 ]
  %cmp.i.i.i.i.i.i.i322 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i321, 1
  br i1 %cmp.i.i.i.i.i.i.i322, label %if.end8.sink.split.i.i.i.i.i323, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit332

if.end8.sink.split.i.i.i.i.i323:                  ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i320, %if.then.i.i.i.i.i328
  %vtable2.i.i.i.i.i.i.i324 = load ptr, ptr %113, align 8
  %vfn3.i.i.i.i.i.i.i325 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i324, i64 3
  %123 = load ptr, ptr %vfn3.i.i.i.i.i.i.i325, align 8
  tail call void %123(ptr noundef nonnull align 8 dereferenceable(16) %113) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit332

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit332: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit299, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i310, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i320, %if.end8.sink.split.i.i.i.i.i323
  %guessedUserAgent = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 27
  %guessedUserAgent29 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 27
  %_M_refcount3.i.i.i334 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 27, i32 0, i32 1
  %124 = load <2 x ptr>, ptr %guessedUserAgent29, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %guessedUserAgent29, i8 0, i64 16, i1 false)
  %125 = load ptr, ptr %_M_refcount3.i.i.i334, align 8
  store <2 x ptr> %124, ptr %guessedUserAgent, align 8
  %cmp.not.i.i.i.i335 = icmp eq ptr %125, null
  br i1 %cmp.not.i.i.i.i335, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit365, label %if.then.i.i.i.i336

if.then.i.i.i.i336:                               ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit332
  %_M_use_count.i.i.i.i.i337 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %125, i64 0, i32 1
  %126 = load atomic i64, ptr %_M_use_count.i.i.i.i.i337 acquire, align 8
  %cmp.i.i.i.i.i338 = icmp eq i64 %126, 4294967297
  %127 = trunc i64 %126 to i32
  br i1 %cmp.i.i.i.i.i338, label %if.then.i.i.i.i.i361, label %if.end.i.i.i.i.i339

if.then.i.i.i.i.i361:                             ; preds = %if.then.i.i.i.i336
  store i32 0, ptr %_M_use_count.i.i.i.i.i337, align 8
  %_M_weak_count.i.i.i.i.i362 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %125, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i362, align 4
  %vtable.i.i.i.i.i363 = load ptr, ptr %125, align 8
  %vfn.i.i.i.i.i364 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i363, i64 2
  %128 = load ptr, ptr %vfn.i.i.i.i.i364, align 8
  tail call void %128(ptr noundef nonnull align 8 dereferenceable(16) %125) #28
  br label %if.end8.sink.split.i.i.i.i.i356

if.end.i.i.i.i.i339:                              ; preds = %if.then.i.i.i.i336
  %129 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i340 = icmp eq i8 %129, 0
  br i1 %tobool.i.not.i.i.i.i.i340, label %if.else.i.i.i.i.i.i360, label %if.then.i.i.i.i.i.i341

if.then.i.i.i.i.i.i341:                           ; preds = %if.end.i.i.i.i.i339
  %add.i.i.i.i.i.i342 = add nsw i32 %127, -1
  store i32 %add.i.i.i.i.i.i342, ptr %_M_use_count.i.i.i.i.i337, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i343

if.else.i.i.i.i.i.i360:                           ; preds = %if.end.i.i.i.i.i339
  %130 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i337, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i343

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i343: ; preds = %if.else.i.i.i.i.i.i360, %if.then.i.i.i.i.i.i341
  %retval.i.0.i.i.i.i.i344 = phi i32 [ %127, %if.then.i.i.i.i.i.i341 ], [ %130, %if.else.i.i.i.i.i.i360 ]
  %cmp6.i.i.i.i.i345 = icmp eq i32 %retval.i.0.i.i.i.i.i344, 1
  br i1 %cmp6.i.i.i.i.i345, label %if.then7.i.i.i.i.i346, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit365

if.then7.i.i.i.i.i346:                            ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i343
  %vtable.i.i.i.i.i.i.i347 = load ptr, ptr %125, align 8
  %vfn.i.i.i.i.i.i.i348 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i347, i64 2
  %131 = load ptr, ptr %vfn.i.i.i.i.i.i.i348, align 8
  tail call void %131(ptr noundef nonnull align 8 dereferenceable(16) %125) #28
  %_M_weak_count.i.i.i.i.i.i.i349 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %125, i64 0, i32 2
  %132 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i350 = icmp eq i8 %132, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i350, label %if.else.i.i.i.i.i.i.i.i359, label %if.then.i.i.i.i.i.i.i.i351

if.then.i.i.i.i.i.i.i.i351:                       ; preds = %if.then7.i.i.i.i.i346
  %133 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i349, align 4
  %add.i.i.i.i.i.i.i.i352 = add nsw i32 %133, -1
  store i32 %add.i.i.i.i.i.i.i.i352, ptr %_M_weak_count.i.i.i.i.i.i.i349, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i353

if.else.i.i.i.i.i.i.i.i359:                       ; preds = %if.then7.i.i.i.i.i346
  %134 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i349, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i353

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i353: ; preds = %if.else.i.i.i.i.i.i.i.i359, %if.then.i.i.i.i.i.i.i.i351
  %retval.i.0.i.i.i.i.i.i.i354 = phi i32 [ %133, %if.then.i.i.i.i.i.i.i.i351 ], [ %134, %if.else.i.i.i.i.i.i.i.i359 ]
  %cmp.i.i.i.i.i.i.i355 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i354, 1
  br i1 %cmp.i.i.i.i.i.i.i355, label %if.end8.sink.split.i.i.i.i.i356, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit365

if.end8.sink.split.i.i.i.i.i356:                  ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i353, %if.then.i.i.i.i.i361
  %vtable2.i.i.i.i.i.i.i357 = load ptr, ptr %125, align 8
  %vfn3.i.i.i.i.i.i.i358 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i357, i64 3
  %135 = load ptr, ptr %vfn3.i.i.i.i.i.i.i358, align 8
  tail call void %135(ptr noundef nonnull align 8 dereferenceable(16) %125) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit365

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit365: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit332, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i343, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i353, %if.end8.sink.split.i.i.i.i.i356
  %appProtocol = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 28
  %appProtocol31 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 28
  %_M_refcount3.i.i.i367 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 28, i32 0, i32 1
  %136 = load <2 x ptr>, ptr %appProtocol31, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %appProtocol31, i8 0, i64 16, i1 false)
  %137 = load ptr, ptr %_M_refcount3.i.i.i367, align 8
  store <2 x ptr> %136, ptr %appProtocol, align 8
  %cmp.not.i.i.i.i368 = icmp eq ptr %137, null
  br i1 %cmp.not.i.i.i.i368, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit398, label %if.then.i.i.i.i369

if.then.i.i.i.i369:                               ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit365
  %_M_use_count.i.i.i.i.i370 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %137, i64 0, i32 1
  %138 = load atomic i64, ptr %_M_use_count.i.i.i.i.i370 acquire, align 8
  %cmp.i.i.i.i.i371 = icmp eq i64 %138, 4294967297
  %139 = trunc i64 %138 to i32
  br i1 %cmp.i.i.i.i.i371, label %if.then.i.i.i.i.i394, label %if.end.i.i.i.i.i372

if.then.i.i.i.i.i394:                             ; preds = %if.then.i.i.i.i369
  store i32 0, ptr %_M_use_count.i.i.i.i.i370, align 8
  %_M_weak_count.i.i.i.i.i395 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %137, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i395, align 4
  %vtable.i.i.i.i.i396 = load ptr, ptr %137, align 8
  %vfn.i.i.i.i.i397 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i396, i64 2
  %140 = load ptr, ptr %vfn.i.i.i.i.i397, align 8
  tail call void %140(ptr noundef nonnull align 8 dereferenceable(16) %137) #28
  br label %if.end8.sink.split.i.i.i.i.i389

if.end.i.i.i.i.i372:                              ; preds = %if.then.i.i.i.i369
  %141 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i373 = icmp eq i8 %141, 0
  br i1 %tobool.i.not.i.i.i.i.i373, label %if.else.i.i.i.i.i.i393, label %if.then.i.i.i.i.i.i374

if.then.i.i.i.i.i.i374:                           ; preds = %if.end.i.i.i.i.i372
  %add.i.i.i.i.i.i375 = add nsw i32 %139, -1
  store i32 %add.i.i.i.i.i.i375, ptr %_M_use_count.i.i.i.i.i370, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i376

if.else.i.i.i.i.i.i393:                           ; preds = %if.end.i.i.i.i.i372
  %142 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i370, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i376

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i376: ; preds = %if.else.i.i.i.i.i.i393, %if.then.i.i.i.i.i.i374
  %retval.i.0.i.i.i.i.i377 = phi i32 [ %139, %if.then.i.i.i.i.i.i374 ], [ %142, %if.else.i.i.i.i.i.i393 ]
  %cmp6.i.i.i.i.i378 = icmp eq i32 %retval.i.0.i.i.i.i.i377, 1
  br i1 %cmp6.i.i.i.i.i378, label %if.then7.i.i.i.i.i379, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit398

if.then7.i.i.i.i.i379:                            ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i376
  %vtable.i.i.i.i.i.i.i380 = load ptr, ptr %137, align 8
  %vfn.i.i.i.i.i.i.i381 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i380, i64 2
  %143 = load ptr, ptr %vfn.i.i.i.i.i.i.i381, align 8
  tail call void %143(ptr noundef nonnull align 8 dereferenceable(16) %137) #28
  %_M_weak_count.i.i.i.i.i.i.i382 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %137, i64 0, i32 2
  %144 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i383 = icmp eq i8 %144, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i383, label %if.else.i.i.i.i.i.i.i.i392, label %if.then.i.i.i.i.i.i.i.i384

if.then.i.i.i.i.i.i.i.i384:                       ; preds = %if.then7.i.i.i.i.i379
  %145 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i382, align 4
  %add.i.i.i.i.i.i.i.i385 = add nsw i32 %145, -1
  store i32 %add.i.i.i.i.i.i.i.i385, ptr %_M_weak_count.i.i.i.i.i.i.i382, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i386

if.else.i.i.i.i.i.i.i.i392:                       ; preds = %if.then7.i.i.i.i.i379
  %146 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i382, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i386

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i386: ; preds = %if.else.i.i.i.i.i.i.i.i392, %if.then.i.i.i.i.i.i.i.i384
  %retval.i.0.i.i.i.i.i.i.i387 = phi i32 [ %145, %if.then.i.i.i.i.i.i.i.i384 ], [ %146, %if.else.i.i.i.i.i.i.i.i392 ]
  %cmp.i.i.i.i.i.i.i388 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i387, 1
  br i1 %cmp.i.i.i.i.i.i.i388, label %if.end8.sink.split.i.i.i.i.i389, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit398

if.end8.sink.split.i.i.i.i.i389:                  ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i386, %if.then.i.i.i.i.i394
  %vtable2.i.i.i.i.i.i.i390 = load ptr, ptr %137, align 8
  %vfn3.i.i.i.i.i.i.i391 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i390, i64 3
  %147 = load ptr, ptr %vfn3.i.i.i.i.i.i.i391, align 8
  tail call void %147(ptr noundef nonnull align 8 dereferenceable(16) %137) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit398

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit398: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit365, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i376, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i386, %if.end8.sink.split.i.i.i.i.i389
  %clientAlpns = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 29
  %clientAlpns33 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 29
  %_M_refcount3.i.i.i400 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 29, i32 0, i32 1
  %148 = load <2 x ptr>, ptr %clientAlpns33, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %clientAlpns33, i8 0, i64 16, i1 false)
  %149 = load ptr, ptr %_M_refcount3.i.i.i400, align 8
  store <2 x ptr> %148, ptr %clientAlpns, align 8
  %cmp.not.i.i.i.i401 = icmp eq ptr %149, null
  br i1 %cmp.not.i.i.i.i401, label %_ZNSt10shared_ptrISt6vectorINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIS6_EEEaSEOS9_.exit, label %if.then.i.i.i.i402

if.then.i.i.i.i402:                               ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit398
  %_M_use_count.i.i.i.i.i403 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %149, i64 0, i32 1
  %150 = load atomic i64, ptr %_M_use_count.i.i.i.i.i403 acquire, align 8
  %cmp.i.i.i.i.i404 = icmp eq i64 %150, 4294967297
  %151 = trunc i64 %150 to i32
  br i1 %cmp.i.i.i.i.i404, label %if.then.i.i.i.i.i427, label %if.end.i.i.i.i.i405

if.then.i.i.i.i.i427:                             ; preds = %if.then.i.i.i.i402
  store i32 0, ptr %_M_use_count.i.i.i.i.i403, align 8
  %_M_weak_count.i.i.i.i.i428 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %149, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i428, align 4
  %vtable.i.i.i.i.i429 = load ptr, ptr %149, align 8
  %vfn.i.i.i.i.i430 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i429, i64 2
  %152 = load ptr, ptr %vfn.i.i.i.i.i430, align 8
  tail call void %152(ptr noundef nonnull align 8 dereferenceable(16) %149) #28
  br label %if.end8.sink.split.i.i.i.i.i422

if.end.i.i.i.i.i405:                              ; preds = %if.then.i.i.i.i402
  %153 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i406 = icmp eq i8 %153, 0
  br i1 %tobool.i.not.i.i.i.i.i406, label %if.else.i.i.i.i.i.i426, label %if.then.i.i.i.i.i.i407

if.then.i.i.i.i.i.i407:                           ; preds = %if.end.i.i.i.i.i405
  %add.i.i.i.i.i.i408 = add nsw i32 %151, -1
  store i32 %add.i.i.i.i.i.i408, ptr %_M_use_count.i.i.i.i.i403, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i409

if.else.i.i.i.i.i.i426:                           ; preds = %if.end.i.i.i.i.i405
  %154 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i403, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i409

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i409: ; preds = %if.else.i.i.i.i.i.i426, %if.then.i.i.i.i.i.i407
  %retval.i.0.i.i.i.i.i410 = phi i32 [ %151, %if.then.i.i.i.i.i.i407 ], [ %154, %if.else.i.i.i.i.i.i426 ]
  %cmp6.i.i.i.i.i411 = icmp eq i32 %retval.i.0.i.i.i.i.i410, 1
  br i1 %cmp6.i.i.i.i.i411, label %if.then7.i.i.i.i.i412, label %_ZNSt10shared_ptrISt6vectorINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIS6_EEEaSEOS9_.exit

if.then7.i.i.i.i.i412:                            ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i409
  %vtable.i.i.i.i.i.i.i413 = load ptr, ptr %149, align 8
  %vfn.i.i.i.i.i.i.i414 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i413, i64 2
  %155 = load ptr, ptr %vfn.i.i.i.i.i.i.i414, align 8
  tail call void %155(ptr noundef nonnull align 8 dereferenceable(16) %149) #28
  %_M_weak_count.i.i.i.i.i.i.i415 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %149, i64 0, i32 2
  %156 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i416 = icmp eq i8 %156, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i416, label %if.else.i.i.i.i.i.i.i.i425, label %if.then.i.i.i.i.i.i.i.i417

if.then.i.i.i.i.i.i.i.i417:                       ; preds = %if.then7.i.i.i.i.i412
  %157 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i415, align 4
  %add.i.i.i.i.i.i.i.i418 = add nsw i32 %157, -1
  store i32 %add.i.i.i.i.i.i.i.i418, ptr %_M_weak_count.i.i.i.i.i.i.i415, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i419

if.else.i.i.i.i.i.i.i.i425:                       ; preds = %if.then7.i.i.i.i.i412
  %158 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i415, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i419

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i419: ; preds = %if.else.i.i.i.i.i.i.i.i425, %if.then.i.i.i.i.i.i.i.i417
  %retval.i.0.i.i.i.i.i.i.i420 = phi i32 [ %157, %if.then.i.i.i.i.i.i.i.i417 ], [ %158, %if.else.i.i.i.i.i.i.i.i425 ]
  %cmp.i.i.i.i.i.i.i421 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i420, 1
  br i1 %cmp.i.i.i.i.i.i.i421, label %if.end8.sink.split.i.i.i.i.i422, label %_ZNSt10shared_ptrISt6vectorINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIS6_EEEaSEOS9_.exit

if.end8.sink.split.i.i.i.i.i422:                  ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i419, %if.then.i.i.i.i.i427
  %vtable2.i.i.i.i.i.i.i423 = load ptr, ptr %149, align 8
  %vfn3.i.i.i.i.i.i.i424 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i423, i64 3
  %159 = load ptr, ptr %vfn3.i.i.i.i.i.i.i424, align 8
  tail call void %159(ptr noundef nonnull align 8 dereferenceable(16) %149) #28
  br label %_ZNSt10shared_ptrISt6vectorINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIS6_EEEaSEOS9_.exit

_ZNSt10shared_ptrISt6vectorINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIS6_EEEaSEOS9_.exit: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit398, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i409, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i419, %if.end8.sink.split.i.i.i.i.i422
  %totalBytes = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 30
  %totalBytes35 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 30
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %totalBytes, ptr noundef nonnull align 8 dereferenceable(24) %totalBytes35, i64 24, i1 false)
  %remoteAddr = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 33
  %remoteAddr36 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 33
  %_M_refcount3.i.i.i432 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 33, i32 0, i32 1
  %160 = load <2 x ptr>, ptr %remoteAddr36, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %remoteAddr36, i8 0, i64 16, i1 false)
  %161 = load ptr, ptr %_M_refcount3.i.i.i432, align 8
  store <2 x ptr> %160, ptr %remoteAddr, align 8
  %cmp.not.i.i.i.i433 = icmp eq ptr %161, null
  br i1 %cmp.not.i.i.i.i433, label %_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit, label %if.then.i.i.i.i434

if.then.i.i.i.i434:                               ; preds = %_ZNSt10shared_ptrISt6vectorINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIS6_EEEaSEOS9_.exit
  %_M_use_count.i.i.i.i.i435 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %161, i64 0, i32 1
  %162 = load atomic i64, ptr %_M_use_count.i.i.i.i.i435 acquire, align 8
  %cmp.i.i.i.i.i436 = icmp eq i64 %162, 4294967297
  %163 = trunc i64 %162 to i32
  br i1 %cmp.i.i.i.i.i436, label %if.then.i.i.i.i.i459, label %if.end.i.i.i.i.i437

if.then.i.i.i.i.i459:                             ; preds = %if.then.i.i.i.i434
  store i32 0, ptr %_M_use_count.i.i.i.i.i435, align 8
  %_M_weak_count.i.i.i.i.i460 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %161, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i460, align 4
  %vtable.i.i.i.i.i461 = load ptr, ptr %161, align 8
  %vfn.i.i.i.i.i462 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i461, i64 2
  %164 = load ptr, ptr %vfn.i.i.i.i.i462, align 8
  tail call void %164(ptr noundef nonnull align 8 dereferenceable(16) %161) #28
  br label %if.end8.sink.split.i.i.i.i.i454

if.end.i.i.i.i.i437:                              ; preds = %if.then.i.i.i.i434
  %165 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i438 = icmp eq i8 %165, 0
  br i1 %tobool.i.not.i.i.i.i.i438, label %if.else.i.i.i.i.i.i458, label %if.then.i.i.i.i.i.i439

if.then.i.i.i.i.i.i439:                           ; preds = %if.end.i.i.i.i.i437
  %add.i.i.i.i.i.i440 = add nsw i32 %163, -1
  store i32 %add.i.i.i.i.i.i440, ptr %_M_use_count.i.i.i.i.i435, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i441

if.else.i.i.i.i.i.i458:                           ; preds = %if.end.i.i.i.i.i437
  %166 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i435, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i441

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i441: ; preds = %if.else.i.i.i.i.i.i458, %if.then.i.i.i.i.i.i439
  %retval.i.0.i.i.i.i.i442 = phi i32 [ %163, %if.then.i.i.i.i.i.i439 ], [ %166, %if.else.i.i.i.i.i.i458 ]
  %cmp6.i.i.i.i.i443 = icmp eq i32 %retval.i.0.i.i.i.i.i442, 1
  br i1 %cmp6.i.i.i.i.i443, label %if.then7.i.i.i.i.i444, label %_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit

if.then7.i.i.i.i.i444:                            ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i441
  %vtable.i.i.i.i.i.i.i445 = load ptr, ptr %161, align 8
  %vfn.i.i.i.i.i.i.i446 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i445, i64 2
  %167 = load ptr, ptr %vfn.i.i.i.i.i.i.i446, align 8
  tail call void %167(ptr noundef nonnull align 8 dereferenceable(16) %161) #28
  %_M_weak_count.i.i.i.i.i.i.i447 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %161, i64 0, i32 2
  %168 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i448 = icmp eq i8 %168, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i448, label %if.else.i.i.i.i.i.i.i.i457, label %if.then.i.i.i.i.i.i.i.i449

if.then.i.i.i.i.i.i.i.i449:                       ; preds = %if.then7.i.i.i.i.i444
  %169 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i447, align 4
  %add.i.i.i.i.i.i.i.i450 = add nsw i32 %169, -1
  store i32 %add.i.i.i.i.i.i.i.i450, ptr %_M_weak_count.i.i.i.i.i.i.i447, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i451

if.else.i.i.i.i.i.i.i.i457:                       ; preds = %if.then7.i.i.i.i.i444
  %170 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i447, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i451

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i451: ; preds = %if.else.i.i.i.i.i.i.i.i457, %if.then.i.i.i.i.i.i.i.i449
  %retval.i.0.i.i.i.i.i.i.i452 = phi i32 [ %169, %if.then.i.i.i.i.i.i.i.i449 ], [ %170, %if.else.i.i.i.i.i.i.i.i457 ]
  %cmp.i.i.i.i.i.i.i453 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i452, 1
  br i1 %cmp.i.i.i.i.i.i.i453, label %if.end8.sink.split.i.i.i.i.i454, label %_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit

if.end8.sink.split.i.i.i.i.i454:                  ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i451, %if.then.i.i.i.i.i459
  %vtable2.i.i.i.i.i.i.i455 = load ptr, ptr %161, align 8
  %vfn3.i.i.i.i.i.i.i456 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i455, i64 3
  %171 = load ptr, ptr %vfn3.i.i.i.i.i.i.i456, align 8
  tail call void %171(ptr noundef nonnull align 8 dereferenceable(16) %161) #28
  br label %_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit

_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit: ; preds = %_ZNSt10shared_ptrISt6vectorINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIS6_EEEaSEOS9_.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i441, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i451, %if.end8.sink.split.i.i.i.i.i454
  %localAddr = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 34
  %localAddr38 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 34
  %_M_refcount3.i.i.i464 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 34, i32 0, i32 1
  %172 = load <2 x ptr>, ptr %localAddr38, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %localAddr38, i8 0, i64 16, i1 false)
  %173 = load ptr, ptr %_M_refcount3.i.i.i464, align 8
  store <2 x ptr> %172, ptr %localAddr, align 8
  %cmp.not.i.i.i.i465 = icmp eq ptr %173, null
  br i1 %cmp.not.i.i.i.i465, label %_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit495, label %if.then.i.i.i.i466

if.then.i.i.i.i466:                               ; preds = %_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit
  %_M_use_count.i.i.i.i.i467 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %173, i64 0, i32 1
  %174 = load atomic i64, ptr %_M_use_count.i.i.i.i.i467 acquire, align 8
  %cmp.i.i.i.i.i468 = icmp eq i64 %174, 4294967297
  %175 = trunc i64 %174 to i32
  br i1 %cmp.i.i.i.i.i468, label %if.then.i.i.i.i.i491, label %if.end.i.i.i.i.i469

if.then.i.i.i.i.i491:                             ; preds = %if.then.i.i.i.i466
  store i32 0, ptr %_M_use_count.i.i.i.i.i467, align 8
  %_M_weak_count.i.i.i.i.i492 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %173, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i492, align 4
  %vtable.i.i.i.i.i493 = load ptr, ptr %173, align 8
  %vfn.i.i.i.i.i494 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i493, i64 2
  %176 = load ptr, ptr %vfn.i.i.i.i.i494, align 8
  tail call void %176(ptr noundef nonnull align 8 dereferenceable(16) %173) #28
  br label %if.end8.sink.split.i.i.i.i.i486

if.end.i.i.i.i.i469:                              ; preds = %if.then.i.i.i.i466
  %177 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i470 = icmp eq i8 %177, 0
  br i1 %tobool.i.not.i.i.i.i.i470, label %if.else.i.i.i.i.i.i490, label %if.then.i.i.i.i.i.i471

if.then.i.i.i.i.i.i471:                           ; preds = %if.end.i.i.i.i.i469
  %add.i.i.i.i.i.i472 = add nsw i32 %175, -1
  store i32 %add.i.i.i.i.i.i472, ptr %_M_use_count.i.i.i.i.i467, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i473

if.else.i.i.i.i.i.i490:                           ; preds = %if.end.i.i.i.i.i469
  %178 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i467, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i473

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i473: ; preds = %if.else.i.i.i.i.i.i490, %if.then.i.i.i.i.i.i471
  %retval.i.0.i.i.i.i.i474 = phi i32 [ %175, %if.then.i.i.i.i.i.i471 ], [ %178, %if.else.i.i.i.i.i.i490 ]
  %cmp6.i.i.i.i.i475 = icmp eq i32 %retval.i.0.i.i.i.i.i474, 1
  br i1 %cmp6.i.i.i.i.i475, label %if.then7.i.i.i.i.i476, label %_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit495

if.then7.i.i.i.i.i476:                            ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i473
  %vtable.i.i.i.i.i.i.i477 = load ptr, ptr %173, align 8
  %vfn.i.i.i.i.i.i.i478 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i477, i64 2
  %179 = load ptr, ptr %vfn.i.i.i.i.i.i.i478, align 8
  tail call void %179(ptr noundef nonnull align 8 dereferenceable(16) %173) #28
  %_M_weak_count.i.i.i.i.i.i.i479 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %173, i64 0, i32 2
  %180 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i480 = icmp eq i8 %180, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i480, label %if.else.i.i.i.i.i.i.i.i489, label %if.then.i.i.i.i.i.i.i.i481

if.then.i.i.i.i.i.i.i.i481:                       ; preds = %if.then7.i.i.i.i.i476
  %181 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i479, align 4
  %add.i.i.i.i.i.i.i.i482 = add nsw i32 %181, -1
  store i32 %add.i.i.i.i.i.i.i.i482, ptr %_M_weak_count.i.i.i.i.i.i.i479, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i483

if.else.i.i.i.i.i.i.i.i489:                       ; preds = %if.then7.i.i.i.i.i476
  %182 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i479, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i483

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i483: ; preds = %if.else.i.i.i.i.i.i.i.i489, %if.then.i.i.i.i.i.i.i.i481
  %retval.i.0.i.i.i.i.i.i.i484 = phi i32 [ %181, %if.then.i.i.i.i.i.i.i.i481 ], [ %182, %if.else.i.i.i.i.i.i.i.i489 ]
  %cmp.i.i.i.i.i.i.i485 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i484, 1
  br i1 %cmp.i.i.i.i.i.i.i485, label %if.end8.sink.split.i.i.i.i.i486, label %_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit495

if.end8.sink.split.i.i.i.i.i486:                  ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i483, %if.then.i.i.i.i.i491
  %vtable2.i.i.i.i.i.i.i487 = load ptr, ptr %173, align 8
  %vfn3.i.i.i.i.i.i.i488 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i487, i64 3
  %183 = load ptr, ptr %vfn3.i.i.i.i.i.i.i488, align 8
  tail call void %183(ptr noundef nonnull align 8 dereferenceable(16) %173) #28
  br label %_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit495

_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit495: ; preds = %_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i473, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i483, %if.end8.sink.split.i.i.i.i.i486
  %clientAddrOriginal = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 35
  %clientAddrOriginal40 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 35
  %_M_refcount3.i.i.i497 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 35, i32 0, i32 1
  %184 = load <2 x ptr>, ptr %clientAddrOriginal40, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %clientAddrOriginal40, i8 0, i64 16, i1 false)
  %185 = load ptr, ptr %_M_refcount3.i.i.i497, align 8
  store <2 x ptr> %184, ptr %clientAddrOriginal, align 8
  %cmp.not.i.i.i.i498 = icmp eq ptr %185, null
  br i1 %cmp.not.i.i.i.i498, label %_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit528, label %if.then.i.i.i.i499

if.then.i.i.i.i499:                               ; preds = %_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit495
  %_M_use_count.i.i.i.i.i500 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %185, i64 0, i32 1
  %186 = load atomic i64, ptr %_M_use_count.i.i.i.i.i500 acquire, align 8
  %cmp.i.i.i.i.i501 = icmp eq i64 %186, 4294967297
  %187 = trunc i64 %186 to i32
  br i1 %cmp.i.i.i.i.i501, label %if.then.i.i.i.i.i524, label %if.end.i.i.i.i.i502

if.then.i.i.i.i.i524:                             ; preds = %if.then.i.i.i.i499
  store i32 0, ptr %_M_use_count.i.i.i.i.i500, align 8
  %_M_weak_count.i.i.i.i.i525 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %185, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i525, align 4
  %vtable.i.i.i.i.i526 = load ptr, ptr %185, align 8
  %vfn.i.i.i.i.i527 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i526, i64 2
  %188 = load ptr, ptr %vfn.i.i.i.i.i527, align 8
  tail call void %188(ptr noundef nonnull align 8 dereferenceable(16) %185) #28
  br label %if.end8.sink.split.i.i.i.i.i519

if.end.i.i.i.i.i502:                              ; preds = %if.then.i.i.i.i499
  %189 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i503 = icmp eq i8 %189, 0
  br i1 %tobool.i.not.i.i.i.i.i503, label %if.else.i.i.i.i.i.i523, label %if.then.i.i.i.i.i.i504

if.then.i.i.i.i.i.i504:                           ; preds = %if.end.i.i.i.i.i502
  %add.i.i.i.i.i.i505 = add nsw i32 %187, -1
  store i32 %add.i.i.i.i.i.i505, ptr %_M_use_count.i.i.i.i.i500, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i506

if.else.i.i.i.i.i.i523:                           ; preds = %if.end.i.i.i.i.i502
  %190 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i500, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i506

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i506: ; preds = %if.else.i.i.i.i.i.i523, %if.then.i.i.i.i.i.i504
  %retval.i.0.i.i.i.i.i507 = phi i32 [ %187, %if.then.i.i.i.i.i.i504 ], [ %190, %if.else.i.i.i.i.i.i523 ]
  %cmp6.i.i.i.i.i508 = icmp eq i32 %retval.i.0.i.i.i.i.i507, 1
  br i1 %cmp6.i.i.i.i.i508, label %if.then7.i.i.i.i.i509, label %_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit528

if.then7.i.i.i.i.i509:                            ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i506
  %vtable.i.i.i.i.i.i.i510 = load ptr, ptr %185, align 8
  %vfn.i.i.i.i.i.i.i511 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i510, i64 2
  %191 = load ptr, ptr %vfn.i.i.i.i.i.i.i511, align 8
  tail call void %191(ptr noundef nonnull align 8 dereferenceable(16) %185) #28
  %_M_weak_count.i.i.i.i.i.i.i512 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %185, i64 0, i32 2
  %192 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i513 = icmp eq i8 %192, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i513, label %if.else.i.i.i.i.i.i.i.i522, label %if.then.i.i.i.i.i.i.i.i514

if.then.i.i.i.i.i.i.i.i514:                       ; preds = %if.then7.i.i.i.i.i509
  %193 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i512, align 4
  %add.i.i.i.i.i.i.i.i515 = add nsw i32 %193, -1
  store i32 %add.i.i.i.i.i.i.i.i515, ptr %_M_weak_count.i.i.i.i.i.i.i512, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i516

if.else.i.i.i.i.i.i.i.i522:                       ; preds = %if.then7.i.i.i.i.i509
  %194 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i512, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i516

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i516: ; preds = %if.else.i.i.i.i.i.i.i.i522, %if.then.i.i.i.i.i.i.i.i514
  %retval.i.0.i.i.i.i.i.i.i517 = phi i32 [ %193, %if.then.i.i.i.i.i.i.i.i514 ], [ %194, %if.else.i.i.i.i.i.i.i.i522 ]
  %cmp.i.i.i.i.i.i.i518 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i517, 1
  br i1 %cmp.i.i.i.i.i.i.i518, label %if.end8.sink.split.i.i.i.i.i519, label %_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit528

if.end8.sink.split.i.i.i.i.i519:                  ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i516, %if.then.i.i.i.i.i524
  %vtable2.i.i.i.i.i.i.i520 = load ptr, ptr %185, align 8
  %vfn3.i.i.i.i.i.i.i521 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i520, i64 3
  %195 = load ptr, ptr %vfn3.i.i.i.i.i.i.i521, align 8
  tail call void %195(ptr noundef nonnull align 8 dereferenceable(16) %185) #28
  br label %_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit528

_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit528: ; preds = %_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit495, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i506, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i516, %if.end8.sink.split.i.i.i.i.i519
  %tcpinfoErrno = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 36
  %tcpinfoErrno42 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 36
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %tcpinfoErrno, ptr noundef nonnull align 8 dereferenceable(12) %tcpinfoErrno42, i64 12, i1 false)
  %sslError = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 39
  %sslError43 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 39
  %call44 = tail call noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEaSEOS4_(ptr noundef nonnull align 8 dereferenceable(32) %sslError, ptr noundef nonnull align 8 dereferenceable(32) %sslError43) #28
  %sslVersion = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 40
  %196 = load i16, ptr %sslVersion, align 8
  %sslVersion45 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 40
  store i16 %196, ptr %sslVersion45, align 8
  %sslCertSigAlgName = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 41
  %sslCertSigAlgName46 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 41
  %_M_refcount3.i.i.i530 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 41, i32 0, i32 1
  %197 = load <2 x ptr>, ptr %sslCertSigAlgName46, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %sslCertSigAlgName46, i8 0, i64 16, i1 false)
  %198 = load ptr, ptr %_M_refcount3.i.i.i530, align 8
  store <2 x ptr> %197, ptr %sslCertSigAlgName, align 8
  %cmp.not.i.i.i.i531 = icmp eq ptr %198, null
  br i1 %cmp.not.i.i.i.i531, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit561, label %if.then.i.i.i.i532

if.then.i.i.i.i532:                               ; preds = %_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit528
  %_M_use_count.i.i.i.i.i533 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %198, i64 0, i32 1
  %199 = load atomic i64, ptr %_M_use_count.i.i.i.i.i533 acquire, align 8
  %cmp.i.i.i.i.i534 = icmp eq i64 %199, 4294967297
  %200 = trunc i64 %199 to i32
  br i1 %cmp.i.i.i.i.i534, label %if.then.i.i.i.i.i557, label %if.end.i.i.i.i.i535

if.then.i.i.i.i.i557:                             ; preds = %if.then.i.i.i.i532
  store i32 0, ptr %_M_use_count.i.i.i.i.i533, align 8
  %_M_weak_count.i.i.i.i.i558 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %198, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i558, align 4
  %vtable.i.i.i.i.i559 = load ptr, ptr %198, align 8
  %vfn.i.i.i.i.i560 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i559, i64 2
  %201 = load ptr, ptr %vfn.i.i.i.i.i560, align 8
  tail call void %201(ptr noundef nonnull align 8 dereferenceable(16) %198) #28
  br label %if.end8.sink.split.i.i.i.i.i552

if.end.i.i.i.i.i535:                              ; preds = %if.then.i.i.i.i532
  %202 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i536 = icmp eq i8 %202, 0
  br i1 %tobool.i.not.i.i.i.i.i536, label %if.else.i.i.i.i.i.i556, label %if.then.i.i.i.i.i.i537

if.then.i.i.i.i.i.i537:                           ; preds = %if.end.i.i.i.i.i535
  %add.i.i.i.i.i.i538 = add nsw i32 %200, -1
  store i32 %add.i.i.i.i.i.i538, ptr %_M_use_count.i.i.i.i.i533, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i539

if.else.i.i.i.i.i.i556:                           ; preds = %if.end.i.i.i.i.i535
  %203 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i533, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i539

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i539: ; preds = %if.else.i.i.i.i.i.i556, %if.then.i.i.i.i.i.i537
  %retval.i.0.i.i.i.i.i540 = phi i32 [ %200, %if.then.i.i.i.i.i.i537 ], [ %203, %if.else.i.i.i.i.i.i556 ]
  %cmp6.i.i.i.i.i541 = icmp eq i32 %retval.i.0.i.i.i.i.i540, 1
  br i1 %cmp6.i.i.i.i.i541, label %if.then7.i.i.i.i.i542, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit561

if.then7.i.i.i.i.i542:                            ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i539
  %vtable.i.i.i.i.i.i.i543 = load ptr, ptr %198, align 8
  %vfn.i.i.i.i.i.i.i544 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i543, i64 2
  %204 = load ptr, ptr %vfn.i.i.i.i.i.i.i544, align 8
  tail call void %204(ptr noundef nonnull align 8 dereferenceable(16) %198) #28
  %_M_weak_count.i.i.i.i.i.i.i545 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %198, i64 0, i32 2
  %205 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i546 = icmp eq i8 %205, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i546, label %if.else.i.i.i.i.i.i.i.i555, label %if.then.i.i.i.i.i.i.i.i547

if.then.i.i.i.i.i.i.i.i547:                       ; preds = %if.then7.i.i.i.i.i542
  %206 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i545, align 4
  %add.i.i.i.i.i.i.i.i548 = add nsw i32 %206, -1
  store i32 %add.i.i.i.i.i.i.i.i548, ptr %_M_weak_count.i.i.i.i.i.i.i545, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i549

if.else.i.i.i.i.i.i.i.i555:                       ; preds = %if.then7.i.i.i.i.i542
  %207 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i545, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i549

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i549: ; preds = %if.else.i.i.i.i.i.i.i.i555, %if.then.i.i.i.i.i.i.i.i547
  %retval.i.0.i.i.i.i.i.i.i550 = phi i32 [ %206, %if.then.i.i.i.i.i.i.i.i547 ], [ %207, %if.else.i.i.i.i.i.i.i.i555 ]
  %cmp.i.i.i.i.i.i.i551 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i550, 1
  br i1 %cmp.i.i.i.i.i.i.i551, label %if.end8.sink.split.i.i.i.i.i552, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit561

if.end8.sink.split.i.i.i.i.i552:                  ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i549, %if.then.i.i.i.i.i557
  %vtable2.i.i.i.i.i.i.i553 = load ptr, ptr %198, align 8
  %vfn3.i.i.i.i.i.i.i554 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i553, i64 3
  %208 = load ptr, ptr %vfn3.i.i.i.i.i.i.i554, align 8
  tail call void %208(ptr noundef nonnull align 8 dereferenceable(16) %198) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit561

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit561: ; preds = %_ZNSt10shared_ptrIN5folly13SocketAddressEEaSEOS2_.exit528, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i539, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i549, %if.end8.sink.split.i.i.i.i.i552
  %sslCertSize = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 42
  %sslCertSize48 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 42
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(10) %sslCertSize, ptr noundef nonnull align 8 dereferenceable(10) %sslCertSize48, i64 10, i1 false)
  %securityType = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 47
  %securityType49 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 47
  %call50 = tail call noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEaSEOS4_(ptr noundef nonnull align 8 dereferenceable(32) %securityType, ptr noundef nonnull align 8 dereferenceable(32) %securityType49) #28
  %protocolInfo = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 48
  %protocolInfo51 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 48
  %_M_refcount3.i.i.i563 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 48, i32 0, i32 1
  %209 = load <2 x ptr>, ptr %protocolInfo51, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %protocolInfo51, i8 0, i64 16, i1 false)
  %210 = load ptr, ptr %_M_refcount3.i.i.i563, align 8
  store <2 x ptr> %209, ptr %protocolInfo, align 8
  %cmp.not.i.i.i.i564 = icmp eq ptr %210, null
  br i1 %cmp.not.i.i.i.i564, label %_ZNSt10shared_ptrIN6wangle12ProtocolInfoEEaSEOS2_.exit, label %if.then.i.i.i.i565

if.then.i.i.i.i565:                               ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit561
  %_M_use_count.i.i.i.i.i566 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %210, i64 0, i32 1
  %211 = load atomic i64, ptr %_M_use_count.i.i.i.i.i566 acquire, align 8
  %cmp.i.i.i.i.i567 = icmp eq i64 %211, 4294967297
  %212 = trunc i64 %211 to i32
  br i1 %cmp.i.i.i.i.i567, label %if.then.i.i.i.i.i590, label %if.end.i.i.i.i.i568

if.then.i.i.i.i.i590:                             ; preds = %if.then.i.i.i.i565
  store i32 0, ptr %_M_use_count.i.i.i.i.i566, align 8
  %_M_weak_count.i.i.i.i.i591 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %210, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i591, align 4
  %vtable.i.i.i.i.i592 = load ptr, ptr %210, align 8
  %vfn.i.i.i.i.i593 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i592, i64 2
  %213 = load ptr, ptr %vfn.i.i.i.i.i593, align 8
  tail call void %213(ptr noundef nonnull align 8 dereferenceable(16) %210) #28
  br label %if.end8.sink.split.i.i.i.i.i585

if.end.i.i.i.i.i568:                              ; preds = %if.then.i.i.i.i565
  %214 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i569 = icmp eq i8 %214, 0
  br i1 %tobool.i.not.i.i.i.i.i569, label %if.else.i.i.i.i.i.i589, label %if.then.i.i.i.i.i.i570

if.then.i.i.i.i.i.i570:                           ; preds = %if.end.i.i.i.i.i568
  %add.i.i.i.i.i.i571 = add nsw i32 %212, -1
  store i32 %add.i.i.i.i.i.i571, ptr %_M_use_count.i.i.i.i.i566, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i572

if.else.i.i.i.i.i.i589:                           ; preds = %if.end.i.i.i.i.i568
  %215 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i566, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i572

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i572: ; preds = %if.else.i.i.i.i.i.i589, %if.then.i.i.i.i.i.i570
  %retval.i.0.i.i.i.i.i573 = phi i32 [ %212, %if.then.i.i.i.i.i.i570 ], [ %215, %if.else.i.i.i.i.i.i589 ]
  %cmp6.i.i.i.i.i574 = icmp eq i32 %retval.i.0.i.i.i.i.i573, 1
  br i1 %cmp6.i.i.i.i.i574, label %if.then7.i.i.i.i.i575, label %_ZNSt10shared_ptrIN6wangle12ProtocolInfoEEaSEOS2_.exit

if.then7.i.i.i.i.i575:                            ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i572
  %vtable.i.i.i.i.i.i.i576 = load ptr, ptr %210, align 8
  %vfn.i.i.i.i.i.i.i577 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i576, i64 2
  %216 = load ptr, ptr %vfn.i.i.i.i.i.i.i577, align 8
  tail call void %216(ptr noundef nonnull align 8 dereferenceable(16) %210) #28
  %_M_weak_count.i.i.i.i.i.i.i578 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %210, i64 0, i32 2
  %217 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i579 = icmp eq i8 %217, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i579, label %if.else.i.i.i.i.i.i.i.i588, label %if.then.i.i.i.i.i.i.i.i580

if.then.i.i.i.i.i.i.i.i580:                       ; preds = %if.then7.i.i.i.i.i575
  %218 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i578, align 4
  %add.i.i.i.i.i.i.i.i581 = add nsw i32 %218, -1
  store i32 %add.i.i.i.i.i.i.i.i581, ptr %_M_weak_count.i.i.i.i.i.i.i578, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i582

if.else.i.i.i.i.i.i.i.i588:                       ; preds = %if.then7.i.i.i.i.i575
  %219 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i578, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i582

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i582: ; preds = %if.else.i.i.i.i.i.i.i.i588, %if.then.i.i.i.i.i.i.i.i580
  %retval.i.0.i.i.i.i.i.i.i583 = phi i32 [ %218, %if.then.i.i.i.i.i.i.i.i580 ], [ %219, %if.else.i.i.i.i.i.i.i.i588 ]
  %cmp.i.i.i.i.i.i.i584 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i583, 1
  br i1 %cmp.i.i.i.i.i.i.i584, label %if.end8.sink.split.i.i.i.i.i585, label %_ZNSt10shared_ptrIN6wangle12ProtocolInfoEEaSEOS2_.exit

if.end8.sink.split.i.i.i.i.i585:                  ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i582, %if.then.i.i.i.i.i590
  %vtable2.i.i.i.i.i.i.i586 = load ptr, ptr %210, align 8
  %vfn3.i.i.i.i.i.i.i587 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i586, i64 3
  %220 = load ptr, ptr %vfn3.i.i.i.i.i.i.i587, align 8
  tail call void %220(ptr noundef nonnull align 8 dereferenceable(16) %210) #28
  br label %_ZNSt10shared_ptrIN6wangle12ProtocolInfoEEaSEOS2_.exit

_ZNSt10shared_ptrIN6wangle12ProtocolInfoEEaSEOS2_.exit: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit561, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i572, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i582, %if.end8.sink.split.i.i.i.i.i585
  %tcpSignature = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 49
  %tcpSignature53 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 49
  %_M_refcount3.i.i.i595 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 49, i32 0, i32 1
  %221 = load <2 x ptr>, ptr %tcpSignature53, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %tcpSignature53, i8 0, i64 16, i1 false)
  %222 = load ptr, ptr %_M_refcount3.i.i.i595, align 8
  store <2 x ptr> %221, ptr %tcpSignature, align 8
  %cmp.not.i.i.i.i596 = icmp eq ptr %222, null
  br i1 %cmp.not.i.i.i.i596, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit626, label %if.then.i.i.i.i597

if.then.i.i.i.i597:                               ; preds = %_ZNSt10shared_ptrIN6wangle12ProtocolInfoEEaSEOS2_.exit
  %_M_use_count.i.i.i.i.i598 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %222, i64 0, i32 1
  %223 = load atomic i64, ptr %_M_use_count.i.i.i.i.i598 acquire, align 8
  %cmp.i.i.i.i.i599 = icmp eq i64 %223, 4294967297
  %224 = trunc i64 %223 to i32
  br i1 %cmp.i.i.i.i.i599, label %if.then.i.i.i.i.i622, label %if.end.i.i.i.i.i600

if.then.i.i.i.i.i622:                             ; preds = %if.then.i.i.i.i597
  store i32 0, ptr %_M_use_count.i.i.i.i.i598, align 8
  %_M_weak_count.i.i.i.i.i623 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %222, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i623, align 4
  %vtable.i.i.i.i.i624 = load ptr, ptr %222, align 8
  %vfn.i.i.i.i.i625 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i624, i64 2
  %225 = load ptr, ptr %vfn.i.i.i.i.i625, align 8
  tail call void %225(ptr noundef nonnull align 8 dereferenceable(16) %222) #28
  br label %if.end8.sink.split.i.i.i.i.i617

if.end.i.i.i.i.i600:                              ; preds = %if.then.i.i.i.i597
  %226 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i601 = icmp eq i8 %226, 0
  br i1 %tobool.i.not.i.i.i.i.i601, label %if.else.i.i.i.i.i.i621, label %if.then.i.i.i.i.i.i602

if.then.i.i.i.i.i.i602:                           ; preds = %if.end.i.i.i.i.i600
  %add.i.i.i.i.i.i603 = add nsw i32 %224, -1
  store i32 %add.i.i.i.i.i.i603, ptr %_M_use_count.i.i.i.i.i598, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i604

if.else.i.i.i.i.i.i621:                           ; preds = %if.end.i.i.i.i.i600
  %227 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i598, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i604

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i604: ; preds = %if.else.i.i.i.i.i.i621, %if.then.i.i.i.i.i.i602
  %retval.i.0.i.i.i.i.i605 = phi i32 [ %224, %if.then.i.i.i.i.i.i602 ], [ %227, %if.else.i.i.i.i.i.i621 ]
  %cmp6.i.i.i.i.i606 = icmp eq i32 %retval.i.0.i.i.i.i.i605, 1
  br i1 %cmp6.i.i.i.i.i606, label %if.then7.i.i.i.i.i607, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit626

if.then7.i.i.i.i.i607:                            ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i604
  %vtable.i.i.i.i.i.i.i608 = load ptr, ptr %222, align 8
  %vfn.i.i.i.i.i.i.i609 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i608, i64 2
  %228 = load ptr, ptr %vfn.i.i.i.i.i.i.i609, align 8
  tail call void %228(ptr noundef nonnull align 8 dereferenceable(16) %222) #28
  %_M_weak_count.i.i.i.i.i.i.i610 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %222, i64 0, i32 2
  %229 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i611 = icmp eq i8 %229, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i611, label %if.else.i.i.i.i.i.i.i.i620, label %if.then.i.i.i.i.i.i.i.i612

if.then.i.i.i.i.i.i.i.i612:                       ; preds = %if.then7.i.i.i.i.i607
  %230 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i610, align 4
  %add.i.i.i.i.i.i.i.i613 = add nsw i32 %230, -1
  store i32 %add.i.i.i.i.i.i.i.i613, ptr %_M_weak_count.i.i.i.i.i.i.i610, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i614

if.else.i.i.i.i.i.i.i.i620:                       ; preds = %if.then7.i.i.i.i.i607
  %231 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i610, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i614

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i614: ; preds = %if.else.i.i.i.i.i.i.i.i620, %if.then.i.i.i.i.i.i.i.i612
  %retval.i.0.i.i.i.i.i.i.i615 = phi i32 [ %230, %if.then.i.i.i.i.i.i.i.i612 ], [ %231, %if.else.i.i.i.i.i.i.i.i620 ]
  %cmp.i.i.i.i.i.i.i616 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i615, 1
  br i1 %cmp.i.i.i.i.i.i.i616, label %if.end8.sink.split.i.i.i.i.i617, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit626

if.end8.sink.split.i.i.i.i.i617:                  ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i614, %if.then.i.i.i.i.i622
  %vtable2.i.i.i.i.i.i.i618 = load ptr, ptr %222, align 8
  %vfn3.i.i.i.i.i.i.i619 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i618, i64 3
  %232 = load ptr, ptr %vfn3.i.i.i.i.i.i.i619, align 8
  tail call void %232(ptr noundef nonnull align 8 dereferenceable(16) %222) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit626

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit626: ; preds = %_ZNSt10shared_ptrIN6wangle12ProtocolInfoEEaSEOS2_.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i604, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i614, %if.end8.sink.split.i.i.i.i.i617
  %tcpFingerprint = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 50
  %tcpFingerprint55 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 50
  %_M_refcount3.i.i.i628 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 50, i32 0, i32 1
  %233 = load <2 x ptr>, ptr %tcpFingerprint55, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %tcpFingerprint55, i8 0, i64 16, i1 false)
  %234 = load ptr, ptr %_M_refcount3.i.i.i628, align 8
  store <2 x ptr> %233, ptr %tcpFingerprint, align 8
  %cmp.not.i.i.i.i629 = icmp eq ptr %234, null
  br i1 %cmp.not.i.i.i.i629, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit659, label %if.then.i.i.i.i630

if.then.i.i.i.i630:                               ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit626
  %_M_use_count.i.i.i.i.i631 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %234, i64 0, i32 1
  %235 = load atomic i64, ptr %_M_use_count.i.i.i.i.i631 acquire, align 8
  %cmp.i.i.i.i.i632 = icmp eq i64 %235, 4294967297
  %236 = trunc i64 %235 to i32
  br i1 %cmp.i.i.i.i.i632, label %if.then.i.i.i.i.i655, label %if.end.i.i.i.i.i633

if.then.i.i.i.i.i655:                             ; preds = %if.then.i.i.i.i630
  store i32 0, ptr %_M_use_count.i.i.i.i.i631, align 8
  %_M_weak_count.i.i.i.i.i656 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %234, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i656, align 4
  %vtable.i.i.i.i.i657 = load ptr, ptr %234, align 8
  %vfn.i.i.i.i.i658 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i657, i64 2
  %237 = load ptr, ptr %vfn.i.i.i.i.i658, align 8
  tail call void %237(ptr noundef nonnull align 8 dereferenceable(16) %234) #28
  br label %if.end8.sink.split.i.i.i.i.i650

if.end.i.i.i.i.i633:                              ; preds = %if.then.i.i.i.i630
  %238 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i634 = icmp eq i8 %238, 0
  br i1 %tobool.i.not.i.i.i.i.i634, label %if.else.i.i.i.i.i.i654, label %if.then.i.i.i.i.i.i635

if.then.i.i.i.i.i.i635:                           ; preds = %if.end.i.i.i.i.i633
  %add.i.i.i.i.i.i636 = add nsw i32 %236, -1
  store i32 %add.i.i.i.i.i.i636, ptr %_M_use_count.i.i.i.i.i631, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i637

if.else.i.i.i.i.i.i654:                           ; preds = %if.end.i.i.i.i.i633
  %239 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i631, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i637

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i637: ; preds = %if.else.i.i.i.i.i.i654, %if.then.i.i.i.i.i.i635
  %retval.i.0.i.i.i.i.i638 = phi i32 [ %236, %if.then.i.i.i.i.i.i635 ], [ %239, %if.else.i.i.i.i.i.i654 ]
  %cmp6.i.i.i.i.i639 = icmp eq i32 %retval.i.0.i.i.i.i.i638, 1
  br i1 %cmp6.i.i.i.i.i639, label %if.then7.i.i.i.i.i640, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit659

if.then7.i.i.i.i.i640:                            ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i637
  %vtable.i.i.i.i.i.i.i641 = load ptr, ptr %234, align 8
  %vfn.i.i.i.i.i.i.i642 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i641, i64 2
  %240 = load ptr, ptr %vfn.i.i.i.i.i.i.i642, align 8
  tail call void %240(ptr noundef nonnull align 8 dereferenceable(16) %234) #28
  %_M_weak_count.i.i.i.i.i.i.i643 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %234, i64 0, i32 2
  %241 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i644 = icmp eq i8 %241, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i644, label %if.else.i.i.i.i.i.i.i.i653, label %if.then.i.i.i.i.i.i.i.i645

if.then.i.i.i.i.i.i.i.i645:                       ; preds = %if.then7.i.i.i.i.i640
  %242 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i643, align 4
  %add.i.i.i.i.i.i.i.i646 = add nsw i32 %242, -1
  store i32 %add.i.i.i.i.i.i.i.i646, ptr %_M_weak_count.i.i.i.i.i.i.i643, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i647

if.else.i.i.i.i.i.i.i.i653:                       ; preds = %if.then7.i.i.i.i.i640
  %243 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i643, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i647

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i647: ; preds = %if.else.i.i.i.i.i.i.i.i653, %if.then.i.i.i.i.i.i.i.i645
  %retval.i.0.i.i.i.i.i.i.i648 = phi i32 [ %242, %if.then.i.i.i.i.i.i.i.i645 ], [ %243, %if.else.i.i.i.i.i.i.i.i653 ]
  %cmp.i.i.i.i.i.i.i649 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i648, 1
  br i1 %cmp.i.i.i.i.i.i.i649, label %if.end8.sink.split.i.i.i.i.i650, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit659

if.end8.sink.split.i.i.i.i.i650:                  ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i647, %if.then.i.i.i.i.i655
  %vtable2.i.i.i.i.i.i.i651 = load ptr, ptr %234, align 8
  %vfn3.i.i.i.i.i.i.i652 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i651, i64 3
  %244 = load ptr, ptr %vfn3.i.i.i.i.i.i.i652, align 8
  tail call void %244(ptr noundef nonnull align 8 dereferenceable(16) %234) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit659

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit659: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit626, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i637, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i647, %if.end8.sink.split.i.i.i.i.i650
  %tfoSucceded = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 51
  %245 = load i8, ptr %tfoSucceded, align 8
  %246 = and i8 %245, 1
  %tfoSucceded57 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 51
  store i8 %246, ptr %tfoSucceded57, align 8
  %negotiatedTokenBindingKeyParameters = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 52
  %negotiatedTokenBindingKeyParameters58 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 52
  %cmp.not.i.i = icmp eq ptr %this, %0
  br i1 %cmp.not.i.i, label %_ZN5folly8OptionalIhEaSEOS1_.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit659
  %hasValue.i.i.i.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 52, i32 0, i32 1
  %247 = load i8, ptr %hasValue.i.i.i.i, align 2
  %248 = and i8 %247, 1
  %tobool.i.i.not.i.i = icmp eq i8 %248, 0
  %hasValue.i.i6.i.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 52, i32 0, i32 1
  br i1 %tobool.i.i.not.i.i, label %if.end4.sink.split.i.i, label %_ZNR5folly8OptionalIhE5valueEv.exit.i.i

_ZNR5folly8OptionalIhE5valueEv.exit.i.i:          ; preds = %if.then.i.i
  %249 = load i8, ptr %hasValue.i.i6.i.i, align 2
  %250 = and i8 %249, 1
  %tobool.i.i.not.i.i.i = icmp eq i8 %250, 0
  %251 = load i8, ptr %negotiatedTokenBindingKeyParameters58, align 1
  br i1 %tobool.i.i.not.i.i.i, label %if.else.i.i.i, label %_ZN5folly8OptionalIhE6assignEOh.exit.i.i

if.else.i.i.i:                                    ; preds = %_ZNR5folly8OptionalIhE5valueEv.exit.i.i
  store i8 1, ptr %hasValue.i.i6.i.i, align 2
  br label %_ZN5folly8OptionalIhE6assignEOh.exit.i.i

_ZN5folly8OptionalIhE6assignEOh.exit.i.i:         ; preds = %if.else.i.i.i, %_ZNR5folly8OptionalIhE5valueEv.exit.i.i
  store i8 %251, ptr %negotiatedTokenBindingKeyParameters, align 1
  br label %if.end4.sink.split.i.i

if.end4.sink.split.i.i:                           ; preds = %_ZN5folly8OptionalIhE6assignEOh.exit.i.i, %if.then.i.i
  %hasValue.i.i.sink.i.i = phi ptr [ %hasValue.i.i.i.i, %_ZN5folly8OptionalIhE6assignEOh.exit.i.i ], [ %hasValue.i.i6.i.i, %if.then.i.i ]
  store i8 0, ptr %hasValue.i.i.sink.i.i, align 1
  br label %_ZN5folly8OptionalIhEaSEOS1_.exit

_ZN5folly8OptionalIhEaSEOS1_.exit:                ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS6_.exit659, %if.end4.sink.split.i.i
  %echStatus = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 53
  %echStatus60 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %0, i64 0, i32 53
  %call61 = tail call noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEaSEOS4_(ptr noundef nonnull align 8 dereferenceable(32) %echStatus, ptr noundef nonnull align 8 dereferenceable(32) %echStatus60) #28
  ret ptr %this
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN6wangle13TransportInfoD2Ev(ptr noundef nonnull align 8 dereferenceable(744) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %echStatus = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 53
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %echStatus) #28
  %_M_refcount.i.i = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 50, i32 0, i32 1
  %0 = load ptr, ptr %_M_refcount.i.i, align 8
  %cmp.not.i.i.i = icmp eq ptr %0, null
  br i1 %cmp.not.i.i.i, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %entry
  %_M_use_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 1
  %1 = load atomic i64, ptr %_M_use_count.i.i.i.i acquire, align 8
  %cmp.i.i.i.i = icmp eq i64 %1, 4294967297
  %2 = trunc i64 %1 to i32
  br i1 %cmp.i.i.i.i, label %if.then.i.i.i.i, label %if.end.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %if.then.i.i.i
  store i32 0, ptr %_M_use_count.i.i.i.i, align 8
  %_M_weak_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i, align 4
  %vtable.i.i.i.i = load ptr, ptr %0, align 8
  %vfn.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i, i64 2
  %3 = load ptr, ptr %vfn.i.i.i.i, align 8
  tail call void %3(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  br label %if.end8.sink.split.i.i.i.i

if.end.i.i.i.i:                                   ; preds = %if.then.i.i.i
  %4 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i = icmp eq i8 %4, 0
  br i1 %tobool.i.not.i.i.i.i, label %if.else.i.i.i.i.i, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %add.i.i.i.i.i = add nsw i32 %2, -1
  store i32 %add.i.i.i.i.i, ptr %_M_use_count.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

if.else.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %5 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i: ; preds = %if.else.i.i.i.i.i, %if.then.i.i.i.i.i
  %retval.i.0.i.i.i.i = phi i32 [ %2, %if.then.i.i.i.i.i ], [ %5, %if.else.i.i.i.i.i ]
  %cmp6.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i, label %if.then7.i.i.i.i, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit

if.then7.i.i.i.i:                                 ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i
  %vtable.i.i.i.i.i.i = load ptr, ptr %0, align 8
  %vfn.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i, i64 2
  %6 = load ptr, ptr %vfn.i.i.i.i.i.i, align 8
  tail call void %6(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  %_M_weak_count.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 2
  %7 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i = icmp eq i8 %7, 0
  br i1 %tobool.i.not.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %8 = load i32, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i.i = add nsw i32 %8, -1
  store i32 %add.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %9 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i = phi i32 [ %8, %if.then.i.i.i.i.i.i.i ], [ %9, %if.else.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit

if.end8.sink.split.i.i.i.i:                       ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.then.i.i.i.i
  %vtable2.i.i.i.i.i.i = load ptr, ptr %0, align 8
  %vfn3.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i, i64 3
  %10 = load ptr, ptr %vfn3.i.i.i.i.i.i, align 8
  tail call void %10(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit: ; preds = %entry, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.end8.sink.split.i.i.i.i
  %_M_refcount.i.i1 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 49, i32 0, i32 1
  %11 = load ptr, ptr %_M_refcount.i.i1, align 8
  %cmp.not.i.i.i2 = icmp eq ptr %11, null
  br i1 %cmp.not.i.i.i2, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit32, label %if.then.i.i.i3

if.then.i.i.i3:                                   ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit
  %_M_use_count.i.i.i.i4 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %11, i64 0, i32 1
  %12 = load atomic i64, ptr %_M_use_count.i.i.i.i4 acquire, align 8
  %cmp.i.i.i.i5 = icmp eq i64 %12, 4294967297
  %13 = trunc i64 %12 to i32
  br i1 %cmp.i.i.i.i5, label %if.then.i.i.i.i28, label %if.end.i.i.i.i6

if.then.i.i.i.i28:                                ; preds = %if.then.i.i.i3
  store i32 0, ptr %_M_use_count.i.i.i.i4, align 8
  %_M_weak_count.i.i.i.i29 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %11, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i29, align 4
  %vtable.i.i.i.i30 = load ptr, ptr %11, align 8
  %vfn.i.i.i.i31 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i30, i64 2
  %14 = load ptr, ptr %vfn.i.i.i.i31, align 8
  tail call void %14(ptr noundef nonnull align 8 dereferenceable(16) %11) #28
  br label %if.end8.sink.split.i.i.i.i23

if.end.i.i.i.i6:                                  ; preds = %if.then.i.i.i3
  %15 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i7 = icmp eq i8 %15, 0
  br i1 %tobool.i.not.i.i.i.i7, label %if.else.i.i.i.i.i27, label %if.then.i.i.i.i.i8

if.then.i.i.i.i.i8:                               ; preds = %if.end.i.i.i.i6
  %add.i.i.i.i.i9 = add nsw i32 %13, -1
  store i32 %add.i.i.i.i.i9, ptr %_M_use_count.i.i.i.i4, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i10

if.else.i.i.i.i.i27:                              ; preds = %if.end.i.i.i.i6
  %16 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i4, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i10

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i10: ; preds = %if.else.i.i.i.i.i27, %if.then.i.i.i.i.i8
  %retval.i.0.i.i.i.i11 = phi i32 [ %13, %if.then.i.i.i.i.i8 ], [ %16, %if.else.i.i.i.i.i27 ]
  %cmp6.i.i.i.i12 = icmp eq i32 %retval.i.0.i.i.i.i11, 1
  br i1 %cmp6.i.i.i.i12, label %if.then7.i.i.i.i13, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit32

if.then7.i.i.i.i13:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i10
  %vtable.i.i.i.i.i.i14 = load ptr, ptr %11, align 8
  %vfn.i.i.i.i.i.i15 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i14, i64 2
  %17 = load ptr, ptr %vfn.i.i.i.i.i.i15, align 8
  tail call void %17(ptr noundef nonnull align 8 dereferenceable(16) %11) #28
  %_M_weak_count.i.i.i.i.i.i16 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %11, i64 0, i32 2
  %18 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i17 = icmp eq i8 %18, 0
  br i1 %tobool.i.not.i.i.i.i.i.i17, label %if.else.i.i.i.i.i.i.i26, label %if.then.i.i.i.i.i.i.i18

if.then.i.i.i.i.i.i.i18:                          ; preds = %if.then7.i.i.i.i13
  %19 = load i32, ptr %_M_weak_count.i.i.i.i.i.i16, align 4
  %add.i.i.i.i.i.i.i19 = add nsw i32 %19, -1
  store i32 %add.i.i.i.i.i.i.i19, ptr %_M_weak_count.i.i.i.i.i.i16, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i20

if.else.i.i.i.i.i.i.i26:                          ; preds = %if.then7.i.i.i.i13
  %20 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i16, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i20

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i20: ; preds = %if.else.i.i.i.i.i.i.i26, %if.then.i.i.i.i.i.i.i18
  %retval.i.0.i.i.i.i.i.i21 = phi i32 [ %19, %if.then.i.i.i.i.i.i.i18 ], [ %20, %if.else.i.i.i.i.i.i.i26 ]
  %cmp.i.i.i.i.i.i22 = icmp eq i32 %retval.i.0.i.i.i.i.i.i21, 1
  br i1 %cmp.i.i.i.i.i.i22, label %if.end8.sink.split.i.i.i.i23, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit32

if.end8.sink.split.i.i.i.i23:                     ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i20, %if.then.i.i.i.i28
  %vtable2.i.i.i.i.i.i24 = load ptr, ptr %11, align 8
  %vfn3.i.i.i.i.i.i25 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i24, i64 3
  %21 = load ptr, ptr %vfn3.i.i.i.i.i.i25, align 8
  tail call void %21(ptr noundef nonnull align 8 dereferenceable(16) %11) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit32

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit32: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i10, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i20, %if.end8.sink.split.i.i.i.i23
  %_M_refcount.i.i33 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 48, i32 0, i32 1
  %22 = load ptr, ptr %_M_refcount.i.i33, align 8
  %cmp.not.i.i.i34 = icmp eq ptr %22, null
  br i1 %cmp.not.i.i.i34, label %_ZNSt10shared_ptrIN6wangle12ProtocolInfoEED2Ev.exit, label %if.then.i.i.i35

if.then.i.i.i35:                                  ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit32
  %_M_use_count.i.i.i.i36 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %22, i64 0, i32 1
  %23 = load atomic i64, ptr %_M_use_count.i.i.i.i36 acquire, align 8
  %cmp.i.i.i.i37 = icmp eq i64 %23, 4294967297
  %24 = trunc i64 %23 to i32
  br i1 %cmp.i.i.i.i37, label %if.then.i.i.i.i60, label %if.end.i.i.i.i38

if.then.i.i.i.i60:                                ; preds = %if.then.i.i.i35
  store i32 0, ptr %_M_use_count.i.i.i.i36, align 8
  %_M_weak_count.i.i.i.i61 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %22, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i61, align 4
  %vtable.i.i.i.i62 = load ptr, ptr %22, align 8
  %vfn.i.i.i.i63 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i62, i64 2
  %25 = load ptr, ptr %vfn.i.i.i.i63, align 8
  tail call void %25(ptr noundef nonnull align 8 dereferenceable(16) %22) #28
  br label %if.end8.sink.split.i.i.i.i55

if.end.i.i.i.i38:                                 ; preds = %if.then.i.i.i35
  %26 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i39 = icmp eq i8 %26, 0
  br i1 %tobool.i.not.i.i.i.i39, label %if.else.i.i.i.i.i59, label %if.then.i.i.i.i.i40

if.then.i.i.i.i.i40:                              ; preds = %if.end.i.i.i.i38
  %add.i.i.i.i.i41 = add nsw i32 %24, -1
  store i32 %add.i.i.i.i.i41, ptr %_M_use_count.i.i.i.i36, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i42

if.else.i.i.i.i.i59:                              ; preds = %if.end.i.i.i.i38
  %27 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i36, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i42

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i42: ; preds = %if.else.i.i.i.i.i59, %if.then.i.i.i.i.i40
  %retval.i.0.i.i.i.i43 = phi i32 [ %24, %if.then.i.i.i.i.i40 ], [ %27, %if.else.i.i.i.i.i59 ]
  %cmp6.i.i.i.i44 = icmp eq i32 %retval.i.0.i.i.i.i43, 1
  br i1 %cmp6.i.i.i.i44, label %if.then7.i.i.i.i45, label %_ZNSt10shared_ptrIN6wangle12ProtocolInfoEED2Ev.exit

if.then7.i.i.i.i45:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i42
  %vtable.i.i.i.i.i.i46 = load ptr, ptr %22, align 8
  %vfn.i.i.i.i.i.i47 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i46, i64 2
  %28 = load ptr, ptr %vfn.i.i.i.i.i.i47, align 8
  tail call void %28(ptr noundef nonnull align 8 dereferenceable(16) %22) #28
  %_M_weak_count.i.i.i.i.i.i48 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %22, i64 0, i32 2
  %29 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i49 = icmp eq i8 %29, 0
  br i1 %tobool.i.not.i.i.i.i.i.i49, label %if.else.i.i.i.i.i.i.i58, label %if.then.i.i.i.i.i.i.i50

if.then.i.i.i.i.i.i.i50:                          ; preds = %if.then7.i.i.i.i45
  %30 = load i32, ptr %_M_weak_count.i.i.i.i.i.i48, align 4
  %add.i.i.i.i.i.i.i51 = add nsw i32 %30, -1
  store i32 %add.i.i.i.i.i.i.i51, ptr %_M_weak_count.i.i.i.i.i.i48, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i52

if.else.i.i.i.i.i.i.i58:                          ; preds = %if.then7.i.i.i.i45
  %31 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i48, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i52

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i52: ; preds = %if.else.i.i.i.i.i.i.i58, %if.then.i.i.i.i.i.i.i50
  %retval.i.0.i.i.i.i.i.i53 = phi i32 [ %30, %if.then.i.i.i.i.i.i.i50 ], [ %31, %if.else.i.i.i.i.i.i.i58 ]
  %cmp.i.i.i.i.i.i54 = icmp eq i32 %retval.i.0.i.i.i.i.i.i53, 1
  br i1 %cmp.i.i.i.i.i.i54, label %if.end8.sink.split.i.i.i.i55, label %_ZNSt10shared_ptrIN6wangle12ProtocolInfoEED2Ev.exit

if.end8.sink.split.i.i.i.i55:                     ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i52, %if.then.i.i.i.i60
  %vtable2.i.i.i.i.i.i56 = load ptr, ptr %22, align 8
  %vfn3.i.i.i.i.i.i57 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i56, i64 3
  %32 = load ptr, ptr %vfn3.i.i.i.i.i.i57, align 8
  tail call void %32(ptr noundef nonnull align 8 dereferenceable(16) %22) #28
  br label %_ZNSt10shared_ptrIN6wangle12ProtocolInfoEED2Ev.exit

_ZNSt10shared_ptrIN6wangle12ProtocolInfoEED2Ev.exit: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit32, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i42, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i52, %if.end8.sink.split.i.i.i.i55
  %securityType = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 47
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %securityType) #28
  %_M_refcount.i.i64 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 41, i32 0, i32 1
  %33 = load ptr, ptr %_M_refcount.i.i64, align 8
  %cmp.not.i.i.i65 = icmp eq ptr %33, null
  br i1 %cmp.not.i.i.i65, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit95, label %if.then.i.i.i66

if.then.i.i.i66:                                  ; preds = %_ZNSt10shared_ptrIN6wangle12ProtocolInfoEED2Ev.exit
  %_M_use_count.i.i.i.i67 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %33, i64 0, i32 1
  %34 = load atomic i64, ptr %_M_use_count.i.i.i.i67 acquire, align 8
  %cmp.i.i.i.i68 = icmp eq i64 %34, 4294967297
  %35 = trunc i64 %34 to i32
  br i1 %cmp.i.i.i.i68, label %if.then.i.i.i.i91, label %if.end.i.i.i.i69

if.then.i.i.i.i91:                                ; preds = %if.then.i.i.i66
  store i32 0, ptr %_M_use_count.i.i.i.i67, align 8
  %_M_weak_count.i.i.i.i92 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %33, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i92, align 4
  %vtable.i.i.i.i93 = load ptr, ptr %33, align 8
  %vfn.i.i.i.i94 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i93, i64 2
  %36 = load ptr, ptr %vfn.i.i.i.i94, align 8
  tail call void %36(ptr noundef nonnull align 8 dereferenceable(16) %33) #28
  br label %if.end8.sink.split.i.i.i.i86

if.end.i.i.i.i69:                                 ; preds = %if.then.i.i.i66
  %37 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i70 = icmp eq i8 %37, 0
  br i1 %tobool.i.not.i.i.i.i70, label %if.else.i.i.i.i.i90, label %if.then.i.i.i.i.i71

if.then.i.i.i.i.i71:                              ; preds = %if.end.i.i.i.i69
  %add.i.i.i.i.i72 = add nsw i32 %35, -1
  store i32 %add.i.i.i.i.i72, ptr %_M_use_count.i.i.i.i67, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i73

if.else.i.i.i.i.i90:                              ; preds = %if.end.i.i.i.i69
  %38 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i67, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i73

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i73: ; preds = %if.else.i.i.i.i.i90, %if.then.i.i.i.i.i71
  %retval.i.0.i.i.i.i74 = phi i32 [ %35, %if.then.i.i.i.i.i71 ], [ %38, %if.else.i.i.i.i.i90 ]
  %cmp6.i.i.i.i75 = icmp eq i32 %retval.i.0.i.i.i.i74, 1
  br i1 %cmp6.i.i.i.i75, label %if.then7.i.i.i.i76, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit95

if.then7.i.i.i.i76:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i73
  %vtable.i.i.i.i.i.i77 = load ptr, ptr %33, align 8
  %vfn.i.i.i.i.i.i78 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i77, i64 2
  %39 = load ptr, ptr %vfn.i.i.i.i.i.i78, align 8
  tail call void %39(ptr noundef nonnull align 8 dereferenceable(16) %33) #28
  %_M_weak_count.i.i.i.i.i.i79 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %33, i64 0, i32 2
  %40 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i80 = icmp eq i8 %40, 0
  br i1 %tobool.i.not.i.i.i.i.i.i80, label %if.else.i.i.i.i.i.i.i89, label %if.then.i.i.i.i.i.i.i81

if.then.i.i.i.i.i.i.i81:                          ; preds = %if.then7.i.i.i.i76
  %41 = load i32, ptr %_M_weak_count.i.i.i.i.i.i79, align 4
  %add.i.i.i.i.i.i.i82 = add nsw i32 %41, -1
  store i32 %add.i.i.i.i.i.i.i82, ptr %_M_weak_count.i.i.i.i.i.i79, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i83

if.else.i.i.i.i.i.i.i89:                          ; preds = %if.then7.i.i.i.i76
  %42 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i79, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i83

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i83: ; preds = %if.else.i.i.i.i.i.i.i89, %if.then.i.i.i.i.i.i.i81
  %retval.i.0.i.i.i.i.i.i84 = phi i32 [ %41, %if.then.i.i.i.i.i.i.i81 ], [ %42, %if.else.i.i.i.i.i.i.i89 ]
  %cmp.i.i.i.i.i.i85 = icmp eq i32 %retval.i.0.i.i.i.i.i.i84, 1
  br i1 %cmp.i.i.i.i.i.i85, label %if.end8.sink.split.i.i.i.i86, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit95

if.end8.sink.split.i.i.i.i86:                     ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i83, %if.then.i.i.i.i91
  %vtable2.i.i.i.i.i.i87 = load ptr, ptr %33, align 8
  %vfn3.i.i.i.i.i.i88 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i87, i64 3
  %43 = load ptr, ptr %vfn3.i.i.i.i.i.i88, align 8
  tail call void %43(ptr noundef nonnull align 8 dereferenceable(16) %33) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit95

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit95: ; preds = %_ZNSt10shared_ptrIN6wangle12ProtocolInfoEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i73, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i83, %if.end8.sink.split.i.i.i.i86
  %sslError = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 39
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %sslError) #28
  %_M_refcount.i.i96 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 35, i32 0, i32 1
  %44 = load ptr, ptr %_M_refcount.i.i96, align 8
  %cmp.not.i.i.i97 = icmp eq ptr %44, null
  br i1 %cmp.not.i.i.i97, label %_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit, label %if.then.i.i.i98

if.then.i.i.i98:                                  ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit95
  %_M_use_count.i.i.i.i99 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %44, i64 0, i32 1
  %45 = load atomic i64, ptr %_M_use_count.i.i.i.i99 acquire, align 8
  %cmp.i.i.i.i100 = icmp eq i64 %45, 4294967297
  %46 = trunc i64 %45 to i32
  br i1 %cmp.i.i.i.i100, label %if.then.i.i.i.i123, label %if.end.i.i.i.i101

if.then.i.i.i.i123:                               ; preds = %if.then.i.i.i98
  store i32 0, ptr %_M_use_count.i.i.i.i99, align 8
  %_M_weak_count.i.i.i.i124 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %44, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i124, align 4
  %vtable.i.i.i.i125 = load ptr, ptr %44, align 8
  %vfn.i.i.i.i126 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i125, i64 2
  %47 = load ptr, ptr %vfn.i.i.i.i126, align 8
  tail call void %47(ptr noundef nonnull align 8 dereferenceable(16) %44) #28
  br label %if.end8.sink.split.i.i.i.i118

if.end.i.i.i.i101:                                ; preds = %if.then.i.i.i98
  %48 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i102 = icmp eq i8 %48, 0
  br i1 %tobool.i.not.i.i.i.i102, label %if.else.i.i.i.i.i122, label %if.then.i.i.i.i.i103

if.then.i.i.i.i.i103:                             ; preds = %if.end.i.i.i.i101
  %add.i.i.i.i.i104 = add nsw i32 %46, -1
  store i32 %add.i.i.i.i.i104, ptr %_M_use_count.i.i.i.i99, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i105

if.else.i.i.i.i.i122:                             ; preds = %if.end.i.i.i.i101
  %49 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i99, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i105

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i105: ; preds = %if.else.i.i.i.i.i122, %if.then.i.i.i.i.i103
  %retval.i.0.i.i.i.i106 = phi i32 [ %46, %if.then.i.i.i.i.i103 ], [ %49, %if.else.i.i.i.i.i122 ]
  %cmp6.i.i.i.i107 = icmp eq i32 %retval.i.0.i.i.i.i106, 1
  br i1 %cmp6.i.i.i.i107, label %if.then7.i.i.i.i108, label %_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit

if.then7.i.i.i.i108:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i105
  %vtable.i.i.i.i.i.i109 = load ptr, ptr %44, align 8
  %vfn.i.i.i.i.i.i110 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i109, i64 2
  %50 = load ptr, ptr %vfn.i.i.i.i.i.i110, align 8
  tail call void %50(ptr noundef nonnull align 8 dereferenceable(16) %44) #28
  %_M_weak_count.i.i.i.i.i.i111 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %44, i64 0, i32 2
  %51 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i112 = icmp eq i8 %51, 0
  br i1 %tobool.i.not.i.i.i.i.i.i112, label %if.else.i.i.i.i.i.i.i121, label %if.then.i.i.i.i.i.i.i113

if.then.i.i.i.i.i.i.i113:                         ; preds = %if.then7.i.i.i.i108
  %52 = load i32, ptr %_M_weak_count.i.i.i.i.i.i111, align 4
  %add.i.i.i.i.i.i.i114 = add nsw i32 %52, -1
  store i32 %add.i.i.i.i.i.i.i114, ptr %_M_weak_count.i.i.i.i.i.i111, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i115

if.else.i.i.i.i.i.i.i121:                         ; preds = %if.then7.i.i.i.i108
  %53 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i111, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i115

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i115: ; preds = %if.else.i.i.i.i.i.i.i121, %if.then.i.i.i.i.i.i.i113
  %retval.i.0.i.i.i.i.i.i116 = phi i32 [ %52, %if.then.i.i.i.i.i.i.i113 ], [ %53, %if.else.i.i.i.i.i.i.i121 ]
  %cmp.i.i.i.i.i.i117 = icmp eq i32 %retval.i.0.i.i.i.i.i.i116, 1
  br i1 %cmp.i.i.i.i.i.i117, label %if.end8.sink.split.i.i.i.i118, label %_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit

if.end8.sink.split.i.i.i.i118:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i115, %if.then.i.i.i.i123
  %vtable2.i.i.i.i.i.i119 = load ptr, ptr %44, align 8
  %vfn3.i.i.i.i.i.i120 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i119, i64 3
  %54 = load ptr, ptr %vfn3.i.i.i.i.i.i120, align 8
  tail call void %54(ptr noundef nonnull align 8 dereferenceable(16) %44) #28
  br label %_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit

_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit95, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i105, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i115, %if.end8.sink.split.i.i.i.i118
  %_M_refcount.i.i127 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 34, i32 0, i32 1
  %55 = load ptr, ptr %_M_refcount.i.i127, align 8
  %cmp.not.i.i.i128 = icmp eq ptr %55, null
  br i1 %cmp.not.i.i.i128, label %_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit158, label %if.then.i.i.i129

if.then.i.i.i129:                                 ; preds = %_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit
  %_M_use_count.i.i.i.i130 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %55, i64 0, i32 1
  %56 = load atomic i64, ptr %_M_use_count.i.i.i.i130 acquire, align 8
  %cmp.i.i.i.i131 = icmp eq i64 %56, 4294967297
  %57 = trunc i64 %56 to i32
  br i1 %cmp.i.i.i.i131, label %if.then.i.i.i.i154, label %if.end.i.i.i.i132

if.then.i.i.i.i154:                               ; preds = %if.then.i.i.i129
  store i32 0, ptr %_M_use_count.i.i.i.i130, align 8
  %_M_weak_count.i.i.i.i155 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %55, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i155, align 4
  %vtable.i.i.i.i156 = load ptr, ptr %55, align 8
  %vfn.i.i.i.i157 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i156, i64 2
  %58 = load ptr, ptr %vfn.i.i.i.i157, align 8
  tail call void %58(ptr noundef nonnull align 8 dereferenceable(16) %55) #28
  br label %if.end8.sink.split.i.i.i.i149

if.end.i.i.i.i132:                                ; preds = %if.then.i.i.i129
  %59 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i133 = icmp eq i8 %59, 0
  br i1 %tobool.i.not.i.i.i.i133, label %if.else.i.i.i.i.i153, label %if.then.i.i.i.i.i134

if.then.i.i.i.i.i134:                             ; preds = %if.end.i.i.i.i132
  %add.i.i.i.i.i135 = add nsw i32 %57, -1
  store i32 %add.i.i.i.i.i135, ptr %_M_use_count.i.i.i.i130, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i136

if.else.i.i.i.i.i153:                             ; preds = %if.end.i.i.i.i132
  %60 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i130, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i136

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i136: ; preds = %if.else.i.i.i.i.i153, %if.then.i.i.i.i.i134
  %retval.i.0.i.i.i.i137 = phi i32 [ %57, %if.then.i.i.i.i.i134 ], [ %60, %if.else.i.i.i.i.i153 ]
  %cmp6.i.i.i.i138 = icmp eq i32 %retval.i.0.i.i.i.i137, 1
  br i1 %cmp6.i.i.i.i138, label %if.then7.i.i.i.i139, label %_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit158

if.then7.i.i.i.i139:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i136
  %vtable.i.i.i.i.i.i140 = load ptr, ptr %55, align 8
  %vfn.i.i.i.i.i.i141 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i140, i64 2
  %61 = load ptr, ptr %vfn.i.i.i.i.i.i141, align 8
  tail call void %61(ptr noundef nonnull align 8 dereferenceable(16) %55) #28
  %_M_weak_count.i.i.i.i.i.i142 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %55, i64 0, i32 2
  %62 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i143 = icmp eq i8 %62, 0
  br i1 %tobool.i.not.i.i.i.i.i.i143, label %if.else.i.i.i.i.i.i.i152, label %if.then.i.i.i.i.i.i.i144

if.then.i.i.i.i.i.i.i144:                         ; preds = %if.then7.i.i.i.i139
  %63 = load i32, ptr %_M_weak_count.i.i.i.i.i.i142, align 4
  %add.i.i.i.i.i.i.i145 = add nsw i32 %63, -1
  store i32 %add.i.i.i.i.i.i.i145, ptr %_M_weak_count.i.i.i.i.i.i142, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i146

if.else.i.i.i.i.i.i.i152:                         ; preds = %if.then7.i.i.i.i139
  %64 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i142, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i146

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i146: ; preds = %if.else.i.i.i.i.i.i.i152, %if.then.i.i.i.i.i.i.i144
  %retval.i.0.i.i.i.i.i.i147 = phi i32 [ %63, %if.then.i.i.i.i.i.i.i144 ], [ %64, %if.else.i.i.i.i.i.i.i152 ]
  %cmp.i.i.i.i.i.i148 = icmp eq i32 %retval.i.0.i.i.i.i.i.i147, 1
  br i1 %cmp.i.i.i.i.i.i148, label %if.end8.sink.split.i.i.i.i149, label %_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit158

if.end8.sink.split.i.i.i.i149:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i146, %if.then.i.i.i.i154
  %vtable2.i.i.i.i.i.i150 = load ptr, ptr %55, align 8
  %vfn3.i.i.i.i.i.i151 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i150, i64 3
  %65 = load ptr, ptr %vfn3.i.i.i.i.i.i151, align 8
  tail call void %65(ptr noundef nonnull align 8 dereferenceable(16) %55) #28
  br label %_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit158

_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit158: ; preds = %_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i136, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i146, %if.end8.sink.split.i.i.i.i149
  %_M_refcount.i.i159 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 33, i32 0, i32 1
  %66 = load ptr, ptr %_M_refcount.i.i159, align 8
  %cmp.not.i.i.i160 = icmp eq ptr %66, null
  br i1 %cmp.not.i.i.i160, label %_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit190, label %if.then.i.i.i161

if.then.i.i.i161:                                 ; preds = %_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit158
  %_M_use_count.i.i.i.i162 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %66, i64 0, i32 1
  %67 = load atomic i64, ptr %_M_use_count.i.i.i.i162 acquire, align 8
  %cmp.i.i.i.i163 = icmp eq i64 %67, 4294967297
  %68 = trunc i64 %67 to i32
  br i1 %cmp.i.i.i.i163, label %if.then.i.i.i.i186, label %if.end.i.i.i.i164

if.then.i.i.i.i186:                               ; preds = %if.then.i.i.i161
  store i32 0, ptr %_M_use_count.i.i.i.i162, align 8
  %_M_weak_count.i.i.i.i187 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %66, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i187, align 4
  %vtable.i.i.i.i188 = load ptr, ptr %66, align 8
  %vfn.i.i.i.i189 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i188, i64 2
  %69 = load ptr, ptr %vfn.i.i.i.i189, align 8
  tail call void %69(ptr noundef nonnull align 8 dereferenceable(16) %66) #28
  br label %if.end8.sink.split.i.i.i.i181

if.end.i.i.i.i164:                                ; preds = %if.then.i.i.i161
  %70 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i165 = icmp eq i8 %70, 0
  br i1 %tobool.i.not.i.i.i.i165, label %if.else.i.i.i.i.i185, label %if.then.i.i.i.i.i166

if.then.i.i.i.i.i166:                             ; preds = %if.end.i.i.i.i164
  %add.i.i.i.i.i167 = add nsw i32 %68, -1
  store i32 %add.i.i.i.i.i167, ptr %_M_use_count.i.i.i.i162, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i168

if.else.i.i.i.i.i185:                             ; preds = %if.end.i.i.i.i164
  %71 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i162, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i168

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i168: ; preds = %if.else.i.i.i.i.i185, %if.then.i.i.i.i.i166
  %retval.i.0.i.i.i.i169 = phi i32 [ %68, %if.then.i.i.i.i.i166 ], [ %71, %if.else.i.i.i.i.i185 ]
  %cmp6.i.i.i.i170 = icmp eq i32 %retval.i.0.i.i.i.i169, 1
  br i1 %cmp6.i.i.i.i170, label %if.then7.i.i.i.i171, label %_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit190

if.then7.i.i.i.i171:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i168
  %vtable.i.i.i.i.i.i172 = load ptr, ptr %66, align 8
  %vfn.i.i.i.i.i.i173 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i172, i64 2
  %72 = load ptr, ptr %vfn.i.i.i.i.i.i173, align 8
  tail call void %72(ptr noundef nonnull align 8 dereferenceable(16) %66) #28
  %_M_weak_count.i.i.i.i.i.i174 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %66, i64 0, i32 2
  %73 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i175 = icmp eq i8 %73, 0
  br i1 %tobool.i.not.i.i.i.i.i.i175, label %if.else.i.i.i.i.i.i.i184, label %if.then.i.i.i.i.i.i.i176

if.then.i.i.i.i.i.i.i176:                         ; preds = %if.then7.i.i.i.i171
  %74 = load i32, ptr %_M_weak_count.i.i.i.i.i.i174, align 4
  %add.i.i.i.i.i.i.i177 = add nsw i32 %74, -1
  store i32 %add.i.i.i.i.i.i.i177, ptr %_M_weak_count.i.i.i.i.i.i174, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i178

if.else.i.i.i.i.i.i.i184:                         ; preds = %if.then7.i.i.i.i171
  %75 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i174, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i178

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i178: ; preds = %if.else.i.i.i.i.i.i.i184, %if.then.i.i.i.i.i.i.i176
  %retval.i.0.i.i.i.i.i.i179 = phi i32 [ %74, %if.then.i.i.i.i.i.i.i176 ], [ %75, %if.else.i.i.i.i.i.i.i184 ]
  %cmp.i.i.i.i.i.i180 = icmp eq i32 %retval.i.0.i.i.i.i.i.i179, 1
  br i1 %cmp.i.i.i.i.i.i180, label %if.end8.sink.split.i.i.i.i181, label %_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit190

if.end8.sink.split.i.i.i.i181:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i178, %if.then.i.i.i.i186
  %vtable2.i.i.i.i.i.i182 = load ptr, ptr %66, align 8
  %vfn3.i.i.i.i.i.i183 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i182, i64 3
  %76 = load ptr, ptr %vfn3.i.i.i.i.i.i183, align 8
  tail call void %76(ptr noundef nonnull align 8 dereferenceable(16) %66) #28
  br label %_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit190

_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit190: ; preds = %_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit158, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i168, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i178, %if.end8.sink.split.i.i.i.i181
  %_M_refcount.i.i191 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 29, i32 0, i32 1
  %77 = load ptr, ptr %_M_refcount.i.i191, align 8
  %cmp.not.i.i.i192 = icmp eq ptr %77, null
  br i1 %cmp.not.i.i.i192, label %_ZNSt10shared_ptrISt6vectorINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIS6_EEED2Ev.exit, label %if.then.i.i.i193

if.then.i.i.i193:                                 ; preds = %_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit190
  %_M_use_count.i.i.i.i194 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %77, i64 0, i32 1
  %78 = load atomic i64, ptr %_M_use_count.i.i.i.i194 acquire, align 8
  %cmp.i.i.i.i195 = icmp eq i64 %78, 4294967297
  %79 = trunc i64 %78 to i32
  br i1 %cmp.i.i.i.i195, label %if.then.i.i.i.i218, label %if.end.i.i.i.i196

if.then.i.i.i.i218:                               ; preds = %if.then.i.i.i193
  store i32 0, ptr %_M_use_count.i.i.i.i194, align 8
  %_M_weak_count.i.i.i.i219 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %77, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i219, align 4
  %vtable.i.i.i.i220 = load ptr, ptr %77, align 8
  %vfn.i.i.i.i221 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i220, i64 2
  %80 = load ptr, ptr %vfn.i.i.i.i221, align 8
  tail call void %80(ptr noundef nonnull align 8 dereferenceable(16) %77) #28
  br label %if.end8.sink.split.i.i.i.i213

if.end.i.i.i.i196:                                ; preds = %if.then.i.i.i193
  %81 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i197 = icmp eq i8 %81, 0
  br i1 %tobool.i.not.i.i.i.i197, label %if.else.i.i.i.i.i217, label %if.then.i.i.i.i.i198

if.then.i.i.i.i.i198:                             ; preds = %if.end.i.i.i.i196
  %add.i.i.i.i.i199 = add nsw i32 %79, -1
  store i32 %add.i.i.i.i.i199, ptr %_M_use_count.i.i.i.i194, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i200

if.else.i.i.i.i.i217:                             ; preds = %if.end.i.i.i.i196
  %82 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i194, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i200

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i200: ; preds = %if.else.i.i.i.i.i217, %if.then.i.i.i.i.i198
  %retval.i.0.i.i.i.i201 = phi i32 [ %79, %if.then.i.i.i.i.i198 ], [ %82, %if.else.i.i.i.i.i217 ]
  %cmp6.i.i.i.i202 = icmp eq i32 %retval.i.0.i.i.i.i201, 1
  br i1 %cmp6.i.i.i.i202, label %if.then7.i.i.i.i203, label %_ZNSt10shared_ptrISt6vectorINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIS6_EEED2Ev.exit

if.then7.i.i.i.i203:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i200
  %vtable.i.i.i.i.i.i204 = load ptr, ptr %77, align 8
  %vfn.i.i.i.i.i.i205 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i204, i64 2
  %83 = load ptr, ptr %vfn.i.i.i.i.i.i205, align 8
  tail call void %83(ptr noundef nonnull align 8 dereferenceable(16) %77) #28
  %_M_weak_count.i.i.i.i.i.i206 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %77, i64 0, i32 2
  %84 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i207 = icmp eq i8 %84, 0
  br i1 %tobool.i.not.i.i.i.i.i.i207, label %if.else.i.i.i.i.i.i.i216, label %if.then.i.i.i.i.i.i.i208

if.then.i.i.i.i.i.i.i208:                         ; preds = %if.then7.i.i.i.i203
  %85 = load i32, ptr %_M_weak_count.i.i.i.i.i.i206, align 4
  %add.i.i.i.i.i.i.i209 = add nsw i32 %85, -1
  store i32 %add.i.i.i.i.i.i.i209, ptr %_M_weak_count.i.i.i.i.i.i206, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i210

if.else.i.i.i.i.i.i.i216:                         ; preds = %if.then7.i.i.i.i203
  %86 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i206, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i210

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i210: ; preds = %if.else.i.i.i.i.i.i.i216, %if.then.i.i.i.i.i.i.i208
  %retval.i.0.i.i.i.i.i.i211 = phi i32 [ %85, %if.then.i.i.i.i.i.i.i208 ], [ %86, %if.else.i.i.i.i.i.i.i216 ]
  %cmp.i.i.i.i.i.i212 = icmp eq i32 %retval.i.0.i.i.i.i.i.i211, 1
  br i1 %cmp.i.i.i.i.i.i212, label %if.end8.sink.split.i.i.i.i213, label %_ZNSt10shared_ptrISt6vectorINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIS6_EEED2Ev.exit

if.end8.sink.split.i.i.i.i213:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i210, %if.then.i.i.i.i218
  %vtable2.i.i.i.i.i.i214 = load ptr, ptr %77, align 8
  %vfn3.i.i.i.i.i.i215 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i214, i64 3
  %87 = load ptr, ptr %vfn3.i.i.i.i.i.i215, align 8
  tail call void %87(ptr noundef nonnull align 8 dereferenceable(16) %77) #28
  br label %_ZNSt10shared_ptrISt6vectorINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIS6_EEED2Ev.exit

_ZNSt10shared_ptrISt6vectorINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIS6_EEED2Ev.exit: ; preds = %_ZNSt10shared_ptrIN5folly13SocketAddressEED2Ev.exit190, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i200, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i210, %if.end8.sink.split.i.i.i.i213
  %_M_refcount.i.i222 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 28, i32 0, i32 1
  %88 = load ptr, ptr %_M_refcount.i.i222, align 8
  %cmp.not.i.i.i223 = icmp eq ptr %88, null
  br i1 %cmp.not.i.i.i223, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit253, label %if.then.i.i.i224

if.then.i.i.i224:                                 ; preds = %_ZNSt10shared_ptrISt6vectorINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIS6_EEED2Ev.exit
  %_M_use_count.i.i.i.i225 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %88, i64 0, i32 1
  %89 = load atomic i64, ptr %_M_use_count.i.i.i.i225 acquire, align 8
  %cmp.i.i.i.i226 = icmp eq i64 %89, 4294967297
  %90 = trunc i64 %89 to i32
  br i1 %cmp.i.i.i.i226, label %if.then.i.i.i.i249, label %if.end.i.i.i.i227

if.then.i.i.i.i249:                               ; preds = %if.then.i.i.i224
  store i32 0, ptr %_M_use_count.i.i.i.i225, align 8
  %_M_weak_count.i.i.i.i250 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %88, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i250, align 4
  %vtable.i.i.i.i251 = load ptr, ptr %88, align 8
  %vfn.i.i.i.i252 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i251, i64 2
  %91 = load ptr, ptr %vfn.i.i.i.i252, align 8
  tail call void %91(ptr noundef nonnull align 8 dereferenceable(16) %88) #28
  br label %if.end8.sink.split.i.i.i.i244

if.end.i.i.i.i227:                                ; preds = %if.then.i.i.i224
  %92 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i228 = icmp eq i8 %92, 0
  br i1 %tobool.i.not.i.i.i.i228, label %if.else.i.i.i.i.i248, label %if.then.i.i.i.i.i229

if.then.i.i.i.i.i229:                             ; preds = %if.end.i.i.i.i227
  %add.i.i.i.i.i230 = add nsw i32 %90, -1
  store i32 %add.i.i.i.i.i230, ptr %_M_use_count.i.i.i.i225, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i231

if.else.i.i.i.i.i248:                             ; preds = %if.end.i.i.i.i227
  %93 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i225, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i231

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i231: ; preds = %if.else.i.i.i.i.i248, %if.then.i.i.i.i.i229
  %retval.i.0.i.i.i.i232 = phi i32 [ %90, %if.then.i.i.i.i.i229 ], [ %93, %if.else.i.i.i.i.i248 ]
  %cmp6.i.i.i.i233 = icmp eq i32 %retval.i.0.i.i.i.i232, 1
  br i1 %cmp6.i.i.i.i233, label %if.then7.i.i.i.i234, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit253

if.then7.i.i.i.i234:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i231
  %vtable.i.i.i.i.i.i235 = load ptr, ptr %88, align 8
  %vfn.i.i.i.i.i.i236 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i235, i64 2
  %94 = load ptr, ptr %vfn.i.i.i.i.i.i236, align 8
  tail call void %94(ptr noundef nonnull align 8 dereferenceable(16) %88) #28
  %_M_weak_count.i.i.i.i.i.i237 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %88, i64 0, i32 2
  %95 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i238 = icmp eq i8 %95, 0
  br i1 %tobool.i.not.i.i.i.i.i.i238, label %if.else.i.i.i.i.i.i.i247, label %if.then.i.i.i.i.i.i.i239

if.then.i.i.i.i.i.i.i239:                         ; preds = %if.then7.i.i.i.i234
  %96 = load i32, ptr %_M_weak_count.i.i.i.i.i.i237, align 4
  %add.i.i.i.i.i.i.i240 = add nsw i32 %96, -1
  store i32 %add.i.i.i.i.i.i.i240, ptr %_M_weak_count.i.i.i.i.i.i237, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i241

if.else.i.i.i.i.i.i.i247:                         ; preds = %if.then7.i.i.i.i234
  %97 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i237, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i241

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i241: ; preds = %if.else.i.i.i.i.i.i.i247, %if.then.i.i.i.i.i.i.i239
  %retval.i.0.i.i.i.i.i.i242 = phi i32 [ %96, %if.then.i.i.i.i.i.i.i239 ], [ %97, %if.else.i.i.i.i.i.i.i247 ]
  %cmp.i.i.i.i.i.i243 = icmp eq i32 %retval.i.0.i.i.i.i.i.i242, 1
  br i1 %cmp.i.i.i.i.i.i243, label %if.end8.sink.split.i.i.i.i244, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit253

if.end8.sink.split.i.i.i.i244:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i241, %if.then.i.i.i.i249
  %vtable2.i.i.i.i.i.i245 = load ptr, ptr %88, align 8
  %vfn3.i.i.i.i.i.i246 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i245, i64 3
  %98 = load ptr, ptr %vfn3.i.i.i.i.i.i246, align 8
  tail call void %98(ptr noundef nonnull align 8 dereferenceable(16) %88) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit253

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit253: ; preds = %_ZNSt10shared_ptrISt6vectorINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIS6_EEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i231, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i241, %if.end8.sink.split.i.i.i.i244
  %_M_refcount.i.i254 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 27, i32 0, i32 1
  %99 = load ptr, ptr %_M_refcount.i.i254, align 8
  %cmp.not.i.i.i255 = icmp eq ptr %99, null
  br i1 %cmp.not.i.i.i255, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit285, label %if.then.i.i.i256

if.then.i.i.i256:                                 ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit253
  %_M_use_count.i.i.i.i257 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %99, i64 0, i32 1
  %100 = load atomic i64, ptr %_M_use_count.i.i.i.i257 acquire, align 8
  %cmp.i.i.i.i258 = icmp eq i64 %100, 4294967297
  %101 = trunc i64 %100 to i32
  br i1 %cmp.i.i.i.i258, label %if.then.i.i.i.i281, label %if.end.i.i.i.i259

if.then.i.i.i.i281:                               ; preds = %if.then.i.i.i256
  store i32 0, ptr %_M_use_count.i.i.i.i257, align 8
  %_M_weak_count.i.i.i.i282 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %99, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i282, align 4
  %vtable.i.i.i.i283 = load ptr, ptr %99, align 8
  %vfn.i.i.i.i284 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i283, i64 2
  %102 = load ptr, ptr %vfn.i.i.i.i284, align 8
  tail call void %102(ptr noundef nonnull align 8 dereferenceable(16) %99) #28
  br label %if.end8.sink.split.i.i.i.i276

if.end.i.i.i.i259:                                ; preds = %if.then.i.i.i256
  %103 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i260 = icmp eq i8 %103, 0
  br i1 %tobool.i.not.i.i.i.i260, label %if.else.i.i.i.i.i280, label %if.then.i.i.i.i.i261

if.then.i.i.i.i.i261:                             ; preds = %if.end.i.i.i.i259
  %add.i.i.i.i.i262 = add nsw i32 %101, -1
  store i32 %add.i.i.i.i.i262, ptr %_M_use_count.i.i.i.i257, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i263

if.else.i.i.i.i.i280:                             ; preds = %if.end.i.i.i.i259
  %104 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i257, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i263

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i263: ; preds = %if.else.i.i.i.i.i280, %if.then.i.i.i.i.i261
  %retval.i.0.i.i.i.i264 = phi i32 [ %101, %if.then.i.i.i.i.i261 ], [ %104, %if.else.i.i.i.i.i280 ]
  %cmp6.i.i.i.i265 = icmp eq i32 %retval.i.0.i.i.i.i264, 1
  br i1 %cmp6.i.i.i.i265, label %if.then7.i.i.i.i266, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit285

if.then7.i.i.i.i266:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i263
  %vtable.i.i.i.i.i.i267 = load ptr, ptr %99, align 8
  %vfn.i.i.i.i.i.i268 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i267, i64 2
  %105 = load ptr, ptr %vfn.i.i.i.i.i.i268, align 8
  tail call void %105(ptr noundef nonnull align 8 dereferenceable(16) %99) #28
  %_M_weak_count.i.i.i.i.i.i269 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %99, i64 0, i32 2
  %106 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i270 = icmp eq i8 %106, 0
  br i1 %tobool.i.not.i.i.i.i.i.i270, label %if.else.i.i.i.i.i.i.i279, label %if.then.i.i.i.i.i.i.i271

if.then.i.i.i.i.i.i.i271:                         ; preds = %if.then7.i.i.i.i266
  %107 = load i32, ptr %_M_weak_count.i.i.i.i.i.i269, align 4
  %add.i.i.i.i.i.i.i272 = add nsw i32 %107, -1
  store i32 %add.i.i.i.i.i.i.i272, ptr %_M_weak_count.i.i.i.i.i.i269, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i273

if.else.i.i.i.i.i.i.i279:                         ; preds = %if.then7.i.i.i.i266
  %108 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i269, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i273

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i273: ; preds = %if.else.i.i.i.i.i.i.i279, %if.then.i.i.i.i.i.i.i271
  %retval.i.0.i.i.i.i.i.i274 = phi i32 [ %107, %if.then.i.i.i.i.i.i.i271 ], [ %108, %if.else.i.i.i.i.i.i.i279 ]
  %cmp.i.i.i.i.i.i275 = icmp eq i32 %retval.i.0.i.i.i.i.i.i274, 1
  br i1 %cmp.i.i.i.i.i.i275, label %if.end8.sink.split.i.i.i.i276, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit285

if.end8.sink.split.i.i.i.i276:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i273, %if.then.i.i.i.i281
  %vtable2.i.i.i.i.i.i277 = load ptr, ptr %99, align 8
  %vfn3.i.i.i.i.i.i278 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i277, i64 3
  %109 = load ptr, ptr %vfn3.i.i.i.i.i.i278, align 8
  tail call void %109(ptr noundef nonnull align 8 dereferenceable(16) %99) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit285

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit285: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit253, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i263, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i273, %if.end8.sink.split.i.i.i.i276
  %_M_refcount.i.i286 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 26, i32 0, i32 1
  %110 = load ptr, ptr %_M_refcount.i.i286, align 8
  %cmp.not.i.i.i287 = icmp eq ptr %110, null
  br i1 %cmp.not.i.i.i287, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit317, label %if.then.i.i.i288

if.then.i.i.i288:                                 ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit285
  %_M_use_count.i.i.i.i289 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %110, i64 0, i32 1
  %111 = load atomic i64, ptr %_M_use_count.i.i.i.i289 acquire, align 8
  %cmp.i.i.i.i290 = icmp eq i64 %111, 4294967297
  %112 = trunc i64 %111 to i32
  br i1 %cmp.i.i.i.i290, label %if.then.i.i.i.i313, label %if.end.i.i.i.i291

if.then.i.i.i.i313:                               ; preds = %if.then.i.i.i288
  store i32 0, ptr %_M_use_count.i.i.i.i289, align 8
  %_M_weak_count.i.i.i.i314 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %110, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i314, align 4
  %vtable.i.i.i.i315 = load ptr, ptr %110, align 8
  %vfn.i.i.i.i316 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i315, i64 2
  %113 = load ptr, ptr %vfn.i.i.i.i316, align 8
  tail call void %113(ptr noundef nonnull align 8 dereferenceable(16) %110) #28
  br label %if.end8.sink.split.i.i.i.i308

if.end.i.i.i.i291:                                ; preds = %if.then.i.i.i288
  %114 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i292 = icmp eq i8 %114, 0
  br i1 %tobool.i.not.i.i.i.i292, label %if.else.i.i.i.i.i312, label %if.then.i.i.i.i.i293

if.then.i.i.i.i.i293:                             ; preds = %if.end.i.i.i.i291
  %add.i.i.i.i.i294 = add nsw i32 %112, -1
  store i32 %add.i.i.i.i.i294, ptr %_M_use_count.i.i.i.i289, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i295

if.else.i.i.i.i.i312:                             ; preds = %if.end.i.i.i.i291
  %115 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i289, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i295

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i295: ; preds = %if.else.i.i.i.i.i312, %if.then.i.i.i.i.i293
  %retval.i.0.i.i.i.i296 = phi i32 [ %112, %if.then.i.i.i.i.i293 ], [ %115, %if.else.i.i.i.i.i312 ]
  %cmp6.i.i.i.i297 = icmp eq i32 %retval.i.0.i.i.i.i296, 1
  br i1 %cmp6.i.i.i.i297, label %if.then7.i.i.i.i298, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit317

if.then7.i.i.i.i298:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i295
  %vtable.i.i.i.i.i.i299 = load ptr, ptr %110, align 8
  %vfn.i.i.i.i.i.i300 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i299, i64 2
  %116 = load ptr, ptr %vfn.i.i.i.i.i.i300, align 8
  tail call void %116(ptr noundef nonnull align 8 dereferenceable(16) %110) #28
  %_M_weak_count.i.i.i.i.i.i301 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %110, i64 0, i32 2
  %117 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i302 = icmp eq i8 %117, 0
  br i1 %tobool.i.not.i.i.i.i.i.i302, label %if.else.i.i.i.i.i.i.i311, label %if.then.i.i.i.i.i.i.i303

if.then.i.i.i.i.i.i.i303:                         ; preds = %if.then7.i.i.i.i298
  %118 = load i32, ptr %_M_weak_count.i.i.i.i.i.i301, align 4
  %add.i.i.i.i.i.i.i304 = add nsw i32 %118, -1
  store i32 %add.i.i.i.i.i.i.i304, ptr %_M_weak_count.i.i.i.i.i.i301, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i305

if.else.i.i.i.i.i.i.i311:                         ; preds = %if.then7.i.i.i.i298
  %119 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i301, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i305

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i305: ; preds = %if.else.i.i.i.i.i.i.i311, %if.then.i.i.i.i.i.i.i303
  %retval.i.0.i.i.i.i.i.i306 = phi i32 [ %118, %if.then.i.i.i.i.i.i.i303 ], [ %119, %if.else.i.i.i.i.i.i.i311 ]
  %cmp.i.i.i.i.i.i307 = icmp eq i32 %retval.i.0.i.i.i.i.i.i306, 1
  br i1 %cmp.i.i.i.i.i.i307, label %if.end8.sink.split.i.i.i.i308, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit317

if.end8.sink.split.i.i.i.i308:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i305, %if.then.i.i.i.i313
  %vtable2.i.i.i.i.i.i309 = load ptr, ptr %110, align 8
  %vfn3.i.i.i.i.i.i310 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i309, i64 3
  %120 = load ptr, ptr %vfn3.i.i.i.i.i.i310, align 8
  tail call void %120(ptr noundef nonnull align 8 dereferenceable(16) %110) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit317

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit317: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit285, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i295, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i305, %if.end8.sink.split.i.i.i.i308
  %_M_refcount.i.i318 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 25, i32 0, i32 1
  %121 = load ptr, ptr %_M_refcount.i.i318, align 8
  %cmp.not.i.i.i319 = icmp eq ptr %121, null
  br i1 %cmp.not.i.i.i319, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit349, label %if.then.i.i.i320

if.then.i.i.i320:                                 ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit317
  %_M_use_count.i.i.i.i321 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %121, i64 0, i32 1
  %122 = load atomic i64, ptr %_M_use_count.i.i.i.i321 acquire, align 8
  %cmp.i.i.i.i322 = icmp eq i64 %122, 4294967297
  %123 = trunc i64 %122 to i32
  br i1 %cmp.i.i.i.i322, label %if.then.i.i.i.i345, label %if.end.i.i.i.i323

if.then.i.i.i.i345:                               ; preds = %if.then.i.i.i320
  store i32 0, ptr %_M_use_count.i.i.i.i321, align 8
  %_M_weak_count.i.i.i.i346 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %121, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i346, align 4
  %vtable.i.i.i.i347 = load ptr, ptr %121, align 8
  %vfn.i.i.i.i348 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i347, i64 2
  %124 = load ptr, ptr %vfn.i.i.i.i348, align 8
  tail call void %124(ptr noundef nonnull align 8 dereferenceable(16) %121) #28
  br label %if.end8.sink.split.i.i.i.i340

if.end.i.i.i.i323:                                ; preds = %if.then.i.i.i320
  %125 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i324 = icmp eq i8 %125, 0
  br i1 %tobool.i.not.i.i.i.i324, label %if.else.i.i.i.i.i344, label %if.then.i.i.i.i.i325

if.then.i.i.i.i.i325:                             ; preds = %if.end.i.i.i.i323
  %add.i.i.i.i.i326 = add nsw i32 %123, -1
  store i32 %add.i.i.i.i.i326, ptr %_M_use_count.i.i.i.i321, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i327

if.else.i.i.i.i.i344:                             ; preds = %if.end.i.i.i.i323
  %126 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i321, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i327

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i327: ; preds = %if.else.i.i.i.i.i344, %if.then.i.i.i.i.i325
  %retval.i.0.i.i.i.i328 = phi i32 [ %123, %if.then.i.i.i.i.i325 ], [ %126, %if.else.i.i.i.i.i344 ]
  %cmp6.i.i.i.i329 = icmp eq i32 %retval.i.0.i.i.i.i328, 1
  br i1 %cmp6.i.i.i.i329, label %if.then7.i.i.i.i330, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit349

if.then7.i.i.i.i330:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i327
  %vtable.i.i.i.i.i.i331 = load ptr, ptr %121, align 8
  %vfn.i.i.i.i.i.i332 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i331, i64 2
  %127 = load ptr, ptr %vfn.i.i.i.i.i.i332, align 8
  tail call void %127(ptr noundef nonnull align 8 dereferenceable(16) %121) #28
  %_M_weak_count.i.i.i.i.i.i333 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %121, i64 0, i32 2
  %128 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i334 = icmp eq i8 %128, 0
  br i1 %tobool.i.not.i.i.i.i.i.i334, label %if.else.i.i.i.i.i.i.i343, label %if.then.i.i.i.i.i.i.i335

if.then.i.i.i.i.i.i.i335:                         ; preds = %if.then7.i.i.i.i330
  %129 = load i32, ptr %_M_weak_count.i.i.i.i.i.i333, align 4
  %add.i.i.i.i.i.i.i336 = add nsw i32 %129, -1
  store i32 %add.i.i.i.i.i.i.i336, ptr %_M_weak_count.i.i.i.i.i.i333, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i337

if.else.i.i.i.i.i.i.i343:                         ; preds = %if.then7.i.i.i.i330
  %130 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i333, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i337

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i337: ; preds = %if.else.i.i.i.i.i.i.i343, %if.then.i.i.i.i.i.i.i335
  %retval.i.0.i.i.i.i.i.i338 = phi i32 [ %129, %if.then.i.i.i.i.i.i.i335 ], [ %130, %if.else.i.i.i.i.i.i.i343 ]
  %cmp.i.i.i.i.i.i339 = icmp eq i32 %retval.i.0.i.i.i.i.i.i338, 1
  br i1 %cmp.i.i.i.i.i.i339, label %if.end8.sink.split.i.i.i.i340, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit349

if.end8.sink.split.i.i.i.i340:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i337, %if.then.i.i.i.i345
  %vtable2.i.i.i.i.i.i341 = load ptr, ptr %121, align 8
  %vfn3.i.i.i.i.i.i342 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i341, i64 3
  %131 = load ptr, ptr %vfn3.i.i.i.i.i.i342, align 8
  tail call void %131(ptr noundef nonnull align 8 dereferenceable(16) %121) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit349

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit349: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit317, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i327, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i337, %if.end8.sink.split.i.i.i.i340
  %_M_refcount.i.i350 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 24, i32 0, i32 1
  %132 = load ptr, ptr %_M_refcount.i.i350, align 8
  %cmp.not.i.i.i351 = icmp eq ptr %132, null
  br i1 %cmp.not.i.i.i351, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit381, label %if.then.i.i.i352

if.then.i.i.i352:                                 ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit349
  %_M_use_count.i.i.i.i353 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %132, i64 0, i32 1
  %133 = load atomic i64, ptr %_M_use_count.i.i.i.i353 acquire, align 8
  %cmp.i.i.i.i354 = icmp eq i64 %133, 4294967297
  %134 = trunc i64 %133 to i32
  br i1 %cmp.i.i.i.i354, label %if.then.i.i.i.i377, label %if.end.i.i.i.i355

if.then.i.i.i.i377:                               ; preds = %if.then.i.i.i352
  store i32 0, ptr %_M_use_count.i.i.i.i353, align 8
  %_M_weak_count.i.i.i.i378 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %132, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i378, align 4
  %vtable.i.i.i.i379 = load ptr, ptr %132, align 8
  %vfn.i.i.i.i380 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i379, i64 2
  %135 = load ptr, ptr %vfn.i.i.i.i380, align 8
  tail call void %135(ptr noundef nonnull align 8 dereferenceable(16) %132) #28
  br label %if.end8.sink.split.i.i.i.i372

if.end.i.i.i.i355:                                ; preds = %if.then.i.i.i352
  %136 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i356 = icmp eq i8 %136, 0
  br i1 %tobool.i.not.i.i.i.i356, label %if.else.i.i.i.i.i376, label %if.then.i.i.i.i.i357

if.then.i.i.i.i.i357:                             ; preds = %if.end.i.i.i.i355
  %add.i.i.i.i.i358 = add nsw i32 %134, -1
  store i32 %add.i.i.i.i.i358, ptr %_M_use_count.i.i.i.i353, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i359

if.else.i.i.i.i.i376:                             ; preds = %if.end.i.i.i.i355
  %137 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i353, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i359

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i359: ; preds = %if.else.i.i.i.i.i376, %if.then.i.i.i.i.i357
  %retval.i.0.i.i.i.i360 = phi i32 [ %134, %if.then.i.i.i.i.i357 ], [ %137, %if.else.i.i.i.i.i376 ]
  %cmp6.i.i.i.i361 = icmp eq i32 %retval.i.0.i.i.i.i360, 1
  br i1 %cmp6.i.i.i.i361, label %if.then7.i.i.i.i362, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit381

if.then7.i.i.i.i362:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i359
  %vtable.i.i.i.i.i.i363 = load ptr, ptr %132, align 8
  %vfn.i.i.i.i.i.i364 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i363, i64 2
  %138 = load ptr, ptr %vfn.i.i.i.i.i.i364, align 8
  tail call void %138(ptr noundef nonnull align 8 dereferenceable(16) %132) #28
  %_M_weak_count.i.i.i.i.i.i365 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %132, i64 0, i32 2
  %139 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i366 = icmp eq i8 %139, 0
  br i1 %tobool.i.not.i.i.i.i.i.i366, label %if.else.i.i.i.i.i.i.i375, label %if.then.i.i.i.i.i.i.i367

if.then.i.i.i.i.i.i.i367:                         ; preds = %if.then7.i.i.i.i362
  %140 = load i32, ptr %_M_weak_count.i.i.i.i.i.i365, align 4
  %add.i.i.i.i.i.i.i368 = add nsw i32 %140, -1
  store i32 %add.i.i.i.i.i.i.i368, ptr %_M_weak_count.i.i.i.i.i.i365, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i369

if.else.i.i.i.i.i.i.i375:                         ; preds = %if.then7.i.i.i.i362
  %141 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i365, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i369

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i369: ; preds = %if.else.i.i.i.i.i.i.i375, %if.then.i.i.i.i.i.i.i367
  %retval.i.0.i.i.i.i.i.i370 = phi i32 [ %140, %if.then.i.i.i.i.i.i.i367 ], [ %141, %if.else.i.i.i.i.i.i.i375 ]
  %cmp.i.i.i.i.i.i371 = icmp eq i32 %retval.i.0.i.i.i.i.i.i370, 1
  br i1 %cmp.i.i.i.i.i.i371, label %if.end8.sink.split.i.i.i.i372, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit381

if.end8.sink.split.i.i.i.i372:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i369, %if.then.i.i.i.i377
  %vtable2.i.i.i.i.i.i373 = load ptr, ptr %132, align 8
  %vfn3.i.i.i.i.i.i374 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i373, i64 3
  %142 = load ptr, ptr %vfn3.i.i.i.i.i.i374, align 8
  tail call void %142(ptr noundef nonnull align 8 dereferenceable(16) %132) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit381

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit381: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit349, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i359, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i369, %if.end8.sink.split.i.i.i.i372
  %_M_refcount.i.i382 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 23, i32 0, i32 1
  %143 = load ptr, ptr %_M_refcount.i.i382, align 8
  %cmp.not.i.i.i383 = icmp eq ptr %143, null
  br i1 %cmp.not.i.i.i383, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit413, label %if.then.i.i.i384

if.then.i.i.i384:                                 ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit381
  %_M_use_count.i.i.i.i385 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %143, i64 0, i32 1
  %144 = load atomic i64, ptr %_M_use_count.i.i.i.i385 acquire, align 8
  %cmp.i.i.i.i386 = icmp eq i64 %144, 4294967297
  %145 = trunc i64 %144 to i32
  br i1 %cmp.i.i.i.i386, label %if.then.i.i.i.i409, label %if.end.i.i.i.i387

if.then.i.i.i.i409:                               ; preds = %if.then.i.i.i384
  store i32 0, ptr %_M_use_count.i.i.i.i385, align 8
  %_M_weak_count.i.i.i.i410 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %143, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i410, align 4
  %vtable.i.i.i.i411 = load ptr, ptr %143, align 8
  %vfn.i.i.i.i412 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i411, i64 2
  %146 = load ptr, ptr %vfn.i.i.i.i412, align 8
  tail call void %146(ptr noundef nonnull align 8 dereferenceable(16) %143) #28
  br label %if.end8.sink.split.i.i.i.i404

if.end.i.i.i.i387:                                ; preds = %if.then.i.i.i384
  %147 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i388 = icmp eq i8 %147, 0
  br i1 %tobool.i.not.i.i.i.i388, label %if.else.i.i.i.i.i408, label %if.then.i.i.i.i.i389

if.then.i.i.i.i.i389:                             ; preds = %if.end.i.i.i.i387
  %add.i.i.i.i.i390 = add nsw i32 %145, -1
  store i32 %add.i.i.i.i.i390, ptr %_M_use_count.i.i.i.i385, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i391

if.else.i.i.i.i.i408:                             ; preds = %if.end.i.i.i.i387
  %148 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i385, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i391

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i391: ; preds = %if.else.i.i.i.i.i408, %if.then.i.i.i.i.i389
  %retval.i.0.i.i.i.i392 = phi i32 [ %145, %if.then.i.i.i.i.i389 ], [ %148, %if.else.i.i.i.i.i408 ]
  %cmp6.i.i.i.i393 = icmp eq i32 %retval.i.0.i.i.i.i392, 1
  br i1 %cmp6.i.i.i.i393, label %if.then7.i.i.i.i394, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit413

if.then7.i.i.i.i394:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i391
  %vtable.i.i.i.i.i.i395 = load ptr, ptr %143, align 8
  %vfn.i.i.i.i.i.i396 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i395, i64 2
  %149 = load ptr, ptr %vfn.i.i.i.i.i.i396, align 8
  tail call void %149(ptr noundef nonnull align 8 dereferenceable(16) %143) #28
  %_M_weak_count.i.i.i.i.i.i397 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %143, i64 0, i32 2
  %150 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i398 = icmp eq i8 %150, 0
  br i1 %tobool.i.not.i.i.i.i.i.i398, label %if.else.i.i.i.i.i.i.i407, label %if.then.i.i.i.i.i.i.i399

if.then.i.i.i.i.i.i.i399:                         ; preds = %if.then7.i.i.i.i394
  %151 = load i32, ptr %_M_weak_count.i.i.i.i.i.i397, align 4
  %add.i.i.i.i.i.i.i400 = add nsw i32 %151, -1
  store i32 %add.i.i.i.i.i.i.i400, ptr %_M_weak_count.i.i.i.i.i.i397, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i401

if.else.i.i.i.i.i.i.i407:                         ; preds = %if.then7.i.i.i.i394
  %152 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i397, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i401

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i401: ; preds = %if.else.i.i.i.i.i.i.i407, %if.then.i.i.i.i.i.i.i399
  %retval.i.0.i.i.i.i.i.i402 = phi i32 [ %151, %if.then.i.i.i.i.i.i.i399 ], [ %152, %if.else.i.i.i.i.i.i.i407 ]
  %cmp.i.i.i.i.i.i403 = icmp eq i32 %retval.i.0.i.i.i.i.i.i402, 1
  br i1 %cmp.i.i.i.i.i.i403, label %if.end8.sink.split.i.i.i.i404, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit413

if.end8.sink.split.i.i.i.i404:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i401, %if.then.i.i.i.i409
  %vtable2.i.i.i.i.i.i405 = load ptr, ptr %143, align 8
  %vfn3.i.i.i.i.i.i406 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i405, i64 3
  %153 = load ptr, ptr %vfn3.i.i.i.i.i.i406, align 8
  tail call void %153(ptr noundef nonnull align 8 dereferenceable(16) %143) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit413

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit413: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit381, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i391, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i401, %if.end8.sink.split.i.i.i.i404
  %_M_refcount.i.i414 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 22, i32 0, i32 1
  %154 = load ptr, ptr %_M_refcount.i.i414, align 8
  %cmp.not.i.i.i415 = icmp eq ptr %154, null
  br i1 %cmp.not.i.i.i415, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit445, label %if.then.i.i.i416

if.then.i.i.i416:                                 ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit413
  %_M_use_count.i.i.i.i417 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %154, i64 0, i32 1
  %155 = load atomic i64, ptr %_M_use_count.i.i.i.i417 acquire, align 8
  %cmp.i.i.i.i418 = icmp eq i64 %155, 4294967297
  %156 = trunc i64 %155 to i32
  br i1 %cmp.i.i.i.i418, label %if.then.i.i.i.i441, label %if.end.i.i.i.i419

if.then.i.i.i.i441:                               ; preds = %if.then.i.i.i416
  store i32 0, ptr %_M_use_count.i.i.i.i417, align 8
  %_M_weak_count.i.i.i.i442 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %154, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i442, align 4
  %vtable.i.i.i.i443 = load ptr, ptr %154, align 8
  %vfn.i.i.i.i444 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i443, i64 2
  %157 = load ptr, ptr %vfn.i.i.i.i444, align 8
  tail call void %157(ptr noundef nonnull align 8 dereferenceable(16) %154) #28
  br label %if.end8.sink.split.i.i.i.i436

if.end.i.i.i.i419:                                ; preds = %if.then.i.i.i416
  %158 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i420 = icmp eq i8 %158, 0
  br i1 %tobool.i.not.i.i.i.i420, label %if.else.i.i.i.i.i440, label %if.then.i.i.i.i.i421

if.then.i.i.i.i.i421:                             ; preds = %if.end.i.i.i.i419
  %add.i.i.i.i.i422 = add nsw i32 %156, -1
  store i32 %add.i.i.i.i.i422, ptr %_M_use_count.i.i.i.i417, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i423

if.else.i.i.i.i.i440:                             ; preds = %if.end.i.i.i.i419
  %159 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i417, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i423

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i423: ; preds = %if.else.i.i.i.i.i440, %if.then.i.i.i.i.i421
  %retval.i.0.i.i.i.i424 = phi i32 [ %156, %if.then.i.i.i.i.i421 ], [ %159, %if.else.i.i.i.i.i440 ]
  %cmp6.i.i.i.i425 = icmp eq i32 %retval.i.0.i.i.i.i424, 1
  br i1 %cmp6.i.i.i.i425, label %if.then7.i.i.i.i426, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit445

if.then7.i.i.i.i426:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i423
  %vtable.i.i.i.i.i.i427 = load ptr, ptr %154, align 8
  %vfn.i.i.i.i.i.i428 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i427, i64 2
  %160 = load ptr, ptr %vfn.i.i.i.i.i.i428, align 8
  tail call void %160(ptr noundef nonnull align 8 dereferenceable(16) %154) #28
  %_M_weak_count.i.i.i.i.i.i429 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %154, i64 0, i32 2
  %161 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i430 = icmp eq i8 %161, 0
  br i1 %tobool.i.not.i.i.i.i.i.i430, label %if.else.i.i.i.i.i.i.i439, label %if.then.i.i.i.i.i.i.i431

if.then.i.i.i.i.i.i.i431:                         ; preds = %if.then7.i.i.i.i426
  %162 = load i32, ptr %_M_weak_count.i.i.i.i.i.i429, align 4
  %add.i.i.i.i.i.i.i432 = add nsw i32 %162, -1
  store i32 %add.i.i.i.i.i.i.i432, ptr %_M_weak_count.i.i.i.i.i.i429, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i433

if.else.i.i.i.i.i.i.i439:                         ; preds = %if.then7.i.i.i.i426
  %163 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i429, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i433

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i433: ; preds = %if.else.i.i.i.i.i.i.i439, %if.then.i.i.i.i.i.i.i431
  %retval.i.0.i.i.i.i.i.i434 = phi i32 [ %162, %if.then.i.i.i.i.i.i.i431 ], [ %163, %if.else.i.i.i.i.i.i.i439 ]
  %cmp.i.i.i.i.i.i435 = icmp eq i32 %retval.i.0.i.i.i.i.i.i434, 1
  br i1 %cmp.i.i.i.i.i.i435, label %if.end8.sink.split.i.i.i.i436, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit445

if.end8.sink.split.i.i.i.i436:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i433, %if.then.i.i.i.i441
  %vtable2.i.i.i.i.i.i437 = load ptr, ptr %154, align 8
  %vfn3.i.i.i.i.i.i438 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i437, i64 3
  %164 = load ptr, ptr %vfn3.i.i.i.i.i.i438, align 8
  tail call void %164(ptr noundef nonnull align 8 dereferenceable(16) %154) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit445

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit445: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit413, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i423, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i433, %if.end8.sink.split.i.i.i.i436
  %_M_refcount.i.i446 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 21, i32 0, i32 1
  %165 = load ptr, ptr %_M_refcount.i.i446, align 8
  %cmp.not.i.i.i447 = icmp eq ptr %165, null
  br i1 %cmp.not.i.i.i447, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit477, label %if.then.i.i.i448

if.then.i.i.i448:                                 ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit445
  %_M_use_count.i.i.i.i449 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %165, i64 0, i32 1
  %166 = load atomic i64, ptr %_M_use_count.i.i.i.i449 acquire, align 8
  %cmp.i.i.i.i450 = icmp eq i64 %166, 4294967297
  %167 = trunc i64 %166 to i32
  br i1 %cmp.i.i.i.i450, label %if.then.i.i.i.i473, label %if.end.i.i.i.i451

if.then.i.i.i.i473:                               ; preds = %if.then.i.i.i448
  store i32 0, ptr %_M_use_count.i.i.i.i449, align 8
  %_M_weak_count.i.i.i.i474 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %165, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i474, align 4
  %vtable.i.i.i.i475 = load ptr, ptr %165, align 8
  %vfn.i.i.i.i476 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i475, i64 2
  %168 = load ptr, ptr %vfn.i.i.i.i476, align 8
  tail call void %168(ptr noundef nonnull align 8 dereferenceable(16) %165) #28
  br label %if.end8.sink.split.i.i.i.i468

if.end.i.i.i.i451:                                ; preds = %if.then.i.i.i448
  %169 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i452 = icmp eq i8 %169, 0
  br i1 %tobool.i.not.i.i.i.i452, label %if.else.i.i.i.i.i472, label %if.then.i.i.i.i.i453

if.then.i.i.i.i.i453:                             ; preds = %if.end.i.i.i.i451
  %add.i.i.i.i.i454 = add nsw i32 %167, -1
  store i32 %add.i.i.i.i.i454, ptr %_M_use_count.i.i.i.i449, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i455

if.else.i.i.i.i.i472:                             ; preds = %if.end.i.i.i.i451
  %170 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i449, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i455

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i455: ; preds = %if.else.i.i.i.i.i472, %if.then.i.i.i.i.i453
  %retval.i.0.i.i.i.i456 = phi i32 [ %167, %if.then.i.i.i.i.i453 ], [ %170, %if.else.i.i.i.i.i472 ]
  %cmp6.i.i.i.i457 = icmp eq i32 %retval.i.0.i.i.i.i456, 1
  br i1 %cmp6.i.i.i.i457, label %if.then7.i.i.i.i458, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit477

if.then7.i.i.i.i458:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i455
  %vtable.i.i.i.i.i.i459 = load ptr, ptr %165, align 8
  %vfn.i.i.i.i.i.i460 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i459, i64 2
  %171 = load ptr, ptr %vfn.i.i.i.i.i.i460, align 8
  tail call void %171(ptr noundef nonnull align 8 dereferenceable(16) %165) #28
  %_M_weak_count.i.i.i.i.i.i461 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %165, i64 0, i32 2
  %172 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i462 = icmp eq i8 %172, 0
  br i1 %tobool.i.not.i.i.i.i.i.i462, label %if.else.i.i.i.i.i.i.i471, label %if.then.i.i.i.i.i.i.i463

if.then.i.i.i.i.i.i.i463:                         ; preds = %if.then7.i.i.i.i458
  %173 = load i32, ptr %_M_weak_count.i.i.i.i.i.i461, align 4
  %add.i.i.i.i.i.i.i464 = add nsw i32 %173, -1
  store i32 %add.i.i.i.i.i.i.i464, ptr %_M_weak_count.i.i.i.i.i.i461, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i465

if.else.i.i.i.i.i.i.i471:                         ; preds = %if.then7.i.i.i.i458
  %174 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i461, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i465

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i465: ; preds = %if.else.i.i.i.i.i.i.i471, %if.then.i.i.i.i.i.i.i463
  %retval.i.0.i.i.i.i.i.i466 = phi i32 [ %173, %if.then.i.i.i.i.i.i.i463 ], [ %174, %if.else.i.i.i.i.i.i.i471 ]
  %cmp.i.i.i.i.i.i467 = icmp eq i32 %retval.i.0.i.i.i.i.i.i466, 1
  br i1 %cmp.i.i.i.i.i.i467, label %if.end8.sink.split.i.i.i.i468, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit477

if.end8.sink.split.i.i.i.i468:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i465, %if.then.i.i.i.i473
  %vtable2.i.i.i.i.i.i469 = load ptr, ptr %165, align 8
  %vfn3.i.i.i.i.i.i470 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i469, i64 3
  %175 = load ptr, ptr %vfn3.i.i.i.i.i.i470, align 8
  tail call void %175(ptr noundef nonnull align 8 dereferenceable(16) %165) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit477

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit477: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit445, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i455, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i465, %if.end8.sink.split.i.i.i.i468
  %_M_refcount.i.i478 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 20, i32 0, i32 1
  %176 = load ptr, ptr %_M_refcount.i.i478, align 8
  %cmp.not.i.i.i479 = icmp eq ptr %176, null
  br i1 %cmp.not.i.i.i479, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit509, label %if.then.i.i.i480

if.then.i.i.i480:                                 ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit477
  %_M_use_count.i.i.i.i481 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %176, i64 0, i32 1
  %177 = load atomic i64, ptr %_M_use_count.i.i.i.i481 acquire, align 8
  %cmp.i.i.i.i482 = icmp eq i64 %177, 4294967297
  %178 = trunc i64 %177 to i32
  br i1 %cmp.i.i.i.i482, label %if.then.i.i.i.i505, label %if.end.i.i.i.i483

if.then.i.i.i.i505:                               ; preds = %if.then.i.i.i480
  store i32 0, ptr %_M_use_count.i.i.i.i481, align 8
  %_M_weak_count.i.i.i.i506 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %176, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i506, align 4
  %vtable.i.i.i.i507 = load ptr, ptr %176, align 8
  %vfn.i.i.i.i508 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i507, i64 2
  %179 = load ptr, ptr %vfn.i.i.i.i508, align 8
  tail call void %179(ptr noundef nonnull align 8 dereferenceable(16) %176) #28
  br label %if.end8.sink.split.i.i.i.i500

if.end.i.i.i.i483:                                ; preds = %if.then.i.i.i480
  %180 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i484 = icmp eq i8 %180, 0
  br i1 %tobool.i.not.i.i.i.i484, label %if.else.i.i.i.i.i504, label %if.then.i.i.i.i.i485

if.then.i.i.i.i.i485:                             ; preds = %if.end.i.i.i.i483
  %add.i.i.i.i.i486 = add nsw i32 %178, -1
  store i32 %add.i.i.i.i.i486, ptr %_M_use_count.i.i.i.i481, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i487

if.else.i.i.i.i.i504:                             ; preds = %if.end.i.i.i.i483
  %181 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i481, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i487

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i487: ; preds = %if.else.i.i.i.i.i504, %if.then.i.i.i.i.i485
  %retval.i.0.i.i.i.i488 = phi i32 [ %178, %if.then.i.i.i.i.i485 ], [ %181, %if.else.i.i.i.i.i504 ]
  %cmp6.i.i.i.i489 = icmp eq i32 %retval.i.0.i.i.i.i488, 1
  br i1 %cmp6.i.i.i.i489, label %if.then7.i.i.i.i490, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit509

if.then7.i.i.i.i490:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i487
  %vtable.i.i.i.i.i.i491 = load ptr, ptr %176, align 8
  %vfn.i.i.i.i.i.i492 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i491, i64 2
  %182 = load ptr, ptr %vfn.i.i.i.i.i.i492, align 8
  tail call void %182(ptr noundef nonnull align 8 dereferenceable(16) %176) #28
  %_M_weak_count.i.i.i.i.i.i493 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %176, i64 0, i32 2
  %183 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i494 = icmp eq i8 %183, 0
  br i1 %tobool.i.not.i.i.i.i.i.i494, label %if.else.i.i.i.i.i.i.i503, label %if.then.i.i.i.i.i.i.i495

if.then.i.i.i.i.i.i.i495:                         ; preds = %if.then7.i.i.i.i490
  %184 = load i32, ptr %_M_weak_count.i.i.i.i.i.i493, align 4
  %add.i.i.i.i.i.i.i496 = add nsw i32 %184, -1
  store i32 %add.i.i.i.i.i.i.i496, ptr %_M_weak_count.i.i.i.i.i.i493, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i497

if.else.i.i.i.i.i.i.i503:                         ; preds = %if.then7.i.i.i.i490
  %185 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i493, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i497

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i497: ; preds = %if.else.i.i.i.i.i.i.i503, %if.then.i.i.i.i.i.i.i495
  %retval.i.0.i.i.i.i.i.i498 = phi i32 [ %184, %if.then.i.i.i.i.i.i.i495 ], [ %185, %if.else.i.i.i.i.i.i.i503 ]
  %cmp.i.i.i.i.i.i499 = icmp eq i32 %retval.i.0.i.i.i.i.i.i498, 1
  br i1 %cmp.i.i.i.i.i.i499, label %if.end8.sink.split.i.i.i.i500, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit509

if.end8.sink.split.i.i.i.i500:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i497, %if.then.i.i.i.i505
  %vtable2.i.i.i.i.i.i501 = load ptr, ptr %176, align 8
  %vfn3.i.i.i.i.i.i502 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i501, i64 3
  %186 = load ptr, ptr %vfn3.i.i.i.i.i.i502, align 8
  tail call void %186(ptr noundef nonnull align 8 dereferenceable(16) %176) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit509

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit509: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit477, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i487, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i497, %if.end8.sink.split.i.i.i.i500
  %_M_refcount.i.i510 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 19, i32 0, i32 1
  %187 = load ptr, ptr %_M_refcount.i.i510, align 8
  %cmp.not.i.i.i511 = icmp eq ptr %187, null
  br i1 %cmp.not.i.i.i511, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit541, label %if.then.i.i.i512

if.then.i.i.i512:                                 ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit509
  %_M_use_count.i.i.i.i513 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %187, i64 0, i32 1
  %188 = load atomic i64, ptr %_M_use_count.i.i.i.i513 acquire, align 8
  %cmp.i.i.i.i514 = icmp eq i64 %188, 4294967297
  %189 = trunc i64 %188 to i32
  br i1 %cmp.i.i.i.i514, label %if.then.i.i.i.i537, label %if.end.i.i.i.i515

if.then.i.i.i.i537:                               ; preds = %if.then.i.i.i512
  store i32 0, ptr %_M_use_count.i.i.i.i513, align 8
  %_M_weak_count.i.i.i.i538 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %187, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i538, align 4
  %vtable.i.i.i.i539 = load ptr, ptr %187, align 8
  %vfn.i.i.i.i540 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i539, i64 2
  %190 = load ptr, ptr %vfn.i.i.i.i540, align 8
  tail call void %190(ptr noundef nonnull align 8 dereferenceable(16) %187) #28
  br label %if.end8.sink.split.i.i.i.i532

if.end.i.i.i.i515:                                ; preds = %if.then.i.i.i512
  %191 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i516 = icmp eq i8 %191, 0
  br i1 %tobool.i.not.i.i.i.i516, label %if.else.i.i.i.i.i536, label %if.then.i.i.i.i.i517

if.then.i.i.i.i.i517:                             ; preds = %if.end.i.i.i.i515
  %add.i.i.i.i.i518 = add nsw i32 %189, -1
  store i32 %add.i.i.i.i.i518, ptr %_M_use_count.i.i.i.i513, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i519

if.else.i.i.i.i.i536:                             ; preds = %if.end.i.i.i.i515
  %192 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i513, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i519

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i519: ; preds = %if.else.i.i.i.i.i536, %if.then.i.i.i.i.i517
  %retval.i.0.i.i.i.i520 = phi i32 [ %189, %if.then.i.i.i.i.i517 ], [ %192, %if.else.i.i.i.i.i536 ]
  %cmp6.i.i.i.i521 = icmp eq i32 %retval.i.0.i.i.i.i520, 1
  br i1 %cmp6.i.i.i.i521, label %if.then7.i.i.i.i522, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit541

if.then7.i.i.i.i522:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i519
  %vtable.i.i.i.i.i.i523 = load ptr, ptr %187, align 8
  %vfn.i.i.i.i.i.i524 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i523, i64 2
  %193 = load ptr, ptr %vfn.i.i.i.i.i.i524, align 8
  tail call void %193(ptr noundef nonnull align 8 dereferenceable(16) %187) #28
  %_M_weak_count.i.i.i.i.i.i525 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %187, i64 0, i32 2
  %194 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i526 = icmp eq i8 %194, 0
  br i1 %tobool.i.not.i.i.i.i.i.i526, label %if.else.i.i.i.i.i.i.i535, label %if.then.i.i.i.i.i.i.i527

if.then.i.i.i.i.i.i.i527:                         ; preds = %if.then7.i.i.i.i522
  %195 = load i32, ptr %_M_weak_count.i.i.i.i.i.i525, align 4
  %add.i.i.i.i.i.i.i528 = add nsw i32 %195, -1
  store i32 %add.i.i.i.i.i.i.i528, ptr %_M_weak_count.i.i.i.i.i.i525, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i529

if.else.i.i.i.i.i.i.i535:                         ; preds = %if.then7.i.i.i.i522
  %196 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i525, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i529

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i529: ; preds = %if.else.i.i.i.i.i.i.i535, %if.then.i.i.i.i.i.i.i527
  %retval.i.0.i.i.i.i.i.i530 = phi i32 [ %195, %if.then.i.i.i.i.i.i.i527 ], [ %196, %if.else.i.i.i.i.i.i.i535 ]
  %cmp.i.i.i.i.i.i531 = icmp eq i32 %retval.i.0.i.i.i.i.i.i530, 1
  br i1 %cmp.i.i.i.i.i.i531, label %if.end8.sink.split.i.i.i.i532, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit541

if.end8.sink.split.i.i.i.i532:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i529, %if.then.i.i.i.i537
  %vtable2.i.i.i.i.i.i533 = load ptr, ptr %187, align 8
  %vfn3.i.i.i.i.i.i534 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i533, i64 3
  %197 = load ptr, ptr %vfn3.i.i.i.i.i.i534, align 8
  tail call void %197(ptr noundef nonnull align 8 dereferenceable(16) %187) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit541

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit541: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit509, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i519, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i529, %if.end8.sink.split.i.i.i.i532
  %_M_refcount.i.i542 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 18, i32 0, i32 1
  %198 = load ptr, ptr %_M_refcount.i.i542, align 8
  %cmp.not.i.i.i543 = icmp eq ptr %198, null
  br i1 %cmp.not.i.i.i543, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit573, label %if.then.i.i.i544

if.then.i.i.i544:                                 ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit541
  %_M_use_count.i.i.i.i545 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %198, i64 0, i32 1
  %199 = load atomic i64, ptr %_M_use_count.i.i.i.i545 acquire, align 8
  %cmp.i.i.i.i546 = icmp eq i64 %199, 4294967297
  %200 = trunc i64 %199 to i32
  br i1 %cmp.i.i.i.i546, label %if.then.i.i.i.i569, label %if.end.i.i.i.i547

if.then.i.i.i.i569:                               ; preds = %if.then.i.i.i544
  store i32 0, ptr %_M_use_count.i.i.i.i545, align 8
  %_M_weak_count.i.i.i.i570 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %198, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i570, align 4
  %vtable.i.i.i.i571 = load ptr, ptr %198, align 8
  %vfn.i.i.i.i572 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i571, i64 2
  %201 = load ptr, ptr %vfn.i.i.i.i572, align 8
  tail call void %201(ptr noundef nonnull align 8 dereferenceable(16) %198) #28
  br label %if.end8.sink.split.i.i.i.i564

if.end.i.i.i.i547:                                ; preds = %if.then.i.i.i544
  %202 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i548 = icmp eq i8 %202, 0
  br i1 %tobool.i.not.i.i.i.i548, label %if.else.i.i.i.i.i568, label %if.then.i.i.i.i.i549

if.then.i.i.i.i.i549:                             ; preds = %if.end.i.i.i.i547
  %add.i.i.i.i.i550 = add nsw i32 %200, -1
  store i32 %add.i.i.i.i.i550, ptr %_M_use_count.i.i.i.i545, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i551

if.else.i.i.i.i.i568:                             ; preds = %if.end.i.i.i.i547
  %203 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i545, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i551

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i551: ; preds = %if.else.i.i.i.i.i568, %if.then.i.i.i.i.i549
  %retval.i.0.i.i.i.i552 = phi i32 [ %200, %if.then.i.i.i.i.i549 ], [ %203, %if.else.i.i.i.i.i568 ]
  %cmp6.i.i.i.i553 = icmp eq i32 %retval.i.0.i.i.i.i552, 1
  br i1 %cmp6.i.i.i.i553, label %if.then7.i.i.i.i554, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit573

if.then7.i.i.i.i554:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i551
  %vtable.i.i.i.i.i.i555 = load ptr, ptr %198, align 8
  %vfn.i.i.i.i.i.i556 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i555, i64 2
  %204 = load ptr, ptr %vfn.i.i.i.i.i.i556, align 8
  tail call void %204(ptr noundef nonnull align 8 dereferenceable(16) %198) #28
  %_M_weak_count.i.i.i.i.i.i557 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %198, i64 0, i32 2
  %205 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i558 = icmp eq i8 %205, 0
  br i1 %tobool.i.not.i.i.i.i.i.i558, label %if.else.i.i.i.i.i.i.i567, label %if.then.i.i.i.i.i.i.i559

if.then.i.i.i.i.i.i.i559:                         ; preds = %if.then7.i.i.i.i554
  %206 = load i32, ptr %_M_weak_count.i.i.i.i.i.i557, align 4
  %add.i.i.i.i.i.i.i560 = add nsw i32 %206, -1
  store i32 %add.i.i.i.i.i.i.i560, ptr %_M_weak_count.i.i.i.i.i.i557, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i561

if.else.i.i.i.i.i.i.i567:                         ; preds = %if.then7.i.i.i.i554
  %207 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i557, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i561

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i561: ; preds = %if.else.i.i.i.i.i.i.i567, %if.then.i.i.i.i.i.i.i559
  %retval.i.0.i.i.i.i.i.i562 = phi i32 [ %206, %if.then.i.i.i.i.i.i.i559 ], [ %207, %if.else.i.i.i.i.i.i.i567 ]
  %cmp.i.i.i.i.i.i563 = icmp eq i32 %retval.i.0.i.i.i.i.i.i562, 1
  br i1 %cmp.i.i.i.i.i.i563, label %if.end8.sink.split.i.i.i.i564, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit573

if.end8.sink.split.i.i.i.i564:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i561, %if.then.i.i.i.i569
  %vtable2.i.i.i.i.i.i565 = load ptr, ptr %198, align 8
  %vfn3.i.i.i.i.i.i566 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i565, i64 3
  %208 = load ptr, ptr %vfn3.i.i.i.i.i.i566, align 8
  tail call void %208(ptr noundef nonnull align 8 dereferenceable(16) %198) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit573

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit573: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit541, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i551, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i561, %if.end8.sink.split.i.i.i.i564
  %_M_refcount.i.i574 = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 17, i32 0, i32 1
  %209 = load ptr, ptr %_M_refcount.i.i574, align 8
  %cmp.not.i.i.i575 = icmp eq ptr %209, null
  br i1 %cmp.not.i.i.i575, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit605, label %if.then.i.i.i576

if.then.i.i.i576:                                 ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit573
  %_M_use_count.i.i.i.i577 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %209, i64 0, i32 1
  %210 = load atomic i64, ptr %_M_use_count.i.i.i.i577 acquire, align 8
  %cmp.i.i.i.i578 = icmp eq i64 %210, 4294967297
  %211 = trunc i64 %210 to i32
  br i1 %cmp.i.i.i.i578, label %if.then.i.i.i.i601, label %if.end.i.i.i.i579

if.then.i.i.i.i601:                               ; preds = %if.then.i.i.i576
  store i32 0, ptr %_M_use_count.i.i.i.i577, align 8
  %_M_weak_count.i.i.i.i602 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %209, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i602, align 4
  %vtable.i.i.i.i603 = load ptr, ptr %209, align 8
  %vfn.i.i.i.i604 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i603, i64 2
  %212 = load ptr, ptr %vfn.i.i.i.i604, align 8
  tail call void %212(ptr noundef nonnull align 8 dereferenceable(16) %209) #28
  br label %if.end8.sink.split.i.i.i.i596

if.end.i.i.i.i579:                                ; preds = %if.then.i.i.i576
  %213 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i580 = icmp eq i8 %213, 0
  br i1 %tobool.i.not.i.i.i.i580, label %if.else.i.i.i.i.i600, label %if.then.i.i.i.i.i581

if.then.i.i.i.i.i581:                             ; preds = %if.end.i.i.i.i579
  %add.i.i.i.i.i582 = add nsw i32 %211, -1
  store i32 %add.i.i.i.i.i582, ptr %_M_use_count.i.i.i.i577, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i583

if.else.i.i.i.i.i600:                             ; preds = %if.end.i.i.i.i579
  %214 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i577, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i583

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i583: ; preds = %if.else.i.i.i.i.i600, %if.then.i.i.i.i.i581
  %retval.i.0.i.i.i.i584 = phi i32 [ %211, %if.then.i.i.i.i.i581 ], [ %214, %if.else.i.i.i.i.i600 ]
  %cmp6.i.i.i.i585 = icmp eq i32 %retval.i.0.i.i.i.i584, 1
  br i1 %cmp6.i.i.i.i585, label %if.then7.i.i.i.i586, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit605

if.then7.i.i.i.i586:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i583
  %vtable.i.i.i.i.i.i587 = load ptr, ptr %209, align 8
  %vfn.i.i.i.i.i.i588 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i587, i64 2
  %215 = load ptr, ptr %vfn.i.i.i.i.i.i588, align 8
  tail call void %215(ptr noundef nonnull align 8 dereferenceable(16) %209) #28
  %_M_weak_count.i.i.i.i.i.i589 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %209, i64 0, i32 2
  %216 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i590 = icmp eq i8 %216, 0
  br i1 %tobool.i.not.i.i.i.i.i.i590, label %if.else.i.i.i.i.i.i.i599, label %if.then.i.i.i.i.i.i.i591

if.then.i.i.i.i.i.i.i591:                         ; preds = %if.then7.i.i.i.i586
  %217 = load i32, ptr %_M_weak_count.i.i.i.i.i.i589, align 4
  %add.i.i.i.i.i.i.i592 = add nsw i32 %217, -1
  store i32 %add.i.i.i.i.i.i.i592, ptr %_M_weak_count.i.i.i.i.i.i589, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i593

if.else.i.i.i.i.i.i.i599:                         ; preds = %if.then7.i.i.i.i586
  %218 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i589, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i593

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i593: ; preds = %if.else.i.i.i.i.i.i.i599, %if.then.i.i.i.i.i.i.i591
  %retval.i.0.i.i.i.i.i.i594 = phi i32 [ %217, %if.then.i.i.i.i.i.i.i591 ], [ %218, %if.else.i.i.i.i.i.i.i599 ]
  %cmp.i.i.i.i.i.i595 = icmp eq i32 %retval.i.0.i.i.i.i.i.i594, 1
  br i1 %cmp.i.i.i.i.i.i595, label %if.end8.sink.split.i.i.i.i596, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit605

if.end8.sink.split.i.i.i.i596:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i593, %if.then.i.i.i.i601
  %vtable2.i.i.i.i.i.i597 = load ptr, ptr %209, align 8
  %vfn3.i.i.i.i.i.i598 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i597, i64 3
  %219 = load ptr, ptr %vfn3.i.i.i.i.i.i598, align 8
  tail call void %219(ptr noundef nonnull align 8 dereferenceable(16) %209) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit605

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit605: ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit573, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i583, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i593, %if.end8.sink.split.i.i.i.i596
  %caAlgo = getelementptr inbounds %"struct.wangle::TransportInfo", ptr %this, i64 0, i32 12
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %caAlgo) #28
  ret void
}

; Function Attrs: nobuiltin allocsize(0)
declare noundef nonnull ptr @_Znwm(i64 noundef) local_unnamed_addr #7

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEC2EPN5folly9EventBaseESt10shared_ptrIKNS0_17FizzClientContextEERKS7_INS_16ClientExtensionsEENS_13AsyncFizzBase16TransportOptionsE(ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr noundef %eventBase, ptr noundef %fizzContext, ptr noundef nonnull align 8 dereferenceable(16) %extensions, ptr noundef %transportOptions) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %agg.tmp = alloca %"class.std::unique_ptr", align 8
  %agg.tmp2 = alloca %"struct.fizz::AsyncFizzBase::TransportOptions", align 8
  %call = tail call noalias noundef nonnull dereferenceable(1120) ptr @_Znwm(i64 noundef 1120) #29
  invoke void @_ZN5folly11AsyncSocketC1EPNS_9EventBaseE(ptr noundef nonnull align 8 dereferenceable(1113) %call, ptr noundef %eventBase)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  store ptr %call, ptr %agg.tmp, align 8
  %0 = load i16, ptr %transportOptions, align 8
  store i16 %0, ptr %agg.tmp2, align 8
  %ioVecQueue.i = getelementptr inbounds %"struct.fizz::AsyncFizzBase::TransportOptions", ptr %agg.tmp2, i64 0, i32 2
  %ioVecQueue3.i = getelementptr inbounds %"struct.fizz::AsyncFizzBase::TransportOptions", ptr %transportOptions, i64 0, i32 2
  %_M_refcount4.i.i.i = getelementptr inbounds %"struct.fizz::AsyncFizzBase::TransportOptions", ptr %transportOptions, i64 0, i32 2, i32 0, i32 1
  %1 = load <2 x ptr>, ptr %ioVecQueue3.i, align 8
  store ptr null, ptr %_M_refcount4.i.i.i, align 8
  store <2 x ptr> %1, ptr %ioVecQueue.i, align 8
  store ptr null, ptr %ioVecQueue3.i, align 8
  %readBufferAllocationSize.i = getelementptr inbounds %"struct.fizz::AsyncFizzBase::TransportOptions", ptr %agg.tmp2, i64 0, i32 3
  %readBufferAllocationSize4.i = getelementptr inbounds %"struct.fizz::AsyncFizzBase::TransportOptions", ptr %transportOptions, i64 0, i32 3
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %readBufferAllocationSize.i, ptr noundef nonnull align 8 dereferenceable(24) %readBufferAllocationSize4.i, i64 24, i1 false)
  invoke void @_ZN4fizz13AsyncFizzBaseC2ESt10unique_ptrIN5folly14AsyncTransportENS2_18DelayedDestruction10DestructorEENS0_16TransportOptionsE(ptr noundef nonnull align 8 dereferenceable(576) %this, ptr noundef nonnull %agg.tmp, ptr noundef nonnull %agg.tmp2)
          to label %invoke.cont4 unwind label %lpad3

invoke.cont4:                                     ; preds = %invoke.cont
  %_M_refcount.i.i.i = getelementptr inbounds %"struct.fizz::AsyncFizzBase::TransportOptions", ptr %agg.tmp2, i64 0, i32 2, i32 0, i32 1
  %2 = load ptr, ptr %_M_refcount.i.i.i, align 8
  %cmp.not.i.i.i.i = icmp eq ptr %2, null
  br i1 %cmp.not.i.i.i.i, label %_ZN4fizz13AsyncFizzBase16TransportOptionsD2Ev.exit, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %invoke.cont4
  %_M_use_count.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %2, i64 0, i32 1
  %3 = load atomic i64, ptr %_M_use_count.i.i.i.i.i acquire, align 8
  %cmp.i.i.i.i.i = icmp eq i64 %3, 4294967297
  %4 = trunc i64 %3 to i32
  br i1 %cmp.i.i.i.i.i, label %if.then.i.i.i.i.i, label %if.end.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.then.i.i.i.i
  store i32 0, ptr %_M_use_count.i.i.i.i.i, align 8
  %_M_weak_count.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %2, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i, align 4
  %vtable.i.i.i.i.i = load ptr, ptr %2, align 8
  %vfn.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i, i64 2
  %5 = load ptr, ptr %vfn.i.i.i.i.i, align 8
  call void %5(ptr noundef nonnull align 8 dereferenceable(16) %2) #28
  br label %if.end8.sink.split.i.i.i.i.i

if.end.i.i.i.i.i:                                 ; preds = %if.then.i.i.i.i
  %6 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i = icmp eq i8 %6, 0
  br i1 %tobool.i.not.i.i.i.i.i, label %if.else.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i

if.then.i.i.i.i.i.i:                              ; preds = %if.end.i.i.i.i.i
  %add.i.i.i.i.i.i = add nsw i32 %4, -1
  store i32 %add.i.i.i.i.i.i, ptr %_M_use_count.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

if.else.i.i.i.i.i.i:                              ; preds = %if.end.i.i.i.i.i
  %7 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i, %if.then.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i = phi i32 [ %4, %if.then.i.i.i.i.i.i ], [ %7, %if.else.i.i.i.i.i.i ]
  %cmp6.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i.i, label %if.then7.i.i.i.i.i, label %_ZN4fizz13AsyncFizzBase16TransportOptionsD2Ev.exit

if.then7.i.i.i.i.i:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i
  %vtable.i.i.i.i.i.i.i = load ptr, ptr %2, align 8
  %vfn.i.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i, i64 2
  %8 = load ptr, ptr %vfn.i.i.i.i.i.i.i, align 8
  call void %8(ptr noundef nonnull align 8 dereferenceable(16) %2) #28
  %_M_weak_count.i.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %2, i64 0, i32 2
  %9 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i = icmp eq i8 %9, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i.i:                          ; preds = %if.then7.i.i.i.i.i
  %10 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i.i.i = add nsw i32 %10, -1
  store i32 %add.i.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i.i:                          ; preds = %if.then7.i.i.i.i.i
  %11 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i.i = phi i32 [ %10, %if.then.i.i.i.i.i.i.i.i ], [ %11, %if.else.i.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i.i, label %_ZN4fizz13AsyncFizzBase16TransportOptionsD2Ev.exit

if.end8.sink.split.i.i.i.i.i:                     ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i, %if.then.i.i.i.i.i
  %vtable2.i.i.i.i.i.i.i = load ptr, ptr %2, align 8
  %vfn3.i.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i, i64 3
  %12 = load ptr, ptr %vfn3.i.i.i.i.i.i.i, align 8
  call void %12(ptr noundef nonnull align 8 dereferenceable(16) %2) #28
  br label %_ZN4fizz13AsyncFizzBase16TransportOptionsD2Ev.exit

_ZN4fizz13AsyncFizzBase16TransportOptionsD2Ev.exit: ; preds = %invoke.cont4, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i, %if.end8.sink.split.i.i.i.i.i
  %13 = load ptr, ptr %agg.tmp, align 8
  %cmp.not.i = icmp eq ptr %13, null
  br i1 %cmp.not.i, label %_ZNSt10unique_ptrIN5folly11AsyncSocketENS0_18DelayedDestruction10DestructorEED2Ev.exit, label %if.then.i

if.then.i:                                        ; preds = %_ZN4fizz13AsyncFizzBase16TransportOptionsD2Ev.exit
  %vtable.i.i = load ptr, ptr %13, align 8
  %vfn.i.i = getelementptr inbounds ptr, ptr %vtable.i.i, i64 3
  %14 = load ptr, ptr %vfn.i.i, align 8
  invoke void %14(ptr noundef nonnull align 8 dereferenceable(13) %13)
          to label %_ZNSt10unique_ptrIN5folly11AsyncSocketENS0_18DelayedDestruction10DestructorEED2Ev.exit unwind label %terminate.lpad.i

terminate.lpad.i:                                 ; preds = %if.then.i
  %15 = landingpad { ptr, i32 }
          catch ptr null
  %16 = extractvalue { ptr, i32 } %15, 0
  call void @__clang_call_terminate(ptr %16) #30
  unreachable

_ZNSt10unique_ptrIN5folly11AsyncSocketENS0_18DelayedDestruction10DestructorEED2Ev.exit: ; preds = %if.then.i, %_ZN4fizz13AsyncFizzBase16TransportOptionsD2Ev.exit
  store ptr null, ptr %agg.tmp, align 8
  %17 = getelementptr inbounds i8, ptr %this, i64 576
  store ptr getelementptr inbounds ({ [91 x ptr], [6 x ptr], [8 x ptr], [12 x ptr], [8 x ptr], [15 x ptr], [5 x ptr], [7 x ptr] }, ptr @_ZTVN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, i64 0, inrange i32 0, i64 2), ptr %this, align 8
  %add.ptr = getelementptr inbounds i8, ptr %this, i64 16
  store ptr getelementptr inbounds ({ [91 x ptr], [6 x ptr], [8 x ptr], [12 x ptr], [8 x ptr], [15 x ptr], [5 x ptr], [7 x ptr] }, ptr @_ZTVN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, i64 0, inrange i32 1, i64 2), ptr %add.ptr, align 8
  %add.ptr5 = getelementptr inbounds i8, ptr %this, i64 24
  store ptr getelementptr inbounds ({ [91 x ptr], [6 x ptr], [8 x ptr], [12 x ptr], [8 x ptr], [15 x ptr], [5 x ptr], [7 x ptr] }, ptr @_ZTVN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, i64 0, inrange i32 2, i64 2), ptr %add.ptr5, align 8
  %add.ptr6 = getelementptr inbounds i8, ptr %this, i64 32
  store ptr getelementptr inbounds ({ [91 x ptr], [6 x ptr], [8 x ptr], [12 x ptr], [8 x ptr], [15 x ptr], [5 x ptr], [7 x ptr] }, ptr @_ZTVN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, i64 0, inrange i32 3, i64 2), ptr %add.ptr6, align 8
  %add.ptr7 = getelementptr inbounds i8, ptr %this, i64 56
  store ptr getelementptr inbounds ({ [91 x ptr], [6 x ptr], [8 x ptr], [12 x ptr], [8 x ptr], [15 x ptr], [5 x ptr], [7 x ptr] }, ptr @_ZTVN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, i64 0, inrange i32 4, i64 2), ptr %add.ptr7, align 8
  %add.ptr8 = getelementptr inbounds i8, ptr %this, i64 64
  store ptr getelementptr inbounds ({ [91 x ptr], [6 x ptr], [8 x ptr], [12 x ptr], [8 x ptr], [15 x ptr], [5 x ptr], [7 x ptr] }, ptr @_ZTVN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, i64 0, inrange i32 5, i64 2), ptr %add.ptr8, align 8
  %add.ptr9 = getelementptr inbounds i8, ptr %this, i64 80
  store ptr getelementptr inbounds ({ [91 x ptr], [6 x ptr], [8 x ptr], [12 x ptr], [8 x ptr], [15 x ptr], [5 x ptr], [7 x ptr] }, ptr @_ZTVN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, i64 0, inrange i32 6, i64 2), ptr %add.ptr9, align 8
  store ptr getelementptr inbounds ({ [91 x ptr], [6 x ptr], [8 x ptr], [12 x ptr], [8 x ptr], [15 x ptr], [5 x ptr], [7 x ptr] }, ptr @_ZTVN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, i64 0, inrange i32 7, i64 2), ptr %17, align 8
  %callback_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 2
  store i8 0, ptr %callback_, align 8
  %hasValue.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 2, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i, align 8
  %fizzContext_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 3
  %18 = load ptr, ptr %fizzContext, align 8
  store ptr %18, ptr %fizzContext_, align 8
  %_M_refcount.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 3, i32 0, i32 1
  store ptr null, ptr %_M_refcount.i.i, align 8
  %_M_refcount4.i.i = getelementptr inbounds %"class.std::__shared_ptr", ptr %fizzContext, i64 0, i32 1
  %19 = load ptr, ptr %_M_refcount4.i.i, align 8
  store ptr null, ptr %_M_refcount4.i.i, align 8
  store ptr %19, ptr %_M_refcount.i.i, align 8
  store ptr null, ptr %fizzContext, align 8
  %extensions_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 4
  %20 = load ptr, ptr %extensions, align 8
  store ptr %20, ptr %extensions_, align 8
  %_M_refcount.i.i9 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 4, i32 0, i32 1
  %_M_refcount3.i.i = getelementptr inbounds %"class.std::__shared_ptr.65", ptr %extensions, i64 0, i32 1
  %21 = load ptr, ptr %_M_refcount3.i.i, align 8
  store ptr %21, ptr %_M_refcount.i.i9, align 8
  %cmp.not.i.i.i = icmp eq ptr %21, null
  br i1 %cmp.not.i.i.i, label %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEEC2ERKS2_.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %_ZNSt10unique_ptrIN5folly11AsyncSocketENS0_18DelayedDestruction10DestructorEED2Ev.exit
  %_M_use_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %21, i64 0, i32 1
  %22 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.i.not.i.i.i.i = icmp eq i8 %22, 0
  br i1 %tobool.i.i.not.i.i.i.i, label %if.else.i.i.i.i.i, label %if.then.i.i.i.i.i10

if.then.i.i.i.i.i10:                              ; preds = %if.then.i.i.i
  %23 = load i32, ptr %_M_use_count.i.i.i.i, align 4
  %add.i.i.i.i.i = add nsw i32 %23, 1
  store i32 %add.i.i.i.i.i, ptr %_M_use_count.i.i.i.i, align 4
  br label %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEEC2ERKS2_.exit

if.else.i.i.i.i.i:                                ; preds = %if.then.i.i.i
  %24 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i, i32 1 acq_rel, align 4
  br label %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEEC2ERKS2_.exit

_ZNSt10shared_ptrIN4fizz16ClientExtensionsEEC2ERKS2_.exit: ; preds = %_ZNSt10unique_ptrIN5folly11AsyncSocketENS0_18DelayedDestruction10DestructorEED2Ev.exit, %if.then.i.i.i.i.i10, %if.else.i.i.i.i.i
  %sni_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 5
  %hasValue.i.i11 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 5, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i11, align 8
  %pskIdentity_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 6
  %hasValue.i.i12 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 6, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i12, align 8
  %state_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7
  store i32 0, ptr %state_, align 8
  %context_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 1
  %hasValue.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 11, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i.i, align 4
  %clientAuthSigScheme_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 12
  store i8 0, ptr %clientAuthSigScheme_.i, align 8
  %hasValue.i.i1.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 12, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i1.i, align 2
  %version_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 13
  store i8 0, ptr %version_.i, align 4
  %hasValue.i.i2.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 13, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i2.i, align 2
  %cipher_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 14
  store i8 0, ptr %cipher_.i, align 8
  %hasValue.i.i3.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 14, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i3.i, align 2
  %group_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 15
  store i8 0, ptr %group_.i, align 4
  %hasValue.i.i4.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 15, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i4.i, align 2
  %sigScheme_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 16
  store i8 0, ptr %sigScheme_.i, align 8
  %hasValue.i.i5.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 16, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i5.i, align 2
  %pskType_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 17
  store i8 0, ptr %pskType_.i, align 4
  %hasValue.i.i6.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 17, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i6.i, align 8
  %pskMode_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 18
  store i8 0, ptr %pskMode_.i, align 4
  %hasValue.i.i7.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 18, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i7.i, align 1
  %keyExchangeType_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 20
  store i8 0, ptr %keyExchangeType_.i, align 8
  %hasValue.i.i8.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 20, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i8.i, align 4
  %earlyDataType_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 21
  store i8 0, ptr %earlyDataType_.i, align 8
  %hasValue.i.i9.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 21, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i9.i, align 4
  %hasValue.i.i10.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 22, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i10.i, align 8
  %hasValue.i.i11.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 23, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i11.i, align 8
  %serverCertCompAlgo_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 24
  store i8 0, ptr %serverCertCompAlgo_.i, align 8
  %hasValue.i.i12.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 24, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i12.i, align 2
  %handshakeTime_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 26
  store i8 0, ptr %handshakeTime_.i, align 8
  %hasValue.i.i13.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 26, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i13.i, align 8
  %hasValue.i.i14.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 27, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i14.i, align 8
  %clientRandom_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 28
  store i8 0, ptr %clientRandom_.i, align 8
  %hasValue.i.i15.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 28, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i15.i, align 8
  %hasValue.i.i16.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 30, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i16.i, align 8
  %sentCCS_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 31
  store i8 0, ptr %sentCCS_.i, align 8
  %hasValue.i.i17.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 33, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i17.i, align 8
  %hasValue.i.i18.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 34, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i18.i, align 8
  %hasValue.i.i19.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 35, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i19.i, align 8
  %hasValue.i.i20.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 36, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i20.i, align 8
  %hasValue.i.i21.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 37, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i21.i, align 8
  %hasValue.i.i22.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 38, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i22.i, align 8
  %hasValue.i.i23.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 39, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i23.i, align 8
  %hasValue.i.i24.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 40, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i24.i, align 8
  %hasValue.i.i25.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 41, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i25.i, align 8
  %hasValue.i.i26.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 42, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i26.i, align 8
  %extensions_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 43
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %extensions_.i, i8 0, i64 16, i1 false)
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(121) %context_.i, i8 0, i64 121, i1 false)
  %visitor_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 8
  store ptr %this, ptr %visitor_, align 8
  %fizzClient_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9
  %transportReadBuf_ = getelementptr inbounds %"class.fizz::AsyncFizzBase", ptr %this, i64 0, i32 4
  %readAeadOptions_ = getelementptr inbounds %"class.fizz::AsyncFizzBase", ptr %this, i64 0, i32 5
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_EE, i64 0, inrange i32 0, i64 2), ptr %fizzClient_, align 8
  %machine_.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 1
  store ptr getelementptr inbounds ({ [12 x ptr] }, ptr @_ZTVN4fizz6client18ClientStateMachineE, i64 0, inrange i32 0, i64 2), ptr %machine_.i.i, align 8
  %state_.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 2
  store ptr %state_, ptr %state_.i.i, align 8
  %transportReadBuf_.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 3
  store ptr %transportReadBuf_, ptr %transportReadBuf_.i.i, align 8
  %readAeadOptions_.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 4
  store ptr %readAeadOptions_, ptr %readAeadOptions_.i.i, align 8
  %visitor_.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 5
  store ptr %visitor_, ptr %visitor_.i.i, align 8
  %owner_.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 6
  store ptr %this, ptr %owner_.i.i, align 8
  %pendingEvents_.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 7
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_.i.i, i8 0, i64 80, i1 false)
  invoke void @_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE17_M_initialize_mapEm(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_.i.i, i64 noundef 0)
          to label %invoke.cont15 unwind label %lpad11

invoke.cont15:                                    ; preds = %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEEC2ERKS2_.exit
  %waitForData_.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 8
  store i8 1, ptr %waitForData_.i.i, align 8
  %hasValue.i.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 10, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i.i.i, align 8
  %inProcessPendingEvents_.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 11
  store i8 0, ptr %inProcessPendingEvents_.i.i, align 8
  %externalError_.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 12
  store i8 0, ptr %externalError_.i.i, align 1
  %paused_.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 13
  store i8 0, ptr %paused_.i.i, align 2
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_EE, i64 0, inrange i32 0, i64 2), ptr %fizzClient_, align 8
  %hasValue.i.i13 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i13, align 8
  %earlyDataRejectionPolicy_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 11
  store i32 0, ptr %earlyDataRejectionPolicy_, align 8
  %replaySafetyCallback_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 12
  %pendingHandshakeAppWrites_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 14
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(104) %replaySafetyCallback_, i8 0, i64 104, i1 false)
  invoke void @_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE17_M_initialize_mapEm(ptr noundef nonnull align 8 dereferenceable(80) %pendingHandshakeAppWrites_, i64 noundef 0)
          to label %invoke.cont17 unwind label %lpad16

invoke.cont17:                                    ; preds = %invoke.cont15
  ret void

lpad:                                             ; preds = %entry
  %25 = landingpad { ptr, i32 }
          cleanup
  tail call void @_ZdlPv(ptr noundef nonnull %call) #31
  br label %eh.resume

lpad3:                                            ; preds = %invoke.cont
  %26 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN4fizz13AsyncFizzBase16TransportOptionsD2Ev(ptr noundef nonnull align 8 dereferenceable(48) %agg.tmp2) #28
  %27 = load ptr, ptr %agg.tmp, align 8
  %cmp.not.i14 = icmp eq ptr %27, null
  br i1 %cmp.not.i14, label %eh.resume, label %if.then.i15

if.then.i15:                                      ; preds = %lpad3
  %vtable.i.i16 = load ptr, ptr %27, align 8
  %vfn.i.i17 = getelementptr inbounds ptr, ptr %vtable.i.i16, i64 3
  %28 = load ptr, ptr %vfn.i.i17, align 8
  invoke void %28(ptr noundef nonnull align 8 dereferenceable(13) %27)
          to label %eh.resume unwind label %terminate.lpad.i18

terminate.lpad.i18:                               ; preds = %if.then.i15
  %29 = landingpad { ptr, i32 }
          catch ptr null
  %30 = extractvalue { ptr, i32 } %29, 0
  call void @__clang_call_terminate(ptr %30) #30
  unreachable

lpad11:                                           ; preds = %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEEC2ERKS2_.exit
  %31 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad16:                                           ; preds = %invoke.cont15
  %32 = landingpad { ptr, i32 }
          cleanup
  %verifier_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 13
  %earlyDataState_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10
  call void @_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev(ptr noundef nonnull align 8 dereferenceable(16) %verifier_) #28
  call void @_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEED2Ev(ptr noundef nonnull align 8 dereferenceable(168) %earlyDataState_) #28
  call void @_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_ED2Ev(ptr noundef nonnull align 8 dereferenceable(163) %fizzClient_) #28
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad16, %lpad11
  %.pn = phi { ptr, i32 } [ %32, %lpad16 ], [ %31, %lpad11 ]
  call void @_ZN4fizz6client5StateD2Ev(ptr noundef nonnull align 8 dereferenceable(1096) %state_) #28
  %33 = load i8, ptr %hasValue.i.i12, align 8
  %34 = and i8 %33, 1
  %tobool.not.i.i.i = icmp eq i8 %34, 0
  br i1 %tobool.not.i.i.i, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, label %if.then.i.i.i27

if.then.i.i.i27:                                  ; preds = %ehcleanup
  store i8 0, ptr %hasValue.i.i12, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity_) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit: ; preds = %ehcleanup, %if.then.i.i.i27
  %35 = load i8, ptr %hasValue.i.i11, align 8
  %36 = and i8 %35, 1
  %tobool.not.i.i.i29 = icmp eq i8 %36, 0
  br i1 %tobool.not.i.i.i29, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit31, label %if.then.i.i.i30

if.then.i.i.i30:                                  ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit
  store i8 0, ptr %hasValue.i.i11, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %sni_) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit31

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit31: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, %if.then.i.i.i30
  call void @_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev(ptr noundef nonnull align 8 dereferenceable(16) %extensions_) #28
  call void @_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev(ptr noundef nonnull align 8 dereferenceable(16) %fizzContext_) #28
  call void @_ZN4fizz13AsyncFizzBaseD2Ev(ptr noundef nonnull align 8 dereferenceable(576) %this) #28
  br label %eh.resume

eh.resume:                                        ; preds = %lpad3, %if.then.i15, %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit31, %lpad
  %.pn.pn = phi { ptr, i32 } [ %.pn, %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit31 ], [ %25, %lpad ], [ %26, %if.then.i15 ], [ %26, %lpad3 ]
  resume { ptr, i32 } %.pn.pn
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz13AsyncFizzBase16TransportOptionsD2Ev(ptr noundef nonnull align 8 dereferenceable(48) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %_M_refcount.i.i = getelementptr inbounds %"struct.fizz::AsyncFizzBase::TransportOptions", ptr %this, i64 0, i32 2, i32 0, i32 1
  %0 = load ptr, ptr %_M_refcount.i.i, align 8
  %cmp.not.i.i.i = icmp eq ptr %0, null
  br i1 %cmp.not.i.i.i, label %_ZNSt10shared_ptrIN4fizz13AsyncFizzBase13IOVecQueueOpsEED2Ev.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %entry
  %_M_use_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 1
  %1 = load atomic i64, ptr %_M_use_count.i.i.i.i acquire, align 8
  %cmp.i.i.i.i = icmp eq i64 %1, 4294967297
  %2 = trunc i64 %1 to i32
  br i1 %cmp.i.i.i.i, label %if.then.i.i.i.i, label %if.end.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %if.then.i.i.i
  store i32 0, ptr %_M_use_count.i.i.i.i, align 8
  %_M_weak_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i, align 4
  %vtable.i.i.i.i = load ptr, ptr %0, align 8
  %vfn.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i, i64 2
  %3 = load ptr, ptr %vfn.i.i.i.i, align 8
  tail call void %3(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  br label %if.end8.sink.split.i.i.i.i

if.end.i.i.i.i:                                   ; preds = %if.then.i.i.i
  %4 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i = icmp eq i8 %4, 0
  br i1 %tobool.i.not.i.i.i.i, label %if.else.i.i.i.i.i, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %add.i.i.i.i.i = add nsw i32 %2, -1
  store i32 %add.i.i.i.i.i, ptr %_M_use_count.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

if.else.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %5 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i: ; preds = %if.else.i.i.i.i.i, %if.then.i.i.i.i.i
  %retval.i.0.i.i.i.i = phi i32 [ %2, %if.then.i.i.i.i.i ], [ %5, %if.else.i.i.i.i.i ]
  %cmp6.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i, label %if.then7.i.i.i.i, label %_ZNSt10shared_ptrIN4fizz13AsyncFizzBase13IOVecQueueOpsEED2Ev.exit

if.then7.i.i.i.i:                                 ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i
  %vtable.i.i.i.i.i.i = load ptr, ptr %0, align 8
  %vfn.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i, i64 2
  %6 = load ptr, ptr %vfn.i.i.i.i.i.i, align 8
  tail call void %6(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  %_M_weak_count.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 2
  %7 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i = icmp eq i8 %7, 0
  br i1 %tobool.i.not.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %8 = load i32, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i.i = add nsw i32 %8, -1
  store i32 %add.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %9 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i = phi i32 [ %8, %if.then.i.i.i.i.i.i.i ], [ %9, %if.else.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i, label %_ZNSt10shared_ptrIN4fizz13AsyncFizzBase13IOVecQueueOpsEED2Ev.exit

if.end8.sink.split.i.i.i.i:                       ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.then.i.i.i.i
  %vtable2.i.i.i.i.i.i = load ptr, ptr %0, align 8
  %vfn3.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i, i64 3
  %10 = load ptr, ptr %vfn3.i.i.i.i.i.i, align 8
  tail call void %10(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  br label %_ZNSt10shared_ptrIN4fizz13AsyncFizzBase13IOVecQueueOpsEED2Ev.exit

_ZNSt10shared_ptrIN4fizz13AsyncFizzBase13IOVecQueueOpsEED2Ev.exit: ; preds = %entry, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.end8.sink.split.i.i.i.i
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev(ptr noundef nonnull align 8 dereferenceable(16) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %_M_refcount.i = getelementptr inbounds %"class.std::__shared_ptr.65", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %_M_refcount.i, align 8
  %cmp.not.i.i = icmp eq ptr %0, null
  br i1 %cmp.not.i.i, label %_ZNSt12__shared_ptrIN4fizz16ClientExtensionsELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %entry
  %_M_use_count.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 1
  %1 = load atomic i64, ptr %_M_use_count.i.i.i acquire, align 8
  %cmp.i.i.i = icmp eq i64 %1, 4294967297
  %2 = trunc i64 %1 to i32
  br i1 %cmp.i.i.i, label %if.then.i.i.i, label %if.end.i.i.i

if.then.i.i.i:                                    ; preds = %if.then.i.i
  store i32 0, ptr %_M_use_count.i.i.i, align 8
  %_M_weak_count.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i, align 4
  %vtable.i.i.i = load ptr, ptr %0, align 8
  %vfn.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i, i64 2
  %3 = load ptr, ptr %vfn.i.i.i, align 8
  tail call void %3(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  br label %if.end8.sink.split.i.i.i

if.end.i.i.i:                                     ; preds = %if.then.i.i
  %4 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i = icmp eq i8 %4, 0
  br i1 %tobool.i.not.i.i.i, label %if.else.i.i.i.i, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %if.end.i.i.i
  %add.i.i.i.i = add nsw i32 %2, -1
  store i32 %add.i.i.i.i, ptr %_M_use_count.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i

if.else.i.i.i.i:                                  ; preds = %if.end.i.i.i
  %5 = atomicrmw volatile add ptr %_M_use_count.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i: ; preds = %if.else.i.i.i.i, %if.then.i.i.i.i
  %retval.i.0.i.i.i = phi i32 [ %2, %if.then.i.i.i.i ], [ %5, %if.else.i.i.i.i ]
  %cmp6.i.i.i = icmp eq i32 %retval.i.0.i.i.i, 1
  br i1 %cmp6.i.i.i, label %if.then7.i.i.i, label %_ZNSt12__shared_ptrIN4fizz16ClientExtensionsELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit

if.then7.i.i.i:                                   ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i
  %vtable.i.i.i.i.i = load ptr, ptr %0, align 8
  %vfn.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i, i64 2
  %6 = load ptr, ptr %vfn.i.i.i.i.i, align 8
  tail call void %6(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  %_M_weak_count.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 2
  %7 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i = icmp eq i8 %7, 0
  br i1 %tobool.i.not.i.i.i.i.i, label %if.else.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i

if.then.i.i.i.i.i.i:                              ; preds = %if.then7.i.i.i
  %8 = load i32, ptr %_M_weak_count.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i = add nsw i32 %8, -1
  store i32 %add.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

if.else.i.i.i.i.i.i:                              ; preds = %if.then7.i.i.i
  %9 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i, %if.then.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i = phi i32 [ %8, %if.then.i.i.i.i.i.i ], [ %9, %if.else.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i, label %if.end8.sink.split.i.i.i, label %_ZNSt12__shared_ptrIN4fizz16ClientExtensionsELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit

if.end8.sink.split.i.i.i:                         ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i, %if.then.i.i.i
  %vtable2.i.i.i.i.i = load ptr, ptr %0, align 8
  %vfn3.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i, i64 3
  %10 = load ptr, ptr %vfn3.i.i.i.i.i, align 8
  tail call void %10(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  br label %_ZNSt12__shared_ptrIN4fizz16ClientExtensionsELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit

_ZNSt12__shared_ptrIN4fizz16ClientExtensionsELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit: ; preds = %entry, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i, %if.end8.sink.split.i.i.i
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev(ptr noundef nonnull align 8 dereferenceable(16) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %_M_refcount.i = getelementptr inbounds %"class.std::__shared_ptr", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %_M_refcount.i, align 8
  %cmp.not.i.i = icmp eq ptr %0, null
  br i1 %cmp.not.i.i, label %_ZNSt12__shared_ptrIKN4fizz6client17FizzClientContextELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %entry
  %_M_use_count.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 1
  %1 = load atomic i64, ptr %_M_use_count.i.i.i acquire, align 8
  %cmp.i.i.i = icmp eq i64 %1, 4294967297
  %2 = trunc i64 %1 to i32
  br i1 %cmp.i.i.i, label %if.then.i.i.i, label %if.end.i.i.i

if.then.i.i.i:                                    ; preds = %if.then.i.i
  store i32 0, ptr %_M_use_count.i.i.i, align 8
  %_M_weak_count.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i, align 4
  %vtable.i.i.i = load ptr, ptr %0, align 8
  %vfn.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i, i64 2
  %3 = load ptr, ptr %vfn.i.i.i, align 8
  tail call void %3(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  br label %if.end8.sink.split.i.i.i

if.end.i.i.i:                                     ; preds = %if.then.i.i
  %4 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i = icmp eq i8 %4, 0
  br i1 %tobool.i.not.i.i.i, label %if.else.i.i.i.i, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %if.end.i.i.i
  %add.i.i.i.i = add nsw i32 %2, -1
  store i32 %add.i.i.i.i, ptr %_M_use_count.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i

if.else.i.i.i.i:                                  ; preds = %if.end.i.i.i
  %5 = atomicrmw volatile add ptr %_M_use_count.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i: ; preds = %if.else.i.i.i.i, %if.then.i.i.i.i
  %retval.i.0.i.i.i = phi i32 [ %2, %if.then.i.i.i.i ], [ %5, %if.else.i.i.i.i ]
  %cmp6.i.i.i = icmp eq i32 %retval.i.0.i.i.i, 1
  br i1 %cmp6.i.i.i, label %if.then7.i.i.i, label %_ZNSt12__shared_ptrIKN4fizz6client17FizzClientContextELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit

if.then7.i.i.i:                                   ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i
  %vtable.i.i.i.i.i = load ptr, ptr %0, align 8
  %vfn.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i, i64 2
  %6 = load ptr, ptr %vfn.i.i.i.i.i, align 8
  tail call void %6(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  %_M_weak_count.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 2
  %7 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i = icmp eq i8 %7, 0
  br i1 %tobool.i.not.i.i.i.i.i, label %if.else.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i

if.then.i.i.i.i.i.i:                              ; preds = %if.then7.i.i.i
  %8 = load i32, ptr %_M_weak_count.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i = add nsw i32 %8, -1
  store i32 %add.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

if.else.i.i.i.i.i.i:                              ; preds = %if.then7.i.i.i
  %9 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i, %if.then.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i = phi i32 [ %8, %if.then.i.i.i.i.i.i ], [ %9, %if.else.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i, label %if.end8.sink.split.i.i.i, label %_ZNSt12__shared_ptrIKN4fizz6client17FizzClientContextELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit

if.end8.sink.split.i.i.i:                         ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i, %if.then.i.i.i
  %vtable2.i.i.i.i.i = load ptr, ptr %0, align 8
  %vfn3.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i, i64 3
  %10 = load ptr, ptr %vfn3.i.i.i.i.i, align 8
  tail call void %10(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  br label %_ZNSt12__shared_ptrIKN4fizz6client17FizzClientContextELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit

_ZNSt12__shared_ptrIKN4fizz6client17FizzClientContextELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit: ; preds = %entry, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i, %if.end8.sink.split.i.i.i
  ret void
}

; Function Attrs: nobuiltin nounwind
declare void @_ZdlPv(ptr noundef) local_unnamed_addr #8

; Function Attrs: mustprogress nocallback nofree nounwind willreturn memory(argmem: readwrite)
declare void @llvm.memcpy.p0.p0.i64(ptr noalias nocapture writeonly, ptr noalias nocapture readonly, i64, i1 immarg) #9

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev(ptr noundef nonnull align 8 dereferenceable(16) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %_M_refcount.i = getelementptr inbounds %"class.std::__shared_ptr.1", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %_M_refcount.i, align 8
  %cmp.not.i.i = icmp eq ptr %0, null
  br i1 %cmp.not.i.i, label %_ZNSt12__shared_ptrIKN4fizz19CertificateVerifierELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %entry
  %_M_use_count.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 1
  %1 = load atomic i64, ptr %_M_use_count.i.i.i acquire, align 8
  %cmp.i.i.i = icmp eq i64 %1, 4294967297
  %2 = trunc i64 %1 to i32
  br i1 %cmp.i.i.i, label %if.then.i.i.i, label %if.end.i.i.i

if.then.i.i.i:                                    ; preds = %if.then.i.i
  store i32 0, ptr %_M_use_count.i.i.i, align 8
  %_M_weak_count.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i, align 4
  %vtable.i.i.i = load ptr, ptr %0, align 8
  %vfn.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i, i64 2
  %3 = load ptr, ptr %vfn.i.i.i, align 8
  tail call void %3(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  br label %if.end8.sink.split.i.i.i

if.end.i.i.i:                                     ; preds = %if.then.i.i
  %4 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i = icmp eq i8 %4, 0
  br i1 %tobool.i.not.i.i.i, label %if.else.i.i.i.i, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %if.end.i.i.i
  %add.i.i.i.i = add nsw i32 %2, -1
  store i32 %add.i.i.i.i, ptr %_M_use_count.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i

if.else.i.i.i.i:                                  ; preds = %if.end.i.i.i
  %5 = atomicrmw volatile add ptr %_M_use_count.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i: ; preds = %if.else.i.i.i.i, %if.then.i.i.i.i
  %retval.i.0.i.i.i = phi i32 [ %2, %if.then.i.i.i.i ], [ %5, %if.else.i.i.i.i ]
  %cmp6.i.i.i = icmp eq i32 %retval.i.0.i.i.i, 1
  br i1 %cmp6.i.i.i, label %if.then7.i.i.i, label %_ZNSt12__shared_ptrIKN4fizz19CertificateVerifierELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit

if.then7.i.i.i:                                   ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i
  %vtable.i.i.i.i.i = load ptr, ptr %0, align 8
  %vfn.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i, i64 2
  %6 = load ptr, ptr %vfn.i.i.i.i.i, align 8
  tail call void %6(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  %_M_weak_count.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 2
  %7 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i = icmp eq i8 %7, 0
  br i1 %tobool.i.not.i.i.i.i.i, label %if.else.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i

if.then.i.i.i.i.i.i:                              ; preds = %if.then7.i.i.i
  %8 = load i32, ptr %_M_weak_count.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i = add nsw i32 %8, -1
  store i32 %add.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

if.else.i.i.i.i.i.i:                              ; preds = %if.then7.i.i.i
  %9 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i, %if.then.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i = phi i32 [ %8, %if.then.i.i.i.i.i.i ], [ %9, %if.else.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i, label %if.end8.sink.split.i.i.i, label %_ZNSt12__shared_ptrIKN4fizz19CertificateVerifierELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit

if.end8.sink.split.i.i.i:                         ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i, %if.then.i.i.i
  %vtable2.i.i.i.i.i = load ptr, ptr %0, align 8
  %vfn3.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i, i64 3
  %10 = load ptr, ptr %vfn3.i.i.i.i.i, align 8
  tail call void %10(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  br label %_ZNSt12__shared_ptrIKN4fizz19CertificateVerifierELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit

_ZNSt12__shared_ptrIKN4fizz19CertificateVerifierELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit: ; preds = %entry, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i, %if.end8.sink.split.i.i.i
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define void @_ZN8proxygen21HTTPConnectorWithFizz14connectSuccessEv(ptr noundef nonnull align 8 dereferenceable(832) %this) unnamed_addr #6 align 2 personality ptr @__gxx_personality_v0 {
entry:
  %localAddress = alloca %"class.folly::SocketAddress", align 8
  %peerAddress = alloca %"class.folly::SocketAddress", align 8
  %ref.tmp20 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp38 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp65 = alloca %"class.std::__cxx11::basic_string", align 8
  %codec = alloca %"class.std::unique_ptr.214", align 8
  %ref.tmp72 = alloca %"class.std::__cxx11::basic_string", align 8
  %agg.tmp83 = alloca %"class.std::unique_ptr.214", align 8
  %agg.tmp85 = alloca %"class.std::shared_ptr.312", align 8
  %cb_ = getelementptr inbounds %"class.proxygen::HTTPConnector", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %cb_, align 8
  %tobool.not = icmp eq ptr %0, null
  br i1 %tobool.not, label %return, label %if.end

if.end:                                           ; preds = %entry
  %socket_ = getelementptr inbounds %"class.proxygen::HTTPConnector", ptr %this, i64 0, i32 3
  %1 = load ptr, ptr %socket_, align 8
  br label %dynamic_cast.notnull.i.i

dynamic_cast.notnull.i.i:                         ; preds = %call.i.i.noexc, %if.end
  %current.04.i.i = phi ptr [ %1, %if.end ], [ %call.i.i6, %call.i.i.noexc ]
  %2 = tail call ptr @__dynamic_cast(ptr nonnull %current.04.i.i, ptr nonnull @_ZTIN5folly14AsyncTransportE, ptr nonnull @_ZTIN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, i64 0) #28
  %tobool2.not.i.i = icmp eq ptr %2, null
  br i1 %tobool2.not.i.i, label %if.end.i.i, label %if.end5

if.end.i.i:                                       ; preds = %dynamic_cast.notnull.i.i
  %vtable.i.i = load ptr, ptr %current.04.i.i, align 8
  %vfn.i.i = getelementptr inbounds ptr, ptr %vtable.i.i, i64 41
  %3 = load ptr, ptr %vfn.i.i, align 8
  %call.i.i6 = invoke noundef ptr %3(ptr noundef nonnull align 8 dereferenceable(48) %current.04.i.i)
          to label %call.i.i.noexc unwind label %terminate.lpad.loopexit

call.i.i.noexc:                                   ; preds = %if.end.i.i
  %tobool.not.i.i = icmp eq ptr %call.i.i6, null
  br i1 %tobool.not.i.i, label %if.then4, label %dynamic_cast.notnull.i.i, !llvm.loop !4

if.then4:                                         ; preds = %call.i.i.noexc
  tail call void @_ZN8proxygen13HTTPConnector14connectSuccessEv(ptr noundef nonnull align 8 dereferenceable(832) %this) #28
  br label %return

if.end5:                                          ; preds = %dynamic_cast.notnull.i.i
  invoke void @_ZN5folly9IPAddressC1Ev(ptr noundef nonnull align 4 dereferenceable(22) %localAddress)
          to label %invoke.cont6 unwind label %terminate.lpad.loopexit.split-lp

invoke.cont6:                                     ; preds = %if.end5
  %port_.i = getelementptr inbounds %"class.folly::SocketAddress", ptr %localAddress, i64 0, i32 1
  store i16 0, ptr %port_.i, align 8
  %external_.i = getelementptr inbounds %"class.folly::SocketAddress", ptr %localAddress, i64 0, i32 2
  store i8 0, ptr %external_.i, align 2
  invoke void @_ZN5folly9IPAddressC1Ev(ptr noundef nonnull align 4 dereferenceable(22) %peerAddress)
          to label %invoke.cont7 unwind label %terminate.lpad.loopexit.split-lp

invoke.cont7:                                     ; preds = %invoke.cont6
  %port_.i7 = getelementptr inbounds %"class.folly::SocketAddress", ptr %peerAddress, i64 0, i32 1
  store i16 0, ptr %port_.i7, align 8
  %external_.i8 = getelementptr inbounds %"class.folly::SocketAddress", ptr %peerAddress, i64 0, i32 2
  store i8 0, ptr %external_.i8, align 2
  %4 = load ptr, ptr %socket_, align 8
  %vtable = load ptr, ptr %4, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 20
  %5 = load ptr, ptr %vfn, align 8
  invoke void %5(ptr noundef nonnull align 8 dereferenceable(48) %4, ptr noundef nonnull %localAddress)
          to label %invoke.cont10 unwind label %terminate.lpad.loopexit.split-lp

invoke.cont10:                                    ; preds = %invoke.cont7
  %6 = load ptr, ptr %socket_, align 8
  %vtable13 = load ptr, ptr %6, align 8
  %vfn14 = getelementptr inbounds ptr, ptr %vtable13, i64 22
  %7 = load ptr, ptr %vfn14, align 8
  invoke void %7(ptr noundef nonnull align 8 dereferenceable(48) %6, ptr noundef nonnull %peerAddress)
          to label %invoke.cont15 unwind label %terminate.lpad.loopexit.split-lp

invoke.cont15:                                    ; preds = %invoke.cont10
  %call.i = call i64 @_ZNSt6chrono3_V212steady_clock3nowEv() #28
  %transportInfo_ = getelementptr inbounds %"class.proxygen::HTTPConnector", ptr %this, i64 0, i32 4
  store i64 %call.i, ptr %transportInfo_, align 8
  %vtable21 = load ptr, ptr %2, align 8
  %vfn22 = getelementptr inbounds ptr, ptr %vtable21, i64 27
  %8 = load ptr, ptr %vfn22, align 8
  call void %8(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp20, ptr noundef nonnull align 8 dereferenceable(2272) %2) #28
  %call5.i.i.i2.i.i.i.i10 = invoke noalias noundef nonnull dereferenceable(48) ptr @_Znwm(i64 noundef 48) #29
          to label %invoke.cont23 unwind label %terminate.lpad.loopexit.split-lp

invoke.cont23:                                    ; preds = %invoke.cont15
  %_M_use_count.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %call5.i.i.i2.i.i.i.i10, i64 0, i32 1
  store i32 1, ptr %_M_use_count.i.i.i.i.i.i, align 8, !noalias !6
  %_M_weak_count.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %call5.i.i.i2.i.i.i.i10, i64 0, i32 2
  store i32 1, ptr %_M_weak_count.i.i.i.i.i.i, align 4, !noalias !6
  store ptr getelementptr inbounds ({ [7 x ptr] }, ptr @_ZTVSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE, i64 0, inrange i32 0, i64 2), ptr %call5.i.i.i2.i.i.i.i10, align 8, !noalias !6
  %_M_impl.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_ptr_inplace.598", ptr %call5.i.i.i2.i.i.i.i10, i64 0, i32 1
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1EOS4_(ptr noundef nonnull align 8 dereferenceable(32) %_M_impl.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp20) #28, !noalias !6
  %appProtocol = getelementptr inbounds %"class.proxygen::HTTPConnector", ptr %this, i64 0, i32 4, i32 28
  store ptr %_M_impl.i.i.i.i.i.i, ptr %appProtocol, align 8
  %_M_refcount3.i.i.i = getelementptr inbounds %"class.proxygen::HTTPConnector", ptr %this, i64 0, i32 4, i32 28, i32 0, i32 1
  %9 = load ptr, ptr %_M_refcount3.i.i.i, align 8
  store ptr %call5.i.i.i2.i.i.i.i10, ptr %_M_refcount3.i.i.i, align 8
  %cmp.not.i.i.i.i = icmp eq ptr %9, null
  br i1 %cmp.not.i.i.i.i, label %invoke.cont29, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %invoke.cont23
  %_M_use_count.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %9, i64 0, i32 1
  %10 = load atomic i64, ptr %_M_use_count.i.i.i.i.i acquire, align 8
  %cmp.i.i.i.i.i = icmp eq i64 %10, 4294967297
  %11 = trunc i64 %10 to i32
  br i1 %cmp.i.i.i.i.i, label %if.then.i.i.i.i.i, label %if.end.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.then.i.i.i.i
  store i32 0, ptr %_M_use_count.i.i.i.i.i, align 8
  %_M_weak_count.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %9, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i, align 4
  %vtable.i.i.i.i.i = load ptr, ptr %9, align 8
  %vfn.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i, i64 2
  %12 = load ptr, ptr %vfn.i.i.i.i.i, align 8
  call void %12(ptr noundef nonnull align 8 dereferenceable(16) %9) #28
  br label %if.end8.sink.split.i.i.i.i.i

if.end.i.i.i.i.i:                                 ; preds = %if.then.i.i.i.i
  %13 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i = icmp eq i8 %13, 0
  br i1 %tobool.i.not.i.i.i.i.i, label %if.else.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i

if.then.i.i.i.i.i.i:                              ; preds = %if.end.i.i.i.i.i
  %add.i.i.i.i.i.i = add nsw i32 %11, -1
  store i32 %add.i.i.i.i.i.i, ptr %_M_use_count.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

if.else.i.i.i.i.i.i:                              ; preds = %if.end.i.i.i.i.i
  %14 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i, %if.then.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i = phi i32 [ %11, %if.then.i.i.i.i.i.i ], [ %14, %if.else.i.i.i.i.i.i ]
  %cmp6.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i.i, label %if.then7.i.i.i.i.i, label %invoke.cont29

if.then7.i.i.i.i.i:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i
  %vtable.i.i.i.i.i.i.i = load ptr, ptr %9, align 8
  %vfn.i.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i, i64 2
  %15 = load ptr, ptr %vfn.i.i.i.i.i.i.i, align 8
  call void %15(ptr noundef nonnull align 8 dereferenceable(16) %9) #28
  %_M_weak_count.i.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %9, i64 0, i32 2
  %16 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i = icmp eq i8 %16, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i.i:                          ; preds = %if.then7.i.i.i.i.i
  %17 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i.i.i = add nsw i32 %17, -1
  store i32 %add.i.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i.i:                          ; preds = %if.then7.i.i.i.i.i
  %18 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i.i = phi i32 [ %17, %if.then.i.i.i.i.i.i.i.i ], [ %18, %if.else.i.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i.i, label %invoke.cont29

if.end8.sink.split.i.i.i.i.i:                     ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i, %if.then.i.i.i.i.i
  %vtable2.i.i.i.i.i.i.i = load ptr, ptr %9, align 8
  %vfn3.i.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i, i64 3
  %19 = load ptr, ptr %vfn3.i.i.i.i.i.i.i, align 8
  call void %19(ptr noundef nonnull align 8 dereferenceable(16) %9) #28
  br label %invoke.cont29

invoke.cont29:                                    ; preds = %invoke.cont23, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i, %if.end8.sink.split.i.i.i.i.i
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp20) #28
  %connectStart_ = getelementptr inbounds %"class.proxygen::HTTPConnector", ptr %this, i64 0, i32 6
  %agg.tmp.sroa.0.0.copyload = load i64, ptr %connectStart_, align 8
  %call.i.i = call i64 @_ZNSt6chrono3_V212steady_clock3nowEv() #28
  %sub.i.i.i.i = sub nsw i64 %call.i.i, %agg.tmp.sroa.0.0.copyload
  %div.i.i.i.i = sdiv i64 %sub.i.i.i.i, 1000000
  %sslSetupTime = getelementptr inbounds %"class.proxygen::HTTPConnector", ptr %this, i64 0, i32 4, i32 16
  store i64 %div.i.i.i.i, ptr %sslSetupTime, align 8
  %hasValue.i.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %2, i64 0, i32 7, i32 14, i32 0, i32 1
  %20 = load i8, ptr %hasValue.i.i.i.i, align 2, !noalias !9
  %21 = and i8 %20, 1
  %tobool.i.i.not.i.i.not = icmp eq i8 %21, 0
  br i1 %tobool.i.i.not.i.i.not, label %cond.end, label %invoke.cont39

invoke.cont39:                                    ; preds = %invoke.cont29
  %cipher_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %2, i64 0, i32 7, i32 14
  %22 = load i16, ptr %cipher_.i, align 2, !noalias !9
  invoke void @_ZN4fizz8toStringB5cxx11ENS_11CipherSuiteE(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp38, i16 noundef zeroext %22)
          to label %invoke.cont41 unwind label %terminate.lpad.loopexit.split-lp

invoke.cont41:                                    ; preds = %invoke.cont39
  %call5.i.i.i2.i.i.i.i20 = invoke noalias noundef nonnull dereferenceable(48) ptr @_Znwm(i64 noundef 48) #29
          to label %_ZSt11make_sharedINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEJS5_EESt10shared_ptrINSt9enable_ifIXntsr8is_arrayIT_EE5valueES8_E4typeEEDpOT0_.exit21 unwind label %terminate.lpad.loopexit.split-lp

_ZSt11make_sharedINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEJS5_EESt10shared_ptrINSt9enable_ifIXntsr8is_arrayIT_EE5valueES8_E4typeEEDpOT0_.exit21: ; preds = %invoke.cont41
  %_M_use_count.i.i.i.i.i.i17 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %call5.i.i.i2.i.i.i.i20, i64 0, i32 1
  store i32 1, ptr %_M_use_count.i.i.i.i.i.i17, align 8, !noalias !12
  %_M_weak_count.i.i.i.i.i.i18 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %call5.i.i.i2.i.i.i.i20, i64 0, i32 2
  store i32 1, ptr %_M_weak_count.i.i.i.i.i.i18, align 4, !noalias !12
  store ptr getelementptr inbounds ({ [7 x ptr] }, ptr @_ZTVSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE, i64 0, inrange i32 0, i64 2), ptr %call5.i.i.i2.i.i.i.i20, align 8, !noalias !12
  %_M_impl.i.i.i.i.i.i19 = getelementptr inbounds %"class.std::_Sp_counted_ptr_inplace.598", ptr %call5.i.i.i2.i.i.i.i20, i64 0, i32 1
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1EOS4_(ptr noundef nonnull align 8 dereferenceable(32) %_M_impl.i.i.i.i.i.i19, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp38) #28, !noalias !12
  br label %cond.end

cond.end:                                         ; preds = %invoke.cont29, %_ZSt11make_sharedINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEJS5_EESt10shared_ptrINSt9enable_ifIXntsr8is_arrayIT_EE5valueES8_E4typeEEDpOT0_.exit21
  %ref.tmp36.sroa.0.0 = phi ptr [ %_M_impl.i.i.i.i.i.i19, %_ZSt11make_sharedINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEJS5_EESt10shared_ptrINSt9enable_ifIXntsr8is_arrayIT_EE5valueES8_E4typeEEDpOT0_.exit21 ], [ null, %invoke.cont29 ]
  %ref.tmp36.sroa.5.0 = phi ptr [ %call5.i.i.i2.i.i.i.i20, %_ZSt11make_sharedINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEJS5_EESt10shared_ptrINSt9enable_ifIXntsr8is_arrayIT_EE5valueES8_E4typeEEDpOT0_.exit21 ], [ null, %invoke.cont29 ]
  %sslCipher = getelementptr inbounds %"class.proxygen::HTTPConnector", ptr %this, i64 0, i32 4, i32 17
  store ptr %ref.tmp36.sroa.0.0, ptr %sslCipher, align 8
  %_M_refcount3.i.i.i23 = getelementptr inbounds %"class.proxygen::HTTPConnector", ptr %this, i64 0, i32 4, i32 17, i32 0, i32 1
  %23 = load ptr, ptr %_M_refcount3.i.i.i23, align 8
  store ptr %ref.tmp36.sroa.5.0, ptr %_M_refcount3.i.i.i23, align 8
  %cmp.not.i.i.i.i24 = icmp eq ptr %23, null
  br i1 %cmp.not.i.i.i.i24, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit86, label %if.then.i.i.i.i25

if.then.i.i.i.i25:                                ; preds = %cond.end
  %_M_use_count.i.i.i.i.i26 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %23, i64 0, i32 1
  %24 = load atomic i64, ptr %_M_use_count.i.i.i.i.i26 acquire, align 8
  %cmp.i.i.i.i.i27 = icmp eq i64 %24, 4294967297
  %25 = trunc i64 %24 to i32
  br i1 %cmp.i.i.i.i.i27, label %if.then.i.i.i.i.i50, label %if.end.i.i.i.i.i28

if.then.i.i.i.i.i50:                              ; preds = %if.then.i.i.i.i25
  store i32 0, ptr %_M_use_count.i.i.i.i.i26, align 8
  %_M_weak_count.i.i.i.i.i51 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %23, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i51, align 4
  %vtable.i.i.i.i.i52 = load ptr, ptr %23, align 8
  %vfn.i.i.i.i.i53 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i52, i64 2
  %26 = load ptr, ptr %vfn.i.i.i.i.i53, align 8
  call void %26(ptr noundef nonnull align 8 dereferenceable(16) %23) #28
  br label %if.end8.sink.split.i.i.i.i.i45

if.end.i.i.i.i.i28:                               ; preds = %if.then.i.i.i.i25
  %27 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i29 = icmp eq i8 %27, 0
  br i1 %tobool.i.not.i.i.i.i.i29, label %if.else.i.i.i.i.i.i49, label %if.then.i.i.i.i.i.i30

if.then.i.i.i.i.i.i30:                            ; preds = %if.end.i.i.i.i.i28
  %add.i.i.i.i.i.i31 = add nsw i32 %25, -1
  store i32 %add.i.i.i.i.i.i31, ptr %_M_use_count.i.i.i.i.i26, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i32

if.else.i.i.i.i.i.i49:                            ; preds = %if.end.i.i.i.i.i28
  %28 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i26, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i32

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i32: ; preds = %if.else.i.i.i.i.i.i49, %if.then.i.i.i.i.i.i30
  %retval.i.0.i.i.i.i.i33 = phi i32 [ %25, %if.then.i.i.i.i.i.i30 ], [ %28, %if.else.i.i.i.i.i.i49 ]
  %cmp6.i.i.i.i.i34 = icmp eq i32 %retval.i.0.i.i.i.i.i33, 1
  br i1 %cmp6.i.i.i.i.i34, label %if.then7.i.i.i.i.i35, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit86

if.then7.i.i.i.i.i35:                             ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i32
  %vtable.i.i.i.i.i.i.i36 = load ptr, ptr %23, align 8
  %vfn.i.i.i.i.i.i.i37 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i36, i64 2
  %29 = load ptr, ptr %vfn.i.i.i.i.i.i.i37, align 8
  call void %29(ptr noundef nonnull align 8 dereferenceable(16) %23) #28
  %_M_weak_count.i.i.i.i.i.i.i38 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %23, i64 0, i32 2
  %30 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i39 = icmp eq i8 %30, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i39, label %if.else.i.i.i.i.i.i.i.i48, label %if.then.i.i.i.i.i.i.i.i40

if.then.i.i.i.i.i.i.i.i40:                        ; preds = %if.then7.i.i.i.i.i35
  %31 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i38, align 4
  %add.i.i.i.i.i.i.i.i41 = add nsw i32 %31, -1
  store i32 %add.i.i.i.i.i.i.i.i41, ptr %_M_weak_count.i.i.i.i.i.i.i38, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i42

if.else.i.i.i.i.i.i.i.i48:                        ; preds = %if.then7.i.i.i.i.i35
  %32 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i38, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i42

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i42: ; preds = %if.else.i.i.i.i.i.i.i.i48, %if.then.i.i.i.i.i.i.i.i40
  %retval.i.0.i.i.i.i.i.i.i43 = phi i32 [ %31, %if.then.i.i.i.i.i.i.i.i40 ], [ %32, %if.else.i.i.i.i.i.i.i.i48 ]
  %cmp.i.i.i.i.i.i.i44 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i43, 1
  br i1 %cmp.i.i.i.i.i.i.i44, label %if.end8.sink.split.i.i.i.i.i45, label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit86

if.end8.sink.split.i.i.i.i.i45:                   ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i42, %if.then.i.i.i.i.i50
  %vtable2.i.i.i.i.i.i.i46 = load ptr, ptr %23, align 8
  %vfn3.i.i.i.i.i.i.i47 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i46, i64 3
  %33 = load ptr, ptr %vfn3.i.i.i.i.i.i.i47, align 8
  call void %33(ptr noundef nonnull align 8 dereferenceable(16) %23) #28
  br label %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit86

_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit86: ; preds = %if.end8.sink.split.i.i.i.i.i45, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i42, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i32, %cond.end
  br i1 %tobool.i.i.not.i.i.not, label %cleanup.done, label %cleanup.action

cleanup.action:                                   ; preds = %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit86
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp38) #28
  br label %cleanup.done

cleanup.done:                                     ; preds = %cleanup.action, %_ZNSt10shared_ptrINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit86
  %hasValue.i.i.i.i89 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %2, i64 0, i32 7, i32 13, i32 0, i32 1
  %34 = load i8, ptr %hasValue.i.i.i.i89, align 2, !noalias !15
  %35 = and i8 %34, 1
  %tobool.i.i.not.i.i90 = icmp eq i8 %35, 0
  br i1 %tobool.i.i.not.i.i90, label %cond.end53, label %invoke.cont50

invoke.cont50:                                    ; preds = %cleanup.done
  %version_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %2, i64 0, i32 7, i32 13
  %36 = load i16, ptr %version_.i, align 2, !noalias !15
  br label %cond.end53

cond.end53:                                       ; preds = %cleanup.done, %invoke.cont50
  %cond = phi i16 [ %36, %invoke.cont50 ], [ 0, %cleanup.done ]
  %sslVersion = getelementptr inbounds %"class.proxygen::HTTPConnector", ptr %this, i64 0, i32 4, i32 40
  store i16 %cond, ptr %sslVersion, align 8
  %hasValue.i.i.i.i99 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %2, i64 0, i32 7, i32 17, i32 0, i32 1
  %37 = load i8, ptr %hasValue.i.i.i.i99, align 4, !noalias !18
  %38 = and i8 %37, 1
  %tobool.i.i.not.i.i100 = icmp eq i8 %38, 0
  br i1 %tobool.i.i.not.i.i100, label %_ZNK4fizz6client5State7pskTypeEv.exit, label %invoke.cont2.i.i101

invoke.cont2.i.i101:                              ; preds = %cond.end53
  %pskType_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %2, i64 0, i32 7, i32 17
  %39 = load i32, ptr %pskType_.i, align 4, !noalias !18
  %40 = icmp eq i32 %39, 4
  %41 = select i1 %40, i8 3, i8 0
  br label %_ZNK4fizz6client5State7pskTypeEv.exit

_ZNK4fizz6client5State7pskTypeEv.exit:            ; preds = %cond.end53, %invoke.cont2.i.i101
  %retval.0.i = phi i8 [ 0, %cond.end53 ], [ %41, %invoke.cont2.i.i101 ]
  %sslResume = getelementptr inbounds %"class.proxygen::HTTPConnector", ptr %this, i64 0, i32 4, i32 43
  store i8 %retval.0.i, ptr %sslResume, align 2
  %vtable66 = load ptr, ptr %2, align 8
  %vfn67 = getelementptr inbounds ptr, ptr %vtable66, i64 28
  %42 = load ptr, ptr %vfn67, align 8
  invoke void %42(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp65, ptr noundef nonnull align 8 dereferenceable(576) %2)
          to label %invoke.cont68 unwind label %terminate.lpad.loopexit.split-lp

invoke.cont68:                                    ; preds = %_ZNK4fizz6client5State7pskTypeEv.exit
  %securityType = getelementptr inbounds %"class.proxygen::HTTPConnector", ptr %this, i64 0, i32 4, i32 47
  %call70 = call noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEaSEOS4_(ptr noundef nonnull align 8 dereferenceable(32) %securityType, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp65) #28
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp65) #28
  %httpCodecFactory_ = getelementptr inbounds %"class.proxygen::HTTPConnector", ptr %this, i64 0, i32 7
  %43 = load ptr, ptr %httpCodecFactory_, align 8
  %44 = load ptr, ptr %socket_, align 8
  %vtable75 = load ptr, ptr %44, align 8
  %vfn76 = getelementptr inbounds ptr, ptr %vtable75, i64 27
  %45 = load ptr, ptr %vfn76, align 8
  call void %45(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp72, ptr noundef nonnull align 8 dereferenceable(48) %44) #28
  %vtable77 = load ptr, ptr %43, align 8
  %vfn78 = getelementptr inbounds ptr, ptr %vtable77, i64 2
  %46 = load ptr, ptr %vfn78, align 8
  invoke void %46(ptr nonnull sret(%"class.std::unique_ptr.214") align 8 %codec, ptr noundef nonnull align 8 dereferenceable(41) %43, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp72, i8 noundef zeroext 1, i1 noundef zeroext true)
          to label %invoke.cont79 unwind label %terminate.lpad.loopexit.split-lp

invoke.cont79:                                    ; preds = %invoke.cont68
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp72) #28
  %call81 = invoke noalias noundef nonnull dereferenceable(2536) ptr @_Znwm(i64 noundef 2536) #29
          to label %invoke.cont80 unwind label %terminate.lpad.loopexit.split-lp

invoke.cont80:                                    ; preds = %invoke.cont79
  %timeout_ = getelementptr inbounds %"class.proxygen::HTTPConnector", ptr %this, i64 0, i32 2
  %47 = load i64, ptr %codec, align 8
  store i64 %47, ptr %agg.tmp83, align 8
  store ptr null, ptr %codec, align 8
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp85, i8 0, i64 16, i1 false)
  invoke void @_ZN8proxygen19HTTPUpstreamSessionC2ERKNS_18WheelTimerInstanceEOSt10unique_ptrIN5folly14AsyncTransportENS5_18DelayedDestruction10DestructorEERKNS5_13SocketAddressESD_S4_INS_9HTTPCodecESt14default_deleteISE_EERKN6wangle13TransportInfoEPNS_15HTTPSessionBase12InfoCallbackEhSt10shared_ptrIKNSM_18PriorityMapFactoryEE(ptr noundef nonnull align 8 dereferenceable(2536) %call81, ptr noundef nonnull align 8 dereferenceable(16) %timeout_, ptr noundef nonnull align 8 dereferenceable(8) %socket_, ptr noundef nonnull align 8 dereferenceable(27) %localAddress, ptr noundef nonnull align 8 dereferenceable(27) %peerAddress, ptr noundef nonnull %agg.tmp83, ptr noundef nonnull align 8 dereferenceable(744) %transportInfo_, ptr noundef null, i8 noundef zeroext 0, ptr noundef nonnull %agg.tmp85)
          to label %invoke.cont86 unwind label %terminate.lpad.loopexit.split-lp

invoke.cont86:                                    ; preds = %invoke.cont80
  %_M_refcount.i.i102 = getelementptr inbounds %"class.std::__shared_ptr.313", ptr %agg.tmp85, i64 0, i32 1
  %48 = load ptr, ptr %_M_refcount.i.i102, align 8
  %cmp.not.i.i.i103 = icmp eq ptr %48, null
  br i1 %cmp.not.i.i.i103, label %_ZNSt10shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryEED2Ev.exit, label %if.then.i.i.i104

if.then.i.i.i104:                                 ; preds = %invoke.cont86
  %_M_use_count.i.i.i.i105 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %48, i64 0, i32 1
  %49 = load atomic i64, ptr %_M_use_count.i.i.i.i105 acquire, align 8
  %cmp.i.i.i.i106 = icmp eq i64 %49, 4294967297
  %50 = trunc i64 %49 to i32
  br i1 %cmp.i.i.i.i106, label %if.then.i.i.i.i129, label %if.end.i.i.i.i107

if.then.i.i.i.i129:                               ; preds = %if.then.i.i.i104
  store i32 0, ptr %_M_use_count.i.i.i.i105, align 8
  %_M_weak_count.i.i.i.i130 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %48, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i130, align 4
  %vtable.i.i.i.i131 = load ptr, ptr %48, align 8
  %vfn.i.i.i.i132 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i131, i64 2
  %51 = load ptr, ptr %vfn.i.i.i.i132, align 8
  call void %51(ptr noundef nonnull align 8 dereferenceable(16) %48) #28
  br label %if.end8.sink.split.i.i.i.i124

if.end.i.i.i.i107:                                ; preds = %if.then.i.i.i104
  %52 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i108 = icmp eq i8 %52, 0
  br i1 %tobool.i.not.i.i.i.i108, label %if.else.i.i.i.i.i128, label %if.then.i.i.i.i.i109

if.then.i.i.i.i.i109:                             ; preds = %if.end.i.i.i.i107
  %add.i.i.i.i.i110 = add nsw i32 %50, -1
  store i32 %add.i.i.i.i.i110, ptr %_M_use_count.i.i.i.i105, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i111

if.else.i.i.i.i.i128:                             ; preds = %if.end.i.i.i.i107
  %53 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i105, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i111

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i111: ; preds = %if.else.i.i.i.i.i128, %if.then.i.i.i.i.i109
  %retval.i.0.i.i.i.i112 = phi i32 [ %50, %if.then.i.i.i.i.i109 ], [ %53, %if.else.i.i.i.i.i128 ]
  %cmp6.i.i.i.i113 = icmp eq i32 %retval.i.0.i.i.i.i112, 1
  br i1 %cmp6.i.i.i.i113, label %if.then7.i.i.i.i114, label %_ZNSt10shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryEED2Ev.exit

if.then7.i.i.i.i114:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i111
  %vtable.i.i.i.i.i.i115 = load ptr, ptr %48, align 8
  %vfn.i.i.i.i.i.i116 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i115, i64 2
  %54 = load ptr, ptr %vfn.i.i.i.i.i.i116, align 8
  call void %54(ptr noundef nonnull align 8 dereferenceable(16) %48) #28
  %_M_weak_count.i.i.i.i.i.i117 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %48, i64 0, i32 2
  %55 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i118 = icmp eq i8 %55, 0
  br i1 %tobool.i.not.i.i.i.i.i.i118, label %if.else.i.i.i.i.i.i.i127, label %if.then.i.i.i.i.i.i.i119

if.then.i.i.i.i.i.i.i119:                         ; preds = %if.then7.i.i.i.i114
  %56 = load i32, ptr %_M_weak_count.i.i.i.i.i.i117, align 4
  %add.i.i.i.i.i.i.i120 = add nsw i32 %56, -1
  store i32 %add.i.i.i.i.i.i.i120, ptr %_M_weak_count.i.i.i.i.i.i117, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i121

if.else.i.i.i.i.i.i.i127:                         ; preds = %if.then7.i.i.i.i114
  %57 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i117, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i121

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i121: ; preds = %if.else.i.i.i.i.i.i.i127, %if.then.i.i.i.i.i.i.i119
  %retval.i.0.i.i.i.i.i.i122 = phi i32 [ %56, %if.then.i.i.i.i.i.i.i119 ], [ %57, %if.else.i.i.i.i.i.i.i127 ]
  %cmp.i.i.i.i.i.i123 = icmp eq i32 %retval.i.0.i.i.i.i.i.i122, 1
  br i1 %cmp.i.i.i.i.i.i123, label %if.end8.sink.split.i.i.i.i124, label %_ZNSt10shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryEED2Ev.exit

if.end8.sink.split.i.i.i.i124:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i121, %if.then.i.i.i.i129
  %vtable2.i.i.i.i.i.i125 = load ptr, ptr %48, align 8
  %vfn3.i.i.i.i.i.i126 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i125, i64 3
  %58 = load ptr, ptr %vfn3.i.i.i.i.i.i126, align 8
  call void %58(ptr noundef nonnull align 8 dereferenceable(16) %48) #28
  br label %_ZNSt10shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryEED2Ev.exit

_ZNSt10shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryEED2Ev.exit: ; preds = %invoke.cont86, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i111, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i121, %if.end8.sink.split.i.i.i.i124
  %59 = load ptr, ptr %agg.tmp83, align 8
  %cmp.not.i = icmp eq ptr %59, null
  br i1 %cmp.not.i, label %_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit, label %_ZNKSt14default_deleteIN8proxygen9HTTPCodecEEclEPS1_.exit.i

_ZNKSt14default_deleteIN8proxygen9HTTPCodecEEclEPS1_.exit.i: ; preds = %_ZNSt10shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryEED2Ev.exit
  %vtable.i.i133 = load ptr, ptr %59, align 8
  %vfn.i.i134 = getelementptr inbounds ptr, ptr %vtable.i.i133, i64 1
  %60 = load ptr, ptr %vfn.i.i134, align 8
  call void %60(ptr noundef nonnull align 8 dereferenceable(8) %59) #28
  br label %_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit: ; preds = %_ZNSt10shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryEED2Ev.exit, %_ZNKSt14default_deleteIN8proxygen9HTTPCodecEEclEPS1_.exit.i
  store ptr null, ptr %agg.tmp83, align 8
  %61 = load ptr, ptr %cb_, align 8
  %vtable88 = load ptr, ptr %61, align 8
  %vfn89 = getelementptr inbounds ptr, ptr %vtable88, i64 2
  %62 = load ptr, ptr %vfn89, align 8
  invoke void %62(ptr noundef nonnull align 8 dereferenceable(8) %61, ptr noundef nonnull %call81)
          to label %invoke.cont90 unwind label %terminate.lpad.loopexit.split-lp

invoke.cont90:                                    ; preds = %_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit
  %63 = load ptr, ptr %codec, align 8
  %cmp.not.i135 = icmp eq ptr %63, null
  br i1 %cmp.not.i135, label %_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit139, label %_ZNKSt14default_deleteIN8proxygen9HTTPCodecEEclEPS1_.exit.i136

_ZNKSt14default_deleteIN8proxygen9HTTPCodecEEclEPS1_.exit.i136: ; preds = %invoke.cont90
  %vtable.i.i137 = load ptr, ptr %63, align 8
  %vfn.i.i138 = getelementptr inbounds ptr, ptr %vtable.i.i137, i64 1
  %64 = load ptr, ptr %vfn.i.i138, align 8
  call void %64(ptr noundef nonnull align 8 dereferenceable(8) %63) #28
  br label %_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit139

_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit139: ; preds = %invoke.cont90, %_ZNKSt14default_deleteIN8proxygen9HTTPCodecEEclEPS1_.exit.i136
  store ptr null, ptr %codec, align 8
  %65 = load i8, ptr %external_.i8, align 2
  %66 = and i8 %65, 1
  %tobool.not.i141 = icmp eq i8 %66, 0
  br i1 %tobool.not.i141, label %_ZN5folly13SocketAddressD2Ev.exit, label %if.then.i

if.then.i:                                        ; preds = %_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit139
  %67 = load ptr, ptr %peerAddress, align 8
  %isnull.i.i = icmp eq ptr %67, null
  br i1 %isnull.i.i, label %_ZN5folly13SocketAddressD2Ev.exit, label %delete.notnull.i.i

delete.notnull.i.i:                               ; preds = %if.then.i
  call void @_ZdlPv(ptr noundef nonnull %67) #31
  br label %_ZN5folly13SocketAddressD2Ev.exit

_ZN5folly13SocketAddressD2Ev.exit:                ; preds = %_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit139, %if.then.i, %delete.notnull.i.i
  %68 = load i8, ptr %external_.i, align 2
  %69 = and i8 %68, 1
  %tobool.not.i143 = icmp eq i8 %69, 0
  br i1 %tobool.not.i143, label %return, label %if.then.i144

if.then.i144:                                     ; preds = %_ZN5folly13SocketAddressD2Ev.exit
  %70 = load ptr, ptr %localAddress, align 8
  %isnull.i.i145 = icmp eq ptr %70, null
  br i1 %isnull.i.i145, label %return, label %delete.notnull.i.i146

delete.notnull.i.i146:                            ; preds = %if.then.i144
  call void @_ZdlPv(ptr noundef nonnull %70) #31
  br label %return

return:                                           ; preds = %delete.notnull.i.i146, %if.then.i144, %_ZN5folly13SocketAddressD2Ev.exit, %entry, %if.then4
  ret void

terminate.lpad.loopexit:                          ; preds = %if.end.i.i
  %lpad.loopexit = landingpad { ptr, i32 }
          catch ptr null
  br label %terminate.lpad

terminate.lpad.loopexit.split-lp:                 ; preds = %invoke.cont7, %invoke.cont10, %invoke.cont39, %_ZNK4fizz6client5State7pskTypeEv.exit, %invoke.cont68, %invoke.cont79, %invoke.cont80, %_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit, %if.end5, %invoke.cont6, %invoke.cont15, %invoke.cont41
  %lpad.loopexit.split-lp = landingpad { ptr, i32 }
          catch ptr null
  br label %terminate.lpad

terminate.lpad:                                   ; preds = %terminate.lpad.loopexit.split-lp, %terminate.lpad.loopexit
  %lpad.phi = phi { ptr, i32 } [ %lpad.loopexit, %terminate.lpad.loopexit ], [ %lpad.loopexit.split-lp, %terminate.lpad.loopexit.split-lp ]
  %71 = extractvalue { ptr, i32 } %lpad.phi, 0
  call void @__clang_call_terminate(ptr %71) #30
  unreachable
}

; Function Attrs: noreturn nounwind uwtable
define linkonce_odr hidden void @__clang_call_terminate(ptr noundef %0) local_unnamed_addr #10 comdat {
  %2 = tail call ptr @__cxa_begin_catch(ptr %0) #28
  tail call void @_ZSt9terminatev() #30
  unreachable
}

declare ptr @__cxa_begin_catch(ptr) local_unnamed_addr

declare void @_ZSt9terminatev() local_unnamed_addr

; Function Attrs: nounwind
declare void @_ZN8proxygen13HTTPConnector14connectSuccessEv(ptr noundef nonnull align 8 dereferenceable(832)) unnamed_addr #1

; Function Attrs: nounwind
declare void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32)) unnamed_addr #1

declare void @_ZN4fizz8toStringB5cxx11ENS_11CipherSuiteE(ptr sret(%"class.std::__cxx11::basic_string") align 8, i16 noundef zeroext) local_unnamed_addr #0

; Function Attrs: nounwind
declare noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEaSEOS4_(ptr noundef nonnull align 8 dereferenceable(32), ptr noundef nonnull align 8 dereferenceable(32)) local_unnamed_addr #1

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN8proxygen19HTTPUpstreamSessionC2ERKNS_18WheelTimerInstanceEOSt10unique_ptrIN5folly14AsyncTransportENS5_18DelayedDestruction10DestructorEERKNS5_13SocketAddressESD_S4_INS_9HTTPCodecESt14default_deleteISE_EERKN6wangle13TransportInfoEPNS_15HTTPSessionBase12InfoCallbackEhSt10shared_ptrIKNSM_18PriorityMapFactoryEE(ptr noundef nonnull align 8 dereferenceable(2536) %this, ptr noundef nonnull align 8 dereferenceable(16) %wheelTimer, ptr noundef nonnull align 8 dereferenceable(8) %sock, ptr noundef nonnull align 8 dereferenceable(27) %localAddr, ptr noundef nonnull align 8 dereferenceable(27) %peerAddr, ptr noundef %codec, ptr noundef nonnull align 8 dereferenceable(744) %tinfo, ptr noundef %infoCallback, i8 noundef zeroext %maxVirtualPri, ptr noundef %priorityMapFactory) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %comb.i.i = alloca %"class.google::base::CheckOpMessageBuilder", align 8
  %agg.tmp = alloca %"class.std::unique_ptr", align 8
  %agg.tmp2 = alloca %"class.std::unique_ptr.214", align 8
  %_result = alloca %"struct.google::CheckOpString", align 8
  %ref.tmp38 = alloca %"class.google::LogMessageFatal", align 8
  %0 = load i64, ptr %sock, align 8
  store i64 %0, ptr %agg.tmp, align 8
  store ptr null, ptr %sock, align 8
  %1 = load i64, ptr %codec, align 8
  store i64 %1, ptr %agg.tmp2, align 8
  store ptr null, ptr %codec, align 8
  invoke void @_ZN8proxygen11HTTPSessionC2ERKNS_18WheelTimerInstanceESt10unique_ptrIN5folly14AsyncTransportENS5_18DelayedDestruction10DestructorEERKNS5_13SocketAddressESC_PNS_21HTTPSessionControllerES4_INS_9HTTPCodecESt14default_deleteISF_EERKN6wangle13TransportInfoEPNS_15HTTPSessionBase12InfoCallbackE(ptr noundef nonnull align 8 dereferenceable(2504) %this, ptr noundef nonnull align 8 dereferenceable(16) %wheelTimer, ptr noundef nonnull %agg.tmp, ptr noundef nonnull align 8 dereferenceable(27) %localAddr, ptr noundef nonnull align 8 dereferenceable(27) %peerAddr, ptr noundef null, ptr noundef nonnull %agg.tmp2, ptr noundef nonnull align 8 dereferenceable(744) %tinfo, ptr noundef %infoCallback)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  %2 = load ptr, ptr %agg.tmp2, align 8
  %cmp.not.i = icmp eq ptr %2, null
  br i1 %cmp.not.i, label %_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit, label %_ZNKSt14default_deleteIN8proxygen9HTTPCodecEEclEPS1_.exit.i

_ZNKSt14default_deleteIN8proxygen9HTTPCodecEEclEPS1_.exit.i: ; preds = %invoke.cont
  %vtable.i.i = load ptr, ptr %2, align 8
  %vfn.i.i = getelementptr inbounds ptr, ptr %vtable.i.i, i64 1
  %3 = load ptr, ptr %vfn.i.i, align 8
  call void %3(ptr noundef nonnull align 8 dereferenceable(8) %2) #28
  br label %_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit: ; preds = %invoke.cont, %_ZNKSt14default_deleteIN8proxygen9HTTPCodecEEclEPS1_.exit.i
  store ptr null, ptr %agg.tmp2, align 8
  %4 = load ptr, ptr %agg.tmp, align 8
  %cmp.not.i3 = icmp eq ptr %4, null
  br i1 %cmp.not.i3, label %_ZNSt10unique_ptrIN5folly14AsyncTransportENS0_18DelayedDestruction10DestructorEED2Ev.exit, label %if.then.i

if.then.i:                                        ; preds = %_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit
  %vtable.i.i4 = load ptr, ptr %4, align 8
  %vfn.i.i5 = getelementptr inbounds ptr, ptr %vtable.i.i4, i64 3
  %5 = load ptr, ptr %vfn.i.i5, align 8
  invoke void %5(ptr noundef nonnull align 8 dereferenceable(13) %4)
          to label %_ZNSt10unique_ptrIN5folly14AsyncTransportENS0_18DelayedDestruction10DestructorEED2Ev.exit unwind label %terminate.lpad.i

terminate.lpad.i:                                 ; preds = %if.then.i
  %6 = landingpad { ptr, i32 }
          catch ptr null
  %7 = extractvalue { ptr, i32 } %6, 0
  call void @__clang_call_terminate(ptr %7) #30
  unreachable

_ZNSt10unique_ptrIN5folly14AsyncTransportENS0_18DelayedDestruction10DestructorEED2Ev.exit: ; preds = %_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit, %if.then.i
  store ptr null, ptr %agg.tmp, align 8
  store ptr getelementptr inbounds ({ [138 x ptr], [6 x ptr], [58 x ptr], [7 x ptr], [6 x ptr], [5 x ptr], [6 x ptr], [32 x ptr], [5 x ptr], [15 x ptr], [5 x ptr], [8 x ptr] }, ptr @_ZTVN8proxygen19HTTPUpstreamSessionE, i64 0, inrange i32 0, i64 2), ptr %this, align 8
  %add.ptr = getelementptr inbounds i8, ptr %this, i64 64
  store ptr getelementptr inbounds ({ [138 x ptr], [6 x ptr], [58 x ptr], [7 x ptr], [6 x ptr], [5 x ptr], [6 x ptr], [32 x ptr], [5 x ptr], [15 x ptr], [5 x ptr], [8 x ptr] }, ptr @_ZTVN8proxygen19HTTPUpstreamSessionE, i64 0, inrange i32 1, i64 2), ptr %add.ptr, align 8
  %add.ptr3 = getelementptr inbounds i8, ptr %this, i64 1584
  store ptr getelementptr inbounds ({ [138 x ptr], [6 x ptr], [58 x ptr], [7 x ptr], [6 x ptr], [5 x ptr], [6 x ptr], [32 x ptr], [5 x ptr], [15 x ptr], [5 x ptr], [8 x ptr] }, ptr @_ZTVN8proxygen19HTTPUpstreamSessionE, i64 0, inrange i32 2, i64 2), ptr %add.ptr3, align 8
  %add.ptr4 = getelementptr inbounds i8, ptr %this, i64 1592
  store ptr getelementptr inbounds ({ [138 x ptr], [6 x ptr], [58 x ptr], [7 x ptr], [6 x ptr], [5 x ptr], [6 x ptr], [32 x ptr], [5 x ptr], [15 x ptr], [5 x ptr], [8 x ptr] }, ptr @_ZTVN8proxygen19HTTPUpstreamSessionE, i64 0, inrange i32 3, i64 2), ptr %add.ptr4, align 8
  %add.ptr5 = getelementptr inbounds i8, ptr %this, i64 1600
  store ptr getelementptr inbounds ({ [138 x ptr], [6 x ptr], [58 x ptr], [7 x ptr], [6 x ptr], [5 x ptr], [6 x ptr], [32 x ptr], [5 x ptr], [15 x ptr], [5 x ptr], [8 x ptr] }, ptr @_ZTVN8proxygen19HTTPUpstreamSessionE, i64 0, inrange i32 4, i64 2), ptr %add.ptr5, align 8
  %add.ptr6 = getelementptr inbounds i8, ptr %this, i64 1608
  store ptr getelementptr inbounds ({ [138 x ptr], [6 x ptr], [58 x ptr], [7 x ptr], [6 x ptr], [5 x ptr], [6 x ptr], [32 x ptr], [5 x ptr], [15 x ptr], [5 x ptr], [8 x ptr] }, ptr @_ZTVN8proxygen19HTTPUpstreamSessionE, i64 0, inrange i32 5, i64 2), ptr %add.ptr6, align 8
  %add.ptr7 = getelementptr inbounds i8, ptr %this, i64 1616
  store ptr getelementptr inbounds ({ [138 x ptr], [6 x ptr], [58 x ptr], [7 x ptr], [6 x ptr], [5 x ptr], [6 x ptr], [32 x ptr], [5 x ptr], [15 x ptr], [5 x ptr], [8 x ptr] }, ptr @_ZTVN8proxygen19HTTPUpstreamSessionE, i64 0, inrange i32 6, i64 2), ptr %add.ptr7, align 8
  %add.ptr8 = getelementptr inbounds i8, ptr %this, i64 1624
  store ptr getelementptr inbounds ({ [138 x ptr], [6 x ptr], [58 x ptr], [7 x ptr], [6 x ptr], [5 x ptr], [6 x ptr], [32 x ptr], [5 x ptr], [15 x ptr], [5 x ptr], [8 x ptr] }, ptr @_ZTVN8proxygen19HTTPUpstreamSessionE, i64 0, inrange i32 7, i64 2), ptr %add.ptr8, align 8
  %add.ptr9 = getelementptr inbounds i8, ptr %this, i64 1632
  store ptr getelementptr inbounds ({ [138 x ptr], [6 x ptr], [58 x ptr], [7 x ptr], [6 x ptr], [5 x ptr], [6 x ptr], [32 x ptr], [5 x ptr], [15 x ptr], [5 x ptr], [8 x ptr] }, ptr @_ZTVN8proxygen19HTTPUpstreamSessionE, i64 0, inrange i32 8, i64 2), ptr %add.ptr9, align 8
  %add.ptr10 = getelementptr inbounds i8, ptr %this, i64 1672
  store ptr getelementptr inbounds ({ [138 x ptr], [6 x ptr], [58 x ptr], [7 x ptr], [6 x ptr], [5 x ptr], [6 x ptr], [32 x ptr], [5 x ptr], [15 x ptr], [5 x ptr], [8 x ptr] }, ptr @_ZTVN8proxygen19HTTPUpstreamSessionE, i64 0, inrange i32 9, i64 2), ptr %add.ptr10, align 8
  %add.ptr11 = getelementptr inbounds i8, ptr %this, i64 1688
  store ptr getelementptr inbounds ({ [138 x ptr], [6 x ptr], [58 x ptr], [7 x ptr], [6 x ptr], [5 x ptr], [6 x ptr], [32 x ptr], [5 x ptr], [15 x ptr], [5 x ptr], [8 x ptr] }, ptr @_ZTVN8proxygen19HTTPUpstreamSessionE, i64 0, inrange i32 10, i64 2), ptr %add.ptr11, align 8
  %add.ptr12 = getelementptr inbounds i8, ptr %this, i64 1696
  store ptr getelementptr inbounds ({ [138 x ptr], [6 x ptr], [58 x ptr], [7 x ptr], [6 x ptr], [5 x ptr], [6 x ptr], [32 x ptr], [5 x ptr], [15 x ptr], [5 x ptr], [8 x ptr] }, ptr @_ZTVN8proxygen19HTTPUpstreamSessionE, i64 0, inrange i32 11, i64 2), ptr %add.ptr12, align 8
  %maxVirtualPriorityLevel_ = getelementptr inbounds %"class.proxygen::HTTPUpstreamSession", ptr %this, i64 0, i32 1
  %8 = load ptr, ptr %priorityMapFactory, align 8
  %cmp.i.not = icmp eq ptr %8, null
  %conv13 = select i1 %cmp.i.not, i8 %maxVirtualPri, i8 0
  store i8 %conv13, ptr %maxVirtualPriorityLevel_, align 8
  %priorityMapFactory_ = getelementptr inbounds %"class.proxygen::HTTPUpstreamSession", ptr %this, i64 0, i32 2
  %9 = load ptr, ptr %priorityMapFactory, align 8
  store ptr %9, ptr %priorityMapFactory_, align 8
  %_M_refcount.i.i = getelementptr inbounds %"class.proxygen::HTTPUpstreamSession", ptr %this, i64 0, i32 2, i32 0, i32 1
  %_M_refcount3.i.i = getelementptr inbounds %"class.std::__shared_ptr.313", ptr %priorityMapFactory, i64 0, i32 1
  %10 = load ptr, ptr %_M_refcount3.i.i, align 8
  store ptr %10, ptr %_M_refcount.i.i, align 8
  %cmp.not.i.i.i = icmp eq ptr %10, null
  br i1 %cmp.not.i.i.i, label %_ZNSt10shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryEEC2ERKS4_.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %_ZNSt10unique_ptrIN5folly14AsyncTransportENS0_18DelayedDestruction10DestructorEED2Ev.exit
  %_M_use_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %10, i64 0, i32 1
  %11 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.i.not.i.i.i.i = icmp eq i8 %11, 0
  br i1 %tobool.i.i.not.i.i.i.i, label %if.else.i.i.i.i.i, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.then.i.i.i
  %12 = load i32, ptr %_M_use_count.i.i.i.i, align 4
  %add.i.i.i.i.i = add nsw i32 %12, 1
  store i32 %add.i.i.i.i.i, ptr %_M_use_count.i.i.i.i, align 4
  br label %_ZNSt10shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryEEC2ERKS4_.exit

if.else.i.i.i.i.i:                                ; preds = %if.then.i.i.i
  %13 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i, i32 1 acq_rel, align 4
  br label %_ZNSt10shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryEEC2ERKS4_.exit

_ZNSt10shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryEEC2ERKS4_.exit: ; preds = %_ZNSt10unique_ptrIN5folly14AsyncTransportENS0_18DelayedDestruction10DestructorEED2Ev.exit, %if.then.i.i.i.i.i, %if.else.i.i.i.i.i
  %priorityAdapter_ = getelementptr inbounds %"class.proxygen::HTTPUpstreamSession", ptr %this, i64 0, i32 3
  store ptr null, ptr %priorityAdapter_, align 8
  %sock_ = getelementptr inbounds %"class.proxygen::HTTPSession", ptr %this, i64 0, i32 18
  %14 = load ptr, ptr %sock_, align 8
  %cmp.i6.not = icmp eq ptr %14, null
  br i1 %cmp.i6.not, label %invoke.cont24, label %dynamic_cast.notnull.i.i

dynamic_cast.notnull.i.i:                         ; preds = %_ZNSt10shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryEEC2ERKS4_.exit, %call.i.i.noexc
  %current.04.i.i = phi ptr [ %call.i.i9, %call.i.i.noexc ], [ %14, %_ZNSt10shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryEEC2ERKS4_.exit ]
  %15 = call ptr @__dynamic_cast(ptr nonnull %current.04.i.i, ptr nonnull @_ZTIN5folly14AsyncTransportE, ptr nonnull @_ZTIN5folly11AsyncSocketE, i64 0) #28
  %tobool2.not.i.i = icmp eq ptr %15, null
  br i1 %tobool2.not.i.i, label %if.end.i.i, label %if.then20

if.end.i.i:                                       ; preds = %dynamic_cast.notnull.i.i
  %vtable.i.i7 = load ptr, ptr %current.04.i.i, align 8
  %vfn.i.i8 = getelementptr inbounds ptr, ptr %vtable.i.i7, i64 41
  %16 = load ptr, ptr %vfn.i.i8, align 8
  %call.i.i9 = invoke noundef ptr %16(ptr noundef nonnull align 8 dereferenceable(48) %current.04.i.i)
          to label %call.i.i.noexc unwind label %lpad17.loopexit

call.i.i.noexc:                                   ; preds = %if.end.i.i
  %tobool.not.i.i = icmp eq ptr %call.i.i9, null
  br i1 %tobool.not.i.i, label %invoke.cont24, label %dynamic_cast.notnull.i.i, !llvm.loop !21

if.then20:                                        ; preds = %dynamic_cast.notnull.i.i
  invoke void @_ZN5folly11AsyncSocket17setBufferCallbackEPNS_14AsyncTransport14BufferCallbackE(ptr noundef nonnull align 8 dereferenceable(1113) %15, ptr noundef nonnull %add.ptr5)
          to label %invoke.cont24 unwind label %lpad17.loopexit.split-lp

lpad:                                             ; preds = %entry
  %17 = landingpad { ptr, i32 }
          cleanup
  %18 = load ptr, ptr %agg.tmp2, align 8
  %cmp.not.i10 = icmp eq ptr %18, null
  br i1 %cmp.not.i10, label %_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit14, label %_ZNKSt14default_deleteIN8proxygen9HTTPCodecEEclEPS1_.exit.i11

_ZNKSt14default_deleteIN8proxygen9HTTPCodecEEclEPS1_.exit.i11: ; preds = %lpad
  %vtable.i.i12 = load ptr, ptr %18, align 8
  %vfn.i.i13 = getelementptr inbounds ptr, ptr %vtable.i.i12, i64 1
  %19 = load ptr, ptr %vfn.i.i13, align 8
  call void %19(ptr noundef nonnull align 8 dereferenceable(8) %18) #28
  br label %_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit14

_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit14: ; preds = %lpad, %_ZNKSt14default_deleteIN8proxygen9HTTPCodecEEclEPS1_.exit.i11
  store ptr null, ptr %agg.tmp2, align 8
  %20 = load ptr, ptr %agg.tmp, align 8
  %cmp.not.i15 = icmp eq ptr %20, null
  br i1 %cmp.not.i15, label %eh.resume, label %if.then.i16

if.then.i16:                                      ; preds = %_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit14
  %vtable.i.i17 = load ptr, ptr %20, align 8
  %vfn.i.i18 = getelementptr inbounds ptr, ptr %vtable.i.i17, i64 3
  %21 = load ptr, ptr %vfn.i.i18, align 8
  invoke void %21(ptr noundef nonnull align 8 dereferenceable(13) %20)
          to label %eh.resume unwind label %terminate.lpad.i19

terminate.lpad.i19:                               ; preds = %if.then.i16
  %22 = landingpad { ptr, i32 }
          catch ptr null
  %23 = extractvalue { ptr, i32 } %22, 0
  call void @__clang_call_terminate(ptr %23) #30
  unreachable

lpad17.loopexit:                                  ; preds = %if.end.i.i
  %lpad.loopexit = landingpad { ptr, i32 }
          cleanup
  br label %lpad17.body

lpad17.loopexit.split-lp:                         ; preds = %if.then20, %invoke.cont24, %while.body, %if.else.i
  %lpad.loopexit.split-lp = landingpad { ptr, i32 }
          cleanup
  br label %lpad17.body

lpad17.body:                                      ; preds = %lpad17.loopexit, %lpad17.loopexit.split-lp, %lpad.i.i
  %eh.lpad-body = phi { ptr, i32 } [ %29, %lpad.i.i ], [ %lpad.loopexit, %lpad17.loopexit ], [ %lpad.loopexit.split-lp, %lpad17.loopexit.split-lp ]
  %24 = load ptr, ptr %priorityAdapter_, align 8
  %cmp.not.i21 = icmp eq ptr %24, null
  br i1 %cmp.not.i21, label %_ZNSt10unique_ptrIN8proxygen15HTTPSessionBase15PriorityAdapterESt14default_deleteIS2_EED2Ev.exit, label %_ZNKSt14default_deleteIN8proxygen15HTTPSessionBase15PriorityAdapterEEclEPS2_.exit.i

_ZNKSt14default_deleteIN8proxygen15HTTPSessionBase15PriorityAdapterEEclEPS2_.exit.i: ; preds = %lpad17.body
  %vtable.i.i22 = load ptr, ptr %24, align 8
  %vfn.i.i23 = getelementptr inbounds ptr, ptr %vtable.i.i22, i64 2
  %25 = load ptr, ptr %vfn.i.i23, align 8
  call void %25(ptr noundef nonnull align 8 dereferenceable(8) %24) #28
  br label %_ZNSt10unique_ptrIN8proxygen15HTTPSessionBase15PriorityAdapterESt14default_deleteIS2_EED2Ev.exit

_ZNSt10unique_ptrIN8proxygen15HTTPSessionBase15PriorityAdapterESt14default_deleteIS2_EED2Ev.exit: ; preds = %lpad17.body, %_ZNKSt14default_deleteIN8proxygen15HTTPSessionBase15PriorityAdapterEEclEPS2_.exit.i
  store ptr null, ptr %priorityAdapter_, align 8
  call void @_ZNSt10shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryEED2Ev(ptr noundef nonnull align 8 dereferenceable(16) %priorityMapFactory_) #28
  call void @_ZN8proxygen11HTTPSessionD2Ev(ptr noundef nonnull align 8 dereferenceable(2504) %this) #28
  br label %eh.resume

invoke.cont24:                                    ; preds = %call.i.i.noexc, %if.then20, %_ZNSt10shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryEEC2ERKS4_.exit
  %call_.i.i = getelementptr inbounds %"class.proxygen::HTTPSessionBase", ptr %this, i64 0, i32 4, i32 0, i32 0, i32 4
  %26 = load ptr, ptr %call_.i.i, align 8
  %vtable = load ptr, ptr %26, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 5
  %27 = load ptr, ptr %vfn, align 8
  %call27 = invoke noundef zeroext i8 %27(ptr noundef nonnull align 8 dereferenceable(8) %26)
          to label %invoke.cont26 unwind label %lpad17.loopexit.split-lp

invoke.cont26:                                    ; preds = %invoke.cont24
  %cmp.i24 = icmp eq i8 %call27, 1
  br i1 %cmp.i24, label %while.end, label %if.else.i

if.else.i:                                        ; preds = %invoke.cont26
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %comb.i.i)
  invoke void @_ZN6google4base21CheckOpMessageBuilderC1EPKc(ptr noundef nonnull align 8 dereferenceable(8) %comb.i.i, ptr noundef nonnull @.str.3)
          to label %.noexc unwind label %lpad17.loopexit.split-lp

.noexc:                                           ; preds = %if.else.i
  %28 = load ptr, ptr %comb.i.i, align 8
  %call.i1.i.i = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZN8proxygenlsERSoNS_18TransportDirectionE(ptr noundef nonnull align 8 dereferenceable(8) %28, i8 noundef zeroext %call27)
          to label %invoke.cont1.i.i unwind label %lpad.i.i

invoke.cont1.i.i:                                 ; preds = %.noexc
  %call3.i.i = invoke noundef ptr @_ZN6google4base21CheckOpMessageBuilder7ForVar2Ev(ptr noundef nonnull align 8 dereferenceable(8) %comb.i.i)
          to label %invoke.cont2.i.i unwind label %lpad.i.i

invoke.cont2.i.i:                                 ; preds = %invoke.cont1.i.i
  %call.i2.i.i = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZN8proxygenlsERSoNS_18TransportDirectionE(ptr noundef nonnull align 8 dereferenceable(8) %call3.i.i, i8 noundef zeroext 1)
          to label %invoke.cont4.i.i unwind label %lpad.i.i

invoke.cont4.i.i:                                 ; preds = %invoke.cont2.i.i
  %call6.i.i = invoke noundef ptr @_ZN6google4base21CheckOpMessageBuilder9NewStringB5cxx11Ev(ptr noundef nonnull align 8 dereferenceable(8) %comb.i.i)
          to label %invoke.cont33 unwind label %lpad.i.i

lpad.i.i:                                         ; preds = %invoke.cont4.i.i, %invoke.cont2.i.i, %invoke.cont1.i.i, %.noexc
  %29 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN6google4base21CheckOpMessageBuilderD1Ev(ptr noundef nonnull align 8 dereferenceable(8) %comb.i.i) #28
  br label %lpad17.body

invoke.cont33:                                    ; preds = %invoke.cont4.i.i
  call void @_ZN6google4base21CheckOpMessageBuilderD1Ev(ptr noundef nonnull align 8 dereferenceable(8) %comb.i.i) #28
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %comb.i.i)
  store ptr %call6.i.i, ptr %_result, align 8
  %cmp.i25.not = icmp eq ptr %call6.i.i, null
  br i1 %cmp.i25.not, label %while.end, label %while.body

while.body:                                       ; preds = %invoke.cont33
  invoke void @_ZN6google15LogMessageFatalC1EPKciRKNS_13CheckOpStringE(ptr noundef nonnull align 8 dereferenceable(96) %ref.tmp38, ptr noundef nonnull @.str.4, i32 noundef 61, ptr noundef nonnull align 8 dereferenceable(8) %_result)
          to label %invoke.cont39 unwind label %lpad17.loopexit.split-lp

invoke.cont39:                                    ; preds = %while.body
  %call42 = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZN6google10LogMessage6streamEv(ptr noundef nonnull align 8 dereferenceable(96) %ref.tmp38)
          to label %invoke.cont41 unwind label %lpad40

invoke.cont41:                                    ; preds = %invoke.cont39
  call void @_ZN6google15LogMessageFatalD1Ev(ptr noundef nonnull align 8 dereferenceable(96) %ref.tmp38) #30
  unreachable

lpad40:                                           ; preds = %invoke.cont39
  %30 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN6google15LogMessageFatalD1Ev(ptr noundef nonnull align 8 dereferenceable(96) %ref.tmp38) #30
  unreachable

while.end:                                        ; preds = %invoke.cont26, %invoke.cont33
  ret void

eh.resume:                                        ; preds = %if.then.i16, %_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit14, %_ZNSt10unique_ptrIN8proxygen15HTTPSessionBase15PriorityAdapterESt14default_deleteIS2_EED2Ev.exit
  %.pn = phi { ptr, i32 } [ %eh.lpad-body, %_ZNSt10unique_ptrIN8proxygen15HTTPSessionBase15PriorityAdapterESt14default_deleteIS2_EED2Ev.exit ], [ %17, %_ZNSt10unique_ptrIN8proxygen9HTTPCodecESt14default_deleteIS1_EED2Ev.exit14 ], [ %17, %if.then.i16 ]
  resume { ptr, i32 } %.pn
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt10shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryEED2Ev(ptr noundef nonnull align 8 dereferenceable(16) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %_M_refcount.i = getelementptr inbounds %"class.std::__shared_ptr.313", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %_M_refcount.i, align 8
  %cmp.not.i.i = icmp eq ptr %0, null
  br i1 %cmp.not.i.i, label %_ZNSt12__shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %entry
  %_M_use_count.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 1
  %1 = load atomic i64, ptr %_M_use_count.i.i.i acquire, align 8
  %cmp.i.i.i = icmp eq i64 %1, 4294967297
  %2 = trunc i64 %1 to i32
  br i1 %cmp.i.i.i, label %if.then.i.i.i, label %if.end.i.i.i

if.then.i.i.i:                                    ; preds = %if.then.i.i
  store i32 0, ptr %_M_use_count.i.i.i, align 8
  %_M_weak_count.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i, align 4
  %vtable.i.i.i = load ptr, ptr %0, align 8
  %vfn.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i, i64 2
  %3 = load ptr, ptr %vfn.i.i.i, align 8
  tail call void %3(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  br label %if.end8.sink.split.i.i.i

if.end.i.i.i:                                     ; preds = %if.then.i.i
  %4 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i = icmp eq i8 %4, 0
  br i1 %tobool.i.not.i.i.i, label %if.else.i.i.i.i, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %if.end.i.i.i
  %add.i.i.i.i = add nsw i32 %2, -1
  store i32 %add.i.i.i.i, ptr %_M_use_count.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i

if.else.i.i.i.i:                                  ; preds = %if.end.i.i.i
  %5 = atomicrmw volatile add ptr %_M_use_count.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i: ; preds = %if.else.i.i.i.i, %if.then.i.i.i.i
  %retval.i.0.i.i.i = phi i32 [ %2, %if.then.i.i.i.i ], [ %5, %if.else.i.i.i.i ]
  %cmp6.i.i.i = icmp eq i32 %retval.i.0.i.i.i, 1
  br i1 %cmp6.i.i.i, label %if.then7.i.i.i, label %_ZNSt12__shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit

if.then7.i.i.i:                                   ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i
  %vtable.i.i.i.i.i = load ptr, ptr %0, align 8
  %vfn.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i, i64 2
  %6 = load ptr, ptr %vfn.i.i.i.i.i, align 8
  tail call void %6(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  %_M_weak_count.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 2
  %7 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i = icmp eq i8 %7, 0
  br i1 %tobool.i.not.i.i.i.i.i, label %if.else.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i

if.then.i.i.i.i.i.i:                              ; preds = %if.then7.i.i.i
  %8 = load i32, ptr %_M_weak_count.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i = add nsw i32 %8, -1
  store i32 %add.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

if.else.i.i.i.i.i.i:                              ; preds = %if.then7.i.i.i
  %9 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i, %if.then.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i = phi i32 [ %8, %if.then.i.i.i.i.i.i ], [ %9, %if.else.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i, label %if.end8.sink.split.i.i.i, label %_ZNSt12__shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit

if.end8.sink.split.i.i.i:                         ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i, %if.then.i.i.i
  %vtable2.i.i.i.i.i = load ptr, ptr %0, align 8
  %vfn3.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i, i64 3
  %10 = load ptr, ptr %vfn3.i.i.i.i.i, align 8
  tail call void %10(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  br label %_ZNSt12__shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit

_ZNSt12__shared_ptrIKN8proxygen15HTTPSessionBase18PriorityMapFactoryELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit: ; preds = %entry, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i, %if.end8.sink.split.i.i.i
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN8proxygen21HTTPConnectorWithFizzD2Ev(ptr noundef nonnull align 8 dereferenceable(832) %this) unnamed_addr #6 comdat align 2 {
entry:
  tail call void @_ZN8proxygen13HTTPConnectorD2Ev(ptr noundef nonnull align 8 dereferenceable(832) %this) #28
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN8proxygen21HTTPConnectorWithFizzD0Ev(ptr noundef nonnull align 8 dereferenceable(832) %this) unnamed_addr #6 comdat align 2 {
entry:
  tail call void @_ZN8proxygen13HTTPConnectorD2Ev(ptr noundef nonnull align 8 dereferenceable(832) %this) #28
  tail call void @_ZdlPv(ptr noundef nonnull %this) #31
  ret void
}

; Function Attrs: nounwind
declare void @_ZN8proxygen13HTTPConnector10connectErrERKN5folly20AsyncSocketExceptionE(ptr noundef nonnull align 8 dereferenceable(832), ptr noundef nonnull align 8 dereferenceable(24)) unnamed_addr #1

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly20AsyncSocketTransport15ConnectCallback10preConnectENS_13NetworkSocketE(ptr noundef nonnull align 8 dereferenceable(8) %this, i32 %.coerce) unnamed_addr #6 comdat align 2 {
entry:
  ret void
}

; Function Attrs: nounwind
declare void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1Ev(ptr noundef nonnull align 8 dereferenceable(32)) unnamed_addr #1

; Function Attrs: cold mustprogress noreturn uwtable
define linkonce_odr void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() local_unnamed_addr #11 comdat personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp = alloca %"class.folly::OptionalEmptyException", align 8
  call void @_ZNSt13runtime_errorC2EPKc(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp, ptr noundef nonnull @.str.2)
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN5folly22OptionalEmptyExceptionE, i64 0, inrange i32 0, i64 2), ptr %ref.tmp, align 8
  invoke void @_ZN5folly15throw_exceptionINS_22OptionalEmptyExceptionEEEvOT_(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp) #32
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  unreachable

lpad:                                             ; preds = %entry
  %0 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp) #28
  resume { ptr, i32 } %0
}

; Function Attrs: cold mustprogress noreturn uwtable
define linkonce_odr void @_ZN5folly15throw_exceptionINS_22OptionalEmptyExceptionEEEvOT_(ptr noundef nonnull align 8 dereferenceable(16) %ex) local_unnamed_addr #11 comdat {
entry:
  %exception = tail call ptr @__cxa_allocate_exception(i64 16) #28
  tail call void @_ZN5folly22OptionalEmptyExceptionC2EOS0_(ptr noundef nonnull align 8 dereferenceable(16) %exception, ptr noundef nonnull align 8 dereferenceable(16) %ex) #28
  tail call void @__cxa_throw(ptr nonnull %exception, ptr nonnull @_ZTIN5folly22OptionalEmptyExceptionE, ptr nonnull @_ZN5folly22OptionalEmptyExceptionD2Ev) #33
  unreachable
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly22OptionalEmptyExceptionD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %this) unnamed_addr #6 comdat align 2 {
entry:
  tail call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %this) #28
  ret void
}

declare ptr @__cxa_allocate_exception(i64) local_unnamed_addr

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly22OptionalEmptyExceptionC2EOS0_(ptr noundef nonnull align 8 dereferenceable(16) %this, ptr noundef nonnull align 8 dereferenceable(16) %0) unnamed_addr #6 comdat align 2 {
entry:
  tail call void @_ZNSt13runtime_errorC2EOS_(ptr noundef nonnull align 8 dereferenceable(16) %this, ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN5folly22OptionalEmptyExceptionE, i64 0, inrange i32 0, i64 2), ptr %this, align 8
  ret void
}

declare void @__cxa_throw(ptr, ptr, ptr) local_unnamed_addr

; Function Attrs: nounwind
declare void @_ZNSt13runtime_errorC2EOS_(ptr noundef nonnull align 8 dereferenceable(16), ptr noundef nonnull align 8 dereferenceable(16)) unnamed_addr #1

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly22OptionalEmptyExceptionD0Ev(ptr noundef nonnull align 8 dereferenceable(16) %this) unnamed_addr #6 comdat align 2 {
entry:
  tail call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %this) #28
  tail call void @_ZdlPv(ptr noundef nonnull %this) #31
  ret void
}

; Function Attrs: nounwind
declare noundef ptr @_ZNKSt13runtime_error4whatEv(ptr noundef nonnull align 8 dereferenceable(16)) unnamed_addr #1

declare void @_ZNSt13runtime_errorC2EPKc(ptr noundef nonnull align 8 dereferenceable(16), ptr noundef) unnamed_addr #0

; Function Attrs: nounwind
declare void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16)) unnamed_addr #1

declare void @_ZN5folly9IPAddressC1Ev(ptr noundef nonnull align 4 dereferenceable(22)) unnamed_addr #0

declare void @_ZN8proxygen11HTTPSessionC2ERKNS_18WheelTimerInstanceESt10unique_ptrIN5folly14AsyncTransportENS5_18DelayedDestruction10DestructorEERKNS5_13SocketAddressESC_PNS_21HTTPSessionControllerES4_INS_9HTTPCodecESt14default_deleteISF_EERKN6wangle13TransportInfoEPNS_15HTTPSessionBase12InfoCallbackE(ptr noundef nonnull align 8 dereferenceable(2504), ptr noundef nonnull align 8 dereferenceable(16), ptr noundef, ptr noundef nonnull align 8 dereferenceable(27), ptr noundef nonnull align 8 dereferenceable(27), ptr noundef, ptr noundef, ptr noundef nonnull align 8 dereferenceable(744), ptr noundef) unnamed_addr #0

declare void @_ZN5folly11AsyncSocket17setBufferCallbackEPNS_14AsyncTransport14BufferCallbackE(ptr noundef nonnull align 8 dereferenceable(1113), ptr noundef) local_unnamed_addr #0

declare void @_ZN6google15LogMessageFatalC1EPKciRKNS_13CheckOpStringE(ptr noundef nonnull align 8 dereferenceable(96), ptr noundef, i32 noundef, ptr noundef nonnull align 8 dereferenceable(8)) unnamed_addr #0

; Function Attrs: nounwind
declare void @_ZN8proxygen11HTTPSessionD2Ev(ptr noundef nonnull align 8 dereferenceable(2504)) unnamed_addr #1

; Function Attrs: nofree nounwind memory(read)
declare ptr @__dynamic_cast(ptr, ptr, ptr, i64) local_unnamed_addr #12

declare void @_ZN6google4base21CheckOpMessageBuilderC1EPKc(ptr noundef nonnull align 8 dereferenceable(8), ptr noundef) unnamed_addr #0

declare noundef ptr @_ZN6google4base21CheckOpMessageBuilder7ForVar2Ev(ptr noundef nonnull align 8 dereferenceable(8)) local_unnamed_addr #0

declare noundef ptr @_ZN6google4base21CheckOpMessageBuilder9NewStringB5cxx11Ev(ptr noundef nonnull align 8 dereferenceable(8)) local_unnamed_addr #0

; Function Attrs: nounwind
declare void @_ZN6google4base21CheckOpMessageBuilderD1Ev(ptr noundef nonnull align 8 dereferenceable(8)) unnamed_addr #1

declare noundef nonnull align 8 dereferenceable(8) ptr @_ZN8proxygenlsERSoNS_18TransportDirectionE(ptr noundef nonnull align 8 dereferenceable(8), i8 noundef zeroext) local_unnamed_addr #0

; Function Attrs: nounwind
declare void @_ZN8proxygen13HTTPConnectorD2Ev(ptr noundef nonnull align 8 dereferenceable(832)) unnamed_addr #1

; Function Attrs: nounwind
declare void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1EOS4_(ptr noundef nonnull align 8 dereferenceable(32), ptr noundef nonnull align 8 dereferenceable(32)) unnamed_addr #1

; Function Attrs: nounwind
declare i64 @_ZNSt6chrono3_V212steady_clock3nowEv() local_unnamed_addr #1

declare void @_ZN5folly11AsyncSocketC1EPNS_9EventBaseE(ptr noundef nonnull align 8 dereferenceable(1113), ptr noundef) unnamed_addr #0

declare void @_ZN4fizz13AsyncFizzBaseC2ESt10unique_ptrIN5folly14AsyncTransportENS2_18DelayedDestruction10DestructorEENS0_16TransportOptionsE(ptr noundef nonnull align 8 dereferenceable(576), ptr noundef, ptr noundef) unnamed_addr #0

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEED2Ev(ptr noundef nonnull align 8 dereferenceable(168) %this) unnamed_addr #6 comdat align 2 {
entry:
  %hasValue.i.i = getelementptr inbounds %"struct.folly::Optional<fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState>::StorageNonTriviallyDestructible", ptr %this, i64 0, i32 1
  %0 = load i8, ptr %hasValue.i.i, align 8
  %1 = and i8 %0, 1
  %tobool.not.i.i = icmp eq i8 %1, 0
  br i1 %tobool.not.i.i, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEE31StorageNonTriviallyDestructibleD2Ev.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %entry
  store i8 0, ptr %hasValue.i.i, align 8
  %pendingAppWrites.i.i.i = getelementptr inbounds %"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState", ptr %this, i64 0, i32 2
  tail call void @_ZNSt5dequeIN4fizz8AppWriteESaIS1_EED2Ev(ptr noundef nonnull align 8 dereferenceable(80) %pendingAppWrites.i.i.i) #28
  %resendBuffer.i.i.i = getelementptr inbounds %"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState", ptr %this, i64 0, i32 1
  tail call void @_ZN5folly10IOBufQueueD1Ev(ptr noundef nonnull align 8 dereferenceable(72) %resendBuffer.i.i.i) #28
  br label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEE31StorageNonTriviallyDestructibleD2Ev.exit

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEE31StorageNonTriviallyDestructibleD2Ev.exit: ; preds = %entry, %if.then.i.i
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_ED2Ev(ptr noundef nonnull align 8 dereferenceable(163) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_EE, i64 0, inrange i32 0, i64 2), ptr %this, align 8
  %actionGuard_.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 10
  %hasValue.i.i.i.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 10, i32 0, i32 1
  %0 = load i8, ptr %hasValue.i.i.i.i, align 8
  %1 = and i8 %0, 1
  %tobool.not.i.i.i.i = icmp eq i8 %1, 0
  br i1 %tobool.not.i.i.i.i, label %_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_ED2Ev.exit, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %entry
  store i8 0, ptr %hasValue.i.i.i.i, align 8
  %2 = load ptr, ptr %actionGuard_.i, align 8
  %cmp.not.i.i.i.i.i = icmp eq ptr %2, null
  br i1 %cmp.not.i.i.i.i.i, label %_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_ED2Ev.exit, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.then.i.i.i.i
  %guardCount_.i.i.i.i.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %2, i64 0, i32 1
  %3 = load i32, ptr %guardCount_.i.i.i.i.i, align 8
  %dec.i.i.i.i.i = add i32 %3, -1
  store i32 %dec.i.i.i.i.i, ptr %guardCount_.i.i.i.i.i, align 8
  %4 = load ptr, ptr %actionGuard_.i, align 8
  %guardCount_4.i.i.i.i.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %4, i64 0, i32 1
  %5 = load i32, ptr %guardCount_4.i.i.i.i.i, align 8
  %cmp5.i.i.i.i.i = icmp eq i32 %5, 0
  br i1 %cmp5.i.i.i.i.i, label %if.then6.i.i.i.i.i, label %_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_ED2Ev.exit

if.then6.i.i.i.i.i:                               ; preds = %if.then.i.i.i.i.i
  %vtable.i.i.i.i.i = load ptr, ptr %4, align 8
  %vfn.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i, i64 2
  %6 = load ptr, ptr %vfn.i.i.i.i.i, align 8
  invoke void %6(ptr noundef nonnull align 8 dereferenceable(12) %4, i1 noundef zeroext true)
          to label %_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_ED2Ev.exit unwind label %terminate.lpad.i.i.i.i.i

terminate.lpad.i.i.i.i.i:                         ; preds = %if.then6.i.i.i.i.i
  %7 = landingpad { ptr, i32 }
          catch ptr null
  %8 = extractvalue { ptr, i32 } %7, 0
  tail call void @__clang_call_terminate(ptr %8) #30
  unreachable

_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_ED2Ev.exit: ; preds = %entry, %if.then.i.i.i.i, %if.then.i.i.i.i.i, %if.then6.i.i.i.i.i
  %pendingEvents_.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7
  tail call void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EED2Ev(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_.i) #28
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz6client5StateD2Ev(ptr noundef nonnull align 8 dereferenceable(1096) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %_M_refcount.i.i = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 43, i32 0, i32 1
  %0 = load ptr, ptr %_M_refcount.i.i, align 8
  %cmp.not.i.i.i = icmp eq ptr %0, null
  br i1 %cmp.not.i.i.i, label %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %entry
  %_M_use_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 1
  %1 = load atomic i64, ptr %_M_use_count.i.i.i.i acquire, align 8
  %cmp.i.i.i.i = icmp eq i64 %1, 4294967297
  %2 = trunc i64 %1 to i32
  br i1 %cmp.i.i.i.i, label %if.then.i.i.i.i, label %if.end.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %if.then.i.i.i
  store i32 0, ptr %_M_use_count.i.i.i.i, align 8
  %_M_weak_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i, align 4
  %vtable.i.i.i.i = load ptr, ptr %0, align 8
  %vfn.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i, i64 2
  %3 = load ptr, ptr %vfn.i.i.i.i, align 8
  tail call void %3(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  br label %if.end8.sink.split.i.i.i.i

if.end.i.i.i.i:                                   ; preds = %if.then.i.i.i
  %4 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i = icmp eq i8 %4, 0
  br i1 %tobool.i.not.i.i.i.i, label %if.else.i.i.i.i.i, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %add.i.i.i.i.i = add nsw i32 %2, -1
  store i32 %add.i.i.i.i.i, ptr %_M_use_count.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

if.else.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %5 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i: ; preds = %if.else.i.i.i.i.i, %if.then.i.i.i.i.i
  %retval.i.0.i.i.i.i = phi i32 [ %2, %if.then.i.i.i.i.i ], [ %5, %if.else.i.i.i.i.i ]
  %cmp6.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i, label %if.then7.i.i.i.i, label %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit

if.then7.i.i.i.i:                                 ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i
  %vtable.i.i.i.i.i.i = load ptr, ptr %0, align 8
  %vfn.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i, i64 2
  %6 = load ptr, ptr %vfn.i.i.i.i.i.i, align 8
  tail call void %6(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  %_M_weak_count.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 2
  %7 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i = icmp eq i8 %7, 0
  br i1 %tobool.i.not.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %8 = load i32, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i.i = add nsw i32 %8, -1
  store i32 %add.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %9 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i = phi i32 [ %8, %if.then.i.i.i.i.i.i.i ], [ %9, %if.else.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i, label %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit

if.end8.sink.split.i.i.i.i:                       ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.then.i.i.i.i
  %vtable2.i.i.i.i.i.i = load ptr, ptr %0, align 8
  %vfn3.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i, i64 3
  %10 = load ptr, ptr %vfn3.i.i.i.i.i.i, align 8
  tail call void %10(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  br label %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit

_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit: ; preds = %entry, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.end8.sink.split.i.i.i.i
  %exporterMasterSecret_ = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 42
  %hasValue.i.i.i = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 42, i32 0, i32 1
  %11 = load i8, ptr %hasValue.i.i.i, align 8
  %12 = and i8 %11, 1
  %tobool.not.i.i.i = icmp eq i8 %12, 0
  br i1 %tobool.not.i.i.i, label %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit, label %if.then.i.i.i1

if.then.i.i.i1:                                   ; preds = %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit
  store i8 0, ptr %hasValue.i.i.i, align 8
  %13 = load ptr, ptr %exporterMasterSecret_, align 8
  %cmp.not.i.i.i.i = icmp eq ptr %13, null
  br i1 %cmp.not.i.i.i.i, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i: ; preds = %if.then.i.i.i1
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %13) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %13) #28
  br label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i, %if.then.i.i.i1
  store ptr null, ptr %exporterMasterSecret_, align 8
  br label %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit

_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit: ; preds = %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit, %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i
  %hasValue.i.i.i2 = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 41, i32 0, i32 1
  %14 = load i8, ptr %hasValue.i.i.i2, align 8
  %15 = and i8 %14, 1
  %tobool.not.i.i.i3 = icmp eq i8 %15, 0
  br i1 %tobool.not.i.i.i3, label %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit, label %if.then.i.i.i4

if.then.i.i.i4:                                   ; preds = %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit
  %attemptedPsk_ = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 41
  store i8 0, ptr %hasValue.i.i.i2, align 8
  tail call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %attemptedPsk_) #28
  br label %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit

_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit: ; preds = %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit, %if.then.i.i.i4
  %unverifiedCertChain_ = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 40
  tail call void @_ZN5folly8OptionalISt6vectorISt10shared_ptrIKN4fizz8PeerCertEESaIS6_EEE31StorageNonTriviallyDestructible5clearEv(ptr noundef nonnull align 8 dereferenceable(25) %unverifiedCertChain_)
  %resumptionSecret_ = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 39
  %hasValue.i.i.i5 = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 39, i32 0, i32 1
  %16 = load i8, ptr %hasValue.i.i.i5, align 8
  %17 = and i8 %16, 1
  %tobool.not.i.i.i6 = icmp eq i8 %17, 0
  br i1 %tobool.not.i.i.i6, label %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit11, label %if.then.i.i.i7

if.then.i.i.i7:                                   ; preds = %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit
  store i8 0, ptr %hasValue.i.i.i5, align 8
  %18 = load ptr, ptr %resumptionSecret_, align 8
  %cmp.not.i.i.i.i8 = icmp eq ptr %18, null
  br i1 %cmp.not.i.i.i.i8, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i10, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i9

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i9: ; preds = %if.then.i.i.i7
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %18) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %18) #28
  br label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i10

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i10: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i9, %if.then.i.i.i7
  store ptr null, ptr %resumptionSecret_, align 8
  br label %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit11

_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit11: ; preds = %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit, %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i10
  %serverHandshakeSecret_ = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 38
  %hasValue.i.i.i12 = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 38, i32 0, i32 1
  %19 = load i8, ptr %hasValue.i.i.i12, align 8
  %20 = and i8 %19, 1
  %tobool.not.i.i.i13 = icmp eq i8 %20, 0
  br i1 %tobool.not.i.i.i13, label %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit18, label %if.then.i.i.i14

if.then.i.i.i14:                                  ; preds = %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit11
  store i8 0, ptr %hasValue.i.i.i12, align 8
  %21 = load ptr, ptr %serverHandshakeSecret_, align 8
  %cmp.not.i.i.i.i15 = icmp eq ptr %21, null
  br i1 %cmp.not.i.i.i.i15, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i17, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i16

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i16: ; preds = %if.then.i.i.i14
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %21) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %21) #28
  br label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i17

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i17: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i16, %if.then.i.i.i14
  store ptr null, ptr %serverHandshakeSecret_, align 8
  br label %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit18

_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit18: ; preds = %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit11, %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i17
  %clientHandshakeSecret_ = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 37
  %hasValue.i.i.i19 = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 37, i32 0, i32 1
  %22 = load i8, ptr %hasValue.i.i.i19, align 8
  %23 = and i8 %22, 1
  %tobool.not.i.i.i20 = icmp eq i8 %23, 0
  br i1 %tobool.not.i.i.i20, label %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit25, label %if.then.i.i.i21

if.then.i.i.i21:                                  ; preds = %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit18
  store i8 0, ptr %hasValue.i.i.i19, align 8
  %24 = load ptr, ptr %clientHandshakeSecret_, align 8
  %cmp.not.i.i.i.i22 = icmp eq ptr %24, null
  br i1 %cmp.not.i.i.i.i22, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i24, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i23

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i23: ; preds = %if.then.i.i.i21
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %24) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %24) #28
  br label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i24

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i24: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i23, %if.then.i.i.i21
  store ptr null, ptr %clientHandshakeSecret_, align 8
  br label %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit25

_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit25: ; preds = %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit18, %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i24
  %hasValue.i.i.i26 = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 36, i32 0, i32 1
  %25 = load i8, ptr %hasValue.i.i.i26, align 8
  %26 = and i8 %25, 1
  %tobool.not.i.i.i27 = icmp eq i8 %26, 0
  br i1 %tobool.not.i.i.i27, label %_ZN5folly8OptionalISt6vectorIN4fizz13ExtensionTypeESaIS3_EEED2Ev.exit, label %if.then.i.i.i28

if.then.i.i.i28:                                  ; preds = %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit25
  %requestedExtensions_ = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 36
  store i8 0, ptr %hasValue.i.i.i26, align 8
  %27 = load ptr, ptr %requestedExtensions_, align 8
  %tobool.not.i.i.i.i.i.i = icmp eq ptr %27, null
  br i1 %tobool.not.i.i.i.i.i.i, label %_ZN5folly8OptionalISt6vectorIN4fizz13ExtensionTypeESaIS3_EEED2Ev.exit, label %if.then.i.i.i.i.i.i

if.then.i.i.i.i.i.i:                              ; preds = %if.then.i.i.i28
  tail call void @_ZdlPv(ptr noundef nonnull %27) #31
  br label %_ZN5folly8OptionalISt6vectorIN4fizz13ExtensionTypeESaIS3_EEED2Ev.exit

_ZN5folly8OptionalISt6vectorIN4fizz13ExtensionTypeESaIS3_EEED2Ev.exit: ; preds = %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit25, %if.then.i.i.i28, %if.then.i.i.i.i.i.i
  %hasValue.i.i.i29 = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 35, i32 0, i32 1
  %28 = load i8, ptr %hasValue.i.i.i29, align 8
  %29 = and i8 %28, 1
  %tobool.not.i.i.i30 = icmp eq i8 %29, 0
  br i1 %tobool.not.i.i.i30, label %_ZN5folly8OptionalISt3mapIN4fizz10NamedGroupESt10unique_ptrINS2_11KeyExchangeESt14default_deleteIS5_EESt4lessIS3_ESaISt4pairIKS3_S8_EEEED2Ev.exit, label %if.then.i.i.i31

if.then.i.i.i31:                                  ; preds = %_ZN5folly8OptionalISt6vectorIN4fizz13ExtensionTypeESaIS3_EEED2Ev.exit
  %keyExchangers_ = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 35
  store i8 0, ptr %hasValue.i.i.i29, align 8
  %_M_parent.i.i.i.i.i.i.i = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 35, i32 0, i32 0, i32 0, i32 0, i32 0, i32 1, i32 0, i32 1
  %30 = load ptr, ptr %_M_parent.i.i.i.i.i.i.i, align 8
  invoke void @_ZNSt8_Rb_treeIN4fizz10NamedGroupESt4pairIKS1_St10unique_ptrINS0_11KeyExchangeESt14default_deleteIS5_EEESt10_Select1stIS9_ESt4lessIS1_ESaIS9_EE8_M_eraseEPSt13_Rb_tree_nodeIS9_E(ptr noundef nonnull align 8 dereferenceable(48) %keyExchangers_, ptr noundef %30)
          to label %_ZN5folly8OptionalISt3mapIN4fizz10NamedGroupESt10unique_ptrINS2_11KeyExchangeESt14default_deleteIS5_EESt4lessIS3_ESaISt4pairIKS3_S8_EEEED2Ev.exit unwind label %terminate.lpad.i.i.i.i.i

terminate.lpad.i.i.i.i.i:                         ; preds = %if.then.i.i.i31
  %31 = landingpad { ptr, i32 }
          catch ptr null
  %32 = extractvalue { ptr, i32 } %31, 0
  tail call void @__clang_call_terminate(ptr %32) #30
  unreachable

_ZN5folly8OptionalISt3mapIN4fizz10NamedGroupESt10unique_ptrINS2_11KeyExchangeESt14default_deleteIS5_EESt4lessIS3_ESaISt4pairIKS3_S8_EEEED2Ev.exit: ; preds = %_ZN5folly8OptionalISt6vectorIN4fizz13ExtensionTypeESaIS3_EEED2Ev.exit, %if.then.i.i.i31
  %hasValue.i.i.i32 = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 34, i32 0, i32 1
  %33 = load i8, ptr %hasValue.i.i.i32, align 8
  %34 = and i8 %33, 1
  %tobool.not.i.i.i33 = icmp eq i8 %34, 0
  br i1 %tobool.not.i.i.i33, label %_ZN5folly8OptionalIN4fizz6client8ECHStateEED2Ev.exit, label %if.then.i.i.i34

if.then.i.i.i34:                                  ; preds = %_ZN5folly8OptionalISt3mapIN4fizz10NamedGroupESt10unique_ptrINS2_11KeyExchangeESt14default_deleteIS5_EESt4lessIS3_ESaISt4pairIKS3_S8_EEEED2Ev.exit
  %echState_ = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 34
  store i8 0, ptr %hasValue.i.i.i32, align 8
  tail call void @_ZN4fizz6client8ECHStateD2Ev(ptr noundef nonnull align 8 dereferenceable(224) %echState_) #28
  br label %_ZN5folly8OptionalIN4fizz6client8ECHStateEED2Ev.exit

_ZN5folly8OptionalIN4fizz6client8ECHStateEED2Ev.exit: ; preds = %_ZN5folly8OptionalISt3mapIN4fizz10NamedGroupESt10unique_ptrINS2_11KeyExchangeESt14default_deleteIS5_EESt4lessIS3_ESaISt4pairIKS3_S8_EEEED2Ev.exit, %if.then.i.i.i34
  %encodedClientHello_ = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 33
  %hasValue.i.i.i35 = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 33, i32 0, i32 1
  %35 = load i8, ptr %hasValue.i.i.i35, align 8
  %36 = and i8 %35, 1
  %tobool.not.i.i.i36 = icmp eq i8 %36, 0
  br i1 %tobool.not.i.i.i36, label %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit41, label %if.then.i.i.i37

if.then.i.i.i37:                                  ; preds = %_ZN5folly8OptionalIN4fizz6client8ECHStateEED2Ev.exit
  store i8 0, ptr %hasValue.i.i.i35, align 8
  %37 = load ptr, ptr %encodedClientHello_, align 8
  %cmp.not.i.i.i.i38 = icmp eq ptr %37, null
  br i1 %cmp.not.i.i.i.i38, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i40, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i39

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i39: ; preds = %if.then.i.i.i37
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %37) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %37) #28
  br label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i40

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i40: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i39, %if.then.i.i.i37
  store ptr null, ptr %encodedClientHello_, align 8
  br label %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit41

_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit41: ; preds = %_ZN5folly8OptionalIN4fizz6client8ECHStateEED2Ev.exit, %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i40
  %legacySessionId_ = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 30
  %hasValue.i.i.i42 = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 30, i32 0, i32 1
  %38 = load i8, ptr %hasValue.i.i.i42, align 8
  %39 = and i8 %38, 1
  %tobool.not.i.i.i43 = icmp eq i8 %39, 0
  br i1 %tobool.not.i.i.i43, label %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit48, label %if.then.i.i.i44

if.then.i.i.i44:                                  ; preds = %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit41
  store i8 0, ptr %hasValue.i.i.i42, align 8
  %40 = load ptr, ptr %legacySessionId_, align 8
  %cmp.not.i.i.i.i45 = icmp eq ptr %40, null
  br i1 %cmp.not.i.i.i.i45, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i47, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i46

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i46: ; preds = %if.then.i.i.i44
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %40) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %40) #28
  br label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i47

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i47: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i46, %if.then.i.i.i44
  store ptr null, ptr %legacySessionId_, align 8
  br label %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit48

_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit48: ; preds = %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit41, %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit.i.i.i47
  %hasValue.i.i.i49 = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 27, i32 0, i32 1
  %41 = load i8, ptr %hasValue.i.i.i49, align 8
  %42 = and i8 %41, 1
  %tobool.not.i.i.i50 = icmp eq i8 %42, 0
  br i1 %tobool.not.i.i.i50, label %_ZN5folly8OptionalIN4fizz6client15EarlyDataParamsEED2Ev.exit, label %if.then.i.i.i51

if.then.i.i.i51:                                  ; preds = %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit48
  %earlyDataParams_ = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 27
  store i8 0, ptr %hasValue.i.i.i49, align 8
  tail call void @_ZN4fizz6client15EarlyDataParamsD2Ev(ptr noundef nonnull align 8 dereferenceable(88) %earlyDataParams_) #28
  br label %_ZN5folly8OptionalIN4fizz6client15EarlyDataParamsEED2Ev.exit

_ZN5folly8OptionalIN4fizz6client15EarlyDataParamsEED2Ev.exit: ; preds = %_ZN5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEED2Ev.exit48, %if.then.i.i.i51
  %hasValue.i.i.i52 = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 23, i32 0, i32 1
  %43 = load i8, ptr %hasValue.i.i.i52, align 8
  %44 = and i8 %43, 1
  %tobool.not.i.i.i53 = icmp eq i8 %44, 0
  br i1 %tobool.not.i.i.i53, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, label %if.then.i.i.i54

if.then.i.i.i54:                                  ; preds = %_ZN5folly8OptionalIN4fizz6client15EarlyDataParamsEED2Ev.exit
  %sni_ = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 23
  store i8 0, ptr %hasValue.i.i.i52, align 8
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %sni_) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit: ; preds = %_ZN5folly8OptionalIN4fizz6client15EarlyDataParamsEED2Ev.exit, %if.then.i.i.i54
  %hasValue.i.i.i55 = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 22, i32 0, i32 1
  %45 = load i8, ptr %hasValue.i.i.i55, align 8
  %46 = and i8 %45, 1
  %tobool.not.i.i.i56 = icmp eq i8 %46, 0
  br i1 %tobool.not.i.i.i56, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit58, label %if.then.i.i.i57

if.then.i.i.i57:                                  ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit
  %alpn_ = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 22
  store i8 0, ptr %hasValue.i.i.i55, align 8
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %alpn_) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit58

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit58: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, %if.then.i.i.i57
  %_M_refcount.i.i59 = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 10, i32 0, i32 1
  %47 = load ptr, ptr %_M_refcount.i.i59, align 8
  %cmp.not.i.i.i60 = icmp eq ptr %47, null
  br i1 %cmp.not.i.i.i60, label %_ZNSt10shared_ptrIKN4fizz8SelfCertEED2Ev.exit, label %if.then.i.i.i61

if.then.i.i.i61:                                  ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit58
  %_M_use_count.i.i.i.i62 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %47, i64 0, i32 1
  %48 = load atomic i64, ptr %_M_use_count.i.i.i.i62 acquire, align 8
  %cmp.i.i.i.i63 = icmp eq i64 %48, 4294967297
  %49 = trunc i64 %48 to i32
  br i1 %cmp.i.i.i.i63, label %if.then.i.i.i.i86, label %if.end.i.i.i.i64

if.then.i.i.i.i86:                                ; preds = %if.then.i.i.i61
  store i32 0, ptr %_M_use_count.i.i.i.i62, align 8
  %_M_weak_count.i.i.i.i87 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %47, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i87, align 4
  %vtable.i.i.i.i88 = load ptr, ptr %47, align 8
  %vfn.i.i.i.i89 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i88, i64 2
  %50 = load ptr, ptr %vfn.i.i.i.i89, align 8
  tail call void %50(ptr noundef nonnull align 8 dereferenceable(16) %47) #28
  br label %if.end8.sink.split.i.i.i.i81

if.end.i.i.i.i64:                                 ; preds = %if.then.i.i.i61
  %51 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i65 = icmp eq i8 %51, 0
  br i1 %tobool.i.not.i.i.i.i65, label %if.else.i.i.i.i.i85, label %if.then.i.i.i.i.i66

if.then.i.i.i.i.i66:                              ; preds = %if.end.i.i.i.i64
  %add.i.i.i.i.i67 = add nsw i32 %49, -1
  store i32 %add.i.i.i.i.i67, ptr %_M_use_count.i.i.i.i62, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i68

if.else.i.i.i.i.i85:                              ; preds = %if.end.i.i.i.i64
  %52 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i62, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i68

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i68: ; preds = %if.else.i.i.i.i.i85, %if.then.i.i.i.i.i66
  %retval.i.0.i.i.i.i69 = phi i32 [ %49, %if.then.i.i.i.i.i66 ], [ %52, %if.else.i.i.i.i.i85 ]
  %cmp6.i.i.i.i70 = icmp eq i32 %retval.i.0.i.i.i.i69, 1
  br i1 %cmp6.i.i.i.i70, label %if.then7.i.i.i.i71, label %_ZNSt10shared_ptrIKN4fizz8SelfCertEED2Ev.exit

if.then7.i.i.i.i71:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i68
  %vtable.i.i.i.i.i.i72 = load ptr, ptr %47, align 8
  %vfn.i.i.i.i.i.i73 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i72, i64 2
  %53 = load ptr, ptr %vfn.i.i.i.i.i.i73, align 8
  tail call void %53(ptr noundef nonnull align 8 dereferenceable(16) %47) #28
  %_M_weak_count.i.i.i.i.i.i74 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %47, i64 0, i32 2
  %54 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i75 = icmp eq i8 %54, 0
  br i1 %tobool.i.not.i.i.i.i.i.i75, label %if.else.i.i.i.i.i.i.i84, label %if.then.i.i.i.i.i.i.i76

if.then.i.i.i.i.i.i.i76:                          ; preds = %if.then7.i.i.i.i71
  %55 = load i32, ptr %_M_weak_count.i.i.i.i.i.i74, align 4
  %add.i.i.i.i.i.i.i77 = add nsw i32 %55, -1
  store i32 %add.i.i.i.i.i.i.i77, ptr %_M_weak_count.i.i.i.i.i.i74, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i78

if.else.i.i.i.i.i.i.i84:                          ; preds = %if.then7.i.i.i.i71
  %56 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i74, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i78

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i78: ; preds = %if.else.i.i.i.i.i.i.i84, %if.then.i.i.i.i.i.i.i76
  %retval.i.0.i.i.i.i.i.i79 = phi i32 [ %55, %if.then.i.i.i.i.i.i.i76 ], [ %56, %if.else.i.i.i.i.i.i.i84 ]
  %cmp.i.i.i.i.i.i80 = icmp eq i32 %retval.i.0.i.i.i.i.i.i79, 1
  br i1 %cmp.i.i.i.i.i.i80, label %if.end8.sink.split.i.i.i.i81, label %_ZNSt10shared_ptrIKN4fizz8SelfCertEED2Ev.exit

if.end8.sink.split.i.i.i.i81:                     ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i78, %if.then.i.i.i.i86
  %vtable2.i.i.i.i.i.i82 = load ptr, ptr %47, align 8
  %vfn3.i.i.i.i.i.i83 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i82, i64 3
  %57 = load ptr, ptr %vfn3.i.i.i.i.i.i83, align 8
  tail call void %57(ptr noundef nonnull align 8 dereferenceable(16) %47) #28
  br label %_ZNSt10shared_ptrIKN4fizz8SelfCertEED2Ev.exit

_ZNSt10shared_ptrIKN4fizz8SelfCertEED2Ev.exit:    ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit58, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i68, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i78, %if.end8.sink.split.i.i.i.i81
  %_M_refcount.i.i90 = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 9, i32 0, i32 1
  %58 = load ptr, ptr %_M_refcount.i.i90, align 8
  %cmp.not.i.i.i91 = icmp eq ptr %58, null
  br i1 %cmp.not.i.i.i91, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit, label %if.then.i.i.i92

if.then.i.i.i92:                                  ; preds = %_ZNSt10shared_ptrIKN4fizz8SelfCertEED2Ev.exit
  %_M_use_count.i.i.i.i93 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %58, i64 0, i32 1
  %59 = load atomic i64, ptr %_M_use_count.i.i.i.i93 acquire, align 8
  %cmp.i.i.i.i94 = icmp eq i64 %59, 4294967297
  %60 = trunc i64 %59 to i32
  br i1 %cmp.i.i.i.i94, label %if.then.i.i.i.i117, label %if.end.i.i.i.i95

if.then.i.i.i.i117:                               ; preds = %if.then.i.i.i92
  store i32 0, ptr %_M_use_count.i.i.i.i93, align 8
  %_M_weak_count.i.i.i.i118 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %58, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i118, align 4
  %vtable.i.i.i.i119 = load ptr, ptr %58, align 8
  %vfn.i.i.i.i120 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i119, i64 2
  %61 = load ptr, ptr %vfn.i.i.i.i120, align 8
  tail call void %61(ptr noundef nonnull align 8 dereferenceable(16) %58) #28
  br label %if.end8.sink.split.i.i.i.i112

if.end.i.i.i.i95:                                 ; preds = %if.then.i.i.i92
  %62 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i96 = icmp eq i8 %62, 0
  br i1 %tobool.i.not.i.i.i.i96, label %if.else.i.i.i.i.i116, label %if.then.i.i.i.i.i97

if.then.i.i.i.i.i97:                              ; preds = %if.end.i.i.i.i95
  %add.i.i.i.i.i98 = add nsw i32 %60, -1
  store i32 %add.i.i.i.i.i98, ptr %_M_use_count.i.i.i.i93, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i99

if.else.i.i.i.i.i116:                             ; preds = %if.end.i.i.i.i95
  %63 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i93, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i99

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i99: ; preds = %if.else.i.i.i.i.i116, %if.then.i.i.i.i.i97
  %retval.i.0.i.i.i.i100 = phi i32 [ %60, %if.then.i.i.i.i.i97 ], [ %63, %if.else.i.i.i.i.i116 ]
  %cmp6.i.i.i.i101 = icmp eq i32 %retval.i.0.i.i.i.i100, 1
  br i1 %cmp6.i.i.i.i101, label %if.then7.i.i.i.i102, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit

if.then7.i.i.i.i102:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i99
  %vtable.i.i.i.i.i.i103 = load ptr, ptr %58, align 8
  %vfn.i.i.i.i.i.i104 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i103, i64 2
  %64 = load ptr, ptr %vfn.i.i.i.i.i.i104, align 8
  tail call void %64(ptr noundef nonnull align 8 dereferenceable(16) %58) #28
  %_M_weak_count.i.i.i.i.i.i105 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %58, i64 0, i32 2
  %65 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i106 = icmp eq i8 %65, 0
  br i1 %tobool.i.not.i.i.i.i.i.i106, label %if.else.i.i.i.i.i.i.i115, label %if.then.i.i.i.i.i.i.i107

if.then.i.i.i.i.i.i.i107:                         ; preds = %if.then7.i.i.i.i102
  %66 = load i32, ptr %_M_weak_count.i.i.i.i.i.i105, align 4
  %add.i.i.i.i.i.i.i108 = add nsw i32 %66, -1
  store i32 %add.i.i.i.i.i.i.i108, ptr %_M_weak_count.i.i.i.i.i.i105, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i109

if.else.i.i.i.i.i.i.i115:                         ; preds = %if.then7.i.i.i.i102
  %67 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i105, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i109

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i109: ; preds = %if.else.i.i.i.i.i.i.i115, %if.then.i.i.i.i.i.i.i107
  %retval.i.0.i.i.i.i.i.i110 = phi i32 [ %66, %if.then.i.i.i.i.i.i.i107 ], [ %67, %if.else.i.i.i.i.i.i.i115 ]
  %cmp.i.i.i.i.i.i111 = icmp eq i32 %retval.i.0.i.i.i.i.i.i110, 1
  br i1 %cmp.i.i.i.i.i.i111, label %if.end8.sink.split.i.i.i.i112, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit

if.end8.sink.split.i.i.i.i112:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i109, %if.then.i.i.i.i117
  %vtable2.i.i.i.i.i.i113 = load ptr, ptr %58, align 8
  %vfn3.i.i.i.i.i.i114 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i113, i64 3
  %68 = load ptr, ptr %vfn3.i.i.i.i.i.i114, align 8
  tail call void %68(ptr noundef nonnull align 8 dereferenceable(16) %58) #28
  br label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit

_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit: ; preds = %_ZNSt10shared_ptrIKN4fizz8SelfCertEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i99, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i109, %if.end8.sink.split.i.i.i.i112
  %_M_refcount.i.i121 = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 8, i32 0, i32 1
  %69 = load ptr, ptr %_M_refcount.i.i121, align 8
  %cmp.not.i.i.i122 = icmp eq ptr %69, null
  br i1 %cmp.not.i.i.i122, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit152, label %if.then.i.i.i123

if.then.i.i.i123:                                 ; preds = %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit
  %_M_use_count.i.i.i.i124 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %69, i64 0, i32 1
  %70 = load atomic i64, ptr %_M_use_count.i.i.i.i124 acquire, align 8
  %cmp.i.i.i.i125 = icmp eq i64 %70, 4294967297
  %71 = trunc i64 %70 to i32
  br i1 %cmp.i.i.i.i125, label %if.then.i.i.i.i148, label %if.end.i.i.i.i126

if.then.i.i.i.i148:                               ; preds = %if.then.i.i.i123
  store i32 0, ptr %_M_use_count.i.i.i.i124, align 8
  %_M_weak_count.i.i.i.i149 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %69, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i149, align 4
  %vtable.i.i.i.i150 = load ptr, ptr %69, align 8
  %vfn.i.i.i.i151 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i150, i64 2
  %72 = load ptr, ptr %vfn.i.i.i.i151, align 8
  tail call void %72(ptr noundef nonnull align 8 dereferenceable(16) %69) #28
  br label %if.end8.sink.split.i.i.i.i143

if.end.i.i.i.i126:                                ; preds = %if.then.i.i.i123
  %73 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i127 = icmp eq i8 %73, 0
  br i1 %tobool.i.not.i.i.i.i127, label %if.else.i.i.i.i.i147, label %if.then.i.i.i.i.i128

if.then.i.i.i.i.i128:                             ; preds = %if.end.i.i.i.i126
  %add.i.i.i.i.i129 = add nsw i32 %71, -1
  store i32 %add.i.i.i.i.i129, ptr %_M_use_count.i.i.i.i124, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i130

if.else.i.i.i.i.i147:                             ; preds = %if.end.i.i.i.i126
  %74 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i124, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i130

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i130: ; preds = %if.else.i.i.i.i.i147, %if.then.i.i.i.i.i128
  %retval.i.0.i.i.i.i131 = phi i32 [ %71, %if.then.i.i.i.i.i128 ], [ %74, %if.else.i.i.i.i.i147 ]
  %cmp6.i.i.i.i132 = icmp eq i32 %retval.i.0.i.i.i.i131, 1
  br i1 %cmp6.i.i.i.i132, label %if.then7.i.i.i.i133, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit152

if.then7.i.i.i.i133:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i130
  %vtable.i.i.i.i.i.i134 = load ptr, ptr %69, align 8
  %vfn.i.i.i.i.i.i135 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i134, i64 2
  %75 = load ptr, ptr %vfn.i.i.i.i.i.i135, align 8
  tail call void %75(ptr noundef nonnull align 8 dereferenceable(16) %69) #28
  %_M_weak_count.i.i.i.i.i.i136 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %69, i64 0, i32 2
  %76 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i137 = icmp eq i8 %76, 0
  br i1 %tobool.i.not.i.i.i.i.i.i137, label %if.else.i.i.i.i.i.i.i146, label %if.then.i.i.i.i.i.i.i138

if.then.i.i.i.i.i.i.i138:                         ; preds = %if.then7.i.i.i.i133
  %77 = load i32, ptr %_M_weak_count.i.i.i.i.i.i136, align 4
  %add.i.i.i.i.i.i.i139 = add nsw i32 %77, -1
  store i32 %add.i.i.i.i.i.i.i139, ptr %_M_weak_count.i.i.i.i.i.i136, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i140

if.else.i.i.i.i.i.i.i146:                         ; preds = %if.then7.i.i.i.i133
  %78 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i136, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i140

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i140: ; preds = %if.else.i.i.i.i.i.i.i146, %if.then.i.i.i.i.i.i.i138
  %retval.i.0.i.i.i.i.i.i141 = phi i32 [ %77, %if.then.i.i.i.i.i.i.i138 ], [ %78, %if.else.i.i.i.i.i.i.i146 ]
  %cmp.i.i.i.i.i.i142 = icmp eq i32 %retval.i.0.i.i.i.i.i.i141, 1
  br i1 %cmp.i.i.i.i.i.i142, label %if.end8.sink.split.i.i.i.i143, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit152

if.end8.sink.split.i.i.i.i143:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i140, %if.then.i.i.i.i148
  %vtable2.i.i.i.i.i.i144 = load ptr, ptr %69, align 8
  %vfn3.i.i.i.i.i.i145 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i144, i64 3
  %79 = load ptr, ptr %vfn3.i.i.i.i.i.i145, align 8
  tail call void %79(ptr noundef nonnull align 8 dereferenceable(16) %69) #28
  br label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit152

_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit152: ; preds = %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i130, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i140, %if.end8.sink.split.i.i.i.i143
  %handshakeContext_ = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 7
  %80 = load ptr, ptr %handshakeContext_, align 8
  %cmp.not.i = icmp eq ptr %80, null
  br i1 %cmp.not.i, label %_ZNSt10unique_ptrIN4fizz16HandshakeContextESt14default_deleteIS1_EED2Ev.exit, label %_ZNKSt14default_deleteIN4fizz16HandshakeContextEEclEPS1_.exit.i

_ZNKSt14default_deleteIN4fizz16HandshakeContextEEclEPS1_.exit.i: ; preds = %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit152
  %vtable.i.i = load ptr, ptr %80, align 8
  %vfn.i.i = getelementptr inbounds ptr, ptr %vtable.i.i, i64 1
  %81 = load ptr, ptr %vfn.i.i, align 8
  tail call void %81(ptr noundef nonnull align 8 dereferenceable(8) %80) #28
  br label %_ZNSt10unique_ptrIN4fizz16HandshakeContextESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN4fizz16HandshakeContextESt14default_deleteIS1_EED2Ev.exit: ; preds = %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit152, %_ZNKSt14default_deleteIN4fizz16HandshakeContextEEclEPS1_.exit.i
  store ptr null, ptr %handshakeContext_, align 8
  %earlyWriteRecordLayer_ = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 6
  %82 = load ptr, ptr %earlyWriteRecordLayer_, align 8
  %cmp.not.i153 = icmp eq ptr %82, null
  br i1 %cmp.not.i153, label %_ZNSt10unique_ptrIN4fizz25EncryptedWriteRecordLayerESt14default_deleteIS1_EED2Ev.exit, label %_ZNKSt14default_deleteIN4fizz25EncryptedWriteRecordLayerEEclEPS1_.exit.i

_ZNKSt14default_deleteIN4fizz25EncryptedWriteRecordLayerEEclEPS1_.exit.i: ; preds = %_ZNSt10unique_ptrIN4fizz16HandshakeContextESt14default_deleteIS1_EED2Ev.exit
  %vtable.i.i154 = load ptr, ptr %82, align 8
  %vfn.i.i155 = getelementptr inbounds ptr, ptr %vtable.i.i154, i64 1
  %83 = load ptr, ptr %vfn.i.i155, align 8
  tail call void %83(ptr noundef nonnull align 8 dereferenceable(42) %82) #28
  br label %_ZNSt10unique_ptrIN4fizz25EncryptedWriteRecordLayerESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN4fizz25EncryptedWriteRecordLayerESt14default_deleteIS1_EED2Ev.exit: ; preds = %_ZNSt10unique_ptrIN4fizz16HandshakeContextESt14default_deleteIS1_EED2Ev.exit, %_ZNKSt14default_deleteIN4fizz25EncryptedWriteRecordLayerEEclEPS1_.exit.i
  store ptr null, ptr %earlyWriteRecordLayer_, align 8
  %writeRecordLayer_ = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 5
  %84 = load ptr, ptr %writeRecordLayer_, align 8
  %cmp.not.i156 = icmp eq ptr %84, null
  br i1 %cmp.not.i156, label %_ZNSt10unique_ptrIN4fizz16WriteRecordLayerESt14default_deleteIS1_EED2Ev.exit, label %_ZNKSt14default_deleteIN4fizz16WriteRecordLayerEEclEPS1_.exit.i

_ZNKSt14default_deleteIN4fizz16WriteRecordLayerEEclEPS1_.exit.i: ; preds = %_ZNSt10unique_ptrIN4fizz25EncryptedWriteRecordLayerESt14default_deleteIS1_EED2Ev.exit
  %vtable.i.i157 = load ptr, ptr %84, align 8
  %vfn.i.i158 = getelementptr inbounds ptr, ptr %vtable.i.i157, i64 1
  %85 = load ptr, ptr %vfn.i.i158, align 8
  tail call void %85(ptr noundef nonnull align 8 dereferenceable(9) %84) #28
  br label %_ZNSt10unique_ptrIN4fizz16WriteRecordLayerESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN4fizz16WriteRecordLayerESt14default_deleteIS1_EED2Ev.exit: ; preds = %_ZNSt10unique_ptrIN4fizz25EncryptedWriteRecordLayerESt14default_deleteIS1_EED2Ev.exit, %_ZNKSt14default_deleteIN4fizz16WriteRecordLayerEEclEPS1_.exit.i
  store ptr null, ptr %writeRecordLayer_, align 8
  %readRecordLayer_ = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 4
  %86 = load ptr, ptr %readRecordLayer_, align 8
  %cmp.not.i159 = icmp eq ptr %86, null
  br i1 %cmp.not.i159, label %_ZNSt10unique_ptrIN4fizz15ReadRecordLayerESt14default_deleteIS1_EED2Ev.exit, label %_ZNKSt14default_deleteIN4fizz15ReadRecordLayerEEclEPS1_.exit.i

_ZNKSt14default_deleteIN4fizz15ReadRecordLayerEEclEPS1_.exit.i: ; preds = %_ZNSt10unique_ptrIN4fizz16WriteRecordLayerESt14default_deleteIS1_EED2Ev.exit
  %vtable.i.i160 = load ptr, ptr %86, align 8
  %vfn.i.i161 = getelementptr inbounds ptr, ptr %vtable.i.i160, i64 1
  %87 = load ptr, ptr %vfn.i.i161, align 8
  tail call void %87(ptr noundef nonnull align 8 dereferenceable(80) %86) #28
  br label %_ZNSt10unique_ptrIN4fizz15ReadRecordLayerESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN4fizz15ReadRecordLayerESt14default_deleteIS1_EED2Ev.exit: ; preds = %_ZNSt10unique_ptrIN4fizz16WriteRecordLayerESt14default_deleteIS1_EED2Ev.exit, %_ZNKSt14default_deleteIN4fizz15ReadRecordLayerEEclEPS1_.exit.i
  store ptr null, ptr %readRecordLayer_, align 8
  %keyScheduler_ = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 3
  %88 = load ptr, ptr %keyScheduler_, align 8
  %cmp.not.i162 = icmp eq ptr %88, null
  br i1 %cmp.not.i162, label %_ZNSt10unique_ptrIN4fizz12KeySchedulerESt14default_deleteIS1_EED2Ev.exit, label %_ZNKSt14default_deleteIN4fizz12KeySchedulerEEclEPS1_.exit.i

_ZNKSt14default_deleteIN4fizz12KeySchedulerEEclEPS1_.exit.i: ; preds = %_ZNSt10unique_ptrIN4fizz15ReadRecordLayerESt14default_deleteIS1_EED2Ev.exit
  %vtable.i.i163 = load ptr, ptr %88, align 8
  %vfn.i.i164 = getelementptr inbounds ptr, ptr %vtable.i.i163, i64 1
  %89 = load ptr, ptr %vfn.i.i164, align 8
  tail call void %89(ptr noundef nonnull align 8 dereferenceable(128) %88) #28
  br label %_ZNSt10unique_ptrIN4fizz12KeySchedulerESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN4fizz12KeySchedulerESt14default_deleteIS1_EED2Ev.exit: ; preds = %_ZNSt10unique_ptrIN4fizz15ReadRecordLayerESt14default_deleteIS1_EED2Ev.exit, %_ZNKSt14default_deleteIN4fizz12KeySchedulerEEclEPS1_.exit.i
  store ptr null, ptr %keyScheduler_, align 8
  %_M_refcount.i.i165 = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 2, i32 0, i32 1
  %90 = load ptr, ptr %_M_refcount.i.i165, align 8
  %cmp.not.i.i.i166 = icmp eq ptr %90, null
  br i1 %cmp.not.i.i.i166, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit, label %if.then.i.i.i167

if.then.i.i.i167:                                 ; preds = %_ZNSt10unique_ptrIN4fizz12KeySchedulerESt14default_deleteIS1_EED2Ev.exit
  %_M_use_count.i.i.i.i168 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %90, i64 0, i32 1
  %91 = load atomic i64, ptr %_M_use_count.i.i.i.i168 acquire, align 8
  %cmp.i.i.i.i169 = icmp eq i64 %91, 4294967297
  %92 = trunc i64 %91 to i32
  br i1 %cmp.i.i.i.i169, label %if.then.i.i.i.i192, label %if.end.i.i.i.i170

if.then.i.i.i.i192:                               ; preds = %if.then.i.i.i167
  store i32 0, ptr %_M_use_count.i.i.i.i168, align 8
  %_M_weak_count.i.i.i.i193 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %90, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i193, align 4
  %vtable.i.i.i.i194 = load ptr, ptr %90, align 8
  %vfn.i.i.i.i195 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i194, i64 2
  %93 = load ptr, ptr %vfn.i.i.i.i195, align 8
  tail call void %93(ptr noundef nonnull align 8 dereferenceable(16) %90) #28
  br label %if.end8.sink.split.i.i.i.i187

if.end.i.i.i.i170:                                ; preds = %if.then.i.i.i167
  %94 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i171 = icmp eq i8 %94, 0
  br i1 %tobool.i.not.i.i.i.i171, label %if.else.i.i.i.i.i191, label %if.then.i.i.i.i.i172

if.then.i.i.i.i.i172:                             ; preds = %if.end.i.i.i.i170
  %add.i.i.i.i.i173 = add nsw i32 %92, -1
  store i32 %add.i.i.i.i.i173, ptr %_M_use_count.i.i.i.i168, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i174

if.else.i.i.i.i.i191:                             ; preds = %if.end.i.i.i.i170
  %95 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i168, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i174

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i174: ; preds = %if.else.i.i.i.i.i191, %if.then.i.i.i.i.i172
  %retval.i.0.i.i.i.i175 = phi i32 [ %92, %if.then.i.i.i.i.i172 ], [ %95, %if.else.i.i.i.i.i191 ]
  %cmp6.i.i.i.i176 = icmp eq i32 %retval.i.0.i.i.i.i175, 1
  br i1 %cmp6.i.i.i.i176, label %if.then7.i.i.i.i177, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

if.then7.i.i.i.i177:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i174
  %vtable.i.i.i.i.i.i178 = load ptr, ptr %90, align 8
  %vfn.i.i.i.i.i.i179 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i178, i64 2
  %96 = load ptr, ptr %vfn.i.i.i.i.i.i179, align 8
  tail call void %96(ptr noundef nonnull align 8 dereferenceable(16) %90) #28
  %_M_weak_count.i.i.i.i.i.i180 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %90, i64 0, i32 2
  %97 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i181 = icmp eq i8 %97, 0
  br i1 %tobool.i.not.i.i.i.i.i.i181, label %if.else.i.i.i.i.i.i.i190, label %if.then.i.i.i.i.i.i.i182

if.then.i.i.i.i.i.i.i182:                         ; preds = %if.then7.i.i.i.i177
  %98 = load i32, ptr %_M_weak_count.i.i.i.i.i.i180, align 4
  %add.i.i.i.i.i.i.i183 = add nsw i32 %98, -1
  store i32 %add.i.i.i.i.i.i.i183, ptr %_M_weak_count.i.i.i.i.i.i180, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i184

if.else.i.i.i.i.i.i.i190:                         ; preds = %if.then7.i.i.i.i177
  %99 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i180, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i184

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i184: ; preds = %if.else.i.i.i.i.i.i.i190, %if.then.i.i.i.i.i.i.i182
  %retval.i.0.i.i.i.i.i.i185 = phi i32 [ %98, %if.then.i.i.i.i.i.i.i182 ], [ %99, %if.else.i.i.i.i.i.i.i190 ]
  %cmp.i.i.i.i.i.i186 = icmp eq i32 %retval.i.0.i.i.i.i.i.i185, 1
  br i1 %cmp.i.i.i.i.i.i186, label %if.end8.sink.split.i.i.i.i187, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

if.end8.sink.split.i.i.i.i187:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i184, %if.then.i.i.i.i192
  %vtable2.i.i.i.i.i.i188 = load ptr, ptr %90, align 8
  %vfn3.i.i.i.i.i.i189 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i188, i64 3
  %100 = load ptr, ptr %vfn3.i.i.i.i.i.i189, align 8
  tail call void %100(ptr noundef nonnull align 8 dereferenceable(16) %90) #28
  br label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit: ; preds = %_ZNSt10unique_ptrIN4fizz12KeySchedulerESt14default_deleteIS1_EED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i174, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i184, %if.end8.sink.split.i.i.i.i187
  %_M_refcount.i.i196 = getelementptr inbounds %"class.fizz::client::State", ptr %this, i64 0, i32 1, i32 0, i32 1
  %101 = load ptr, ptr %_M_refcount.i.i196, align 8
  %cmp.not.i.i.i197 = icmp eq ptr %101, null
  br i1 %cmp.not.i.i.i197, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit, label %if.then.i.i.i198

if.then.i.i.i198:                                 ; preds = %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit
  %_M_use_count.i.i.i.i199 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %101, i64 0, i32 1
  %102 = load atomic i64, ptr %_M_use_count.i.i.i.i199 acquire, align 8
  %cmp.i.i.i.i200 = icmp eq i64 %102, 4294967297
  %103 = trunc i64 %102 to i32
  br i1 %cmp.i.i.i.i200, label %if.then.i.i.i.i223, label %if.end.i.i.i.i201

if.then.i.i.i.i223:                               ; preds = %if.then.i.i.i198
  store i32 0, ptr %_M_use_count.i.i.i.i199, align 8
  %_M_weak_count.i.i.i.i224 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %101, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i224, align 4
  %vtable.i.i.i.i225 = load ptr, ptr %101, align 8
  %vfn.i.i.i.i226 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i225, i64 2
  %104 = load ptr, ptr %vfn.i.i.i.i226, align 8
  tail call void %104(ptr noundef nonnull align 8 dereferenceable(16) %101) #28
  br label %if.end8.sink.split.i.i.i.i218

if.end.i.i.i.i201:                                ; preds = %if.then.i.i.i198
  %105 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i202 = icmp eq i8 %105, 0
  br i1 %tobool.i.not.i.i.i.i202, label %if.else.i.i.i.i.i222, label %if.then.i.i.i.i.i203

if.then.i.i.i.i.i203:                             ; preds = %if.end.i.i.i.i201
  %add.i.i.i.i.i204 = add nsw i32 %103, -1
  store i32 %add.i.i.i.i.i204, ptr %_M_use_count.i.i.i.i199, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i205

if.else.i.i.i.i.i222:                             ; preds = %if.end.i.i.i.i201
  %106 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i199, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i205

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i205: ; preds = %if.else.i.i.i.i.i222, %if.then.i.i.i.i.i203
  %retval.i.0.i.i.i.i206 = phi i32 [ %103, %if.then.i.i.i.i.i203 ], [ %106, %if.else.i.i.i.i.i222 ]
  %cmp6.i.i.i.i207 = icmp eq i32 %retval.i.0.i.i.i.i206, 1
  br i1 %cmp6.i.i.i.i207, label %if.then7.i.i.i.i208, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit

if.then7.i.i.i.i208:                              ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i205
  %vtable.i.i.i.i.i.i209 = load ptr, ptr %101, align 8
  %vfn.i.i.i.i.i.i210 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i209, i64 2
  %107 = load ptr, ptr %vfn.i.i.i.i.i.i210, align 8
  tail call void %107(ptr noundef nonnull align 8 dereferenceable(16) %101) #28
  %_M_weak_count.i.i.i.i.i.i211 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %101, i64 0, i32 2
  %108 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i212 = icmp eq i8 %108, 0
  br i1 %tobool.i.not.i.i.i.i.i.i212, label %if.else.i.i.i.i.i.i.i221, label %if.then.i.i.i.i.i.i.i213

if.then.i.i.i.i.i.i.i213:                         ; preds = %if.then7.i.i.i.i208
  %109 = load i32, ptr %_M_weak_count.i.i.i.i.i.i211, align 4
  %add.i.i.i.i.i.i.i214 = add nsw i32 %109, -1
  store i32 %add.i.i.i.i.i.i.i214, ptr %_M_weak_count.i.i.i.i.i.i211, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i215

if.else.i.i.i.i.i.i.i221:                         ; preds = %if.then7.i.i.i.i208
  %110 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i211, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i215

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i215: ; preds = %if.else.i.i.i.i.i.i.i221, %if.then.i.i.i.i.i.i.i213
  %retval.i.0.i.i.i.i.i.i216 = phi i32 [ %109, %if.then.i.i.i.i.i.i.i213 ], [ %110, %if.else.i.i.i.i.i.i.i221 ]
  %cmp.i.i.i.i.i.i217 = icmp eq i32 %retval.i.0.i.i.i.i.i.i216, 1
  br i1 %cmp.i.i.i.i.i.i217, label %if.end8.sink.split.i.i.i.i218, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit

if.end8.sink.split.i.i.i.i218:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i215, %if.then.i.i.i.i223
  %vtable2.i.i.i.i.i.i219 = load ptr, ptr %101, align 8
  %vfn3.i.i.i.i.i.i220 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i219, i64 3
  %111 = load ptr, ptr %vfn3.i.i.i.i.i.i220, align 8
  tail call void %111(ptr noundef nonnull align 8 dereferenceable(16) %101) #28
  br label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit

_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit: ; preds = %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i205, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i215, %if.end8.sink.split.i.i.i.i218
  ret void
}

; Function Attrs: nounwind
declare void @_ZN4fizz13AsyncFizzBaseD2Ev(ptr noundef nonnull align 8 dereferenceable(576)) unnamed_addr #1

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED2Ev(ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  store ptr getelementptr inbounds ({ [91 x ptr], [6 x ptr], [8 x ptr], [12 x ptr], [8 x ptr], [15 x ptr], [5 x ptr], [7 x ptr] }, ptr @_ZTVN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, i64 0, inrange i32 0, i64 2), ptr %this, align 8
  %add.ptr = getelementptr inbounds i8, ptr %this, i64 16
  store ptr getelementptr inbounds ({ [91 x ptr], [6 x ptr], [8 x ptr], [12 x ptr], [8 x ptr], [15 x ptr], [5 x ptr], [7 x ptr] }, ptr @_ZTVN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, i64 0, inrange i32 1, i64 2), ptr %add.ptr, align 8
  %add.ptr2 = getelementptr inbounds i8, ptr %this, i64 24
  store ptr getelementptr inbounds ({ [91 x ptr], [6 x ptr], [8 x ptr], [12 x ptr], [8 x ptr], [15 x ptr], [5 x ptr], [7 x ptr] }, ptr @_ZTVN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, i64 0, inrange i32 2, i64 2), ptr %add.ptr2, align 8
  %add.ptr3 = getelementptr inbounds i8, ptr %this, i64 32
  store ptr getelementptr inbounds ({ [91 x ptr], [6 x ptr], [8 x ptr], [12 x ptr], [8 x ptr], [15 x ptr], [5 x ptr], [7 x ptr] }, ptr @_ZTVN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, i64 0, inrange i32 3, i64 2), ptr %add.ptr3, align 8
  %add.ptr4 = getelementptr inbounds i8, ptr %this, i64 56
  store ptr getelementptr inbounds ({ [91 x ptr], [6 x ptr], [8 x ptr], [12 x ptr], [8 x ptr], [15 x ptr], [5 x ptr], [7 x ptr] }, ptr @_ZTVN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, i64 0, inrange i32 4, i64 2), ptr %add.ptr4, align 8
  %add.ptr5 = getelementptr inbounds i8, ptr %this, i64 64
  store ptr getelementptr inbounds ({ [91 x ptr], [6 x ptr], [8 x ptr], [12 x ptr], [8 x ptr], [15 x ptr], [5 x ptr], [7 x ptr] }, ptr @_ZTVN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, i64 0, inrange i32 5, i64 2), ptr %add.ptr5, align 8
  %add.ptr6 = getelementptr inbounds i8, ptr %this, i64 80
  store ptr getelementptr inbounds ({ [91 x ptr], [6 x ptr], [8 x ptr], [12 x ptr], [8 x ptr], [15 x ptr], [5 x ptr], [7 x ptr] }, ptr @_ZTVN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, i64 0, inrange i32 6, i64 2), ptr %add.ptr6, align 8
  %add.ptr7 = getelementptr inbounds i8, ptr %this, i64 576
  store ptr getelementptr inbounds ({ [91 x ptr], [6 x ptr], [8 x ptr], [12 x ptr], [8 x ptr], [15 x ptr], [5 x ptr], [7 x ptr] }, ptr @_ZTVN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEEE, i64 0, inrange i32 7, i64 2), ptr %add.ptr7, align 8
  %pendingHandshakeAppWrites_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 14
  tail call void @_ZNSt5dequeIN4fizz8AppWriteESaIS1_EED2Ev(ptr noundef nonnull align 8 dereferenceable(80) %pendingHandshakeAppWrites_) #28
  %_M_refcount.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 13, i32 0, i32 1
  %0 = load ptr, ptr %_M_refcount.i.i, align 8
  %cmp.not.i.i.i = icmp eq ptr %0, null
  br i1 %cmp.not.i.i.i, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %entry
  %_M_use_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 1
  %1 = load atomic i64, ptr %_M_use_count.i.i.i.i acquire, align 8
  %cmp.i.i.i.i = icmp eq i64 %1, 4294967297
  %2 = trunc i64 %1 to i32
  br i1 %cmp.i.i.i.i, label %if.then.i.i.i.i, label %if.end.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %if.then.i.i.i
  store i32 0, ptr %_M_use_count.i.i.i.i, align 8
  %_M_weak_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i, align 4
  %vtable.i.i.i.i = load ptr, ptr %0, align 8
  %vfn.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i, i64 2
  %3 = load ptr, ptr %vfn.i.i.i.i, align 8
  tail call void %3(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  br label %if.end8.sink.split.i.i.i.i

if.end.i.i.i.i:                                   ; preds = %if.then.i.i.i
  %4 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i = icmp eq i8 %4, 0
  br i1 %tobool.i.not.i.i.i.i, label %if.else.i.i.i.i.i, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %add.i.i.i.i.i = add nsw i32 %2, -1
  store i32 %add.i.i.i.i.i, ptr %_M_use_count.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

if.else.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %5 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i: ; preds = %if.else.i.i.i.i.i, %if.then.i.i.i.i.i
  %retval.i.0.i.i.i.i = phi i32 [ %2, %if.then.i.i.i.i.i ], [ %5, %if.else.i.i.i.i.i ]
  %cmp6.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i, label %if.then7.i.i.i.i, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

if.then7.i.i.i.i:                                 ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i
  %vtable.i.i.i.i.i.i = load ptr, ptr %0, align 8
  %vfn.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i, i64 2
  %6 = load ptr, ptr %vfn.i.i.i.i.i.i, align 8
  tail call void %6(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  %_M_weak_count.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 2
  %7 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i = icmp eq i8 %7, 0
  br i1 %tobool.i.not.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %8 = load i32, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i.i = add nsw i32 %8, -1
  store i32 %add.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %9 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i = phi i32 [ %8, %if.then.i.i.i.i.i.i.i ], [ %9, %if.else.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

if.end8.sink.split.i.i.i.i:                       ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.then.i.i.i.i
  %vtable2.i.i.i.i.i.i = load ptr, ptr %0, align 8
  %vfn3.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i, i64 3
  %10 = load ptr, ptr %vfn3.i.i.i.i.i.i, align 8
  tail call void %10(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  br label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit: ; preds = %entry, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.end8.sink.split.i.i.i.i
  %hasValue.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 1
  %11 = load i8, ptr %hasValue.i.i.i, align 8
  %12 = and i8 %11, 1
  %tobool.not.i.i.i = icmp eq i8 %12, 0
  br i1 %tobool.not.i.i.i, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEED2Ev.exit, label %if.then.i.i.i1

if.then.i.i.i1:                                   ; preds = %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit
  store i8 0, ptr %hasValue.i.i.i, align 8
  %pendingAppWrites.i.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 0, i32 0, i32 2
  tail call void @_ZNSt5dequeIN4fizz8AppWriteESaIS1_EED2Ev(ptr noundef nonnull align 8 dereferenceable(80) %pendingAppWrites.i.i.i.i) #28
  %resendBuffer.i.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 0, i32 0, i32 1
  tail call void @_ZN5folly10IOBufQueueD1Ev(ptr noundef nonnull align 8 dereferenceable(72) %resendBuffer.i.i.i.i) #28
  br label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEED2Ev.exit

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEED2Ev.exit: ; preds = %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit, %if.then.i.i.i1
  %fizzClient_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_EE, i64 0, inrange i32 0, i64 2), ptr %fizzClient_, align 8
  %actionGuard_.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 10
  %hasValue.i.i.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 10, i32 0, i32 1
  %13 = load i8, ptr %hasValue.i.i.i.i.i, align 8
  %14 = and i8 %13, 1
  %tobool.not.i.i.i.i.i = icmp eq i8 %14, 0
  br i1 %tobool.not.i.i.i.i.i, label %_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_ED2Ev.exit, label %if.then.i.i.i.i.i2

if.then.i.i.i.i.i2:                               ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEED2Ev.exit
  store i8 0, ptr %hasValue.i.i.i.i.i, align 8
  %15 = load ptr, ptr %actionGuard_.i.i, align 8
  %cmp.not.i.i.i.i.i.i = icmp eq ptr %15, null
  br i1 %cmp.not.i.i.i.i.i.i, label %_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_ED2Ev.exit, label %if.then.i.i.i.i.i.i

if.then.i.i.i.i.i.i:                              ; preds = %if.then.i.i.i.i.i2
  %guardCount_.i.i.i.i.i.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %15, i64 0, i32 1
  %16 = load i32, ptr %guardCount_.i.i.i.i.i.i, align 8
  %dec.i.i.i.i.i.i = add i32 %16, -1
  store i32 %dec.i.i.i.i.i.i, ptr %guardCount_.i.i.i.i.i.i, align 8
  %17 = load ptr, ptr %actionGuard_.i.i, align 8
  %guardCount_4.i.i.i.i.i.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %17, i64 0, i32 1
  %18 = load i32, ptr %guardCount_4.i.i.i.i.i.i, align 8
  %cmp5.i.i.i.i.i.i = icmp eq i32 %18, 0
  br i1 %cmp5.i.i.i.i.i.i, label %if.then6.i.i.i.i.i.i, label %_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_ED2Ev.exit

if.then6.i.i.i.i.i.i:                             ; preds = %if.then.i.i.i.i.i.i
  %vtable.i.i.i.i.i.i3 = load ptr, ptr %17, align 8
  %vfn.i.i.i.i.i.i4 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i3, i64 2
  %19 = load ptr, ptr %vfn.i.i.i.i.i.i4, align 8
  invoke void %19(ptr noundef nonnull align 8 dereferenceable(12) %17, i1 noundef zeroext true)
          to label %_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_ED2Ev.exit unwind label %terminate.lpad.i.i.i.i.i.i

terminate.lpad.i.i.i.i.i.i:                       ; preds = %if.then6.i.i.i.i.i.i
  %20 = landingpad { ptr, i32 }
          catch ptr null
  %21 = extractvalue { ptr, i32 } %20, 0
  tail call void @__clang_call_terminate(ptr %21) #30
  unreachable

_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_ED2Ev.exit: ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEED2Ev.exit, %if.then.i.i.i.i.i2, %if.then.i.i.i.i.i.i, %if.then6.i.i.i.i.i.i
  %pendingEvents_.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 7
  tail call void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EED2Ev(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_.i.i) #28
  %state_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7
  tail call void @_ZN4fizz6client5StateD2Ev(ptr noundef nonnull align 8 dereferenceable(1096) %state_) #28
  %hasValue.i.i.i5 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 6, i32 0, i32 1
  %22 = load i8, ptr %hasValue.i.i.i5, align 8
  %23 = and i8 %22, 1
  %tobool.not.i.i.i6 = icmp eq i8 %23, 0
  br i1 %tobool.not.i.i.i6, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, label %if.then.i.i.i7

if.then.i.i.i7:                                   ; preds = %_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_ED2Ev.exit
  %pskIdentity_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 6
  store i8 0, ptr %hasValue.i.i.i5, align 8
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity_) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit: ; preds = %_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_ED2Ev.exit, %if.then.i.i.i7
  %hasValue.i.i.i8 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 5, i32 0, i32 1
  %24 = load i8, ptr %hasValue.i.i.i8, align 8
  %25 = and i8 %24, 1
  %tobool.not.i.i.i9 = icmp eq i8 %25, 0
  br i1 %tobool.not.i.i.i9, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit11, label %if.then.i.i.i10

if.then.i.i.i10:                                  ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit
  %sni_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 5
  store i8 0, ptr %hasValue.i.i.i8, align 8
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %sni_) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit11

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit11: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, %if.then.i.i.i10
  %_M_refcount.i.i12 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 4, i32 0, i32 1
  %26 = load ptr, ptr %_M_refcount.i.i12, align 8
  %cmp.not.i.i.i13 = icmp eq ptr %26, null
  br i1 %cmp.not.i.i.i13, label %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit, label %if.then.i.i.i14

if.then.i.i.i14:                                  ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit11
  %_M_use_count.i.i.i.i15 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %26, i64 0, i32 1
  %27 = load atomic i64, ptr %_M_use_count.i.i.i.i15 acquire, align 8
  %cmp.i.i.i.i16 = icmp eq i64 %27, 4294967297
  %28 = trunc i64 %27 to i32
  br i1 %cmp.i.i.i.i16, label %if.then.i.i.i.i39, label %if.end.i.i.i.i17

if.then.i.i.i.i39:                                ; preds = %if.then.i.i.i14
  store i32 0, ptr %_M_use_count.i.i.i.i15, align 8
  %_M_weak_count.i.i.i.i40 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %26, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i40, align 4
  %vtable.i.i.i.i41 = load ptr, ptr %26, align 8
  %vfn.i.i.i.i42 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i41, i64 2
  %29 = load ptr, ptr %vfn.i.i.i.i42, align 8
  tail call void %29(ptr noundef nonnull align 8 dereferenceable(16) %26) #28
  br label %if.end8.sink.split.i.i.i.i34

if.end.i.i.i.i17:                                 ; preds = %if.then.i.i.i14
  %30 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i18 = icmp eq i8 %30, 0
  br i1 %tobool.i.not.i.i.i.i18, label %if.else.i.i.i.i.i38, label %if.then.i.i.i.i.i19

if.then.i.i.i.i.i19:                              ; preds = %if.end.i.i.i.i17
  %add.i.i.i.i.i20 = add nsw i32 %28, -1
  store i32 %add.i.i.i.i.i20, ptr %_M_use_count.i.i.i.i15, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i21

if.else.i.i.i.i.i38:                              ; preds = %if.end.i.i.i.i17
  %31 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i15, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i21

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i21: ; preds = %if.else.i.i.i.i.i38, %if.then.i.i.i.i.i19
  %retval.i.0.i.i.i.i22 = phi i32 [ %28, %if.then.i.i.i.i.i19 ], [ %31, %if.else.i.i.i.i.i38 ]
  %cmp6.i.i.i.i23 = icmp eq i32 %retval.i.0.i.i.i.i22, 1
  br i1 %cmp6.i.i.i.i23, label %if.then7.i.i.i.i24, label %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit

if.then7.i.i.i.i24:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i21
  %vtable.i.i.i.i.i.i25 = load ptr, ptr %26, align 8
  %vfn.i.i.i.i.i.i26 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i25, i64 2
  %32 = load ptr, ptr %vfn.i.i.i.i.i.i26, align 8
  tail call void %32(ptr noundef nonnull align 8 dereferenceable(16) %26) #28
  %_M_weak_count.i.i.i.i.i.i27 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %26, i64 0, i32 2
  %33 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i28 = icmp eq i8 %33, 0
  br i1 %tobool.i.not.i.i.i.i.i.i28, label %if.else.i.i.i.i.i.i.i37, label %if.then.i.i.i.i.i.i.i29

if.then.i.i.i.i.i.i.i29:                          ; preds = %if.then7.i.i.i.i24
  %34 = load i32, ptr %_M_weak_count.i.i.i.i.i.i27, align 4
  %add.i.i.i.i.i.i.i30 = add nsw i32 %34, -1
  store i32 %add.i.i.i.i.i.i.i30, ptr %_M_weak_count.i.i.i.i.i.i27, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i31

if.else.i.i.i.i.i.i.i37:                          ; preds = %if.then7.i.i.i.i24
  %35 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i27, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i31

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i31: ; preds = %if.else.i.i.i.i.i.i.i37, %if.then.i.i.i.i.i.i.i29
  %retval.i.0.i.i.i.i.i.i32 = phi i32 [ %34, %if.then.i.i.i.i.i.i.i29 ], [ %35, %if.else.i.i.i.i.i.i.i37 ]
  %cmp.i.i.i.i.i.i33 = icmp eq i32 %retval.i.0.i.i.i.i.i.i32, 1
  br i1 %cmp.i.i.i.i.i.i33, label %if.end8.sink.split.i.i.i.i34, label %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit

if.end8.sink.split.i.i.i.i34:                     ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i31, %if.then.i.i.i.i39
  %vtable2.i.i.i.i.i.i35 = load ptr, ptr %26, align 8
  %vfn3.i.i.i.i.i.i36 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i35, i64 3
  %36 = load ptr, ptr %vfn3.i.i.i.i.i.i36, align 8
  tail call void %36(ptr noundef nonnull align 8 dereferenceable(16) %26) #28
  br label %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit

_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit11, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i21, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i31, %if.end8.sink.split.i.i.i.i34
  %_M_refcount.i.i43 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 3, i32 0, i32 1
  %37 = load ptr, ptr %_M_refcount.i.i43, align 8
  %cmp.not.i.i.i44 = icmp eq ptr %37, null
  br i1 %cmp.not.i.i.i44, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit, label %if.then.i.i.i45

if.then.i.i.i45:                                  ; preds = %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit
  %_M_use_count.i.i.i.i46 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %37, i64 0, i32 1
  %38 = load atomic i64, ptr %_M_use_count.i.i.i.i46 acquire, align 8
  %cmp.i.i.i.i47 = icmp eq i64 %38, 4294967297
  %39 = trunc i64 %38 to i32
  br i1 %cmp.i.i.i.i47, label %if.then.i.i.i.i70, label %if.end.i.i.i.i48

if.then.i.i.i.i70:                                ; preds = %if.then.i.i.i45
  store i32 0, ptr %_M_use_count.i.i.i.i46, align 8
  %_M_weak_count.i.i.i.i71 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %37, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i71, align 4
  %vtable.i.i.i.i72 = load ptr, ptr %37, align 8
  %vfn.i.i.i.i73 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i72, i64 2
  %40 = load ptr, ptr %vfn.i.i.i.i73, align 8
  tail call void %40(ptr noundef nonnull align 8 dereferenceable(16) %37) #28
  br label %if.end8.sink.split.i.i.i.i65

if.end.i.i.i.i48:                                 ; preds = %if.then.i.i.i45
  %41 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i49 = icmp eq i8 %41, 0
  br i1 %tobool.i.not.i.i.i.i49, label %if.else.i.i.i.i.i69, label %if.then.i.i.i.i.i50

if.then.i.i.i.i.i50:                              ; preds = %if.end.i.i.i.i48
  %add.i.i.i.i.i51 = add nsw i32 %39, -1
  store i32 %add.i.i.i.i.i51, ptr %_M_use_count.i.i.i.i46, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i52

if.else.i.i.i.i.i69:                              ; preds = %if.end.i.i.i.i48
  %42 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i46, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i52

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i52: ; preds = %if.else.i.i.i.i.i69, %if.then.i.i.i.i.i50
  %retval.i.0.i.i.i.i53 = phi i32 [ %39, %if.then.i.i.i.i.i50 ], [ %42, %if.else.i.i.i.i.i69 ]
  %cmp6.i.i.i.i54 = icmp eq i32 %retval.i.0.i.i.i.i53, 1
  br i1 %cmp6.i.i.i.i54, label %if.then7.i.i.i.i55, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit

if.then7.i.i.i.i55:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i52
  %vtable.i.i.i.i.i.i56 = load ptr, ptr %37, align 8
  %vfn.i.i.i.i.i.i57 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i56, i64 2
  %43 = load ptr, ptr %vfn.i.i.i.i.i.i57, align 8
  tail call void %43(ptr noundef nonnull align 8 dereferenceable(16) %37) #28
  %_M_weak_count.i.i.i.i.i.i58 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %37, i64 0, i32 2
  %44 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i59 = icmp eq i8 %44, 0
  br i1 %tobool.i.not.i.i.i.i.i.i59, label %if.else.i.i.i.i.i.i.i68, label %if.then.i.i.i.i.i.i.i60

if.then.i.i.i.i.i.i.i60:                          ; preds = %if.then7.i.i.i.i55
  %45 = load i32, ptr %_M_weak_count.i.i.i.i.i.i58, align 4
  %add.i.i.i.i.i.i.i61 = add nsw i32 %45, -1
  store i32 %add.i.i.i.i.i.i.i61, ptr %_M_weak_count.i.i.i.i.i.i58, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i62

if.else.i.i.i.i.i.i.i68:                          ; preds = %if.then7.i.i.i.i55
  %46 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i58, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i62

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i62: ; preds = %if.else.i.i.i.i.i.i.i68, %if.then.i.i.i.i.i.i.i60
  %retval.i.0.i.i.i.i.i.i63 = phi i32 [ %45, %if.then.i.i.i.i.i.i.i60 ], [ %46, %if.else.i.i.i.i.i.i.i68 ]
  %cmp.i.i.i.i.i.i64 = icmp eq i32 %retval.i.0.i.i.i.i.i.i63, 1
  br i1 %cmp.i.i.i.i.i.i64, label %if.end8.sink.split.i.i.i.i65, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit

if.end8.sink.split.i.i.i.i65:                     ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i62, %if.then.i.i.i.i70
  %vtable2.i.i.i.i.i.i66 = load ptr, ptr %37, align 8
  %vfn3.i.i.i.i.i.i67 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i66, i64 3
  %47 = load ptr, ptr %vfn3.i.i.i.i.i.i67, align 8
  tail call void %47(ptr noundef nonnull align 8 dereferenceable(16) %37) #28
  br label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit

_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit: ; preds = %_ZNSt10shared_ptrIN4fizz16ClientExtensionsEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i52, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i62, %if.end8.sink.split.i.i.i.i65
  tail call void @_ZN4fizz13AsyncFizzBaseD2Ev(ptr noundef nonnull align 8 dereferenceable(576) %this) #28
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev(ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #6 comdat align 2 {
entry:
  tail call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED2Ev(ptr noundef nonnull align 8 dereferenceable(2272) %this) #28
  tail call void @_ZdlPv(ptr noundef nonnull %this) #31
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly18DelayedDestruction16onDelayedDestroyEb(ptr noundef nonnull align 8 dereferenceable(13) %this, i1 noundef zeroext %delayed) unnamed_addr #6 comdat align 2 {
entry:
  br i1 %delayed, label %land.lhs.true, label %if.end

land.lhs.true:                                    ; preds = %entry
  %destroyPending_ = getelementptr inbounds %"class.folly::DelayedDestruction", ptr %this, i64 0, i32 1
  %0 = load i8, ptr %destroyPending_, align 4
  %1 = and i8 %0, 1
  %tobool2.not = icmp eq i8 %1, 0
  br i1 %tobool2.not, label %delete.end, label %if.end

if.end:                                           ; preds = %land.lhs.true, %entry
  %destroyPending_3 = getelementptr inbounds %"class.folly::DelayedDestruction", ptr %this, i64 0, i32 1
  store i8 0, ptr %destroyPending_3, align 4
  %vtable = load ptr, ptr %this, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 1
  %2 = load ptr, ptr %vfn, align 8
  tail call void %2(ptr noundef nonnull align 8 dereferenceable(13) %this) #28
  br label %delete.end

delete.end:                                       ; preds = %land.lhs.true, %if.end
  ret void
}

declare void @_ZN4fizz13AsyncFizzBase7destroyEv(ptr noundef nonnull align 8 dereferenceable(576)) unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE5closeEv(ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i = alloca %"class.std::__cxx11::basic_string", align 8
  %dg = alloca %"class.folly::DelayedDestructionBase::DestructorGuard", align 8
  %ase = alloca %"class.folly::AsyncSocketException", align 8
  %ref.tmp = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp3 = alloca %"class.std::allocator", align 1
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %0, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 9
  %1 = load ptr, ptr %vfn, align 8
  %call2 = tail call noundef zeroext i1 %1(ptr noundef nonnull align 8 dereferenceable(48) %0)
  br i1 %call2, label %if.then, label %if.else

if.then:                                          ; preds = %entry
  %fizzClient_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9
  tail call void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E17appCloseImmediateEv(ptr noundef nonnull align 8 dereferenceable(163) %fizzClient_)
  br label %if.end

if.else:                                          ; preds = %entry
  store ptr %this, ptr %dg, align 8
  %guardCount_.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %this, i64 0, i32 1
  %2 = load i32, ptr %guardCount_.i, align 8
  %inc.i = add i32 %2, 1
  store i32 %inc.i, ptr %guardCount_.i, align 8
  call void @_ZNSaIcEC1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp3) #28
  %call.i4 = invoke noundef ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_M_local_dataEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp)
          to label %call.i.noexc unwind label %lpad

call.i.noexc:                                     ; preds = %if.else
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_Alloc_hiderC1EPcRKS3_(ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp, ptr noundef %call.i4, ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp3)
          to label %.noexc unwind label %lpad

.noexc:                                           ; preds = %call.i.noexc
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tag(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp, ptr noundef nonnull @.str.36, ptr noundef nonnull getelementptr inbounds ([22 x i8], ptr @.str.36, i64 0, i64 21))
          to label %invoke.cont unwind label %lpad.i

lpad.i:                                           ; preds = %.noexc
  %3 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSaIcED2Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp) #28
  br label %ehcleanup

invoke.cont:                                      ; preds = %.noexc
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %ref.tmp.i)
  invoke void @_ZN5folly20AsyncSocketException10getMessageENS0_24AsyncSocketExceptionTypeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEi(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp.i, i32 noundef 4, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp, i32 noundef 0)
          to label %.noexc6 unwind label %lpad4

.noexc6:                                          ; preds = %invoke.cont
  invoke void @_ZNSt13runtime_errorC2ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr noundef nonnull align 8 dereferenceable(16) %ase, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i)
          to label %invoke.cont5 unwind label %lpad.i5

lpad.i5:                                          ; preds = %.noexc6
  %4 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #28
  br label %lpad4.body

invoke.cont5:                                     ; preds = %.noexc6
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #28
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN5folly20AsyncSocketExceptionE, i64 0, inrange i32 0, i64 2), ptr %ase, align 8
  %type_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ase, i64 0, i32 1
  store i32 4, ptr %type_.i, align 8
  %errno_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ase, i64 0, i32 2
  store i32 0, ptr %errno_.i, align 4
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %ref.tmp.i)
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #28
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp3) #28
  invoke void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE16deliverAllErrorsERKN5folly20AsyncSocketExceptionEb(ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr noundef nonnull align 8 dereferenceable(24) %ase, i1 noundef zeroext false)
          to label %invoke.cont7 unwind label %lpad6

invoke.cont7:                                     ; preds = %invoke.cont5
  %5 = load ptr, ptr %transport_, align 8
  %vtable10 = load ptr, ptr %5, align 8
  %vfn11 = getelementptr inbounds ptr, ptr %vtable10, i64 4
  %6 = load ptr, ptr %vfn11, align 8
  invoke void %6(ptr noundef nonnull align 8 dereferenceable(48) %5)
          to label %if.then.i unwind label %lpad6

if.then.i:                                        ; preds = %invoke.cont7
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ase) #28
  %7 = load i32, ptr %guardCount_.i, align 8
  %dec.i = add i32 %7, -1
  store i32 %dec.i, ptr %guardCount_.i, align 8
  %cmp5.i = icmp eq i32 %dec.i, 0
  br i1 %cmp5.i, label %if.then6.i, label %if.end

if.then6.i:                                       ; preds = %if.then.i
  %vtable.i = load ptr, ptr %this, align 8
  %vfn.i = getelementptr inbounds ptr, ptr %vtable.i, i64 2
  %8 = load ptr, ptr %vfn.i, align 8
  invoke void %8(ptr noundef nonnull align 8 dereferenceable(12) %this, i1 noundef zeroext true)
          to label %if.end unwind label %terminate.lpad.i

terminate.lpad.i:                                 ; preds = %if.then6.i
  %9 = landingpad { ptr, i32 }
          catch ptr null
  %10 = extractvalue { ptr, i32 } %9, 0
  call void @__clang_call_terminate(ptr %10) #30
  unreachable

lpad:                                             ; preds = %call.i.noexc, %if.else
  %11 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad4:                                            ; preds = %invoke.cont
  %12 = landingpad { ptr, i32 }
          cleanup
  br label %lpad4.body

lpad4.body:                                       ; preds = %lpad.i5, %lpad4
  %eh.lpad-body7 = phi { ptr, i32 } [ %12, %lpad4 ], [ %4, %lpad.i5 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #28
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad, %lpad.i, %lpad4.body
  %.pn = phi { ptr, i32 } [ %eh.lpad-body7, %lpad4.body ], [ %11, %lpad ], [ %3, %lpad.i ]
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp3) #28
  br label %ehcleanup14

lpad6:                                            ; preds = %invoke.cont7, %invoke.cont5
  %13 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ase) #28
  br label %ehcleanup14

ehcleanup14:                                      ; preds = %lpad6, %ehcleanup
  %.pn2 = phi { ptr, i32 } [ %13, %lpad6 ], [ %.pn, %ehcleanup ]
  call void @_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev(ptr noundef nonnull align 8 dereferenceable(8) %dg) #28
  resume { ptr, i32 } %.pn2

if.end:                                           ; preds = %if.then6.i, %if.then.i, %if.then
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE8closeNowEv(ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i = alloca %"class.std::__cxx11::basic_string", align 8
  %dg = alloca %"class.folly::DelayedDestructionBase::DestructorGuard", align 8
  %ase = alloca %"class.folly::AsyncSocketException", align 8
  %ref.tmp = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp4 = alloca %"class.std::allocator", align 1
  store ptr %this, ptr %dg, align 8
  %guardCount_.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %this, i64 0, i32 1
  %0 = load i32, ptr %guardCount_.i, align 8
  %inc.i = add i32 %0, 1
  store i32 %inc.i, ptr %guardCount_.i, align 8
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %1 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %1, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 9
  %2 = load ptr, ptr %vfn, align 8
  %call2 = invoke noundef zeroext i1 %2(ptr noundef nonnull align 8 dereferenceable(48) %1)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  br i1 %call2, label %if.then, label %if.end

if.then:                                          ; preds = %invoke.cont
  %fizzClient_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9
  invoke void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E17appCloseImmediateEv(ptr noundef nonnull align 8 dereferenceable(163) %fizzClient_)
          to label %if.end unwind label %lpad

lpad:                                             ; preds = %if.then, %entry
  %3 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup17

if.end:                                           ; preds = %if.then, %invoke.cont
  call void @_ZNSaIcEC1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp4) #28
  %call.i4 = invoke noundef ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_M_local_dataEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp)
          to label %call.i.noexc unwind label %lpad5

call.i.noexc:                                     ; preds = %if.end
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_Alloc_hiderC1EPcRKS3_(ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp, ptr noundef %call.i4, ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp4)
          to label %.noexc unwind label %lpad5

.noexc:                                           ; preds = %call.i.noexc
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tag(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp, ptr noundef nonnull @.str.36, ptr noundef nonnull getelementptr inbounds ([22 x i8], ptr @.str.36, i64 0, i64 21))
          to label %invoke.cont6 unwind label %lpad.i

lpad.i:                                           ; preds = %.noexc
  %4 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSaIcED2Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp) #28
  br label %ehcleanup

invoke.cont6:                                     ; preds = %.noexc
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %ref.tmp.i)
  invoke void @_ZN5folly20AsyncSocketException10getMessageENS0_24AsyncSocketExceptionTypeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEi(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp.i, i32 noundef 4, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp, i32 noundef 0)
          to label %.noexc6 unwind label %lpad7

.noexc6:                                          ; preds = %invoke.cont6
  invoke void @_ZNSt13runtime_errorC2ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr noundef nonnull align 8 dereferenceable(16) %ase, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i)
          to label %invoke.cont8 unwind label %lpad.i5

lpad.i5:                                          ; preds = %.noexc6
  %5 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #28
  br label %lpad7.body

invoke.cont8:                                     ; preds = %.noexc6
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #28
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN5folly20AsyncSocketExceptionE, i64 0, inrange i32 0, i64 2), ptr %ase, align 8
  %type_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ase, i64 0, i32 1
  store i32 4, ptr %type_.i, align 8
  %errno_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ase, i64 0, i32 2
  store i32 0, ptr %errno_.i, align 4
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %ref.tmp.i)
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #28
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp4) #28
  invoke void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE16deliverAllErrorsERKN5folly20AsyncSocketExceptionEb(ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr noundef nonnull align 8 dereferenceable(24) %ase, i1 noundef zeroext false)
          to label %invoke.cont10 unwind label %lpad9

invoke.cont10:                                    ; preds = %invoke.cont8
  %6 = load ptr, ptr %transport_, align 8
  %vtable13 = load ptr, ptr %6, align 8
  %vfn14 = getelementptr inbounds ptr, ptr %vtable13, i64 5
  %7 = load ptr, ptr %vfn14, align 8
  invoke void %7(ptr noundef nonnull align 8 dereferenceable(48) %6)
          to label %if.then.i unwind label %lpad9

if.then.i:                                        ; preds = %invoke.cont10
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ase) #28
  %8 = load i32, ptr %guardCount_.i, align 8
  %dec.i = add i32 %8, -1
  store i32 %dec.i, ptr %guardCount_.i, align 8
  %cmp5.i = icmp eq i32 %dec.i, 0
  br i1 %cmp5.i, label %if.then6.i, label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit

if.then6.i:                                       ; preds = %if.then.i
  %vtable.i = load ptr, ptr %this, align 8
  %vfn.i = getelementptr inbounds ptr, ptr %vtable.i, i64 2
  %9 = load ptr, ptr %vfn.i, align 8
  invoke void %9(ptr noundef nonnull align 8 dereferenceable(12) %this, i1 noundef zeroext true)
          to label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit unwind label %terminate.lpad.i

terminate.lpad.i:                                 ; preds = %if.then6.i
  %10 = landingpad { ptr, i32 }
          catch ptr null
  %11 = extractvalue { ptr, i32 } %10, 0
  call void @__clang_call_terminate(ptr %11) #30
  unreachable

_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit: ; preds = %if.then.i, %if.then6.i
  ret void

lpad5:                                            ; preds = %call.i.noexc, %if.end
  %12 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad7:                                            ; preds = %invoke.cont6
  %13 = landingpad { ptr, i32 }
          cleanup
  br label %lpad7.body

lpad7.body:                                       ; preds = %lpad.i5, %lpad7
  %eh.lpad-body7 = phi { ptr, i32 } [ %13, %lpad7 ], [ %5, %lpad.i5 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #28
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad5, %lpad.i, %lpad7.body
  %.pn = phi { ptr, i32 } [ %eh.lpad-body7, %lpad7.body ], [ %12, %lpad5 ], [ %4, %lpad.i ]
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp4) #28
  br label %ehcleanup17

lpad9:                                            ; preds = %invoke.cont10, %invoke.cont8
  %14 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ase) #28
  br label %ehcleanup17

ehcleanup17:                                      ; preds = %lpad9, %ehcleanup, %lpad
  %.pn2 = phi { ptr, i32 } [ %14, %lpad9 ], [ %.pn, %ehcleanup ], [ %3, %lpad ]
  call void @_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev(ptr noundef nonnull align 8 dereferenceable(8) %dg) #28
  resume { ptr, i32 } %.pn2
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE14closeWithResetEv(ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i = alloca %"class.std::__cxx11::basic_string", align 8
  %dg = alloca %"class.folly::DelayedDestructionBase::DestructorGuard", align 8
  %ase = alloca %"class.folly::AsyncSocketException", align 8
  %ref.tmp = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp4 = alloca %"class.std::allocator", align 1
  store ptr %this, ptr %dg, align 8
  %guardCount_.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %this, i64 0, i32 1
  %0 = load i32, ptr %guardCount_.i, align 8
  %inc.i = add i32 %0, 1
  store i32 %inc.i, ptr %guardCount_.i, align 8
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %1 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %1, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 9
  %2 = load ptr, ptr %vfn, align 8
  %call2 = invoke noundef zeroext i1 %2(ptr noundef nonnull align 8 dereferenceable(48) %1)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  br i1 %call2, label %if.then, label %if.end

if.then:                                          ; preds = %invoke.cont
  %fizzClient_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9
  invoke void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E17appCloseImmediateEv(ptr noundef nonnull align 8 dereferenceable(163) %fizzClient_)
          to label %if.end unwind label %lpad

lpad:                                             ; preds = %if.then, %entry
  %3 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup17

if.end:                                           ; preds = %if.then, %invoke.cont
  call void @_ZNSaIcEC1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp4) #28
  %call.i4 = invoke noundef ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_M_local_dataEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp)
          to label %call.i.noexc unwind label %lpad5

call.i.noexc:                                     ; preds = %if.end
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_Alloc_hiderC1EPcRKS3_(ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp, ptr noundef %call.i4, ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp4)
          to label %.noexc unwind label %lpad5

.noexc:                                           ; preds = %call.i.noexc
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tag(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp, ptr noundef nonnull @.str.36, ptr noundef nonnull getelementptr inbounds ([22 x i8], ptr @.str.36, i64 0, i64 21))
          to label %invoke.cont6 unwind label %lpad.i

lpad.i:                                           ; preds = %.noexc
  %4 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSaIcED2Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp) #28
  br label %ehcleanup

invoke.cont6:                                     ; preds = %.noexc
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %ref.tmp.i)
  invoke void @_ZN5folly20AsyncSocketException10getMessageENS0_24AsyncSocketExceptionTypeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEi(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp.i, i32 noundef 4, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp, i32 noundef 0)
          to label %.noexc6 unwind label %lpad7

.noexc6:                                          ; preds = %invoke.cont6
  invoke void @_ZNSt13runtime_errorC2ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr noundef nonnull align 8 dereferenceable(16) %ase, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i)
          to label %invoke.cont8 unwind label %lpad.i5

lpad.i5:                                          ; preds = %.noexc6
  %5 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #28
  br label %lpad7.body

invoke.cont8:                                     ; preds = %.noexc6
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #28
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN5folly20AsyncSocketExceptionE, i64 0, inrange i32 0, i64 2), ptr %ase, align 8
  %type_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ase, i64 0, i32 1
  store i32 4, ptr %type_.i, align 8
  %errno_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ase, i64 0, i32 2
  store i32 0, ptr %errno_.i, align 4
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %ref.tmp.i)
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #28
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp4) #28
  invoke void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE16deliverAllErrorsERKN5folly20AsyncSocketExceptionEb(ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr noundef nonnull align 8 dereferenceable(24) %ase, i1 noundef zeroext false)
          to label %invoke.cont10 unwind label %lpad9

invoke.cont10:                                    ; preds = %invoke.cont8
  %6 = load ptr, ptr %transport_, align 8
  %vtable13 = load ptr, ptr %6, align 8
  %vfn14 = getelementptr inbounds ptr, ptr %vtable13, i64 6
  %7 = load ptr, ptr %vfn14, align 8
  invoke void %7(ptr noundef nonnull align 8 dereferenceable(48) %6)
          to label %if.then.i unwind label %lpad9

if.then.i:                                        ; preds = %invoke.cont10
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ase) #28
  %8 = load i32, ptr %guardCount_.i, align 8
  %dec.i = add i32 %8, -1
  store i32 %dec.i, ptr %guardCount_.i, align 8
  %cmp5.i = icmp eq i32 %dec.i, 0
  br i1 %cmp5.i, label %if.then6.i, label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit

if.then6.i:                                       ; preds = %if.then.i
  %vtable.i = load ptr, ptr %this, align 8
  %vfn.i = getelementptr inbounds ptr, ptr %vtable.i, i64 2
  %9 = load ptr, ptr %vfn.i, align 8
  invoke void %9(ptr noundef nonnull align 8 dereferenceable(12) %this, i1 noundef zeroext true)
          to label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit unwind label %terminate.lpad.i

terminate.lpad.i:                                 ; preds = %if.then6.i
  %10 = landingpad { ptr, i32 }
          catch ptr null
  %11 = extractvalue { ptr, i32 } %10, 0
  call void @__clang_call_terminate(ptr %11) #30
  unreachable

_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit: ; preds = %if.then.i, %if.then6.i
  ret void

lpad5:                                            ; preds = %call.i.noexc, %if.end
  %12 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad7:                                            ; preds = %invoke.cont6
  %13 = landingpad { ptr, i32 }
          cleanup
  br label %lpad7.body

lpad7.body:                                       ; preds = %lpad.i5, %lpad7
  %eh.lpad-body7 = phi { ptr, i32 } [ %13, %lpad7 ], [ %5, %lpad.i5 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #28
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad5, %lpad.i, %lpad7.body
  %.pn = phi { ptr, i32 } [ %eh.lpad-body7, %lpad7.body ], [ %12, %lpad5 ], [ %4, %lpad.i ]
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp4) #28
  br label %ehcleanup17

lpad9:                                            ; preds = %invoke.cont10, %invoke.cont8
  %14 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ase) #28
  br label %ehcleanup17

ehcleanup17:                                      ; preds = %lpad9, %ehcleanup, %lpad
  %.pn2 = phi { ptr, i32 } [ %14, %lpad9 ], [ %.pn, %ehcleanup ], [ %3, %lpad ]
  call void @_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev(ptr noundef nonnull align 8 dereferenceable(8) %dg) #28
  resume { ptr, i32 } %.pn2
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE13shutdownWriteEv(ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %dg = alloca %"class.folly::DelayedDestructionBase::DestructorGuard", align 8
  store ptr %this, ptr %dg, align 8
  %guardCount_.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %this, i64 0, i32 1
  %0 = load i32, ptr %guardCount_.i, align 8
  %inc.i = add i32 %0, 1
  store i32 %inc.i, ptr %guardCount_.i, align 8
  %vtable = load ptr, ptr %this, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 57
  %1 = load ptr, ptr %vfn, align 8
  invoke void %1(ptr noundef nonnull align 8 dereferenceable(2272) %this)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %2 = load ptr, ptr %transport_, align 8
  %vtable2 = load ptr, ptr %2, align 8
  %vfn3 = getelementptr inbounds ptr, ptr %vtable2, i64 7
  %3 = load ptr, ptr %vfn3, align 8
  invoke void %3(ptr noundef nonnull align 8 dereferenceable(48) %2)
          to label %if.then.i unwind label %lpad

if.then.i:                                        ; preds = %invoke.cont
  %4 = load i32, ptr %guardCount_.i, align 8
  %dec.i = add i32 %4, -1
  store i32 %dec.i, ptr %guardCount_.i, align 8
  %cmp5.i = icmp eq i32 %dec.i, 0
  br i1 %cmp5.i, label %if.then6.i, label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit

if.then6.i:                                       ; preds = %if.then.i
  %vtable.i = load ptr, ptr %this, align 8
  %vfn.i = getelementptr inbounds ptr, ptr %vtable.i, i64 2
  %5 = load ptr, ptr %vfn.i, align 8
  invoke void %5(ptr noundef nonnull align 8 dereferenceable(12) %this, i1 noundef zeroext true)
          to label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit unwind label %terminate.lpad.i

terminate.lpad.i:                                 ; preds = %if.then6.i
  %6 = landingpad { ptr, i32 }
          catch ptr null
  %7 = extractvalue { ptr, i32 } %6, 0
  tail call void @__clang_call_terminate(ptr %7) #30
  unreachable

_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit: ; preds = %if.then.i, %if.then6.i
  ret void

lpad:                                             ; preds = %invoke.cont, %entry
  %8 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev(ptr noundef nonnull align 8 dereferenceable(8) %dg) #28
  resume { ptr, i32 } %8
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE16shutdownWriteNowEv(ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %dg = alloca %"class.folly::DelayedDestructionBase::DestructorGuard", align 8
  store ptr %this, ptr %dg, align 8
  %guardCount_.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %this, i64 0, i32 1
  %0 = load i32, ptr %guardCount_.i, align 8
  %inc.i = add i32 %0, 1
  store i32 %inc.i, ptr %guardCount_.i, align 8
  %vtable = load ptr, ptr %this, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 57
  %1 = load ptr, ptr %vfn, align 8
  invoke void %1(ptr noundef nonnull align 8 dereferenceable(2272) %this)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %2 = load ptr, ptr %transport_, align 8
  %vtable2 = load ptr, ptr %2, align 8
  %vfn3 = getelementptr inbounds ptr, ptr %vtable2, i64 8
  %3 = load ptr, ptr %vfn3, align 8
  invoke void %3(ptr noundef nonnull align 8 dereferenceable(48) %2)
          to label %if.then.i unwind label %lpad

if.then.i:                                        ; preds = %invoke.cont
  %4 = load i32, ptr %guardCount_.i, align 8
  %dec.i = add i32 %4, -1
  store i32 %dec.i, ptr %guardCount_.i, align 8
  %cmp5.i = icmp eq i32 %dec.i, 0
  br i1 %cmp5.i, label %if.then6.i, label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit

if.then6.i:                                       ; preds = %if.then.i
  %vtable.i = load ptr, ptr %this, align 8
  %vfn.i = getelementptr inbounds ptr, ptr %vtable.i, i64 2
  %5 = load ptr, ptr %vfn.i, align 8
  invoke void %5(ptr noundef nonnull align 8 dereferenceable(12) %this, i1 noundef zeroext true)
          to label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit unwind label %terminate.lpad.i

terminate.lpad.i:                                 ; preds = %if.then6.i
  %6 = landingpad { ptr, i32 }
          catch ptr null
  %7 = extractvalue { ptr, i32 } %6, 0
  tail call void @__clang_call_terminate(ptr %7) #30
  unreachable

_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit: ; preds = %if.then.i, %if.then6.i
  ret void

lpad:                                             ; preds = %invoke.cont, %entry
  %8 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev(ptr noundef nonnull align 8 dereferenceable(8) %dg) #28
  resume { ptr, i32 } %8
}

; Function Attrs: mustprogress uwtable
define linkonce_odr noundef zeroext i1 @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE4goodEv(ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #3 comdat align 2 {
entry:
  %vtable = load ptr, ptr %this, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 14
  %0 = load ptr, ptr %vfn, align 8
  %call = tail call noundef zeroext i1 %0(ptr noundef nonnull align 8 dereferenceable(2272) %this)
  br i1 %call, label %land.end, label %land.lhs.true

land.lhs.true:                                    ; preds = %entry
  %state_.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 2
  %1 = load ptr, ptr %state_.i.i, align 8
  %2 = load i32, ptr %1, align 8
  %cmp.i.i = icmp eq i32 %2, 9
  br i1 %cmp.i.i, label %land.end, label %_ZNK4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E15inTerminalStateEv.exit

_ZNK4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E15inTerminalStateEv.exit: ; preds = %land.lhs.true
  %externalError_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 12
  %3 = load i8, ptr %externalError_.i, align 1
  %4 = and i8 %3, 1
  %tobool.not.i = icmp ne i8 %4, 0
  %cmp.i = icmp eq i32 %2, 8
  %spec.select.i = or i1 %cmp.i, %tobool.not.i
  br i1 %spec.select.i, label %land.end, label %land.rhs

land.rhs:                                         ; preds = %_ZNK4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E15inTerminalStateEv.exit
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %5 = load ptr, ptr %transport_, align 8
  %vtable4 = load ptr, ptr %5, align 8
  %vfn5 = getelementptr inbounds ptr, ptr %vtable4, i64 9
  %6 = load ptr, ptr %vfn5, align 8
  %call6 = tail call noundef zeroext i1 %6(ptr noundef nonnull align 8 dereferenceable(48) %5)
  br label %land.end

land.end:                                         ; preds = %land.lhs.true, %land.rhs, %_ZNK4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E15inTerminalStateEv.exit, %entry
  %7 = phi i1 [ false, %_ZNK4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E15inTerminalStateEv.exit ], [ false, %entry ], [ %call6, %land.rhs ], [ false, %land.lhs.true ]
  ret i1 %7
}

; Function Attrs: mustprogress uwtable
define linkonce_odr noundef zeroext i1 @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE8readableEv(ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #3 comdat align 2 {
entry:
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %0, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 10
  %1 = load ptr, ptr %vfn, align 8
  %call2 = tail call noundef zeroext i1 %1(ptr noundef nonnull align 8 dereferenceable(48) %0)
  ret i1 %call2
}

; Function Attrs: mustprogress uwtable
define linkonce_odr noundef zeroext i1 @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE8writableEv(ptr noundef nonnull align 8 dereferenceable(56) %this) unnamed_addr #3 comdat align 2 {
entry:
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %0, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 11
  %1 = load ptr, ptr %vfn, align 8
  %call2 = tail call noundef zeroext i1 %1(ptr noundef nonnull align 8 dereferenceable(48) %0)
  ret i1 %call2
}

; Function Attrs: mustprogress uwtable
define linkonce_odr noundef zeroext i1 @_ZNK5folly14AsyncTransport9isPendingEv(ptr noundef nonnull align 8 dereferenceable(48) %this) unnamed_addr #3 comdat align 2 {
entry:
  %vtable = load ptr, ptr %this, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 10
  %0 = load ptr, ptr %vfn, align 8
  %call = tail call noundef zeroext i1 %0(ptr noundef nonnull align 8 dereferenceable(48) %this)
  ret i1 %call
}

; Function Attrs: mustprogress uwtable
define linkonce_odr noundef zeroext i1 @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE10connectingEv(ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #3 comdat align 2 {
entry:
  %hasValue.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 2, i32 0, i32 1
  %0 = load i8, ptr %hasValue.i.i, align 8
  %1 = and i8 %0, 1
  %tobool.i.i.not = icmp eq i8 %1, 0
  br i1 %tobool.i.i.not, label %lor.rhs, label %lor.end

lor.rhs:                                          ; preds = %entry
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %2 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %2, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 13
  %3 = load ptr, ptr %vfn, align 8
  %call3 = tail call noundef zeroext i1 %3(ptr noundef nonnull align 8 dereferenceable(48) %2)
  br label %lor.end

lor.end:                                          ; preds = %lor.rhs, %entry
  %4 = phi i1 [ true, %entry ], [ %call3, %lor.rhs ]
  ret i1 %4
}

; Function Attrs: mustprogress uwtable
define linkonce_odr noundef zeroext i1 @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE5errorEv(ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #3 comdat align 2 {
entry:
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %0, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 14
  %1 = load ptr, ptr %vfn, align 8
  %call2 = tail call noundef zeroext i1 %1(ptr noundef nonnull align 8 dereferenceable(48) %0)
  br i1 %call2, label %lor.end, label %lor.rhs

lor.rhs:                                          ; preds = %entry
  %state_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 2
  %2 = load ptr, ptr %state_.i, align 8
  %3 = load i32, ptr %2, align 8
  %cmp.i = icmp eq i32 %3, 9
  br label %lor.end

lor.end:                                          ; preds = %lor.rhs, %entry
  %4 = phi i1 [ true, %entry ], [ %cmp.i, %lor.rhs ]
  ret i1 %4
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz13AsyncFizzBase15attachEventBaseEPN5folly9EventBaseE(ptr noundef nonnull align 8 dereferenceable(576) %this, ptr noundef %eventBase) unnamed_addr #3 comdat align 2 {
entry:
  %handshakeTimeout_ = getelementptr inbounds %"class.fizz::AsyncFizzBase", ptr %this, i64 0, i32 14
  tail call void @_ZN5folly12AsyncTimeout15attachEventBaseEPNS_9EventBaseENS_14TimeoutManager12InternalEnumE(ptr noundef nonnull align 8 dereferenceable(192) %handshakeTimeout_, ptr noundef %eventBase, i32 noundef 1)
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %0, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 15
  %1 = load ptr, ptr %vfn, align 8
  tail call void %1(ptr noundef nonnull align 8 dereferenceable(48) %0, ptr noundef %eventBase)
  %vtable2 = load ptr, ptr %this, align 8
  %vfn3 = getelementptr inbounds ptr, ptr %vtable2, i64 68
  %2 = load ptr, ptr %vfn3, align 8
  tail call void %2(ptr noundef nonnull align 8 dereferenceable(576) %this)
  %3 = load ptr, ptr %transport_, align 8
  %vtable6 = load ptr, ptr %3, align 8
  %vfn7 = getelementptr inbounds ptr, ptr %vtable6, i64 9
  %4 = load ptr, ptr %vfn7, align 8
  %call8 = tail call noundef zeroext i1 %4(ptr noundef nonnull align 8 dereferenceable(48) %3)
  %readCallback_ = getelementptr inbounds %"class.fizz::AsyncFizzBase", ptr %this, i64 0, i32 7
  %5 = load ptr, ptr %readCallback_, align 8
  %tobool.not = icmp ne ptr %5, null
  %or.cond.not = select i1 %call8, i1 true, i1 %tobool.not
  br i1 %or.cond.not, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  %vtable9 = load ptr, ptr %this, align 8
  %vfn10 = getelementptr inbounds ptr, ptr %vtable9, i64 59
  %6 = load ptr, ptr %vfn10, align 8
  tail call void %6(ptr noundef nonnull align 8 dereferenceable(576) %this)
  br label %if.end

if.end:                                           ; preds = %entry, %if.then
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz13AsyncFizzBase15detachEventBaseEv(ptr noundef nonnull align 8 dereferenceable(576) %this) unnamed_addr #3 comdat align 2 {
entry:
  %handshakeTimeout_ = getelementptr inbounds %"class.fizz::AsyncFizzBase", ptr %this, i64 0, i32 14
  tail call void @_ZN5folly12AsyncTimeout15detachEventBaseEv(ptr noundef nonnull align 8 dereferenceable(192) %handshakeTimeout_)
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %add.ptr = getelementptr inbounds i8, ptr %0, i64 24
  %vtable = load ptr, ptr %add.ptr, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 2
  %1 = load ptr, ptr %vfn, align 8
  tail call void %1(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr, ptr noundef null)
  %2 = load ptr, ptr %transport_, align 8
  %add.ptr4 = getelementptr inbounds i8, ptr %2, i64 24
  %vtable5 = load ptr, ptr %add.ptr4, align 8
  %3 = load ptr, ptr %vtable5, align 8
  tail call void %3(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr4, ptr noundef null)
  %4 = load ptr, ptr %transport_, align 8
  %vtable9 = load ptr, ptr %4, align 8
  %vfn10 = getelementptr inbounds ptr, ptr %vtable9, i64 16
  %5 = load ptr, ptr %vfn10, align 8
  tail call void %5(ptr noundef nonnull align 8 dereferenceable(48) %4)
  %vtable11 = load ptr, ptr %this, align 8
  %vfn12 = getelementptr inbounds ptr, ptr %vtable11, i64 67
  %6 = load ptr, ptr %vfn12, align 8
  tail call void %6(ptr noundef nonnull align 8 dereferenceable(576) %this)
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr noundef zeroext i1 @_ZNK4fizz13AsyncFizzBase12isDetachableEv(ptr noundef nonnull align 8 dereferenceable(576) %this) unnamed_addr #3 comdat align 2 {
entry:
  %handshakeTimeout_ = getelementptr inbounds %"class.fizz::AsyncFizzBase", ptr %this, i64 0, i32 14
  %call = tail call noundef zeroext i1 @_ZNK5folly12AsyncTimeout11isScheduledEv(ptr noundef nonnull align 8 dereferenceable(192) %handshakeTimeout_)
  br i1 %call, label %land.end, label %land.rhs

land.rhs:                                         ; preds = %entry
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %0, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 17
  %1 = load ptr, ptr %vfn, align 8
  %call3 = tail call noundef zeroext i1 %1(ptr noundef nonnull align 8 dereferenceable(48) %0)
  br label %land.end

land.end:                                         ; preds = %land.rhs, %entry
  %2 = phi i1 [ false, %entry ], [ %call3, %land.rhs ]
  ret i1 %2
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE14setSendTimeoutEj(ptr noundef nonnull align 8 dereferenceable(56) %this, i32 noundef %timeoutInMs) unnamed_addr #3 comdat align 2 {
entry:
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %0, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 18
  %1 = load ptr, ptr %vfn, align 8
  tail call void %1(ptr noundef nonnull align 8 dereferenceable(48) %0, i32 noundef %timeoutInMs)
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr noundef i32 @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE14getSendTimeoutEv(ptr noundef nonnull align 8 dereferenceable(56) %this) unnamed_addr #3 comdat align 2 {
entry:
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %0, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 19
  %1 = load ptr, ptr %vfn, align 8
  %call2 = tail call noundef i32 %1(ptr noundef nonnull align 8 dereferenceable(48) %0)
  ret i32 %call2
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE15getLocalAddressEPNS_13SocketAddressE(ptr noundef nonnull align 8 dereferenceable(56) %this, ptr noundef %address) unnamed_addr #3 comdat align 2 {
entry:
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %0, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 20
  %1 = load ptr, ptr %vfn, align 8
  tail call void %1(ptr noundef nonnull align 8 dereferenceable(48) %0, ptr noundef %address)
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNK5folly14AsyncTransport10getAddressEPNS_13SocketAddressE(ptr noundef nonnull align 8 dereferenceable(48) %this, ptr noundef %address) unnamed_addr #3 comdat align 2 {
entry:
  %vtable = load ptr, ptr %this, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 20
  %0 = load ptr, ptr %vfn, align 8
  tail call void %0(ptr noundef nonnull align 8 dereferenceable(48) %this, ptr noundef %address)
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE14getPeerAddressEPNS_13SocketAddressE(ptr noundef nonnull align 8 dereferenceable(56) %this, ptr noundef %address) unnamed_addr #3 comdat align 2 {
entry:
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %0, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 22
  %1 = load ptr, ptr %vfn, align 8
  tail call void %1(ptr noundef nonnull align 8 dereferenceable(48) %0, ptr noundef %address)
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr noundef ptr @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE18getPeerCertificateEv(ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %hasValue.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 1
  %0 = load i8, ptr %hasValue.i.i, align 8
  %1 = and i8 %0, 1
  %tobool.i.i.not = icmp eq i8 %1, 0
  br i1 %tobool.i.i.not, label %cond.false, label %cond.true

cond.true:                                        ; preds = %entry
  %hasValue.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 27, i32 0, i32 1
  %2 = load i8, ptr %hasValue.i.i.i, align 8
  %3 = and i8 %2, 1
  %tobool.not.i.i.i = icmp eq i8 %3, 0
  br i1 %tobool.not.i.i.i, label %if.then.i.i.i, label %cond.end

if.then.i.i.i:                                    ; preds = %cond.true
  tail call void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() #32
  unreachable

cond.false:                                       ; preds = %entry
  %serverCert_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 8
  %4 = load ptr, ptr %serverCert_.i, align 8, !noalias !22
  %_M_refcount3.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 8, i32 0, i32 1
  %5 = load ptr, ptr %_M_refcount3.i.i.i, align 8, !noalias !22
  %cmp.not.i.i.i.i = icmp eq ptr %5, null
  br i1 %cmp.not.i.i.i.i, label %cleanup.done, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %cond.false
  %_M_use_count.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %5, i64 0, i32 1
  %6 = load i8, ptr @__libc_single_threaded, align 1, !noalias !22
  %tobool.i.i.not.i.i.i.i.i = icmp eq i8 %6, 0
  br i1 %tobool.i.i.not.i.i.i.i.i, label %if.else.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i

if.then.i.i.i.i.i.i:                              ; preds = %if.then.i.i.i.i
  %7 = load i32, ptr %_M_use_count.i.i.i.i.i, align 4, !noalias !22
  %add.i.i.i.i.i.i = add nsw i32 %7, 1
  store i32 %add.i.i.i.i.i.i, ptr %_M_use_count.i.i.i.i.i, align 4, !noalias !22
  br label %if.then.i.i.i2

if.else.i.i.i.i.i.i:                              ; preds = %if.then.i.i.i.i
  %8 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i, i32 1 acq_rel, align 4, !noalias !22
  br label %if.then.i.i.i2

cond.end:                                         ; preds = %cond.true
  %serverCert = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 27, i32 0, i32 0, i32 0, i32 2
  %9 = load ptr, ptr %serverCert, align 8
  br label %cleanup.done

if.then.i.i.i2:                                   ; preds = %if.else.i.i.i.i.i.i, %if.then.i.i.i.i.i.i
  %10 = load atomic i64, ptr %_M_use_count.i.i.i.i.i acquire, align 8
  %cmp.i.i.i.i = icmp eq i64 %10, 4294967297
  %11 = trunc i64 %10 to i32
  br i1 %cmp.i.i.i.i, label %if.then.i.i.i.i3, label %if.end.i.i.i.i

if.then.i.i.i.i3:                                 ; preds = %if.then.i.i.i2
  store i32 0, ptr %_M_use_count.i.i.i.i.i, align 8
  %_M_weak_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %5, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i, align 4
  %vtable.i.i.i.i = load ptr, ptr %5, align 8
  %vfn.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i, i64 2
  %12 = load ptr, ptr %vfn.i.i.i.i, align 8
  tail call void %12(ptr noundef nonnull align 8 dereferenceable(16) %5) #28
  br label %if.end8.sink.split.i.i.i.i

if.end.i.i.i.i:                                   ; preds = %if.then.i.i.i2
  %13 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i = icmp eq i8 %13, 0
  br i1 %tobool.i.not.i.i.i.i, label %if.else.i.i.i.i.i, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %add.i.i.i.i.i = add nsw i32 %11, -1
  store i32 %add.i.i.i.i.i, ptr %_M_use_count.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

if.else.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %14 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i: ; preds = %if.else.i.i.i.i.i, %if.then.i.i.i.i.i
  %retval.i.0.i.i.i.i = phi i32 [ %11, %if.then.i.i.i.i.i ], [ %14, %if.else.i.i.i.i.i ]
  %cmp6.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i, label %if.then7.i.i.i.i, label %cleanup.done

if.then7.i.i.i.i:                                 ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i
  %vtable.i.i.i.i.i.i = load ptr, ptr %5, align 8
  %vfn.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i, i64 2
  %15 = load ptr, ptr %vfn.i.i.i.i.i.i, align 8
  tail call void %15(ptr noundef nonnull align 8 dereferenceable(16) %5) #28
  %_M_weak_count.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %5, i64 0, i32 2
  %16 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i = icmp eq i8 %16, 0
  br i1 %tobool.i.not.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %17 = load i32, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i.i = add nsw i32 %17, -1
  store i32 %add.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %18 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i = phi i32 [ %17, %if.then.i.i.i.i.i.i.i ], [ %18, %if.else.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i, label %cleanup.done

if.end8.sink.split.i.i.i.i:                       ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.then.i.i.i.i3
  %vtable2.i.i.i.i.i.i = load ptr, ptr %5, align 8
  %vfn3.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i, i64 3
  %19 = load ptr, ptr %vfn3.i.i.i.i.i.i, align 8
  tail call void %19(ptr noundef nonnull align 8 dereferenceable(16) %5) #28
  br label %cleanup.done

cleanup.done:                                     ; preds = %if.end8.sink.split.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i, %cond.false, %cond.end
  %cond8 = phi ptr [ %9, %cond.end ], [ %4, %cond.false ], [ %4, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i ], [ %4, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i ], [ %4, %if.end8.sink.split.i.i.i.i ]
  ret ptr %cond8
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE19dropPeerCertificateEv(ptr noundef nonnull align 8 dereferenceable(56) %this) unnamed_addr #6 comdat align 2 {
entry:
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %0, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 24
  %1 = load ptr, ptr %vfn, align 8
  tail call void %1(ptr noundef nonnull align 8 dereferenceable(48) %0) #28
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE19dropSelfCertificateEv(ptr noundef nonnull align 8 dereferenceable(56) %this) unnamed_addr #6 comdat align 2 {
entry:
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %0, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 25
  %1 = load ptr, ptr %vfn, align 8
  tail call void %1(ptr noundef nonnull align 8 dereferenceable(48) %0) #28
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr noundef ptr @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE18getSelfCertificateEv(ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %hasValue.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 1
  %0 = load i8, ptr %hasValue.i.i, align 8
  %1 = and i8 %0, 1
  %tobool.i.i.not = icmp eq i8 %1, 0
  br i1 %tobool.i.i.not, label %cond.false, label %cond.true

cond.true:                                        ; preds = %entry
  %hasValue.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 27, i32 0, i32 1
  %2 = load i8, ptr %hasValue.i.i.i, align 8
  %3 = and i8 %2, 1
  %tobool.not.i.i.i = icmp eq i8 %3, 0
  br i1 %tobool.not.i.i.i, label %if.then.i.i.i, label %cond.end

if.then.i.i.i:                                    ; preds = %cond.true
  tail call void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() #32
  unreachable

cond.false:                                       ; preds = %entry
  %clientCert_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 9
  %4 = load ptr, ptr %clientCert_.i, align 8, !noalias !25
  %_M_refcount3.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 9, i32 0, i32 1
  %5 = load ptr, ptr %_M_refcount3.i.i.i, align 8, !noalias !25
  %cmp.not.i.i.i.i = icmp eq ptr %5, null
  br i1 %cmp.not.i.i.i.i, label %cleanup.done, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %cond.false
  %_M_use_count.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %5, i64 0, i32 1
  %6 = load i8, ptr @__libc_single_threaded, align 1, !noalias !25
  %tobool.i.i.not.i.i.i.i.i = icmp eq i8 %6, 0
  br i1 %tobool.i.i.not.i.i.i.i.i, label %if.else.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i

if.then.i.i.i.i.i.i:                              ; preds = %if.then.i.i.i.i
  %7 = load i32, ptr %_M_use_count.i.i.i.i.i, align 4, !noalias !25
  %add.i.i.i.i.i.i = add nsw i32 %7, 1
  store i32 %add.i.i.i.i.i.i, ptr %_M_use_count.i.i.i.i.i, align 4, !noalias !25
  br label %if.then.i.i.i2

if.else.i.i.i.i.i.i:                              ; preds = %if.then.i.i.i.i
  %8 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i, i32 1 acq_rel, align 4, !noalias !25
  br label %if.then.i.i.i2

cond.end:                                         ; preds = %cond.true
  %clientCert = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 27, i32 0, i32 0, i32 0, i32 3
  %9 = load ptr, ptr %clientCert, align 8
  br label %cleanup.done

if.then.i.i.i2:                                   ; preds = %if.else.i.i.i.i.i.i, %if.then.i.i.i.i.i.i
  %10 = load atomic i64, ptr %_M_use_count.i.i.i.i.i acquire, align 8
  %cmp.i.i.i.i = icmp eq i64 %10, 4294967297
  %11 = trunc i64 %10 to i32
  br i1 %cmp.i.i.i.i, label %if.then.i.i.i.i3, label %if.end.i.i.i.i

if.then.i.i.i.i3:                                 ; preds = %if.then.i.i.i2
  store i32 0, ptr %_M_use_count.i.i.i.i.i, align 8
  %_M_weak_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %5, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i, align 4
  %vtable.i.i.i.i = load ptr, ptr %5, align 8
  %vfn.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i, i64 2
  %12 = load ptr, ptr %vfn.i.i.i.i, align 8
  tail call void %12(ptr noundef nonnull align 8 dereferenceable(16) %5) #28
  br label %if.end8.sink.split.i.i.i.i

if.end.i.i.i.i:                                   ; preds = %if.then.i.i.i2
  %13 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i = icmp eq i8 %13, 0
  br i1 %tobool.i.not.i.i.i.i, label %if.else.i.i.i.i.i, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %add.i.i.i.i.i = add nsw i32 %11, -1
  store i32 %add.i.i.i.i.i, ptr %_M_use_count.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

if.else.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %14 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i: ; preds = %if.else.i.i.i.i.i, %if.then.i.i.i.i.i
  %retval.i.0.i.i.i.i = phi i32 [ %11, %if.then.i.i.i.i.i ], [ %14, %if.else.i.i.i.i.i ]
  %cmp6.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i, label %if.then7.i.i.i.i, label %cleanup.done

if.then7.i.i.i.i:                                 ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i
  %vtable.i.i.i.i.i.i = load ptr, ptr %5, align 8
  %vfn.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i, i64 2
  %15 = load ptr, ptr %vfn.i.i.i.i.i.i, align 8
  tail call void %15(ptr noundef nonnull align 8 dereferenceable(16) %5) #28
  %_M_weak_count.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %5, i64 0, i32 2
  %16 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i = icmp eq i8 %16, 0
  br i1 %tobool.i.not.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %17 = load i32, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i.i = add nsw i32 %17, -1
  store i32 %add.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %18 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i = phi i32 [ %17, %if.then.i.i.i.i.i.i.i ], [ %18, %if.else.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i, label %cleanup.done

if.end8.sink.split.i.i.i.i:                       ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.then.i.i.i.i3
  %vtable2.i.i.i.i.i.i = load ptr, ptr %5, align 8
  %vfn3.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i, i64 3
  %19 = load ptr, ptr %vfn3.i.i.i.i.i.i, align 8
  tail call void %19(ptr noundef nonnull align 8 dereferenceable(16) %5) #28
  br label %cleanup.done

cleanup.done:                                     ; preds = %if.end8.sink.split.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i, %cond.false, %cond.end
  %cond8 = phi ptr [ %9, %cond.end ], [ %4, %cond.false ], [ %4, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i ], [ %4, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i ], [ %4, %if.end8.sink.split.i.i.i.i ]
  ret ptr %cond8
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE22getApplicationProtocolB5cxx11Ev(ptr noalias sret(%"class.std::__cxx11::basic_string") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp = alloca %"class.std::allocator", align 1
  %ref.tmp33 = alloca %"class.std::allocator", align 1
  %hasValue.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 1
  %0 = load i8, ptr %hasValue.i.i, align 8
  %1 = and i8 %0, 1
  %tobool.i.i.not = icmp eq i8 %1, 0
  br i1 %tobool.i.i.not, label %if.else18, label %if.then

if.then:                                          ; preds = %entry
  %hasValue.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 27, i32 0, i32 1
  %2 = load i8, ptr %hasValue.i.i.i, align 8
  %3 = and i8 %2, 1
  %tobool.not.i.i.i = icmp eq i8 %3, 0
  br i1 %tobool.not.i.i.i, label %if.then.i.i.i, label %invoke.cont4

if.then.i.i.i:                                    ; preds = %if.then
  invoke void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() #32
          to label %.noexc unwind label %terminate.lpad

.noexc:                                           ; preds = %if.then.i.i.i
  unreachable

invoke.cont4:                                     ; preds = %if.then
  %hasValue.i.i1 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 27, i32 0, i32 0, i32 0, i32 4, i32 0, i32 1
  %4 = load i8, ptr %hasValue.i.i1, align 8
  %5 = and i8 %4, 1
  %tobool.i.i2.not = icmp eq i8 %5, 0
  br i1 %tobool.i.i2.not, label %if.else, label %invoke.cont14

invoke.cont14:                                    ; preds = %invoke.cont4
  %alpn = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 27, i32 0, i32 0, i32 0, i32 4
  br label %invoke.cont29.invoke

if.else:                                          ; preds = %invoke.cont4
  call void @_ZNSaIcEC1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp) #28
  %call.i14 = invoke noundef ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_M_local_dataEv(ptr noundef nonnull align 8 dereferenceable(32) %agg.result)
          to label %call.i.noexc unwind label %terminate.lpad

call.i.noexc:                                     ; preds = %if.else
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_Alloc_hiderC1EPcRKS3_(ptr noundef nonnull align 8 dereferenceable(8) %agg.result, ptr noundef %call.i14, ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp)
          to label %.noexc15 unwind label %terminate.lpad

.noexc15:                                         ; preds = %call.i.noexc
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tag(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, ptr noundef nonnull @.str.32, ptr noundef nonnull @.str.32)
          to label %return.sink.split unwind label %lpad.i

lpad.i:                                           ; preds = %.noexc15
  %6 = landingpad { ptr, i32 }
          catch ptr null
  call void @_ZNSaIcED2Ev(ptr noundef nonnull align 1 dereferenceable(1) %agg.result) #28
  br label %terminate.lpad.body

if.else18:                                        ; preds = %entry
  %hasValue.i.i17 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 22, i32 0, i32 1
  %7 = load i8, ptr %hasValue.i.i17, align 8
  %8 = and i8 %7, 1
  %tobool.i.i18.not = icmp eq i8 %8, 0
  br i1 %tobool.i.i18.not, label %if.else32, label %invoke.cont29

invoke.cont29:                                    ; preds = %if.else18
  %alpn_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 22
  br label %invoke.cont29.invoke

invoke.cont29.invoke:                             ; preds = %invoke.cont14, %invoke.cont29
  %9 = phi ptr [ %alpn_.i, %invoke.cont29 ], [ %alpn, %invoke.cont14 ]
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1ERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, ptr noundef nonnull align 8 dereferenceable(32) %9)
          to label %return unwind label %terminate.lpad

if.else32:                                        ; preds = %if.else18
  call void @_ZNSaIcEC1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp33) #28
  %call.i30 = invoke noundef ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_M_local_dataEv(ptr noundef nonnull align 8 dereferenceable(32) %agg.result)
          to label %call.i.noexc29 unwind label %terminate.lpad

call.i.noexc29:                                   ; preds = %if.else32
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_Alloc_hiderC1EPcRKS3_(ptr noundef nonnull align 8 dereferenceable(8) %agg.result, ptr noundef %call.i30, ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp33)
          to label %.noexc31 unwind label %terminate.lpad

.noexc31:                                         ; preds = %call.i.noexc29
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tag(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, ptr noundef nonnull @.str.32, ptr noundef nonnull @.str.32)
          to label %return.sink.split unwind label %lpad.i28

lpad.i28:                                         ; preds = %.noexc31
  %10 = landingpad { ptr, i32 }
          catch ptr null
  call void @_ZNSaIcED2Ev(ptr noundef nonnull align 1 dereferenceable(1) %agg.result) #28
  br label %terminate.lpad.body

return.sink.split:                                ; preds = %.noexc31, %.noexc15
  %ref.tmp33.sink = phi ptr [ %ref.tmp, %.noexc15 ], [ %ref.tmp33, %.noexc31 ]
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp33.sink) #28
  br label %return

return:                                           ; preds = %invoke.cont29.invoke, %return.sink.split
  ret void

terminate.lpad:                                   ; preds = %invoke.cont29.invoke, %call.i.noexc29, %if.else32, %call.i.noexc, %if.else, %if.then.i.i.i
  %11 = landingpad { ptr, i32 }
          catch ptr null
  br label %terminate.lpad.body

terminate.lpad.body:                              ; preds = %terminate.lpad, %lpad.i28, %lpad.i
  %eh.lpad-body = phi { ptr, i32 } [ %6, %lpad.i ], [ %11, %terminate.lpad ], [ %10, %lpad.i28 ]
  %12 = extractvalue { ptr, i32 } %eh.lpad-body, 0
  call void @__clang_call_terminate(ptr %12) #30
  unreachable
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNK4fizz13AsyncFizzBase19getSecurityProtocolB5cxx11Ev(ptr noalias sret(%"class.std::__cxx11::basic_string") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(576) %this) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp = alloca %"class.std::allocator", align 1
  call void @_ZNSaIcEC1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp) #28
  %call.i1 = invoke noundef ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_M_local_dataEv(ptr noundef nonnull align 8 dereferenceable(32) %agg.result)
          to label %call.i.noexc unwind label %lpad

call.i.noexc:                                     ; preds = %entry
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_Alloc_hiderC1EPcRKS3_(ptr noundef nonnull align 8 dereferenceable(8) %agg.result, ptr noundef %call.i1, ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp)
          to label %.noexc unwind label %lpad

.noexc:                                           ; preds = %call.i.noexc
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tag(ptr noundef nonnull align 8 dereferenceable(32) %agg.result, ptr noundef nonnull @.str.37, ptr noundef nonnull getelementptr inbounds ([5 x i8], ptr @.str.37, i64 0, i64 4))
          to label %invoke.cont unwind label %lpad.i

lpad.i:                                           ; preds = %.noexc
  %0 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSaIcED2Ev(ptr noundef nonnull align 1 dereferenceable(1) %agg.result) #28
  br label %lpad.body

invoke.cont:                                      ; preds = %.noexc
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp) #28
  ret void

lpad:                                             ; preds = %call.i.noexc, %entry
  %1 = landingpad { ptr, i32 }
          cleanup
  br label %lpad.body

lpad.body:                                        ; preds = %lpad.i, %lpad
  %eh.lpad-body = phi { ptr, i32 } [ %1, %lpad ], [ %0, %lpad.i ]
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp) #28
  resume { ptr, i32 } %eh.lpad-body
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE25getExportedKeyingMaterialEN5folly5RangeIPKcEESt10unique_ptrINS4_5IOBufESt14default_deleteISA_EEt(ptr noalias sret(%"class.std::unique_ptr.30") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr %label.coerce0, ptr %label.coerce1, ptr noundef %context, i16 noundef zeroext %length) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %agg.tmp3 = alloca %"class.std::unique_ptr.30", align 8
  %fizzClient_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9
  %fizzContext_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 3
  %0 = load ptr, ptr %fizzContext_, align 8
  %factory_.i = getelementptr inbounds %"class.fizz::client::FizzClientContext", ptr %0, i64 0, i32 1
  %1 = load ptr, ptr %factory_.i, align 8
  %2 = load i64, ptr %context, align 8
  store i64 %2, ptr %agg.tmp3, align 8
  store ptr null, ptr %context, align 8
  invoke void @_ZNK4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E25getExportedKeyingMaterialERKNS_7FactoryEN5folly5RangeIPKcEESt10unique_ptrINSC_5IOBufESt14default_deleteISI_EEt(ptr sret(%"class.std::unique_ptr.30") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(163) %fizzClient_, ptr noundef nonnull align 8 dereferenceable(8) %1, ptr %label.coerce0, ptr %label.coerce1, ptr noundef nonnull %agg.tmp3, i16 noundef zeroext %length)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  %3 = load ptr, ptr %agg.tmp3, align 8
  %cmp.not.i = icmp eq ptr %3, null
  br i1 %cmp.not.i, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i: ; preds = %invoke.cont
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %3) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %3) #28
  br label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit: ; preds = %invoke.cont, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i
  ret void

lpad:                                             ; preds = %entry
  %4 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev(ptr noundef nonnull align 8 dereferenceable(8) %agg.tmp3) #28
  resume { ptr, i32 } %4
}

; Function Attrs: mustprogress uwtable
define linkonce_odr noundef zeroext i1 @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE20isEorTrackingEnabledEv(ptr noundef nonnull align 8 dereferenceable(56) %this) unnamed_addr #3 comdat align 2 {
entry:
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %0, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 30
  %1 = load ptr, ptr %vfn, align 8
  %call2 = tail call noundef zeroext i1 %1(ptr noundef nonnull align 8 dereferenceable(48) %0)
  ret i1 %call2
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE14setEorTrackingEb(ptr noundef nonnull align 8 dereferenceable(56) %this, i1 noundef zeroext %track) unnamed_addr #3 comdat align 2 {
entry:
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %0, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 31
  %1 = load ptr, ptr %vfn, align 8
  tail call void %1(ptr noundef nonnull align 8 dereferenceable(48) %0, i1 noundef zeroext %track)
  ret void
}

declare noundef i64 @_ZNK4fizz13AsyncFizzBase18getAppBytesWrittenEv(ptr noundef nonnull align 8 dereferenceable(576)) unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr noundef i64 @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE18getRawBytesWrittenEv(ptr noundef nonnull align 8 dereferenceable(56) %this) unnamed_addr #3 comdat align 2 {
entry:
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %0, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 33
  %1 = load ptr, ptr %vfn, align 8
  %call2 = tail call noundef i64 %1(ptr noundef nonnull align 8 dereferenceable(48) %0)
  ret i64 %call2
}

declare noundef i64 @_ZNK4fizz13AsyncFizzBase19getAppBytesReceivedEv(ptr noundef nonnull align 8 dereferenceable(576)) unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr noundef i64 @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE19getRawBytesReceivedEv(ptr noundef nonnull align 8 dereferenceable(56) %this) unnamed_addr #3 comdat align 2 {
entry:
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %0, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 35
  %1 = load ptr, ptr %vfn, align 8
  %call2 = tail call noundef i64 %1(ptr noundef nonnull align 8 dereferenceable(48) %0)
  ret i64 %call2
}

declare noundef i64 @_ZNK4fizz13AsyncFizzBase19getAppBytesBufferedEv(ptr noundef nonnull align 8 dereferenceable(576)) unnamed_addr #0

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr noundef i64 @_ZNK5folly14AsyncTransport19getRawBytesBufferedEv(ptr noundef nonnull align 8 dereferenceable(48) %this) unnamed_addr #6 comdat align 2 {
entry:
  ret i64 0
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr noundef i64 @_ZNK5folly14AsyncTransport25getAllocatedBytesBufferedEv(ptr noundef nonnull align 8 dereferenceable(48) %this) unnamed_addr #6 comdat align 2 {
entry:
  ret i64 0
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr noundef zeroext i1 @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE12isReplaySafeEv(ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #6 comdat align 2 {
entry:
  %hasValue.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 1
  %0 = load i8, ptr %hasValue.i.i, align 8
  %1 = and i8 %0, 1
  %tobool.i.i.not = icmp eq i8 %1, 0
  ret i1 %tobool.i.i.not
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE23setReplaySafetyCallbackEPN5folly14AsyncTransport20ReplaySafetyCallbackE(ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr noundef %callback) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %replaySafetyCallback_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 12
  store ptr %callback, ptr %replaySafetyCallback_, align 8
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr noundef ptr @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE19getWrappedTransportEv(ptr noundef nonnull align 8 dereferenceable(56) %this) unnamed_addr #6 comdat align 2 {
entry:
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  ret ptr %0
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE27tryExchangeWrappedTransportERSt10unique_ptrIS1_NS_18DelayedDestruction10DestructorEE(ptr noalias sret(%"class.std::unique_ptr") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(56) %this, ptr noundef nonnull align 8 dereferenceable(8) %transport) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %cmp.i.not = icmp eq ptr %0, null
  br i1 %cmp.i.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  %decoratingTransport_ = getelementptr inbounds %"class.folly::AsyncTransport", ptr %0, i64 0, i32 4
  store ptr null, ptr %decoratingTransport_, align 8
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  %1 = load ptr, ptr %transport, align 8
  %cmp.i3.not = icmp eq ptr %1, null
  br i1 %cmp.i3.not, label %if.end8, label %if.then5

if.then5:                                         ; preds = %if.end
  %decoratingTransport_7 = getelementptr inbounds %"class.folly::AsyncTransport", ptr %1, i64 0, i32 4
  store ptr %this, ptr %decoratingTransport_7, align 8
  br label %if.end8

if.end8:                                          ; preds = %if.then5, %if.end
  tail call void @llvm.experimental.noalias.scope.decl(metadata !28)
  tail call void @llvm.experimental.noalias.scope.decl(metadata !31)
  %2 = load i64, ptr %transport_, align 8, !noalias !34
  store i64 %2, ptr %agg.result, align 8, !alias.scope !34
  store ptr null, ptr %transport_, align 8, !noalias !34
  %3 = load ptr, ptr %transport, align 8, !noalias !34
  store ptr null, ptr %transport, align 8, !noalias !34
  %4 = load ptr, ptr %transport_, align 8, !noalias !34
  store ptr %3, ptr %transport_, align 8, !noalias !34
  %tobool.not.i.i.i.i.i.i = icmp eq ptr %4, null
  br i1 %tobool.not.i.i.i.i.i.i, label %_ZSt8exchangeISt10unique_ptrIN5folly14AsyncTransportENS1_18DelayedDestruction10DestructorEES5_ET_RS6_OT0_.exit, label %if.then.i.i.i.i.i.i

if.then.i.i.i.i.i.i:                              ; preds = %if.end8
  %vtable.i.i.i.i.i.i.i = load ptr, ptr %4, align 8, !noalias !34
  %vfn.i.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i, i64 3
  %5 = load ptr, ptr %vfn.i.i.i.i.i.i.i, align 8, !noalias !34
  invoke void %5(ptr noundef nonnull align 8 dereferenceable(13) %4)
          to label %_ZSt8exchangeISt10unique_ptrIN5folly14AsyncTransportENS1_18DelayedDestruction10DestructorEES5_ET_RS6_OT0_.exit unwind label %terminate.lpad.i.i.i.i.i.i, !noalias !34

terminate.lpad.i.i.i.i.i.i:                       ; preds = %if.then.i.i.i.i.i.i
  %6 = landingpad { ptr, i32 }
          catch ptr null
  %7 = extractvalue { ptr, i32 } %6, 0
  tail call void @__clang_call_terminate(ptr %7) #30
  unreachable

_ZSt8exchangeISt10unique_ptrIN5folly14AsyncTransportENS1_18DelayedDestruction10DestructorEES5_ET_RS6_OT0_.exit: ; preds = %if.end8, %if.then.i.i.i.i.i.i
  ret void
}

declare noundef ptr @_ZNK4fizz13AsyncFizzBase15getReadCallbackEv(ptr noundef nonnull align 8 dereferenceable(576)) unnamed_addr #0

declare void @_ZN4fizz13AsyncFizzBase9setReadCBEPN5folly11AsyncReader12ReadCallbackE(ptr noundef nonnull align 8 dereferenceable(576), ptr noundef) unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN5folly31WriteChainAsyncTransportWrapperINS_14AsyncTransportEE5writeEPNS_11AsyncWriter13WriteCallbackEPKvmNS_10WriteFlagsE(ptr noundef nonnull align 8 dereferenceable(56) %this, ptr noundef %callback, ptr noundef %buf, i64 noundef %bytes, i32 noundef %flags) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ioBuf = alloca %"class.std::unique_ptr.30", align 8
  call void @_ZN5folly5IOBuf10wrapBufferEPKvm(ptr nonnull sret(%"class.std::unique_ptr.30") align 8 %ioBuf, ptr noundef %buf, i64 noundef %bytes)
  %vtable = load ptr, ptr %this, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 46
  %0 = load ptr, ptr %vfn, align 8
  invoke void %0(ptr noundef nonnull align 8 dereferenceable(56) %this, ptr noundef %callback, ptr noundef nonnull align 8 dereferenceable(8) %ioBuf, i32 noundef %flags)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  %1 = load ptr, ptr %ioBuf, align 8
  %cmp.not.i = icmp eq ptr %1, null
  br i1 %cmp.not.i, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i: ; preds = %invoke.cont
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %1) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %1) #28
  br label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit: ; preds = %invoke.cont, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i
  ret void

lpad:                                             ; preds = %entry
  %2 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev(ptr noundef nonnull align 8 dereferenceable(8) %ioBuf) #28
  resume { ptr, i32 } %2
}

declare void @_ZN4fizz13AsyncFizzBase10writeChainEPN5folly11AsyncWriter13WriteCallbackEOSt10unique_ptrINS1_5IOBufESt14default_deleteIS6_EENS1_10WriteFlagsE(ptr noundef nonnull align 8 dereferenceable(576), ptr noundef, ptr noundef nonnull align 8 dereferenceable(8), i32 noundef) unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN5folly31WriteChainAsyncTransportWrapperINS_14AsyncTransportEE6writevEPNS_11AsyncWriter13WriteCallbackEPK5iovecmNS_10WriteFlagsE(ptr noundef nonnull align 8 dereferenceable(56) %this, ptr noundef %callback, ptr noundef %vec, i64 noundef %count, i32 noundef %flags) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %writeBuffer = alloca %"class.std::unique_ptr.30", align 8
  call void @_ZN5folly5IOBuf7wrapIovEPK5iovecm(ptr nonnull sret(%"class.std::unique_ptr.30") align 8 %writeBuffer, ptr noundef %vec, i64 noundef %count)
  %vtable = load ptr, ptr %this, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 46
  %0 = load ptr, ptr %vfn, align 8
  invoke void %0(ptr noundef nonnull align 8 dereferenceable(56) %this, ptr noundef %callback, ptr noundef nonnull align 8 dereferenceable(8) %writeBuffer, i32 noundef %flags)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  %1 = load ptr, ptr %writeBuffer, align 8
  %cmp.not.i = icmp eq ptr %1, null
  br i1 %cmp.not.i, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i: ; preds = %invoke.cont
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %1) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %1) #28
  br label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit: ; preds = %invoke.cont, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i
  ret void

lpad:                                             ; preds = %entry
  %2 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev(ptr noundef nonnull align 8 dereferenceable(8) %writeBuffer) #28
  resume { ptr, i32 } %2
}

; Function Attrs: mustprogress uwtable
define linkonce_odr noundef ptr @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE12getEventBaseEv(ptr noundef nonnull align 8 dereferenceable(56) %this) unnamed_addr #3 comdat align 2 {
entry:
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %add.ptr = getelementptr inbounds i8, ptr %0, i64 16
  %vtable = load ptr, ptr %add.ptr, align 8
  %1 = load ptr, ptr %vtable, align 8
  %call2 = tail call noundef ptr %1(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr)
  ret ptr %call2
}

; Function Attrs: mustprogress uwtable
define linkonce_odr noundef zeroext i1 @_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE11setZeroCopyEb(ptr noundef nonnull align 8 dereferenceable(56) %this, i1 noundef zeroext %enable) unnamed_addr #3 comdat align 2 {
entry:
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %add.ptr = getelementptr inbounds i8, ptr %0, i64 32
  %vtable = load ptr, ptr %add.ptr, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 3
  %1 = load ptr, ptr %vfn, align 8
  %call2 = tail call noundef zeroext i1 %1(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr, i1 noundef zeroext %enable)
  ret i1 %call2
}

; Function Attrs: mustprogress uwtable
define linkonce_odr noundef zeroext i1 @_ZNK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE11getZeroCopyEv(ptr noundef nonnull align 8 dereferenceable(56) %this) unnamed_addr #3 comdat align 2 {
entry:
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %add.ptr = getelementptr inbounds i8, ptr %0, i64 32
  %vtable = load ptr, ptr %add.ptr, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 4
  %1 = load ptr, ptr %vfn, align 8
  %call2 = tail call noundef zeroext i1 %1(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr)
  ret i1 %call2
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE21setZeroCopyEnableFuncESt8functionIFbRKSt10unique_ptrINS_5IOBufESt14default_deleteIS5_EEEE(ptr noundef nonnull align 8 dereferenceable(56) %this, ptr noundef %func) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %agg.tmp = alloca %"class.std::function.332", align 8
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %add.ptr = getelementptr inbounds i8, ptr %0, i64 32
  %_M_manager.i.i = getelementptr inbounds %"class.std::_Function_base", ptr %agg.tmp, i64 0, i32 1
  %_M_manager.i.i.i = getelementptr inbounds %"class.std::_Function_base", ptr %func, i64 0, i32 1
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp, i8 0, i64 32, i1 false)
  %1 = load ptr, ptr %_M_manager.i.i.i, align 8
  %tobool.not.i.i.not.i = icmp eq ptr %1, null
  br i1 %tobool.not.i.i.not.i, label %_ZNSt8functionIFbRKSt10unique_ptrIN5folly5IOBufESt14default_deleteIS2_EEEEC2ERKS9_.exit, label %if.then.i

if.then.i:                                        ; preds = %entry
  %call3.i = invoke noundef zeroext i1 %1(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, ptr noundef nonnull align 8 dereferenceable(16) %func, i32 noundef 2)
          to label %invoke.cont.i unwind label %lpad.i

invoke.cont.i:                                    ; preds = %if.then.i
  %2 = load <2 x ptr>, ptr %_M_manager.i.i.i, align 8
  store <2 x ptr> %2, ptr %_M_manager.i.i, align 8
  br label %_ZNSt8functionIFbRKSt10unique_ptrIN5folly5IOBufESt14default_deleteIS2_EEEEC2ERKS9_.exit

lpad.i:                                           ; preds = %if.then.i
  %3 = landingpad { ptr, i32 }
          cleanup
  %4 = load ptr, ptr %_M_manager.i.i, align 8
  %tobool.not.i.i = icmp eq ptr %4, null
  br i1 %tobool.not.i.i, label %common.resume, label %if.then.i.i

if.then.i.i:                                      ; preds = %lpad.i
  %call.i.i = invoke noundef zeroext i1 %4(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, i32 noundef 3)
          to label %common.resume unwind label %terminate.lpad.i.i

terminate.lpad.i.i:                               ; preds = %if.then.i.i
  %5 = landingpad { ptr, i32 }
          catch ptr null
  %6 = extractvalue { ptr, i32 } %5, 0
  call void @__clang_call_terminate(ptr %6) #30
  unreachable

common.resume:                                    ; preds = %if.then.i.i9, %lpad, %lpad.i, %if.then.i.i
  %common.resume.op = phi { ptr, i32 } [ %3, %if.then.i.i ], [ %3, %lpad.i ], [ %11, %lpad ], [ %11, %if.then.i.i9 ]
  resume { ptr, i32 } %common.resume.op

_ZNSt8functionIFbRKSt10unique_ptrIN5folly5IOBufESt14default_deleteIS2_EEEEC2ERKS9_.exit: ; preds = %entry, %invoke.cont.i
  %vtable = load ptr, ptr %add.ptr, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 7
  %7 = load ptr, ptr %vfn, align 8
  invoke void %7(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr, ptr noundef nonnull %agg.tmp)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %_ZNSt8functionIFbRKSt10unique_ptrIN5folly5IOBufESt14default_deleteIS2_EEEEC2ERKS9_.exit
  %8 = load ptr, ptr %_M_manager.i.i, align 8
  %tobool.not.i.i2 = icmp eq ptr %8, null
  br i1 %tobool.not.i.i2, label %_ZNSt8functionIFbRKSt10unique_ptrIN5folly5IOBufESt14default_deleteIS2_EEEED2Ev.exit, label %if.then.i.i3

if.then.i.i3:                                     ; preds = %invoke.cont
  %call.i.i4 = invoke noundef zeroext i1 %8(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, i32 noundef 3)
          to label %_ZNSt8functionIFbRKSt10unique_ptrIN5folly5IOBufESt14default_deleteIS2_EEEED2Ev.exit unwind label %terminate.lpad.i.i5

terminate.lpad.i.i5:                              ; preds = %if.then.i.i3
  %9 = landingpad { ptr, i32 }
          catch ptr null
  %10 = extractvalue { ptr, i32 } %9, 0
  call void @__clang_call_terminate(ptr %10) #30
  unreachable

_ZNSt8functionIFbRKSt10unique_ptrIN5folly5IOBufESt14default_deleteIS2_EEEED2Ev.exit: ; preds = %invoke.cont, %if.then.i.i3
  ret void

lpad:                                             ; preds = %_ZNSt8functionIFbRKSt10unique_ptrIN5folly5IOBufESt14default_deleteIS2_EEEEC2ERKS9_.exit
  %11 = landingpad { ptr, i32 }
          cleanup
  %12 = load ptr, ptr %_M_manager.i.i, align 8
  %tobool.not.i.i8 = icmp eq ptr %12, null
  br i1 %tobool.not.i.i8, label %common.resume, label %if.then.i.i9

if.then.i.i9:                                     ; preds = %lpad
  %call.i.i10 = invoke noundef zeroext i1 %12(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp, i32 noundef 3)
          to label %common.resume unwind label %terminate.lpad.i.i11

terminate.lpad.i.i11:                             ; preds = %if.then.i.i9
  %13 = landingpad { ptr, i32 }
          catch ptr null
  %14 = extractvalue { ptr, i32 } %13, 0
  call void @__clang_call_terminate(ptr %14) #30
  unreachable
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE9getCipherEv(ptr noalias sret(%"class.folly::Optional.119") align 2 %agg.result, ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  tail call void @llvm.experimental.noalias.scope.decl(metadata !35)
  store i8 0, ptr %agg.result, align 2, !alias.scope !35
  %hasValue.i.i.i = getelementptr inbounds %"struct.folly::Optional<fizz::CipherSuite>::StorageTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i.i, align 2, !alias.scope !35
  %hasValue.i.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 14, i32 0, i32 1
  %0 = load i8, ptr %hasValue.i.i.i.i, align 2, !noalias !35
  %1 = and i8 %0, 1
  %tobool.i.i.not.i.i = icmp eq i8 %1, 0
  br i1 %tobool.i.i.not.i.i, label %_ZNK4fizz6client5State6cipherEv.exit, label %invoke.cont2.i.i

invoke.cont2.i.i:                                 ; preds = %entry
  %cipher_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 14
  %2 = load i16, ptr %cipher_.i, align 8, !noalias !35
  store i16 %2, ptr %agg.result, align 2, !alias.scope !35
  store i8 1, ptr %hasValue.i.i.i, align 2, !alias.scope !35
  br label %_ZNK4fizz6client5State6cipherEv.exit

_ZNK4fizz6client5State6cipherEv.exit:             ; preds = %entry, %invoke.cont2.i.i
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE8getGroupEv(ptr noalias sret(%"class.folly::Optional.121") align 2 %agg.result, ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  tail call void @llvm.experimental.noalias.scope.decl(metadata !38)
  store i8 0, ptr %agg.result, align 2, !alias.scope !38
  %hasValue.i.i.i = getelementptr inbounds %"struct.folly::Optional<fizz::NamedGroup>::StorageTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i.i, align 2, !alias.scope !38
  %hasValue.i.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 15, i32 0, i32 1
  %0 = load i8, ptr %hasValue.i.i.i.i, align 2, !noalias !38
  %1 = and i8 %0, 1
  %tobool.i.i.not.i.i = icmp eq i8 %1, 0
  br i1 %tobool.i.i.not.i.i, label %_ZNK4fizz6client5State5groupEv.exit, label %invoke.cont2.i.i

invoke.cont2.i.i:                                 ; preds = %entry
  %group_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 15
  %2 = load i16, ptr %group_.i, align 4, !noalias !38
  store i16 %2, ptr %agg.result, align 2, !alias.scope !38
  store i8 1, ptr %hasValue.i.i.i, align 2, !alias.scope !38
  br label %_ZNK4fizz6client5State5groupEv.exit

_ZNK4fizz6client5State5groupEv.exit:              ; preds = %entry, %invoke.cont2.i.i
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE22getSupportedSigSchemesEv(ptr noalias sret(%"class.std::vector.414") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %context_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 1
  %0 = load ptr, ptr %context_.i, align 8
  %supportedSigSchemes_.i = getelementptr inbounds %"class.fizz::client::FizzClientContext", ptr %0, i64 0, i32 4
  %_M_finish.i.i = getelementptr inbounds %"class.fizz::client::FizzClientContext", ptr %0, i64 0, i32 4, i32 0, i32 0, i32 0, i32 1
  %1 = load ptr, ptr %_M_finish.i.i, align 8
  %2 = load ptr, ptr %supportedSigSchemes_.i, align 8
  %sub.ptr.lhs.cast.i.i = ptrtoint ptr %1 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint ptr %2 to i64
  %sub.ptr.sub.i.i = sub i64 %sub.ptr.lhs.cast.i.i, %sub.ptr.rhs.cast.i.i
  %sub.ptr.div.i.i = ashr exact i64 %sub.ptr.sub.i.i, 1
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.result, i8 0, i64 24, i1 false)
  %cmp.not.i.i.i.i = icmp eq ptr %1, %2
  br i1 %cmp.not.i.i.i.i, label %invoke.cont.i.thread, label %cond.true.i.i.i.i

invoke.cont.i.thread:                             ; preds = %entry
  %add.ptr.i.i.i3 = getelementptr inbounds i16, ptr null, i64 %sub.ptr.div.i.i
  %_M_end_of_storage.i.i.i4 = getelementptr inbounds %"struct.std::_Vector_base<fizz::SignatureScheme, std::allocator<fizz::SignatureScheme>>::_Vector_impl_data", ptr %agg.result, i64 0, i32 2
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %agg.result, i8 0, i64 16, i1 false)
  store ptr %add.ptr.i.i.i3, ptr %_M_end_of_storage.i.i.i4, align 8
  br label %_ZNSt6vectorIN4fizz15SignatureSchemeESaIS1_EEC2ERKS3_.exit

cond.true.i.i.i.i:                                ; preds = %entry
  %cmp.i.i.i.i.i.i = icmp ugt i64 %sub.ptr.div.i.i, 4611686018427387903
  br i1 %cmp.i.i.i.i.i.i, label %if.then3.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i.i.i

if.then3.i.i.i.i.i.i:                             ; preds = %cond.true.i.i.i.i
  tail call void @_ZSt28__throw_bad_array_new_lengthv() #33
  unreachable

if.then.i.i.i.i.i.i.i.i.i:                        ; preds = %cond.true.i.i.i.i
  %call5.i.i.i.i2.i6.i = tail call noalias noundef nonnull ptr @_Znwm(i64 noundef %sub.ptr.sub.i.i) #29
  store ptr %call5.i.i.i.i2.i6.i, ptr %agg.result, align 8
  %add.ptr.i.i.i = getelementptr inbounds i16, ptr %call5.i.i.i.i2.i6.i, i64 %sub.ptr.div.i.i
  %_M_end_of_storage.i.i.i = getelementptr inbounds %"struct.std::_Vector_base<fizz::SignatureScheme, std::allocator<fizz::SignatureScheme>>::_Vector_impl_data", ptr %agg.result, i64 0, i32 2
  store ptr %add.ptr.i.i.i, ptr %_M_end_of_storage.i.i.i, align 8
  tail call void @llvm.memmove.p0.p0.i64(ptr nonnull align 2 %call5.i.i.i.i2.i6.i, ptr align 2 %2, i64 %sub.ptr.sub.i.i, i1 false)
  br label %_ZNSt6vectorIN4fizz15SignatureSchemeESaIS1_EEC2ERKS3_.exit

_ZNSt6vectorIN4fizz15SignatureSchemeESaIS1_EEC2ERKS3_.exit: ; preds = %invoke.cont.i.thread, %if.then.i.i.i.i.i.i.i.i.i
  %add.ptr.i.i.i6 = phi ptr [ %add.ptr.i.i.i3, %invoke.cont.i.thread ], [ %add.ptr.i.i.i, %if.then.i.i.i.i.i.i.i.i.i ]
  %_M_finish.i.i.i5 = getelementptr inbounds %"struct.std::_Vector_base<fizz::SignatureScheme, std::allocator<fizz::SignatureScheme>>::_Vector_impl_data", ptr %agg.result, i64 0, i32 1
  store ptr %add.ptr.i.i.i6, ptr %_M_finish.i.i.i5, align 8
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz13AsyncFizzBase19setEndOfTLSCallbackEPNS0_16EndOfTLSCallbackE(ptr noundef nonnull align 8 dereferenceable(576) %this, ptr noundef %cb) unnamed_addr #6 comdat align 2 {
entry:
  %endOfTLSCallback_ = getelementptr inbounds %"class.fizz::AsyncFizzBase", ptr %this, i64 0, i32 16
  store ptr %cb, ptr %endOfTLSCallback_, align 8
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNK4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE15getClientRandomEv(ptr noalias sret(%"class.folly::Optional.138") align 1 %agg.result, ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  store i8 0, ptr %agg.result, align 1
  %hasValue.i.i = getelementptr inbounds %"struct.folly::Optional<std::array<unsigned char, 32>>::StorageTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i, align 1
  %hasValue.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 28, i32 0, i32 1
  %0 = load i8, ptr %hasValue.i.i.i, align 8
  %1 = and i8 %0, 1
  %tobool.i.i.not.i = icmp eq i8 %1, 0
  br i1 %tobool.i.i.not.i, label %_ZN5folly8OptionalISt5arrayIhLm32EEEC2ERKS3_.exit, label %invoke.cont2.i

invoke.cont2.i:                                   ; preds = %entry
  %clientRandom_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7, i32 28
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 1 dereferenceable(32) %agg.result, ptr noundef nonnull align 8 dereferenceable(32) %clientRandom_.i, i64 32, i1 false)
  store i8 1, ptr %hasValue.i.i, align 1
  br label %_ZN5folly8OptionalISt5arrayIhLm32EEEC2ERKS3_.exit

_ZN5folly8OptionalISt5arrayIhLm32EEEC2ERKS3_.exit: ; preds = %entry, %invoke.cont2.i
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE11tlsShutdownEv(ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #3 comdat align 2 {
entry:
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %0, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 9
  %1 = load ptr, ptr %vfn, align 8
  %call2 = tail call noundef zeroext i1 %1(ptr noundef nonnull align 8 dereferenceable(48) %0)
  br i1 %call2, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  %fizzClient_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9
  tail call void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E8appCloseEv(ptr noundef nonnull align 8 dereferenceable(163) %fizzClient_)
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17initiateKeyUpdateENS_16KeyUpdateRequestE(ptr noundef nonnull align 8 dereferenceable(2272) %this, i8 noundef zeroext %keyUpdateRequest) unnamed_addr #3 comdat align 2 {
entry:
  %fizzClient_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9
  tail call void @_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_E17initiateKeyUpdateENS_19KeyUpdateInitiationE(ptr noundef nonnull align 8 dereferenceable(163) %fizzClient_, i8 %keyUpdateRequest)
  ret void
}

declare void @_ZN4fizz13AsyncFizzBase19startTransportReadsEv(ptr noundef nonnull align 8 dereferenceable(576)) unnamed_addr #0

declare void @_ZN4fizz13AsyncFizzBase21startHandshakeTimeoutENSt6chrono8durationIlSt5ratioILl1ELl1000EEEE(ptr noundef nonnull align 8 dereferenceable(576), i64) unnamed_addr #0

declare void @_ZN4fizz13AsyncFizzBase22cancelHandshakeTimeoutEv(ptr noundef nonnull align 8 dereferenceable(576)) unnamed_addr #0

declare void @_ZN4fizz13AsyncFizzBase14deliverAppDataESt10unique_ptrIN5folly5IOBufESt14default_deleteIS3_EE(ptr noundef nonnull align 8 dereferenceable(576), ptr noundef) unnamed_addr #0

declare void @_ZN4fizz13AsyncFizzBase12deliverErrorERKN5folly20AsyncSocketExceptionEb(ptr noundef nonnull align 8 dereferenceable(576), ptr noundef nonnull align 8 dereferenceable(24), i1 noundef zeroext) unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE12writeAppDataEPN5folly11AsyncWriter13WriteCallbackEOSt10unique_ptrINS4_5IOBufESt14default_deleteIS9_EENS4_10WriteFlagsE(ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr noundef %callback, ptr noundef nonnull align 8 dereferenceable(8) %buf, i32 noundef %flags) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp = alloca %"class.folly::AsyncSocketException", align 8
  %ref.tmp3 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp4 = alloca %"class.std::allocator", align 1
  %w = alloca %"struct.fizz::AppWrite", align 8
  %w34 = alloca %"struct.fizz::EarlyAppWrite", align 8
  %writeCopy = alloca %"class.std::unique_ptr.30", align 8
  %agg.tmp = alloca %"struct.fizz::EarlyAppWrite", align 8
  %w68 = alloca %"struct.fizz::AppWrite", align 8
  %agg.tmp87 = alloca %"struct.fizz::AppWrite", align 8
  %vtable = load ptr, ptr %this, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 9
  %0 = load ptr, ptr %vfn, align 8
  %call = tail call noundef zeroext i1 %0(ptr noundef nonnull align 8 dereferenceable(2272) %this)
  br i1 %call, label %if.end9, label %if.then

if.then:                                          ; preds = %entry
  %tobool.not = icmp eq ptr %callback, null
  br i1 %tobool.not, label %if.end93, label %if.then2

if.then2:                                         ; preds = %if.then
  call void @_ZNSaIcEC1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp4) #28
  %call.i18 = invoke noundef ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_M_local_dataEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp3)
          to label %call.i.noexc unwind label %lpad

call.i.noexc:                                     ; preds = %if.then2
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_Alloc_hiderC1EPcRKS3_(ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp3, ptr noundef %call.i18, ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp4)
          to label %.noexc unwind label %lpad

.noexc:                                           ; preds = %call.i.noexc
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tag(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp3, ptr noundef nonnull @.str.40, ptr noundef nonnull getelementptr inbounds ([30 x i8], ptr @.str.40, i64 0, i64 29))
          to label %invoke.cont unwind label %lpad.i

lpad.i:                                           ; preds = %.noexc
  %1 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSaIcED2Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp3) #28
  br label %ehcleanup

invoke.cont:                                      ; preds = %.noexc
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %ref.tmp.i)
  invoke void @_ZN5folly20AsyncSocketException10getMessageENS0_24AsyncSocketExceptionTypeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEi(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp.i, i32 noundef 10, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp3, i32 noundef 0)
          to label %.noexc20 unwind label %lpad5

.noexc20:                                         ; preds = %invoke.cont
  invoke void @_ZNSt13runtime_errorC2ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i)
          to label %invoke.cont6 unwind label %lpad.i19

lpad.i19:                                         ; preds = %.noexc20
  %2 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #28
  br label %lpad5.body

invoke.cont6:                                     ; preds = %.noexc20
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #28
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN5folly20AsyncSocketExceptionE, i64 0, inrange i32 0, i64 2), ptr %ref.tmp, align 8
  %type_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ref.tmp, i64 0, i32 1
  store i32 10, ptr %type_.i, align 8
  %errno_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ref.tmp, i64 0, i32 2
  store i32 0, ptr %errno_.i, align 4
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %ref.tmp.i)
  %vtable7 = load ptr, ptr %callback, align 8
  %vfn8 = getelementptr inbounds ptr, ptr %vtable7, i64 4
  %3 = load ptr, ptr %vfn8, align 8
  call void %3(ptr noundef nonnull align 8 dereferenceable(8) %callback, i64 noundef 0, ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp) #28
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp) #28
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp3) #28
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp4) #28
  br label %if.end93

lpad:                                             ; preds = %call.i.noexc, %if.then2
  %4 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad5:                                            ; preds = %invoke.cont
  %5 = landingpad { ptr, i32 }
          cleanup
  br label %lpad5.body

lpad5.body:                                       ; preds = %lpad.i19, %lpad5
  %eh.lpad-body21 = phi { ptr, i32 } [ %5, %lpad5 ], [ %2, %lpad.i19 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp3) #28
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad, %lpad.i, %lpad5.body
  %.pn = phi { ptr, i32 } [ %eh.lpad-body21, %lpad5.body ], [ %4, %lpad ], [ %1, %lpad.i ]
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp4) #28
  br label %eh.resume

if.end9:                                          ; preds = %entry
  %earlyDataState_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10
  %hasValue.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 1
  %6 = load i8, ptr %hasValue.i.i, align 8
  %7 = and i8 %6, 1
  %tobool.i.i.not = icmp eq i8 %7, 0
  br i1 %tobool.i.i.not, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EEaSEOS4_.exit69, label %if.then11

if.then11:                                        ; preds = %if.end9
  %8 = load ptr, ptr %buf, align 8
  %call13 = tail call noundef i64 @_ZNK5folly5IOBuf22computeChainDataLengthEv(ptr noundef nonnull align 8 dereferenceable(56) %8)
  %9 = load i8, ptr %hasValue.i.i, align 8
  %10 = and i8 %9, 1
  %tobool.not.i.i.i = icmp eq i8 %10, 0
  br i1 %tobool.not.i.i.i, label %if.then.i.i.i, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit

if.then.i.i.i:                                    ; preds = %if.then11
  tail call void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() #32
  unreachable

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit: ; preds = %if.then11
  %pendingAppWrites = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 0, i32 0, i32 2
  %_M_finish.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 0, i32 0, i32 2, i32 0, i32 0, i32 0, i32 3
  %_M_start.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 0, i32 0, i32 2, i32 0, i32 0, i32 0, i32 2
  %11 = load ptr, ptr %_M_finish.i, align 8
  %12 = load ptr, ptr %_M_start.i, align 8
  %cmp.i.i = icmp ne ptr %11, %12
  %13 = load i32, ptr %earlyDataState_, align 8
  %conv = zext i32 %13 to i64
  %cmp = icmp ugt i64 %call13, %conv
  %or.cond = select i1 %cmp.i.i, i1 true, i1 %cmp
  br i1 %or.cond, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EEaSEOS4_.exit, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EEaSEOS4_.exit42

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EEaSEOS4_.exit: ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit
  %aeadOptions.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %w, i64 0, i32 3
  store ptr %callback, ptr %w, align 8
  %data = getelementptr inbounds %"struct.fizz::AppWrite", ptr %w, i64 0, i32 1
  %14 = load ptr, ptr %buf, align 8
  store ptr null, ptr %buf, align 8
  store ptr %14, ptr %data, align 8
  %.pre97 = load i8, ptr %hasValue.i.i, align 8
  %writeAeadOptions_.phi.trans.insert = getelementptr inbounds %"class.fizz::AsyncFizzBase", ptr %this, i64 0, i32 6
  %.pre96 = load i64, ptr %writeAeadOptions_.phi.trans.insert, align 8
  %flags22 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %w, i64 0, i32 2
  store i32 %flags, ptr %flags22, align 8
  store i64 %.pre96, ptr %aeadOptions.i, align 4
  %15 = and i8 %.pre97, 1
  %tobool.not.i.i.i27 = icmp eq i8 %15, 0
  br i1 %tobool.not.i.i.i27, label %if.then.i.i.i28, label %invoke.cont29

if.then.i.i.i28:                                  ; preds = %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EEaSEOS4_.exit
  invoke void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() #32
          to label %.noexc29 unwind label %lpad24

.noexc29:                                         ; preds = %if.then.i.i.i28
  unreachable

invoke.cont29:                                    ; preds = %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EEaSEOS4_.exit
  store i32 0, ptr %earlyDataState_, align 8
  %16 = load ptr, ptr %_M_finish.i, align 8
  %_M_last.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 0, i32 0, i32 2, i32 0, i32 0, i32 0, i32 3, i32 2
  %17 = load ptr, ptr %_M_last.i.i, align 8
  %add.ptr.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %17, i64 -1
  %cmp.not.i.i = icmp eq ptr %16, %add.ptr.i.i
  br i1 %cmp.not.i.i, label %if.else.i.i, label %invoke.cont32.thread

invoke.cont32.thread:                             ; preds = %invoke.cont29
  store ptr %callback, ptr %16, align 8
  %data.i.i.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %16, i64 0, i32 1
  %18 = load i64, ptr %data, align 8
  store i64 %18, ptr %data.i.i.i.i.i, align 8
  %flags.i.i.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %16, i64 0, i32 2
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(12) %flags22, i64 12, i1 false)
  %19 = load ptr, ptr %_M_finish.i, align 8
  %incdec.ptr.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %19, i64 1
  store ptr %incdec.ptr.i.i, ptr %_M_finish.i, align 8
  br label %if.end93

if.else.i.i:                                      ; preds = %invoke.cont29
  invoke void @_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_push_back_auxIJS1_EEEvDpOT_(ptr noundef nonnull align 8 dereferenceable(80) %pendingAppWrites, ptr noundef nonnull align 8 dereferenceable(28) %w)
          to label %invoke.cont32 unwind label %lpad24

invoke.cont32:                                    ; preds = %if.else.i.i
  %.pre98 = load ptr, ptr %data, align 8
  %cmp.not.i.i37 = icmp eq ptr %.pre98, null
  br i1 %cmp.not.i.i37, label %if.end93, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i: ; preds = %invoke.cont32
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %.pre98) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %.pre98) #28
  br label %if.end93

lpad24:                                           ; preds = %if.else.i.i, %if.then.i.i.i28
  %20 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN4fizz8AppWriteD2Ev(ptr noundef nonnull align 8 dereferenceable(28) %w) #28
  br label %eh.resume

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EEaSEOS4_.exit42: ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit
  %aeadOptions.i38 = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %w34, i64 0, i32 3
  store ptr %callback, ptr %w34, align 8
  %data36 = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %w34, i64 0, i32 1
  %21 = load ptr, ptr %buf, align 8
  store ptr null, ptr %buf, align 8
  store ptr %21, ptr %data36, align 8
  %earlyDataRejectionPolicy_.phi.trans.insert = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 11
  %.pre95 = load i32, ptr %earlyDataRejectionPolicy_.phi.trans.insert, align 8
  %writeAeadOptions_39.phi.trans.insert = getelementptr inbounds %"class.fizz::AsyncFizzBase", ptr %this, i64 0, i32 6
  %.pre = load i64, ptr %writeAeadOptions_39.phi.trans.insert, align 8
  %flags38 = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %w34, i64 0, i32 2
  store i32 %flags, ptr %flags38, align 8
  store i64 %.pre, ptr %aeadOptions.i38, align 4
  %cmp41 = icmp eq i32 %.pre95, 1
  br i1 %cmp41, label %if.then42, label %if.end55

if.then42:                                        ; preds = %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EEaSEOS4_.exit42
  invoke void @_ZNK5folly5IOBuf5cloneEv(ptr nonnull sret(%"class.std::unique_ptr.30") align 8 %writeCopy, ptr noundef nonnull align 8 dereferenceable(56) %21)
          to label %invoke.cont46 unwind label %lpad45

invoke.cont46:                                    ; preds = %if.then42
  %22 = load ptr, ptr %writeCopy, align 8
  %next_.i.i = getelementptr inbounds %"class.folly::IOBuf", ptr %22, i64 0, i32 4
  %23 = load ptr, ptr %next_.i.i, align 8
  %cmp.i.not.i = icmp eq ptr %23, %22
  br i1 %cmp.i.not.i, label %if.else.i, label %if.then.i

if.then.i:                                        ; preds = %invoke.cont46
  invoke void @_ZN5folly5IOBuf14unshareChainedEv(ptr noundef nonnull align 8 dereferenceable(56) %22)
          to label %invoke.cont49 unwind label %lpad48

if.else.i:                                        ; preds = %invoke.cont46
  %flagsAndSharedInfo_.i.i.i.i = getelementptr inbounds %"class.folly::IOBuf", ptr %22, i64 0, i32 6
  %24 = load i64, ptr %flagsAndSharedInfo_.i.i.i.i, align 8
  %and.i.i.i.i = and i64 %24, -4
  %25 = inttoptr i64 %and.i.i.i.i to ptr
  %tobool.not.i.i.i43 = icmp eq i64 %and.i.i.i.i, 0
  br i1 %tobool.not.i.i.i43, label %if.then.i.i44, label %if.end.i.i.i

if.end.i.i.i:                                     ; preds = %if.else.i
  %externallyShared.i.i.i = getelementptr inbounds %"struct.folly::IOBuf::SharedInfo", ptr %25, i64 0, i32 4
  %26 = load i8, ptr %externallyShared.i.i.i, align 4
  %27 = and i8 %26, 1
  %tobool3.not.i.i.i = icmp eq i8 %27, 0
  br i1 %tobool3.not.i.i.i, label %_ZNK5folly5IOBuf11isSharedOneEv.exit.i.i, label %if.then.i.i44

_ZNK5folly5IOBuf11isSharedOneEv.exit.i.i:         ; preds = %if.end.i.i.i
  %refcount.i.i.i = getelementptr inbounds %"struct.folly::IOBuf::SharedInfo", ptr %25, i64 0, i32 3
  %28 = load atomic i32, ptr %refcount.i.i.i acquire, align 4
  %cmp.i.i.i = icmp ugt i32 %28, 1
  br i1 %cmp.i.i.i, label %if.then.i.i44, label %invoke.cont49

if.then.i.i44:                                    ; preds = %_ZNK5folly5IOBuf11isSharedOneEv.exit.i.i, %if.end.i.i.i, %if.else.i
  invoke void @_ZN5folly5IOBuf14unshareOneSlowEv(ptr noundef nonnull align 8 dereferenceable(56) %22)
          to label %invoke.cont49 unwind label %lpad48

invoke.cont49:                                    ; preds = %_ZNK5folly5IOBuf11isSharedOneEv.exit.i.i, %if.then.i, %if.then.i.i44
  %29 = load i8, ptr %hasValue.i.i, align 8
  %30 = and i8 %29, 1
  %tobool.not.i.i.i48 = icmp eq i8 %30, 0
  br i1 %tobool.not.i.i.i48, label %if.then.i.i.i49, label %invoke.cont51

if.then.i.i.i49:                                  ; preds = %invoke.cont49
  invoke void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() #32
          to label %.noexc50 unwind label %lpad48

.noexc50:                                         ; preds = %if.then.i.i.i49
  unreachable

invoke.cont51:                                    ; preds = %invoke.cont49
  %resendBuffer = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 0, i32 0, i32 1
  invoke void @_ZN5folly10IOBufQueue6appendEOSt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEbb(ptr noundef nonnull align 8 dereferenceable(72) %resendBuffer, ptr noundef nonnull align 8 dereferenceable(8) %writeCopy, i1 noundef zeroext false, i1 noundef zeroext false)
          to label %invoke.cont53 unwind label %lpad48

invoke.cont53:                                    ; preds = %invoke.cont51
  %31 = load ptr, ptr %writeCopy, align 8
  %cmp.not.i = icmp eq ptr %31, null
  br i1 %cmp.not.i, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i: ; preds = %invoke.cont53
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %31) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %31) #28
  br label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit: ; preds = %invoke.cont53, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i
  store ptr null, ptr %writeCopy, align 8
  br label %if.end55

lpad45:                                           ; preds = %if.then.i.i.i54, %if.then42
  %32 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup65

lpad48:                                           ; preds = %if.then.i.i.i49, %if.then.i.i44, %if.then.i, %invoke.cont51
  %33 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev(ptr noundef nonnull align 8 dereferenceable(8) %writeCopy) #28
  br label %ehcleanup65

if.end55:                                         ; preds = %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit, %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EEaSEOS4_.exit42
  %34 = load i8, ptr %hasValue.i.i, align 8
  %35 = and i8 %34, 1
  %tobool.not.i.i.i53 = icmp eq i8 %35, 0
  br i1 %tobool.not.i.i.i53, label %if.then.i.i.i54, label %invoke.cont57

if.then.i.i.i54:                                  ; preds = %if.end55
  invoke void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() #32
          to label %.noexc55 unwind label %lpad45

.noexc55:                                         ; preds = %if.then.i.i.i54
  unreachable

invoke.cont57:                                    ; preds = %if.end55
  %36 = load i32, ptr %earlyDataState_, align 8
  %37 = trunc i64 %call13 to i32
  %conv61 = sub i32 %36, %37
  store i32 %conv61, ptr %earlyDataState_, align 8
  %fizzClient_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9
  %38 = load ptr, ptr %w34, align 8
  store ptr %38, ptr %agg.tmp, align 8
  %data.i57 = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %agg.tmp, i64 0, i32 1
  %39 = load i64, ptr %data36, align 8
  store i64 %39, ptr %data.i57, align 8
  store ptr null, ptr %data36, align 8
  %flags.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %agg.tmp, i64 0, i32 2
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i, ptr noundef nonnull align 8 dereferenceable(12) %flags38, i64 12, i1 false)
  invoke void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E13earlyAppWriteENS_13EarlyAppWriteE(ptr noundef nonnull align 8 dereferenceable(163) %fizzClient_, ptr noundef nonnull %agg.tmp)
          to label %invoke.cont63 unwind label %lpad62

invoke.cont63:                                    ; preds = %invoke.cont57
  %40 = load ptr, ptr %data.i57, align 8
  %cmp.not.i.i59 = icmp eq ptr %40, null
  br i1 %cmp.not.i.i59, label %if.end93, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i60

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i60: ; preds = %invoke.cont63
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %40) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %40) #28
  br label %if.end93

lpad62:                                           ; preds = %invoke.cont57
  %41 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN4fizz13EarlyAppWriteD2Ev(ptr noundef nonnull align 8 dereferenceable(28) %agg.tmp) #28
  br label %ehcleanup65

ehcleanup65:                                      ; preds = %lpad62, %lpad48, %lpad45
  %.pn14 = phi { ptr, i32 } [ %41, %lpad62 ], [ %32, %lpad45 ], [ %33, %lpad48 ]
  call void @_ZN4fizz13EarlyAppWriteD2Ev(ptr noundef nonnull align 8 dereferenceable(28) %w34) #28
  br label %eh.resume

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EEaSEOS4_.exit69: ; preds = %if.end9
  %aeadOptions.i65 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %w68, i64 0, i32 3
  store ptr %callback, ptr %w68, align 8
  %data70 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %w68, i64 0, i32 1
  %42 = load ptr, ptr %buf, align 8
  store ptr null, ptr %buf, align 8
  store ptr %42, ptr %data70, align 8
  %43 = ptrtoint ptr %42 to i64
  %vtable75.pre = load ptr, ptr %this, align 8
  %vfn76.phi.trans.insert = getelementptr inbounds ptr, ptr %vtable75.pre, i64 13
  %.pre101 = load ptr, ptr %vfn76.phi.trans.insert, align 8
  %writeAeadOptions_73.phi.trans.insert = getelementptr inbounds %"class.fizz::AsyncFizzBase", ptr %this, i64 0, i32 6
  %.pre99 = load i64, ptr %writeAeadOptions_73.phi.trans.insert, align 8
  %flags72 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %w68, i64 0, i32 2
  store i32 %flags, ptr %flags72, align 8
  store i64 %.pre99, ptr %aeadOptions.i65, align 4
  %call79 = invoke noundef zeroext i1 %.pre101(ptr noundef nonnull align 8 dereferenceable(2272) %this)
          to label %invoke.cont78 unwind label %lpad77

invoke.cont78:                                    ; preds = %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EEaSEOS4_.exit69
  br i1 %call79, label %land.lhs.true, label %if.else85

land.lhs.true:                                    ; preds = %invoke.cont78
  %fizzContext_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 3
  %44 = load ptr, ptr %fizzContext_, align 8
  %sendEarlyData_.i = getelementptr inbounds %"class.fizz::client::FizzClientContext", ptr %44, i64 0, i32 9
  %45 = load i8, ptr %sendEarlyData_.i, align 8
  %46 = and i8 %45, 1
  %tobool.i.not = icmp eq i8 %46, 0
  br i1 %tobool.i.not, label %if.then83, label %if.else85

if.then83:                                        ; preds = %land.lhs.true
  %_M_finish.i.i70 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 14, i32 0, i32 0, i32 0, i32 3
  %47 = load ptr, ptr %_M_finish.i.i70, align 8
  %_M_last.i.i71 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 14, i32 0, i32 0, i32 0, i32 3, i32 2
  %48 = load ptr, ptr %_M_last.i.i71, align 8
  %add.ptr.i.i72 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %48, i64 -1
  %cmp.not.i.i73 = icmp eq ptr %47, %add.ptr.i.i72
  br i1 %cmp.not.i.i73, label %if.else.i.i80, label %if.then.i.i74

if.then.i.i74:                                    ; preds = %if.then83
  store ptr %callback, ptr %47, align 8
  %data.i.i.i.i.i75 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %47, i64 0, i32 1
  %49 = load i64, ptr %data70, align 8
  store i64 %49, ptr %data.i.i.i.i.i75, align 8
  store ptr null, ptr %data70, align 8
  %flags.i.i.i.i.i77 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %47, i64 0, i32 2
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i.i.i.i.i77, ptr noundef nonnull align 8 dereferenceable(12) %flags72, i64 12, i1 false)
  %50 = load ptr, ptr %_M_finish.i.i70, align 8
  %incdec.ptr.i.i79 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %50, i64 1
  store ptr %incdec.ptr.i.i79, ptr %_M_finish.i.i70, align 8
  br label %if.end91

if.else.i.i80:                                    ; preds = %if.then83
  %pendingHandshakeAppWrites_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 14
  invoke void @_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_push_back_auxIJS1_EEEvDpOT_(ptr noundef nonnull align 8 dereferenceable(80) %pendingHandshakeAppWrites_, ptr noundef nonnull align 8 dereferenceable(28) %w68)
          to label %if.end91 unwind label %lpad77

lpad77:                                           ; preds = %if.else.i.i80, %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EEaSEOS4_.exit69
  %51 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup92

if.else85:                                        ; preds = %land.lhs.true, %invoke.cont78
  %fizzClient_86 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9
  store ptr %callback, ptr %agg.tmp87, align 8
  %data.i83 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %agg.tmp87, i64 0, i32 1
  store i64 %43, ptr %data.i83, align 8
  store ptr null, ptr %data70, align 8
  %flags.i85 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %agg.tmp87, i64 0, i32 2
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i85, ptr noundef nonnull align 8 dereferenceable(12) %flags72, i64 12, i1 false)
  invoke void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E8appWriteENS_8AppWriteE(ptr noundef nonnull align 8 dereferenceable(163) %fizzClient_86, ptr noundef nonnull %agg.tmp87)
          to label %invoke.cont89 unwind label %lpad88

invoke.cont89:                                    ; preds = %if.else85
  %52 = load ptr, ptr %data.i83, align 8
  %cmp.not.i.i88 = icmp eq ptr %52, null
  br i1 %cmp.not.i.i88, label %_ZN4fizz8AppWriteD2Ev.exit90, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i89

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i89: ; preds = %invoke.cont89
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %52) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %52) #28
  br label %_ZN4fizz8AppWriteD2Ev.exit90

_ZN4fizz8AppWriteD2Ev.exit90:                     ; preds = %invoke.cont89, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i89
  store ptr null, ptr %data.i83, align 8
  br label %if.end91

lpad88:                                           ; preds = %if.else85
  %53 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN4fizz8AppWriteD2Ev(ptr noundef nonnull align 8 dereferenceable(28) %agg.tmp87) #28
  br label %ehcleanup92

if.end91:                                         ; preds = %if.then.i.i74, %if.else.i.i80, %_ZN4fizz8AppWriteD2Ev.exit90
  %54 = load ptr, ptr %data70, align 8
  %cmp.not.i.i92 = icmp eq ptr %54, null
  br i1 %cmp.not.i.i92, label %if.end93, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i93

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i93: ; preds = %if.end91
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %54) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %54) #28
  br label %if.end93

ehcleanup92:                                      ; preds = %lpad88, %lpad77
  %.pn12 = phi { ptr, i32 } [ %53, %lpad88 ], [ %51, %lpad77 ]
  call void @_ZN4fizz8AppWriteD2Ev(ptr noundef nonnull align 8 dereferenceable(28) %w68) #28
  br label %eh.resume

if.end93:                                         ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i93, %if.end91, %invoke.cont63, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i60, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i, %invoke.cont32, %invoke.cont32.thread, %if.then, %invoke.cont6
  ret void

eh.resume:                                        ; preds = %ehcleanup92, %ehcleanup65, %lpad24, %ehcleanup
  %.pn16 = phi { ptr, i32 } [ %20, %lpad24 ], [ %.pn14, %ehcleanup65 ], [ %.pn12, %ehcleanup92 ], [ %.pn, %ehcleanup ]
  resume { ptr, i32 } %.pn16
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE14transportErrorERKN5folly20AsyncSocketExceptionE(ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr noundef nonnull align 8 dereferenceable(24) %ex) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %dg = alloca %"class.folly::DelayedDestructionBase::DestructorGuard", align 8
  store ptr %this, ptr %dg, align 8
  %guardCount_.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %this, i64 0, i32 1
  %0 = load i32, ptr %guardCount_.i, align 8
  %inc.i = add i32 %0, 1
  store i32 %inc.i, ptr %guardCount_.i, align 8
  invoke void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE16deliverAllErrorsERKN5folly20AsyncSocketExceptionEb(ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr noundef nonnull align 8 dereferenceable(24) %ex, i1 noundef zeroext true)
          to label %if.then.i unwind label %lpad

if.then.i:                                        ; preds = %entry
  %1 = load i32, ptr %guardCount_.i, align 8
  %dec.i = add i32 %1, -1
  store i32 %dec.i, ptr %guardCount_.i, align 8
  %cmp5.i = icmp eq i32 %dec.i, 0
  br i1 %cmp5.i, label %if.then6.i, label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit

if.then6.i:                                       ; preds = %if.then.i
  %vtable.i = load ptr, ptr %this, align 8
  %vfn.i = getelementptr inbounds ptr, ptr %vtable.i, i64 2
  %2 = load ptr, ptr %vfn.i, align 8
  invoke void %2(ptr noundef nonnull align 8 dereferenceable(12) %this, i1 noundef zeroext true)
          to label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit unwind label %terminate.lpad.i

terminate.lpad.i:                                 ; preds = %if.then6.i
  %3 = landingpad { ptr, i32 }
          catch ptr null
  %4 = extractvalue { ptr, i32 } %3, 0
  tail call void @__clang_call_terminate(ptr %4) #30
  unreachable

_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit: ; preds = %if.then.i, %if.then6.i
  ret void

lpad:                                             ; preds = %entry
  %5 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev(ptr noundef nonnull align 8 dereferenceable(8) %dg) #28
  resume { ptr, i32 } %5
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE22transportDataAvailableEv(ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #3 comdat align 2 {
entry:
  %fizzClient_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9
  %waitForData_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 8
  store i8 0, ptr %waitForData_.i, align 8
  tail call void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E20processPendingEventsEv(ptr noundef nonnull align 8 dereferenceable(163) %fizzClient_)
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE11pauseEventsEv(ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #3 comdat align 2 {
entry:
  %paused_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 13
  store i8 1, ptr %paused_.i, align 2
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE12resumeEventsEv(ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #3 comdat align 2 {
entry:
  %fizzClient_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9
  %paused_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9, i32 0, i32 13
  store i8 0, ptr %paused_.i, align 2
  tail call void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E20processPendingEventsEv(ptr noundef nonnull align 8 dereferenceable(163) %fizzClient_)
  ret void
}

; Function Attrs: nounwind
declare void @_ZN4fizz13AsyncFizzBase15secretAvailableERKNS_13DerivedSecretE(ptr noundef nonnull align 8 dereferenceable(576), ptr noundef nonnull align 8 dereferenceable(32)) unnamed_addr #1

; Function Attrs: nounwind
declare void @_ZN4fizz13AsyncFizzBase8endOfTLSESt10unique_ptrIN5folly5IOBufESt14default_deleteIS3_EE(ptr noundef nonnull align 8 dereferenceable(576), ptr noundef) unnamed_addr #1

; Function Attrs: nounwind
declare noundef ptr @_ZN4fizz13AsyncFizzBase12allocateDataEv(ptr noundef nonnull align 8 dereferenceable(576)) unnamed_addr #1

declare void @_ZN4fizz13AsyncFizzBase13getReadBufferEPPvPm(ptr noundef nonnull align 8 dereferenceable(576), ptr noundef, ptr noundef) unnamed_addr #0

declare void @_ZN4fizz13AsyncFizzBase14getReadBuffersERSt6vectorI5iovecSaIS2_EE(ptr noundef nonnull align 8 dereferenceable(576), ptr noundef nonnull align 8 dereferenceable(24)) unnamed_addr #0

; Function Attrs: nounwind
declare void @_ZN4fizz13AsyncFizzBase17readDataAvailableEm(ptr noundef nonnull align 8 dereferenceable(576), i64 noundef) unnamed_addr #1

; Function Attrs: nounwind
declare noundef zeroext i1 @_ZN4fizz13AsyncFizzBase15isBufferMovableEv(ptr noundef nonnull align 8 dereferenceable(576)) unnamed_addr #1

; Function Attrs: nounwind
declare void @_ZN4fizz13AsyncFizzBase19readBufferAvailableESt10unique_ptrIN5folly5IOBufESt14default_deleteIS3_EE(ptr noundef nonnull align 8 dereferenceable(576), ptr noundef) unnamed_addr #1

; Function Attrs: nounwind
declare void @_ZN4fizz13AsyncFizzBase7readEOFEv(ptr noundef nonnull align 8 dereferenceable(576)) unnamed_addr #1

; Function Attrs: nounwind
declare void @_ZN4fizz13AsyncFizzBase7readErrERKN5folly20AsyncSocketExceptionE(ptr noundef nonnull align 8 dereferenceable(576), ptr noundef nonnull align 8 dereferenceable(24)) unnamed_addr #1

; Function Attrs: nounwind
declare noundef ptr @_ZN4fizz13AsyncFizzBase19readZeroCopyEnabledEv(ptr noundef nonnull align 8 dereferenceable(576)) unnamed_addr #1

; Function Attrs: nounwind
declare void @_ZN4fizz13AsyncFizzBase25getZeroCopyFallbackBufferEPPvPm(ptr noundef nonnull align 8 dereferenceable(576), ptr noundef, ptr noundef) unnamed_addr #1

; Function Attrs: nounwind
declare void @_ZN4fizz13AsyncFizzBase25readZeroCopyDataAvailableEOSt10unique_ptrIN5folly5IOBufESt14default_deleteIS3_EEm(ptr noundef nonnull align 8 dereferenceable(576), ptr noundef nonnull align 8 dereferenceable(8), i64 noundef) unnamed_addr #1

; Function Attrs: nounwind
declare void @_ZN4fizz13AsyncFizzBase12writeSuccessEv(ptr noundef nonnull align 8 dereferenceable(576)) unnamed_addr #1

; Function Attrs: nounwind
declare void @_ZN4fizz13AsyncFizzBase8writeErrEmRKN5folly20AsyncSocketExceptionE(ptr noundef nonnull align 8 dereferenceable(576), i64 noundef, ptr noundef nonnull align 8 dereferenceable(24)) unnamed_addr #1

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE7connectEPNS3_17HandshakeCallbackESt10shared_ptrIKNS_19CertificateVerifierEEN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEESI_NSB_ISt6vectorINS_3ech9ECHConfigESaISL_EEEENSt6chrono8durationIlSt5ratioILl1ELl1000EEEE(ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr noundef %callback, ptr noundef %verifier, ptr noundef %sni, ptr noundef %pskIdentity, ptr noundef %echConfigs, i64 %timeout.coerce) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i = alloca %"class.std::__cxx11::basic_string", align 8
  %dg = alloca %"class.folly::DelayedDestructionBase::DestructorGuard", align 8
  %ref.tmp3 = alloca %"class.google::LogMessageFatal", align 8
  %ase = alloca %"class.folly::AsyncSocketException", align 8
  %ref.tmp21 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp22 = alloca %"class.std::allocator", align 1
  %cachedPsk = alloca %"class.folly::Optional.188", align 8
  %ref.tmp50 = alloca %"class.folly::Optional.188", align 8
  %agg.tmp58 = alloca %"class.std::shared_ptr", align 8
  %agg.tmp60 = alloca %"class.std::shared_ptr.0", align 16
  %agg.tmp61 = alloca %"class.folly::Optional", align 8
  %agg.tmp62 = alloca %"class.folly::Optional.188", align 8
  %agg.tmp63 = alloca %"class.folly::Optional.162", align 16
  store ptr %this, ptr %dg, align 8
  %guardCount_.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %this, i64 0, i32 1
  %0 = load i32, ptr %guardCount_.i, align 8
  %inc.i = add i32 %0, 1
  store i32 %inc.i, ptr %guardCount_.i, align 8
  %hasValue.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 2, i32 0, i32 1
  %1 = load i8, ptr %hasValue.i.i, align 8
  %2 = and i8 %1, 1
  %tobool.i.i.not = icmp eq i8 %2, 0
  br i1 %tobool.i.i.not, label %invoke.cont16, label %cond.false

cond.false:                                       ; preds = %entry
  invoke void @_ZN6google15LogMessageFatalC1EPKci(ptr noundef nonnull align 8 dereferenceable(96) %ref.tmp3, ptr noundef nonnull @.str.5, i32 noundef 67)
          to label %invoke.cont4 unwind label %lpad

invoke.cont4:                                     ; preds = %cond.false
  %call7 = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZN6google10LogMessage6streamEv(ptr noundef nonnull align 8 dereferenceable(96) %ref.tmp3)
          to label %invoke.cont6 unwind label %lpad5

invoke.cont6:                                     ; preds = %invoke.cont4
  %call9 = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(ptr noundef nonnull align 8 dereferenceable(8) %call7, ptr noundef nonnull @.str.41)
          to label %invoke.cont8 unwind label %lpad5

invoke.cont8:                                     ; preds = %invoke.cont6
  %call11 = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(ptr noundef nonnull align 8 dereferenceable(8) %call9, ptr noundef nonnull @.str.42)
          to label %cleanup.action unwind label %lpad5

cleanup.action:                                   ; preds = %invoke.cont8
  call void @_ZN6google15LogMessageFatalD1Ev(ptr noundef nonnull align 8 dereferenceable(96) %ref.tmp3) #30
  unreachable

lpad:                                             ; preds = %if.else.i.i.i17, %if.then.i.i.i16, %if.else.i.i.i, %if.then.i.i.i, %if.end44, %if.then39, %invoke.cont16, %cond.false
  %3 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup72

lpad5:                                            ; preds = %invoke.cont8, %invoke.cont6, %invoke.cont4
  %4 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN6google15LogMessageFatalD1Ev(ptr noundef nonnull align 8 dereferenceable(96) %ref.tmp3) #30
  unreachable

invoke.cont16:                                    ; preds = %entry
  %callback_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 2
  store ptr %callback, ptr %callback_, align 8
  %ptrType_.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 2, i32 0, i32 0, i32 0, i32 1
  store i8 0, ptr %ptrType_.i.i.i, align 8
  store i8 1, ptr %hasValue.i.i, align 8
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %5 = load ptr, ptr %transport_, align 8
  %vtable = load ptr, ptr %5, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 9
  %6 = load ptr, ptr %vfn, align 8
  %call20 = invoke noundef zeroext i1 %6(ptr noundef nonnull align 8 dereferenceable(48) %5)
          to label %invoke.cont19 unwind label %lpad

invoke.cont19:                                    ; preds = %invoke.cont16
  br i1 %call20, label %if.end, label %if.then

if.then:                                          ; preds = %invoke.cont19
  call void @_ZNSaIcEC1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp22) #28
  %call.i5 = invoke noundef ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_M_local_dataEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp21)
          to label %call.i.noexc unwind label %lpad23

call.i.noexc:                                     ; preds = %if.then
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_Alloc_hiderC1EPcRKS3_(ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp21, ptr noundef %call.i5, ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp22)
          to label %.noexc unwind label %lpad23

.noexc:                                           ; preds = %call.i.noexc
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tag(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp21, ptr noundef nonnull @.str.43, ptr noundef nonnull getelementptr inbounds ([47 x i8], ptr @.str.43, i64 0, i64 46))
          to label %invoke.cont24 unwind label %lpad.i

lpad.i:                                           ; preds = %.noexc
  %7 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSaIcED2Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp21) #28
  br label %ehcleanup

invoke.cont24:                                    ; preds = %.noexc
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %ref.tmp.i)
  invoke void @_ZN5folly20AsyncSocketException10getMessageENS0_24AsyncSocketExceptionTypeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEi(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp.i, i32 noundef 1, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp21, i32 noundef 0)
          to label %.noexc7 unwind label %lpad25

.noexc7:                                          ; preds = %invoke.cont24
  invoke void @_ZNSt13runtime_errorC2ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr noundef nonnull align 8 dereferenceable(16) %ase, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i)
          to label %invoke.cont26 unwind label %lpad.i6

lpad.i6:                                          ; preds = %.noexc7
  %8 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #28
  br label %lpad25.body

invoke.cont26:                                    ; preds = %.noexc7
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #28
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN5folly20AsyncSocketExceptionE, i64 0, inrange i32 0, i64 2), ptr %ase, align 8
  %type_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ase, i64 0, i32 1
  store i32 1, ptr %type_.i, align 8
  %errno_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ase, i64 0, i32 2
  store i32 0, ptr %errno_.i, align 4
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %ref.tmp.i)
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp21) #28
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp22) #28
  invoke void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE16deliverAllErrorsERKN5folly20AsyncSocketExceptionEb(ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr noundef nonnull align 8 dereferenceable(24) %ase, i1 noundef zeroext false)
          to label %invoke.cont28 unwind label %lpad27

invoke.cont28:                                    ; preds = %invoke.cont26
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ase) #28
  br label %cleanup

lpad23:                                           ; preds = %call.i.noexc, %if.then
  %9 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad25:                                           ; preds = %invoke.cont24
  %10 = landingpad { ptr, i32 }
          cleanup
  br label %lpad25.body

lpad25.body:                                      ; preds = %lpad.i6, %lpad25
  %eh.lpad-body8 = phi { ptr, i32 } [ %10, %lpad25 ], [ %8, %lpad.i6 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp21) #28
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad23, %lpad.i, %lpad25.body
  %.pn = phi { ptr, i32 } [ %eh.lpad-body8, %lpad25.body ], [ %9, %lpad23 ], [ %7, %lpad.i ]
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp22) #28
  br label %ehcleanup72

lpad27:                                           ; preds = %invoke.cont26
  %11 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ase) #28
  br label %ehcleanup72

if.end:                                           ; preds = %invoke.cont19
  %sni_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 5
  %hasValue.i.i.i.i = getelementptr inbounds %"struct.folly::Optional<std::__cxx11::basic_string<char>>::StorageNonTriviallyDestructible", ptr %sni, i64 0, i32 1
  %12 = load i8, ptr %hasValue.i.i.i.i, align 8
  %13 = and i8 %12, 1
  %tobool.i.i.not.i.i = icmp eq i8 %13, 0
  %hasValue.i.i3.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 5, i32 0, i32 1
  %14 = load i8, ptr %hasValue.i.i3.i.i, align 8
  %15 = and i8 %14, 1
  %tobool.not.i.i4.i.i = icmp eq i8 %15, 0
  br i1 %tobool.i.i.not.i.i, label %if.else.i.i, label %_ZNKR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i

_ZNKR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i: ; preds = %if.end
  br i1 %tobool.not.i.i4.i.i, label %if.else.i.i.i, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %_ZNKR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i
  %call2.i.i.i9 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEaSERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %sni_, ptr noundef nonnull align 8 dereferenceable(32) %sni)
          to label %invoke.cont30 unwind label %lpad

if.else.i.i.i:                                    ; preds = %_ZNKR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1ERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %sni_, ptr noundef nonnull align 8 dereferenceable(32) %sni)
          to label %.noexc10 unwind label %lpad

.noexc10:                                         ; preds = %if.else.i.i.i
  store i8 1, ptr %hasValue.i.i3.i.i, align 8
  br label %invoke.cont30

if.else.i.i:                                      ; preds = %if.end
  br i1 %tobool.not.i.i4.i.i, label %invoke.cont30, label %if.then.i.i5.i.i

if.then.i.i5.i.i:                                 ; preds = %if.else.i.i
  store i8 0, ptr %hasValue.i.i3.i.i, align 8
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %sni_) #28
  br label %invoke.cont30

invoke.cont30:                                    ; preds = %if.then.i.i5.i.i, %if.else.i.i, %.noexc10, %if.then.i.i.i
  %pskIdentity_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 6
  %hasValue.i.i.i.i11 = getelementptr inbounds %"struct.folly::Optional<std::__cxx11::basic_string<char>>::StorageNonTriviallyDestructible", ptr %pskIdentity, i64 0, i32 1
  %16 = load i8, ptr %hasValue.i.i.i.i11, align 8
  %17 = and i8 %16, 1
  %tobool.i.i.not.i.i12 = icmp eq i8 %17, 0
  %hasValue.i.i3.i.i13 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 6, i32 0, i32 1
  %18 = load i8, ptr %hasValue.i.i3.i.i13, align 8
  %19 = and i8 %18, 1
  %tobool.not.i.i4.i.i14 = icmp eq i8 %19, 0
  br i1 %tobool.i.i.not.i.i12, label %if.else.i.i18, label %_ZNKR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i15

_ZNKR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i15: ; preds = %invoke.cont30
  br i1 %tobool.not.i.i4.i.i14, label %if.else.i.i.i17, label %if.then.i.i.i16

if.then.i.i.i16:                                  ; preds = %_ZNKR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i15
  %call2.i.i.i21 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEaSERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity_, ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity)
          to label %invoke.cont37 unwind label %lpad

if.else.i.i.i17:                                  ; preds = %_ZNKR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i15
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1ERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity_, ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity)
          to label %.noexc22 unwind label %lpad

.noexc22:                                         ; preds = %if.else.i.i.i17
  store i8 1, ptr %hasValue.i.i3.i.i13, align 8
  br label %invoke.cont37

if.else.i.i18:                                    ; preds = %invoke.cont30
  br i1 %tobool.not.i.i4.i.i14, label %invoke.cont37, label %if.then.i.i5.i.i19

if.then.i.i5.i.i19:                               ; preds = %if.else.i.i18
  store i8 0, ptr %hasValue.i.i3.i.i13, align 8
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity_) #28
  br label %invoke.cont37

invoke.cont37:                                    ; preds = %if.then.i.i.i16, %.noexc22, %if.else.i.i18, %if.then.i.i5.i.i19
  %cmp.i.i.not = icmp eq i64 %timeout.coerce, 0
  br i1 %cmp.i.i.not, label %if.end44, label %if.then39

if.then39:                                        ; preds = %invoke.cont37
  %vtable41 = load ptr, ptr %this, align 8
  %vfn42 = getelementptr inbounds ptr, ptr %vtable41, i64 60
  %20 = load ptr, ptr %vfn42, align 8
  invoke void %20(ptr noundef nonnull align 8 dereferenceable(576) %this, i64 %timeout.coerce)
          to label %if.end44 unwind label %lpad

if.end44:                                         ; preds = %if.then39, %invoke.cont37
  %vtable45 = load ptr, ptr %this, align 8
  %vfn46 = getelementptr inbounds ptr, ptr %vtable45, i64 59
  %21 = load ptr, ptr %vfn46, align 8
  invoke void %21(ptr noundef nonnull align 8 dereferenceable(576) %this)
          to label %invoke.cont47 unwind label %lpad

invoke.cont47:                                    ; preds = %if.end44
  %hasValue.i.i24 = getelementptr inbounds %"struct.folly::Optional<fizz::client::CachedPsk>::StorageNonTriviallyDestructible", ptr %cachedPsk, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i24, align 8
  %22 = load i8, ptr %hasValue.i.i.i.i11, align 8
  %23 = and i8 %22, 1
  %tobool.i.i26.not = icmp eq i8 %23, 0
  br i1 %tobool.i.i26.not, label %if.end57, label %invoke.cont53

invoke.cont53:                                    ; preds = %invoke.cont47
  %fizzContext_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 3
  %24 = load ptr, ptr %fizzContext_, align 8
  tail call void @llvm.experimental.noalias.scope.decl(metadata !41)
  %pskCache_.i = getelementptr inbounds %"class.fizz::client::FizzClientContext", ptr %24, i64 0, i32 14
  %25 = load ptr, ptr %pskCache_.i, align 8, !noalias !41
  %cmp.i.not.i = icmp eq ptr %25, null
  br i1 %cmp.i.not.i, label %if.else.i.i36.thread, label %if.then.i

if.then.i:                                        ; preds = %invoke.cont53
  %vtable.i = load ptr, ptr %25, align 8, !noalias !41
  %vfn.i = getelementptr inbounds ptr, ptr %vtable.i, i64 2
  %26 = load ptr, ptr %vfn.i, align 8, !noalias !41
  invoke void %26(ptr nonnull sret(%"class.folly::Optional.188") align 8 %ref.tmp50, ptr noundef nonnull align 8 dereferenceable(8) %25, ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity)
          to label %invoke.cont55 unwind label %lpad52

if.else.i.i36.thread:                             ; preds = %invoke.cont53
  %hasValue.i.i.i30 = getelementptr inbounds %"struct.folly::Optional<fizz::client::CachedPsk>::StorageNonTriviallyDestructible", ptr %ref.tmp50, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i.i30, align 8, !alias.scope !41
  br label %if.end57

invoke.cont55:                                    ; preds = %if.then.i
  %hasValue.i.i.i.i32.phi.trans.insert = getelementptr inbounds %"struct.folly::Optional<fizz::client::CachedPsk>::StorageNonTriviallyDestructible", ptr %ref.tmp50, i64 0, i32 1
  %.pre = load i8, ptr %hasValue.i.i.i.i32.phi.trans.insert, align 8
  %.pre139 = load i8, ptr %hasValue.i.i24, align 8
  %hasValue.i.i.i.i32 = getelementptr inbounds %"struct.folly::Optional<fizz::client::CachedPsk>::StorageNonTriviallyDestructible", ptr %ref.tmp50, i64 0, i32 1
  %27 = and i8 %.pre, 1
  %tobool.i.i.not.i.i33 = icmp eq i8 %27, 0
  %28 = and i8 %.pre139, 1
  %tobool.not.i.i9.i.i = icmp eq i8 %28, 0
  br i1 %tobool.i.i.not.i.i33, label %if.else.i.i36, label %_ZNR5folly8OptionalIN4fizz6client9CachedPskEE5valueEv.exit.i.i

_ZNR5folly8OptionalIN4fizz6client9CachedPskEE5valueEv.exit.i.i: ; preds = %invoke.cont55
  br i1 %tobool.not.i.i9.i.i, label %if.else.i.i.i35, label %if.then.i.i.i34

if.then.i.i.i34:                                  ; preds = %_ZNR5folly8OptionalIN4fizz6client9CachedPskEE5valueEv.exit.i.i
  %call2.i.i.i = call noundef nonnull align 8 dereferenceable(192) ptr @_ZN4fizz6client9CachedPskaSEOS1_(ptr noundef nonnull align 8 dereferenceable(192) %cachedPsk, ptr noundef nonnull align 8 dereferenceable(192) %ref.tmp50) #28
  br label %_ZN5folly8OptionalIN4fizz6client9CachedPskEE6assignEOS3_.exit.i.i

if.else.i.i.i35:                                  ; preds = %_ZNR5folly8OptionalIN4fizz6client9CachedPskEE5valueEv.exit.i.i
  call void @_ZN4fizz6client9CachedPskC2EOS1_(ptr noundef nonnull align 8 dereferenceable(192) %cachedPsk, ptr noundef nonnull align 8 dereferenceable(192) %ref.tmp50) #28
  store i8 1, ptr %hasValue.i.i24, align 8
  br label %_ZN5folly8OptionalIN4fizz6client9CachedPskEE6assignEOS3_.exit.i.i

_ZN5folly8OptionalIN4fizz6client9CachedPskEE6assignEOS3_.exit.i.i: ; preds = %if.else.i.i.i35, %if.then.i.i.i34
  %29 = load i8, ptr %hasValue.i.i.i.i32, align 8
  %30 = and i8 %29, 1
  %tobool.not.i.i6.i.i = icmp eq i8 %30, 0
  br i1 %tobool.not.i.i6.i.i, label %if.end57, label %_ZN5folly8OptionalIN4fizz6client9CachedPskEEaSEOS4_.exit

if.else.i.i36:                                    ; preds = %invoke.cont55
  br i1 %tobool.not.i.i9.i.i, label %if.end57, label %_ZN5folly8OptionalIN4fizz6client9CachedPskEEaSEOS4_.exit

_ZN5folly8OptionalIN4fizz6client9CachedPskEEaSEOS4_.exit: ; preds = %_ZN5folly8OptionalIN4fizz6client9CachedPskEE6assignEOS3_.exit.i.i, %if.else.i.i36
  %hasValue.i.i8.sink.i.i = phi ptr [ %hasValue.i.i.i.i32, %_ZN5folly8OptionalIN4fizz6client9CachedPskEE6assignEOS3_.exit.i.i ], [ %hasValue.i.i24, %if.else.i.i36 ]
  %this.sink.i.i = phi ptr [ %ref.tmp50, %_ZN5folly8OptionalIN4fizz6client9CachedPskEE6assignEOS3_.exit.i.i ], [ %cachedPsk, %if.else.i.i36 ]
  store i8 0, ptr %hasValue.i.i8.sink.i.i, align 8
  call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %this.sink.i.i) #28
  %.pre140 = load i8, ptr %hasValue.i.i.i.i32, align 8
  %.pre141 = and i8 %.pre140, 1
  %tobool.not.i.i.i38 = icmp eq i8 %.pre141, 0
  br i1 %tobool.not.i.i.i38, label %if.end57, label %if.then.i.i.i39

if.then.i.i.i39:                                  ; preds = %_ZN5folly8OptionalIN4fizz6client9CachedPskEEaSEOS4_.exit
  store i8 0, ptr %hasValue.i.i.i.i32, align 8
  call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %ref.tmp50) #28
  br label %if.end57

lpad52:                                           ; preds = %if.then.i
  %31 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup71

if.end57:                                         ; preds = %if.else.i.i36.thread, %if.else.i.i36, %_ZN5folly8OptionalIN4fizz6client9CachedPskEE6assignEOS3_.exit.i.i, %if.then.i.i.i39, %_ZN5folly8OptionalIN4fizz6client9CachedPskEEaSEOS4_.exit, %invoke.cont47
  %fizzClient_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9
  %fizzContext_59 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 3
  %32 = load ptr, ptr %fizzContext_59, align 8
  store ptr %32, ptr %agg.tmp58, align 8
  %_M_refcount.i.i = getelementptr inbounds %"class.std::__shared_ptr", ptr %agg.tmp58, i64 0, i32 1
  %_M_refcount3.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 3, i32 0, i32 1
  %33 = load ptr, ptr %_M_refcount3.i.i, align 8
  store ptr %33, ptr %_M_refcount.i.i, align 8
  %cmp.not.i.i.i = icmp eq ptr %33, null
  br i1 %cmp.not.i.i.i, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEEC2ERKS4_.exit, label %if.then.i.i.i40

if.then.i.i.i40:                                  ; preds = %if.end57
  %_M_use_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %33, i64 0, i32 1
  %34 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.i.not.i.i.i.i = icmp eq i8 %34, 0
  br i1 %tobool.i.i.not.i.i.i.i, label %if.else.i.i.i.i.i, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.then.i.i.i40
  %35 = load i32, ptr %_M_use_count.i.i.i.i, align 4
  %add.i.i.i.i.i = add nsw i32 %35, 1
  store i32 %add.i.i.i.i.i, ptr %_M_use_count.i.i.i.i, align 4
  br label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEEC2ERKS4_.exit

if.else.i.i.i.i.i:                                ; preds = %if.then.i.i.i40
  %36 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i, i32 1 acq_rel, align 4
  br label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEEC2ERKS4_.exit

_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEEC2ERKS4_.exit: ; preds = %if.end57, %if.then.i.i.i.i.i, %if.else.i.i.i.i.i
  %_M_refcount.i.i41 = getelementptr inbounds %"class.std::__shared_ptr.1", ptr %agg.tmp60, i64 0, i32 1
  %_M_refcount4.i.i = getelementptr inbounds %"class.std::__shared_ptr.1", ptr %verifier, i64 0, i32 1
  %37 = load <2 x ptr>, ptr %verifier, align 8
  store ptr null, ptr %_M_refcount4.i.i, align 8
  store <2 x ptr> %37, ptr %agg.tmp60, align 16
  store ptr null, ptr %verifier, align 8
  %hasValue.i.i42 = getelementptr inbounds %"struct.folly::Optional<std::__cxx11::basic_string<char>>::StorageNonTriviallyDestructible", ptr %agg.tmp61, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i42, align 8
  %38 = load i8, ptr %hasValue.i.i.i.i, align 8
  %39 = and i8 %38, 1
  %tobool.i.i.not.i = icmp eq i8 %39, 0
  br i1 %tobool.i.i.not.i, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit, label %invoke.cont2.i

invoke.cont2.i:                                   ; preds = %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEEC2ERKS4_.exit
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1EOS4_(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp61, ptr noundef nonnull align 8 dereferenceable(32) %sni) #28
  store i8 1, ptr %hasValue.i.i42, align 8
  %40 = load i8, ptr %hasValue.i.i.i.i, align 8
  %41 = and i8 %40, 1
  %tobool.not.i.i6.i = icmp eq i8 %41, 0
  br i1 %tobool.not.i.i6.i, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit, label %if.then.i.i7.i

if.then.i.i7.i:                                   ; preds = %invoke.cont2.i
  store i8 0, ptr %hasValue.i.i.i.i, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %sni) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit: ; preds = %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEEC2ERKS4_.exit, %invoke.cont2.i, %if.then.i.i7.i
  %hasValue.i.i44 = getelementptr inbounds %"struct.folly::Optional<fizz::client::CachedPsk>::StorageNonTriviallyDestructible", ptr %agg.tmp62, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i44, align 8
  %42 = load i8, ptr %hasValue.i.i24, align 8
  %43 = and i8 %42, 1
  %tobool.i.i.not.i46 = icmp eq i8 %43, 0
  br i1 %tobool.i.i.not.i46, label %_ZN5folly8OptionalIN4fizz6client9CachedPskEEC2EOS4_.exit, label %invoke.cont2.i47

invoke.cont2.i47:                                 ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit
  call void @_ZN4fizz6client9CachedPskC2EOS1_(ptr noundef nonnull align 8 dereferenceable(192) %agg.tmp62, ptr noundef nonnull align 8 dereferenceable(192) %cachedPsk) #28
  store i8 1, ptr %hasValue.i.i44, align 8
  %44 = load i8, ptr %hasValue.i.i24, align 8
  %45 = and i8 %44, 1
  %tobool.not.i.i6.i48 = icmp eq i8 %45, 0
  br i1 %tobool.not.i.i6.i48, label %_ZN5folly8OptionalIN4fizz6client9CachedPskEEC2EOS4_.exit, label %if.then.i.i7.i49

if.then.i.i7.i49:                                 ; preds = %invoke.cont2.i47
  store i8 0, ptr %hasValue.i.i24, align 8
  call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %cachedPsk) #28
  br label %_ZN5folly8OptionalIN4fizz6client9CachedPskEEC2EOS4_.exit

_ZN5folly8OptionalIN4fizz6client9CachedPskEEC2EOS4_.exit: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit, %invoke.cont2.i47, %if.then.i.i7.i49
  %hasValue.i.i50 = getelementptr inbounds %"struct.folly::Optional<std::vector<fizz::ech::ECHConfig>>::StorageNonTriviallyDestructible", ptr %agg.tmp63, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i50, align 8
  %hasValue.i.i.i51 = getelementptr inbounds %"struct.folly::Optional<std::vector<fizz::ech::ECHConfig>>::StorageNonTriviallyDestructible", ptr %echConfigs, i64 0, i32 1
  %46 = load i8, ptr %hasValue.i.i.i51, align 8
  %47 = and i8 %46, 1
  %tobool.i.i.not.i52 = icmp eq i8 %47, 0
  br i1 %tobool.i.i.not.i52, label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEEC2EOS7_.exit, label %invoke.cont.i.i.i.i

invoke.cont.i.i.i.i:                              ; preds = %_ZN5folly8OptionalIN4fizz6client9CachedPskEEC2EOS4_.exit
  %48 = load <2 x ptr>, ptr %echConfigs, align 8
  store <2 x ptr> %48, ptr %agg.tmp63, align 16
  %_M_end_of_storage.i.i.i.i.i.i = getelementptr inbounds %"struct.std::_Vector_base<fizz::ech::ECHConfig, std::allocator<fizz::ech::ECHConfig>>::_Vector_impl_data", ptr %agg.tmp63, i64 0, i32 2
  %_M_end_of_storage4.i.i.i.i.i.i = getelementptr inbounds %"struct.std::_Vector_base<fizz::ech::ECHConfig, std::allocator<fizz::ech::ECHConfig>>::_Vector_impl_data", ptr %echConfigs, i64 0, i32 2
  %49 = load ptr, ptr %_M_end_of_storage4.i.i.i.i.i.i, align 8
  store ptr %49, ptr %_M_end_of_storage.i.i.i.i.i.i, align 16
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %echConfigs, i8 0, i64 24, i1 false)
  store i8 1, ptr %hasValue.i.i50, align 8
  store i8 0, ptr %hasValue.i.i.i51, align 8
  br label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEEC2EOS7_.exit

_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEEC2EOS7_.exit: ; preds = %invoke.cont.i.i.i.i, %_ZN5folly8OptionalIN4fizz6client9CachedPskEEC2EOS4_.exit
  %extensions_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 4
  invoke void @_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_E7connectESt10shared_ptrIKNS0_17FizzClientContextEES7_IKNS_19CertificateVerifierEEN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEENSF_INS0_9CachedPskEEENSF_ISt6vectorINS_3ech9ECHConfigESaISR_EEEERKS7_INS_16ClientExtensionsEE(ptr noundef nonnull align 8 dereferenceable(163) %fizzClient_, ptr noundef nonnull %agg.tmp58, ptr noundef nonnull %agg.tmp60, ptr noundef nonnull %agg.tmp61, ptr noundef nonnull %agg.tmp62, ptr noundef nonnull %agg.tmp63, ptr noundef nonnull align 8 dereferenceable(16) %extensions_)
          to label %invoke.cont65 unwind label %lpad64

invoke.cont65:                                    ; preds = %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEEC2EOS7_.exit
  %50 = load i8, ptr %hasValue.i.i50, align 8
  %51 = and i8 %50, 1
  %tobool.not.i.i.i57 = icmp eq i8 %51, 0
  br i1 %tobool.not.i.i.i57, label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit, label %if.then.i.i.i58

if.then.i.i.i58:                                  ; preds = %invoke.cont65
  store i8 0, ptr %hasValue.i.i50, align 8
  %52 = load ptr, ptr %agg.tmp63, align 16
  %_M_finish.i.i.i.i = getelementptr inbounds %"struct.std::_Vector_base<fizz::ech::ECHConfig, std::allocator<fizz::ech::ECHConfig>>::_Vector_impl_data", ptr %agg.tmp63, i64 0, i32 1
  %53 = load ptr, ptr %_M_finish.i.i.i.i, align 8
  %cmp.not3.i.i.i.i.i.i.i59 = icmp eq ptr %52, %53
  br i1 %cmp.not3.i.i.i.i.i.i.i59, label %invoke.cont.i.i.i.i70, label %for.body.i.i.i.i.i.i.i60

for.body.i.i.i.i.i.i.i60:                         ; preds = %if.then.i.i.i58, %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i65
  %__first.addr.04.i.i.i.i.i.i.i61 = phi ptr [ %incdec.ptr.i.i.i.i.i.i.i66, %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i65 ], [ %52, %if.then.i.i.i58 ]
  %ech_config_content.i.i.i.i.i.i.i.i.i62 = getelementptr inbounds %"struct.fizz::ech::ECHConfig", ptr %__first.addr.04.i.i.i.i.i.i.i61, i64 0, i32 1
  %54 = load ptr, ptr %ech_config_content.i.i.i.i.i.i.i.i.i62, align 8
  %cmp.not.i.i.i.i.i.i.i.i.i.i63 = icmp eq ptr %54, null
  br i1 %cmp.not.i.i.i.i.i.i.i.i.i.i63, label %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i65, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i.i.i.i64

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i.i.i.i64: ; preds = %for.body.i.i.i.i.i.i.i60
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %54) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %54) #28
  br label %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i65

_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i65: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i.i.i.i64, %for.body.i.i.i.i.i.i.i60
  store ptr null, ptr %ech_config_content.i.i.i.i.i.i.i.i.i62, align 8
  %incdec.ptr.i.i.i.i.i.i.i66 = getelementptr inbounds %"struct.fizz::ech::ECHConfig", ptr %__first.addr.04.i.i.i.i.i.i.i61, i64 1
  %cmp.not.i.i.i.i.i.i.i67 = icmp eq ptr %incdec.ptr.i.i.i.i.i.i.i66, %53
  br i1 %cmp.not.i.i.i.i.i.i.i67, label %invoke.contthread-pre-split.i.i.i.i68, label %for.body.i.i.i.i.i.i.i60, !llvm.loop !44

invoke.contthread-pre-split.i.i.i.i68:            ; preds = %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i65
  %.pr.i.i.i.i69 = load ptr, ptr %agg.tmp63, align 16
  br label %invoke.cont.i.i.i.i70

invoke.cont.i.i.i.i70:                            ; preds = %invoke.contthread-pre-split.i.i.i.i68, %if.then.i.i.i58
  %55 = phi ptr [ %.pr.i.i.i.i69, %invoke.contthread-pre-split.i.i.i.i68 ], [ %52, %if.then.i.i.i58 ]
  %tobool.not.i.i.i.i.i.i71 = icmp eq ptr %55, null
  br i1 %tobool.not.i.i.i.i.i.i71, label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit, label %if.then.i.i.i.i.i.i72

if.then.i.i.i.i.i.i72:                            ; preds = %invoke.cont.i.i.i.i70
  call void @_ZdlPv(ptr noundef nonnull %55) #31
  br label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit

_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit: ; preds = %invoke.cont65, %invoke.cont.i.i.i.i70, %if.then.i.i.i.i.i.i72
  %56 = load i8, ptr %hasValue.i.i44, align 8
  %57 = and i8 %56, 1
  %tobool.not.i.i.i74 = icmp eq i8 %57, 0
  br i1 %tobool.not.i.i.i74, label %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit76, label %if.then.i.i.i75

if.then.i.i.i75:                                  ; preds = %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit
  store i8 0, ptr %hasValue.i.i44, align 8
  call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %agg.tmp62) #28
  br label %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit76

_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit76: ; preds = %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit, %if.then.i.i.i75
  %58 = load i8, ptr %hasValue.i.i42, align 8
  %59 = and i8 %58, 1
  %tobool.not.i.i.i78 = icmp eq i8 %59, 0
  br i1 %tobool.not.i.i.i78, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, label %if.then.i.i.i79

if.then.i.i.i79:                                  ; preds = %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit76
  store i8 0, ptr %hasValue.i.i42, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp61) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit: ; preds = %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit76, %if.then.i.i.i79
  %60 = load ptr, ptr %_M_refcount.i.i41, align 8
  %cmp.not.i.i.i81 = icmp eq ptr %60, null
  br i1 %cmp.not.i.i.i81, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit, label %if.then.i.i.i82

if.then.i.i.i82:                                  ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit
  %_M_use_count.i.i.i.i83 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %60, i64 0, i32 1
  %61 = load atomic i64, ptr %_M_use_count.i.i.i.i83 acquire, align 8
  %cmp.i.i.i.i = icmp eq i64 %61, 4294967297
  %62 = trunc i64 %61 to i32
  br i1 %cmp.i.i.i.i, label %if.then.i.i.i.i, label %if.end.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %if.then.i.i.i82
  store i32 0, ptr %_M_use_count.i.i.i.i83, align 8
  %_M_weak_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %60, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i, align 4
  %vtable.i.i.i.i = load ptr, ptr %60, align 8
  %vfn.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i, i64 2
  %63 = load ptr, ptr %vfn.i.i.i.i, align 8
  call void %63(ptr noundef nonnull align 8 dereferenceable(16) %60) #28
  br label %if.end8.sink.split.i.i.i.i

if.end.i.i.i.i:                                   ; preds = %if.then.i.i.i82
  %64 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i = icmp eq i8 %64, 0
  br i1 %tobool.i.not.i.i.i.i, label %if.else.i.i.i.i.i86, label %if.then.i.i.i.i.i84

if.then.i.i.i.i.i84:                              ; preds = %if.end.i.i.i.i
  %add.i.i.i.i.i85 = add nsw i32 %62, -1
  store i32 %add.i.i.i.i.i85, ptr %_M_use_count.i.i.i.i83, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

if.else.i.i.i.i.i86:                              ; preds = %if.end.i.i.i.i
  %65 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i83, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i: ; preds = %if.else.i.i.i.i.i86, %if.then.i.i.i.i.i84
  %retval.i.0.i.i.i.i = phi i32 [ %62, %if.then.i.i.i.i.i84 ], [ %65, %if.else.i.i.i.i.i86 ]
  %cmp6.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i, label %if.then7.i.i.i.i, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

if.then7.i.i.i.i:                                 ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i
  %vtable.i.i.i.i.i.i = load ptr, ptr %60, align 8
  %vfn.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i, i64 2
  %66 = load ptr, ptr %vfn.i.i.i.i.i.i, align 8
  call void %66(ptr noundef nonnull align 8 dereferenceable(16) %60) #28
  %_M_weak_count.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %60, i64 0, i32 2
  %67 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i = icmp eq i8 %67, 0
  br i1 %tobool.i.not.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %68 = load i32, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i.i = add nsw i32 %68, -1
  store i32 %add.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %69 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i = phi i32 [ %68, %if.then.i.i.i.i.i.i.i ], [ %69, %if.else.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

if.end8.sink.split.i.i.i.i:                       ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.then.i.i.i.i
  %vtable2.i.i.i.i.i.i = load ptr, ptr %60, align 8
  %vfn3.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i, i64 3
  %70 = load ptr, ptr %vfn3.i.i.i.i.i.i, align 8
  call void %70(ptr noundef nonnull align 8 dereferenceable(16) %60) #28
  br label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.end8.sink.split.i.i.i.i
  %71 = load ptr, ptr %_M_refcount.i.i, align 8
  %cmp.not.i.i.i88 = icmp eq ptr %71, null
  br i1 %cmp.not.i.i.i88, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit, label %if.then.i.i.i89

if.then.i.i.i89:                                  ; preds = %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit
  %_M_use_count.i.i.i.i90 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %71, i64 0, i32 1
  %72 = load atomic i64, ptr %_M_use_count.i.i.i.i90 acquire, align 8
  %cmp.i.i.i.i91 = icmp eq i64 %72, 4294967297
  %73 = trunc i64 %72 to i32
  br i1 %cmp.i.i.i.i91, label %if.then.i.i.i.i114, label %if.end.i.i.i.i92

if.then.i.i.i.i114:                               ; preds = %if.then.i.i.i89
  store i32 0, ptr %_M_use_count.i.i.i.i90, align 8
  %_M_weak_count.i.i.i.i115 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %71, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i115, align 4
  %vtable.i.i.i.i116 = load ptr, ptr %71, align 8
  %vfn.i.i.i.i117 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i116, i64 2
  %74 = load ptr, ptr %vfn.i.i.i.i117, align 8
  call void %74(ptr noundef nonnull align 8 dereferenceable(16) %71) #28
  br label %if.end8.sink.split.i.i.i.i109

if.end.i.i.i.i92:                                 ; preds = %if.then.i.i.i89
  %75 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i93 = icmp eq i8 %75, 0
  br i1 %tobool.i.not.i.i.i.i93, label %if.else.i.i.i.i.i113, label %if.then.i.i.i.i.i94

if.then.i.i.i.i.i94:                              ; preds = %if.end.i.i.i.i92
  %add.i.i.i.i.i95 = add nsw i32 %73, -1
  store i32 %add.i.i.i.i.i95, ptr %_M_use_count.i.i.i.i90, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i96

if.else.i.i.i.i.i113:                             ; preds = %if.end.i.i.i.i92
  %76 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i90, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i96

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i96: ; preds = %if.else.i.i.i.i.i113, %if.then.i.i.i.i.i94
  %retval.i.0.i.i.i.i97 = phi i32 [ %73, %if.then.i.i.i.i.i94 ], [ %76, %if.else.i.i.i.i.i113 ]
  %cmp6.i.i.i.i98 = icmp eq i32 %retval.i.0.i.i.i.i97, 1
  br i1 %cmp6.i.i.i.i98, label %if.then7.i.i.i.i99, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit

if.then7.i.i.i.i99:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i96
  %vtable.i.i.i.i.i.i100 = load ptr, ptr %71, align 8
  %vfn.i.i.i.i.i.i101 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i100, i64 2
  %77 = load ptr, ptr %vfn.i.i.i.i.i.i101, align 8
  call void %77(ptr noundef nonnull align 8 dereferenceable(16) %71) #28
  %_M_weak_count.i.i.i.i.i.i102 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %71, i64 0, i32 2
  %78 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i103 = icmp eq i8 %78, 0
  br i1 %tobool.i.not.i.i.i.i.i.i103, label %if.else.i.i.i.i.i.i.i112, label %if.then.i.i.i.i.i.i.i104

if.then.i.i.i.i.i.i.i104:                         ; preds = %if.then7.i.i.i.i99
  %79 = load i32, ptr %_M_weak_count.i.i.i.i.i.i102, align 4
  %add.i.i.i.i.i.i.i105 = add nsw i32 %79, -1
  store i32 %add.i.i.i.i.i.i.i105, ptr %_M_weak_count.i.i.i.i.i.i102, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i106

if.else.i.i.i.i.i.i.i112:                         ; preds = %if.then7.i.i.i.i99
  %80 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i102, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i106

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i106: ; preds = %if.else.i.i.i.i.i.i.i112, %if.then.i.i.i.i.i.i.i104
  %retval.i.0.i.i.i.i.i.i107 = phi i32 [ %79, %if.then.i.i.i.i.i.i.i104 ], [ %80, %if.else.i.i.i.i.i.i.i112 ]
  %cmp.i.i.i.i.i.i108 = icmp eq i32 %retval.i.0.i.i.i.i.i.i107, 1
  br i1 %cmp.i.i.i.i.i.i108, label %if.end8.sink.split.i.i.i.i109, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit

if.end8.sink.split.i.i.i.i109:                    ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i106, %if.then.i.i.i.i114
  %vtable2.i.i.i.i.i.i110 = load ptr, ptr %71, align 8
  %vfn3.i.i.i.i.i.i111 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i110, i64 3
  %81 = load ptr, ptr %vfn3.i.i.i.i.i.i111, align 8
  call void %81(ptr noundef nonnull align 8 dereferenceable(16) %71) #28
  br label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit

_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit: ; preds = %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i96, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i106, %if.end8.sink.split.i.i.i.i109
  %82 = load i8, ptr %hasValue.i.i24, align 8
  %83 = and i8 %82, 1
  %tobool.not.i.i.i119 = icmp eq i8 %83, 0
  br i1 %tobool.not.i.i.i119, label %cleanup, label %if.then.i.i.i120

if.then.i.i.i120:                                 ; preds = %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit
  store i8 0, ptr %hasValue.i.i24, align 8
  call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %cachedPsk) #28
  br label %cleanup

cleanup:                                          ; preds = %if.then.i.i.i120, %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit, %invoke.cont28
  %84 = load ptr, ptr %dg, align 8
  %cmp.not.i = icmp eq ptr %84, null
  br i1 %cmp.not.i, label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit, label %if.then.i122

if.then.i122:                                     ; preds = %cleanup
  %guardCount_.i123 = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %84, i64 0, i32 1
  %85 = load i32, ptr %guardCount_.i123, align 8
  %dec.i = add i32 %85, -1
  store i32 %dec.i, ptr %guardCount_.i123, align 8
  %cmp5.i = icmp eq i32 %dec.i, 0
  br i1 %cmp5.i, label %if.then6.i, label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit

if.then6.i:                                       ; preds = %if.then.i122
  %vtable.i124 = load ptr, ptr %84, align 8
  %vfn.i125 = getelementptr inbounds ptr, ptr %vtable.i124, i64 2
  %86 = load ptr, ptr %vfn.i125, align 8
  invoke void %86(ptr noundef nonnull align 8 dereferenceable(12) %84, i1 noundef zeroext true)
          to label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit unwind label %terminate.lpad.i

terminate.lpad.i:                                 ; preds = %if.then6.i
  %87 = landingpad { ptr, i32 }
          catch ptr null
  %88 = extractvalue { ptr, i32 } %87, 0
  call void @__clang_call_terminate(ptr %88) #30
  unreachable

_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit: ; preds = %cleanup, %if.then.i122, %if.then6.i
  ret void

lpad64:                                           ; preds = %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEEC2EOS7_.exit
  %89 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp63) #28
  %90 = load i8, ptr %hasValue.i.i44, align 8
  %91 = and i8 %90, 1
  %tobool.not.i.i.i127 = icmp eq i8 %91, 0
  br i1 %tobool.not.i.i.i127, label %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit129, label %if.then.i.i.i128

if.then.i.i.i128:                                 ; preds = %lpad64
  store i8 0, ptr %hasValue.i.i44, align 8
  call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %agg.tmp62) #28
  br label %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit129

_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit129: ; preds = %lpad64, %if.then.i.i.i128
  %92 = load i8, ptr %hasValue.i.i42, align 8
  %93 = and i8 %92, 1
  %tobool.not.i.i.i131 = icmp eq i8 %93, 0
  br i1 %tobool.not.i.i.i131, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit133, label %if.then.i.i.i132

if.then.i.i.i132:                                 ; preds = %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit129
  store i8 0, ptr %hasValue.i.i42, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp61) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit133

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit133: ; preds = %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit129, %if.then.i.i.i132
  call void @_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp60) #28
  call void @_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp58) #28
  br label %ehcleanup71

ehcleanup71:                                      ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit133, %lpad52
  %.pn2 = phi { ptr, i32 } [ %89, %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit133 ], [ %31, %lpad52 ]
  %94 = load i8, ptr %hasValue.i.i24, align 8
  %95 = and i8 %94, 1
  %tobool.not.i.i.i135 = icmp eq i8 %95, 0
  br i1 %tobool.not.i.i.i135, label %ehcleanup72, label %if.then.i.i.i136

if.then.i.i.i136:                                 ; preds = %ehcleanup71
  store i8 0, ptr %hasValue.i.i24, align 8
  call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %cachedPsk) #28
  br label %ehcleanup72

ehcleanup72:                                      ; preds = %if.then.i.i.i136, %ehcleanup71, %lpad27, %ehcleanup, %lpad
  %.pn2.pn = phi { ptr, i32 } [ %3, %lpad ], [ %11, %lpad27 ], [ %.pn, %ehcleanup ], [ %.pn2, %ehcleanup71 ], [ %.pn2, %if.then.i.i.i136 ]
  call void @_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev(ptr noundef nonnull align 8 dereferenceable(8) %dg) #28
  resume { ptr, i32 } %.pn2.pn
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE7connectERKN5folly13SocketAddressEPNS4_20AsyncSocketTransport15ConnectCallbackESt10shared_ptrIKNS_19CertificateVerifierEENS4_8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEESM_NSt6chrono8durationIlSt5ratioILl1ELl1000EEEESR_RKSt3mapINS4_15SocketOptionKeyEiSt4lessIST_ESaISt4pairIKST_iEEES7_(ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr noundef nonnull align 8 dereferenceable(27) %connectAddr, ptr noundef %callback, ptr noundef %verifier, ptr noundef %sni, ptr noundef %pskIdentity, i64 %totalTimeout.coerce, i64 %socketTimeout.coerce, ptr noundef nonnull align 8 dereferenceable(48) %options, ptr noundef nonnull align 8 dereferenceable(27) %bindAddr) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i = alloca %"class.std::__cxx11::basic_string", align 8
  %dg = alloca %"class.folly::DelayedDestructionBase::DestructorGuard", align 8
  %ref.tmp4 = alloca %"class.google::LogMessageFatal", align 8
  %ref.tmp39 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp40 = alloca %"class.std::allocator", align 1
  %ase = alloca %"class.folly::AsyncSocketException", align 8
  %ref.tmp45 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp46 = alloca %"class.std::allocator", align 1
  store ptr %this, ptr %dg, align 8
  %guardCount_.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %this, i64 0, i32 1
  %0 = load i32, ptr %guardCount_.i, align 8
  %inc.i = add i32 %0, 1
  store i32 %inc.i, ptr %guardCount_.i, align 8
  %hasValue.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 2, i32 0, i32 1
  %1 = load i8, ptr %hasValue.i.i, align 8
  %2 = and i8 %1, 1
  %tobool.i.i.not = icmp eq i8 %2, 0
  br i1 %tobool.i.i.not, label %invoke.cont17, label %cond.false

cond.false:                                       ; preds = %entry
  invoke void @_ZN6google15LogMessageFatalC1EPKci(ptr noundef nonnull align 8 dereferenceable(96) %ref.tmp4, ptr noundef nonnull @.str.5, i32 noundef 114)
          to label %invoke.cont5 unwind label %lpad.loopexit.split-lp

invoke.cont5:                                     ; preds = %cond.false
  %call8 = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZN6google10LogMessage6streamEv(ptr noundef nonnull align 8 dereferenceable(96) %ref.tmp4)
          to label %invoke.cont7 unwind label %lpad6

invoke.cont7:                                     ; preds = %invoke.cont5
  %call10 = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(ptr noundef nonnull align 8 dereferenceable(8) %call8, ptr noundef nonnull @.str.41)
          to label %invoke.cont9 unwind label %lpad6

invoke.cont9:                                     ; preds = %invoke.cont7
  %call12 = invoke noundef nonnull align 8 dereferenceable(8) ptr @_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(ptr noundef nonnull align 8 dereferenceable(8) %call10, ptr noundef nonnull @.str.42)
          to label %cleanup.action unwind label %lpad6

cleanup.action:                                   ; preds = %invoke.cont9
  call void @_ZN6google15LogMessageFatalD1Ev(ptr noundef nonnull align 8 dereferenceable(96) %ref.tmp4) #30
  unreachable

lpad.loopexit:                                    ; preds = %if.end.i.i
  %lpad.loopexit36 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup55

lpad.loopexit.split-lp:                           ; preds = %cond.false, %if.then, %if.then34, %if.then.i.i.i, %if.else.i.i.i, %if.then.i.i.i12, %if.else.i.i.i13
  %lpad.loopexit.split-lp37 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup55

lpad6:                                            ; preds = %invoke.cont9, %invoke.cont7, %invoke.cont5
  %3 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN6google15LogMessageFatalD1Ev(ptr noundef nonnull align 8 dereferenceable(96) %ref.tmp4) #30
  unreachable

invoke.cont17:                                    ; preds = %entry
  %callback_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 2
  store ptr %callback, ptr %callback_, align 8
  %ptrType_.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 2, i32 0, i32 0, i32 0, i32 1
  store i8 1, ptr %ptrType_.i.i.i, align 8
  store i8 1, ptr %hasValue.i.i, align 8
  %verifier_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 13
  %_M_refcount3.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 13, i32 0, i32 1
  %4 = load <2 x ptr>, ptr %verifier, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %verifier, i8 0, i64 16, i1 false)
  %5 = load ptr, ptr %_M_refcount3.i.i.i, align 8
  store <2 x ptr> %4, ptr %verifier_, align 8
  %cmp.not.i.i.i.i = icmp eq ptr %5, null
  br i1 %cmp.not.i.i.i.i, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEEaSEOS3_.exit, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %invoke.cont17
  %_M_use_count.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %5, i64 0, i32 1
  %6 = load atomic i64, ptr %_M_use_count.i.i.i.i.i acquire, align 8
  %cmp.i.i.i.i.i = icmp eq i64 %6, 4294967297
  %7 = trunc i64 %6 to i32
  br i1 %cmp.i.i.i.i.i, label %if.then.i.i.i.i.i, label %if.end.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.then.i.i.i.i
  store i32 0, ptr %_M_use_count.i.i.i.i.i, align 8
  %_M_weak_count.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %5, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i, align 4
  %vtable.i.i.i.i.i = load ptr, ptr %5, align 8
  %vfn.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i, i64 2
  %8 = load ptr, ptr %vfn.i.i.i.i.i, align 8
  tail call void %8(ptr noundef nonnull align 8 dereferenceable(16) %5) #28
  br label %if.end8.sink.split.i.i.i.i.i

if.end.i.i.i.i.i:                                 ; preds = %if.then.i.i.i.i
  %9 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i = icmp eq i8 %9, 0
  br i1 %tobool.i.not.i.i.i.i.i, label %if.else.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i

if.then.i.i.i.i.i.i:                              ; preds = %if.end.i.i.i.i.i
  %add.i.i.i.i.i.i = add nsw i32 %7, -1
  store i32 %add.i.i.i.i.i.i, ptr %_M_use_count.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

if.else.i.i.i.i.i.i:                              ; preds = %if.end.i.i.i.i.i
  %10 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i, %if.then.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i = phi i32 [ %7, %if.then.i.i.i.i.i.i ], [ %10, %if.else.i.i.i.i.i.i ]
  %cmp6.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i.i, label %if.then7.i.i.i.i.i, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEEaSEOS3_.exit

if.then7.i.i.i.i.i:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i
  %vtable.i.i.i.i.i.i.i = load ptr, ptr %5, align 8
  %vfn.i.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i, i64 2
  %11 = load ptr, ptr %vfn.i.i.i.i.i.i.i, align 8
  tail call void %11(ptr noundef nonnull align 8 dereferenceable(16) %5) #28
  %_M_weak_count.i.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %5, i64 0, i32 2
  %12 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i = icmp eq i8 %12, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i.i:                          ; preds = %if.then7.i.i.i.i.i
  %13 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i.i.i = add nsw i32 %13, -1
  store i32 %add.i.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i.i:                          ; preds = %if.then7.i.i.i.i.i
  %14 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i.i = phi i32 [ %13, %if.then.i.i.i.i.i.i.i.i ], [ %14, %if.else.i.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i.i, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEEaSEOS3_.exit

if.end8.sink.split.i.i.i.i.i:                     ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i, %if.then.i.i.i.i.i
  %vtable2.i.i.i.i.i.i.i = load ptr, ptr %5, align 8
  %vfn3.i.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i, i64 3
  %15 = load ptr, ptr %vfn3.i.i.i.i.i.i.i, align 8
  tail call void %15(ptr noundef nonnull align 8 dereferenceable(16) %5) #28
  br label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEEaSEOS3_.exit

_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEEaSEOS3_.exit: ; preds = %invoke.cont17, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i, %if.end8.sink.split.i.i.i.i.i
  %sni_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 5
  %hasValue.i.i.i.i = getelementptr inbounds %"struct.folly::Optional<std::__cxx11::basic_string<char>>::StorageNonTriviallyDestructible", ptr %sni, i64 0, i32 1
  %16 = load i8, ptr %hasValue.i.i.i.i, align 8
  %17 = and i8 %16, 1
  %tobool.i.i.not.i.i = icmp eq i8 %17, 0
  %hasValue.i.i3.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 5, i32 0, i32 1
  %18 = load i8, ptr %hasValue.i.i3.i.i, align 8
  %19 = and i8 %18, 1
  %tobool.not.i.i4.i.i = icmp eq i8 %19, 0
  br i1 %tobool.i.i.not.i.i, label %if.else.i.i, label %_ZNKR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i

_ZNKR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i: ; preds = %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEEaSEOS3_.exit
  br i1 %tobool.not.i.i4.i.i, label %if.else.i.i.i, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %_ZNKR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i
  %call2.i.i.i6 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEaSERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %sni_, ptr noundef nonnull align 8 dereferenceable(32) %sni)
          to label %invoke.cont20 unwind label %lpad.loopexit.split-lp

if.else.i.i.i:                                    ; preds = %_ZNKR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1ERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %sni_, ptr noundef nonnull align 8 dereferenceable(32) %sni)
          to label %.noexc unwind label %lpad.loopexit.split-lp

.noexc:                                           ; preds = %if.else.i.i.i
  store i8 1, ptr %hasValue.i.i3.i.i, align 8
  br label %invoke.cont20

if.else.i.i:                                      ; preds = %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEEaSEOS3_.exit
  br i1 %tobool.not.i.i4.i.i, label %invoke.cont20, label %if.then.i.i5.i.i

if.then.i.i5.i.i:                                 ; preds = %if.else.i.i
  store i8 0, ptr %hasValue.i.i3.i.i, align 8
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %sni_) #28
  br label %invoke.cont20

invoke.cont20:                                    ; preds = %if.then.i.i5.i.i, %if.else.i.i, %.noexc, %if.then.i.i.i
  %pskIdentity_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 6
  %hasValue.i.i.i.i7 = getelementptr inbounds %"struct.folly::Optional<std::__cxx11::basic_string<char>>::StorageNonTriviallyDestructible", ptr %pskIdentity, i64 0, i32 1
  %20 = load i8, ptr %hasValue.i.i.i.i7, align 8
  %21 = and i8 %20, 1
  %tobool.i.i.not.i.i8 = icmp eq i8 %21, 0
  %hasValue.i.i3.i.i9 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 6, i32 0, i32 1
  %22 = load i8, ptr %hasValue.i.i3.i.i9, align 8
  %23 = and i8 %22, 1
  %tobool.not.i.i4.i.i10 = icmp eq i8 %23, 0
  br i1 %tobool.i.i.not.i.i8, label %if.else.i.i14, label %_ZNKR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i11

_ZNKR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i11: ; preds = %invoke.cont20
  br i1 %tobool.not.i.i4.i.i10, label %if.else.i.i.i13, label %if.then.i.i.i12

if.then.i.i.i12:                                  ; preds = %_ZNKR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i11
  %call2.i.i.i17 = invoke noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEaSERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity_, ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity)
          to label %invoke.cont27 unwind label %lpad.loopexit.split-lp

if.else.i.i.i13:                                  ; preds = %_ZNKR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i11
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1ERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity_, ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity)
          to label %.noexc18 unwind label %lpad.loopexit.split-lp

.noexc18:                                         ; preds = %if.else.i.i.i13
  store i8 1, ptr %hasValue.i.i3.i.i9, align 8
  br label %invoke.cont27

if.else.i.i14:                                    ; preds = %invoke.cont20
  br i1 %tobool.not.i.i4.i.i10, label %invoke.cont27, label %if.then.i.i5.i.i15

if.then.i.i5.i.i15:                               ; preds = %if.else.i.i14
  store i8 0, ptr %hasValue.i.i3.i.i9, align 8
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity_) #28
  br label %invoke.cont27

invoke.cont27:                                    ; preds = %if.then.i.i.i12, %.noexc18, %if.else.i.i14, %if.then.i.i5.i.i15
  %cmp.i.i.not = icmp eq i64 %totalTimeout.coerce, 0
  br i1 %cmp.i.i.not, label %if.end, label %if.then

if.then:                                          ; preds = %invoke.cont27
  %vtable = load ptr, ptr %this, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 60
  %24 = load ptr, ptr %vfn, align 8
  invoke void %24(ptr noundef nonnull align 8 dereferenceable(576) %this, i64 %totalTimeout.coerce)
          to label %if.end unwind label %lpad.loopexit.split-lp

if.end:                                           ; preds = %if.then, %invoke.cont27
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %this, i64 0, i32 1
  %25 = load ptr, ptr %transport_, align 8
  br label %dynamic_cast.notnull.i.i

dynamic_cast.notnull.i.i:                         ; preds = %call.i.i.noexc, %if.end
  %current.04.i.i = phi ptr [ %25, %if.end ], [ %call.i.i20, %call.i.i.noexc ]
  %26 = tail call ptr @__dynamic_cast(ptr nonnull %current.04.i.i, ptr nonnull @_ZTIN5folly14AsyncTransportE, ptr nonnull @_ZTIN5folly11AsyncSocketE, i64 0) #28
  %tobool2.not.i.i = icmp eq ptr %26, null
  br i1 %tobool2.not.i.i, label %if.end.i.i, label %if.then34

if.end.i.i:                                       ; preds = %dynamic_cast.notnull.i.i
  %vtable.i.i = load ptr, ptr %current.04.i.i, align 8
  %vfn.i.i = getelementptr inbounds ptr, ptr %vtable.i.i, i64 41
  %27 = load ptr, ptr %vfn.i.i, align 8
  %call.i.i20 = invoke noundef ptr %27(ptr noundef nonnull align 8 dereferenceable(48) %current.04.i.i)
          to label %call.i.i.noexc unwind label %lpad.loopexit

call.i.i.noexc:                                   ; preds = %if.end.i.i
  %tobool.not.i.i = icmp eq ptr %call.i.i20, null
  br i1 %tobool.not.i.i, label %if.else, label %dynamic_cast.notnull.i.i, !llvm.loop !21

if.then34:                                        ; preds = %dynamic_cast.notnull.i.i
  %vtable35 = load ptr, ptr %26, align 8
  %vfn36 = getelementptr inbounds ptr, ptr %vtable35, i64 52
  %28 = load ptr, ptr %vfn36, align 8
  invoke void %28(ptr noundef nonnull align 8 dereferenceable(1113) %26)
          to label %invoke.cont37 unwind label %lpad.loopexit.split-lp

invoke.cont37:                                    ; preds = %if.then34
  call void @_ZNSaIcEC1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp40) #28
  %call.i21 = invoke noundef ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_M_local_dataEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp39)
          to label %call.i.noexc unwind label %lpad41

call.i.noexc:                                     ; preds = %invoke.cont37
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_Alloc_hiderC1EPcRKS3_(ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp39, ptr noundef %call.i21, ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp40)
          to label %.noexc22 unwind label %lpad41

.noexc22:                                         ; preds = %call.i.noexc
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tag(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp39, ptr noundef nonnull @.str.32, ptr noundef nonnull @.str.32)
          to label %invoke.cont42 unwind label %lpad.i

lpad.i:                                           ; preds = %.noexc22
  %29 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSaIcED2Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp39) #28
  br label %lpad41.body

invoke.cont42:                                    ; preds = %.noexc22
  %conv = trunc i64 %socketTimeout.coerce to i32
  %add.ptr = getelementptr inbounds i8, ptr %this, i64 576
  %vtable43 = load ptr, ptr %26, align 8
  %vfn44 = getelementptr inbounds ptr, ptr %vtable43, i64 47
  %30 = load ptr, ptr %vfn44, align 8
  call void %30(ptr noundef nonnull align 8 dereferenceable(1113) %26, ptr noundef nonnull %add.ptr, ptr noundef nonnull align 8 dereferenceable(27) %connectAddr, i32 noundef %conv, ptr noundef nonnull align 8 dereferenceable(48) %options, ptr noundef nonnull align 8 dereferenceable(27) %bindAddr, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp39) #28
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp39) #28
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp40) #28
  br label %if.end54

lpad41:                                           ; preds = %call.i.noexc, %invoke.cont37
  %31 = landingpad { ptr, i32 }
          cleanup
  br label %lpad41.body

lpad41.body:                                      ; preds = %lpad.i, %lpad41
  %eh.lpad-body = phi { ptr, i32 } [ %31, %lpad41 ], [ %29, %lpad.i ]
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp40) #28
  br label %ehcleanup55

if.else:                                          ; preds = %call.i.i.noexc
  call void @_ZNSaIcEC1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp46) #28
  %call.i27 = invoke noundef ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_M_local_dataEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp45)
          to label %call.i.noexc26 unwind label %lpad47

call.i.noexc26:                                   ; preds = %if.else
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_Alloc_hiderC1EPcRKS3_(ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp45, ptr noundef %call.i27, ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp46)
          to label %.noexc28 unwind label %lpad47

.noexc28:                                         ; preds = %call.i.noexc26
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tag(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp45, ptr noundef nonnull @.str.44, ptr noundef nonnull getelementptr inbounds ([33 x i8], ptr @.str.44, i64 0, i64 32))
          to label %invoke.cont48 unwind label %lpad.i25

lpad.i25:                                         ; preds = %.noexc28
  %32 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSaIcED2Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp45) #28
  br label %ehcleanup

invoke.cont48:                                    ; preds = %.noexc28
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %ref.tmp.i)
  invoke void @_ZN5folly20AsyncSocketException10getMessageENS0_24AsyncSocketExceptionTypeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEi(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp.i, i32 noundef 6, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp45, i32 noundef 0)
          to label %.noexc32 unwind label %lpad49

.noexc32:                                         ; preds = %invoke.cont48
  invoke void @_ZNSt13runtime_errorC2ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr noundef nonnull align 8 dereferenceable(16) %ase, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i)
          to label %invoke.cont50 unwind label %lpad.i31

lpad.i31:                                         ; preds = %.noexc32
  %33 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #28
  br label %lpad49.body

invoke.cont50:                                    ; preds = %.noexc32
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #28
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN5folly20AsyncSocketExceptionE, i64 0, inrange i32 0, i64 2), ptr %ase, align 8
  %type_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ase, i64 0, i32 1
  store i32 6, ptr %type_.i, align 8
  %errno_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ase, i64 0, i32 2
  store i32 0, ptr %errno_.i, align 4
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %ref.tmp.i)
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp45) #28
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp46) #28
  invoke void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE16deliverAllErrorsERKN5folly20AsyncSocketExceptionEb(ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr noundef nonnull align 8 dereferenceable(24) %ase, i1 noundef zeroext false)
          to label %invoke.cont52 unwind label %lpad51

invoke.cont52:                                    ; preds = %invoke.cont50
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ase) #28
  br label %if.end54

lpad47:                                           ; preds = %call.i.noexc26, %if.else
  %34 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad49:                                           ; preds = %invoke.cont48
  %35 = landingpad { ptr, i32 }
          cleanup
  br label %lpad49.body

lpad49.body:                                      ; preds = %lpad.i31, %lpad49
  %eh.lpad-body33 = phi { ptr, i32 } [ %35, %lpad49 ], [ %33, %lpad.i31 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp45) #28
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad47, %lpad.i25, %lpad49.body
  %.pn = phi { ptr, i32 } [ %eh.lpad-body33, %lpad49.body ], [ %34, %lpad47 ], [ %32, %lpad.i25 ]
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp46) #28
  br label %ehcleanup55

lpad51:                                           ; preds = %invoke.cont50
  %36 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ase) #28
  br label %ehcleanup55

if.end54:                                         ; preds = %invoke.cont52, %invoke.cont42
  %37 = load ptr, ptr %dg, align 8
  %cmp.not.i = icmp eq ptr %37, null
  br i1 %cmp.not.i, label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit, label %if.then.i

if.then.i:                                        ; preds = %if.end54
  %guardCount_.i34 = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %37, i64 0, i32 1
  %38 = load i32, ptr %guardCount_.i34, align 8
  %dec.i = add i32 %38, -1
  store i32 %dec.i, ptr %guardCount_.i34, align 8
  %cmp5.i = icmp eq i32 %dec.i, 0
  br i1 %cmp5.i, label %if.then6.i, label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit

if.then6.i:                                       ; preds = %if.then.i
  %vtable.i = load ptr, ptr %37, align 8
  %vfn.i = getelementptr inbounds ptr, ptr %vtable.i, i64 2
  %39 = load ptr, ptr %vfn.i, align 8
  invoke void %39(ptr noundef nonnull align 8 dereferenceable(12) %37, i1 noundef zeroext true)
          to label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit unwind label %terminate.lpad.i

terminate.lpad.i:                                 ; preds = %if.then6.i
  %40 = landingpad { ptr, i32 }
          catch ptr null
  %41 = extractvalue { ptr, i32 } %40, 0
  call void @__clang_call_terminate(ptr %41) #30
  unreachable

_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit: ; preds = %if.end54, %if.then.i, %if.then6.i
  ret void

ehcleanup55:                                      ; preds = %lpad.loopexit, %lpad.loopexit.split-lp, %lpad51, %ehcleanup, %lpad41.body
  %.pn4 = phi { ptr, i32 } [ %eh.lpad-body, %lpad41.body ], [ %36, %lpad51 ], [ %.pn, %ehcleanup ], [ %lpad.loopexit36, %lpad.loopexit ], [ %lpad.loopexit.split-lp37, %lpad.loopexit.split-lp ]
  call void @_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev(ptr noundef nonnull align 8 dereferenceable(8) %dg) #28
  resume { ptr, i32 } %.pn4
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE7connectEPNS3_17HandshakeCallbackEN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEENS7_ISt6vectorINS_3ech9ECHConfigESaISH_EEEENSt6chrono8durationIlSt5ratioILl1ELl1000EEEE(ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr noundef %callback, ptr noundef %hostname, ptr noundef %echConfigs, i64 %timeout.coerce) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %pskIdentity = alloca %"class.folly::Optional", align 8
  %agg.tmp = alloca %"class.std::shared_ptr.0", align 8
  %ref.tmp = alloca %"class.std::shared_ptr.573", align 8
  %agg.tmp3 = alloca %"class.folly::Optional", align 8
  %agg.tmp4 = alloca %"class.folly::Optional", align 8
  %agg.tmp5 = alloca %"class.folly::Optional.162", align 16
  %hasValue.i.i = getelementptr inbounds %"struct.folly::Optional<std::__cxx11::basic_string<char>>::StorageNonTriviallyDestructible", ptr %pskIdentity, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i, align 8
  %hasValue.i.i.i = getelementptr inbounds %"struct.folly::Optional<std::__cxx11::basic_string<char>>::StorageNonTriviallyDestructible", ptr %hostname, i64 0, i32 1
  %0 = load i8, ptr %hasValue.i.i.i, align 8
  %1 = and i8 %0, 1
  %tobool.i.i.not.i = icmp eq i8 %1, 0
  br i1 %tobool.i.i.not.i, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2ERKS7_.exit, label %invoke.cont.i

invoke.cont.i:                                    ; preds = %entry
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1ERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity, ptr noundef nonnull align 8 dereferenceable(32) %hostname)
          to label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE9constructIJRKS6_EEEvDpOT_.exit.i unwind label %lpad.i

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE9constructIJRKS6_EEEvDpOT_.exit.i: ; preds = %invoke.cont.i
  store i8 1, ptr %hasValue.i.i, align 8
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2ERKS7_.exit

lpad.i:                                           ; preds = %invoke.cont.i
  %2 = landingpad { ptr, i32 }
          cleanup
  %3 = load i8, ptr %hasValue.i.i, align 8
  %4 = and i8 %3, 1
  %tobool.not.i.i6.i = icmp eq i8 %4, 0
  br i1 %tobool.not.i.i6.i, label %common.resume, label %common.resume.sink.split

common.resume.sink.split:                         ; preds = %lpad.i, %ehcleanup
  %common.resume.op.ph = phi { ptr, i32 } [ %.pn, %ehcleanup ], [ %2, %lpad.i ]
  store i8 0, ptr %hasValue.i.i, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity) #28
  br label %common.resume

common.resume:                                    ; preds = %common.resume.sink.split, %ehcleanup, %lpad.i
  %common.resume.op = phi { ptr, i32 } [ %2, %lpad.i ], [ %.pn, %ehcleanup ], [ %common.resume.op.ph, %common.resume.sink.split ]
  resume { ptr, i32 } %common.resume.op

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2ERKS7_.exit: ; preds = %entry, %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE9constructIJRKS6_EEEvDpOT_.exit.i
  call void @llvm.experimental.noalias.scope.decl(metadata !45)
  store ptr null, ptr %ref.tmp, align 8, !alias.scope !45
  %call5.i.i.i3.i.i.i.i2 = invoke noalias noundef nonnull dereferenceable(72) ptr @_Znwm(i64 noundef 72) #29
          to label %call5.i.i.i3.i.i.i.i.noexc unwind label %lpad

call5.i.i.i3.i.i.i.i.noexc:                       ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2ERKS7_.exit
  %_M_use_count.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %call5.i.i.i3.i.i.i.i2, i64 0, i32 1
  store i32 1, ptr %_M_use_count.i.i.i.i.i.i, align 8, !noalias !45
  %_M_weak_count.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %call5.i.i.i3.i.i.i.i2, i64 0, i32 2
  store i32 1, ptr %_M_weak_count.i.i.i.i.i.i, align 4, !noalias !45
  store ptr getelementptr inbounds ({ [7 x ptr] }, ptr @_ZTVSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EE, i64 0, inrange i32 0, i64 2), ptr %call5.i.i.i3.i.i.i.i2, align 8, !noalias !45
  %_M_impl.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_ptr_inplace", ptr %call5.i.i.i3.i.i.i.i2, i64 0, i32 1
  store ptr getelementptr inbounds ({ [6 x ptr] }, ptr @_ZTVN4fizz26DefaultCertificateVerifierE, i64 0, inrange i32 0, i64 2), ptr %_M_impl.i.i.i.i.i.i, align 8, !noalias !45
  %authorities_.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_ptr_inplace", ptr %call5.i.i.i3.i.i.i.i2, i64 0, i32 1, i32 0, i32 0, i32 0, i64 8
  %x509Store_.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_ptr_inplace", ptr %call5.i.i.i3.i.i.i.i2, i64 0, i32 1, i32 0, i32 0, i32 0, i64 40
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %x509Store_.i.i.i.i.i.i.i.i, i8 0, i64 16, i1 false), !noalias !45
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(28) %authorities_.i.i.i.i.i.i.i.i, i8 0, i64 28, i1 false)
  invoke void @_ZN4fizz26DefaultCertificateVerifier17createAuthoritiesEv(ptr noundef nonnull align 8 dereferenceable(56) %_M_impl.i.i.i.i.i.i)
          to label %invoke.cont unwind label %lpad.i.i.i.i.i.i.i.i, !noalias !45

lpad.i.i.i.i.i.i.i.i:                             ; preds = %call5.i.i.i3.i.i.i.i.noexc
  %5 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt10unique_ptrI13x509_store_stN5folly23static_function_deleterIS0_XadL_Z15X509_STORE_freeEEEEED2Ev(ptr noundef nonnull align 8 dereferenceable(8) %x509Store_.i.i.i.i.i.i.i.i) #28, !noalias !45
  call void @_ZN4fizz22CertificateAuthoritiesD2Ev(ptr noundef nonnull align 8 dereferenceable(24) %authorities_.i.i.i.i.i.i.i.i) #28, !noalias !45
  call void @_ZdlPv(ptr noundef nonnull %call5.i.i.i3.i.i.i.i2) #31, !noalias !45
  br label %ehcleanup

invoke.cont:                                      ; preds = %call5.i.i.i3.i.i.i.i.noexc
  %_M_refcount.i.i.i = getelementptr inbounds %"class.std::__shared_ptr.574", ptr %ref.tmp, i64 0, i32 1
  store ptr %_M_impl.i.i.i.i.i.i, ptr %agg.tmp, align 8
  %_M_refcount.i.i = getelementptr inbounds %"class.std::__shared_ptr.1", ptr %agg.tmp, i64 0, i32 1
  store ptr null, ptr %_M_refcount.i.i.i, align 8
  store ptr %call5.i.i.i3.i.i.i.i2, ptr %_M_refcount.i.i, align 8
  store ptr null, ptr %ref.tmp, align 8
  %hasValue.i.i3 = getelementptr inbounds %"struct.folly::Optional<std::__cxx11::basic_string<char>>::StorageNonTriviallyDestructible", ptr %agg.tmp3, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i3, align 8
  %6 = load i8, ptr %hasValue.i.i.i, align 8
  %7 = and i8 %6, 1
  %tobool.i.i.not.i5 = icmp eq i8 %7, 0
  br i1 %tobool.i.i.not.i5, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit, label %invoke.cont2.i

invoke.cont2.i:                                   ; preds = %invoke.cont
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1EOS4_(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp3, ptr noundef nonnull align 8 dereferenceable(32) %hostname) #28
  store i8 1, ptr %hasValue.i.i3, align 8
  %8 = load i8, ptr %hasValue.i.i.i, align 8
  %9 = and i8 %8, 1
  %tobool.not.i.i6.i6 = icmp eq i8 %9, 0
  br i1 %tobool.not.i.i6.i6, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit, label %if.then.i.i7.i7

if.then.i.i7.i7:                                  ; preds = %invoke.cont2.i
  store i8 0, ptr %hasValue.i.i.i, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %hostname) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit: ; preds = %invoke.cont, %invoke.cont2.i, %if.then.i.i7.i7
  %hasValue.i.i8 = getelementptr inbounds %"struct.folly::Optional<std::__cxx11::basic_string<char>>::StorageNonTriviallyDestructible", ptr %agg.tmp4, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i8, align 8
  %10 = load i8, ptr %hasValue.i.i, align 8
  %11 = and i8 %10, 1
  %tobool.i.i.not.i10 = icmp eq i8 %11, 0
  br i1 %tobool.i.i.not.i10, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit14, label %invoke.cont2.i11

invoke.cont2.i11:                                 ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1EOS4_(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp4, ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity) #28
  store i8 1, ptr %hasValue.i.i8, align 8
  %12 = load i8, ptr %hasValue.i.i, align 8
  %13 = and i8 %12, 1
  %tobool.not.i.i6.i12 = icmp eq i8 %13, 0
  br i1 %tobool.not.i.i6.i12, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit14, label %if.then.i.i7.i13

if.then.i.i7.i13:                                 ; preds = %invoke.cont2.i11
  store i8 0, ptr %hasValue.i.i, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit14

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit14: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit, %invoke.cont2.i11, %if.then.i.i7.i13
  %hasValue.i.i15 = getelementptr inbounds %"struct.folly::Optional<std::vector<fizz::ech::ECHConfig>>::StorageNonTriviallyDestructible", ptr %agg.tmp5, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i15, align 8
  %hasValue.i.i.i16 = getelementptr inbounds %"struct.folly::Optional<std::vector<fizz::ech::ECHConfig>>::StorageNonTriviallyDestructible", ptr %echConfigs, i64 0, i32 1
  %14 = load i8, ptr %hasValue.i.i.i16, align 8
  %15 = and i8 %14, 1
  %tobool.i.i.not.i17 = icmp eq i8 %15, 0
  br i1 %tobool.i.i.not.i17, label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEEC2EOS7_.exit, label %invoke.cont.i.i.i.i

invoke.cont.i.i.i.i:                              ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit14
  %16 = load <2 x ptr>, ptr %echConfigs, align 8
  store <2 x ptr> %16, ptr %agg.tmp5, align 16
  %_M_end_of_storage.i.i.i.i.i.i = getelementptr inbounds %"struct.std::_Vector_base<fizz::ech::ECHConfig, std::allocator<fizz::ech::ECHConfig>>::_Vector_impl_data", ptr %agg.tmp5, i64 0, i32 2
  %_M_end_of_storage4.i.i.i.i.i.i = getelementptr inbounds %"struct.std::_Vector_base<fizz::ech::ECHConfig, std::allocator<fizz::ech::ECHConfig>>::_Vector_impl_data", ptr %echConfigs, i64 0, i32 2
  %17 = load ptr, ptr %_M_end_of_storage4.i.i.i.i.i.i, align 8
  store ptr %17, ptr %_M_end_of_storage.i.i.i.i.i.i, align 16
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %echConfigs, i8 0, i64 24, i1 false)
  store i8 1, ptr %hasValue.i.i15, align 8
  store i8 0, ptr %hasValue.i.i.i16, align 8
  br label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEEC2EOS7_.exit

_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEEC2EOS7_.exit: ; preds = %invoke.cont.i.i.i.i, %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit14
  %vtable = load ptr, ptr %this, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 84
  %18 = load ptr, ptr %vfn, align 8
  invoke void %18(ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr noundef %callback, ptr noundef nonnull %agg.tmp, ptr noundef nonnull %agg.tmp3, ptr noundef nonnull %agg.tmp4, ptr noundef nonnull %agg.tmp5, i64 %timeout.coerce)
          to label %invoke.cont9 unwind label %lpad8

invoke.cont9:                                     ; preds = %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEEC2EOS7_.exit
  %19 = load i8, ptr %hasValue.i.i15, align 8
  %20 = and i8 %19, 1
  %tobool.not.i.i.i = icmp eq i8 %20, 0
  br i1 %tobool.not.i.i.i, label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %invoke.cont9
  store i8 0, ptr %hasValue.i.i15, align 8
  %21 = load ptr, ptr %agg.tmp5, align 16
  %_M_finish.i.i.i.i = getelementptr inbounds %"struct.std::_Vector_base<fizz::ech::ECHConfig, std::allocator<fizz::ech::ECHConfig>>::_Vector_impl_data", ptr %agg.tmp5, i64 0, i32 1
  %22 = load ptr, ptr %_M_finish.i.i.i.i, align 8
  %cmp.not3.i.i.i.i.i.i.i22 = icmp eq ptr %21, %22
  br i1 %cmp.not3.i.i.i.i.i.i.i22, label %invoke.cont.i.i.i.i33, label %for.body.i.i.i.i.i.i.i23

for.body.i.i.i.i.i.i.i23:                         ; preds = %if.then.i.i.i, %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i28
  %__first.addr.04.i.i.i.i.i.i.i24 = phi ptr [ %incdec.ptr.i.i.i.i.i.i.i29, %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i28 ], [ %21, %if.then.i.i.i ]
  %ech_config_content.i.i.i.i.i.i.i.i.i25 = getelementptr inbounds %"struct.fizz::ech::ECHConfig", ptr %__first.addr.04.i.i.i.i.i.i.i24, i64 0, i32 1
  %23 = load ptr, ptr %ech_config_content.i.i.i.i.i.i.i.i.i25, align 8
  %cmp.not.i.i.i.i.i.i.i.i.i.i26 = icmp eq ptr %23, null
  br i1 %cmp.not.i.i.i.i.i.i.i.i.i.i26, label %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i28, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i.i.i.i27

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i.i.i.i27: ; preds = %for.body.i.i.i.i.i.i.i23
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %23) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %23) #28
  br label %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i28

_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i28: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i.i.i.i27, %for.body.i.i.i.i.i.i.i23
  store ptr null, ptr %ech_config_content.i.i.i.i.i.i.i.i.i25, align 8
  %incdec.ptr.i.i.i.i.i.i.i29 = getelementptr inbounds %"struct.fizz::ech::ECHConfig", ptr %__first.addr.04.i.i.i.i.i.i.i24, i64 1
  %cmp.not.i.i.i.i.i.i.i30 = icmp eq ptr %incdec.ptr.i.i.i.i.i.i.i29, %22
  br i1 %cmp.not.i.i.i.i.i.i.i30, label %invoke.contthread-pre-split.i.i.i.i31, label %for.body.i.i.i.i.i.i.i23, !llvm.loop !44

invoke.contthread-pre-split.i.i.i.i31:            ; preds = %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i28
  %.pr.i.i.i.i32 = load ptr, ptr %agg.tmp5, align 16
  br label %invoke.cont.i.i.i.i33

invoke.cont.i.i.i.i33:                            ; preds = %invoke.contthread-pre-split.i.i.i.i31, %if.then.i.i.i
  %24 = phi ptr [ %.pr.i.i.i.i32, %invoke.contthread-pre-split.i.i.i.i31 ], [ %21, %if.then.i.i.i ]
  %tobool.not.i.i.i.i.i.i34 = icmp eq ptr %24, null
  br i1 %tobool.not.i.i.i.i.i.i34, label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit, label %if.then.i.i.i.i.i.i35

if.then.i.i.i.i.i.i35:                            ; preds = %invoke.cont.i.i.i.i33
  call void @_ZdlPv(ptr noundef nonnull %24) #31
  br label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit

_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit: ; preds = %invoke.cont9, %invoke.cont.i.i.i.i33, %if.then.i.i.i.i.i.i35
  %25 = load i8, ptr %hasValue.i.i8, align 8
  %26 = and i8 %25, 1
  %tobool.not.i.i.i37 = icmp eq i8 %26, 0
  br i1 %tobool.not.i.i.i37, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, label %if.then.i.i.i38

if.then.i.i.i38:                                  ; preds = %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit
  store i8 0, ptr %hasValue.i.i8, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp4) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit: ; preds = %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit, %if.then.i.i.i38
  %27 = load i8, ptr %hasValue.i.i3, align 8
  %28 = and i8 %27, 1
  %tobool.not.i.i.i41 = icmp eq i8 %28, 0
  br i1 %tobool.not.i.i.i41, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit44, label %if.then.i.i.i42

if.then.i.i.i42:                                  ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit
  store i8 0, ptr %hasValue.i.i3, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp3) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit44

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit44: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, %if.then.i.i.i42
  %29 = load ptr, ptr %_M_refcount.i.i, align 8
  %cmp.not.i.i.i = icmp eq ptr %29, null
  br i1 %cmp.not.i.i.i, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit, label %if.then.i.i.i46

if.then.i.i.i46:                                  ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit44
  %_M_use_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %29, i64 0, i32 1
  %30 = load atomic i64, ptr %_M_use_count.i.i.i.i acquire, align 8
  %cmp.i.i.i.i = icmp eq i64 %30, 4294967297
  %31 = trunc i64 %30 to i32
  br i1 %cmp.i.i.i.i, label %if.then.i.i.i.i, label %if.end.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %if.then.i.i.i46
  store i32 0, ptr %_M_use_count.i.i.i.i, align 8
  %_M_weak_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %29, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i, align 4
  %vtable.i.i.i.i = load ptr, ptr %29, align 8
  %vfn.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i, i64 2
  %32 = load ptr, ptr %vfn.i.i.i.i, align 8
  call void %32(ptr noundef nonnull align 8 dereferenceable(16) %29) #28
  br label %if.end8.sink.split.i.i.i.i

if.end.i.i.i.i:                                   ; preds = %if.then.i.i.i46
  %33 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i = icmp eq i8 %33, 0
  br i1 %tobool.i.not.i.i.i.i, label %if.else.i.i.i.i.i, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %add.i.i.i.i.i = add nsw i32 %31, -1
  store i32 %add.i.i.i.i.i, ptr %_M_use_count.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

if.else.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %34 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i: ; preds = %if.else.i.i.i.i.i, %if.then.i.i.i.i.i
  %retval.i.0.i.i.i.i = phi i32 [ %31, %if.then.i.i.i.i.i ], [ %34, %if.else.i.i.i.i.i ]
  %cmp6.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i, label %if.then7.i.i.i.i, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

if.then7.i.i.i.i:                                 ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i
  %vtable.i.i.i.i.i.i = load ptr, ptr %29, align 8
  %vfn.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i, i64 2
  %35 = load ptr, ptr %vfn.i.i.i.i.i.i, align 8
  call void %35(ptr noundef nonnull align 8 dereferenceable(16) %29) #28
  %_M_weak_count.i.i.i.i.i.i47 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %29, i64 0, i32 2
  %36 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i = icmp eq i8 %36, 0
  br i1 %tobool.i.not.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %37 = load i32, ptr %_M_weak_count.i.i.i.i.i.i47, align 4
  %add.i.i.i.i.i.i.i = add nsw i32 %37, -1
  store i32 %add.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i47, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %38 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i47, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i = phi i32 [ %37, %if.then.i.i.i.i.i.i.i ], [ %38, %if.else.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

if.end8.sink.split.i.i.i.i:                       ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.then.i.i.i.i
  %vtable2.i.i.i.i.i.i = load ptr, ptr %29, align 8
  %vfn3.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i, i64 3
  %39 = load ptr, ptr %vfn3.i.i.i.i.i.i, align 8
  call void %39(ptr noundef nonnull align 8 dereferenceable(16) %29) #28
  br label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit44, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.end8.sink.split.i.i.i.i
  %40 = load ptr, ptr %_M_refcount.i.i.i, align 8
  %cmp.not.i.i.i49 = icmp eq ptr %40, null
  br i1 %cmp.not.i.i.i49, label %_ZNSt10shared_ptrIN4fizz26DefaultCertificateVerifierEED2Ev.exit, label %if.then.i.i.i50

if.then.i.i.i50:                                  ; preds = %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit
  %_M_use_count.i.i.i.i51 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %40, i64 0, i32 1
  %41 = load atomic i64, ptr %_M_use_count.i.i.i.i51 acquire, align 8
  %cmp.i.i.i.i52 = icmp eq i64 %41, 4294967297
  %42 = trunc i64 %41 to i32
  br i1 %cmp.i.i.i.i52, label %if.then.i.i.i.i75, label %if.end.i.i.i.i53

if.then.i.i.i.i75:                                ; preds = %if.then.i.i.i50
  store i32 0, ptr %_M_use_count.i.i.i.i51, align 8
  %_M_weak_count.i.i.i.i76 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %40, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i76, align 4
  %vtable.i.i.i.i77 = load ptr, ptr %40, align 8
  %vfn.i.i.i.i78 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i77, i64 2
  %43 = load ptr, ptr %vfn.i.i.i.i78, align 8
  call void %43(ptr noundef nonnull align 8 dereferenceable(16) %40) #28
  br label %if.end8.sink.split.i.i.i.i70

if.end.i.i.i.i53:                                 ; preds = %if.then.i.i.i50
  %44 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i54 = icmp eq i8 %44, 0
  br i1 %tobool.i.not.i.i.i.i54, label %if.else.i.i.i.i.i74, label %if.then.i.i.i.i.i55

if.then.i.i.i.i.i55:                              ; preds = %if.end.i.i.i.i53
  %add.i.i.i.i.i56 = add nsw i32 %42, -1
  store i32 %add.i.i.i.i.i56, ptr %_M_use_count.i.i.i.i51, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i57

if.else.i.i.i.i.i74:                              ; preds = %if.end.i.i.i.i53
  %45 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i51, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i57

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i57: ; preds = %if.else.i.i.i.i.i74, %if.then.i.i.i.i.i55
  %retval.i.0.i.i.i.i58 = phi i32 [ %42, %if.then.i.i.i.i.i55 ], [ %45, %if.else.i.i.i.i.i74 ]
  %cmp6.i.i.i.i59 = icmp eq i32 %retval.i.0.i.i.i.i58, 1
  br i1 %cmp6.i.i.i.i59, label %if.then7.i.i.i.i60, label %_ZNSt10shared_ptrIN4fizz26DefaultCertificateVerifierEED2Ev.exit

if.then7.i.i.i.i60:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i57
  %vtable.i.i.i.i.i.i61 = load ptr, ptr %40, align 8
  %vfn.i.i.i.i.i.i62 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i61, i64 2
  %46 = load ptr, ptr %vfn.i.i.i.i.i.i62, align 8
  call void %46(ptr noundef nonnull align 8 dereferenceable(16) %40) #28
  %_M_weak_count.i.i.i.i.i.i63 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %40, i64 0, i32 2
  %47 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i64 = icmp eq i8 %47, 0
  br i1 %tobool.i.not.i.i.i.i.i.i64, label %if.else.i.i.i.i.i.i.i73, label %if.then.i.i.i.i.i.i.i65

if.then.i.i.i.i.i.i.i65:                          ; preds = %if.then7.i.i.i.i60
  %48 = load i32, ptr %_M_weak_count.i.i.i.i.i.i63, align 4
  %add.i.i.i.i.i.i.i66 = add nsw i32 %48, -1
  store i32 %add.i.i.i.i.i.i.i66, ptr %_M_weak_count.i.i.i.i.i.i63, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i67

if.else.i.i.i.i.i.i.i73:                          ; preds = %if.then7.i.i.i.i60
  %49 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i63, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i67

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i67: ; preds = %if.else.i.i.i.i.i.i.i73, %if.then.i.i.i.i.i.i.i65
  %retval.i.0.i.i.i.i.i.i68 = phi i32 [ %48, %if.then.i.i.i.i.i.i.i65 ], [ %49, %if.else.i.i.i.i.i.i.i73 ]
  %cmp.i.i.i.i.i.i69 = icmp eq i32 %retval.i.0.i.i.i.i.i.i68, 1
  br i1 %cmp.i.i.i.i.i.i69, label %if.end8.sink.split.i.i.i.i70, label %_ZNSt10shared_ptrIN4fizz26DefaultCertificateVerifierEED2Ev.exit

if.end8.sink.split.i.i.i.i70:                     ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i67, %if.then.i.i.i.i75
  %vtable2.i.i.i.i.i.i71 = load ptr, ptr %40, align 8
  %vfn3.i.i.i.i.i.i72 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i71, i64 3
  %50 = load ptr, ptr %vfn3.i.i.i.i.i.i72, align 8
  call void %50(ptr noundef nonnull align 8 dereferenceable(16) %40) #28
  br label %_ZNSt10shared_ptrIN4fizz26DefaultCertificateVerifierEED2Ev.exit

_ZNSt10shared_ptrIN4fizz26DefaultCertificateVerifierEED2Ev.exit: ; preds = %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i57, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i67, %if.end8.sink.split.i.i.i.i70
  %51 = load i8, ptr %hasValue.i.i, align 8
  %52 = and i8 %51, 1
  %tobool.not.i.i.i80 = icmp eq i8 %52, 0
  br i1 %tobool.not.i.i.i80, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit83, label %if.then.i.i.i81

if.then.i.i.i81:                                  ; preds = %_ZNSt10shared_ptrIN4fizz26DefaultCertificateVerifierEED2Ev.exit
  store i8 0, ptr %hasValue.i.i, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit83

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit83: ; preds = %_ZNSt10shared_ptrIN4fizz26DefaultCertificateVerifierEED2Ev.exit, %if.then.i.i.i81
  ret void

lpad:                                             ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2ERKS7_.exit
  %53 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad8:                                            ; preds = %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEEC2EOS7_.exit
  %54 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp5) #28
  %55 = load i8, ptr %hasValue.i.i8, align 8
  %56 = and i8 %55, 1
  %tobool.not.i.i.i85 = icmp eq i8 %56, 0
  br i1 %tobool.not.i.i.i85, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit88, label %if.then.i.i.i86

if.then.i.i.i86:                                  ; preds = %lpad8
  store i8 0, ptr %hasValue.i.i8, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp4) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit88

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit88: ; preds = %lpad8, %if.then.i.i.i86
  %57 = load i8, ptr %hasValue.i.i3, align 8
  %58 = and i8 %57, 1
  %tobool.not.i.i.i90 = icmp eq i8 %58, 0
  br i1 %tobool.not.i.i.i90, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit93, label %if.then.i.i.i91

if.then.i.i.i91:                                  ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit88
  store i8 0, ptr %hasValue.i.i3, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp3) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit93

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit93: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit88, %if.then.i.i.i91
  call void @_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp) #28
  call void @_ZNSt10shared_ptrIN4fizz26DefaultCertificateVerifierEED2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp) #28
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad, %lpad.i.i.i.i.i.i.i.i, %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit93
  %.pn = phi { ptr, i32 } [ %54, %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit93 ], [ %53, %lpad ], [ %5, %lpad.i.i.i.i.i.i.i.i ]
  %59 = load i8, ptr %hasValue.i.i, align 8
  %60 = and i8 %59, 1
  %tobool.not.i.i.i95 = icmp eq i8 %60, 0
  br i1 %tobool.not.i.i.i95, label %common.resume, label %common.resume.sink.split
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE10connectErrERKN5folly20AsyncSocketExceptionE(ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr noundef nonnull align 8 dereferenceable(24) %ex) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  invoke void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE16deliverAllErrorsERKN5folly20AsyncSocketExceptionEb(ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr noundef nonnull align 8 dereferenceable(24) %ex, i1 noundef zeroext false)
          to label %invoke.cont unwind label %terminate.lpad

invoke.cont:                                      ; preds = %entry
  ret void

terminate.lpad:                                   ; preds = %entry
  %0 = landingpad { ptr, i32 }
          catch ptr null
  %1 = extractvalue { ptr, i32 } %0, 0
  tail call void @__clang_call_terminate(ptr %1) #30
  unreachable
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE14connectSuccessEv(ptr noundef nonnull align 8 dereferenceable(2272) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %cachedPsk = alloca %"class.folly::Optional.188", align 8
  %ref.tmp = alloca %"class.folly::Optional.188", align 8
  %agg.tmp = alloca %"class.std::shared_ptr", align 8
  %agg.tmp9 = alloca %"class.std::shared_ptr.0", align 16
  %agg.tmp10 = alloca %"class.folly::Optional", align 8
  %agg.tmp12 = alloca %"class.folly::Optional.188", align 8
  %agg.tmp13 = alloca %"class.folly::Optional.162", align 8
  %vtable = load ptr, ptr %this, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 59
  %0 = load ptr, ptr %vfn, align 8
  invoke void %0(ptr noundef nonnull align 8 dereferenceable(576) %this)
          to label %invoke.cont unwind label %terminate.lpad

invoke.cont:                                      ; preds = %entry
  %hasValue.i.i = getelementptr inbounds %"struct.folly::Optional<fizz::client::CachedPsk>::StorageNonTriviallyDestructible", ptr %cachedPsk, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i, align 8
  %pskIdentity_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 6
  %hasValue.i.i1 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 6, i32 0, i32 1
  %1 = load i8, ptr %hasValue.i.i1, align 8
  %2 = and i8 %1, 1
  %tobool.i.i.not = icmp eq i8 %2, 0
  br i1 %tobool.i.i.not, label %if.end, label %invoke.cont4

invoke.cont4:                                     ; preds = %invoke.cont
  %fizzContext_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 3
  %3 = load ptr, ptr %fizzContext_, align 8
  tail call void @llvm.experimental.noalias.scope.decl(metadata !48)
  %pskCache_.i = getelementptr inbounds %"class.fizz::client::FizzClientContext", ptr %3, i64 0, i32 14
  %4 = load ptr, ptr %pskCache_.i, align 8, !noalias !48
  %cmp.i.not.i = icmp eq ptr %4, null
  br i1 %cmp.i.not.i, label %if.else.i.i.thread, label %if.then.i

if.then.i:                                        ; preds = %invoke.cont4
  %vtable.i = load ptr, ptr %4, align 8, !noalias !48
  %vfn.i = getelementptr inbounds ptr, ptr %vtable.i, i64 2
  %5 = load ptr, ptr %vfn.i, align 8, !noalias !48
  invoke void %5(ptr nonnull sret(%"class.folly::Optional.188") align 8 %ref.tmp, ptr noundef nonnull align 8 dereferenceable(8) %4, ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity_)
          to label %invoke.cont6 unwind label %terminate.lpad

if.else.i.i.thread:                               ; preds = %invoke.cont4
  %hasValue.i.i.i2 = getelementptr inbounds %"struct.folly::Optional<fizz::client::CachedPsk>::StorageNonTriviallyDestructible", ptr %ref.tmp, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i.i2, align 8, !alias.scope !48
  br label %if.end

invoke.cont6:                                     ; preds = %if.then.i
  %hasValue.i.i.i.i.phi.trans.insert = getelementptr inbounds %"struct.folly::Optional<fizz::client::CachedPsk>::StorageNonTriviallyDestructible", ptr %ref.tmp, i64 0, i32 1
  %.pre = load i8, ptr %hasValue.i.i.i.i.phi.trans.insert, align 8
  %.pre71 = load i8, ptr %hasValue.i.i, align 8
  %hasValue.i.i.i.i = getelementptr inbounds %"struct.folly::Optional<fizz::client::CachedPsk>::StorageNonTriviallyDestructible", ptr %ref.tmp, i64 0, i32 1
  %6 = and i8 %.pre, 1
  %tobool.i.i.not.i.i = icmp eq i8 %6, 0
  %7 = and i8 %.pre71, 1
  %tobool.not.i.i9.i.i = icmp eq i8 %7, 0
  br i1 %tobool.i.i.not.i.i, label %if.else.i.i, label %_ZNR5folly8OptionalIN4fizz6client9CachedPskEE5valueEv.exit.i.i

_ZNR5folly8OptionalIN4fizz6client9CachedPskEE5valueEv.exit.i.i: ; preds = %invoke.cont6
  br i1 %tobool.not.i.i9.i.i, label %if.else.i.i.i, label %if.then.i.i.i4

if.then.i.i.i4:                                   ; preds = %_ZNR5folly8OptionalIN4fizz6client9CachedPskEE5valueEv.exit.i.i
  %call2.i.i.i = call noundef nonnull align 8 dereferenceable(192) ptr @_ZN4fizz6client9CachedPskaSEOS1_(ptr noundef nonnull align 8 dereferenceable(192) %cachedPsk, ptr noundef nonnull align 8 dereferenceable(192) %ref.tmp) #28
  br label %_ZN5folly8OptionalIN4fizz6client9CachedPskEE6assignEOS3_.exit.i.i

if.else.i.i.i:                                    ; preds = %_ZNR5folly8OptionalIN4fizz6client9CachedPskEE5valueEv.exit.i.i
  call void @_ZN4fizz6client9CachedPskC2EOS1_(ptr noundef nonnull align 8 dereferenceable(192) %cachedPsk, ptr noundef nonnull align 8 dereferenceable(192) %ref.tmp) #28
  store i8 1, ptr %hasValue.i.i, align 8
  br label %_ZN5folly8OptionalIN4fizz6client9CachedPskEE6assignEOS3_.exit.i.i

_ZN5folly8OptionalIN4fizz6client9CachedPskEE6assignEOS3_.exit.i.i: ; preds = %if.else.i.i.i, %if.then.i.i.i4
  %8 = load i8, ptr %hasValue.i.i.i.i, align 8
  %9 = and i8 %8, 1
  %tobool.not.i.i6.i.i = icmp eq i8 %9, 0
  br i1 %tobool.not.i.i6.i.i, label %if.end, label %_ZN5folly8OptionalIN4fizz6client9CachedPskEEaSEOS4_.exit

if.else.i.i:                                      ; preds = %invoke.cont6
  br i1 %tobool.not.i.i9.i.i, label %if.end, label %_ZN5folly8OptionalIN4fizz6client9CachedPskEEaSEOS4_.exit

_ZN5folly8OptionalIN4fizz6client9CachedPskEEaSEOS4_.exit: ; preds = %_ZN5folly8OptionalIN4fizz6client9CachedPskEE6assignEOS3_.exit.i.i, %if.else.i.i
  %hasValue.i.i8.sink.i.i = phi ptr [ %hasValue.i.i.i.i, %_ZN5folly8OptionalIN4fizz6client9CachedPskEE6assignEOS3_.exit.i.i ], [ %hasValue.i.i, %if.else.i.i ]
  %this.sink.i.i = phi ptr [ %ref.tmp, %_ZN5folly8OptionalIN4fizz6client9CachedPskEE6assignEOS3_.exit.i.i ], [ %cachedPsk, %if.else.i.i ]
  store i8 0, ptr %hasValue.i.i8.sink.i.i, align 8
  call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %this.sink.i.i) #28
  %.pre72 = load i8, ptr %hasValue.i.i.i.i, align 8
  %.pre73 = and i8 %.pre72, 1
  %tobool.not.i.i.i6 = icmp eq i8 %.pre73, 0
  br i1 %tobool.not.i.i.i6, label %if.end, label %if.then.i.i.i7

if.then.i.i.i7:                                   ; preds = %_ZN5folly8OptionalIN4fizz6client9CachedPskEEaSEOS4_.exit
  store i8 0, ptr %hasValue.i.i.i.i, align 8
  call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %ref.tmp) #28
  br label %if.end

if.end:                                           ; preds = %if.else.i.i.thread, %if.else.i.i, %_ZN5folly8OptionalIN4fizz6client9CachedPskEE6assignEOS3_.exit.i.i, %if.then.i.i.i7, %_ZN5folly8OptionalIN4fizz6client9CachedPskEEaSEOS4_.exit, %invoke.cont
  %fizzContext_8 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 3
  %10 = load ptr, ptr %fizzContext_8, align 8
  store ptr %10, ptr %agg.tmp, align 8
  %_M_refcount.i.i = getelementptr inbounds %"class.std::__shared_ptr", ptr %agg.tmp, i64 0, i32 1
  %_M_refcount3.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 3, i32 0, i32 1
  %11 = load ptr, ptr %_M_refcount3.i.i, align 8
  store ptr %11, ptr %_M_refcount.i.i, align 8
  %cmp.not.i.i.i = icmp eq ptr %11, null
  br i1 %cmp.not.i.i.i, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEEC2ERKS4_.exit, label %if.then.i.i.i8

if.then.i.i.i8:                                   ; preds = %if.end
  %_M_use_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %11, i64 0, i32 1
  %12 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.i.not.i.i.i.i = icmp eq i8 %12, 0
  br i1 %tobool.i.i.not.i.i.i.i, label %if.else.i.i.i.i.i, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.then.i.i.i8
  %13 = load i32, ptr %_M_use_count.i.i.i.i, align 4
  %add.i.i.i.i.i = add nsw i32 %13, 1
  store i32 %add.i.i.i.i.i, ptr %_M_use_count.i.i.i.i, align 4
  br label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEEC2ERKS4_.exit

if.else.i.i.i.i.i:                                ; preds = %if.then.i.i.i8
  %14 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i, i32 1 acq_rel, align 4
  br label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEEC2ERKS4_.exit

_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEEC2ERKS4_.exit: ; preds = %if.end, %if.then.i.i.i.i.i, %if.else.i.i.i.i.i
  %verifier_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 13
  %_M_refcount.i.i9 = getelementptr inbounds %"class.std::__shared_ptr.1", ptr %agg.tmp9, i64 0, i32 1
  %_M_refcount4.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 13, i32 0, i32 1
  %15 = load <2 x ptr>, ptr %verifier_, align 8
  store ptr null, ptr %_M_refcount4.i.i, align 8
  store <2 x ptr> %15, ptr %agg.tmp9, align 16
  store ptr null, ptr %verifier_, align 8
  %hasValue.i.i10 = getelementptr inbounds %"struct.folly::Optional<std::__cxx11::basic_string<char>>::StorageNonTriviallyDestructible", ptr %agg.tmp10, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i10, align 8
  %hasValue.i.i.i11 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 5, i32 0, i32 1
  %16 = load i8, ptr %hasValue.i.i.i11, align 8
  %17 = and i8 %16, 1
  %tobool.i.i.not.i = icmp eq i8 %17, 0
  br i1 %tobool.i.i.not.i, label %invoke.cont11, label %invoke.cont.i

invoke.cont.i:                                    ; preds = %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEEC2ERKS4_.exit
  %sni_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 5
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1ERKS4_(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp10, ptr noundef nonnull align 8 dereferenceable(32) %sni_)
          to label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE9constructIJRKS6_EEEvDpOT_.exit.i unwind label %lpad.i

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE9constructIJRKS6_EEEvDpOT_.exit.i: ; preds = %invoke.cont.i
  store i8 1, ptr %hasValue.i.i10, align 8
  br label %invoke.cont11

lpad.i:                                           ; preds = %invoke.cont.i
  %18 = landingpad { ptr, i32 }
          catch ptr null
  %19 = load i8, ptr %hasValue.i.i10, align 8
  %20 = and i8 %19, 1
  %tobool.not.i.i6.i = icmp eq i8 %20, 0
  br i1 %tobool.not.i.i6.i, label %terminate.lpad.body, label %if.then.i.i7.i

if.then.i.i7.i:                                   ; preds = %lpad.i
  store i8 0, ptr %hasValue.i.i10, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp10) #28
  br label %terminate.lpad.body

invoke.cont11:                                    ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE9constructIJRKS6_EEEvDpOT_.exit.i, %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEEC2ERKS4_.exit
  %fizzClient_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9
  %hasValue.i.i12 = getelementptr inbounds %"struct.folly::Optional<fizz::client::CachedPsk>::StorageNonTriviallyDestructible", ptr %agg.tmp12, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i12, align 8
  %21 = load i8, ptr %hasValue.i.i, align 8
  %22 = and i8 %21, 1
  %tobool.i.i.not.i14 = icmp eq i8 %22, 0
  br i1 %tobool.i.i.not.i14, label %_ZN5folly8OptionalIN4fizz6client9CachedPskEEC2EOS4_.exit, label %invoke.cont2.i

invoke.cont2.i:                                   ; preds = %invoke.cont11
  call void @_ZN4fizz6client9CachedPskC2EOS1_(ptr noundef nonnull align 8 dereferenceable(192) %agg.tmp12, ptr noundef nonnull align 8 dereferenceable(192) %cachedPsk) #28
  store i8 1, ptr %hasValue.i.i12, align 8
  %23 = load i8, ptr %hasValue.i.i, align 8
  %24 = and i8 %23, 1
  %tobool.not.i.i6.i15 = icmp eq i8 %24, 0
  br i1 %tobool.not.i.i6.i15, label %_ZN5folly8OptionalIN4fizz6client9CachedPskEEC2EOS4_.exit, label %if.then.i.i7.i16

if.then.i.i7.i16:                                 ; preds = %invoke.cont2.i
  store i8 0, ptr %hasValue.i.i, align 8
  call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %cachedPsk) #28
  br label %_ZN5folly8OptionalIN4fizz6client9CachedPskEEC2EOS4_.exit

_ZN5folly8OptionalIN4fizz6client9CachedPskEEC2EOS4_.exit: ; preds = %invoke.cont11, %invoke.cont2.i, %if.then.i.i7.i16
  %hasValue.i.i17 = getelementptr inbounds %"struct.folly::Optional<std::vector<fizz::ech::ECHConfig>>::StorageNonTriviallyDestructible", ptr %agg.tmp13, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i17, align 8
  %extensions_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 4
  invoke void @_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_E7connectESt10shared_ptrIKNS0_17FizzClientContextEES7_IKNS_19CertificateVerifierEEN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEENSF_INS0_9CachedPskEEENSF_ISt6vectorINS_3ech9ECHConfigESaISR_EEEERKS7_INS_16ClientExtensionsEE(ptr noundef nonnull align 8 dereferenceable(163) %fizzClient_, ptr noundef nonnull %agg.tmp, ptr noundef nonnull %agg.tmp9, ptr noundef nonnull %agg.tmp10, ptr noundef nonnull %agg.tmp12, ptr noundef nonnull %agg.tmp13, ptr noundef nonnull align 8 dereferenceable(16) %extensions_)
          to label %invoke.cont14 unwind label %terminate.lpad

invoke.cont14:                                    ; preds = %_ZN5folly8OptionalIN4fizz6client9CachedPskEEC2EOS4_.exit
  %25 = load i8, ptr %hasValue.i.i17, align 8
  %26 = and i8 %25, 1
  %tobool.not.i.i.i19 = icmp eq i8 %26, 0
  br i1 %tobool.not.i.i.i19, label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit, label %if.then.i.i.i20

if.then.i.i.i20:                                  ; preds = %invoke.cont14
  store i8 0, ptr %hasValue.i.i17, align 8
  %27 = load ptr, ptr %agg.tmp13, align 8
  %_M_finish.i.i.i.i = getelementptr inbounds %"struct.std::_Vector_base<fizz::ech::ECHConfig, std::allocator<fizz::ech::ECHConfig>>::_Vector_impl_data", ptr %agg.tmp13, i64 0, i32 1
  %28 = load ptr, ptr %_M_finish.i.i.i.i, align 8
  %cmp.not3.i.i.i.i.i.i.i = icmp eq ptr %27, %28
  br i1 %cmp.not3.i.i.i.i.i.i.i, label %invoke.cont.i.i.i.i, label %for.body.i.i.i.i.i.i.i

for.body.i.i.i.i.i.i.i:                           ; preds = %if.then.i.i.i20, %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i
  %__first.addr.04.i.i.i.i.i.i.i = phi ptr [ %incdec.ptr.i.i.i.i.i.i.i, %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i ], [ %27, %if.then.i.i.i20 ]
  %ech_config_content.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::ech::ECHConfig", ptr %__first.addr.04.i.i.i.i.i.i.i, i64 0, i32 1
  %29 = load ptr, ptr %ech_config_content.i.i.i.i.i.i.i.i.i, align 8
  %cmp.not.i.i.i.i.i.i.i.i.i.i = icmp eq ptr %29, null
  br i1 %cmp.not.i.i.i.i.i.i.i.i.i.i, label %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i.i.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i.i.i.i: ; preds = %for.body.i.i.i.i.i.i.i
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %29) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %29) #28
  br label %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i

_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i.i.i.i, %for.body.i.i.i.i.i.i.i
  store ptr null, ptr %ech_config_content.i.i.i.i.i.i.i.i.i, align 8
  %incdec.ptr.i.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::ech::ECHConfig", ptr %__first.addr.04.i.i.i.i.i.i.i, i64 1
  %cmp.not.i.i.i.i.i.i.i = icmp eq ptr %incdec.ptr.i.i.i.i.i.i.i, %28
  br i1 %cmp.not.i.i.i.i.i.i.i, label %invoke.contthread-pre-split.i.i.i.i, label %for.body.i.i.i.i.i.i.i, !llvm.loop !44

invoke.contthread-pre-split.i.i.i.i:              ; preds = %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i
  %.pr.i.i.i.i = load ptr, ptr %agg.tmp13, align 8
  br label %invoke.cont.i.i.i.i

invoke.cont.i.i.i.i:                              ; preds = %invoke.contthread-pre-split.i.i.i.i, %if.then.i.i.i20
  %30 = phi ptr [ %.pr.i.i.i.i, %invoke.contthread-pre-split.i.i.i.i ], [ %27, %if.then.i.i.i20 ]
  %tobool.not.i.i.i.i.i.i = icmp eq ptr %30, null
  br i1 %tobool.not.i.i.i.i.i.i, label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit, label %if.then.i.i.i.i.i.i

if.then.i.i.i.i.i.i:                              ; preds = %invoke.cont.i.i.i.i
  call void @_ZdlPv(ptr noundef nonnull %30) #31
  br label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit

_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit: ; preds = %invoke.cont14, %invoke.cont.i.i.i.i, %if.then.i.i.i.i.i.i
  %31 = load i8, ptr %hasValue.i.i12, align 8
  %32 = and i8 %31, 1
  %tobool.not.i.i.i22 = icmp eq i8 %32, 0
  br i1 %tobool.not.i.i.i22, label %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit24, label %if.then.i.i.i23

if.then.i.i.i23:                                  ; preds = %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit
  store i8 0, ptr %hasValue.i.i12, align 8
  call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %agg.tmp12) #28
  br label %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit24

_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit24: ; preds = %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit, %if.then.i.i.i23
  %33 = load i8, ptr %hasValue.i.i10, align 8
  %34 = and i8 %33, 1
  %tobool.not.i.i.i26 = icmp eq i8 %34, 0
  br i1 %tobool.not.i.i.i26, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, label %if.then.i.i.i27

if.then.i.i.i27:                                  ; preds = %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit24
  store i8 0, ptr %hasValue.i.i10, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp10) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit: ; preds = %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit24, %if.then.i.i.i27
  %35 = load ptr, ptr %_M_refcount.i.i9, align 8
  %cmp.not.i.i.i30 = icmp eq ptr %35, null
  br i1 %cmp.not.i.i.i30, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit, label %if.then.i.i.i31

if.then.i.i.i31:                                  ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit
  %_M_use_count.i.i.i.i32 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %35, i64 0, i32 1
  %36 = load atomic i64, ptr %_M_use_count.i.i.i.i32 acquire, align 8
  %cmp.i.i.i.i = icmp eq i64 %36, 4294967297
  %37 = trunc i64 %36 to i32
  br i1 %cmp.i.i.i.i, label %if.then.i.i.i.i, label %if.end.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %if.then.i.i.i31
  store i32 0, ptr %_M_use_count.i.i.i.i32, align 8
  %_M_weak_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %35, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i, align 4
  %vtable.i.i.i.i = load ptr, ptr %35, align 8
  %vfn.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i, i64 2
  %38 = load ptr, ptr %vfn.i.i.i.i, align 8
  call void %38(ptr noundef nonnull align 8 dereferenceable(16) %35) #28
  br label %if.end8.sink.split.i.i.i.i

if.end.i.i.i.i:                                   ; preds = %if.then.i.i.i31
  %39 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i = icmp eq i8 %39, 0
  br i1 %tobool.i.not.i.i.i.i, label %if.else.i.i.i.i.i35, label %if.then.i.i.i.i.i33

if.then.i.i.i.i.i33:                              ; preds = %if.end.i.i.i.i
  %add.i.i.i.i.i34 = add nsw i32 %37, -1
  store i32 %add.i.i.i.i.i34, ptr %_M_use_count.i.i.i.i32, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

if.else.i.i.i.i.i35:                              ; preds = %if.end.i.i.i.i
  %40 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i32, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i: ; preds = %if.else.i.i.i.i.i35, %if.then.i.i.i.i.i33
  %retval.i.0.i.i.i.i = phi i32 [ %37, %if.then.i.i.i.i.i33 ], [ %40, %if.else.i.i.i.i.i35 ]
  %cmp6.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i, label %if.then7.i.i.i.i, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

if.then7.i.i.i.i:                                 ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i
  %vtable.i.i.i.i.i.i = load ptr, ptr %35, align 8
  %vfn.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i, i64 2
  %41 = load ptr, ptr %vfn.i.i.i.i.i.i, align 8
  call void %41(ptr noundef nonnull align 8 dereferenceable(16) %35) #28
  %_M_weak_count.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %35, i64 0, i32 2
  %42 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i = icmp eq i8 %42, 0
  br i1 %tobool.i.not.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %43 = load i32, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i.i = add nsw i32 %43, -1
  store i32 %add.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %44 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i = phi i32 [ %43, %if.then.i.i.i.i.i.i.i ], [ %44, %if.else.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

if.end8.sink.split.i.i.i.i:                       ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.then.i.i.i.i
  %vtable2.i.i.i.i.i.i = load ptr, ptr %35, align 8
  %vfn3.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i, i64 3
  %45 = load ptr, ptr %vfn3.i.i.i.i.i.i, align 8
  call void %45(ptr noundef nonnull align 8 dereferenceable(16) %35) #28
  br label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.end8.sink.split.i.i.i.i
  %46 = load ptr, ptr %_M_refcount.i.i, align 8
  %cmp.not.i.i.i37 = icmp eq ptr %46, null
  br i1 %cmp.not.i.i.i37, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit, label %if.then.i.i.i38

if.then.i.i.i38:                                  ; preds = %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit
  %_M_use_count.i.i.i.i39 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %46, i64 0, i32 1
  %47 = load atomic i64, ptr %_M_use_count.i.i.i.i39 acquire, align 8
  %cmp.i.i.i.i40 = icmp eq i64 %47, 4294967297
  %48 = trunc i64 %47 to i32
  br i1 %cmp.i.i.i.i40, label %if.then.i.i.i.i63, label %if.end.i.i.i.i41

if.then.i.i.i.i63:                                ; preds = %if.then.i.i.i38
  store i32 0, ptr %_M_use_count.i.i.i.i39, align 8
  %_M_weak_count.i.i.i.i64 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %46, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i64, align 4
  %vtable.i.i.i.i65 = load ptr, ptr %46, align 8
  %vfn.i.i.i.i66 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i65, i64 2
  %49 = load ptr, ptr %vfn.i.i.i.i66, align 8
  call void %49(ptr noundef nonnull align 8 dereferenceable(16) %46) #28
  br label %if.end8.sink.split.i.i.i.i58

if.end.i.i.i.i41:                                 ; preds = %if.then.i.i.i38
  %50 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i42 = icmp eq i8 %50, 0
  br i1 %tobool.i.not.i.i.i.i42, label %if.else.i.i.i.i.i62, label %if.then.i.i.i.i.i43

if.then.i.i.i.i.i43:                              ; preds = %if.end.i.i.i.i41
  %add.i.i.i.i.i44 = add nsw i32 %48, -1
  store i32 %add.i.i.i.i.i44, ptr %_M_use_count.i.i.i.i39, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i45

if.else.i.i.i.i.i62:                              ; preds = %if.end.i.i.i.i41
  %51 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i39, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i45

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i45: ; preds = %if.else.i.i.i.i.i62, %if.then.i.i.i.i.i43
  %retval.i.0.i.i.i.i46 = phi i32 [ %48, %if.then.i.i.i.i.i43 ], [ %51, %if.else.i.i.i.i.i62 ]
  %cmp6.i.i.i.i47 = icmp eq i32 %retval.i.0.i.i.i.i46, 1
  br i1 %cmp6.i.i.i.i47, label %if.then7.i.i.i.i48, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit

if.then7.i.i.i.i48:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i45
  %vtable.i.i.i.i.i.i49 = load ptr, ptr %46, align 8
  %vfn.i.i.i.i.i.i50 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i49, i64 2
  %52 = load ptr, ptr %vfn.i.i.i.i.i.i50, align 8
  call void %52(ptr noundef nonnull align 8 dereferenceable(16) %46) #28
  %_M_weak_count.i.i.i.i.i.i51 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %46, i64 0, i32 2
  %53 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i52 = icmp eq i8 %53, 0
  br i1 %tobool.i.not.i.i.i.i.i.i52, label %if.else.i.i.i.i.i.i.i61, label %if.then.i.i.i.i.i.i.i53

if.then.i.i.i.i.i.i.i53:                          ; preds = %if.then7.i.i.i.i48
  %54 = load i32, ptr %_M_weak_count.i.i.i.i.i.i51, align 4
  %add.i.i.i.i.i.i.i54 = add nsw i32 %54, -1
  store i32 %add.i.i.i.i.i.i.i54, ptr %_M_weak_count.i.i.i.i.i.i51, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i55

if.else.i.i.i.i.i.i.i61:                          ; preds = %if.then7.i.i.i.i48
  %55 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i51, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i55

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i55: ; preds = %if.else.i.i.i.i.i.i.i61, %if.then.i.i.i.i.i.i.i53
  %retval.i.0.i.i.i.i.i.i56 = phi i32 [ %54, %if.then.i.i.i.i.i.i.i53 ], [ %55, %if.else.i.i.i.i.i.i.i61 ]
  %cmp.i.i.i.i.i.i57 = icmp eq i32 %retval.i.0.i.i.i.i.i.i56, 1
  br i1 %cmp.i.i.i.i.i.i57, label %if.end8.sink.split.i.i.i.i58, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit

if.end8.sink.split.i.i.i.i58:                     ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i55, %if.then.i.i.i.i63
  %vtable2.i.i.i.i.i.i59 = load ptr, ptr %46, align 8
  %vfn3.i.i.i.i.i.i60 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i59, i64 3
  %56 = load ptr, ptr %vfn3.i.i.i.i.i.i60, align 8
  call void %56(ptr noundef nonnull align 8 dereferenceable(16) %46) #28
  br label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit

_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit: ; preds = %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i45, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i55, %if.end8.sink.split.i.i.i.i58
  %57 = load i8, ptr %hasValue.i.i, align 8
  %58 = and i8 %57, 1
  %tobool.not.i.i.i68 = icmp eq i8 %58, 0
  br i1 %tobool.not.i.i.i68, label %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit70, label %if.then.i.i.i69

if.then.i.i.i69:                                  ; preds = %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit
  store i8 0, ptr %hasValue.i.i, align 8
  call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %cachedPsk) #28
  br label %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit70

_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit70: ; preds = %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit, %if.then.i.i.i69
  ret void

terminate.lpad:                                   ; preds = %if.then.i, %_ZN5folly8OptionalIN4fizz6client9CachedPskEEC2EOS4_.exit, %entry
  %59 = landingpad { ptr, i32 }
          catch ptr null
  br label %terminate.lpad.body

terminate.lpad.body:                              ; preds = %lpad.i, %if.then.i.i7.i, %terminate.lpad
  %eh.lpad-body = phi { ptr, i32 } [ %59, %terminate.lpad ], [ %18, %if.then.i.i7.i ], [ %18, %lpad.i ]
  %60 = extractvalue { ptr, i32 } %eh.lpad-body, 0
  call void @__clang_call_terminate(ptr %60) #30
  unreachable
}

; Function Attrs: uwtable
define linkonce_odr noundef ptr @_ZThn16_NK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE12getEventBaseEv(ptr noundef %this) unnamed_addr #13 comdat align 2 {
entry:
  %transport_.i = getelementptr inbounds i8, ptr %this, i64 32
  %0 = load ptr, ptr %transport_.i, align 8
  %add.ptr.i = getelementptr inbounds i8, ptr %0, i64 16
  %vtable.i = load ptr, ptr %add.ptr.i, align 8
  %1 = load ptr, ptr %vtable.i, align 8
  %call2.i = tail call noundef ptr %1(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr.i)
  ret ptr %call2.i
}

; Function Attrs: nounwind uwtable
define linkonce_odr void @_ZThn16_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev(ptr noundef %this) unnamed_addr #14 comdat align 2 {
entry:
  %0 = getelementptr inbounds i8, ptr %this, i64 -16
  tail call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED2Ev(ptr noundef nonnull align 8 dereferenceable(2272) %0) #28
  ret void
}

; Function Attrs: nounwind uwtable
define linkonce_odr void @_ZThn16_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev(ptr noundef %this) unnamed_addr #14 comdat align 2 {
entry:
  %0 = getelementptr inbounds i8, ptr %this, i64 -16
  tail call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED2Ev(ptr noundef nonnull align 8 dereferenceable(2272) %0) #28
  tail call void @_ZdlPv(ptr noundef nonnull %0) #31
  ret void
}

; Function Attrs: uwtable
define linkonce_odr void @_ZThn16_NK5folly14AsyncTransport10getAddressEPNS_13SocketAddressE(ptr noundef %this, ptr noundef %address) unnamed_addr #13 comdat align 2 {
entry:
  %0 = getelementptr inbounds i8, ptr %this, i64 -16
  %vtable.i = load ptr, ptr %0, align 8
  %vfn.i = getelementptr inbounds ptr, ptr %vtable.i, i64 20
  %1 = load ptr, ptr %vfn.i, align 8
  tail call void %1(ptr noundef nonnull align 8 dereferenceable(48) %0, ptr noundef %address)
  ret void
}

declare void @_ZThn24_N4fizz13AsyncFizzBase9setReadCBEPN5folly11AsyncReader12ReadCallbackE(ptr noundef, ptr noundef) unnamed_addr #0

declare noundef ptr @_ZThn24_NK4fizz13AsyncFizzBase15getReadCallbackEv(ptr noundef) unnamed_addr #0

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly11AsyncReader16setEventCallbackEPNS_20EventRecvmsgCallbackE(ptr noundef nonnull align 8 dereferenceable(8) %this, ptr noundef %0) unnamed_addr #6 comdat align 2 {
entry:
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly11AsyncReader19takePreReceivedDataEv(ptr noalias sret(%"class.std::unique_ptr.30") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(8) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  store ptr null, ptr %agg.result, align 8
  ret void
}

; Function Attrs: nounwind uwtable
define linkonce_odr void @_ZThn24_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev(ptr noundef %this) unnamed_addr #14 comdat align 2 {
entry:
  %0 = getelementptr inbounds i8, ptr %this, i64 -24
  tail call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED2Ev(ptr noundef nonnull align 8 dereferenceable(2272) %0) #28
  ret void
}

; Function Attrs: nounwind uwtable
define linkonce_odr void @_ZThn24_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev(ptr noundef %this) unnamed_addr #14 comdat align 2 {
entry:
  %0 = getelementptr inbounds i8, ptr %this, i64 -24
  tail call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED2Ev(ptr noundef nonnull align 8 dereferenceable(2272) %0) #28
  tail call void @_ZdlPv(ptr noundef nonnull %0) #31
  ret void
}

; Function Attrs: uwtable
define linkonce_odr void @_ZThn32_N5folly31WriteChainAsyncTransportWrapperINS_14AsyncTransportEE5writeEPNS_11AsyncWriter13WriteCallbackEPKvmNS_10WriteFlagsE(ptr noundef %this, ptr noundef %callback, ptr noundef %buf, i64 noundef %bytes, i32 noundef %flags) unnamed_addr #13 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ioBuf.i = alloca %"class.std::unique_ptr.30", align 8
  %0 = getelementptr inbounds i8, ptr %this, i64 -32
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %ioBuf.i)
  call void @_ZN5folly5IOBuf10wrapBufferEPKvm(ptr nonnull sret(%"class.std::unique_ptr.30") align 8 %ioBuf.i, ptr noundef %buf, i64 noundef %bytes)
  %vtable.i = load ptr, ptr %0, align 8
  %vfn.i = getelementptr inbounds ptr, ptr %vtable.i, i64 46
  %1 = load ptr, ptr %vfn.i, align 8
  invoke void %1(ptr noundef nonnull align 8 dereferenceable(56) %0, ptr noundef %callback, ptr noundef nonnull align 8 dereferenceable(8) %ioBuf.i, i32 noundef %flags)
          to label %invoke.cont.i unwind label %lpad.i

invoke.cont.i:                                    ; preds = %entry
  %2 = load ptr, ptr %ioBuf.i, align 8
  %cmp.not.i.i = icmp eq ptr %2, null
  br i1 %cmp.not.i.i, label %_ZN5folly31WriteChainAsyncTransportWrapperINS_14AsyncTransportEE5writeEPNS_11AsyncWriter13WriteCallbackEPKvmNS_10WriteFlagsE.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i: ; preds = %invoke.cont.i
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %2) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %2) #28
  br label %_ZN5folly31WriteChainAsyncTransportWrapperINS_14AsyncTransportEE5writeEPNS_11AsyncWriter13WriteCallbackEPKvmNS_10WriteFlagsE.exit

lpad.i:                                           ; preds = %entry
  %3 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev(ptr noundef nonnull align 8 dereferenceable(8) %ioBuf.i) #28
  resume { ptr, i32 } %3

_ZN5folly31WriteChainAsyncTransportWrapperINS_14AsyncTransportEE5writeEPNS_11AsyncWriter13WriteCallbackEPKvmNS_10WriteFlagsE.exit: ; preds = %invoke.cont.i, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %ioBuf.i)
  ret void
}

; Function Attrs: uwtable
define linkonce_odr void @_ZThn32_N5folly31WriteChainAsyncTransportWrapperINS_14AsyncTransportEE6writevEPNS_11AsyncWriter13WriteCallbackEPK5iovecmNS_10WriteFlagsE(ptr noundef %this, ptr noundef %callback, ptr noundef %vec, i64 noundef %count, i32 noundef %flags) unnamed_addr #13 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %writeBuffer.i = alloca %"class.std::unique_ptr.30", align 8
  %0 = getelementptr inbounds i8, ptr %this, i64 -32
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %writeBuffer.i)
  call void @_ZN5folly5IOBuf7wrapIovEPK5iovecm(ptr nonnull sret(%"class.std::unique_ptr.30") align 8 %writeBuffer.i, ptr noundef %vec, i64 noundef %count)
  %vtable.i = load ptr, ptr %0, align 8
  %vfn.i = getelementptr inbounds ptr, ptr %vtable.i, i64 46
  %1 = load ptr, ptr %vfn.i, align 8
  invoke void %1(ptr noundef nonnull align 8 dereferenceable(56) %0, ptr noundef %callback, ptr noundef nonnull align 8 dereferenceable(8) %writeBuffer.i, i32 noundef %flags)
          to label %invoke.cont.i unwind label %lpad.i

invoke.cont.i:                                    ; preds = %entry
  %2 = load ptr, ptr %writeBuffer.i, align 8
  %cmp.not.i.i = icmp eq ptr %2, null
  br i1 %cmp.not.i.i, label %_ZN5folly31WriteChainAsyncTransportWrapperINS_14AsyncTransportEE6writevEPNS_11AsyncWriter13WriteCallbackEPK5iovecmNS_10WriteFlagsE.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i: ; preds = %invoke.cont.i
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %2) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %2) #28
  br label %_ZN5folly31WriteChainAsyncTransportWrapperINS_14AsyncTransportEE6writevEPNS_11AsyncWriter13WriteCallbackEPK5iovecmNS_10WriteFlagsE.exit

lpad.i:                                           ; preds = %entry
  %3 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev(ptr noundef nonnull align 8 dereferenceable(8) %writeBuffer.i) #28
  resume { ptr, i32 } %3

_ZN5folly31WriteChainAsyncTransportWrapperINS_14AsyncTransportEE6writevEPNS_11AsyncWriter13WriteCallbackEPK5iovecmNS_10WriteFlagsE.exit: ; preds = %invoke.cont.i, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %writeBuffer.i)
  ret void
}

declare void @_ZThn32_N4fizz13AsyncFizzBase10writeChainEPN5folly11AsyncWriter13WriteCallbackEOSt10unique_ptrINS1_5IOBufESt14default_deleteIS6_EENS1_10WriteFlagsE(ptr noundef, ptr noundef, ptr noundef nonnull align 8 dereferenceable(8), i32 noundef) unnamed_addr #0

; Function Attrs: uwtable
define linkonce_odr noundef zeroext i1 @_ZThn32_N5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE11setZeroCopyEb(ptr noundef %this, i1 noundef zeroext %enable) unnamed_addr #13 comdat align 2 {
entry:
  %transport_.i = getelementptr inbounds i8, ptr %this, i64 16
  %0 = load ptr, ptr %transport_.i, align 8
  %add.ptr.i = getelementptr inbounds i8, ptr %0, i64 32
  %vtable.i = load ptr, ptr %add.ptr.i, align 8
  %vfn.i = getelementptr inbounds ptr, ptr %vtable.i, i64 3
  %1 = load ptr, ptr %vfn.i, align 8
  %call2.i = tail call noundef zeroext i1 %1(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr.i, i1 noundef zeroext %enable)
  ret i1 %call2.i
}

; Function Attrs: uwtable
define linkonce_odr noundef zeroext i1 @_ZThn32_NK5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE11getZeroCopyEv(ptr noundef %this) unnamed_addr #13 comdat align 2 {
entry:
  %transport_.i = getelementptr inbounds i8, ptr %this, i64 16
  %0 = load ptr, ptr %transport_.i, align 8
  %add.ptr.i = getelementptr inbounds i8, ptr %0, i64 32
  %vtable.i = load ptr, ptr %add.ptr.i, align 8
  %vfn.i = getelementptr inbounds ptr, ptr %vtable.i, i64 4
  %1 = load ptr, ptr %vfn.i, align 8
  %call2.i = tail call noundef zeroext i1 %1(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr.i)
  ret i1 %call2.i
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr noundef zeroext i1 @_ZN5folly11AsyncWriter13setRXZeroCopyENS0_16RXZerocopyParamsE(ptr noundef nonnull align 8 dereferenceable(8) %this, i8 %.coerce0, i64 %.coerce1) unnamed_addr #6 comdat align 2 {
entry:
  ret i1 false
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr noundef zeroext i1 @_ZNK5folly11AsyncWriter13getRXZeroCopyEv(ptr noundef nonnull align 8 dereferenceable(8) %this) unnamed_addr #6 comdat align 2 {
entry:
  ret i1 false
}

; Function Attrs: uwtable
define linkonce_odr void @_ZThn32_N5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE21setZeroCopyEnableFuncESt8functionIFbRKSt10unique_ptrINS_5IOBufESt14default_deleteIS5_EEEE(ptr noundef %this, ptr noundef %func) unnamed_addr #13 comdat align 2 {
entry:
  %0 = getelementptr inbounds i8, ptr %this, i64 -32
  tail call void @_ZN5folly30DecoratedAsyncTransportWrapperINS_14AsyncTransportEE21setZeroCopyEnableFuncESt8functionIFbRKSt10unique_ptrINS_5IOBufESt14default_deleteIS5_EEEE(ptr noundef nonnull align 8 dereferenceable(56) %0, ptr noundef %func)
  ret void
}

; Function Attrs: nounwind uwtable
define linkonce_odr void @_ZThn32_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev(ptr noundef %this) unnamed_addr #14 comdat align 2 {
entry:
  %0 = getelementptr inbounds i8, ptr %this, i64 -32
  tail call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED2Ev(ptr noundef nonnull align 8 dereferenceable(2272) %0) #28
  ret void
}

; Function Attrs: nounwind uwtable
define linkonce_odr void @_ZThn32_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev(ptr noundef %this) unnamed_addr #14 comdat align 2 {
entry:
  %0 = getelementptr inbounds i8, ptr %this, i64 -32
  tail call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED2Ev(ptr noundef nonnull align 8 dereferenceable(2272) %0) #28
  tail call void @_ZdlPv(ptr noundef nonnull %0) #31
  ret void
}

; Function Attrs: nounwind uwtable
define linkonce_odr void @_ZThn56_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev(ptr noundef %this) unnamed_addr #14 comdat align 2 {
entry:
  %0 = getelementptr inbounds i8, ptr %this, i64 -56
  tail call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED2Ev(ptr noundef nonnull align 8 dereferenceable(2272) %0) #28
  ret void
}

; Function Attrs: nounwind uwtable
define linkonce_odr void @_ZThn56_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev(ptr noundef %this) unnamed_addr #14 comdat align 2 {
entry:
  %0 = getelementptr inbounds i8, ptr %this, i64 -56
  tail call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED2Ev(ptr noundef nonnull align 8 dereferenceable(2272) %0) #28
  tail call void @_ZdlPv(ptr noundef nonnull %0) #31
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly11AsyncWriter13WriteCallback13writeStartingEv(ptr noundef nonnull align 8 dereferenceable(8) %this) unnamed_addr #6 comdat align 2 {
entry:
  ret void
}

; Function Attrs: nounwind
declare void @_ZThn56_N4fizz13AsyncFizzBase12writeSuccessEv(ptr noundef) unnamed_addr #1

; Function Attrs: nounwind
declare void @_ZThn56_N4fizz13AsyncFizzBase8writeErrEmRKN5folly20AsyncSocketExceptionE(ptr noundef, i64 noundef, ptr noundef nonnull align 8 dereferenceable(24)) unnamed_addr #1

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr noundef ptr @_ZN5folly11AsyncWriter13WriteCallback23getReleaseIOBufCallbackEv(ptr noundef nonnull align 8 dereferenceable(8) %this) unnamed_addr #6 comdat align 2 {
entry:
  ret ptr null
}

; Function Attrs: nounwind uwtable
define linkonce_odr void @_ZThn64_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev(ptr noundef %this) unnamed_addr #14 comdat align 2 {
entry:
  %0 = getelementptr inbounds i8, ptr %this, i64 -64
  tail call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED2Ev(ptr noundef nonnull align 8 dereferenceable(2272) %0) #28
  ret void
}

; Function Attrs: nounwind uwtable
define linkonce_odr void @_ZThn64_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev(ptr noundef %this) unnamed_addr #14 comdat align 2 {
entry:
  %0 = getelementptr inbounds i8, ptr %this, i64 -64
  tail call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED2Ev(ptr noundef nonnull align 8 dereferenceable(2272) %0) #28
  tail call void @_ZdlPv(ptr noundef nonnull %0) #31
  ret void
}

declare void @_ZThn64_N4fizz13AsyncFizzBase13getReadBufferEPPvPm(ptr noundef, ptr noundef, ptr noundef) unnamed_addr #0

declare void @_ZThn64_N4fizz13AsyncFizzBase14getReadBuffersERSt6vectorI5iovecSaIS2_EE(ptr noundef, ptr noundef nonnull align 8 dereferenceable(24)) unnamed_addr #0

; Function Attrs: nounwind
declare void @_ZThn64_N4fizz13AsyncFizzBase17readDataAvailableEm(ptr noundef, i64 noundef) unnamed_addr #1

; Function Attrs: nounwind
declare noundef ptr @_ZThn64_N4fizz13AsyncFizzBase19readZeroCopyEnabledEv(ptr noundef) unnamed_addr #1

; Function Attrs: nounwind
declare void @_ZThn64_N4fizz13AsyncFizzBase25getZeroCopyFallbackBufferEPPvPm(ptr noundef, ptr noundef, ptr noundef) unnamed_addr #1

; Function Attrs: nounwind
declare void @_ZThn64_N4fizz13AsyncFizzBase25readZeroCopyDataAvailableEOSt10unique_ptrIN5folly5IOBufESt14default_deleteIS3_EEm(ptr noundef, ptr noundef nonnull align 8 dereferenceable(8), i64 noundef) unnamed_addr #1

; Function Attrs: nounwind
declare noundef zeroext i1 @_ZThn64_N4fizz13AsyncFizzBase15isBufferMovableEv(ptr noundef) unnamed_addr #1

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr noundef i64 @_ZNK5folly11AsyncReader12ReadCallback13maxBufferSizeEv(ptr noundef nonnull align 8 dereferenceable(9) %this) unnamed_addr #6 comdat align 2 {
entry:
  ret i64 65536
}

; Function Attrs: nounwind
declare void @_ZThn64_N4fizz13AsyncFizzBase19readBufferAvailableESt10unique_ptrIN5folly5IOBufESt14default_deleteIS3_EE(ptr noundef, ptr noundef) unnamed_addr #1

; Function Attrs: nounwind
declare void @_ZThn64_N4fizz13AsyncFizzBase7readEOFEv(ptr noundef) unnamed_addr #1

; Function Attrs: nounwind
declare void @_ZThn64_N4fizz13AsyncFizzBase7readErrERKN5folly20AsyncSocketExceptionE(ptr noundef, ptr noundef nonnull align 8 dereferenceable(24)) unnamed_addr #1

; Function Attrs: nounwind uwtable
define linkonce_odr void @_ZThn80_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev(ptr noundef %this) unnamed_addr #14 comdat align 2 {
entry:
  %0 = getelementptr inbounds i8, ptr %this, i64 -80
  tail call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED2Ev(ptr noundef nonnull align 8 dereferenceable(2272) %0) #28
  ret void
}

; Function Attrs: nounwind uwtable
define linkonce_odr void @_ZThn80_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev(ptr noundef %this) unnamed_addr #14 comdat align 2 {
entry:
  %0 = getelementptr inbounds i8, ptr %this, i64 -80
  tail call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED2Ev(ptr noundef nonnull align 8 dereferenceable(2272) %0) #28
  tail call void @_ZdlPv(ptr noundef nonnull %0) #31
  ret void
}

; Function Attrs: nounwind
declare noundef ptr @_ZThn80_N4fizz13AsyncFizzBase12allocateDataEv(ptr noundef) unnamed_addr #1

; Function Attrs: nounwind uwtable
define linkonce_odr void @_ZThn576_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED1Ev(ptr noundef %this) unnamed_addr #14 comdat align 2 {
entry:
  %0 = getelementptr inbounds i8, ptr %this, i64 -576
  tail call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED2Ev(ptr noundef nonnull align 8 dereferenceable(2272) %0) #28
  ret void
}

; Function Attrs: nounwind uwtable
define linkonce_odr void @_ZThn576_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED0Ev(ptr noundef %this) unnamed_addr #14 comdat align 2 {
entry:
  %0 = getelementptr inbounds i8, ptr %this, i64 -576
  tail call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEED2Ev(ptr noundef nonnull align 8 dereferenceable(2272) %0) #28
  tail call void @_ZdlPv(ptr noundef nonnull %0) #31
  ret void
}

; Function Attrs: nounwind uwtable
define linkonce_odr void @_ZThn576_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE14connectSuccessEv(ptr noundef %this) unnamed_addr #14 comdat align 2 {
entry:
  %0 = getelementptr inbounds i8, ptr %this, i64 -576
  tail call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE14connectSuccessEv(ptr noundef nonnull align 8 dereferenceable(2272) %0) #28
  ret void
}

; Function Attrs: nounwind uwtable
define linkonce_odr void @_ZThn576_N4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE10connectErrERKN5folly20AsyncSocketExceptionE(ptr noundef %this, ptr noundef nonnull align 8 dereferenceable(24) %ex) unnamed_addr #14 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %0 = getelementptr inbounds i8, ptr %this, i64 -576
  invoke void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE16deliverAllErrorsERKN5folly20AsyncSocketExceptionEb(ptr noundef nonnull align 8 dereferenceable(2272) %0, ptr noundef nonnull align 8 dereferenceable(24) %ex, i1 noundef zeroext false)
          to label %_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE10connectErrERKN5folly20AsyncSocketExceptionE.exit unwind label %terminate.lpad.i

terminate.lpad.i:                                 ; preds = %entry
  %1 = landingpad { ptr, i32 }
          catch ptr null
  %2 = extractvalue { ptr, i32 } %1, 0
  tail call void @__clang_call_terminate(ptr %2) #30
  unreachable

_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE10connectErrERKN5folly20AsyncSocketExceptionE.exit: ; preds = %entry
  ret void
}

declare void @__cxa_pure_virtual() unnamed_addr

; Function Attrs: cold noreturn nounwind memory(inaccessiblemem: write)
declare void @llvm.trap() #15

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_ED0Ev(ptr noundef nonnull align 8 dereferenceable(163) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_EE, i64 0, inrange i32 0, i64 2), ptr %this, align 8
  %actionGuard_.i.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 10
  %hasValue.i.i.i.i.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 10, i32 0, i32 1
  %0 = load i8, ptr %hasValue.i.i.i.i.i, align 8
  %1 = and i8 %0, 1
  %tobool.not.i.i.i.i.i = icmp eq i8 %1, 0
  br i1 %tobool.not.i.i.i.i.i, label %_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_ED2Ev.exit, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %entry
  store i8 0, ptr %hasValue.i.i.i.i.i, align 8
  %2 = load ptr, ptr %actionGuard_.i.i, align 8
  %cmp.not.i.i.i.i.i.i = icmp eq ptr %2, null
  br i1 %cmp.not.i.i.i.i.i.i, label %_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_ED2Ev.exit, label %if.then.i.i.i.i.i.i

if.then.i.i.i.i.i.i:                              ; preds = %if.then.i.i.i.i.i
  %guardCount_.i.i.i.i.i.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %2, i64 0, i32 1
  %3 = load i32, ptr %guardCount_.i.i.i.i.i.i, align 8
  %dec.i.i.i.i.i.i = add i32 %3, -1
  store i32 %dec.i.i.i.i.i.i, ptr %guardCount_.i.i.i.i.i.i, align 8
  %4 = load ptr, ptr %actionGuard_.i.i, align 8
  %guardCount_4.i.i.i.i.i.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %4, i64 0, i32 1
  %5 = load i32, ptr %guardCount_4.i.i.i.i.i.i, align 8
  %cmp5.i.i.i.i.i.i = icmp eq i32 %5, 0
  br i1 %cmp5.i.i.i.i.i.i, label %if.then6.i.i.i.i.i.i, label %_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_ED2Ev.exit

if.then6.i.i.i.i.i.i:                             ; preds = %if.then.i.i.i.i.i.i
  %vtable.i.i.i.i.i.i = load ptr, ptr %4, align 8
  %vfn.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i, i64 2
  %6 = load ptr, ptr %vfn.i.i.i.i.i.i, align 8
  invoke void %6(ptr noundef nonnull align 8 dereferenceable(12) %4, i1 noundef zeroext true)
          to label %_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_ED2Ev.exit unwind label %terminate.lpad.i.i.i.i.i.i

terminate.lpad.i.i.i.i.i.i:                       ; preds = %if.then6.i.i.i.i.i.i
  %7 = landingpad { ptr, i32 }
          catch ptr null
  %8 = extractvalue { ptr, i32 } %7, 0
  tail call void @__clang_call_terminate(ptr %8) #30
  unreachable

_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_ED2Ev.exit: ; preds = %entry, %if.then.i.i.i.i.i, %if.then.i.i.i.i.i.i, %if.then6.i.i.i.i.i.i
  %pendingEvents_.i.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7
  tail call void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EED2Ev(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_.i.i) #28
  tail call void @_ZdlPv(ptr noundef nonnull %this) #31
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_E12visitActionsERN5folly12small_vectorINS0_6ActionELm4EvEE(ptr noundef nonnull align 8 dereferenceable(163) %this, ptr noundef nonnull align 16 dereferenceable(848) %actions) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i = alloca %"class.folly::Optional.523", align 4
  %agg.tmp.i60 = alloca %"struct.fizz::SecretType", align 4
  %ref.tmp12.i = alloca %"class.folly::Optional.138", align 1
  %agg.tmp.i39 = alloca %"class.std::unique_ptr.30", align 8
  %agg.tmp.i = alloca %"class.std::unique_ptr.30", align 8
  %0 = load i64, ptr %actions, align 16
  %u.i.i = getelementptr inbounds %"class.folly::small_vector.437", ptr %actions, i64 0, i32 2
  %1 = load ptr, ptr %u.i.i, align 16
  %tobool.not1.i.i = icmp slt i64 %0, 0
  %cond.i.i = select i1 %tobool.not1.i.i, ptr %1, ptr %u.i.i
  %and.i.i.i = and i64 %0, 4611686018427387903
  %add.ptr.i = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i, i64 %and.i.i.i
  %cmp.not63 = icmp eq i64 %and.i.i.i, 0
  br i1 %cmp.not63, label %for.end, label %for.body.lr.ph

for.body.lr.ph:                                   ; preds = %entry
  %visitor_33 = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 5
  %type_6.i.i = getelementptr inbounds %"struct.fizz::SecretType", ptr %agg.tmp.i60, i64 0, i32 1
  %hasValue.i.i = getelementptr inbounds %"struct.folly::Optional<fizz::KeyLogWriter::Label>::StorageTriviallyDestructible", ptr %ref.tmp.i, i64 0, i32 1
  %hasValue.i.i.i.i = getelementptr inbounds %"struct.folly::Optional<std::array<unsigned char, 32>>::StorageTriviallyDestructible", ptr %ref.tmp12.i, i64 0, i32 1
  br label %for.body

for.body:                                         ; preds = %for.body.lr.ph, %for.inc
  %__begin0.064 = phi ptr [ %cond.i.i, %for.body.lr.ph ], [ %incdec.ptr, %for.inc ]
  %type_.i = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.064, i64 0, i32 1
  %2 = load i32, ptr %type_.i, align 16
  switch i32 %2, label %for.inc [
    i32 0, label %sw.bb
    i32 1, label %sw.bb5
    i32 2, label %sw.bb8
    i32 3, label %sw.bb11
    i32 4, label %sw.bb14
    i32 5, label %sw.bb17
    i32 6, label %sw.bb20
    i32 7, label %sw.bb23
    i32 8, label %sw.bb26
    i32 9, label %sw.bb29
    i32 10, label %sw.bb32
  ]

sw.bb:                                            ; preds = %for.body
  %3 = load ptr, ptr %visitor_33, align 8
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %agg.tmp.i)
  %4 = load ptr, ptr %3, align 8
  %5 = load i64, ptr %__begin0.064, align 8
  store i64 %5, ptr %agg.tmp.i, align 8
  store ptr null, ptr %__begin0.064, align 8
  %vtable.i = load ptr, ptr %4, align 8
  %vfn.i = getelementptr inbounds ptr, ptr %vtable.i, i64 62
  %6 = load ptr, ptr %vfn.i, align 8
  invoke void %6(ptr noundef nonnull align 8 dereferenceable(576) %4, ptr noundef nonnull %agg.tmp.i)
          to label %invoke.cont.i unwind label %lpad.i

invoke.cont.i:                                    ; preds = %sw.bb
  %7 = load ptr, ptr %agg.tmp.i, align 8
  %cmp.not.i.i = icmp eq ptr %7, null
  br i1 %cmp.not.i.i, label %_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS_14DeliverAppDataE.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i: ; preds = %invoke.cont.i
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %7) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %7) #28
  br label %_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS_14DeliverAppDataE.exit

lpad.i:                                           ; preds = %sw.bb
  %8 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev(ptr noundef nonnull align 8 dereferenceable(8) %agg.tmp.i) #28
  resume { ptr, i32 } %8

_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS_14DeliverAppDataE.exit: ; preds = %invoke.cont.i, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %agg.tmp.i)
  br label %for.inc

sw.bb5:                                           ; preds = %for.body
  %9 = load ptr, ptr %visitor_33, align 8
  call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS_13WriteToSocketE(ptr noundef nonnull align 8 dereferenceable(8) %9, ptr noundef nonnull align 8 dereferenceable(84) %__begin0.064)
  br label %for.inc

sw.bb8:                                           ; preds = %for.body
  %10 = load ptr, ptr %visitor_33, align 8
  call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS0_22ReportHandshakeSuccessE(ptr noundef nonnull align 8 dereferenceable(8) %10, ptr noundef nonnull align 1 dereferenceable(1) %__begin0.064)
  br label %for.inc

sw.bb11:                                          ; preds = %for.body
  %11 = load ptr, ptr %visitor_33, align 8
  call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS0_27ReportEarlyHandshakeSuccessE(ptr noundef nonnull align 8 dereferenceable(8) %11, ptr noundef nonnull align 4 dereferenceable(4) %__begin0.064)
  br label %for.inc

sw.bb14:                                          ; preds = %for.body
  %12 = load ptr, ptr %__begin0.064, align 8
  %tobool.not.i = icmp eq ptr %12, null
  br i1 %tobool.not.i, label %for.inc, label %if.then.i

if.then.i:                                        ; preds = %sw.bb14
  %vtable.i31 = load ptr, ptr %12, align 8
  %vfn.i32 = getelementptr inbounds ptr, ptr %vtable.i31, i64 3
  %13 = load ptr, ptr %vfn.i32, align 8
  call void %13(ptr noundef nonnull align 8 dereferenceable(8) %12) #28
  br label %for.inc

sw.bb17:                                          ; preds = %for.body
  %14 = load ptr, ptr %visitor_33, align 8
  call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS_11ReportErrorE(ptr noundef nonnull align 8 dereferenceable(8) %14, ptr noundef nonnull align 8 dereferenceable(8) %__begin0.064)
  br label %for.inc

sw.bb20:                                          ; preds = %for.body
  %15 = load ptr, ptr %visitor_33, align 8
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %agg.tmp.i39)
  %16 = load ptr, ptr %15, align 8
  %17 = load i64, ptr %__begin0.064, align 8
  store i64 %17, ptr %agg.tmp.i39, align 8
  store ptr null, ptr %__begin0.064, align 8
  %vtable.i40 = load ptr, ptr %16, align 8
  %vfn.i41 = getelementptr inbounds ptr, ptr %vtable.i40, i64 70
  %18 = load ptr, ptr %vfn.i41, align 8
  call void %18(ptr noundef nonnull align 8 dereferenceable(576) %16, ptr noundef nonnull %agg.tmp.i39) #28
  %19 = load ptr, ptr %agg.tmp.i39, align 8
  %cmp.not.i.i42 = icmp eq ptr %19, null
  br i1 %cmp.not.i.i42, label %_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS_9EndOfDataE.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i43

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i43: ; preds = %sw.bb20
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %19) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %19) #28
  br label %_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS_9EndOfDataE.exit

_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS_9EndOfDataE.exit: ; preds = %sw.bb20, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i43
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %agg.tmp.i39)
  br label %for.inc

sw.bb23:                                          ; preds = %for.body
  %20 = load ptr, ptr %visitor_33, align 8
  %21 = load ptr, ptr %20, align 8
  %state_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %21, i64 0, i32 7
  %call_.i.i = getelementptr inbounds %"class.folly::Function", ptr %__begin0.064, i64 0, i32 1
  %22 = load ptr, ptr %call_.i.i, align 16
  call void %22(ptr noundef nonnull align 8 dereferenceable(1096) %state_.i, ptr noundef nonnull align 16 dereferenceable(48) %__begin0.064)
  br label %for.inc

sw.bb26:                                          ; preds = %for.body
  %23 = load ptr, ptr %visitor_33, align 8
  %24 = load ptr, ptr %23, align 8
  %waitForData_.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %24, i64 0, i32 9, i32 0, i32 8
  store i8 1, ptr %waitForData_.i.i, align 8
  %25 = load ptr, ptr %23, align 8
  %readSizeHint_.i.i = getelementptr inbounds %"class.fizz::AsyncFizzBase", ptr %25, i64 0, i32 11
  %26 = load i64, ptr %readSizeHint_.i.i, align 8
  %cmp.not.i.i50 = icmp eq i64 %26, 0
  br i1 %cmp.not.i.i50, label %_ZN4fizz13AsyncFizzBase14updateReadHintEm.exit.i, label %if.then.i.i

if.then.i.i:                                      ; preds = %sw.bb26
  %27 = load i64, ptr %__begin0.064, align 8
  store i64 %27, ptr %readSizeHint_.i.i, align 8
  %.pre.i = load ptr, ptr %23, align 8
  br label %_ZN4fizz13AsyncFizzBase14updateReadHintEm.exit.i

_ZN4fizz13AsyncFizzBase14updateReadHintEm.exit.i: ; preds = %if.then.i.i, %sw.bb26
  %28 = phi ptr [ %25, %sw.bb26 ], [ %.pre.i, %if.then.i.i ]
  %hasValue.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %28, i64 0, i32 2, i32 0, i32 1
  %29 = load i8, ptr %hasValue.i.i.i, align 8
  %30 = and i8 %29, 1
  %tobool.i.i.not.i = icmp eq i8 %30, 0
  br i1 %tobool.i.i.not.i, label %for.inc, label %if.then.i51

if.then.i51:                                      ; preds = %_ZN4fizz13AsyncFizzBase14updateReadHintEm.exit.i
  %vtable.i52 = load ptr, ptr %28, align 8
  %vfn.i53 = getelementptr inbounds ptr, ptr %vtable.i52, i64 59
  %31 = load ptr, ptr %vfn.i53, align 8
  call void %31(ptr noundef nonnull align 8 dereferenceable(576) %28)
  br label %for.inc

sw.bb29:                                          ; preds = %for.body
  %32 = load ptr, ptr %visitor_33, align 8
  call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS0_12NewCachedPskE(ptr noundef nonnull align 8 dereferenceable(8) %32, ptr noundef nonnull align 8 dereferenceable(192) %__begin0.064)
  br label %for.inc

sw.bb32:                                          ; preds = %for.body
  %33 = load ptr, ptr %visitor_33, align 8
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %ref.tmp.i)
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %agg.tmp.i60)
  call void @llvm.lifetime.start.p0(i64 33, ptr nonnull %ref.tmp12.i)
  %_M_finish.i.i = getelementptr inbounds %"struct.std::_Vector_base<unsigned char, std::allocator<unsigned char>>::_Vector_impl_data", ptr %__begin0.064, i64 0, i32 1
  %34 = load ptr, ptr %_M_finish.i.i, align 8
  %35 = load ptr, ptr %__begin0.064, align 8
  %type_.i.i = getelementptr inbounds %"struct.fizz::DerivedSecret", ptr %__begin0.064, i64 0, i32 1, i32 1
  %36 = load i32, ptr %type_.i.i, align 4
  %switch.i.i = icmp ult i32 %36, 4
  br i1 %switch.i.i, label %sw.epilog.sink.split.i.i, label %_ZN4fizz10SecretTypeC2ERKS0_.exit.i

sw.epilog.sink.split.i.i:                         ; preds = %sw.bb32
  %type.i = getelementptr inbounds %"struct.fizz::DerivedSecret", ptr %__begin0.064, i64 0, i32 1
  %37 = load i32, ptr %type.i, align 4
  store i32 %37, ptr %agg.tmp.i60, align 4
  br label %_ZN4fizz10SecretTypeC2ERKS0_.exit.i

_ZN4fizz10SecretTypeC2ERKS0_.exit.i:              ; preds = %sw.epilog.sink.split.i.i, %sw.bb32
  store i32 %36, ptr %type_6.i.i, align 4
  call void @_ZN4fizz12KeyLogWriter16secretToNSSLabelENS_10SecretTypeE(ptr nonnull sret(%"class.folly::Optional.523") align 4 %ref.tmp.i, ptr noundef nonnull %agg.tmp.i60)
  %38 = load i8, ptr %hasValue.i.i, align 4
  %this.val.i.i = load i32, ptr %ref.tmp.i, align 4
  %39 = load ptr, ptr %33, align 8
  %vtable.i61 = load ptr, ptr %39, align 8
  %vfn.i62 = getelementptr inbounds ptr, ptr %vtable.i61, i64 56
  %40 = load ptr, ptr %vfn.i62, align 8
  call void %40(ptr nonnull sret(%"class.folly::Optional.138") align 1 %ref.tmp12.i, ptr noundef nonnull align 8 dereferenceable(2272) %39)
  %41 = load i8, ptr %hasValue.i.i.i.i, align 1
  %42 = and i8 %41, 1
  %tobool.not.i.i.i.i = icmp eq i8 %42, 0
  br i1 %tobool.not.i.i.i.i, label %if.then.i.i.i.i, label %_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS_15SecretAvailableE.exit

if.then.i.i.i.i:                                  ; preds = %_ZN4fizz10SecretTypeC2ERKS0_.exit.i
  call void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() #32
  unreachable

_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS_15SecretAvailableE.exit: ; preds = %_ZN4fizz10SecretTypeC2ERKS0_.exit.i
  %43 = and i8 %38, 1
  %tobool.not.i.i = icmp eq i8 %43, 0
  %retval.0.i.i = select i1 %tobool.not.i.i, i32 0, i32 %this.val.i.i
  %sub.ptr.lhs.cast.i.i = ptrtoint ptr %34 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint ptr %35 to i64
  %sub.ptr.sub.i.i = sub i64 %sub.ptr.lhs.cast.i.i, %sub.ptr.rhs.cast.i.i
  call void @fizz_probe_secret_available(i64 noundef %sub.ptr.sub.i.i, ptr noundef %35, i32 noundef %retval.0.i.i, ptr noundef nonnull %ref.tmp12.i)
  %44 = load ptr, ptr %33, align 8
  %vtable20.i = load ptr, ptr %44, align 8
  %vfn21.i = getelementptr inbounds ptr, ptr %vtable20.i, i64 69
  %45 = load ptr, ptr %vfn21.i, align 8
  call void %45(ptr noundef nonnull align 8 dereferenceable(576) %44, ptr noundef nonnull align 8 dereferenceable(32) %__begin0.064) #28
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %ref.tmp.i)
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %agg.tmp.i60)
  call void @llvm.lifetime.end.p0(i64 33, ptr nonnull %ref.tmp12.i)
  br label %for.inc

for.inc:                                          ; preds = %if.then.i51, %_ZN4fizz13AsyncFizzBase14updateReadHintEm.exit.i, %if.then.i, %sw.bb14, %for.body, %_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS_14DeliverAppDataE.exit, %sw.bb5, %sw.bb8, %sw.bb11, %sw.bb17, %_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS_9EndOfDataE.exit, %sw.bb23, %sw.bb29, %_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS_15SecretAvailableE.exit
  %incdec.ptr = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.064, i64 1
  %cmp.not = icmp eq ptr %incdec.ptr, %add.ptr.i
  br i1 %cmp.not, label %for.end, label %for.body

for.end:                                          ; preds = %for.inc, %entry
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_ED2Ev(ptr noundef nonnull align 8 dereferenceable(163) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_EE, i64 0, inrange i32 0, i64 2), ptr %this, align 8
  %actionGuard_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 10
  %hasValue.i.i.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 10, i32 0, i32 1
  %0 = load i8, ptr %hasValue.i.i.i, align 8
  %1 = and i8 %0, 1
  %tobool.not.i.i.i = icmp eq i8 %1, 0
  br i1 %tobool.not.i.i.i, label %_ZN5folly8OptionalINS_22DelayedDestructionBase15DestructorGuardEED2Ev.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %entry
  store i8 0, ptr %hasValue.i.i.i, align 8
  %2 = load ptr, ptr %actionGuard_, align 8
  %cmp.not.i.i.i.i = icmp eq ptr %2, null
  br i1 %cmp.not.i.i.i.i, label %_ZN5folly8OptionalINS_22DelayedDestructionBase15DestructorGuardEED2Ev.exit, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %if.then.i.i.i
  %guardCount_.i.i.i.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %2, i64 0, i32 1
  %3 = load i32, ptr %guardCount_.i.i.i.i, align 8
  %dec.i.i.i.i = add i32 %3, -1
  store i32 %dec.i.i.i.i, ptr %guardCount_.i.i.i.i, align 8
  %4 = load ptr, ptr %actionGuard_, align 8
  %guardCount_4.i.i.i.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %4, i64 0, i32 1
  %5 = load i32, ptr %guardCount_4.i.i.i.i, align 8
  %cmp5.i.i.i.i = icmp eq i32 %5, 0
  br i1 %cmp5.i.i.i.i, label %if.then6.i.i.i.i, label %_ZN5folly8OptionalINS_22DelayedDestructionBase15DestructorGuardEED2Ev.exit

if.then6.i.i.i.i:                                 ; preds = %if.then.i.i.i.i
  %vtable.i.i.i.i = load ptr, ptr %4, align 8
  %vfn.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i, i64 2
  %6 = load ptr, ptr %vfn.i.i.i.i, align 8
  invoke void %6(ptr noundef nonnull align 8 dereferenceable(12) %4, i1 noundef zeroext true)
          to label %_ZN5folly8OptionalINS_22DelayedDestructionBase15DestructorGuardEED2Ev.exit unwind label %terminate.lpad.i.i.i.i

terminate.lpad.i.i.i.i:                           ; preds = %if.then6.i.i.i.i
  %7 = landingpad { ptr, i32 }
          catch ptr null
  %8 = extractvalue { ptr, i32 } %7, 0
  tail call void @__clang_call_terminate(ptr %8) #30
  unreachable

_ZN5folly8OptionalINS_22DelayedDestructionBase15DestructorGuardEED2Ev.exit: ; preds = %entry, %if.then.i.i.i, %if.then.i.i.i.i, %if.then6.i.i.i.i
  %pendingEvents_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7
  tail call void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EED2Ev(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_) #28
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_ED0Ev(ptr noundef nonnull align 8 dereferenceable(163) %this) unnamed_addr #6 comdat align 2 {
entry:
  tail call void @llvm.trap() #30
  unreachable
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE17_M_initialize_mapEm(ptr noundef nonnull align 8 dereferenceable(80) %this, i64 noundef %__num_elements) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %div = udiv i64 %__num_elements, 12
  %rem = urem i64 %__num_elements, 12
  %0 = tail call i64 @llvm.umax.i64(i64 %div, i64 5)
  %.sroa.speculated = add nuw nsw i64 %0, 3
  %_M_map_size = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 1
  store i64 %.sroa.speculated, ptr %_M_map_size, align 8
  %cmp.i.i.i = icmp ugt i64 %__num_elements, -4611686018427387941
  br i1 %cmp.i.i.i, label %if.end.i.i.i, label %_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE15_M_allocate_mapEm.exit

if.end.i.i.i:                                     ; preds = %entry
  tail call void @_ZSt17__throw_bad_allocv() #33
  unreachable

_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE15_M_allocate_mapEm.exit: ; preds = %entry
  %add = add nuw nsw i64 %div, 1
  %mul.i.i.i = shl nuw nsw i64 %.sroa.speculated, 3
  %call5.i.i2.i = tail call noalias noundef nonnull ptr @_Znwm(i64 noundef %mul.i.i.i) #29
  store ptr %call5.i.i2.i, ptr %this, align 8
  %sub = sub nsw i64 %.sroa.speculated, %add
  %div137 = lshr i64 %sub, 1
  %add.ptr = getelementptr inbounds ptr, ptr %call5.i.i2.i, i64 %div137
  %add.ptr14 = getelementptr inbounds ptr, ptr %add.ptr, i64 %add
  br label %for.body.i

for.body.i:                                       ; preds = %_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE15_M_allocate_mapEm.exit, %invoke.cont.i
  %__cur.08.i = phi ptr [ %incdec.ptr.i, %invoke.cont.i ], [ %add.ptr, %_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE15_M_allocate_mapEm.exit ]
  %call5.i.i.i5.i = invoke noalias noundef nonnull dereferenceable(480) ptr @_Znwm(i64 noundef 480) #29
          to label %invoke.cont.i unwind label %lpad.i

invoke.cont.i:                                    ; preds = %for.body.i
  store ptr %call5.i.i.i5.i, ptr %__cur.08.i, align 8
  %incdec.ptr.i = getelementptr inbounds ptr, ptr %__cur.08.i, i64 1
  %cmp.i8 = icmp ult ptr %incdec.ptr.i, %add.ptr14
  br i1 %cmp.i8, label %for.body.i, label %try.cont, !llvm.loop !51

lpad.i:                                           ; preds = %for.body.i
  %1 = landingpad { ptr, i32 }
          catch ptr null
  %2 = extractvalue { ptr, i32 } %1, 0
  %3 = tail call ptr @__cxa_begin_catch(ptr %2) #28
  %cmp3.i.i = icmp ugt ptr %__cur.08.i, %add.ptr
  br i1 %cmp3.i.i, label %for.body.i.i, label %_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE16_M_destroy_nodesEPPS2_S6_.exit.i

for.body.i.i:                                     ; preds = %lpad.i, %for.body.i.i
  %__n.04.i.i = phi ptr [ %incdec.ptr.i.i, %for.body.i.i ], [ %add.ptr, %lpad.i ]
  %4 = load ptr, ptr %__n.04.i.i, align 8
  tail call void @_ZdlPv(ptr noundef %4) #31
  %incdec.ptr.i.i = getelementptr inbounds ptr, ptr %__n.04.i.i, i64 1
  %cmp.i.i = icmp ult ptr %incdec.ptr.i.i, %__cur.08.i
  br i1 %cmp.i.i, label %for.body.i.i, label %_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE16_M_destroy_nodesEPPS2_S6_.exit.i, !llvm.loop !52

_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE16_M_destroy_nodesEPPS2_S6_.exit.i: ; preds = %for.body.i.i, %lpad.i
  invoke void @__cxa_rethrow() #33
          to label %unreachable.i unwind label %lpad2.i

lpad2.i:                                          ; preds = %_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE16_M_destroy_nodesEPPS2_S6_.exit.i
  %5 = landingpad { ptr, i32 }
          catch ptr null
  invoke void @__cxa_end_catch()
          to label %lpad.body unwind label %terminate.lpad.i

terminate.lpad.i:                                 ; preds = %lpad2.i
  %6 = landingpad { ptr, i32 }
          catch ptr null
  %7 = extractvalue { ptr, i32 } %6, 0
  tail call void @__clang_call_terminate(ptr %7) #30
  unreachable

unreachable.i:                                    ; preds = %_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE16_M_destroy_nodesEPPS2_S6_.exit.i
  unreachable

lpad.body:                                        ; preds = %lpad2.i
  %8 = extractvalue { ptr, i32 } %5, 0
  %9 = tail call ptr @__cxa_begin_catch(ptr %8) #28
  %10 = load ptr, ptr %this, align 8
  tail call void @_ZdlPv(ptr noundef %10) #31
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %this, i8 0, i64 16, i1 false)
  invoke void @__cxa_rethrow() #33
          to label %unreachable unwind label %lpad23

lpad23:                                           ; preds = %lpad.body
  %11 = landingpad { ptr, i32 }
          cleanup
  invoke void @__cxa_end_catch()
          to label %eh.resume unwind label %terminate.lpad

try.cont:                                         ; preds = %invoke.cont.i
  %_M_start = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 2
  %_M_node.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 3
  store ptr %add.ptr, ptr %_M_node.i, align 8
  %12 = load ptr, ptr %add.ptr, align 8
  %_M_first.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 1
  store ptr %12, ptr %_M_first.i, align 8
  %add.ptr.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %12, i64 12
  %_M_last.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 2
  store ptr %add.ptr.i, ptr %_M_last.i, align 8
  %_M_finish = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 3
  %add.ptr27 = getelementptr inbounds ptr, ptr %add.ptr, i64 %div
  %_M_node.i10 = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 3
  store ptr %add.ptr27, ptr %_M_node.i10, align 8
  %13 = load ptr, ptr %add.ptr27, align 8
  %_M_first.i11 = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 1
  store ptr %13, ptr %_M_first.i11, align 8
  %add.ptr.i12 = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %13, i64 12
  %_M_last.i13 = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 2
  store ptr %add.ptr.i12, ptr %_M_last.i13, align 8
  store ptr %12, ptr %_M_start, align 8
  %add.ptr36 = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %13, i64 %rem
  store ptr %add.ptr36, ptr %_M_finish, align 8
  ret void

eh.resume:                                        ; preds = %lpad23
  resume { ptr, i32 } %11

terminate.lpad:                                   ; preds = %lpad23
  %14 = landingpad { ptr, i32 }
          catch ptr null
  %15 = extractvalue { ptr, i32 } %14, 0
  tail call void @__clang_call_terminate(ptr %15) #30
  unreachable

unreachable:                                      ; preds = %lpad.body
  unreachable
}

declare void @__cxa_rethrow() local_unnamed_addr

declare void @__cxa_end_catch() local_unnamed_addr

; Function Attrs: noreturn
declare void @_ZSt28__throw_bad_array_new_lengthv() local_unnamed_addr #16

; Function Attrs: noreturn
declare void @_ZSt17__throw_bad_allocv() local_unnamed_addr #16

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EED2Ev(ptr noundef nonnull align 8 dereferenceable(80) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %agg.tmp.i = alloca %"struct.std::_Deque_iterator", align 16
  %agg.tmp2.i = alloca %"struct.std::_Deque_iterator", align 16
  %_M_start.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 2
  %_M_last4.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 2
  %_M_node5.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 3
  %_M_finish.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 3
  %_M_last4.i.i4 = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 2
  %_M_node5.i.i6 = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 3
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp.i)
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp2.i)
  %0 = load <2 x ptr>, ptr %_M_start.i, align 8, !noalias !53
  store <2 x ptr> %0, ptr %agg.tmp.i, align 16
  %_M_last.i.i9 = getelementptr inbounds %"struct.std::_Deque_iterator", ptr %agg.tmp.i, i64 0, i32 2
  %1 = load <2 x ptr>, ptr %_M_last4.i.i, align 8, !noalias !53
  store <2 x ptr> %1, ptr %_M_last.i.i9, align 16
  %2 = load <2 x ptr>, ptr %_M_finish.i, align 8, !noalias !56
  store <2 x ptr> %2, ptr %agg.tmp2.i, align 16
  %_M_last.i3.i = getelementptr inbounds %"struct.std::_Deque_iterator", ptr %agg.tmp2.i, i64 0, i32 2
  %3 = load <2 x ptr>, ptr %_M_last4.i.i4, align 8, !noalias !56
  store <2 x ptr> %3, ptr %_M_last.i3.i, align 16
  invoke void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE19_M_destroy_data_auxESt15_Deque_iteratorIS2_RS2_PS2_ES8_(ptr noundef nonnull align 8 dereferenceable(80) %this, ptr noundef nonnull %agg.tmp.i, ptr noundef nonnull %agg.tmp2.i)
          to label %invoke.cont unwind label %terminate.lpad

invoke.cont:                                      ; preds = %entry
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp.i)
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp2.i)
  %4 = load ptr, ptr %this, align 8
  %tobool.not.i = icmp eq ptr %4, null
  br i1 %tobool.not.i, label %_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EED2Ev.exit, label %if.then.i

if.then.i:                                        ; preds = %invoke.cont
  %5 = load ptr, ptr %_M_node5.i.i, align 8
  %6 = load ptr, ptr %_M_node5.i.i6, align 8
  %add.ptr.i = getelementptr inbounds ptr, ptr %6, i64 1
  %cmp3.i.i = icmp ult ptr %5, %add.ptr.i
  br i1 %cmp3.i.i, label %for.body.i.i, label %_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE16_M_destroy_nodesEPPS2_S6_.exit.i

for.body.i.i:                                     ; preds = %if.then.i, %for.body.i.i
  %__n.04.i.i = phi ptr [ %incdec.ptr.i.i, %for.body.i.i ], [ %5, %if.then.i ]
  %7 = load ptr, ptr %__n.04.i.i, align 8
  call void @_ZdlPv(ptr noundef %7) #31
  %incdec.ptr.i.i = getelementptr inbounds ptr, ptr %__n.04.i.i, i64 1
  %cmp.i.i = icmp ult ptr %__n.04.i.i, %6
  br i1 %cmp.i.i, label %for.body.i.i, label %_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE16_M_destroy_nodesEPPS2_S6_.exit.loopexit.i, !llvm.loop !52

_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE16_M_destroy_nodesEPPS2_S6_.exit.loopexit.i: ; preds = %for.body.i.i
  %.pre.i = load ptr, ptr %this, align 8
  br label %_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE16_M_destroy_nodesEPPS2_S6_.exit.i

_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE16_M_destroy_nodesEPPS2_S6_.exit.i: ; preds = %_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE16_M_destroy_nodesEPPS2_S6_.exit.loopexit.i, %if.then.i
  %8 = phi ptr [ %.pre.i, %_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE16_M_destroy_nodesEPPS2_S6_.exit.loopexit.i ], [ %4, %if.then.i ]
  call void @_ZdlPv(ptr noundef %8) #31
  br label %_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EED2Ev.exit

_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EED2Ev.exit: ; preds = %invoke.cont, %_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE16_M_destroy_nodesEPPS2_S6_.exit.i
  ret void

terminate.lpad:                                   ; preds = %entry
  %9 = landingpad { ptr, i32 }
          catch ptr null
  %10 = extractvalue { ptr, i32 } %9, 0
  call void @__clang_call_terminate(ptr %10) #30
  unreachable
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev(ptr noundef nonnull align 8 dereferenceable(8) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %0 = load ptr, ptr %this, align 8
  %cmp.not = icmp eq ptr %0, null
  br i1 %cmp.not, label %if.end8, label %if.then

if.then:                                          ; preds = %entry
  %guardCount_ = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %0, i64 0, i32 1
  %1 = load i32, ptr %guardCount_, align 8
  %dec = add i32 %1, -1
  store i32 %dec, ptr %guardCount_, align 8
  %2 = load ptr, ptr %this, align 8
  %guardCount_4 = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %2, i64 0, i32 1
  %3 = load i32, ptr %guardCount_4, align 8
  %cmp5 = icmp eq i32 %3, 0
  br i1 %cmp5, label %if.then6, label %if.end8

if.then6:                                         ; preds = %if.then
  %vtable = load ptr, ptr %2, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 2
  %4 = load ptr, ptr %vfn, align 8
  invoke void %4(ptr noundef nonnull align 8 dereferenceable(12) %2, i1 noundef zeroext true)
          to label %if.end8 unwind label %terminate.lpad

if.end8:                                          ; preds = %if.then, %if.then6, %entry
  ret void

terminate.lpad:                                   ; preds = %if.then6
  %5 = landingpad { ptr, i32 }
          catch ptr null
  %6 = extractvalue { ptr, i32 } %5, 0
  tail call void @__clang_call_terminate(ptr %6) #30
  unreachable
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE19_M_destroy_data_auxESt15_Deque_iteratorIS2_RS2_PS2_ES8_(ptr noundef nonnull align 8 dereferenceable(80) %this, ptr noundef %__first, ptr noundef %__last) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %_M_node = getelementptr inbounds %"struct.std::_Deque_iterator", ptr %__first, i64 0, i32 3
  %0 = load ptr, ptr %_M_node, align 8
  %_M_node2 = getelementptr inbounds %"struct.std::_Deque_iterator", ptr %__last, i64 0, i32 3
  %__node.067 = getelementptr inbounds ptr, ptr %0, i64 1
  %1 = load ptr, ptr %_M_node2, align 8
  %cmp68 = icmp ult ptr %__node.067, %1
  br i1 %cmp68, label %for.body, label %for.end

for.body:                                         ; preds = %entry, %_ZSt8_DestroyIPN4fizz6detail12PendingEventES2_EvT_S4_RSaIT0_E.exit
  %__node.069 = phi ptr [ %__node.0, %_ZSt8_DestroyIPN4fizz6detail12PendingEventES2_EvT_S4_RSaIT0_E.exit ], [ %__node.067, %entry ]
  %2 = load ptr, ptr %__node.069, align 8
  br label %for.body.i.i.i

for.body.i.i.i:                                   ; preds = %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i, %for.body
  %__first.addr.04.i.i.i.idx = phi i64 [ %__first.addr.04.i.i.i.add, %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i ], [ 0, %for.body ]
  %__first.addr.04.i.i.i.ptr = getelementptr inbounds i8, ptr %2, i64 %__first.addr.04.i.i.i.idx
  %type_.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %__first.addr.04.i.i.i.ptr, i64 0, i32 1
  %3 = load i32, ptr %type_.i.i.i.i.i.i, align 8
  switch i32 %3, label %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i [
    i32 0, label %sw.bb.i.i.i.i.i.i
    i32 1, label %sw.bb2.i.i.i.i.i.i
    i32 3, label %sw.bb4.i.i.i.i.i.i
  ]

sw.bb.i.i.i.i.i.i:                                ; preds = %for.body.i.i.i
  %data.i.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %__first.addr.04.i.i.i.ptr, i64 0, i32 1
  %4 = load ptr, ptr %data.i.i.i.i.i.i.i, align 8
  %cmp.not.i.i.i.i.i.i.i.i = icmp eq ptr %4, null
  br i1 %cmp.not.i.i.i.i.i.i.i.i, label %sw.epilog.sink.split.i.i.i.i.i.i, label %sw.epilog.sink.split.sink.split.i.i.i.i.i.i

sw.bb2.i.i.i.i.i.i:                               ; preds = %for.body.i.i.i
  %data.i1.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %__first.addr.04.i.i.i.ptr, i64 0, i32 1
  %5 = load ptr, ptr %data.i1.i.i.i.i.i.i, align 8
  %cmp.not.i.i2.i.i.i.i.i.i = icmp eq ptr %5, null
  br i1 %cmp.not.i.i2.i.i.i.i.i.i, label %sw.epilog.sink.split.i.i.i.i.i.i, label %sw.epilog.sink.split.sink.split.i.i.i.i.i.i

sw.bb4.i.i.i.i.i.i:                               ; preds = %for.body.i.i.i
  %6 = load ptr, ptr %__first.addr.04.i.i.i.ptr, align 8
  %cmp.not.i.i4.i.i.i.i.i.i = icmp eq ptr %6, null
  br i1 %cmp.not.i.i4.i.i.i.i.i.i, label %sw.epilog.sink.split.i.i.i.i.i.i, label %sw.epilog.sink.split.sink.split.i.i.i.i.i.i

sw.epilog.sink.split.sink.split.i.i.i.i.i.i:      ; preds = %sw.bb4.i.i.i.i.i.i, %sw.bb2.i.i.i.i.i.i, %sw.bb.i.i.i.i.i.i
  %.sink6.i.i.i.i.i.i = phi ptr [ %4, %sw.bb.i.i.i.i.i.i ], [ %5, %sw.bb2.i.i.i.i.i.i ], [ %6, %sw.bb4.i.i.i.i.i.i ]
  %this.sink.ph.i.i.i.i.i.i = phi ptr [ %data.i.i.i.i.i.i.i, %sw.bb.i.i.i.i.i.i ], [ %data.i1.i.i.i.i.i.i, %sw.bb2.i.i.i.i.i.i ], [ %__first.addr.04.i.i.i.ptr, %sw.bb4.i.i.i.i.i.i ]
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %.sink6.i.i.i.i.i.i) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %.sink6.i.i.i.i.i.i) #28
  br label %sw.epilog.sink.split.i.i.i.i.i.i

sw.epilog.sink.split.i.i.i.i.i.i:                 ; preds = %sw.epilog.sink.split.sink.split.i.i.i.i.i.i, %sw.bb4.i.i.i.i.i.i, %sw.bb2.i.i.i.i.i.i, %sw.bb.i.i.i.i.i.i
  %this.sink.i.i.i.i.i.i = phi ptr [ %data.i.i.i.i.i.i.i, %sw.bb.i.i.i.i.i.i ], [ %data.i1.i.i.i.i.i.i, %sw.bb2.i.i.i.i.i.i ], [ %__first.addr.04.i.i.i.ptr, %sw.bb4.i.i.i.i.i.i ], [ %this.sink.ph.i.i.i.i.i.i, %sw.epilog.sink.split.sink.split.i.i.i.i.i.i ]
  store ptr null, ptr %this.sink.i.i.i.i.i.i, align 8
  br label %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i

_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i: ; preds = %sw.epilog.sink.split.i.i.i.i.i.i, %for.body.i.i.i
  %__first.addr.04.i.i.i.add = add nuw nsw i64 %__first.addr.04.i.i.i.idx, 40
  %cmp.not.i.i.i = icmp eq i64 %__first.addr.04.i.i.i.add, 480
  br i1 %cmp.not.i.i.i, label %_ZSt8_DestroyIPN4fizz6detail12PendingEventES2_EvT_S4_RSaIT0_E.exit, label %for.body.i.i.i, !llvm.loop !59

_ZSt8_DestroyIPN4fizz6detail12PendingEventES2_EvT_S4_RSaIT0_E.exit: ; preds = %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i
  %__node.0 = getelementptr inbounds ptr, ptr %__node.069, i64 1
  %7 = load ptr, ptr %_M_node2, align 8
  %cmp = icmp ult ptr %__node.0, %7
  br i1 %cmp, label %for.body, label %for.end.loopexit, !llvm.loop !60

for.end.loopexit:                                 ; preds = %_ZSt8_DestroyIPN4fizz6detail12PendingEventES2_EvT_S4_RSaIT0_E.exit
  %.pre = load ptr, ptr %_M_node, align 8
  br label %for.end

for.end:                                          ; preds = %for.end.loopexit, %entry
  %8 = phi ptr [ %0, %entry ], [ %.pre, %for.end.loopexit ]
  %.lcssa = phi ptr [ %1, %entry ], [ %7, %for.end.loopexit ]
  %cmp7.not = icmp eq ptr %8, %.lcssa
  %9 = load ptr, ptr %__first, align 8
  br i1 %cmp7.not, label %if.else, label %if.then

if.then:                                          ; preds = %for.end
  %_M_last = getelementptr inbounds %"struct.std::_Deque_iterator", ptr %__first, i64 0, i32 2
  %10 = load ptr, ptr %_M_last, align 8
  %cmp.not3.i.i.i = icmp eq ptr %9, %10
  br i1 %cmp.not3.i.i.i, label %_ZSt8_DestroyIPN4fizz6detail12PendingEventES2_EvT_S4_RSaIT0_E.exit23, label %for.body.i.i.i4

for.body.i.i.i4:                                  ; preds = %if.then, %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i14
  %__first.addr.04.i.i.i5 = phi ptr [ %incdec.ptr.i.i.i15, %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i14 ], [ %9, %if.then ]
  %type_.i.i.i.i.i.i6 = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %__first.addr.04.i.i.i5, i64 0, i32 1
  %11 = load i32, ptr %type_.i.i.i.i.i.i6, align 8
  switch i32 %11, label %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i14 [
    i32 0, label %sw.bb.i.i.i.i.i.i20
    i32 1, label %sw.bb2.i.i.i.i.i.i17
    i32 3, label %sw.bb4.i.i.i.i.i.i7
  ]

sw.bb.i.i.i.i.i.i20:                              ; preds = %for.body.i.i.i4
  %data.i.i.i.i.i.i.i21 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %__first.addr.04.i.i.i5, i64 0, i32 1
  %12 = load ptr, ptr %data.i.i.i.i.i.i.i21, align 8
  %cmp.not.i.i.i.i.i.i.i.i22 = icmp eq ptr %12, null
  br i1 %cmp.not.i.i.i.i.i.i.i.i22, label %sw.epilog.sink.split.i.i.i.i.i.i12, label %sw.epilog.sink.split.sink.split.i.i.i.i.i.i9

sw.bb2.i.i.i.i.i.i17:                             ; preds = %for.body.i.i.i4
  %data.i1.i.i.i.i.i.i18 = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %__first.addr.04.i.i.i5, i64 0, i32 1
  %13 = load ptr, ptr %data.i1.i.i.i.i.i.i18, align 8
  %cmp.not.i.i2.i.i.i.i.i.i19 = icmp eq ptr %13, null
  br i1 %cmp.not.i.i2.i.i.i.i.i.i19, label %sw.epilog.sink.split.i.i.i.i.i.i12, label %sw.epilog.sink.split.sink.split.i.i.i.i.i.i9

sw.bb4.i.i.i.i.i.i7:                              ; preds = %for.body.i.i.i4
  %14 = load ptr, ptr %__first.addr.04.i.i.i5, align 8
  %cmp.not.i.i4.i.i.i.i.i.i8 = icmp eq ptr %14, null
  br i1 %cmp.not.i.i4.i.i.i.i.i.i8, label %sw.epilog.sink.split.i.i.i.i.i.i12, label %sw.epilog.sink.split.sink.split.i.i.i.i.i.i9

sw.epilog.sink.split.sink.split.i.i.i.i.i.i9:     ; preds = %sw.bb4.i.i.i.i.i.i7, %sw.bb2.i.i.i.i.i.i17, %sw.bb.i.i.i.i.i.i20
  %.sink6.i.i.i.i.i.i10 = phi ptr [ %12, %sw.bb.i.i.i.i.i.i20 ], [ %13, %sw.bb2.i.i.i.i.i.i17 ], [ %14, %sw.bb4.i.i.i.i.i.i7 ]
  %this.sink.ph.i.i.i.i.i.i11 = phi ptr [ %data.i.i.i.i.i.i.i21, %sw.bb.i.i.i.i.i.i20 ], [ %data.i1.i.i.i.i.i.i18, %sw.bb2.i.i.i.i.i.i17 ], [ %__first.addr.04.i.i.i5, %sw.bb4.i.i.i.i.i.i7 ]
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %.sink6.i.i.i.i.i.i10) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %.sink6.i.i.i.i.i.i10) #28
  br label %sw.epilog.sink.split.i.i.i.i.i.i12

sw.epilog.sink.split.i.i.i.i.i.i12:               ; preds = %sw.epilog.sink.split.sink.split.i.i.i.i.i.i9, %sw.bb4.i.i.i.i.i.i7, %sw.bb2.i.i.i.i.i.i17, %sw.bb.i.i.i.i.i.i20
  %this.sink.i.i.i.i.i.i13 = phi ptr [ %data.i.i.i.i.i.i.i21, %sw.bb.i.i.i.i.i.i20 ], [ %data.i1.i.i.i.i.i.i18, %sw.bb2.i.i.i.i.i.i17 ], [ %__first.addr.04.i.i.i5, %sw.bb4.i.i.i.i.i.i7 ], [ %this.sink.ph.i.i.i.i.i.i11, %sw.epilog.sink.split.sink.split.i.i.i.i.i.i9 ]
  store ptr null, ptr %this.sink.i.i.i.i.i.i13, align 8
  br label %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i14

_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i14: ; preds = %sw.epilog.sink.split.i.i.i.i.i.i12, %for.body.i.i.i4
  %incdec.ptr.i.i.i15 = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %__first.addr.04.i.i.i5, i64 1
  %cmp.not.i.i.i16 = icmp eq ptr %incdec.ptr.i.i.i15, %10
  br i1 %cmp.not.i.i.i16, label %_ZSt8_DestroyIPN4fizz6detail12PendingEventES2_EvT_S4_RSaIT0_E.exit23, label %for.body.i.i.i4, !llvm.loop !59

_ZSt8_DestroyIPN4fizz6detail12PendingEventES2_EvT_S4_RSaIT0_E.exit23: ; preds = %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i14, %if.then
  %_M_first = getelementptr inbounds %"struct.std::_Deque_iterator", ptr %__last, i64 0, i32 1
  %15 = load ptr, ptr %_M_first, align 8
  %16 = load ptr, ptr %__last, align 8
  %cmp.not3.i.i.i24 = icmp eq ptr %15, %16
  br i1 %cmp.not3.i.i.i24, label %if.end, label %for.body.i.i.i25

for.body.i.i.i25:                                 ; preds = %_ZSt8_DestroyIPN4fizz6detail12PendingEventES2_EvT_S4_RSaIT0_E.exit23, %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i35
  %__first.addr.04.i.i.i26 = phi ptr [ %incdec.ptr.i.i.i36, %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i35 ], [ %15, %_ZSt8_DestroyIPN4fizz6detail12PendingEventES2_EvT_S4_RSaIT0_E.exit23 ]
  %type_.i.i.i.i.i.i27 = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %__first.addr.04.i.i.i26, i64 0, i32 1
  %17 = load i32, ptr %type_.i.i.i.i.i.i27, align 8
  switch i32 %17, label %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i35 [
    i32 0, label %sw.bb.i.i.i.i.i.i41
    i32 1, label %sw.bb2.i.i.i.i.i.i38
    i32 3, label %sw.bb4.i.i.i.i.i.i28
  ]

sw.bb.i.i.i.i.i.i41:                              ; preds = %for.body.i.i.i25
  %data.i.i.i.i.i.i.i42 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %__first.addr.04.i.i.i26, i64 0, i32 1
  %18 = load ptr, ptr %data.i.i.i.i.i.i.i42, align 8
  %cmp.not.i.i.i.i.i.i.i.i43 = icmp eq ptr %18, null
  br i1 %cmp.not.i.i.i.i.i.i.i.i43, label %sw.epilog.sink.split.i.i.i.i.i.i33, label %sw.epilog.sink.split.sink.split.i.i.i.i.i.i30

sw.bb2.i.i.i.i.i.i38:                             ; preds = %for.body.i.i.i25
  %data.i1.i.i.i.i.i.i39 = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %__first.addr.04.i.i.i26, i64 0, i32 1
  %19 = load ptr, ptr %data.i1.i.i.i.i.i.i39, align 8
  %cmp.not.i.i2.i.i.i.i.i.i40 = icmp eq ptr %19, null
  br i1 %cmp.not.i.i2.i.i.i.i.i.i40, label %sw.epilog.sink.split.i.i.i.i.i.i33, label %sw.epilog.sink.split.sink.split.i.i.i.i.i.i30

sw.bb4.i.i.i.i.i.i28:                             ; preds = %for.body.i.i.i25
  %20 = load ptr, ptr %__first.addr.04.i.i.i26, align 8
  %cmp.not.i.i4.i.i.i.i.i.i29 = icmp eq ptr %20, null
  br i1 %cmp.not.i.i4.i.i.i.i.i.i29, label %sw.epilog.sink.split.i.i.i.i.i.i33, label %sw.epilog.sink.split.sink.split.i.i.i.i.i.i30

sw.epilog.sink.split.sink.split.i.i.i.i.i.i30:    ; preds = %sw.bb4.i.i.i.i.i.i28, %sw.bb2.i.i.i.i.i.i38, %sw.bb.i.i.i.i.i.i41
  %.sink6.i.i.i.i.i.i31 = phi ptr [ %18, %sw.bb.i.i.i.i.i.i41 ], [ %19, %sw.bb2.i.i.i.i.i.i38 ], [ %20, %sw.bb4.i.i.i.i.i.i28 ]
  %this.sink.ph.i.i.i.i.i.i32 = phi ptr [ %data.i.i.i.i.i.i.i42, %sw.bb.i.i.i.i.i.i41 ], [ %data.i1.i.i.i.i.i.i39, %sw.bb2.i.i.i.i.i.i38 ], [ %__first.addr.04.i.i.i26, %sw.bb4.i.i.i.i.i.i28 ]
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %.sink6.i.i.i.i.i.i31) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %.sink6.i.i.i.i.i.i31) #28
  br label %sw.epilog.sink.split.i.i.i.i.i.i33

sw.epilog.sink.split.i.i.i.i.i.i33:               ; preds = %sw.epilog.sink.split.sink.split.i.i.i.i.i.i30, %sw.bb4.i.i.i.i.i.i28, %sw.bb2.i.i.i.i.i.i38, %sw.bb.i.i.i.i.i.i41
  %this.sink.i.i.i.i.i.i34 = phi ptr [ %data.i.i.i.i.i.i.i42, %sw.bb.i.i.i.i.i.i41 ], [ %data.i1.i.i.i.i.i.i39, %sw.bb2.i.i.i.i.i.i38 ], [ %__first.addr.04.i.i.i26, %sw.bb4.i.i.i.i.i.i28 ], [ %this.sink.ph.i.i.i.i.i.i32, %sw.epilog.sink.split.sink.split.i.i.i.i.i.i30 ]
  store ptr null, ptr %this.sink.i.i.i.i.i.i34, align 8
  br label %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i35

_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i35: ; preds = %sw.epilog.sink.split.i.i.i.i.i.i33, %for.body.i.i.i25
  %incdec.ptr.i.i.i36 = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %__first.addr.04.i.i.i26, i64 1
  %cmp.not.i.i.i37 = icmp eq ptr %incdec.ptr.i.i.i36, %16
  br i1 %cmp.not.i.i.i37, label %if.end, label %for.body.i.i.i25, !llvm.loop !59

if.else:                                          ; preds = %for.end
  %21 = load ptr, ptr %__last, align 8
  %cmp.not3.i.i.i45 = icmp eq ptr %9, %21
  br i1 %cmp.not3.i.i.i45, label %if.end, label %for.body.i.i.i46

for.body.i.i.i46:                                 ; preds = %if.else, %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i56
  %__first.addr.04.i.i.i47 = phi ptr [ %incdec.ptr.i.i.i57, %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i56 ], [ %9, %if.else ]
  %type_.i.i.i.i.i.i48 = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %__first.addr.04.i.i.i47, i64 0, i32 1
  %22 = load i32, ptr %type_.i.i.i.i.i.i48, align 8
  switch i32 %22, label %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i56 [
    i32 0, label %sw.bb.i.i.i.i.i.i62
    i32 1, label %sw.bb2.i.i.i.i.i.i59
    i32 3, label %sw.bb4.i.i.i.i.i.i49
  ]

sw.bb.i.i.i.i.i.i62:                              ; preds = %for.body.i.i.i46
  %data.i.i.i.i.i.i.i63 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %__first.addr.04.i.i.i47, i64 0, i32 1
  %23 = load ptr, ptr %data.i.i.i.i.i.i.i63, align 8
  %cmp.not.i.i.i.i.i.i.i.i64 = icmp eq ptr %23, null
  br i1 %cmp.not.i.i.i.i.i.i.i.i64, label %sw.epilog.sink.split.i.i.i.i.i.i54, label %sw.epilog.sink.split.sink.split.i.i.i.i.i.i51

sw.bb2.i.i.i.i.i.i59:                             ; preds = %for.body.i.i.i46
  %data.i1.i.i.i.i.i.i60 = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %__first.addr.04.i.i.i47, i64 0, i32 1
  %24 = load ptr, ptr %data.i1.i.i.i.i.i.i60, align 8
  %cmp.not.i.i2.i.i.i.i.i.i61 = icmp eq ptr %24, null
  br i1 %cmp.not.i.i2.i.i.i.i.i.i61, label %sw.epilog.sink.split.i.i.i.i.i.i54, label %sw.epilog.sink.split.sink.split.i.i.i.i.i.i51

sw.bb4.i.i.i.i.i.i49:                             ; preds = %for.body.i.i.i46
  %25 = load ptr, ptr %__first.addr.04.i.i.i47, align 8
  %cmp.not.i.i4.i.i.i.i.i.i50 = icmp eq ptr %25, null
  br i1 %cmp.not.i.i4.i.i.i.i.i.i50, label %sw.epilog.sink.split.i.i.i.i.i.i54, label %sw.epilog.sink.split.sink.split.i.i.i.i.i.i51

sw.epilog.sink.split.sink.split.i.i.i.i.i.i51:    ; preds = %sw.bb4.i.i.i.i.i.i49, %sw.bb2.i.i.i.i.i.i59, %sw.bb.i.i.i.i.i.i62
  %.sink6.i.i.i.i.i.i52 = phi ptr [ %23, %sw.bb.i.i.i.i.i.i62 ], [ %24, %sw.bb2.i.i.i.i.i.i59 ], [ %25, %sw.bb4.i.i.i.i.i.i49 ]
  %this.sink.ph.i.i.i.i.i.i53 = phi ptr [ %data.i.i.i.i.i.i.i63, %sw.bb.i.i.i.i.i.i62 ], [ %data.i1.i.i.i.i.i.i60, %sw.bb2.i.i.i.i.i.i59 ], [ %__first.addr.04.i.i.i47, %sw.bb4.i.i.i.i.i.i49 ]
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %.sink6.i.i.i.i.i.i52) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %.sink6.i.i.i.i.i.i52) #28
  br label %sw.epilog.sink.split.i.i.i.i.i.i54

sw.epilog.sink.split.i.i.i.i.i.i54:               ; preds = %sw.epilog.sink.split.sink.split.i.i.i.i.i.i51, %sw.bb4.i.i.i.i.i.i49, %sw.bb2.i.i.i.i.i.i59, %sw.bb.i.i.i.i.i.i62
  %this.sink.i.i.i.i.i.i55 = phi ptr [ %data.i.i.i.i.i.i.i63, %sw.bb.i.i.i.i.i.i62 ], [ %data.i1.i.i.i.i.i.i60, %sw.bb2.i.i.i.i.i.i59 ], [ %__first.addr.04.i.i.i47, %sw.bb4.i.i.i.i.i.i49 ], [ %this.sink.ph.i.i.i.i.i.i53, %sw.epilog.sink.split.sink.split.i.i.i.i.i.i51 ]
  store ptr null, ptr %this.sink.i.i.i.i.i.i55, align 8
  br label %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i56

_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i56: ; preds = %sw.epilog.sink.split.i.i.i.i.i.i54, %for.body.i.i.i46
  %incdec.ptr.i.i.i57 = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %__first.addr.04.i.i.i47, i64 1
  %cmp.not.i.i.i58 = icmp eq ptr %incdec.ptr.i.i.i57, %21
  br i1 %cmp.not.i.i.i58, label %if.end, label %for.body.i.i.i46, !llvm.loop !59

if.end:                                           ; preds = %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i35, %_ZSt8_DestroyIN4fizz6detail12PendingEventEEvPT_.exit.i.i.i56, %if.else, %_ZSt8_DestroyIPN4fizz6detail12PendingEventES2_EvT_S4_RSaIT0_E.exit23
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz6detail12PendingEventD2Ev(ptr noundef nonnull align 8 dereferenceable(36) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %type_.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %this, i64 0, i32 1
  %0 = load i32, ptr %type_.i, align 8
  switch i32 %0, label %_ZN4fizz6detail12PendingEvent14destroyVariantEv.exit [
    i32 0, label %sw.bb.i
    i32 1, label %sw.bb2.i
    i32 3, label %sw.bb4.i
  ]

sw.bb.i:                                          ; preds = %entry
  %data.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %this, i64 0, i32 1
  %1 = load ptr, ptr %data.i.i, align 8
  %cmp.not.i.i.i = icmp eq ptr %1, null
  br i1 %cmp.not.i.i.i, label %sw.epilog.sink.split.i, label %sw.epilog.sink.split.sink.split.i

sw.bb2.i:                                         ; preds = %entry
  %data.i1.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %this, i64 0, i32 1
  %2 = load ptr, ptr %data.i1.i, align 8
  %cmp.not.i.i2.i = icmp eq ptr %2, null
  br i1 %cmp.not.i.i2.i, label %sw.epilog.sink.split.i, label %sw.epilog.sink.split.sink.split.i

sw.bb4.i:                                         ; preds = %entry
  %3 = load ptr, ptr %this, align 8
  %cmp.not.i.i4.i = icmp eq ptr %3, null
  br i1 %cmp.not.i.i4.i, label %sw.epilog.sink.split.i, label %sw.epilog.sink.split.sink.split.i

sw.epilog.sink.split.sink.split.i:                ; preds = %sw.bb4.i, %sw.bb2.i, %sw.bb.i
  %.sink6.i = phi ptr [ %1, %sw.bb.i ], [ %2, %sw.bb2.i ], [ %3, %sw.bb4.i ]
  %this.sink.ph.i = phi ptr [ %data.i.i, %sw.bb.i ], [ %data.i1.i, %sw.bb2.i ], [ %this, %sw.bb4.i ]
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %.sink6.i) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %.sink6.i) #28
  br label %sw.epilog.sink.split.i

sw.epilog.sink.split.i:                           ; preds = %sw.epilog.sink.split.sink.split.i, %sw.bb4.i, %sw.bb2.i, %sw.bb.i
  %this.sink.i = phi ptr [ %data.i.i, %sw.bb.i ], [ %data.i1.i, %sw.bb2.i ], [ %this, %sw.bb4.i ], [ %this.sink.ph.i, %sw.epilog.sink.split.sink.split.i ]
  store ptr null, ptr %this.sink.i, align 8
  br label %_ZN4fizz6detail12PendingEvent14destroyVariantEv.exit

_ZN4fizz6detail12PendingEvent14destroyVariantEv.exit: ; preds = %entry, %sw.epilog.sink.split.i
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz8AppWriteD2Ev(ptr noundef nonnull align 8 dereferenceable(28) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %data = getelementptr inbounds %"struct.fizz::AppWrite", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %data, align 8
  %cmp.not.i = icmp eq ptr %0, null
  br i1 %cmp.not.i, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i: ; preds = %entry
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %0) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %0) #28
  br label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit: ; preds = %entry, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i
  store ptr null, ptr %data, align 8
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz13EarlyAppWriteD2Ev(ptr noundef nonnull align 8 dereferenceable(28) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %data = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %data, align 8
  %cmp.not.i = icmp eq ptr %0, null
  br i1 %cmp.not.i, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i: ; preds = %entry
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %0) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %0) #28
  br label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit: ; preds = %entry, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i
  store ptr null, ptr %data, align 8
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz21WriteNewSessionTicketD2Ev(ptr noundef nonnull align 8 dereferenceable(8) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %0 = load ptr, ptr %this, align 8
  %cmp.not.i = icmp eq ptr %0, null
  br i1 %cmp.not.i, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i: ; preds = %entry
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %0) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %0) #28
  br label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit: ; preds = %entry, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i
  store ptr null, ptr %this, align 8
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev(ptr noundef nonnull align 8 dereferenceable(8) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %0 = load ptr, ptr %this, align 8
  %cmp.not = icmp eq ptr %0, null
  br i1 %cmp.not, label %if.end, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit: ; preds = %entry
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %0) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %0) #28
  br label %if.end

if.end:                                           ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit, %entry
  store ptr null, ptr %this, align 8
  ret void
}

; Function Attrs: nounwind
declare void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56)) unnamed_addr #1

; Function Attrs: nounwind
declare void @_ZN5folly5IOBufdlEPv(ptr noundef) local_unnamed_addr #1

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS_13WriteToSocketE(ptr noundef nonnull align 8 dereferenceable(8) %this, ptr noundef nonnull align 8 dereferenceable(84) %data) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %allData = alloca %"class.std::unique_ptr.30", align 8
  %contents10 = getelementptr inbounds %"struct.fizz::WriteToSocket", ptr %data, i64 0, i32 1
  %0 = load i64, ptr %contents10, align 8
  %u.i.i.i = getelementptr inbounds %"struct.fizz::WriteToSocket", ptr %data, i64 0, i32 1, i32 1
  %1 = load ptr, ptr %u.i.i.i, align 8
  %tobool.not1.i.i.i = icmp slt i64 %0, 0
  %cond.i.i.i = select i1 %tobool.not1.i.i.i, ptr %1, ptr %u.i.i.i
  %2 = load i64, ptr %cond.i.i.i, align 8
  store i64 %2, ptr %allData, align 8
  store ptr null, ptr %cond.i.i.i, align 8
  %3 = load i64, ptr %contents10, align 8
  %and.i.i10 = and i64 %3, 4611686018427387902
  %cmp11.not = icmp eq i64 %and.i.i10, 0
  br i1 %cmp11.not, label %for.end, label %for.body

for.body:                                         ; preds = %entry, %for.inc
  %4 = phi i64 [ %7, %for.inc ], [ %3, %entry ]
  %i.012 = phi i64 [ %inc, %for.inc ], [ 1, %entry ]
  %5 = load ptr, ptr %allData, align 8
  %6 = load ptr, ptr %u.i.i.i, align 8
  %tobool.not1.i.i.i8 = icmp slt i64 %4, 0
  %cond.i.i.i9 = select i1 %tobool.not1.i.i.i8, ptr %6, ptr %u.i.i.i
  %add.ptr.i = getelementptr inbounds %"struct.fizz::TLSContent", ptr %cond.i.i.i9, i64 %i.012
  invoke void @_ZN5folly5IOBuf13appendToChainEOSt10unique_ptrIS0_St14default_deleteIS0_EE(ptr noundef nonnull align 8 dereferenceable(56) %5, ptr noundef nonnull align 8 dereferenceable(8) %add.ptr.i)
          to label %for.inc unwind label %lpad14.loopexit

for.inc:                                          ; preds = %for.body
  %inc = add nuw nsw i64 %i.012, 1
  %7 = load i64, ptr %contents10, align 8
  %and.i.i = and i64 %7, 4611686018427387903
  %cmp = icmp ult i64 %inc, %and.i.i
  br i1 %cmp, label %for.body, label %for.end, !llvm.loop !61

lpad14.loopexit:                                  ; preds = %for.body
  %lpad.loopexit = landingpad { ptr, i32 }
          cleanup
  br label %lpad14

lpad14.loopexit.split-lp:                         ; preds = %for.end
  %lpad.loopexit.split-lp = landingpad { ptr, i32 }
          cleanup
  br label %lpad14

lpad14:                                           ; preds = %lpad14.loopexit.split-lp, %lpad14.loopexit
  %lpad.phi = phi { ptr, i32 } [ %lpad.loopexit, %lpad14.loopexit ], [ %lpad.loopexit.split-lp, %lpad14.loopexit.split-lp ]
  call void @_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev(ptr noundef nonnull align 8 dereferenceable(8) %allData) #28
  resume { ptr, i32 } %lpad.phi

for.end:                                          ; preds = %for.inc, %entry
  %8 = load ptr, ptr %this, align 8
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %8, i64 0, i32 1
  %9 = load ptr, ptr %transport_, align 8
  %add.ptr = getelementptr inbounds i8, ptr %9, i64 32
  %10 = load ptr, ptr %data, align 8
  %flags = getelementptr inbounds %"struct.fizz::WriteToSocket", ptr %data, i64 0, i32 2
  %11 = load i32, ptr %flags, align 8
  %vtable = load ptr, ptr %add.ptr, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 2
  %12 = load ptr, ptr %vfn, align 8
  invoke void %12(ptr noundef nonnull align 8 dereferenceable(8) %add.ptr, ptr noundef %10, ptr noundef nonnull align 8 dereferenceable(8) %allData, i32 noundef %11)
          to label %invoke.cont24 unwind label %lpad14.loopexit.split-lp

invoke.cont24:                                    ; preds = %for.end
  %13 = load ptr, ptr %allData, align 8
  %cmp.not.i = icmp eq ptr %13, null
  br i1 %cmp.not.i, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i: ; preds = %invoke.cont24
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %13) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %13) #28
  br label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit: ; preds = %invoke.cont24, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS0_22ReportHandshakeSuccessE(ptr noundef nonnull align 8 dereferenceable(8) %this, ptr noundef nonnull align 1 dereferenceable(1) %success) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %w = alloca %"struct.fizz::AppWrite", align 8
  %agg.tmp = alloca %"struct.fizz::AppWrite", align 8
  %ex = alloca %"class.folly::Optional.455", align 8
  %w41 = alloca %"struct.fizz::AppWrite", align 8
  %agg.tmp55 = alloca %"struct.fizz::AppWrite", align 8
  %0 = load ptr, ptr %this, align 8
  %vtable = load ptr, ptr %0, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 61
  %1 = load ptr, ptr %vfn, align 8
  tail call void %1(ptr noundef nonnull align 8 dereferenceable(576) %0)
  %2 = load ptr, ptr %this, align 8
  %readSizeHint_.i = getelementptr inbounds %"class.fizz::AsyncFizzBase", ptr %2, i64 0, i32 11
  %3 = load i64, ptr %readSizeHint_.i, align 8
  %cmp.not.i = icmp eq i64 %3, 0
  br i1 %cmp.not.i, label %_ZN4fizz13AsyncFizzBase14updateReadHintEm.exit, label %if.then.i

if.then.i:                                        ; preds = %entry
  store i64 0, ptr %readSizeHint_.i, align 8
  %.pre = load ptr, ptr %this, align 8
  br label %_ZN4fizz13AsyncFizzBase14updateReadHintEm.exit

_ZN4fizz13AsyncFizzBase14updateReadHintEm.exit:   ; preds = %entry, %if.then.i
  %4 = phi ptr [ %2, %entry ], [ %.pre, %if.then.i ]
  %_M_finish.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %4, i64 0, i32 14, i32 0, i32 0, i32 0, i32 3
  %_M_start.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %4, i64 0, i32 14, i32 0, i32 0, i32 0, i32 2
  %5 = load ptr, ptr %_M_finish.i, align 8
  %6 = load ptr, ptr %_M_start.i, align 8
  %cmp.i.i140 = icmp eq ptr %5, %6
  br i1 %cmp.i.i140, label %while.end, label %while.body.lr.ph

while.body.lr.ph:                                 ; preds = %_ZN4fizz13AsyncFizzBase14updateReadHintEm.exit
  %data.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %w, i64 0, i32 1
  %flags.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %w, i64 0, i32 2
  %_M_last.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %4, i64 0, i32 14, i32 0, i32 0, i32 0, i32 2, i32 2
  %_M_first.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %4, i64 0, i32 14, i32 0, i32 0, i32 0, i32 2, i32 1
  %_M_node.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %4, i64 0, i32 14, i32 0, i32 0, i32 0, i32 2, i32 3
  %data.i9 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %agg.tmp, i64 0, i32 1
  %flags.i11 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %agg.tmp, i64 0, i32 2
  br label %while.body

while.body:                                       ; preds = %while.body.lr.ph, %_ZN4fizz8AppWriteD2Ev.exit17
  %7 = phi ptr [ %6, %while.body.lr.ph ], [ %.pre147, %_ZN4fizz8AppWriteD2Ev.exit17 ]
  %8 = load ptr, ptr %7, align 8
  store ptr %8, ptr %w, align 8
  %data3.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %7, i64 0, i32 1
  %9 = load i64, ptr %data3.i, align 8
  store ptr null, ptr %data3.i, align 8
  %flags4.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %7, i64 0, i32 2
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i, ptr noundef nonnull align 8 dereferenceable(12) %flags4.i, i64 12, i1 false)
  %10 = load ptr, ptr %_M_start.i, align 8
  %11 = load ptr, ptr %_M_last.i, align 8
  %add.ptr.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %11, i64 -1
  %cmp.not.i7 = icmp eq ptr %10, %add.ptr.i
  %data.i.i.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %10, i64 0, i32 1
  %12 = load ptr, ptr %data.i.i.i.i.i, align 8
  %cmp.not.i.i.i.i.i.i = icmp eq ptr %12, null
  br i1 %cmp.not.i7, label %if.else.i, label %if.then.i8

if.then.i8:                                       ; preds = %while.body
  br i1 %cmp.not.i.i.i.i.i.i, label %_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i: ; preds = %if.then.i8
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %12) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %12) #28
  br label %_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i

_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i, %if.then.i8
  store ptr null, ptr %data.i.i.i.i.i, align 8
  %13 = load ptr, ptr %_M_start.i, align 8
  %incdec.ptr.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %13, i64 1
  br label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit

if.else.i:                                        ; preds = %while.body
  br i1 %cmp.not.i.i.i.i.i.i, label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i: ; preds = %if.else.i
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %12) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %12) #28
  br label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i

_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i, %if.else.i
  store ptr null, ptr %data.i.i.i.i.i, align 8
  %14 = load ptr, ptr %_M_first.i.i, align 8
  call void @_ZdlPv(ptr noundef %14) #31
  %15 = load ptr, ptr %_M_node.i.i, align 8
  %add.ptr.i.i = getelementptr inbounds ptr, ptr %15, i64 1
  store ptr %add.ptr.i.i, ptr %_M_node.i.i, align 8
  %16 = load ptr, ptr %add.ptr.i.i, align 8
  store ptr %16, ptr %_M_first.i.i, align 8
  %add.ptr.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %16, i64 16
  store ptr %add.ptr.i.i.i, ptr %_M_last.i, align 8
  br label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit

_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit: ; preds = %_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i, %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i
  %storemerge.i = phi ptr [ %incdec.ptr.i, %_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i ], [ %16, %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i ]
  store ptr %storemerge.i, ptr %_M_start.i, align 8
  %17 = load ptr, ptr %this, align 8
  %fizzClient_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %17, i64 0, i32 9
  store ptr %8, ptr %agg.tmp, align 8
  store i64 %9, ptr %data.i9, align 8
  store ptr null, ptr %data.i, align 8
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i11, ptr noundef nonnull align 8 dereferenceable(12) %flags.i, i64 12, i1 false)
  invoke void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E8appWriteENS_8AppWriteE(ptr noundef nonnull align 8 dereferenceable(163) %fizzClient_, ptr noundef nonnull %agg.tmp)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit
  %18 = load ptr, ptr %data.i9, align 8
  %cmp.not.i.i = icmp eq ptr %18, null
  br i1 %cmp.not.i.i, label %_ZN4fizz8AppWriteD2Ev.exit17, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i: ; preds = %invoke.cont
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %18) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %18) #28
  br label %_ZN4fizz8AppWriteD2Ev.exit17

_ZN4fizz8AppWriteD2Ev.exit17:                     ; preds = %invoke.cont, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i
  store ptr null, ptr %data.i9, align 8
  %.pre147 = load ptr, ptr %_M_start.i, align 8
  %.pre146 = load ptr, ptr %_M_finish.i, align 8
  store ptr null, ptr %data.i, align 8
  %cmp.i.i = icmp eq ptr %.pre146, %.pre147
  br i1 %cmp.i.i, label %while.end.loopexit, label %while.body, !llvm.loop !62

lpad:                                             ; preds = %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit
  %19 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN4fizz8AppWriteD2Ev(ptr noundef nonnull align 8 dereferenceable(28) %agg.tmp) #28
  call void @_ZN4fizz8AppWriteD2Ev(ptr noundef nonnull align 8 dereferenceable(28) %w) #28
  br label %eh.resume

while.end.loopexit:                               ; preds = %_ZN4fizz8AppWriteD2Ev.exit17
  %.pre148 = load ptr, ptr %this, align 8
  br label %while.end

while.end:                                        ; preds = %while.end.loopexit, %_ZN4fizz13AsyncFizzBase14updateReadHintEm.exit
  %20 = phi ptr [ %.pre148, %while.end.loopexit ], [ %4, %_ZN4fizz13AsyncFizzBase14updateReadHintEm.exit ]
  %hasValue.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %20, i64 0, i32 10, i32 0, i32 1
  %21 = load i8, ptr %hasValue.i.i, align 8
  %22 = and i8 %21, 1
  %tobool.i.i.not = icmp eq i8 %22, 0
  br i1 %tobool.i.i.not, label %if.end61, label %if.then

if.then:                                          ; preds = %while.end
  %23 = load i8, ptr %success, align 1
  %24 = and i8 %23, 1
  %tobool.not = icmp eq i8 %24, 0
  br i1 %tobool.not, label %if.then8, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit.lr.ph

if.then8:                                         ; preds = %if.then
  call void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17handleEarlyRejectEv(ptr nonnull sret(%"class.folly::Optional.455") align 8 %ex, ptr noundef nonnull align 8 dereferenceable(2272) %20)
  %hasValue.i.i18 = getelementptr inbounds %"struct.folly::Optional<folly::AsyncSocketException>::StorageNonTriviallyDestructible", ptr %ex, i64 0, i32 1
  %25 = load i8, ptr %hasValue.i.i18, align 8
  %26 = and i8 %25, 1
  %tobool.i.i19.not = icmp eq i8 %26, 0
  %.pre151 = load ptr, ptr %this, align 8
  br i1 %tobool.i.i19.not, label %if.end33, label %if.then11

if.then11:                                        ; preds = %if.then8
  %pskIdentity_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %.pre151, i64 0, i32 6
  %hasValue.i.i20 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %.pre151, i64 0, i32 6, i32 0, i32 1
  %27 = load i8, ptr %hasValue.i.i20, align 8
  %28 = and i8 %27, 1
  %tobool.i.i21.not = icmp eq i8 %28, 0
  br i1 %tobool.i.i21.not, label %if.end, label %invoke.cont20

invoke.cont20:                                    ; preds = %if.then11
  %fizzContext_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %.pre151, i64 0, i32 3
  %29 = load ptr, ptr %fizzContext_, align 8
  %pskCache_.i = getelementptr inbounds %"class.fizz::client::FizzClientContext", ptr %29, i64 0, i32 14
  %30 = load ptr, ptr %pskCache_.i, align 8
  %cmp.i.not.i = icmp eq ptr %30, null
  br i1 %cmp.i.not.i, label %if.end, label %if.then.i22

if.then.i22:                                      ; preds = %invoke.cont20
  %vtable.i = load ptr, ptr %30, align 8
  %vfn.i = getelementptr inbounds ptr, ptr %vtable.i, i64 4
  %31 = load ptr, ptr %vfn.i, align 8
  invoke void %31(ptr noundef nonnull align 8 dereferenceable(8) %30, ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity_)
          to label %if.then.i22.if.end_crit_edge unwind label %lpad19

if.then.i22.if.end_crit_edge:                     ; preds = %if.then.i22
  %.pre149 = load i8, ptr %hasValue.i.i18, align 8
  br label %if.end

lpad19:                                           ; preds = %if.then.i.i.i29, %if.then.i22, %invoke.cont26, %invoke.cont24
  %32 = landingpad { ptr, i32 }
          cleanup
  %33 = load i8, ptr %hasValue.i.i18, align 8
  %34 = and i8 %33, 1
  %tobool.not.i.i.i25 = icmp eq i8 %34, 0
  br i1 %tobool.not.i.i.i25, label %eh.resume, label %if.then.i.i.i26

if.then.i.i.i26:                                  ; preds = %lpad19
  store i8 0, ptr %hasValue.i.i18, align 8
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ex) #28
  br label %eh.resume

if.end:                                           ; preds = %if.then.i22.if.end_crit_edge, %invoke.cont20, %if.then11
  %35 = phi i8 [ %.pre149, %if.then.i22.if.end_crit_edge ], [ %25, %invoke.cont20 ], [ %25, %if.then11 ]
  %36 = and i8 %35, 1
  %tobool.not.i.i.i28 = icmp eq i8 %36, 0
  br i1 %tobool.not.i.i.i28, label %if.then.i.i.i29, label %invoke.cont24

if.then.i.i.i29:                                  ; preds = %if.end
  invoke void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() #32
          to label %.noexc30 unwind label %lpad19

.noexc30:                                         ; preds = %if.then.i.i.i29
  unreachable

invoke.cont24:                                    ; preds = %if.end
  %37 = load ptr, ptr %this, align 8
  invoke void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE16deliverAllErrorsERKN5folly20AsyncSocketExceptionEb(ptr noundef nonnull align 8 dereferenceable(2272) %37, ptr noundef nonnull align 8 dereferenceable(24) %ex, i1 noundef zeroext false)
          to label %invoke.cont26 unwind label %lpad19

invoke.cont26:                                    ; preds = %invoke.cont24
  %38 = load ptr, ptr %this, align 8
  %transport_ = getelementptr inbounds %"class.folly::DecoratedAsyncTransportWrapper", ptr %38, i64 0, i32 1
  %39 = load ptr, ptr %transport_, align 8
  %vtable29 = load ptr, ptr %39, align 8
  %vfn30 = getelementptr inbounds ptr, ptr %vtable29, i64 5
  %40 = load ptr, ptr %vfn30, align 8
  invoke void %40(ptr noundef nonnull align 8 dereferenceable(48) %39)
          to label %cleanup unwind label %lpad19

cleanup:                                          ; preds = %invoke.cont26
  %.pre150 = load i8, ptr %hasValue.i.i18, align 8
  %.pre156 = and i8 %.pre150, 1
  %tobool.not.i.i.i32 = icmp eq i8 %.pre156, 0
  br i1 %tobool.not.i.i.i32, label %if.end103, label %if.then.i.i.i33

if.then.i.i.i33:                                  ; preds = %cleanup
  store i8 0, ptr %hasValue.i.i18, align 8
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ex) #28
  br label %if.end103

if.end33:                                         ; preds = %if.then8
  %hasValue.i.i.i35141.phi.trans.insert = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %.pre151, i64 0, i32 10, i32 0, i32 1
  %.pre152 = load i8, ptr %hasValue.i.i.i35141.phi.trans.insert, align 8
  %.pre157 = and i8 %.pre152, 1
  %tobool.not.i.i.i36142 = icmp eq i8 %.pre157, 0
  br i1 %tobool.not.i.i.i36142, label %if.then.i.i.i37, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit.lr.ph

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit.lr.ph: ; preds = %if.then, %if.end33
  %41 = phi ptr [ %.pre151, %if.end33 ], [ %20, %if.then ]
  %data.i46 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %w41, i64 0, i32 1
  %flags.i48 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %w41, i64 0, i32 2
  %data.i74 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %agg.tmp55, i64 0, i32 1
  %flags.i76 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %agg.tmp55, i64 0, i32 2
  br label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit

if.then.i.i.i37:                                  ; preds = %_ZN4fizz8AppWriteD2Ev.exit85, %if.end33
  call void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() #32
  unreachable

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit: ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit.lr.ph, %_ZN4fizz8AppWriteD2Ev.exit85
  %42 = phi ptr [ %41, %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit.lr.ph ], [ %.pre153, %_ZN4fizz8AppWriteD2Ev.exit85 ]
  %_M_finish.i38 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %42, i64 0, i32 10, i32 0, i32 0, i32 0, i32 2, i32 0, i32 0, i32 0, i32 3
  %_M_start.i39 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %42, i64 0, i32 10, i32 0, i32 0, i32 0, i32 2, i32 0, i32 0, i32 0, i32 2
  %43 = load ptr, ptr %_M_finish.i38, align 8
  %44 = load ptr, ptr %_M_start.i39, align 8
  %cmp.i.i40 = icmp eq ptr %43, %44
  br i1 %cmp.i.i40, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEE5clearEv.exit, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit44

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit44: ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit
  %45 = load ptr, ptr %44, align 8
  store ptr %45, ptr %w41, align 8
  %data3.i47 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %44, i64 0, i32 1
  %46 = load i64, ptr %data3.i47, align 8
  store i64 %46, ptr %data.i46, align 8
  store ptr null, ptr %data3.i47, align 8
  %flags4.i49 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %44, i64 0, i32 2
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i48, ptr noundef nonnull align 8 dereferenceable(12) %flags4.i49, i64 12, i1 false)
  %47 = load ptr, ptr %this, align 8
  %hasValue.i.i.i50 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %47, i64 0, i32 10, i32 0, i32 1
  %48 = load i8, ptr %hasValue.i.i.i50, align 8
  %49 = and i8 %48, 1
  %tobool.not.i.i.i51 = icmp eq i8 %49, 0
  br i1 %tobool.not.i.i.i51, label %if.then.i.i.i52, label %invoke.cont50

if.then.i.i.i52:                                  ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit44
  invoke void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() #32
          to label %.noexc53 unwind label %lpad49

.noexc53:                                         ; preds = %if.then.i.i.i52
  unreachable

invoke.cont50:                                    ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit44
  %_M_start.i55 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %47, i64 0, i32 10, i32 0, i32 0, i32 0, i32 2, i32 0, i32 0, i32 0, i32 2
  %50 = load ptr, ptr %_M_start.i55, align 8
  %_M_last.i56 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %47, i64 0, i32 10, i32 0, i32 0, i32 0, i32 2, i32 0, i32 0, i32 0, i32 2, i32 2
  %51 = load ptr, ptr %_M_last.i56, align 8
  %add.ptr.i57 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %51, i64 -1
  %cmp.not.i58 = icmp eq ptr %50, %add.ptr.i57
  %data.i.i.i.i.i59 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %50, i64 0, i32 1
  %52 = load ptr, ptr %data.i.i.i.i.i59, align 8
  %cmp.not.i.i.i.i.i.i60 = icmp eq ptr %52, null
  br i1 %cmp.not.i58, label %if.else.i66, label %if.then.i61

if.then.i61:                                      ; preds = %invoke.cont50
  br i1 %cmp.not.i.i.i.i.i.i60, label %_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i63, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i62

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i62: ; preds = %if.then.i61
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %52) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %52) #28
  br label %_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i63

_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i63: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i62, %if.then.i61
  store ptr null, ptr %data.i.i.i.i.i59, align 8
  %53 = load ptr, ptr %_M_start.i55, align 8
  %incdec.ptr.i64 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %53, i64 1
  br label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit73

if.else.i66:                                      ; preds = %invoke.cont50
  br i1 %cmp.not.i.i.i.i.i.i60, label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i68, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i67

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i67: ; preds = %if.else.i66
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %52) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %52) #28
  br label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i68

_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i68: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i67, %if.else.i66
  store ptr null, ptr %data.i.i.i.i.i59, align 8
  %_M_first.i.i69 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %47, i64 0, i32 10, i32 0, i32 0, i32 0, i32 2, i32 0, i32 0, i32 0, i32 2, i32 1
  %54 = load ptr, ptr %_M_first.i.i69, align 8
  call void @_ZdlPv(ptr noundef %54) #31
  %_M_node.i.i70 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %47, i64 0, i32 10, i32 0, i32 0, i32 0, i32 2, i32 0, i32 0, i32 0, i32 2, i32 3
  %55 = load ptr, ptr %_M_node.i.i70, align 8
  %add.ptr.i.i71 = getelementptr inbounds ptr, ptr %55, i64 1
  store ptr %add.ptr.i.i71, ptr %_M_node.i.i70, align 8
  %56 = load ptr, ptr %add.ptr.i.i71, align 8
  store ptr %56, ptr %_M_first.i.i69, align 8
  %add.ptr.i.i.i72 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %56, i64 16
  store ptr %add.ptr.i.i.i72, ptr %_M_last.i56, align 8
  br label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit73

_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit73: ; preds = %_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i63, %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i68
  %storemerge.i65 = phi ptr [ %incdec.ptr.i64, %_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i63 ], [ %56, %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i68 ]
  store ptr %storemerge.i65, ptr %_M_start.i55, align 8
  %57 = load ptr, ptr %this, align 8
  %fizzClient_54 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %57, i64 0, i32 9
  store ptr %45, ptr %agg.tmp55, align 8
  store i64 %46, ptr %data.i74, align 8
  store ptr null, ptr %data.i46, align 8
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i76, ptr noundef nonnull align 8 dereferenceable(12) %flags.i48, i64 12, i1 false)
  invoke void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E8appWriteENS_8AppWriteE(ptr noundef nonnull align 8 dereferenceable(163) %fizzClient_54, ptr noundef nonnull %agg.tmp55)
          to label %invoke.cont57 unwind label %lpad56

invoke.cont57:                                    ; preds = %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit73
  %58 = load ptr, ptr %data.i74, align 8
  %cmp.not.i.i79 = icmp eq ptr %58, null
  br i1 %cmp.not.i.i79, label %_ZN4fizz8AppWriteD2Ev.exit85, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i80

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i80: ; preds = %invoke.cont57
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %58) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %58) #28
  br label %_ZN4fizz8AppWriteD2Ev.exit85

_ZN4fizz8AppWriteD2Ev.exit85:                     ; preds = %invoke.cont57, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i80
  store ptr null, ptr %data.i74, align 8
  %.pre153 = load ptr, ptr %this, align 8
  %hasValue.i.i.i35.phi.trans.insert = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %.pre153, i64 0, i32 10, i32 0, i32 1
  %.pre154 = load i8, ptr %hasValue.i.i.i35.phi.trans.insert, align 8
  store ptr null, ptr %data.i46, align 8
  %59 = and i8 %.pre154, 1
  %tobool.not.i.i.i36 = icmp eq i8 %59, 0
  br i1 %tobool.not.i.i.i36, label %if.then.i.i.i37, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit, !llvm.loop !63

lpad49:                                           ; preds = %if.then.i.i.i52
  %60 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad56:                                           ; preds = %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit73
  %61 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN4fizz8AppWriteD2Ev(ptr noundef nonnull align 8 dereferenceable(28) %agg.tmp55) #28
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad56, %lpad49
  %.pn = phi { ptr, i32 } [ %61, %lpad56 ], [ %60, %lpad49 ]
  call void @_ZN4fizz8AppWriteD2Ev(ptr noundef nonnull align 8 dereferenceable(28) %w41) #28
  br label %eh.resume

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEE5clearEv.exit: ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit
  %hasValue.i.i.i35.le = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %42, i64 0, i32 10, i32 0, i32 1
  %pendingAppWrites = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %42, i64 0, i32 10, i32 0, i32 0, i32 0, i32 2
  store i8 0, ptr %hasValue.i.i.i35.le, align 8
  call void @_ZNSt5dequeIN4fizz8AppWriteESaIS1_EED2Ev(ptr noundef nonnull align 8 dereferenceable(80) %pendingAppWrites) #28
  %resendBuffer.i.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %42, i64 0, i32 10, i32 0, i32 0, i32 0, i32 1
  call void @_ZN5folly10IOBufQueueD1Ev(ptr noundef nonnull align 8 dereferenceable(72) %resendBuffer.i.i.i.i) #28
  %.pre155 = load ptr, ptr %this, align 8
  br label %if.end61

if.end61:                                         ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEE5clearEv.exit, %while.end
  %62 = phi ptr [ %.pre155, %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEE5clearEv.exit ], [ %20, %while.end ]
  %hasValue.i.i89 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %62, i64 0, i32 2, i32 0, i32 1
  %63 = load i8, ptr %hasValue.i.i89, align 8
  %64 = and i8 %63, 1
  %tobool.i.i90.not = icmp eq i8 %64, 0
  br i1 %tobool.i.i90.not, label %if.end93, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit: ; preds = %if.end61
  %callback_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %62, i64 0, i32 2
  %ptrType_.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %62, i64 0, i32 2, i32 0, i32 0, i32 0, i32 1
  %65 = load i8, ptr %ptrType_.i.i.i, align 8
  %storemerge.i.i.i = load ptr, ptr %callback_, align 8
  store i8 0, ptr %hasValue.i.i89, align 8
  switch i8 %65, label %if.end93 [
    i8 0, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit100
    i8 1, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit112
  ]

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit100: ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit
  %tobool75.not = icmp eq ptr %storemerge.i.i.i, null
  br i1 %tobool75.not, label %if.end93, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit105

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit105: ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit100
  %66 = load ptr, ptr %this, align 8
  %vtable80 = load ptr, ptr %storemerge.i.i.i, align 8
  %vfn81 = getelementptr inbounds ptr, ptr %vtable80, i64 2
  %67 = load ptr, ptr %vfn81, align 8
  call void %67(ptr noundef nonnull align 8 dereferenceable(8) %storemerge.i.i.i, ptr noundef %66) #28
  br label %if.end93

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit112: ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit
  %tobool86.not = icmp eq ptr %storemerge.i.i.i, null
  br i1 %tobool86.not, label %if.end93, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit119

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit119: ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit112
  %vtable90 = load ptr, ptr %storemerge.i.i.i, align 8
  %vfn91 = getelementptr inbounds ptr, ptr %vtable90, i64 2
  %68 = load ptr, ptr %vfn91, align 8
  call void %68(ptr noundef nonnull align 8 dereferenceable(8) %storemerge.i.i.i) #28
  br label %if.end93

if.end93:                                         ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit, %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit105, %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit100, %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit119, %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit112, %if.end61
  %69 = load ptr, ptr %this, align 8
  %replaySafetyCallback_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %69, i64 0, i32 12
  %70 = load ptr, ptr %replaySafetyCallback_, align 8
  %tobool95.not = icmp eq ptr %70, null
  br i1 %tobool95.not, label %if.end103, label %if.then96

if.then96:                                        ; preds = %if.end93
  store ptr null, ptr %replaySafetyCallback_, align 8
  %vtable101 = load ptr, ptr %70, align 8
  %vfn102 = getelementptr inbounds ptr, ptr %vtable101, i64 2
  %71 = load ptr, ptr %vfn102, align 8
  call void %71(ptr noundef nonnull align 8 dereferenceable(8) %70)
  br label %if.end103

if.end103:                                        ; preds = %if.then.i.i.i33, %cleanup, %if.then96, %if.end93
  ret void

eh.resume:                                        ; preds = %if.then.i.i.i26, %lpad19, %ehcleanup, %lpad
  %.pn4 = phi { ptr, i32 } [ %19, %lpad ], [ %.pn, %ehcleanup ], [ %32, %lpad19 ], [ %32, %if.then.i.i.i26 ]
  resume { ptr, i32 } %.pn4
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS0_27ReportEarlyHandshakeSuccessE(ptr noundef nonnull align 8 dereferenceable(8) %this, ptr noundef nonnull align 4 dereferenceable(4) %earlySuccess) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i = alloca %"struct.folly::IOBufQueue::Options", align 1
  %ref.tmp = alloca %"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState", align 8
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(160) %ref.tmp, i8 0, i64 160, i1 false)
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i)
  store i32 0, ptr %ref.tmp, align 8
  %resendBuffer.i = getelementptr inbounds %"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState", ptr %ref.tmp, i64 0, i32 1
  store i8 1, ptr %ref.tmp.i, align 1
  call void @_ZN5folly10IOBufQueueC1ERKNS0_7OptionsE(ptr noundef nonnull align 8 dereferenceable(72) %resendBuffer.i, ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i)
  %pendingAppWrites.i = getelementptr inbounds %"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState", ptr %ref.tmp, i64 0, i32 2
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(80) %pendingAppWrites.i, i8 0, i64 80, i1 false)
  invoke void @_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE17_M_initialize_mapEm(ptr noundef nonnull align 8 dereferenceable(80) %pendingAppWrites.i, i64 noundef 0)
          to label %_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE14EarlyDataStateC2Ev.exit unwind label %lpad.i

common.resume:                                    ; preds = %lpad, %lpad.i
  %common.resume.op = phi { ptr, i32 } [ %0, %lpad.i ], [ %10, %lpad ]
  call void @_ZN5folly10IOBufQueueD1Ev(ptr noundef nonnull align 8 dereferenceable(72) %resendBuffer.i) #28
  resume { ptr, i32 } %common.resume.op

lpad.i:                                           ; preds = %entry
  %0 = landingpad { ptr, i32 }
          cleanup
  br label %common.resume

_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE14EarlyDataStateC2Ev.exit: ; preds = %entry
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i)
  %1 = load ptr, ptr %this, align 8
  %earlyDataState_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %1, i64 0, i32 10
  invoke void @_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEE6assignEOS6_(ptr noundef nonnull align 8 dereferenceable(168) %earlyDataState_, ptr noundef nonnull align 8 dereferenceable(160) %ref.tmp)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE14EarlyDataStateC2Ev.exit
  call void @_ZNSt5dequeIN4fizz8AppWriteESaIS1_EED2Ev(ptr noundef nonnull align 8 dereferenceable(80) %pendingAppWrites.i) #28
  call void @_ZN5folly10IOBufQueueD1Ev(ptr noundef nonnull align 8 dereferenceable(72) %resendBuffer.i) #28
  %2 = load ptr, ptr %this, align 8
  %hasValue.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %2, i64 0, i32 10, i32 0, i32 1
  %3 = load i8, ptr %hasValue.i.i.i, align 8
  %4 = and i8 %3, 1
  %tobool.not.i.i.i = icmp eq i8 %4, 0
  br i1 %tobool.not.i.i.i, label %if.then.i.i.i, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit

if.then.i.i.i:                                    ; preds = %invoke.cont
  call void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() #32
  unreachable

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit: ; preds = %invoke.cont
  %earlyDataState_3 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %2, i64 0, i32 10
  %5 = load i32, ptr %earlySuccess, align 4
  store i32 %5, ptr %earlyDataState_3, align 8
  %6 = load ptr, ptr %this, align 8
  %hasValue.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %6, i64 0, i32 2, i32 0, i32 1
  %7 = load i8, ptr %hasValue.i.i, align 8
  %8 = and i8 %7, 1
  %tobool.i.i.not = icmp eq i8 %8, 0
  br i1 %tobool.i.i.not, label %if.end30, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit: ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit
  %callback_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %6, i64 0, i32 2
  %ptrType_.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %6, i64 0, i32 2, i32 0, i32 0, i32 0, i32 1
  %9 = load i8, ptr %ptrType_.i.i.i, align 8
  %storemerge.i.i.i = load ptr, ptr %callback_, align 8
  store i8 0, ptr %hasValue.i.i, align 8
  switch i8 %9, label %if.end30 [
    i8 0, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit14
    i8 1, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit26
  ]

lpad:                                             ; preds = %_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE14EarlyDataStateC2Ev.exit
  %10 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt5dequeIN4fizz8AppWriteESaIS1_EED2Ev(ptr noundef nonnull align 8 dereferenceable(80) %pendingAppWrites.i) #28
  br label %common.resume

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit14: ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit
  %tobool.not = icmp eq ptr %storemerge.i.i.i, null
  br i1 %tobool.not, label %if.end30, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit19

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit19: ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit14
  %11 = load ptr, ptr %this, align 8
  %vtable = load ptr, ptr %storemerge.i.i.i, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 2
  %12 = load ptr, ptr %vfn, align 8
  call void %12(ptr noundef nonnull align 8 dereferenceable(8) %storemerge.i.i.i, ptr noundef %11) #28
  br label %if.end30

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit26: ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit
  %tobool23.not = icmp eq ptr %storemerge.i.i.i, null
  br i1 %tobool23.not, label %if.end30, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit33

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit33: ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit26
  %vtable27 = load ptr, ptr %storemerge.i.i.i, align 8
  %vfn28 = getelementptr inbounds ptr, ptr %vtable27, i64 2
  %13 = load ptr, ptr %vfn28, align 8
  call void %13(ptr noundef nonnull align 8 dereferenceable(8) %storemerge.i.i.i) #28
  br label %if.end30

if.end30:                                         ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit, %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit19, %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit14, %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit33, %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit26, %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS_11ReportErrorE(ptr noundef nonnull align 8 dereferenceable(8) %this, ptr noundef nonnull align 8 dereferenceable(8) %error) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i6 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp.i = alloca %"class.std::allocator", align 1
  %ase = alloca %"class.folly::AsyncSocketException", align 8
  %ref.tmp = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp2 = alloca %"class.folly::basic_fbstring", align 8
  %agg.tmp = alloca %"class.folly::exception_wrapper", align 8
  call void @_ZNK5folly17exception_wrapper4whatEv(ptr nonnull sret(%"class.folly::basic_fbstring") align 8 %ref.tmp2, ptr noundef nonnull align 8 dereferenceable(8) %error)
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i)
  %0 = load ptr, ptr %ref.tmp2, align 8, !noalias !64
  %arrayidx.i.i.i.i.i = getelementptr inbounds [24 x i8], ptr %ref.tmp2, i64 0, i64 23
  %1 = load i8, ptr %arrayidx.i.i.i.i.i, align 1, !noalias !64
  %cmp.i.i.i.i = icmp ult i8 %1, 64
  %cond.i.i.i.i = select i1 %cmp.i.i.i.i, ptr %ref.tmp2, ptr %0
  %size_.i.i.i = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %ref.tmp2, i64 0, i32 1
  %2 = load i64, ptr %size_.i.i.i, align 8, !noalias !64
  %conv.i.i.i = zext i8 %1 to i64
  %sub.i.i.i = sub nsw i64 23, %conv.i.i.i
  %cmp.i.i.i = icmp ult i8 %1, 24
  %cond.i.i.i = select i1 %cmp.i.i.i, i64 %sub.i.i.i, i64 %2
  call void @_ZNSaIcEC1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i) #28, !noalias !64
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1EPKcmRKS3_(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp, ptr noundef %cond.i.i.i.i, i64 noundef %cond.i.i.i, ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i)
          to label %invoke.cont unwind label %lpad.i

lpad.i:                                           ; preds = %entry
  %3 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i) #28
  br label %ehcleanup

invoke.cont:                                      ; preds = %entry
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i) #28
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i)
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %ref.tmp.i6)
  invoke void @_ZN5folly20AsyncSocketException10getMessageENS0_24AsyncSocketExceptionTypeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEi(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp.i6, i32 noundef 12, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp, i32 noundef 0)
          to label %.noexc unwind label %lpad4

.noexc:                                           ; preds = %invoke.cont
  invoke void @_ZNSt13runtime_errorC2ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr noundef nonnull align 8 dereferenceable(16) %ase, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i6)
          to label %invoke.cont5 unwind label %lpad.i7

lpad.i7:                                          ; preds = %.noexc
  %4 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i6) #28
  br label %lpad4.body

invoke.cont5:                                     ; preds = %.noexc
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i6) #28
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN5folly20AsyncSocketExceptionE, i64 0, inrange i32 0, i64 2), ptr %ase, align 8
  %type_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ase, i64 0, i32 1
  store i32 12, ptr %type_.i, align 8
  %errno_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ase, i64 0, i32 2
  store i32 0, ptr %errno_.i, align 4
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %ref.tmp.i6)
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #28
  %5 = load i8, ptr %arrayidx.i.i.i.i.i, align 1
  %6 = and i8 %5, -64
  %cmp.i.i = icmp eq i8 %6, 0
  br i1 %cmp.i.i, label %_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEED2Ev.exit, label %if.end.i.i

if.end.i.i:                                       ; preds = %invoke.cont5
  %cmp.i.i.i9 = icmp eq i8 %6, -128
  %7 = load ptr, ptr %ref.tmp2, align 8
  br i1 %cmp.i.i.i9, label %if.then.i.i.i, label %if.else.i.i.i

if.then.i.i.i:                                    ; preds = %if.end.i.i
  call void @free(ptr noundef %7) #28
  br label %_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEED2Ev.exit

if.else.i.i.i:                                    ; preds = %if.end.i.i
  %add.ptr.i.i.i.i.i = getelementptr inbounds i8, ptr %7, i64 -8
  %8 = atomicrmw sub ptr %add.ptr.i.i.i.i.i, i64 1 acq_rel, align 8
  %cmp.i.i.i.i10 = icmp eq i64 %8, 1
  br i1 %cmp.i.i.i.i10, label %if.then.i.i.i.i, label %_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEED2Ev.exit

if.then.i.i.i.i:                                  ; preds = %if.else.i.i.i
  call void @free(ptr noundef nonnull %add.ptr.i.i.i.i.i) #28
  br label %_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEED2Ev.exit

_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEED2Ev.exit: ; preds = %invoke.cont5, %if.then.i.i.i, %if.else.i.i.i, %if.then.i.i.i.i
  %9 = load ptr, ptr %this, align 8
  call void @llvm.experimental.noalias.scope.decl(metadata !67)
  %10 = load i64, ptr %error, align 8, !noalias !67
  store i64 %10, ptr %agg.tmp, align 8, !alias.scope !67
  store i64 0, ptr %error, align 8, !noalias !67
  invoke void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE21deliverHandshakeErrorEN5folly17exception_wrapperE(ptr noundef nonnull align 8 dereferenceable(2272) %9, ptr noundef nonnull %agg.tmp)
          to label %invoke.cont8 unwind label %lpad7

invoke.cont8:                                     ; preds = %_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEED2Ev.exit
  %11 = load ptr, ptr %agg.tmp, align 8
  %tobool.not.i.i = icmp eq ptr %11, null
  br i1 %tobool.not.i.i, label %_ZN5folly17exception_wrapperD2Ev.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %invoke.cont8
  call void @_ZNSt15__exception_ptr13exception_ptr10_M_releaseEv(ptr noundef nonnull align 8 dereferenceable(8) %agg.tmp) #28
  br label %_ZN5folly17exception_wrapperD2Ev.exit

_ZN5folly17exception_wrapperD2Ev.exit:            ; preds = %invoke.cont8, %if.then.i.i
  %12 = load ptr, ptr %this, align 8
  invoke void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE16deliverAllErrorsERKN5folly20AsyncSocketExceptionEb(ptr noundef nonnull align 8 dereferenceable(2272) %12, ptr noundef nonnull align 8 dereferenceable(24) %ase, i1 noundef zeroext true)
          to label %invoke.cont12 unwind label %lpad11

invoke.cont12:                                    ; preds = %_ZN5folly17exception_wrapperD2Ev.exit
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ase) #28
  ret void

lpad4:                                            ; preds = %invoke.cont
  %13 = landingpad { ptr, i32 }
          cleanup
  br label %lpad4.body

lpad4.body:                                       ; preds = %lpad.i7, %lpad4
  %eh.lpad-body8 = phi { ptr, i32 } [ %13, %lpad4 ], [ %4, %lpad.i7 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #28
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad.i, %lpad4.body
  %.pn = phi { ptr, i32 } [ %eh.lpad-body8, %lpad4.body ], [ %3, %lpad.i ]
  call void @_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEED2Ev(ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp2) #28
  br label %eh.resume

lpad7:                                            ; preds = %_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEED2Ev.exit
  %14 = landingpad { ptr, i32 }
          cleanup
  %15 = load ptr, ptr %agg.tmp, align 8
  %tobool.not.i.i11 = icmp eq ptr %15, null
  br i1 %tobool.not.i.i11, label %ehcleanup13, label %if.then.i.i12

if.then.i.i12:                                    ; preds = %lpad7
  call void @_ZNSt15__exception_ptr13exception_ptr10_M_releaseEv(ptr noundef nonnull align 8 dereferenceable(8) %agg.tmp) #28
  br label %ehcleanup13

lpad11:                                           ; preds = %_ZN5folly17exception_wrapperD2Ev.exit
  %16 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup13

ehcleanup13:                                      ; preds = %if.then.i.i12, %lpad7, %lpad11
  %.pn3 = phi { ptr, i32 } [ %16, %lpad11 ], [ %14, %lpad7 ], [ %14, %if.then.i.i12 ]
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ase) #28
  br label %eh.resume

eh.resume:                                        ; preds = %ehcleanup13, %ehcleanup
  %.pn3.pn = phi { ptr, i32 } [ %.pn3, %ehcleanup13 ], [ %.pn, %ehcleanup ]
  resume { ptr, i32 } %.pn3.pn
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorclERNS0_12NewCachedPskE(ptr noundef nonnull align 8 dereferenceable(8) %this, ptr noundef nonnull align 8 dereferenceable(192) %newCachedPsk) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %agg.tmp.i = alloca %"struct.fizz::client::CachedPsk", align 8
  %agg.tmp = alloca %"struct.fizz::client::CachedPsk", align 8
  %0 = load ptr, ptr %this, align 8
  %pskIdentity_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %0, i64 0, i32 6
  %hasValue.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %0, i64 0, i32 6, i32 0, i32 1
  %1 = load i8, ptr %hasValue.i.i, align 8
  %2 = and i8 %1, 1
  %tobool.i.i.not = icmp eq i8 %2, 0
  br i1 %tobool.i.i.not, label %if.end, label %_ZNR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEdeEv.exit

_ZNR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEdeEv.exit: ; preds = %entry
  %fizzContext_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %0, i64 0, i32 3
  %3 = load ptr, ptr %fizzContext_, align 8
  call void @_ZN4fizz6client9CachedPskC2EOS1_(ptr noundef nonnull align 8 dereferenceable(192) %agg.tmp, ptr noundef nonnull align 8 dereferenceable(192) %newCachedPsk) #28
  call void @llvm.lifetime.start.p0(i64 192, ptr nonnull %agg.tmp.i)
  %pskCache_.i = getelementptr inbounds %"class.fizz::client::FizzClientContext", ptr %3, i64 0, i32 14
  %4 = load ptr, ptr %pskCache_.i, align 8
  %cmp.i.not.i = icmp eq ptr %4, null
  br i1 %cmp.i.not.i, label %invoke.cont, label %if.then.i

if.then.i:                                        ; preds = %_ZNR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEdeEv.exit
  call void @_ZN4fizz6client9CachedPskC2EOS1_(ptr noundef nonnull align 8 dereferenceable(192) %agg.tmp.i, ptr noundef nonnull align 8 dereferenceable(192) %agg.tmp) #28
  %vtable.i = load ptr, ptr %4, align 8
  %vfn.i = getelementptr inbounds ptr, ptr %vtable.i, i64 3
  %5 = load ptr, ptr %vfn.i, align 8
  invoke void %5(ptr noundef nonnull align 8 dereferenceable(8) %4, ptr noundef nonnull align 8 dereferenceable(32) %pskIdentity_, ptr noundef nonnull %agg.tmp.i)
          to label %invoke.cont.i unwind label %lpad.i

invoke.cont.i:                                    ; preds = %if.then.i
  call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %agg.tmp.i) #28
  br label %invoke.cont

lpad.i:                                           ; preds = %if.then.i
  %6 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %agg.tmp.i) #28
  call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %agg.tmp) #28
  resume { ptr, i32 } %6

invoke.cont:                                      ; preds = %invoke.cont.i, %_ZNR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEdeEv.exit
  call void @llvm.lifetime.end.p0(i64 192, ptr nonnull %agg.tmp.i)
  call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %agg.tmp) #28
  br label %if.end

if.end:                                           ; preds = %invoke.cont, %entry
  ret void
}

declare void @_ZN5folly5IOBuf13appendToChainEOSt10unique_ptrIS0_St14default_deleteIS0_EE(ptr noundef nonnull align 8 dereferenceable(56), ptr noundef nonnull align 8 dereferenceable(8)) local_unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E8appWriteENS_8AppWriteE(ptr noundef nonnull align 8 dereferenceable(163) %this, ptr noundef %w) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp = alloca %"struct.fizz::detail::PendingEvent", align 8
  %type_.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %ref.tmp, i64 0, i32 1
  store i32 0, ptr %type_.i, align 8
  %0 = load ptr, ptr %w, align 8
  store ptr %0, ptr %ref.tmp, align 8
  %data.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %ref.tmp, i64 0, i32 1
  %data3.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %w, i64 0, i32 1
  %1 = load i64, ptr %data3.i.i, align 8
  store i64 %1, ptr %data.i.i, align 8
  store ptr null, ptr %data3.i.i, align 8
  %flags.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %ref.tmp, i64 0, i32 2
  %flags4.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %w, i64 0, i32 2
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i.i, ptr noundef nonnull align 8 dereferenceable(12) %flags4.i.i, i64 12, i1 false)
  %_M_finish.i.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7, i32 0, i32 0, i32 0, i32 3
  %2 = load ptr, ptr %_M_finish.i.i, align 8
  %_M_last.i.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7, i32 0, i32 0, i32 0, i32 3, i32 2
  %3 = load ptr, ptr %_M_last.i.i, align 8
  %add.ptr.i.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %3, i64 -1
  %cmp.not.i.i = icmp eq ptr %2, %add.ptr.i.i
  br i1 %cmp.not.i.i, label %if.else.i.i, label %invoke.cont.thread

invoke.cont.thread:                               ; preds = %entry
  store ptr %0, ptr %2, align 8
  %data.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %2, i64 0, i32 1
  store i64 %1, ptr %data.i.i.i.i.i.i, align 8
  store ptr null, ptr %data.i.i, align 8
  %flags.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %2, i64 0, i32 2
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(12) %flags.i.i, i64 12, i1 false)
  %type_6.i.i.i.i.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %2, i64 0, i32 1
  store i32 0, ptr %type_6.i.i.i.i.i, align 8
  %4 = load ptr, ptr %_M_finish.i.i, align 8
  %incdec.ptr.i.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %4, i64 1
  store ptr %incdec.ptr.i.i, ptr %_M_finish.i.i, align 8
  br label %sw.bb.i.i

if.else.i.i:                                      ; preds = %entry
  %pendingEvents_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7
  invoke void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE16_M_push_back_auxIJS2_EEEvDpOT_(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_, ptr noundef nonnull align 8 dereferenceable(36) %ref.tmp)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %if.else.i.i
  %.pre = load i32, ptr %type_.i, align 8
  switch i32 %.pre, label %_ZN4fizz6detail12PendingEventD2Ev.exit [
    i32 0, label %sw.bb.i.i
    i32 1, label %sw.bb2.i.i
    i32 3, label %sw.bb4.i.i
  ]

sw.bb.i.i:                                        ; preds = %invoke.cont.thread, %invoke.cont
  %5 = load ptr, ptr %data.i.i, align 8
  %cmp.not.i.i.i.i = icmp eq ptr %5, null
  br i1 %cmp.not.i.i.i.i, label %sw.epilog.sink.split.i.i, label %sw.epilog.sink.split.sink.split.i.i

sw.bb2.i.i:                                       ; preds = %invoke.cont
  %6 = load ptr, ptr %data.i.i, align 8
  %cmp.not.i.i2.i.i = icmp eq ptr %6, null
  br i1 %cmp.not.i.i2.i.i, label %sw.epilog.sink.split.i.i, label %sw.epilog.sink.split.sink.split.i.i

sw.bb4.i.i:                                       ; preds = %invoke.cont
  %7 = load ptr, ptr %ref.tmp, align 8
  %cmp.not.i.i4.i.i = icmp eq ptr %7, null
  br i1 %cmp.not.i.i4.i.i, label %sw.epilog.sink.split.i.i, label %sw.epilog.sink.split.sink.split.i.i

sw.epilog.sink.split.sink.split.i.i:              ; preds = %sw.bb4.i.i, %sw.bb2.i.i, %sw.bb.i.i
  %.sink6.i.i = phi ptr [ %5, %sw.bb.i.i ], [ %6, %sw.bb2.i.i ], [ %7, %sw.bb4.i.i ]
  %this.sink.ph.i.i = phi ptr [ %data.i.i, %sw.bb.i.i ], [ %data.i.i, %sw.bb2.i.i ], [ %ref.tmp, %sw.bb4.i.i ]
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %.sink6.i.i) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %.sink6.i.i) #28
  br label %sw.epilog.sink.split.i.i

sw.epilog.sink.split.i.i:                         ; preds = %sw.epilog.sink.split.sink.split.i.i, %sw.bb4.i.i, %sw.bb2.i.i, %sw.bb.i.i
  %this.sink.i.i = phi ptr [ %data.i.i, %sw.bb.i.i ], [ %data.i.i, %sw.bb2.i.i ], [ %ref.tmp, %sw.bb4.i.i ], [ %this.sink.ph.i.i, %sw.epilog.sink.split.sink.split.i.i ]
  store ptr null, ptr %this.sink.i.i, align 8
  br label %_ZN4fizz6detail12PendingEventD2Ev.exit

_ZN4fizz6detail12PendingEventD2Ev.exit:           ; preds = %invoke.cont, %sw.epilog.sink.split.i.i
  call void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E20processPendingEventsEv(ptr noundef nonnull align 8 dereferenceable(163) %this)
  ret void

lpad:                                             ; preds = %if.else.i.i
  %8 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN4fizz6detail12PendingEventD2Ev(ptr noundef nonnull align 8 dereferenceable(36) %ref.tmp) #28
  resume { ptr, i32 } %8
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE17handleEarlyRejectEv(ptr noalias sret(%"class.folly::Optional.455") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(2272) %this) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i31 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp.i = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp = alloca %"class.folly::AsyncSocketException", align 8
  %ref.tmp2 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp3 = alloca %"class.std::allocator", align 1
  %resend = alloca %"struct.fizz::AppWrite", align 8
  %agg.tmp = alloca %"struct.fizz::AppWrite", align 8
  %ref.tmp23 = alloca %"class.folly::AsyncSocketException", align 8
  %ref.tmp24 = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp25 = alloca %"class.std::allocator", align 1
  %earlyDataRejectionPolicy_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 11
  %0 = load i32, ptr %earlyDataRejectionPolicy_, align 8
  switch i32 %0, label %sw.epilog [
    i32 0, label %sw.bb
    i32 1, label %sw.bb6
  ]

sw.bb:                                            ; preds = %entry
  call void @_ZNSaIcEC1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp3) #28
  %call.i7 = invoke noundef ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_M_local_dataEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp2)
          to label %call.i.noexc unwind label %lpad

call.i.noexc:                                     ; preds = %sw.bb
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_Alloc_hiderC1EPcRKS3_(ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp2, ptr noundef %call.i7, ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp3)
          to label %.noexc unwind label %lpad

.noexc:                                           ; preds = %call.i.noexc
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tag(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp2, ptr noundef nonnull @.str.9, ptr noundef nonnull getelementptr inbounds ([25 x i8], ptr @.str.9, i64 0, i64 24))
          to label %invoke.cont unwind label %lpad.i

lpad.i:                                           ; preds = %.noexc
  %1 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSaIcED2Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp2) #28
  br label %ehcleanup

invoke.cont:                                      ; preds = %.noexc
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %ref.tmp.i)
  invoke void @_ZN5folly20AsyncSocketException10getMessageENS0_24AsyncSocketExceptionTypeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEi(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp.i, i32 noundef 16, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp2, i32 noundef 0)
          to label %.noexc9 unwind label %lpad4

.noexc9:                                          ; preds = %invoke.cont
  invoke void @_ZNSt13runtime_errorC2ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i)
          to label %invoke.cont5 unwind label %lpad.i8

lpad.i8:                                          ; preds = %.noexc9
  %2 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #28
  br label %lpad4.body

invoke.cont5:                                     ; preds = %.noexc9
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #28
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN5folly20AsyncSocketExceptionE, i64 0, inrange i32 0, i64 2), ptr %ref.tmp, align 8
  %type_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ref.tmp, i64 0, i32 1
  store i32 16, ptr %type_.i, align 8
  %errno_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ref.tmp, i64 0, i32 2
  store i32 0, ptr %errno_.i, align 4
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %ref.tmp.i)
  %hasValue.i.i = getelementptr inbounds %"struct.folly::Optional<folly::AsyncSocketException>::StorageNonTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i, align 8
  call void @_ZNSt13runtime_errorC2EOS_(ptr noundef nonnull align 8 dereferenceable(16) %agg.result, ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp) #28
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN5folly20AsyncSocketExceptionE, i64 0, inrange i32 0, i64 2), ptr %agg.result, align 8
  %type_.i.i.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %agg.result, i64 0, i32 1
  %3 = load i64, ptr %type_.i, align 8
  store i64 %3, ptr %type_.i.i.i, align 8
  store i8 1, ptr %hasValue.i.i, align 8
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp) #28
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp2) #28
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp3) #28
  br label %return

lpad:                                             ; preds = %call.i.noexc, %sw.bb
  %4 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad4:                                            ; preds = %invoke.cont
  %5 = landingpad { ptr, i32 }
          cleanup
  br label %lpad4.body

lpad4.body:                                       ; preds = %lpad.i8, %lpad4
  %eh.lpad-body10 = phi { ptr, i32 } [ %5, %lpad4 ], [ %2, %lpad.i8 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp2) #28
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad, %lpad.i, %lpad4.body
  %.pn4 = phi { ptr, i32 } [ %eh.lpad-body10, %lpad4.body ], [ %4, %lpad ], [ %1, %lpad.i ]
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp3) #28
  br label %eh.resume

sw.bb6:                                           ; preds = %entry
  %state_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 7
  %call7 = tail call noundef zeroext i1 @_ZN4fizz6client20earlyParametersMatchERKNS0_5StateE(ptr noundef nonnull align 8 dereferenceable(1096) %state_.i)
  br i1 %call7, label %if.then, label %if.else

if.then:                                          ; preds = %sw.bb6
  %hasValue.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 1
  %6 = load i8, ptr %hasValue.i.i.i, align 8
  %7 = and i8 %6, 1
  %tobool.not.i.i.i = icmp eq i8 %7, 0
  br i1 %tobool.not.i.i.i, label %if.then.i.i.i, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit

if.then.i.i.i:                                    ; preds = %if.then
  tail call void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() #32
  unreachable

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit: ; preds = %if.then
  %head_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 0, i32 0, i32 1, i32 2
  %8 = load ptr, ptr %head_.i, align 8
  %cmp.i.not.i = icmp eq ptr %8, null
  br i1 %cmp.i.not.i, label %sw.epilog, label %lor.rhs.i

lor.rhs.i:                                        ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit
  %call4.i = tail call noundef zeroext i1 @_ZNK5folly5IOBuf5emptyEv(ptr noundef nonnull align 8 dereferenceable(56) %8)
  br i1 %call4.i, label %_ZNK5folly10IOBufQueue5emptyEv.exit, label %if.then10

_ZNK5folly10IOBufQueue5emptyEv.exit:              ; preds = %lor.rhs.i
  %cachePtr_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 0, i32 0, i32 1, i32 4
  %9 = load ptr, ptr %cachePtr_.i, align 8
  %10 = load ptr, ptr %9, align 8
  %tailStart_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 0, i32 0, i32 1, i32 3
  %11 = load ptr, ptr %tailStart_.i, align 8
  %cmp.i = icmp eq ptr %10, %11
  br i1 %cmp.i, label %sw.epilog, label %if.then10

if.then10:                                        ; preds = %lor.rhs.i, %_ZNK5folly10IOBufQueue5emptyEv.exit
  %aeadOptions.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %resend, i64 0, i32 3
  store i32 0, ptr %aeadOptions.i, align 4
  %allocOpt.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %resend, i64 0, i32 3, i32 1
  store i32 0, ptr %allocOpt.i.i, align 8
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %resend, i8 0, i64 16, i1 false)
  %12 = load i8, ptr %hasValue.i.i.i, align 8
  %13 = and i8 %12, 1
  %tobool.not.i.i.i12 = icmp eq i8 %13, 0
  br i1 %tobool.not.i.i.i12, label %if.then.i.i.i13, label %invoke.cont14

if.then.i.i.i13:                                  ; preds = %if.then10
  invoke void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() #32
          to label %.noexc14 unwind label %lpad13

.noexc14:                                         ; preds = %if.then.i.i.i13
  unreachable

invoke.cont14:                                    ; preds = %if.then10
  %tailStart_.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 0, i32 0, i32 1, i32 3
  %14 = load ptr, ptr %tailStart_.i.i.i, align 8, !noalias !70
  %cachePtr_.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 0, i32 0, i32 1, i32 4
  %15 = load ptr, ptr %cachePtr_.i.i.i, align 8, !noalias !75
  %16 = load ptr, ptr %15, align 8, !noalias !70
  %cmp.not.i.i.i = icmp eq ptr %14, %16
  br i1 %cmp.not.i.i.i, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit, label %if.then.i.i.i16

if.then.i.i.i16:                                  ; preds = %invoke.cont14
  %17 = load ptr, ptr %head_.i, align 8, !noalias !70
  %prev_.i.i.i.i = getelementptr inbounds %"class.folly::IOBuf", ptr %17, i64 0, i32 5
  %18 = load ptr, ptr %prev_.i.i.i.i, align 8, !noalias !70
  %sub.ptr.lhs.cast.i.i.i = ptrtoint ptr %16 to i64
  %sub.ptr.rhs.cast.i.i.i = ptrtoint ptr %14 to i64
  %sub.ptr.sub.i.i.i = sub i64 %sub.ptr.lhs.cast.i.i.i, %sub.ptr.rhs.cast.i.i.i
  %19 = load i64, ptr %18, align 8, !noalias !70
  %add.i.i.i.i = add i64 %sub.ptr.sub.i.i.i, %19
  store i64 %add.i.i.i.i, ptr %18, align 8, !noalias !70
  %.pre.i = load ptr, ptr %cachePtr_.i.i.i, align 8, !noalias !75
  br label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit: ; preds = %invoke.cont14, %if.then.i.i.i16
  %20 = phi ptr [ %15, %invoke.cont14 ], [ %.pre.i, %if.then.i.i.i16 ]
  %21 = load i64, ptr %head_.i, align 8, !noalias !75
  %chainLength_.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 0, i32 0, i32 1, i32 1
  %reusableTail_5.i.i.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 0, i32 0, i32 1, i32 6
  store ptr null, ptr %reusableTail_5.i.i.i.i.i, align 8, !noalias !75
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %chainLength_.i, i8 0, i64 24, i1 false), !noalias !75
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %20, i8 0, i64 16, i1 false), !noalias !75
  %data = getelementptr inbounds %"struct.fizz::AppWrite", ptr %resend, i64 0, i32 1
  %fizzClient_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9
  store ptr null, ptr %agg.tmp, align 8
  %data.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %agg.tmp, i64 0, i32 1
  store i64 %21, ptr %data.i, align 8
  store ptr null, ptr %data, align 8
  %flags.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %agg.tmp, i64 0, i32 2
  %flags4.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %resend, i64 0, i32 2
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i, ptr noundef nonnull align 8 dereferenceable(12) %flags4.i, i64 12, i1 false)
  invoke void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E8appWriteENS_8AppWriteE(ptr noundef nonnull align 8 dereferenceable(163) %fizzClient_, ptr noundef nonnull %agg.tmp)
          to label %invoke.cont20 unwind label %lpad19

invoke.cont20:                                    ; preds = %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit
  %22 = load ptr, ptr %data.i, align 8
  %cmp.not.i.i = icmp eq ptr %22, null
  br i1 %cmp.not.i.i, label %sw.epilog, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i: ; preds = %invoke.cont20
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %22) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %22) #28
  br label %sw.epilog

lpad13:                                           ; preds = %if.then.i.i.i13
  %23 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup22

lpad19:                                           ; preds = %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit
  %24 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN4fizz8AppWriteD2Ev(ptr noundef nonnull align 8 dereferenceable(28) %agg.tmp) #28
  br label %ehcleanup22

ehcleanup22:                                      ; preds = %lpad19, %lpad13
  %.pn2 = phi { ptr, i32 } [ %24, %lpad19 ], [ %23, %lpad13 ]
  call void @_ZN4fizz8AppWriteD2Ev(ptr noundef nonnull align 8 dereferenceable(28) %resend) #28
  br label %eh.resume

if.else:                                          ; preds = %sw.bb6
  call void @_ZNSaIcEC1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp25) #28
  %call.i27 = invoke noundef ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_M_local_dataEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp24)
          to label %call.i.noexc26 unwind label %lpad26

call.i.noexc26:                                   ; preds = %if.else
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_Alloc_hiderC1EPcRKS3_(ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp24, ptr noundef %call.i27, ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp25)
          to label %.noexc28 unwind label %lpad26

.noexc28:                                         ; preds = %call.i.noexc26
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tag(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp24, ptr noundef nonnull @.str.10, ptr noundef nonnull getelementptr inbounds ([46 x i8], ptr @.str.10, i64 0, i64 45))
          to label %invoke.cont27 unwind label %lpad.i25

lpad.i25:                                         ; preds = %.noexc28
  %25 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSaIcED2Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp24) #28
  br label %ehcleanup31

invoke.cont27:                                    ; preds = %.noexc28
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %ref.tmp.i31)
  invoke void @_ZN5folly20AsyncSocketException10getMessageENS0_24AsyncSocketExceptionTypeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEi(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp.i31, i32 noundef 16, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp24, i32 noundef 0)
          to label %.noexc35 unwind label %lpad28

.noexc35:                                         ; preds = %invoke.cont27
  invoke void @_ZNSt13runtime_errorC2ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp23, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i31)
          to label %invoke.cont29 unwind label %lpad.i32

lpad.i32:                                         ; preds = %.noexc35
  %26 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i31) #28
  br label %lpad28.body

invoke.cont29:                                    ; preds = %.noexc35
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i31) #28
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN5folly20AsyncSocketExceptionE, i64 0, inrange i32 0, i64 2), ptr %ref.tmp23, align 8
  %type_.i33 = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ref.tmp23, i64 0, i32 1
  store i32 16, ptr %type_.i33, align 8
  %errno_.i34 = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ref.tmp23, i64 0, i32 2
  store i32 0, ptr %errno_.i34, align 4
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %ref.tmp.i31)
  %hasValue.i.i38 = getelementptr inbounds %"struct.folly::Optional<folly::AsyncSocketException>::StorageNonTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i38, align 8
  call void @_ZNSt13runtime_errorC2EOS_(ptr noundef nonnull align 8 dereferenceable(16) %agg.result, ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp23) #28
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN5folly20AsyncSocketExceptionE, i64 0, inrange i32 0, i64 2), ptr %agg.result, align 8
  %type_.i.i.i39 = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %agg.result, i64 0, i32 1
  %27 = load i64, ptr %type_.i33, align 8
  store i64 %27, ptr %type_.i.i.i39, align 8
  store i8 1, ptr %hasValue.i.i38, align 8
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp23) #28
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp24) #28
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp25) #28
  br label %return

lpad26:                                           ; preds = %call.i.noexc26, %if.else
  %28 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup31

lpad28:                                           ; preds = %invoke.cont27
  %29 = landingpad { ptr, i32 }
          cleanup
  br label %lpad28.body

lpad28.body:                                      ; preds = %lpad.i32, %lpad28
  %eh.lpad-body36 = phi { ptr, i32 } [ %29, %lpad28 ], [ %26, %lpad.i32 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp24) #28
  br label %ehcleanup31

ehcleanup31:                                      ; preds = %lpad26, %lpad.i25, %lpad28.body
  %.pn = phi { ptr, i32 } [ %eh.lpad-body36, %lpad28.body ], [ %28, %lpad26 ], [ %25, %lpad.i25 ]
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp25) #28
  br label %eh.resume

sw.epilog:                                        ; preds = %invoke.cont20, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i, %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEEptEv.exit, %_ZNK5folly10IOBufQueue5emptyEv.exit, %entry
  %hasValue.i.i41 = getelementptr inbounds %"struct.folly::Optional<folly::AsyncSocketException>::StorageNonTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i41, align 8
  br label %return

return:                                           ; preds = %sw.epilog, %invoke.cont29, %invoke.cont5
  ret void

eh.resume:                                        ; preds = %ehcleanup31, %ehcleanup22, %ehcleanup
  %.pn2.pn = phi { ptr, i32 } [ %.pn2, %ehcleanup22 ], [ %.pn, %ehcleanup31 ], [ %.pn4, %ehcleanup ]
  resume { ptr, i32 } %.pn2.pn
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE16deliverAllErrorsERKN5folly20AsyncSocketExceptionEb(ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr noundef nonnull align 8 dereferenceable(24) %ex, i1 noundef zeroext %closeTransport) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
invoke.cont:
  %agg.tmp.i.i = alloca %"class.folly::AsyncSocketException", align 8
  %dg = alloca %"class.folly::DelayedDestructionBase::DestructorGuard", align 8
  %agg.tmp = alloca %"class.folly::exception_wrapper", align 8
  %w20 = alloca %"struct.fizz::AppWrite", align 8
  store ptr %this, ptr %dg, align 8
  %guardCount_.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %this, i64 0, i32 1
  %0 = load i32, ptr %guardCount_.i, align 8
  %inc.i = add i32 %0, 1
  store i32 %inc.i, ptr %guardCount_.i, align 8
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %agg.tmp.i.i)
  call void @_ZNSt13runtime_errorC2ERKS_(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp.i.i, ptr noundef nonnull align 8 dereferenceable(16) %ex) #28
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN5folly20AsyncSocketExceptionE, i64 0, inrange i32 0, i64 2), ptr %agg.tmp.i.i, align 8
  %type_.i.i.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %agg.tmp.i.i, i64 0, i32 1
  %type_2.i.i.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ex, i64 0, i32 1
  %1 = load i64, ptr %type_2.i.i.i, align 8
  store i64 %1, ptr %type_.i.i.i, align 8
  %call.i.i.i = call ptr @__cxa_allocate_exception(i64 noundef 24) #28, !noalias !76
  %call1.i.i.i = call ptr @__cxa_init_primary_exception(ptr noundef %call.i.i.i, ptr noundef nonnull @_ZTIN5folly20AsyncSocketExceptionE, ptr noundef nonnull @_ZNSt15__exception_ptr12__dest_thunkIN5folly20AsyncSocketExceptionEEEvPv) #28, !noalias !76
  call void @_ZNSt13runtime_errorC2ERKS_(ptr noundef nonnull align 8 dereferenceable(16) %call.i.i.i, ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp.i.i) #28, !noalias !76
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN5folly20AsyncSocketExceptionE, i64 0, inrange i32 0, i64 2), ptr %call.i.i.i, align 8, !noalias !76
  %type_.i.i.i.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %call.i.i.i, i64 0, i32 1
  %2 = load i64, ptr %type_.i.i.i, align 8, !noalias !76
  store i64 %2, ptr %type_.i.i.i.i, align 8, !noalias !76
  call void @_ZNSt15__exception_ptr13exception_ptrC1EPv(ptr noundef nonnull align 8 dereferenceable(8) %agg.tmp, ptr noundef nonnull %call.i.i.i) #28
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp.i.i) #28
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %agg.tmp.i.i)
  invoke void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE21deliverHandshakeErrorEN5folly17exception_wrapperE(ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr noundef nonnull %agg.tmp)
          to label %invoke.cont3 unwind label %lpad2

invoke.cont3:                                     ; preds = %invoke.cont
  %3 = load ptr, ptr %agg.tmp, align 8
  %tobool.not.i.i = icmp eq ptr %3, null
  br i1 %tobool.not.i.i, label %_ZN5folly17exception_wrapperD2Ev.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %invoke.cont3
  call void @_ZNSt15__exception_ptr13exception_ptr10_M_releaseEv(ptr noundef nonnull align 8 dereferenceable(8) %agg.tmp) #28
  br label %_ZN5folly17exception_wrapperD2Ev.exit

_ZN5folly17exception_wrapperD2Ev.exit:            ; preds = %invoke.cont3, %if.then.i.i
  %replaySafetyCallback_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 12
  %4 = load ptr, ptr %replaySafetyCallback_, align 8
  %tobool.not = icmp eq ptr %4, null
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %_ZN5folly17exception_wrapperD2Ev.exit
  store ptr null, ptr %replaySafetyCallback_, align 8
  br label %if.end

lpad:                                             ; preds = %invoke.cont39, %while.end38
  %5 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad2:                                            ; preds = %invoke.cont
  %6 = landingpad { ptr, i32 }
          cleanup
  %7 = load ptr, ptr %agg.tmp, align 8
  %tobool.not.i.i7 = icmp eq ptr %7, null
  br i1 %tobool.not.i.i7, label %ehcleanup, label %if.then.i.i8

if.then.i.i8:                                     ; preds = %lpad2
  call void @_ZNSt15__exception_ptr13exception_ptr10_M_releaseEv(ptr noundef nonnull align 8 dereferenceable(8) %agg.tmp) #28
  br label %ehcleanup

if.end:                                           ; preds = %if.then, %_ZN5folly17exception_wrapperD2Ev.exit
  %_M_finish.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 14, i32 0, i32 0, i32 0, i32 3
  %_M_start.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 14, i32 0, i32 0, i32 0, i32 2
  %8 = load ptr, ptr %_M_finish.i, align 8
  %9 = load ptr, ptr %_M_start.i, align 8
  %cmp.i.i56 = icmp eq ptr %8, %9
  br i1 %cmp.i.i56, label %while.cond12.preheader, label %while.body.lr.ph

while.body.lr.ph:                                 ; preds = %if.end
  %_M_last.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 14, i32 0, i32 0, i32 0, i32 2, i32 2
  %_M_first.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 14, i32 0, i32 0, i32 0, i32 2, i32 1
  %_M_node.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 14, i32 0, i32 0, i32 0, i32 2, i32 3
  br label %while.body

while.cond12.preheader:                           ; preds = %_ZN4fizz8AppWriteD2Ev.exit, %if.end
  %hasValue.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 1
  %10 = load i8, ptr %hasValue.i.i, align 8
  %11 = and i8 %10, 1
  %tobool.i.i.not57 = icmp eq i8 %11, 0
  br i1 %tobool.i.i.not57, label %while.end38, label %invoke.cont15.lr.ph

invoke.cont15.lr.ph:                              ; preds = %while.cond12.preheader
  %_M_finish.i12 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 0, i32 0, i32 2, i32 0, i32 0, i32 0, i32 3
  %_M_start.i13 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 0, i32 0, i32 2, i32 0, i32 0, i32 0, i32 2
  %data.i21 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %w20, i64 0, i32 1
  %flags.i23 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %w20, i64 0, i32 2
  %_M_last.i31 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 0, i32 0, i32 2, i32 0, i32 0, i32 0, i32 2, i32 2
  %_M_first.i.i44 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 0, i32 0, i32 2, i32 0, i32 0, i32 0, i32 2, i32 1
  %_M_node.i.i45 = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 10, i32 0, i32 0, i32 0, i32 2, i32 0, i32 0, i32 0, i32 2, i32 3
  br label %invoke.cont15

while.body:                                       ; preds = %while.body.lr.ph, %_ZN4fizz8AppWriteD2Ev.exit
  %12 = phi ptr [ %9, %while.body.lr.ph ], [ %25, %_ZN4fizz8AppWriteD2Ev.exit ]
  %13 = load ptr, ptr %12, align 8
  %data3.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %12, i64 0, i32 1
  %14 = load i64, ptr %data3.i, align 8
  %15 = inttoptr i64 %14 to ptr
  store ptr null, ptr %data3.i, align 8
  %16 = load ptr, ptr %_M_start.i, align 8
  %17 = load ptr, ptr %_M_last.i, align 8
  %add.ptr.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %17, i64 -1
  %cmp.not.i = icmp eq ptr %16, %add.ptr.i
  %data.i.i.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %16, i64 0, i32 1
  %18 = load ptr, ptr %data.i.i.i.i.i, align 8
  %cmp.not.i.i.i.i.i.i = icmp eq ptr %18, null
  br i1 %cmp.not.i, label %if.else.i, label %if.then.i

if.then.i:                                        ; preds = %while.body
  br i1 %cmp.not.i.i.i.i.i.i, label %_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i: ; preds = %if.then.i
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %18) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %18) #28
  br label %_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i

_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i, %if.then.i
  store ptr null, ptr %data.i.i.i.i.i, align 8
  %19 = load ptr, ptr %_M_start.i, align 8
  %incdec.ptr.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %19, i64 1
  br label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit

if.else.i:                                        ; preds = %while.body
  br i1 %cmp.not.i.i.i.i.i.i, label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i: ; preds = %if.else.i
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %18) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %18) #28
  br label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i

_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i, %if.else.i
  store ptr null, ptr %data.i.i.i.i.i, align 8
  %20 = load ptr, ptr %_M_first.i.i, align 8
  call void @_ZdlPv(ptr noundef %20) #31
  %21 = load ptr, ptr %_M_node.i.i, align 8
  %add.ptr.i.i = getelementptr inbounds ptr, ptr %21, i64 1
  store ptr %add.ptr.i.i, ptr %_M_node.i.i, align 8
  %22 = load ptr, ptr %add.ptr.i.i, align 8
  store ptr %22, ptr %_M_first.i.i, align 8
  %add.ptr.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %22, i64 16
  store ptr %add.ptr.i.i.i, ptr %_M_last.i, align 8
  br label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit

_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit: ; preds = %_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i, %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i
  %storemerge.i = phi ptr [ %incdec.ptr.i, %_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i ], [ %22, %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i ]
  store ptr %storemerge.i, ptr %_M_start.i, align 8
  %tobool8.not = icmp eq ptr %13, null
  br i1 %tobool8.not, label %if.end11, label %if.then9

if.then9:                                         ; preds = %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit
  %vtable = load ptr, ptr %13, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 4
  %23 = load ptr, ptr %vfn, align 8
  call void %23(ptr noundef nonnull align 8 dereferenceable(8) %13, i64 noundef 0, ptr noundef nonnull align 8 dereferenceable(24) %ex) #28
  br label %if.end11

if.end11:                                         ; preds = %if.then9, %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit
  %cmp.not.i.i = icmp eq i64 %14, 0
  br i1 %cmp.not.i.i, label %_ZN4fizz8AppWriteD2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i: ; preds = %if.end11
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %15) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %15) #28
  br label %_ZN4fizz8AppWriteD2Ev.exit

_ZN4fizz8AppWriteD2Ev.exit:                       ; preds = %if.end11, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i
  %24 = load ptr, ptr %_M_finish.i, align 8
  %25 = load ptr, ptr %_M_start.i, align 8
  %cmp.i.i = icmp eq ptr %24, %25
  br i1 %cmp.i.i, label %while.cond12.preheader, label %while.body, !llvm.loop !79

invoke.cont15:                                    ; preds = %invoke.cont15.lr.ph, %_ZN4fizz8AppWriteD2Ev.exit52
  %26 = load ptr, ptr %_M_finish.i12, align 8
  %27 = load ptr, ptr %_M_start.i13, align 8
  %cmp.i.i14 = icmp eq ptr %26, %27
  br i1 %cmp.i.i14, label %while.end38, label %invoke.cont22

invoke.cont22:                                    ; preds = %invoke.cont15
  %28 = load ptr, ptr %27, align 8
  store ptr %28, ptr %w20, align 8
  %data3.i22 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %27, i64 0, i32 1
  %29 = load i64, ptr %data3.i22, align 8
  store i64 %29, ptr %data.i21, align 8
  store ptr null, ptr %data3.i22, align 8
  %flags4.i24 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %27, i64 0, i32 2
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i23, ptr noundef nonnull align 8 dereferenceable(12) %flags4.i24, i64 12, i1 false)
  %30 = load i8, ptr %hasValue.i.i, align 8
  %31 = and i8 %30, 1
  %tobool.not.i.i.i26 = icmp eq i8 %31, 0
  %32 = inttoptr i64 %29 to ptr
  br i1 %tobool.not.i.i.i26, label %if.then.i.i.i27, label %invoke.cont28

if.then.i.i.i27:                                  ; preds = %invoke.cont22
  invoke void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() #32
          to label %.noexc28 unwind label %lpad27

.noexc28:                                         ; preds = %if.then.i.i.i27
  unreachable

invoke.cont28:                                    ; preds = %invoke.cont22
  %33 = load ptr, ptr %_M_start.i13, align 8
  %34 = load ptr, ptr %_M_last.i31, align 8
  %add.ptr.i32 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %34, i64 -1
  %cmp.not.i33 = icmp eq ptr %33, %add.ptr.i32
  %data.i.i.i.i.i34 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %33, i64 0, i32 1
  %35 = load ptr, ptr %data.i.i.i.i.i34, align 8
  %cmp.not.i.i.i.i.i.i35 = icmp eq ptr %35, null
  br i1 %cmp.not.i33, label %if.else.i41, label %if.then.i36

if.then.i36:                                      ; preds = %invoke.cont28
  br i1 %cmp.not.i.i.i.i.i.i35, label %_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i38, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i37

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i37: ; preds = %if.then.i36
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %35) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %35) #28
  br label %_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i38

_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i38: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i37, %if.then.i36
  store ptr null, ptr %data.i.i.i.i.i34, align 8
  %36 = load ptr, ptr %_M_start.i13, align 8
  %incdec.ptr.i39 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %36, i64 1
  br label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit48

if.else.i41:                                      ; preds = %invoke.cont28
  br i1 %cmp.not.i.i.i.i.i.i35, label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i43, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i42

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i42: ; preds = %if.else.i41
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %35) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %35) #28
  br label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i43

_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i43: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i42, %if.else.i41
  store ptr null, ptr %data.i.i.i.i.i34, align 8
  %37 = load ptr, ptr %_M_first.i.i44, align 8
  call void @_ZdlPv(ptr noundef %37) #31
  %38 = load ptr, ptr %_M_node.i.i45, align 8
  %add.ptr.i.i46 = getelementptr inbounds ptr, ptr %38, i64 1
  store ptr %add.ptr.i.i46, ptr %_M_node.i.i45, align 8
  %39 = load ptr, ptr %add.ptr.i.i46, align 8
  store ptr %39, ptr %_M_first.i.i44, align 8
  %add.ptr.i.i.i47 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %39, i64 16
  store ptr %add.ptr.i.i.i47, ptr %_M_last.i31, align 8
  br label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit48

_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit48: ; preds = %_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i38, %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i43
  %storemerge.i40 = phi ptr [ %incdec.ptr.i39, %_ZNSt16allocator_traitsISaIN4fizz8AppWriteEEE7destroyIS1_EEvRS2_PT_.exit.i38 ], [ %39, %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_pop_front_auxEv.exit.i43 ]
  store ptr %storemerge.i40, ptr %_M_start.i13, align 8
  %tobool32.not = icmp eq ptr %28, null
  br i1 %tobool32.not, label %if.end37, label %if.then33

if.then33:                                        ; preds = %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit48
  %vtable35 = load ptr, ptr %28, align 8
  %vfn36 = getelementptr inbounds ptr, ptr %vtable35, i64 4
  %40 = load ptr, ptr %vfn36, align 8
  call void %40(ptr noundef nonnull align 8 dereferenceable(8) %28, i64 noundef 0, ptr noundef nonnull align 8 dereferenceable(24) %ex) #28
  br label %if.end37

lpad27:                                           ; preds = %if.then.i.i.i27
  %41 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN4fizz8AppWriteD2Ev(ptr noundef nonnull align 8 dereferenceable(28) %w20) #28
  br label %ehcleanup

if.end37:                                         ; preds = %if.then33, %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE9pop_frontEv.exit48
  %cmp.not.i.i50 = icmp eq i64 %29, 0
  br i1 %cmp.not.i.i50, label %_ZN4fizz8AppWriteD2Ev.exit52, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i51

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i51: ; preds = %if.end37
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %32) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %32) #28
  br label %_ZN4fizz8AppWriteD2Ev.exit52

_ZN4fizz8AppWriteD2Ev.exit52:                     ; preds = %if.end37, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i51
  store ptr null, ptr %data.i21, align 8
  %42 = load i8, ptr %hasValue.i.i, align 8
  %43 = and i8 %42, 1
  %tobool.i.i.not = icmp eq i8 %43, 0
  br i1 %tobool.i.i.not, label %while.end38, label %invoke.cont15, !llvm.loop !80

while.end38:                                      ; preds = %invoke.cont15, %_ZN4fizz8AppWriteD2Ev.exit52, %while.cond12.preheader
  %fizzClient_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 9
  invoke void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E16moveToErrorStateERKN5folly20AsyncSocketExceptionE(ptr noundef nonnull align 8 dereferenceable(163) %fizzClient_, ptr noundef nonnull align 8 dereferenceable(24) %ex)
          to label %invoke.cont39 unwind label %lpad

invoke.cont39:                                    ; preds = %while.end38
  %vtable41 = load ptr, ptr %this, align 8
  %vfn42 = getelementptr inbounds ptr, ptr %vtable41, i64 63
  %44 = load ptr, ptr %vfn42, align 8
  invoke void %44(ptr noundef nonnull align 8 dereferenceable(576) %this, ptr noundef nonnull align 8 dereferenceable(24) %ex, i1 noundef zeroext %closeTransport)
          to label %if.then.i54 unwind label %lpad

if.then.i54:                                      ; preds = %invoke.cont39
  %45 = load i32, ptr %guardCount_.i, align 8
  %dec.i = add i32 %45, -1
  store i32 %dec.i, ptr %guardCount_.i, align 8
  %cmp5.i = icmp eq i32 %dec.i, 0
  br i1 %cmp5.i, label %if.then6.i, label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit

if.then6.i:                                       ; preds = %if.then.i54
  %vtable.i = load ptr, ptr %this, align 8
  %vfn.i = getelementptr inbounds ptr, ptr %vtable.i, i64 2
  %46 = load ptr, ptr %vfn.i, align 8
  invoke void %46(ptr noundef nonnull align 8 dereferenceable(12) %this, i1 noundef zeroext true)
          to label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit unwind label %terminate.lpad.i

terminate.lpad.i:                                 ; preds = %if.then6.i
  %47 = landingpad { ptr, i32 }
          catch ptr null
  %48 = extractvalue { ptr, i32 } %47, 0
  call void @__clang_call_terminate(ptr %48) #30
  unreachable

_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit: ; preds = %if.then.i54, %if.then6.i
  ret void

ehcleanup:                                        ; preds = %if.then.i.i8, %lpad2, %lpad27, %lpad
  %.pn = phi { ptr, i32 } [ %41, %lpad27 ], [ %5, %lpad ], [ %6, %lpad2 ], [ %6, %if.then.i.i8 ]
  call void @_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev(ptr noundef nonnull align 8 dereferenceable(8) %dg) #28
  resume { ptr, i32 } %.pn
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E20processPendingEventsEv(ptr noundef nonnull align 8 dereferenceable(163) %this) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i.i.i.i.i526 = alloca %struct.Initializer, align 1
  %ref.tmp.i.i.i.i.i507 = alloca %struct.Initializer, align 1
  %ref.tmp.i.i.i.i.i488 = alloca %struct.Initializer, align 1
  %ref.tmp.i.i.i.i.i469 = alloca %struct.Initializer, align 1
  %ref.tmp.i.i.i.i.i450 = alloca %struct.Initializer, align 1
  %ref.tmp.i.i.i.i.i431 = alloca %struct.Initializer, align 1
  %ref.tmp.i.i.i.i.i412 = alloca %struct.Initializer, align 1
  %ref.tmp.i.i.i.i.i393 = alloca %struct.Initializer, align 1
  %ref.tmp.i.i.i.i.i374 = alloca %struct.Initializer, align 1
  %ref.tmp.i.i.i.i.i355 = alloca %struct.Initializer, align 1
  %ref.tmp.i.i.i.i.i336 = alloca %struct.Initializer, align 1
  %ref.tmp.i.i.i.i.i317 = alloca %struct.Initializer, align 1
  %ref.tmp.i.i.i.i.i298 = alloca %struct.Initializer, align 1
  %ref.tmp.i.i.i.i.i279 = alloca %struct.Initializer, align 1
  %ref.tmp.i.i.i.i.i = alloca %struct.Initializer, align 1
  %dg = alloca %"class.folly::DelayedDestructionBase::DestructorGuard", align 8
  %actions = alloca %"class.folly::Optional.494", align 16
  %ref.tmp17 = alloca %"class.folly::small_vector.437", align 16
  %event = alloca %"struct.fizz::detail::PendingEvent", align 8
  %ref.tmp31 = alloca %"class.folly::small_vector.437", align 16
  %agg.tmp34 = alloca %"struct.fizz::WriteNewSessionTicket", align 8
  %ref.tmp43 = alloca %"class.folly::small_vector.437", align 16
  %agg.tmp46 = alloca %"struct.fizz::AppWrite", align 8
  %ref.tmp57 = alloca %"class.folly::small_vector.437", align 16
  %agg.tmp60 = alloca %"struct.fizz::EarlyAppWrite", align 8
  %ref.tmp74 = alloca %"class.folly::small_vector.437", align 16
  %ref.tmp83 = alloca %"class.folly::small_vector.437", align 16
  %agg.tmp97 = alloca %"class.folly::small_vector.437", align 16
  %inProcessPendingEvents_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 11
  %0 = load i8, ptr %inProcessPendingEvents_, align 8
  %1 = and i8 %0, 1
  %tobool.not = icmp eq i8 %1, 0
  br i1 %tobool.not, label %if.end, label %cleanup.cont109

if.end:                                           ; preds = %entry
  %owner_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 6
  %2 = load ptr, ptr %owner_, align 8
  store ptr %2, ptr %dg, align 8
  %cmp.not.i = icmp eq ptr %2, null
  br i1 %cmp.not.i, label %_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit, label %if.then.i

if.then.i:                                        ; preds = %if.end
  %guardCount_.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %2, i64 0, i32 1
  %3 = load i32, ptr %guardCount_.i, align 8
  %inc.i = add i32 %3, 1
  store i32 %inc.i, ptr %guardCount_.i, align 8
  br label %_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit

_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit: ; preds = %if.end, %if.then.i
  store i8 1, ptr %inProcessPendingEvents_, align 8
  %actionGuard_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 10
  %hasValue.i.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 10, i32 0, i32 1
  %4 = load i8, ptr %hasValue.i.i, align 8
  %5 = and i8 %4, 1
  %tobool.i.i.not601 = icmp eq i8 %5, 0
  br i1 %tobool.i.i.not601, label %land.lhs.true.lr.ph, label %_ZN5folly6detail14ScopeGuardImplIZN4fizz8FizzBaseINS2_6client10FizzClientINS4_16AsyncFizzClientTINS4_18ClientStateMachineEE17ActionMoveVisitorES7_EES9_S7_E20processPendingEventsEvEUlvE_Lb1EED2Ev.exit

land.lhs.true.lr.ph:                              ; preds = %_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit
  %state_.i.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 2
  %externalError_.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 12
  %paused_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 13
  %hasValue.i.i11 = getelementptr inbounds %"struct.folly::Optional<folly::small_vector<fizz::client::Action, 4>>::StorageNonTriviallyDestructible", ptr %actions, i64 0, i32 1
  %waitForData_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 8
  %pendingEvents_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7
  %_M_finish.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7, i32 0, i32 0, i32 0, i32 3
  %_M_start.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7, i32 0, i32 0, i32 0, i32 2
  %data.i6.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %event, i64 0, i32 1
  %flags.i8.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %event, i64 0, i32 2
  %type_6.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %event, i64 0, i32 1
  %machine_84 = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 1
  %u.i.i.i.i.i.i169 = getelementptr inbounds %"class.folly::small_vector.437", ptr %actions, i64 0, i32 2
  %capacity_.i.i.i456 = getelementptr inbounds %"class.folly::small_vector.437", ptr %actions, i64 0, i32 2, i32 0, i32 1
  %u.i.i.i183 = getelementptr inbounds %"class.folly::small_vector.437", ptr %ref.tmp83, i64 0, i32 2
  %capacity_.i.i.i475 = getelementptr inbounds %"class.folly::small_vector.437", ptr %ref.tmp83, i64 0, i32 2, i32 0, i32 1
  %u.i.i.i153 = getelementptr inbounds %"class.folly::small_vector.437", ptr %ref.tmp74, i64 0, i32 2
  %capacity_.i.i.i437 = getelementptr inbounds %"class.folly::small_vector.437", ptr %ref.tmp74, i64 0, i32 2, i32 0, i32 1
  %data.i96 = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %agg.tmp60, i64 0, i32 1
  %flags.i98 = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %agg.tmp60, i64 0, i32 2
  %u.i.i.i117 = getelementptr inbounds %"class.folly::small_vector.437", ptr %ref.tmp57, i64 0, i32 2
  %capacity_.i.i.i399 = getelementptr inbounds %"class.folly::small_vector.437", ptr %ref.tmp57, i64 0, i32 2, i32 0, i32 1
  %data.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %agg.tmp46, i64 0, i32 1
  %flags.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %agg.tmp46, i64 0, i32 2
  %u.i.i.i77 = getelementptr inbounds %"class.folly::small_vector.437", ptr %ref.tmp43, i64 0, i32 2
  %capacity_.i.i.i361 = getelementptr inbounds %"class.folly::small_vector.437", ptr %ref.tmp43, i64 0, i32 2, i32 0, i32 1
  %u.i.i.i44 = getelementptr inbounds %"class.folly::small_vector.437", ptr %ref.tmp31, i64 0, i32 2
  %capacity_.i.i.i323 = getelementptr inbounds %"class.folly::small_vector.437", ptr %ref.tmp31, i64 0, i32 2, i32 0, i32 1
  %transportReadBuf_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 3
  %readAeadOptions_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 4
  %u.i.i.i = getelementptr inbounds %"class.folly::small_vector.437", ptr %ref.tmp17, i64 0, i32 2
  %capacity_.i.i.i285 = getelementptr inbounds %"class.folly::small_vector.437", ptr %ref.tmp17, i64 0, i32 2, i32 0, i32 1
  %u.i.i.i228 = getelementptr inbounds %"class.folly::small_vector.437", ptr %agg.tmp97, i64 0, i32 2
  %capacity_.i.i.i513 = getelementptr inbounds %"class.folly::small_vector.437", ptr %agg.tmp97, i64 0, i32 2, i32 0, i32 1
  br label %land.lhs.true

land.lhs.true:                                    ; preds = %land.lhs.true.lr.ph, %_ZN5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEED2Ev.exit256
  %6 = phi i8 [ %4, %land.lhs.true.lr.ph ], [ %225, %_ZN5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEED2Ev.exit256 ]
  %7 = load ptr, ptr %state_.i.i, align 8
  %8 = load i32, ptr %7, align 8
  %cmp.i.i = icmp eq i32 %8, 9
  br i1 %cmp.i.i, label %_ZN5folly6detail14ScopeGuardImplIZN4fizz8FizzBaseINS2_6client10FizzClientINS4_16AsyncFizzClientTINS4_18ClientStateMachineEE17ActionMoveVisitorES7_EES9_S7_E20processPendingEventsEvEUlvE_Lb1EED2Ev.exit, label %invoke.cont4

invoke.cont4:                                     ; preds = %land.lhs.true
  %9 = load i8, ptr %externalError_.i, align 1
  %10 = and i8 %9, 1
  %tobool.not.i = icmp ne i8 %10, 0
  %cmp.i = icmp eq i32 %8, 8
  %spec.select.i = or i1 %cmp.i, %tobool.not.i
  br i1 %spec.select.i, label %_ZN5folly6detail14ScopeGuardImplIZN4fizz8FizzBaseINS2_6client10FizzClientINS4_16AsyncFizzClientTINS4_18ClientStateMachineEE17ActionMoveVisitorES7_EES9_S7_E20processPendingEventsEvEUlvE_Lb1EED2Ev.exit, label %land.rhs

land.rhs:                                         ; preds = %invoke.cont4
  %11 = load i8, ptr %paused_, align 2
  %12 = and i8 %11, 1
  %tobool6.not = icmp eq i8 %12, 0
  br i1 %tobool6.not, label %while.body, label %_ZN5folly6detail14ScopeGuardImplIZN4fizz8FizzBaseINS2_6client10FizzClientINS4_16AsyncFizzClientTINS4_18ClientStateMachineEE17ActionMoveVisitorES7_EES9_S7_E20processPendingEventsEvEUlvE_Lb1EED2Ev.exit

while.body:                                       ; preds = %land.rhs
  store i8 0, ptr %hasValue.i.i11, align 16
  %13 = load ptr, ptr %owner_, align 8
  %cmp.not.i12 = icmp eq ptr %13, null
  br i1 %cmp.not.i12, label %_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit16, label %if.then.i13

if.then.i13:                                      ; preds = %while.body
  %guardCount_.i14 = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %13, i64 0, i32 1
  %14 = load i32, ptr %guardCount_.i14, align 8
  %inc.i15 = add i32 %14, 1
  store i32 %inc.i15, ptr %guardCount_.i14, align 8
  %.pre = load i8, ptr %hasValue.i.i, align 8
  br label %_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit16

_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit16: ; preds = %while.body, %if.then.i13
  %15 = phi i8 [ %6, %while.body ], [ %.pre, %if.then.i13 ]
  %16 = and i8 %15, 1
  %tobool.i.i.not.i.i = icmp eq i8 %16, 0
  br i1 %tobool.i.i.not.i.i, label %if.else.i.i, label %if.then.i.i

if.then.i.i:                                      ; preds = %_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit16
  %17 = load ptr, ptr %actionGuard_, align 8
  store ptr %13, ptr %actionGuard_, align 8
  %cmp.not.i.i.i = icmp eq ptr %17, null
  br i1 %cmp.not.i.i.i, label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %if.then.i.i
  %guardCount_.i.i.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %17, i64 0, i32 1
  %18 = load i32, ptr %guardCount_.i.i.i, align 8
  %dec.i.i.i = add i32 %18, -1
  store i32 %dec.i.i.i, ptr %guardCount_.i.i.i, align 8
  %cmp5.i.i.i = icmp eq i32 %dec.i.i.i, 0
  br i1 %cmp5.i.i.i, label %if.then6.i.i.i, label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit

if.then6.i.i.i:                                   ; preds = %if.then.i.i.i
  %vtable.i.i.i = load ptr, ptr %17, align 8
  %vfn.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i, i64 2
  %19 = load ptr, ptr %vfn.i.i.i, align 8
  invoke void %19(ptr noundef nonnull align 8 dereferenceable(12) %17, i1 noundef zeroext true)
          to label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit unwind label %terminate.lpad.i.i.i

terminate.lpad.i.i.i:                             ; preds = %if.then6.i.i.i
  %20 = landingpad { ptr, i32 }
          catch ptr null
  %21 = extractvalue { ptr, i32 } %20, 0
  call void @__clang_call_terminate(ptr %21) #30
  unreachable

if.else.i.i:                                      ; preds = %_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit16
  store ptr %13, ptr %actionGuard_, align 8
  store i8 1, ptr %hasValue.i.i, align 8
  br label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit

_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit: ; preds = %if.then.i.i.i, %if.then6.i.i.i, %if.then.i.i, %if.else.i.i
  %22 = load i8, ptr %waitForData_, align 8
  %23 = and i8 %22, 1
  %tobool15.not = icmp eq i8 %23, 0
  br i1 %tobool15.not, label %if.then16, label %if.else

if.then16:                                        ; preds = %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit
  %24 = load ptr, ptr %state_.i.i, align 8
  %25 = load ptr, ptr %transportReadBuf_, align 8
  %26 = load ptr, ptr %readAeadOptions_, align 8
  %agg.tmp.sroa.0.0.copyload = load i64, ptr %26, align 4
  invoke void @_ZN4fizz6client18ClientStateMachine17processSocketDataERKNS0_5StateERN5folly10IOBufQueueENS_4Aead11AeadOptionsE(ptr nonnull sret(%"class.folly::small_vector.437") align 16 %ref.tmp17, ptr noundef nonnull align 8 dereferenceable(8) %machine_84, ptr noundef nonnull align 8 dereferenceable(1096) %24, ptr noundef nonnull align 8 dereferenceable(72) %25, i64 %agg.tmp.sroa.0.0.copyload)
          to label %invoke.cont18 unwind label %lpad9.loopexit

invoke.cont18:                                    ; preds = %if.then16
  %27 = load i8, ptr %hasValue.i.i11, align 16
  %28 = and i8 %27, 1
  %tobool.not.i.i.i = icmp eq i8 %28, 0
  br i1 %tobool.not.i.i.i, label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i, label %if.then.i.i.i20

if.then.i.i.i20:                                  ; preds = %invoke.cont18
  store i8 0, ptr %hasValue.i.i11, align 16
  %29 = load i64, ptr %actions, align 16
  %30 = load ptr, ptr %u.i.i.i.i.i.i169, align 16
  %tobool.not1.i.i.i.i.i.i = icmp slt i64 %29, 0
  %cond.i.i.i.i.i.i = select i1 %tobool.not1.i.i.i.i.i.i, ptr %30, ptr %u.i.i.i.i.i.i169
  %and.i.i.i.i.i.i.i = and i64 %29, 4611686018427387903
  %add.ptr.i.i.i.i.i = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i.i.i.i, i64 %and.i.i.i.i.i.i.i
  %cmp.not7.i.i.i.i = icmp eq i64 %and.i.i.i.i.i.i.i, 0
  br i1 %cmp.not7.i.i.i.i, label %for.end.i.i.i.i, label %for.body.i.i.i.i

for.body.i.i.i.i:                                 ; preds = %if.then.i.i.i20, %for.body.i.i.i.i
  %__begin0.08.i.i.i.i = phi ptr [ %incdec.ptr.i.i.i.i, %for.body.i.i.i.i ], [ %cond.i.i.i.i.i.i, %if.then.i.i.i20 ]
  call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08.i.i.i.i)
  %incdec.ptr.i.i.i.i = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08.i.i.i.i, i64 1
  %cmp.not.i.i.i.i = icmp eq ptr %incdec.ptr.i.i.i.i, %add.ptr.i.i.i.i.i
  br i1 %cmp.not.i.i.i.i, label %for.end.i.i.i.i.loopexit, label %for.body.i.i.i.i

for.end.i.i.i.i.loopexit:                         ; preds = %for.body.i.i.i.i
  %.pre613 = load i64, ptr %actions, align 16
  br label %for.end.i.i.i.i

for.end.i.i.i.i:                                  ; preds = %for.end.i.i.i.i.loopexit, %if.then.i.i.i20
  %31 = phi i64 [ %.pre613, %for.end.i.i.i.i.loopexit ], [ %29, %if.then.i.i.i20 ]
  %tobool.not.i275 = icmp sgt i64 %31, -1
  br i1 %tobool.not.i275, label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i, label %lor.lhs.false.i276

lor.lhs.false.i276:                               ; preds = %for.end.i.i.i.i
  %32 = load ptr, ptr %u.i.i.i.i.i.i169, align 16
  %tobool2.not.i = icmp eq ptr %32, null
  br i1 %tobool2.not.i, label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i, label %if.then4.i

if.then4.i:                                       ; preds = %lor.lhs.false.i276
  %33 = load i64, ptr %capacity_.i.i.i456, align 8
  %mul.i = mul i64 %33, 208
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i)
  %34 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i.i = icmp eq i8 %34, 0
  br i1 %guard.uninitialized.i.i.i.i.i, label %init.check.i.i.i.i.i, label %_ZN5folly11canSdallocxEv.exit.i.i, !prof !81

init.check.i.i.i.i.i:                             ; preds = %if.then4.i
  %35 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i.i = icmp eq i32 %35, 0
  br i1 %tobool.i.not.i.i.i.i, label %_ZN5folly11canSdallocxEv.exit.i.i, label %init.i.i.i.i.i

init.i.i.i.i.i:                                   ; preds = %init.check.i.i.i.i.i
  %call.i.i.i.i.i = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i.i)
  %frombool.i.i.i.i.i = zext i1 %call.i.i.i.i.i to i8
  store i8 %frombool.i.i.i.i.i, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i.i

_ZN5folly11canSdallocxEv.exit.i.i:                ; preds = %init.i.i.i.i.i, %init.check.i.i.i.i.i, %if.then4.i
  %36 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %37 = and i8 %36, 1
  %tobool1.i.i.i.not.i.i = icmp eq i8 %37, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i)
  br i1 %tobool1.i.i.i.not.i.i, label %if.else.i.i278, label %if.then.i.i277

if.then.i.i277:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i
  call void @sdallocx(ptr noundef nonnull %32, i64 noundef %mul.i, i32 noundef 0) #28
  br label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i

if.else.i.i278:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i
  call void @free(ptr noundef nonnull %32) #28
  br label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i

_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i: ; preds = %if.else.i.i278, %if.then.i.i277, %lor.lhs.false.i276, %for.end.i.i.i.i, %invoke.cont18
  invoke void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvEC2EOS4_(ptr noundef nonnull align 16 dereferenceable(848) %actions, ptr noundef nonnull align 16 dereferenceable(848) %ref.tmp17)
          to label %invoke.cont20 unwind label %lpad19

invoke.cont20:                                    ; preds = %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i
  store i8 1, ptr %hasValue.i.i11, align 16
  %38 = load i64, ptr %ref.tmp17, align 16
  %39 = load ptr, ptr %u.i.i.i, align 16
  %tobool.not1.i.i.i = icmp slt i64 %38, 0
  %cond.i.i.i = select i1 %tobool.not1.i.i.i, ptr %39, ptr %u.i.i.i
  %and.i.i.i.i = and i64 %38, 4611686018427387903
  %add.ptr.i.i = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i, i64 %and.i.i.i.i
  %cmp.not7.i = icmp eq i64 %and.i.i.i.i, 0
  br i1 %cmp.not7.i, label %for.end.i, label %for.body.i

for.body.i:                                       ; preds = %invoke.cont20, %for.body.i
  %__begin0.08.i = phi ptr [ %incdec.ptr.i, %for.body.i ], [ %cond.i.i.i, %invoke.cont20 ]
  call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08.i)
  %incdec.ptr.i = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08.i, i64 1
  %cmp.not.i21 = icmp eq ptr %incdec.ptr.i, %add.ptr.i.i
  br i1 %cmp.not.i21, label %for.end.i.loopexit, label %for.body.i

for.end.i.loopexit:                               ; preds = %for.body.i
  %.pre614 = load i64, ptr %ref.tmp17, align 16
  br label %for.end.i

for.end.i:                                        ; preds = %for.end.i.loopexit, %invoke.cont20
  %40 = phi i64 [ %.pre614, %for.end.i.loopexit ], [ %38, %invoke.cont20 ]
  %tobool.not.i280 = icmp sgt i64 %40, -1
  br i1 %tobool.not.i280, label %if.end96, label %lor.lhs.false.i281

lor.lhs.false.i281:                               ; preds = %for.end.i
  %41 = load ptr, ptr %u.i.i.i, align 16
  %tobool2.not.i283 = icmp eq ptr %41, null
  br i1 %tobool2.not.i283, label %if.end96, label %if.then4.i284

if.then4.i284:                                    ; preds = %lor.lhs.false.i281
  %42 = load i64, ptr %capacity_.i.i.i285, align 8
  %mul.i286 = mul i64 %42, 208
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i279)
  %43 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i.i287 = icmp eq i8 %43, 0
  br i1 %guard.uninitialized.i.i.i.i.i287, label %init.check.i.i.i.i.i292, label %_ZN5folly11canSdallocxEv.exit.i.i288, !prof !81

init.check.i.i.i.i.i292:                          ; preds = %if.then4.i284
  %44 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i.i293 = icmp eq i32 %44, 0
  br i1 %tobool.i.not.i.i.i.i293, label %_ZN5folly11canSdallocxEv.exit.i.i288, label %init.i.i.i.i.i294

init.i.i.i.i.i294:                                ; preds = %init.check.i.i.i.i.i292
  %call.i.i.i.i.i295 = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i.i279)
  %frombool.i.i.i.i.i296 = zext i1 %call.i.i.i.i.i295 to i8
  store i8 %frombool.i.i.i.i.i296, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i.i288

_ZN5folly11canSdallocxEv.exit.i.i288:             ; preds = %init.i.i.i.i.i294, %init.check.i.i.i.i.i292, %if.then4.i284
  %45 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %46 = and i8 %45, 1
  %tobool1.i.i.i.not.i.i289 = icmp eq i8 %46, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i279)
  br i1 %tobool1.i.i.i.not.i.i289, label %if.else.i.i291, label %if.then.i.i290

if.then.i.i290:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i288
  call void @sdallocx(ptr noundef nonnull %41, i64 noundef %mul.i286, i32 noundef 0) #28
  br label %if.end96

if.else.i.i291:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i288
  call void @free(ptr noundef nonnull %41) #28
  br label %if.end96

lpad9.loopexit:                                   ; preds = %if.then16, %invoke.cont98
  %lpad.loopexit = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup104

lpad9.loopexit.split-lp:                          ; preds = %if.then.i.i.i226
  %lpad.loopexit.split-lp = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup104

lpad19:                                           ; preds = %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i
  %47 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev(ptr noundef nonnull align 16 dereferenceable(848) %ref.tmp17) #28
  br label %ehcleanup104

if.else:                                          ; preds = %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit
  %48 = load ptr, ptr %_M_finish.i, align 8
  %49 = load ptr, ptr %_M_start.i, align 8
  %cmp.i.i23 = icmp eq ptr %48, %49
  br i1 %cmp.i.i23, label %if.else93, label %if.then23

if.then23:                                        ; preds = %if.else
  %type_.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %49, i64 0, i32 1
  %50 = load i32, ptr %type_.i, align 8
  switch i32 %50, label %_ZN4fizz6detail12PendingEventC2EOS1_.exit [
    i32 0, label %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread617
    i32 1, label %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread618
    i32 2, label %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread619
    i32 3, label %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread
  ]

_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread617: ; preds = %if.then23
  %51 = load ptr, ptr %49, align 8
  store ptr %51, ptr %event, align 8
  %data3.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %49, i64 0, i32 1
  %52 = load i64, ptr %data3.i.i, align 8
  store i64 %52, ptr %data.i6.i, align 8
  store ptr null, ptr %data3.i.i, align 8
  %flags4.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %49, i64 0, i32 2
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i8.i, ptr noundef nonnull align 8 dereferenceable(12) %flags4.i.i, i64 12, i1 false)
  store i32 %50, ptr %type_6.i, align 8
  call void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE9pop_frontEv(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_) #28
  %53 = load ptr, ptr %state_.i.i, align 8
  %54 = load ptr, ptr %event, align 8
  store ptr %54, ptr %agg.tmp46, align 8
  %55 = load i64, ptr %data.i6.i, align 8
  store i64 %55, ptr %data.i, align 8
  store ptr null, ptr %data.i6.i, align 8
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i, ptr noundef nonnull align 8 dereferenceable(12) %flags.i8.i, i64 12, i1 false)
  invoke void @_ZN4fizz6client18ClientStateMachine15processAppWriteERKNS0_5StateENS_8AppWriteE(ptr nonnull sret(%"class.folly::small_vector.437") align 16 %ref.tmp43, ptr noundef nonnull align 8 dereferenceable(8) %machine_84, ptr noundef nonnull align 8 dereferenceable(1096) %53, ptr noundef nonnull %agg.tmp46)
          to label %invoke.cont50 unwind label %lpad49

_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread618: ; preds = %if.then23
  %56 = load ptr, ptr %49, align 8
  store ptr %56, ptr %event, align 8
  %data3.i7.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %49, i64 0, i32 1
  %57 = load i64, ptr %data3.i7.i, align 8
  store i64 %57, ptr %data.i6.i, align 8
  store ptr null, ptr %data3.i7.i, align 8
  %flags4.i9.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %49, i64 0, i32 2
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i8.i, ptr noundef nonnull align 8 dereferenceable(12) %flags4.i9.i, i64 12, i1 false)
  store i32 %50, ptr %type_6.i, align 8
  call void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE9pop_frontEv(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_) #28
  %58 = load ptr, ptr %state_.i.i, align 8
  %59 = load ptr, ptr %event, align 8
  store ptr %59, ptr %agg.tmp60, align 8
  %60 = load i64, ptr %data.i6.i, align 8
  store i64 %60, ptr %data.i96, align 8
  store ptr null, ptr %data.i6.i, align 8
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i98, ptr noundef nonnull align 8 dereferenceable(12) %flags.i8.i, i64 12, i1 false)
  invoke void @_ZN4fizz6client18ClientStateMachine20processEarlyAppWriteERKNS0_5StateENS_13EarlyAppWriteE(ptr nonnull sret(%"class.folly::small_vector.437") align 16 %ref.tmp57, ptr noundef nonnull align 8 dereferenceable(8) %machine_84, ptr noundef nonnull align 8 dereferenceable(1096) %58, ptr noundef nonnull %agg.tmp60)
          to label %invoke.cont64 unwind label %lpad63

_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread619: ; preds = %if.then23
  %61 = load i32, ptr %49, align 8
  store i32 %61, ptr %event, align 8
  store i32 %50, ptr %type_6.i, align 8
  call void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE9pop_frontEv(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_) #28
  %62 = load i32, ptr %event, align 8
  %cmp = icmp eq i32 %62, 1
  %63 = load ptr, ptr %state_.i.i, align 8
  br i1 %cmp, label %if.then73, label %if.else82

_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread: ; preds = %if.then23
  %64 = load i64, ptr %49, align 8
  store i64 %64, ptr %event, align 8
  store ptr null, ptr %49, align 8
  store i32 %50, ptr %type_6.i, align 8
  call void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE9pop_frontEv(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_) #28
  %65 = load ptr, ptr %state_.i.i, align 8
  %66 = load i64, ptr %event, align 8
  store i64 %66, ptr %agg.tmp34, align 8
  store ptr null, ptr %event, align 8
  invoke void @_ZN4fizz6client18ClientStateMachine28processWriteNewSessionTicketERKNS0_5StateENS_21WriteNewSessionTicketE(ptr nonnull sret(%"class.folly::small_vector.437") align 16 %ref.tmp31, ptr noundef nonnull align 8 dereferenceable(8) %machine_84, ptr noundef nonnull align 8 dereferenceable(1096) %65, ptr noundef nonnull %agg.tmp34)
          to label %invoke.cont38 unwind label %lpad37

_ZN4fizz6detail12PendingEventC2EOS1_.exit:        ; preds = %if.then23
  store i32 %50, ptr %type_6.i, align 8
  call void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE9pop_frontEv(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_) #28
  br label %sw.epilog

lpad28:                                           ; preds = %if.else82, %if.then73
  %67 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup92

invoke.cont38:                                    ; preds = %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread
  %68 = load i8, ptr %hasValue.i.i11, align 16
  %69 = and i8 %68, 1
  %tobool.not.i.i.i28 = icmp eq i8 %69, 0
  br i1 %tobool.not.i.i.i28, label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i42, label %if.then.i.i.i29

if.then.i.i.i29:                                  ; preds = %invoke.cont38
  store i8 0, ptr %hasValue.i.i11, align 16
  %70 = load i64, ptr %actions, align 16
  %71 = load ptr, ptr %u.i.i.i.i.i.i169, align 16
  %tobool.not1.i.i.i.i.i.i31 = icmp slt i64 %70, 0
  %cond.i.i.i.i.i.i32 = select i1 %tobool.not1.i.i.i.i.i.i31, ptr %71, ptr %u.i.i.i.i.i.i169
  %and.i.i.i.i.i.i.i33 = and i64 %70, 4611686018427387903
  %add.ptr.i.i.i.i.i34 = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i.i.i.i32, i64 %and.i.i.i.i.i.i.i33
  %cmp.not7.i.i.i.i35 = icmp eq i64 %and.i.i.i.i.i.i.i33, 0
  br i1 %cmp.not7.i.i.i.i35, label %for.end.i.i.i.i40, label %for.body.i.i.i.i36

for.body.i.i.i.i36:                               ; preds = %if.then.i.i.i29, %for.body.i.i.i.i36
  %__begin0.08.i.i.i.i37 = phi ptr [ %incdec.ptr.i.i.i.i38, %for.body.i.i.i.i36 ], [ %cond.i.i.i.i.i.i32, %if.then.i.i.i29 ]
  call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08.i.i.i.i37)
  %incdec.ptr.i.i.i.i38 = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08.i.i.i.i37, i64 1
  %cmp.not.i.i.i.i39 = icmp eq ptr %incdec.ptr.i.i.i.i38, %add.ptr.i.i.i.i.i34
  br i1 %cmp.not.i.i.i.i39, label %for.end.i.i.i.i40.loopexit, label %for.body.i.i.i.i36

for.end.i.i.i.i40.loopexit:                       ; preds = %for.body.i.i.i.i36
  %.pre610 = load i64, ptr %actions, align 16
  br label %for.end.i.i.i.i40

for.end.i.i.i.i40:                                ; preds = %for.end.i.i.i.i40.loopexit, %if.then.i.i.i29
  %72 = phi i64 [ %.pre610, %for.end.i.i.i.i40.loopexit ], [ %70, %if.then.i.i.i29 ]
  %tobool.not.i299 = icmp sgt i64 %72, -1
  br i1 %tobool.not.i299, label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i42, label %lor.lhs.false.i300

lor.lhs.false.i300:                               ; preds = %for.end.i.i.i.i40
  %73 = load ptr, ptr %u.i.i.i.i.i.i169, align 16
  %tobool2.not.i302 = icmp eq ptr %73, null
  br i1 %tobool2.not.i302, label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i42, label %if.then4.i303

if.then4.i303:                                    ; preds = %lor.lhs.false.i300
  %74 = load i64, ptr %capacity_.i.i.i456, align 8
  %mul.i305 = mul i64 %74, 208
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i298)
  %75 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i.i306 = icmp eq i8 %75, 0
  br i1 %guard.uninitialized.i.i.i.i.i306, label %init.check.i.i.i.i.i311, label %_ZN5folly11canSdallocxEv.exit.i.i307, !prof !81

init.check.i.i.i.i.i311:                          ; preds = %if.then4.i303
  %76 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i.i312 = icmp eq i32 %76, 0
  br i1 %tobool.i.not.i.i.i.i312, label %_ZN5folly11canSdallocxEv.exit.i.i307, label %init.i.i.i.i.i313

init.i.i.i.i.i313:                                ; preds = %init.check.i.i.i.i.i311
  %call.i.i.i.i.i314 = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i.i298)
  %frombool.i.i.i.i.i315 = zext i1 %call.i.i.i.i.i314 to i8
  store i8 %frombool.i.i.i.i.i315, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i.i307

_ZN5folly11canSdallocxEv.exit.i.i307:             ; preds = %init.i.i.i.i.i313, %init.check.i.i.i.i.i311, %if.then4.i303
  %77 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %78 = and i8 %77, 1
  %tobool1.i.i.i.not.i.i308 = icmp eq i8 %78, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i298)
  br i1 %tobool1.i.i.i.not.i.i308, label %if.else.i.i310, label %if.then.i.i309

if.then.i.i309:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i307
  call void @sdallocx(ptr noundef nonnull %73, i64 noundef %mul.i305, i32 noundef 0) #28
  br label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i42

if.else.i.i310:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i307
  call void @free(ptr noundef nonnull %73) #28
  br label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i42

_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i42: ; preds = %if.else.i.i310, %if.then.i.i309, %lor.lhs.false.i300, %for.end.i.i.i.i40, %invoke.cont38
  invoke void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvEC2EOS4_(ptr noundef nonnull align 16 dereferenceable(848) %actions, ptr noundef nonnull align 16 dereferenceable(848) %ref.tmp31)
          to label %invoke.cont40 unwind label %lpad39

invoke.cont40:                                    ; preds = %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i42
  store i8 1, ptr %hasValue.i.i11, align 16
  %79 = load i64, ptr %ref.tmp31, align 16
  %80 = load ptr, ptr %u.i.i.i44, align 16
  %tobool.not1.i.i.i45 = icmp slt i64 %79, 0
  %cond.i.i.i46 = select i1 %tobool.not1.i.i.i45, ptr %80, ptr %u.i.i.i44
  %and.i.i.i.i47 = and i64 %79, 4611686018427387903
  %add.ptr.i.i48 = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i46, i64 %and.i.i.i.i47
  %cmp.not7.i49 = icmp eq i64 %and.i.i.i.i47, 0
  br i1 %cmp.not7.i49, label %for.end.i54, label %for.body.i50

for.body.i50:                                     ; preds = %invoke.cont40, %for.body.i50
  %__begin0.08.i51 = phi ptr [ %incdec.ptr.i52, %for.body.i50 ], [ %cond.i.i.i46, %invoke.cont40 ]
  call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08.i51)
  %incdec.ptr.i52 = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08.i51, i64 1
  %cmp.not.i53 = icmp eq ptr %incdec.ptr.i52, %add.ptr.i.i48
  br i1 %cmp.not.i53, label %for.end.i54.loopexit, label %for.body.i50

for.end.i54.loopexit:                             ; preds = %for.body.i50
  %.pre611 = load i64, ptr %ref.tmp31, align 16
  br label %for.end.i54

for.end.i54:                                      ; preds = %for.end.i54.loopexit, %invoke.cont40
  %81 = phi i64 [ %.pre611, %for.end.i54.loopexit ], [ %79, %invoke.cont40 ]
  %tobool.not.i318 = icmp sgt i64 %81, -1
  br i1 %tobool.not.i318, label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit56, label %lor.lhs.false.i319

lor.lhs.false.i319:                               ; preds = %for.end.i54
  %82 = load ptr, ptr %u.i.i.i44, align 16
  %tobool2.not.i321 = icmp eq ptr %82, null
  br i1 %tobool2.not.i321, label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit56, label %if.then4.i322

if.then4.i322:                                    ; preds = %lor.lhs.false.i319
  %83 = load i64, ptr %capacity_.i.i.i323, align 8
  %mul.i324 = mul i64 %83, 208
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i317)
  %84 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i.i325 = icmp eq i8 %84, 0
  br i1 %guard.uninitialized.i.i.i.i.i325, label %init.check.i.i.i.i.i330, label %_ZN5folly11canSdallocxEv.exit.i.i326, !prof !81

init.check.i.i.i.i.i330:                          ; preds = %if.then4.i322
  %85 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i.i331 = icmp eq i32 %85, 0
  br i1 %tobool.i.not.i.i.i.i331, label %_ZN5folly11canSdallocxEv.exit.i.i326, label %init.i.i.i.i.i332

init.i.i.i.i.i332:                                ; preds = %init.check.i.i.i.i.i330
  %call.i.i.i.i.i333 = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i.i317)
  %frombool.i.i.i.i.i334 = zext i1 %call.i.i.i.i.i333 to i8
  store i8 %frombool.i.i.i.i.i334, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i.i326

_ZN5folly11canSdallocxEv.exit.i.i326:             ; preds = %init.i.i.i.i.i332, %init.check.i.i.i.i.i330, %if.then4.i322
  %86 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %87 = and i8 %86, 1
  %tobool1.i.i.i.not.i.i327 = icmp eq i8 %87, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i317)
  br i1 %tobool1.i.i.i.not.i.i327, label %if.else.i.i329, label %if.then.i.i328

if.then.i.i328:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i326
  call void @sdallocx(ptr noundef nonnull %82, i64 noundef %mul.i324, i32 noundef 0) #28
  br label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit56

if.else.i.i329:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i326
  call void @free(ptr noundef nonnull %82) #28
  br label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit56

_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit56: ; preds = %if.else.i.i329, %if.then.i.i328, %lor.lhs.false.i319, %for.end.i54
  %88 = load ptr, ptr %agg.tmp34, align 8
  %cmp.not.i.i = icmp eq ptr %88, null
  br i1 %cmp.not.i.i, label %_ZN4fizz21WriteNewSessionTicketD2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i: ; preds = %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit56
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %88) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %88) #28
  br label %_ZN4fizz21WriteNewSessionTicketD2Ev.exit

_ZN4fizz21WriteNewSessionTicketD2Ev.exit:         ; preds = %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit56, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i
  store ptr null, ptr %agg.tmp34, align 8
  br label %sw.epilogthread-pre-split

lpad37:                                           ; preds = %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread
  %89 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad39:                                           ; preds = %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i42
  %90 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev(ptr noundef nonnull align 16 dereferenceable(848) %ref.tmp31) #28
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad39, %lpad37
  %.pn4 = phi { ptr, i32 } [ %90, %lpad39 ], [ %89, %lpad37 ]
  call void @_ZN4fizz21WriteNewSessionTicketD2Ev(ptr noundef nonnull align 8 dereferenceable(8) %agg.tmp34) #28
  br label %ehcleanup92

invoke.cont50:                                    ; preds = %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread617
  %91 = load i8, ptr %hasValue.i.i11, align 16
  %92 = and i8 %91, 1
  %tobool.not.i.i.i61 = icmp eq i8 %92, 0
  br i1 %tobool.not.i.i.i61, label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i75, label %if.then.i.i.i62

if.then.i.i.i62:                                  ; preds = %invoke.cont50
  store i8 0, ptr %hasValue.i.i11, align 16
  %93 = load i64, ptr %actions, align 16
  %94 = load ptr, ptr %u.i.i.i.i.i.i169, align 16
  %tobool.not1.i.i.i.i.i.i64 = icmp slt i64 %93, 0
  %cond.i.i.i.i.i.i65 = select i1 %tobool.not1.i.i.i.i.i.i64, ptr %94, ptr %u.i.i.i.i.i.i169
  %and.i.i.i.i.i.i.i66 = and i64 %93, 4611686018427387903
  %add.ptr.i.i.i.i.i67 = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i.i.i.i65, i64 %and.i.i.i.i.i.i.i66
  %cmp.not7.i.i.i.i68 = icmp eq i64 %and.i.i.i.i.i.i.i66, 0
  br i1 %cmp.not7.i.i.i.i68, label %for.end.i.i.i.i73, label %for.body.i.i.i.i69

for.body.i.i.i.i69:                               ; preds = %if.then.i.i.i62, %for.body.i.i.i.i69
  %__begin0.08.i.i.i.i70 = phi ptr [ %incdec.ptr.i.i.i.i71, %for.body.i.i.i.i69 ], [ %cond.i.i.i.i.i.i65, %if.then.i.i.i62 ]
  call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08.i.i.i.i70)
  %incdec.ptr.i.i.i.i71 = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08.i.i.i.i70, i64 1
  %cmp.not.i.i.i.i72 = icmp eq ptr %incdec.ptr.i.i.i.i71, %add.ptr.i.i.i.i.i67
  br i1 %cmp.not.i.i.i.i72, label %for.end.i.i.i.i73.loopexit, label %for.body.i.i.i.i69

for.end.i.i.i.i73.loopexit:                       ; preds = %for.body.i.i.i.i69
  %.pre608 = load i64, ptr %actions, align 16
  br label %for.end.i.i.i.i73

for.end.i.i.i.i73:                                ; preds = %for.end.i.i.i.i73.loopexit, %if.then.i.i.i62
  %95 = phi i64 [ %.pre608, %for.end.i.i.i.i73.loopexit ], [ %93, %if.then.i.i.i62 ]
  %tobool.not.i337 = icmp sgt i64 %95, -1
  br i1 %tobool.not.i337, label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i75, label %lor.lhs.false.i338

lor.lhs.false.i338:                               ; preds = %for.end.i.i.i.i73
  %96 = load ptr, ptr %u.i.i.i.i.i.i169, align 16
  %tobool2.not.i340 = icmp eq ptr %96, null
  br i1 %tobool2.not.i340, label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i75, label %if.then4.i341

if.then4.i341:                                    ; preds = %lor.lhs.false.i338
  %97 = load i64, ptr %capacity_.i.i.i456, align 8
  %mul.i343 = mul i64 %97, 208
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i336)
  %98 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i.i344 = icmp eq i8 %98, 0
  br i1 %guard.uninitialized.i.i.i.i.i344, label %init.check.i.i.i.i.i349, label %_ZN5folly11canSdallocxEv.exit.i.i345, !prof !81

init.check.i.i.i.i.i349:                          ; preds = %if.then4.i341
  %99 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i.i350 = icmp eq i32 %99, 0
  br i1 %tobool.i.not.i.i.i.i350, label %_ZN5folly11canSdallocxEv.exit.i.i345, label %init.i.i.i.i.i351

init.i.i.i.i.i351:                                ; preds = %init.check.i.i.i.i.i349
  %call.i.i.i.i.i352 = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i.i336)
  %frombool.i.i.i.i.i353 = zext i1 %call.i.i.i.i.i352 to i8
  store i8 %frombool.i.i.i.i.i353, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i.i345

_ZN5folly11canSdallocxEv.exit.i.i345:             ; preds = %init.i.i.i.i.i351, %init.check.i.i.i.i.i349, %if.then4.i341
  %100 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %101 = and i8 %100, 1
  %tobool1.i.i.i.not.i.i346 = icmp eq i8 %101, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i336)
  br i1 %tobool1.i.i.i.not.i.i346, label %if.else.i.i348, label %if.then.i.i347

if.then.i.i347:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i345
  call void @sdallocx(ptr noundef nonnull %96, i64 noundef %mul.i343, i32 noundef 0) #28
  br label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i75

if.else.i.i348:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i345
  call void @free(ptr noundef nonnull %96) #28
  br label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i75

_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i75: ; preds = %if.else.i.i348, %if.then.i.i347, %lor.lhs.false.i338, %for.end.i.i.i.i73, %invoke.cont50
  invoke void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvEC2EOS4_(ptr noundef nonnull align 16 dereferenceable(848) %actions, ptr noundef nonnull align 16 dereferenceable(848) %ref.tmp43)
          to label %invoke.cont52 unwind label %lpad51

invoke.cont52:                                    ; preds = %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i75
  store i8 1, ptr %hasValue.i.i11, align 16
  %102 = load i64, ptr %ref.tmp43, align 16
  %103 = load ptr, ptr %u.i.i.i77, align 16
  %tobool.not1.i.i.i78 = icmp slt i64 %102, 0
  %cond.i.i.i79 = select i1 %tobool.not1.i.i.i78, ptr %103, ptr %u.i.i.i77
  %and.i.i.i.i80 = and i64 %102, 4611686018427387903
  %add.ptr.i.i81 = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i79, i64 %and.i.i.i.i80
  %cmp.not7.i82 = icmp eq i64 %and.i.i.i.i80, 0
  br i1 %cmp.not7.i82, label %for.end.i87, label %for.body.i83

for.body.i83:                                     ; preds = %invoke.cont52, %for.body.i83
  %__begin0.08.i84 = phi ptr [ %incdec.ptr.i85, %for.body.i83 ], [ %cond.i.i.i79, %invoke.cont52 ]
  call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08.i84)
  %incdec.ptr.i85 = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08.i84, i64 1
  %cmp.not.i86 = icmp eq ptr %incdec.ptr.i85, %add.ptr.i.i81
  br i1 %cmp.not.i86, label %for.end.i87.loopexit, label %for.body.i83

for.end.i87.loopexit:                             ; preds = %for.body.i83
  %.pre609 = load i64, ptr %ref.tmp43, align 16
  br label %for.end.i87

for.end.i87:                                      ; preds = %for.end.i87.loopexit, %invoke.cont52
  %104 = phi i64 [ %.pre609, %for.end.i87.loopexit ], [ %102, %invoke.cont52 ]
  %tobool.not.i356 = icmp sgt i64 %104, -1
  br i1 %tobool.not.i356, label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit89, label %lor.lhs.false.i357

lor.lhs.false.i357:                               ; preds = %for.end.i87
  %105 = load ptr, ptr %u.i.i.i77, align 16
  %tobool2.not.i359 = icmp eq ptr %105, null
  br i1 %tobool2.not.i359, label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit89, label %if.then4.i360

if.then4.i360:                                    ; preds = %lor.lhs.false.i357
  %106 = load i64, ptr %capacity_.i.i.i361, align 8
  %mul.i362 = mul i64 %106, 208
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i355)
  %107 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i.i363 = icmp eq i8 %107, 0
  br i1 %guard.uninitialized.i.i.i.i.i363, label %init.check.i.i.i.i.i368, label %_ZN5folly11canSdallocxEv.exit.i.i364, !prof !81

init.check.i.i.i.i.i368:                          ; preds = %if.then4.i360
  %108 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i.i369 = icmp eq i32 %108, 0
  br i1 %tobool.i.not.i.i.i.i369, label %_ZN5folly11canSdallocxEv.exit.i.i364, label %init.i.i.i.i.i370

init.i.i.i.i.i370:                                ; preds = %init.check.i.i.i.i.i368
  %call.i.i.i.i.i371 = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i.i355)
  %frombool.i.i.i.i.i372 = zext i1 %call.i.i.i.i.i371 to i8
  store i8 %frombool.i.i.i.i.i372, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i.i364

_ZN5folly11canSdallocxEv.exit.i.i364:             ; preds = %init.i.i.i.i.i370, %init.check.i.i.i.i.i368, %if.then4.i360
  %109 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %110 = and i8 %109, 1
  %tobool1.i.i.i.not.i.i365 = icmp eq i8 %110, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i355)
  br i1 %tobool1.i.i.i.not.i.i365, label %if.else.i.i367, label %if.then.i.i366

if.then.i.i366:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i364
  call void @sdallocx(ptr noundef nonnull %105, i64 noundef %mul.i362, i32 noundef 0) #28
  br label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit89

if.else.i.i367:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i364
  call void @free(ptr noundef nonnull %105) #28
  br label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit89

_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit89: ; preds = %if.else.i.i367, %if.then.i.i366, %lor.lhs.false.i357, %for.end.i87
  %111 = load ptr, ptr %data.i, align 8
  %cmp.not.i.i91 = icmp eq ptr %111, null
  br i1 %cmp.not.i.i91, label %_ZN4fizz8AppWriteD2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i92

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i92: ; preds = %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit89
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %111) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %111) #28
  br label %_ZN4fizz8AppWriteD2Ev.exit

_ZN4fizz8AppWriteD2Ev.exit:                       ; preds = %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit89, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i92
  store ptr null, ptr %data.i, align 8
  br label %sw.epilogthread-pre-split

lpad49:                                           ; preds = %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread617
  %112 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup55

lpad51:                                           ; preds = %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i75
  %113 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev(ptr noundef nonnull align 16 dereferenceable(848) %ref.tmp43) #28
  br label %ehcleanup55

ehcleanup55:                                      ; preds = %lpad51, %lpad49
  %.pn2 = phi { ptr, i32 } [ %113, %lpad51 ], [ %112, %lpad49 ]
  call void @_ZN4fizz8AppWriteD2Ev(ptr noundef nonnull align 8 dereferenceable(28) %agg.tmp46) #28
  br label %ehcleanup92

invoke.cont64:                                    ; preds = %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread618
  %114 = load i8, ptr %hasValue.i.i11, align 16
  %115 = and i8 %114, 1
  %tobool.not.i.i.i101 = icmp eq i8 %115, 0
  br i1 %tobool.not.i.i.i101, label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i115, label %if.then.i.i.i102

if.then.i.i.i102:                                 ; preds = %invoke.cont64
  store i8 0, ptr %hasValue.i.i11, align 16
  %116 = load i64, ptr %actions, align 16
  %117 = load ptr, ptr %u.i.i.i.i.i.i169, align 16
  %tobool.not1.i.i.i.i.i.i104 = icmp slt i64 %116, 0
  %cond.i.i.i.i.i.i105 = select i1 %tobool.not1.i.i.i.i.i.i104, ptr %117, ptr %u.i.i.i.i.i.i169
  %and.i.i.i.i.i.i.i106 = and i64 %116, 4611686018427387903
  %add.ptr.i.i.i.i.i107 = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i.i.i.i105, i64 %and.i.i.i.i.i.i.i106
  %cmp.not7.i.i.i.i108 = icmp eq i64 %and.i.i.i.i.i.i.i106, 0
  br i1 %cmp.not7.i.i.i.i108, label %for.end.i.i.i.i113, label %for.body.i.i.i.i109

for.body.i.i.i.i109:                              ; preds = %if.then.i.i.i102, %for.body.i.i.i.i109
  %__begin0.08.i.i.i.i110 = phi ptr [ %incdec.ptr.i.i.i.i111, %for.body.i.i.i.i109 ], [ %cond.i.i.i.i.i.i105, %if.then.i.i.i102 ]
  call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08.i.i.i.i110)
  %incdec.ptr.i.i.i.i111 = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08.i.i.i.i110, i64 1
  %cmp.not.i.i.i.i112 = icmp eq ptr %incdec.ptr.i.i.i.i111, %add.ptr.i.i.i.i.i107
  br i1 %cmp.not.i.i.i.i112, label %for.end.i.i.i.i113.loopexit, label %for.body.i.i.i.i109

for.end.i.i.i.i113.loopexit:                      ; preds = %for.body.i.i.i.i109
  %.pre606 = load i64, ptr %actions, align 16
  br label %for.end.i.i.i.i113

for.end.i.i.i.i113:                               ; preds = %for.end.i.i.i.i113.loopexit, %if.then.i.i.i102
  %118 = phi i64 [ %.pre606, %for.end.i.i.i.i113.loopexit ], [ %116, %if.then.i.i.i102 ]
  %tobool.not.i375 = icmp sgt i64 %118, -1
  br i1 %tobool.not.i375, label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i115, label %lor.lhs.false.i376

lor.lhs.false.i376:                               ; preds = %for.end.i.i.i.i113
  %119 = load ptr, ptr %u.i.i.i.i.i.i169, align 16
  %tobool2.not.i378 = icmp eq ptr %119, null
  br i1 %tobool2.not.i378, label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i115, label %if.then4.i379

if.then4.i379:                                    ; preds = %lor.lhs.false.i376
  %120 = load i64, ptr %capacity_.i.i.i456, align 8
  %mul.i381 = mul i64 %120, 208
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i374)
  %121 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i.i382 = icmp eq i8 %121, 0
  br i1 %guard.uninitialized.i.i.i.i.i382, label %init.check.i.i.i.i.i387, label %_ZN5folly11canSdallocxEv.exit.i.i383, !prof !81

init.check.i.i.i.i.i387:                          ; preds = %if.then4.i379
  %122 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i.i388 = icmp eq i32 %122, 0
  br i1 %tobool.i.not.i.i.i.i388, label %_ZN5folly11canSdallocxEv.exit.i.i383, label %init.i.i.i.i.i389

init.i.i.i.i.i389:                                ; preds = %init.check.i.i.i.i.i387
  %call.i.i.i.i.i390 = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i.i374)
  %frombool.i.i.i.i.i391 = zext i1 %call.i.i.i.i.i390 to i8
  store i8 %frombool.i.i.i.i.i391, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i.i383

_ZN5folly11canSdallocxEv.exit.i.i383:             ; preds = %init.i.i.i.i.i389, %init.check.i.i.i.i.i387, %if.then4.i379
  %123 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %124 = and i8 %123, 1
  %tobool1.i.i.i.not.i.i384 = icmp eq i8 %124, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i374)
  br i1 %tobool1.i.i.i.not.i.i384, label %if.else.i.i386, label %if.then.i.i385

if.then.i.i385:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i383
  call void @sdallocx(ptr noundef nonnull %119, i64 noundef %mul.i381, i32 noundef 0) #28
  br label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i115

if.else.i.i386:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i383
  call void @free(ptr noundef nonnull %119) #28
  br label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i115

_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i115: ; preds = %if.else.i.i386, %if.then.i.i385, %lor.lhs.false.i376, %for.end.i.i.i.i113, %invoke.cont64
  invoke void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvEC2EOS4_(ptr noundef nonnull align 16 dereferenceable(848) %actions, ptr noundef nonnull align 16 dereferenceable(848) %ref.tmp57)
          to label %invoke.cont66 unwind label %lpad65

invoke.cont66:                                    ; preds = %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i115
  store i8 1, ptr %hasValue.i.i11, align 16
  %125 = load i64, ptr %ref.tmp57, align 16
  %126 = load ptr, ptr %u.i.i.i117, align 16
  %tobool.not1.i.i.i118 = icmp slt i64 %125, 0
  %cond.i.i.i119 = select i1 %tobool.not1.i.i.i118, ptr %126, ptr %u.i.i.i117
  %and.i.i.i.i120 = and i64 %125, 4611686018427387903
  %add.ptr.i.i121 = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i119, i64 %and.i.i.i.i120
  %cmp.not7.i122 = icmp eq i64 %and.i.i.i.i120, 0
  br i1 %cmp.not7.i122, label %for.end.i127, label %for.body.i123

for.body.i123:                                    ; preds = %invoke.cont66, %for.body.i123
  %__begin0.08.i124 = phi ptr [ %incdec.ptr.i125, %for.body.i123 ], [ %cond.i.i.i119, %invoke.cont66 ]
  call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08.i124)
  %incdec.ptr.i125 = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08.i124, i64 1
  %cmp.not.i126 = icmp eq ptr %incdec.ptr.i125, %add.ptr.i.i121
  br i1 %cmp.not.i126, label %for.end.i127.loopexit, label %for.body.i123

for.end.i127.loopexit:                            ; preds = %for.body.i123
  %.pre607 = load i64, ptr %ref.tmp57, align 16
  br label %for.end.i127

for.end.i127:                                     ; preds = %for.end.i127.loopexit, %invoke.cont66
  %127 = phi i64 [ %.pre607, %for.end.i127.loopexit ], [ %125, %invoke.cont66 ]
  %tobool.not.i394 = icmp sgt i64 %127, -1
  br i1 %tobool.not.i394, label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit129, label %lor.lhs.false.i395

lor.lhs.false.i395:                               ; preds = %for.end.i127
  %128 = load ptr, ptr %u.i.i.i117, align 16
  %tobool2.not.i397 = icmp eq ptr %128, null
  br i1 %tobool2.not.i397, label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit129, label %if.then4.i398

if.then4.i398:                                    ; preds = %lor.lhs.false.i395
  %129 = load i64, ptr %capacity_.i.i.i399, align 8
  %mul.i400 = mul i64 %129, 208
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i393)
  %130 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i.i401 = icmp eq i8 %130, 0
  br i1 %guard.uninitialized.i.i.i.i.i401, label %init.check.i.i.i.i.i406, label %_ZN5folly11canSdallocxEv.exit.i.i402, !prof !81

init.check.i.i.i.i.i406:                          ; preds = %if.then4.i398
  %131 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i.i407 = icmp eq i32 %131, 0
  br i1 %tobool.i.not.i.i.i.i407, label %_ZN5folly11canSdallocxEv.exit.i.i402, label %init.i.i.i.i.i408

init.i.i.i.i.i408:                                ; preds = %init.check.i.i.i.i.i406
  %call.i.i.i.i.i409 = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i.i393)
  %frombool.i.i.i.i.i410 = zext i1 %call.i.i.i.i.i409 to i8
  store i8 %frombool.i.i.i.i.i410, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i.i402

_ZN5folly11canSdallocxEv.exit.i.i402:             ; preds = %init.i.i.i.i.i408, %init.check.i.i.i.i.i406, %if.then4.i398
  %132 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %133 = and i8 %132, 1
  %tobool1.i.i.i.not.i.i403 = icmp eq i8 %133, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i393)
  br i1 %tobool1.i.i.i.not.i.i403, label %if.else.i.i405, label %if.then.i.i404

if.then.i.i404:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i402
  call void @sdallocx(ptr noundef nonnull %128, i64 noundef %mul.i400, i32 noundef 0) #28
  br label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit129

if.else.i.i405:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i402
  call void @free(ptr noundef nonnull %128) #28
  br label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit129

_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit129: ; preds = %if.else.i.i405, %if.then.i.i404, %lor.lhs.false.i395, %for.end.i127
  %134 = load ptr, ptr %data.i96, align 8
  %cmp.not.i.i131 = icmp eq ptr %134, null
  br i1 %cmp.not.i.i131, label %_ZN4fizz13EarlyAppWriteD2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i132

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i132: ; preds = %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit129
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %134) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %134) #28
  br label %_ZN4fizz13EarlyAppWriteD2Ev.exit

_ZN4fizz13EarlyAppWriteD2Ev.exit:                 ; preds = %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit129, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i132
  store ptr null, ptr %data.i96, align 8
  br label %sw.epilogthread-pre-split

lpad63:                                           ; preds = %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread618
  %135 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup69

lpad65:                                           ; preds = %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i115
  %136 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev(ptr noundef nonnull align 16 dereferenceable(848) %ref.tmp57) #28
  br label %ehcleanup69

ehcleanup69:                                      ; preds = %lpad65, %lpad63
  %.pn = phi { ptr, i32 } [ %136, %lpad65 ], [ %135, %lpad63 ]
  call void @_ZN4fizz13EarlyAppWriteD2Ev(ptr noundef nonnull align 8 dereferenceable(28) %agg.tmp60) #28
  br label %ehcleanup92

if.then73:                                        ; preds = %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread619
  invoke void @_ZN4fizz6client18ClientStateMachine15processAppCloseERKNS0_5StateE(ptr nonnull sret(%"class.folly::small_vector.437") align 16 %ref.tmp74, ptr noundef nonnull align 8 dereferenceable(8) %machine_84, ptr noundef nonnull align 8 dereferenceable(1096) %63)
          to label %invoke.cont77 unwind label %lpad28

invoke.cont77:                                    ; preds = %if.then73
  %137 = load i8, ptr %hasValue.i.i11, align 16
  %138 = and i8 %137, 1
  %tobool.not.i.i.i137 = icmp eq i8 %138, 0
  br i1 %tobool.not.i.i.i137, label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i151, label %if.then.i.i.i138

if.then.i.i.i138:                                 ; preds = %invoke.cont77
  store i8 0, ptr %hasValue.i.i11, align 16
  %139 = load i64, ptr %actions, align 16
  %140 = load ptr, ptr %u.i.i.i.i.i.i169, align 16
  %tobool.not1.i.i.i.i.i.i140 = icmp slt i64 %139, 0
  %cond.i.i.i.i.i.i141 = select i1 %tobool.not1.i.i.i.i.i.i140, ptr %140, ptr %u.i.i.i.i.i.i169
  %and.i.i.i.i.i.i.i142 = and i64 %139, 4611686018427387903
  %add.ptr.i.i.i.i.i143 = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i.i.i.i141, i64 %and.i.i.i.i.i.i.i142
  %cmp.not7.i.i.i.i144 = icmp eq i64 %and.i.i.i.i.i.i.i142, 0
  br i1 %cmp.not7.i.i.i.i144, label %for.end.i.i.i.i149, label %for.body.i.i.i.i145

for.body.i.i.i.i145:                              ; preds = %if.then.i.i.i138, %for.body.i.i.i.i145
  %__begin0.08.i.i.i.i146 = phi ptr [ %incdec.ptr.i.i.i.i147, %for.body.i.i.i.i145 ], [ %cond.i.i.i.i.i.i141, %if.then.i.i.i138 ]
  call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08.i.i.i.i146)
  %incdec.ptr.i.i.i.i147 = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08.i.i.i.i146, i64 1
  %cmp.not.i.i.i.i148 = icmp eq ptr %incdec.ptr.i.i.i.i147, %add.ptr.i.i.i.i.i143
  br i1 %cmp.not.i.i.i.i148, label %for.end.i.i.i.i149.loopexit, label %for.body.i.i.i.i145

for.end.i.i.i.i149.loopexit:                      ; preds = %for.body.i.i.i.i145
  %.pre604 = load i64, ptr %actions, align 16
  br label %for.end.i.i.i.i149

for.end.i.i.i.i149:                               ; preds = %for.end.i.i.i.i149.loopexit, %if.then.i.i.i138
  %141 = phi i64 [ %.pre604, %for.end.i.i.i.i149.loopexit ], [ %139, %if.then.i.i.i138 ]
  %tobool.not.i413 = icmp sgt i64 %141, -1
  br i1 %tobool.not.i413, label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i151, label %lor.lhs.false.i414

lor.lhs.false.i414:                               ; preds = %for.end.i.i.i.i149
  %142 = load ptr, ptr %u.i.i.i.i.i.i169, align 16
  %tobool2.not.i416 = icmp eq ptr %142, null
  br i1 %tobool2.not.i416, label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i151, label %if.then4.i417

if.then4.i417:                                    ; preds = %lor.lhs.false.i414
  %143 = load i64, ptr %capacity_.i.i.i456, align 8
  %mul.i419 = mul i64 %143, 208
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i412)
  %144 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i.i420 = icmp eq i8 %144, 0
  br i1 %guard.uninitialized.i.i.i.i.i420, label %init.check.i.i.i.i.i425, label %_ZN5folly11canSdallocxEv.exit.i.i421, !prof !81

init.check.i.i.i.i.i425:                          ; preds = %if.then4.i417
  %145 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i.i426 = icmp eq i32 %145, 0
  br i1 %tobool.i.not.i.i.i.i426, label %_ZN5folly11canSdallocxEv.exit.i.i421, label %init.i.i.i.i.i427

init.i.i.i.i.i427:                                ; preds = %init.check.i.i.i.i.i425
  %call.i.i.i.i.i428 = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i.i412)
  %frombool.i.i.i.i.i429 = zext i1 %call.i.i.i.i.i428 to i8
  store i8 %frombool.i.i.i.i.i429, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i.i421

_ZN5folly11canSdallocxEv.exit.i.i421:             ; preds = %init.i.i.i.i.i427, %init.check.i.i.i.i.i425, %if.then4.i417
  %146 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %147 = and i8 %146, 1
  %tobool1.i.i.i.not.i.i422 = icmp eq i8 %147, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i412)
  br i1 %tobool1.i.i.i.not.i.i422, label %if.else.i.i424, label %if.then.i.i423

if.then.i.i423:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i421
  call void @sdallocx(ptr noundef nonnull %142, i64 noundef %mul.i419, i32 noundef 0) #28
  br label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i151

if.else.i.i424:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i421
  call void @free(ptr noundef nonnull %142) #28
  br label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i151

_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i151: ; preds = %if.else.i.i424, %if.then.i.i423, %lor.lhs.false.i414, %for.end.i.i.i.i149, %invoke.cont77
  invoke void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvEC2EOS4_(ptr noundef nonnull align 16 dereferenceable(848) %actions, ptr noundef nonnull align 16 dereferenceable(848) %ref.tmp74)
          to label %invoke.cont79 unwind label %lpad78

invoke.cont79:                                    ; preds = %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i151
  store i8 1, ptr %hasValue.i.i11, align 16
  %148 = load i64, ptr %ref.tmp74, align 16
  %149 = load ptr, ptr %u.i.i.i153, align 16
  %tobool.not1.i.i.i154 = icmp slt i64 %148, 0
  %cond.i.i.i155 = select i1 %tobool.not1.i.i.i154, ptr %149, ptr %u.i.i.i153
  %and.i.i.i.i156 = and i64 %148, 4611686018427387903
  %add.ptr.i.i157 = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i155, i64 %and.i.i.i.i156
  %cmp.not7.i158 = icmp eq i64 %and.i.i.i.i156, 0
  br i1 %cmp.not7.i158, label %for.end.i163, label %for.body.i159

for.body.i159:                                    ; preds = %invoke.cont79, %for.body.i159
  %__begin0.08.i160 = phi ptr [ %incdec.ptr.i161, %for.body.i159 ], [ %cond.i.i.i155, %invoke.cont79 ]
  call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08.i160)
  %incdec.ptr.i161 = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08.i160, i64 1
  %cmp.not.i162 = icmp eq ptr %incdec.ptr.i161, %add.ptr.i.i157
  br i1 %cmp.not.i162, label %for.end.i163.loopexit, label %for.body.i159

for.end.i163.loopexit:                            ; preds = %for.body.i159
  %.pre605 = load i64, ptr %ref.tmp74, align 16
  br label %for.end.i163

for.end.i163:                                     ; preds = %for.end.i163.loopexit, %invoke.cont79
  %150 = phi i64 [ %.pre605, %for.end.i163.loopexit ], [ %148, %invoke.cont79 ]
  %tobool.not.i432 = icmp sgt i64 %150, -1
  br i1 %tobool.not.i432, label %sw.epilogthread-pre-split, label %lor.lhs.false.i433

lor.lhs.false.i433:                               ; preds = %for.end.i163
  %151 = load ptr, ptr %u.i.i.i153, align 16
  %tobool2.not.i435 = icmp eq ptr %151, null
  br i1 %tobool2.not.i435, label %sw.epilogthread-pre-split, label %if.then4.i436

if.then4.i436:                                    ; preds = %lor.lhs.false.i433
  %152 = load i64, ptr %capacity_.i.i.i437, align 8
  %mul.i438 = mul i64 %152, 208
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i431)
  %153 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i.i439 = icmp eq i8 %153, 0
  br i1 %guard.uninitialized.i.i.i.i.i439, label %init.check.i.i.i.i.i444, label %_ZN5folly11canSdallocxEv.exit.i.i440, !prof !81

init.check.i.i.i.i.i444:                          ; preds = %if.then4.i436
  %154 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i.i445 = icmp eq i32 %154, 0
  br i1 %tobool.i.not.i.i.i.i445, label %_ZN5folly11canSdallocxEv.exit.i.i440, label %init.i.i.i.i.i446

init.i.i.i.i.i446:                                ; preds = %init.check.i.i.i.i.i444
  %call.i.i.i.i.i447 = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i.i431)
  %frombool.i.i.i.i.i448 = zext i1 %call.i.i.i.i.i447 to i8
  store i8 %frombool.i.i.i.i.i448, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i.i440

_ZN5folly11canSdallocxEv.exit.i.i440:             ; preds = %init.i.i.i.i.i446, %init.check.i.i.i.i.i444, %if.then4.i436
  %155 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %156 = and i8 %155, 1
  %tobool1.i.i.i.not.i.i441 = icmp eq i8 %156, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i431)
  br i1 %tobool1.i.i.i.not.i.i441, label %if.else.i.i443, label %if.then.i.i442

if.then.i.i442:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i440
  call void @sdallocx(ptr noundef nonnull %151, i64 noundef %mul.i438, i32 noundef 0) #28
  br label %sw.epilogthread-pre-split

if.else.i.i443:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i440
  call void @free(ptr noundef nonnull %151) #28
  br label %sw.epilogthread-pre-split

lpad78:                                           ; preds = %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i151
  %157 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev(ptr noundef nonnull align 16 dereferenceable(848) %ref.tmp74) #28
  br label %ehcleanup92

if.else82:                                        ; preds = %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread619
  invoke void @_ZN4fizz6client18ClientStateMachine24processAppCloseImmediateERKNS0_5StateE(ptr nonnull sret(%"class.folly::small_vector.437") align 16 %ref.tmp83, ptr noundef nonnull align 8 dereferenceable(8) %machine_84, ptr noundef nonnull align 8 dereferenceable(1096) %63)
          to label %invoke.cont86 unwind label %lpad28

invoke.cont86:                                    ; preds = %if.else82
  %158 = load i8, ptr %hasValue.i.i11, align 16
  %159 = and i8 %158, 1
  %tobool.not.i.i.i167 = icmp eq i8 %159, 0
  br i1 %tobool.not.i.i.i167, label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i181, label %if.then.i.i.i168

if.then.i.i.i168:                                 ; preds = %invoke.cont86
  store i8 0, ptr %hasValue.i.i11, align 16
  %160 = load i64, ptr %actions, align 16
  %161 = load ptr, ptr %u.i.i.i.i.i.i169, align 16
  %tobool.not1.i.i.i.i.i.i170 = icmp slt i64 %160, 0
  %cond.i.i.i.i.i.i171 = select i1 %tobool.not1.i.i.i.i.i.i170, ptr %161, ptr %u.i.i.i.i.i.i169
  %and.i.i.i.i.i.i.i172 = and i64 %160, 4611686018427387903
  %add.ptr.i.i.i.i.i173 = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i.i.i.i171, i64 %and.i.i.i.i.i.i.i172
  %cmp.not7.i.i.i.i174 = icmp eq i64 %and.i.i.i.i.i.i.i172, 0
  br i1 %cmp.not7.i.i.i.i174, label %for.end.i.i.i.i179, label %for.body.i.i.i.i175

for.body.i.i.i.i175:                              ; preds = %if.then.i.i.i168, %for.body.i.i.i.i175
  %__begin0.08.i.i.i.i176 = phi ptr [ %incdec.ptr.i.i.i.i177, %for.body.i.i.i.i175 ], [ %cond.i.i.i.i.i.i171, %if.then.i.i.i168 ]
  call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08.i.i.i.i176)
  %incdec.ptr.i.i.i.i177 = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08.i.i.i.i176, i64 1
  %cmp.not.i.i.i.i178 = icmp eq ptr %incdec.ptr.i.i.i.i177, %add.ptr.i.i.i.i.i173
  br i1 %cmp.not.i.i.i.i178, label %for.end.i.i.i.i179.loopexit, label %for.body.i.i.i.i175

for.end.i.i.i.i179.loopexit:                      ; preds = %for.body.i.i.i.i175
  %.pre602 = load i64, ptr %actions, align 16
  br label %for.end.i.i.i.i179

for.end.i.i.i.i179:                               ; preds = %for.end.i.i.i.i179.loopexit, %if.then.i.i.i168
  %162 = phi i64 [ %.pre602, %for.end.i.i.i.i179.loopexit ], [ %160, %if.then.i.i.i168 ]
  %tobool.not.i451 = icmp sgt i64 %162, -1
  br i1 %tobool.not.i451, label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i181, label %lor.lhs.false.i452

lor.lhs.false.i452:                               ; preds = %for.end.i.i.i.i179
  %163 = load ptr, ptr %u.i.i.i.i.i.i169, align 16
  %tobool2.not.i454 = icmp eq ptr %163, null
  br i1 %tobool2.not.i454, label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i181, label %if.then4.i455

if.then4.i455:                                    ; preds = %lor.lhs.false.i452
  %164 = load i64, ptr %capacity_.i.i.i456, align 8
  %mul.i457 = mul i64 %164, 208
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i450)
  %165 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i.i458 = icmp eq i8 %165, 0
  br i1 %guard.uninitialized.i.i.i.i.i458, label %init.check.i.i.i.i.i463, label %_ZN5folly11canSdallocxEv.exit.i.i459, !prof !81

init.check.i.i.i.i.i463:                          ; preds = %if.then4.i455
  %166 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i.i464 = icmp eq i32 %166, 0
  br i1 %tobool.i.not.i.i.i.i464, label %_ZN5folly11canSdallocxEv.exit.i.i459, label %init.i.i.i.i.i465

init.i.i.i.i.i465:                                ; preds = %init.check.i.i.i.i.i463
  %call.i.i.i.i.i466 = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i.i450)
  %frombool.i.i.i.i.i467 = zext i1 %call.i.i.i.i.i466 to i8
  store i8 %frombool.i.i.i.i.i467, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i.i459

_ZN5folly11canSdallocxEv.exit.i.i459:             ; preds = %init.i.i.i.i.i465, %init.check.i.i.i.i.i463, %if.then4.i455
  %167 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %168 = and i8 %167, 1
  %tobool1.i.i.i.not.i.i460 = icmp eq i8 %168, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i450)
  br i1 %tobool1.i.i.i.not.i.i460, label %if.else.i.i462, label %if.then.i.i461

if.then.i.i461:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i459
  call void @sdallocx(ptr noundef nonnull %163, i64 noundef %mul.i457, i32 noundef 0) #28
  br label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i181

if.else.i.i462:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i459
  call void @free(ptr noundef nonnull %163) #28
  br label %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i181

_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i181: ; preds = %if.else.i.i462, %if.then.i.i461, %lor.lhs.false.i452, %for.end.i.i.i.i179, %invoke.cont86
  invoke void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvEC2EOS4_(ptr noundef nonnull align 16 dereferenceable(848) %actions, ptr noundef nonnull align 16 dereferenceable(848) %ref.tmp83)
          to label %invoke.cont88 unwind label %lpad87

invoke.cont88:                                    ; preds = %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i181
  store i8 1, ptr %hasValue.i.i11, align 16
  %169 = load i64, ptr %ref.tmp83, align 16
  %170 = load ptr, ptr %u.i.i.i183, align 16
  %tobool.not1.i.i.i184 = icmp slt i64 %169, 0
  %cond.i.i.i185 = select i1 %tobool.not1.i.i.i184, ptr %170, ptr %u.i.i.i183
  %and.i.i.i.i186 = and i64 %169, 4611686018427387903
  %add.ptr.i.i187 = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i185, i64 %and.i.i.i.i186
  %cmp.not7.i188 = icmp eq i64 %and.i.i.i.i186, 0
  br i1 %cmp.not7.i188, label %for.end.i193, label %for.body.i189

for.body.i189:                                    ; preds = %invoke.cont88, %for.body.i189
  %__begin0.08.i190 = phi ptr [ %incdec.ptr.i191, %for.body.i189 ], [ %cond.i.i.i185, %invoke.cont88 ]
  call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08.i190)
  %incdec.ptr.i191 = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08.i190, i64 1
  %cmp.not.i192 = icmp eq ptr %incdec.ptr.i191, %add.ptr.i.i187
  br i1 %cmp.not.i192, label %for.end.i193.loopexit, label %for.body.i189

for.end.i193.loopexit:                            ; preds = %for.body.i189
  %.pre603 = load i64, ptr %ref.tmp83, align 16
  br label %for.end.i193

for.end.i193:                                     ; preds = %for.end.i193.loopexit, %invoke.cont88
  %171 = phi i64 [ %.pre603, %for.end.i193.loopexit ], [ %169, %invoke.cont88 ]
  %tobool.not.i470 = icmp sgt i64 %171, -1
  br i1 %tobool.not.i470, label %sw.epilogthread-pre-split, label %lor.lhs.false.i471

lor.lhs.false.i471:                               ; preds = %for.end.i193
  %172 = load ptr, ptr %u.i.i.i183, align 16
  %tobool2.not.i473 = icmp eq ptr %172, null
  br i1 %tobool2.not.i473, label %sw.epilogthread-pre-split, label %if.then4.i474

if.then4.i474:                                    ; preds = %lor.lhs.false.i471
  %173 = load i64, ptr %capacity_.i.i.i475, align 8
  %mul.i476 = mul i64 %173, 208
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i469)
  %174 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i.i477 = icmp eq i8 %174, 0
  br i1 %guard.uninitialized.i.i.i.i.i477, label %init.check.i.i.i.i.i482, label %_ZN5folly11canSdallocxEv.exit.i.i478, !prof !81

init.check.i.i.i.i.i482:                          ; preds = %if.then4.i474
  %175 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i.i483 = icmp eq i32 %175, 0
  br i1 %tobool.i.not.i.i.i.i483, label %_ZN5folly11canSdallocxEv.exit.i.i478, label %init.i.i.i.i.i484

init.i.i.i.i.i484:                                ; preds = %init.check.i.i.i.i.i482
  %call.i.i.i.i.i485 = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i.i469)
  %frombool.i.i.i.i.i486 = zext i1 %call.i.i.i.i.i485 to i8
  store i8 %frombool.i.i.i.i.i486, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i.i478

_ZN5folly11canSdallocxEv.exit.i.i478:             ; preds = %init.i.i.i.i.i484, %init.check.i.i.i.i.i482, %if.then4.i474
  %176 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %177 = and i8 %176, 1
  %tobool1.i.i.i.not.i.i479 = icmp eq i8 %177, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i469)
  br i1 %tobool1.i.i.i.not.i.i479, label %if.else.i.i481, label %if.then.i.i480

if.then.i.i480:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i478
  call void @sdallocx(ptr noundef nonnull %172, i64 noundef %mul.i476, i32 noundef 0) #28
  br label %sw.epilogthread-pre-split

if.else.i.i481:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i478
  call void @free(ptr noundef nonnull %172) #28
  br label %sw.epilogthread-pre-split

lpad87:                                           ; preds = %_ZNR5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE5valueEv.exit.i181
  %178 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev(ptr noundef nonnull align 16 dereferenceable(848) %ref.tmp83) #28
  br label %ehcleanup92

sw.epilogthread-pre-split:                        ; preds = %_ZN4fizz21WriteNewSessionTicketD2Ev.exit, %_ZN4fizz8AppWriteD2Ev.exit, %_ZN4fizz13EarlyAppWriteD2Ev.exit, %if.else.i.i443, %if.then.i.i442, %lor.lhs.false.i433, %for.end.i163, %if.else.i.i481, %if.then.i.i480, %lor.lhs.false.i471, %for.end.i193
  %.pr553 = load i32, ptr %type_6.i, align 8
  br label %sw.epilog

sw.epilog:                                        ; preds = %_ZN4fizz6detail12PendingEventC2EOS1_.exit, %sw.epilogthread-pre-split
  %179 = phi i32 [ %.pr553, %sw.epilogthread-pre-split ], [ %50, %_ZN4fizz6detail12PendingEventC2EOS1_.exit ]
  switch i32 %179, label %if.end96 [
    i32 0, label %sw.bb.i.i
    i32 1, label %sw.bb2.i.i
    i32 3, label %sw.bb4.i.i
  ]

sw.bb.i.i:                                        ; preds = %sw.epilog
  %180 = load ptr, ptr %data.i6.i, align 8
  %cmp.not.i.i.i.i196 = icmp eq ptr %180, null
  br i1 %cmp.not.i.i.i.i196, label %sw.epilog.sink.split.i.i, label %sw.epilog.sink.split.sink.split.i.i

sw.bb2.i.i:                                       ; preds = %sw.epilog
  %181 = load ptr, ptr %data.i6.i, align 8
  %cmp.not.i.i2.i.i = icmp eq ptr %181, null
  br i1 %cmp.not.i.i2.i.i, label %sw.epilog.sink.split.i.i, label %sw.epilog.sink.split.sink.split.i.i

sw.bb4.i.i:                                       ; preds = %sw.epilog
  %182 = load ptr, ptr %event, align 8
  %cmp.not.i.i4.i.i = icmp eq ptr %182, null
  br i1 %cmp.not.i.i4.i.i, label %sw.epilog.sink.split.i.i, label %sw.epilog.sink.split.sink.split.i.i

sw.epilog.sink.split.sink.split.i.i:              ; preds = %sw.bb4.i.i, %sw.bb2.i.i, %sw.bb.i.i
  %.sink6.i.i = phi ptr [ %180, %sw.bb.i.i ], [ %181, %sw.bb2.i.i ], [ %182, %sw.bb4.i.i ]
  %this.sink.ph.i.i = phi ptr [ %data.i6.i, %sw.bb.i.i ], [ %data.i6.i, %sw.bb2.i.i ], [ %event, %sw.bb4.i.i ]
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %.sink6.i.i) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %.sink6.i.i) #28
  br label %sw.epilog.sink.split.i.i

sw.epilog.sink.split.i.i:                         ; preds = %sw.epilog.sink.split.sink.split.i.i, %sw.bb4.i.i, %sw.bb2.i.i, %sw.bb.i.i
  %this.sink.i.i = phi ptr [ %data.i6.i, %sw.bb.i.i ], [ %data.i6.i, %sw.bb2.i.i ], [ %event, %sw.bb4.i.i ], [ %this.sink.ph.i.i, %sw.epilog.sink.split.sink.split.i.i ]
  store ptr null, ptr %this.sink.i.i, align 8
  br label %if.end96

ehcleanup92:                                      ; preds = %lpad87, %lpad78, %ehcleanup69, %ehcleanup55, %ehcleanup, %lpad28
  %.pn6 = phi { ptr, i32 } [ %157, %lpad78 ], [ %67, %lpad28 ], [ %178, %lpad87 ], [ %.pn, %ehcleanup69 ], [ %.pn2, %ehcleanup55 ], [ %.pn4, %ehcleanup ]
  call void @_ZN4fizz6detail12PendingEventD2Ev(ptr noundef nonnull align 8 dereferenceable(36) %event) #28
  br label %ehcleanup104

if.else93:                                        ; preds = %if.else
  %183 = load i8, ptr %hasValue.i.i, align 8
  %184 = and i8 %183, 1
  %tobool.not.i.i = icmp eq i8 %184, 0
  br i1 %tobool.not.i.i, label %_ZN5folly8OptionalINS_22DelayedDestructionBase15DestructorGuardEE5resetEv.exit, label %if.then.i.i198

if.then.i.i198:                                   ; preds = %if.else93
  store i8 0, ptr %hasValue.i.i, align 8
  %185 = load ptr, ptr %actionGuard_, align 8
  %cmp.not.i.i.i199 = icmp eq ptr %185, null
  br i1 %cmp.not.i.i.i199, label %_ZN5folly8OptionalINS_22DelayedDestructionBase15DestructorGuardEE5resetEv.exit, label %if.then.i.i.i200

if.then.i.i.i200:                                 ; preds = %if.then.i.i198
  %guardCount_.i.i.i201 = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %185, i64 0, i32 1
  %186 = load i32, ptr %guardCount_.i.i.i201, align 8
  %dec.i.i.i202 = add i32 %186, -1
  store i32 %dec.i.i.i202, ptr %guardCount_.i.i.i201, align 8
  %187 = load ptr, ptr %actionGuard_, align 8
  %guardCount_4.i.i.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %187, i64 0, i32 1
  %188 = load i32, ptr %guardCount_4.i.i.i, align 8
  %cmp5.i.i.i203 = icmp eq i32 %188, 0
  br i1 %cmp5.i.i.i203, label %if.then6.i.i.i204, label %_ZN5folly8OptionalINS_22DelayedDestructionBase15DestructorGuardEE5resetEv.exit

if.then6.i.i.i204:                                ; preds = %if.then.i.i.i200
  %vtable.i.i.i205 = load ptr, ptr %187, align 8
  %vfn.i.i.i206 = getelementptr inbounds ptr, ptr %vtable.i.i.i205, i64 2
  %189 = load ptr, ptr %vfn.i.i.i206, align 8
  invoke void %189(ptr noundef nonnull align 8 dereferenceable(12) %187, i1 noundef zeroext true)
          to label %_ZN5folly8OptionalINS_22DelayedDestructionBase15DestructorGuardEE5resetEv.exit unwind label %terminate.lpad.i.i.i207

terminate.lpad.i.i.i207:                          ; preds = %if.then6.i.i.i204
  %190 = landingpad { ptr, i32 }
          catch ptr null
  %191 = extractvalue { ptr, i32 } %190, 0
  call void @__clang_call_terminate(ptr %191) #30
  unreachable

_ZN5folly8OptionalINS_22DelayedDestructionBase15DestructorGuardEE5resetEv.exit: ; preds = %if.else93, %if.then.i.i198, %if.then.i.i.i200, %if.then6.i.i.i204
  %192 = load i8, ptr %hasValue.i.i11, align 16
  %193 = and i8 %192, 1
  %tobool.not.i.i.i209 = icmp eq i8 %193, 0
  br i1 %tobool.not.i.i.i209, label %_ZN5folly6detail14ScopeGuardImplIZN4fizz8FizzBaseINS2_6client10FizzClientINS4_16AsyncFizzClientTINS4_18ClientStateMachineEE17ActionMoveVisitorES7_EES9_S7_E20processPendingEventsEvEUlvE_Lb1EED2Ev.exit, label %if.then.i.i.i210

if.then.i.i.i210:                                 ; preds = %_ZN5folly8OptionalINS_22DelayedDestructionBase15DestructorGuardEE5resetEv.exit
  store i8 0, ptr %hasValue.i.i11, align 16
  %194 = load i64, ptr %actions, align 16
  %195 = load ptr, ptr %u.i.i.i.i.i.i169, align 16
  %tobool.not1.i.i.i.i.i.i212 = icmp slt i64 %194, 0
  %cond.i.i.i.i.i.i213 = select i1 %tobool.not1.i.i.i.i.i.i212, ptr %195, ptr %u.i.i.i.i.i.i169
  %and.i.i.i.i.i.i.i214 = and i64 %194, 4611686018427387903
  %add.ptr.i.i.i.i.i215 = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i.i.i.i213, i64 %and.i.i.i.i.i.i.i214
  %cmp.not7.i.i.i.i216 = icmp eq i64 %and.i.i.i.i.i.i.i214, 0
  br i1 %cmp.not7.i.i.i.i216, label %for.end.i.i.i.i221, label %for.body.i.i.i.i217

for.body.i.i.i.i217:                              ; preds = %if.then.i.i.i210, %for.body.i.i.i.i217
  %__begin0.08.i.i.i.i218 = phi ptr [ %incdec.ptr.i.i.i.i219, %for.body.i.i.i.i217 ], [ %cond.i.i.i.i.i.i213, %if.then.i.i.i210 ]
  call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08.i.i.i.i218)
  %incdec.ptr.i.i.i.i219 = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08.i.i.i.i218, i64 1
  %cmp.not.i.i.i.i220 = icmp eq ptr %incdec.ptr.i.i.i.i219, %add.ptr.i.i.i.i.i215
  br i1 %cmp.not.i.i.i.i220, label %for.end.i.i.i.i221.loopexit, label %for.body.i.i.i.i217

for.end.i.i.i.i221.loopexit:                      ; preds = %for.body.i.i.i.i217
  %.pre612 = load i64, ptr %actions, align 16
  br label %for.end.i.i.i.i221

for.end.i.i.i.i221:                               ; preds = %for.end.i.i.i.i221.loopexit, %if.then.i.i.i210
  %196 = phi i64 [ %.pre612, %for.end.i.i.i.i221.loopexit ], [ %194, %if.then.i.i.i210 ]
  %tobool.not.i489 = icmp sgt i64 %196, -1
  br i1 %tobool.not.i489, label %_ZN5folly6detail14ScopeGuardImplIZN4fizz8FizzBaseINS2_6client10FizzClientINS4_16AsyncFizzClientTINS4_18ClientStateMachineEE17ActionMoveVisitorES7_EES9_S7_E20processPendingEventsEvEUlvE_Lb1EED2Ev.exit, label %lor.lhs.false.i490

lor.lhs.false.i490:                               ; preds = %for.end.i.i.i.i221
  %197 = load ptr, ptr %u.i.i.i.i.i.i169, align 16
  %tobool2.not.i492 = icmp eq ptr %197, null
  br i1 %tobool2.not.i492, label %_ZN5folly6detail14ScopeGuardImplIZN4fizz8FizzBaseINS2_6client10FizzClientINS4_16AsyncFizzClientTINS4_18ClientStateMachineEE17ActionMoveVisitorES7_EES9_S7_E20processPendingEventsEvEUlvE_Lb1EED2Ev.exit, label %if.then4.i493

if.then4.i493:                                    ; preds = %lor.lhs.false.i490
  %198 = load i64, ptr %capacity_.i.i.i456, align 8
  %mul.i495 = mul i64 %198, 208
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i488)
  %199 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i.i496 = icmp eq i8 %199, 0
  br i1 %guard.uninitialized.i.i.i.i.i496, label %init.check.i.i.i.i.i501, label %_ZN5folly11canSdallocxEv.exit.i.i497, !prof !81

init.check.i.i.i.i.i501:                          ; preds = %if.then4.i493
  %200 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i.i502 = icmp eq i32 %200, 0
  br i1 %tobool.i.not.i.i.i.i502, label %_ZN5folly11canSdallocxEv.exit.i.i497, label %init.i.i.i.i.i503

init.i.i.i.i.i503:                                ; preds = %init.check.i.i.i.i.i501
  %call.i.i.i.i.i504 = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i.i488)
  %frombool.i.i.i.i.i505 = zext i1 %call.i.i.i.i.i504 to i8
  store i8 %frombool.i.i.i.i.i505, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i.i497

_ZN5folly11canSdallocxEv.exit.i.i497:             ; preds = %init.i.i.i.i.i503, %init.check.i.i.i.i.i501, %if.then4.i493
  %201 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %202 = and i8 %201, 1
  %tobool1.i.i.i.not.i.i498 = icmp eq i8 %202, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i488)
  br i1 %tobool1.i.i.i.not.i.i498, label %if.else.i.i500, label %if.then.i.i499

if.then.i.i499:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i497
  call void @sdallocx(ptr noundef nonnull %197, i64 noundef %mul.i495, i32 noundef 0) #28
  br label %_ZN5folly6detail14ScopeGuardImplIZN4fizz8FizzBaseINS2_6client10FizzClientINS4_16AsyncFizzClientTINS4_18ClientStateMachineEE17ActionMoveVisitorES7_EES9_S7_E20processPendingEventsEvEUlvE_Lb1EED2Ev.exit

if.else.i.i500:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i497
  call void @free(ptr noundef nonnull %197) #28
  br label %_ZN5folly6detail14ScopeGuardImplIZN4fizz8FizzBaseINS2_6client10FizzClientINS4_16AsyncFizzClientTINS4_18ClientStateMachineEE17ActionMoveVisitorES7_EES9_S7_E20processPendingEventsEvEUlvE_Lb1EED2Ev.exit

if.end96:                                         ; preds = %sw.epilog.sink.split.i.i, %sw.epilog, %for.end.i, %lor.lhs.false.i281, %if.then.i.i290, %if.else.i.i291
  %203 = load i8, ptr %hasValue.i.i11, align 16
  %204 = and i8 %203, 1
  %tobool.not.i.i.i224 = icmp eq i8 %204, 0
  br i1 %tobool.not.i.i.i224, label %if.then.i.i.i226, label %invoke.cont98

if.then.i.i.i226:                                 ; preds = %if.end96
  invoke void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() #32
          to label %.noexc unwind label %lpad9.loopexit.split-lp

.noexc:                                           ; preds = %if.then.i.i.i226
  unreachable

invoke.cont98:                                    ; preds = %if.end96
  invoke void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvEC2EOS4_(ptr noundef nonnull align 16 dereferenceable(848) %agg.tmp97, ptr noundef nonnull align 16 dereferenceable(848) %actions)
          to label %invoke.cont100 unwind label %lpad9.loopexit

invoke.cont100:                                   ; preds = %invoke.cont98
  invoke void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E14processActionsERN5folly12small_vectorINS1_6ActionELm4EvEE(ptr noundef nonnull align 8 dereferenceable(163) %this, ptr noundef nonnull align 16 dereferenceable(848) %agg.tmp97)
          to label %invoke.cont102 unwind label %lpad101

invoke.cont102:                                   ; preds = %invoke.cont100
  %205 = load i64, ptr %agg.tmp97, align 16
  %206 = load ptr, ptr %u.i.i.i228, align 16
  %tobool.not1.i.i.i229 = icmp slt i64 %205, 0
  %cond.i.i.i230 = select i1 %tobool.not1.i.i.i229, ptr %206, ptr %u.i.i.i228
  %and.i.i.i.i231 = and i64 %205, 4611686018427387903
  %add.ptr.i.i232 = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i230, i64 %and.i.i.i.i231
  %cmp.not7.i233 = icmp eq i64 %and.i.i.i.i231, 0
  br i1 %cmp.not7.i233, label %for.end.i238, label %for.body.i234

for.body.i234:                                    ; preds = %invoke.cont102, %for.body.i234
  %__begin0.08.i235 = phi ptr [ %incdec.ptr.i236, %for.body.i234 ], [ %cond.i.i.i230, %invoke.cont102 ]
  call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08.i235)
  %incdec.ptr.i236 = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08.i235, i64 1
  %cmp.not.i237 = icmp eq ptr %incdec.ptr.i236, %add.ptr.i.i232
  br i1 %cmp.not.i237, label %for.end.i238.loopexit, label %for.body.i234

for.end.i238.loopexit:                            ; preds = %for.body.i234
  %.pre615 = load i64, ptr %agg.tmp97, align 16
  br label %for.end.i238

for.end.i238:                                     ; preds = %for.end.i238.loopexit, %invoke.cont102
  %207 = phi i64 [ %.pre615, %for.end.i238.loopexit ], [ %205, %invoke.cont102 ]
  %tobool.not.i508 = icmp sgt i64 %207, -1
  br i1 %tobool.not.i508, label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit240, label %lor.lhs.false.i509

lor.lhs.false.i509:                               ; preds = %for.end.i238
  %208 = load ptr, ptr %u.i.i.i228, align 16
  %tobool2.not.i511 = icmp eq ptr %208, null
  br i1 %tobool2.not.i511, label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit240, label %if.then4.i512

if.then4.i512:                                    ; preds = %lor.lhs.false.i509
  %209 = load i64, ptr %capacity_.i.i.i513, align 8
  %mul.i514 = mul i64 %209, 208
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i507)
  %210 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i.i515 = icmp eq i8 %210, 0
  br i1 %guard.uninitialized.i.i.i.i.i515, label %init.check.i.i.i.i.i520, label %_ZN5folly11canSdallocxEv.exit.i.i516, !prof !81

init.check.i.i.i.i.i520:                          ; preds = %if.then4.i512
  %211 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i.i521 = icmp eq i32 %211, 0
  br i1 %tobool.i.not.i.i.i.i521, label %_ZN5folly11canSdallocxEv.exit.i.i516, label %init.i.i.i.i.i522

init.i.i.i.i.i522:                                ; preds = %init.check.i.i.i.i.i520
  %call.i.i.i.i.i523 = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i.i507)
  %frombool.i.i.i.i.i524 = zext i1 %call.i.i.i.i.i523 to i8
  store i8 %frombool.i.i.i.i.i524, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i.i516

_ZN5folly11canSdallocxEv.exit.i.i516:             ; preds = %init.i.i.i.i.i522, %init.check.i.i.i.i.i520, %if.then4.i512
  %212 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %213 = and i8 %212, 1
  %tobool1.i.i.i.not.i.i517 = icmp eq i8 %213, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i507)
  br i1 %tobool1.i.i.i.not.i.i517, label %if.else.i.i519, label %if.then.i.i518

if.then.i.i518:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i516
  call void @sdallocx(ptr noundef nonnull %208, i64 noundef %mul.i514, i32 noundef 0) #28
  br label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit240

if.else.i.i519:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i516
  call void @free(ptr noundef nonnull %208) #28
  br label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit240

_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit240: ; preds = %if.else.i.i519, %if.then.i.i518, %lor.lhs.false.i509, %for.end.i238
  %214 = load i8, ptr %hasValue.i.i11, align 16
  %215 = and i8 %214, 1
  %tobool.not.i.i.i242 = icmp eq i8 %215, 0
  br i1 %tobool.not.i.i.i242, label %_ZN5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEED2Ev.exit256, label %if.then.i.i.i243

if.then.i.i.i243:                                 ; preds = %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit240
  store i8 0, ptr %hasValue.i.i11, align 16
  %216 = load i64, ptr %actions, align 16
  %217 = load ptr, ptr %u.i.i.i.i.i.i169, align 16
  %tobool.not1.i.i.i.i.i.i245 = icmp slt i64 %216, 0
  %cond.i.i.i.i.i.i246 = select i1 %tobool.not1.i.i.i.i.i.i245, ptr %217, ptr %u.i.i.i.i.i.i169
  %and.i.i.i.i.i.i.i247 = and i64 %216, 4611686018427387903
  %add.ptr.i.i.i.i.i248 = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i.i.i.i246, i64 %and.i.i.i.i.i.i.i247
  %cmp.not7.i.i.i.i249 = icmp eq i64 %and.i.i.i.i.i.i.i247, 0
  br i1 %cmp.not7.i.i.i.i249, label %for.end.i.i.i.i254, label %for.body.i.i.i.i250

for.body.i.i.i.i250:                              ; preds = %if.then.i.i.i243, %for.body.i.i.i.i250
  %__begin0.08.i.i.i.i251 = phi ptr [ %incdec.ptr.i.i.i.i252, %for.body.i.i.i.i250 ], [ %cond.i.i.i.i.i.i246, %if.then.i.i.i243 ]
  call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08.i.i.i.i251)
  %incdec.ptr.i.i.i.i252 = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08.i.i.i.i251, i64 1
  %cmp.not.i.i.i.i253 = icmp eq ptr %incdec.ptr.i.i.i.i252, %add.ptr.i.i.i.i.i248
  br i1 %cmp.not.i.i.i.i253, label %for.end.i.i.i.i254.loopexit, label %for.body.i.i.i.i250

for.end.i.i.i.i254.loopexit:                      ; preds = %for.body.i.i.i.i250
  %.pre616 = load i64, ptr %actions, align 16
  br label %for.end.i.i.i.i254

for.end.i.i.i.i254:                               ; preds = %for.end.i.i.i.i254.loopexit, %if.then.i.i.i243
  %218 = phi i64 [ %.pre616, %for.end.i.i.i.i254.loopexit ], [ %216, %if.then.i.i.i243 ]
  %tobool.not.i527 = icmp sgt i64 %218, -1
  br i1 %tobool.not.i527, label %_ZN5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEED2Ev.exit256, label %lor.lhs.false.i528

lor.lhs.false.i528:                               ; preds = %for.end.i.i.i.i254
  %219 = load ptr, ptr %u.i.i.i.i.i.i169, align 16
  %tobool2.not.i530 = icmp eq ptr %219, null
  br i1 %tobool2.not.i530, label %_ZN5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEED2Ev.exit256, label %if.then4.i531

if.then4.i531:                                    ; preds = %lor.lhs.false.i528
  %220 = load i64, ptr %capacity_.i.i.i456, align 8
  %mul.i533 = mul i64 %220, 208
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i526)
  %221 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i.i534 = icmp eq i8 %221, 0
  br i1 %guard.uninitialized.i.i.i.i.i534, label %init.check.i.i.i.i.i539, label %_ZN5folly11canSdallocxEv.exit.i.i535, !prof !81

init.check.i.i.i.i.i539:                          ; preds = %if.then4.i531
  %222 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i.i540 = icmp eq i32 %222, 0
  br i1 %tobool.i.not.i.i.i.i540, label %_ZN5folly11canSdallocxEv.exit.i.i535, label %init.i.i.i.i.i541

init.i.i.i.i.i541:                                ; preds = %init.check.i.i.i.i.i539
  %call.i.i.i.i.i542 = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i.i526)
  %frombool.i.i.i.i.i543 = zext i1 %call.i.i.i.i.i542 to i8
  store i8 %frombool.i.i.i.i.i543, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i.i535

_ZN5folly11canSdallocxEv.exit.i.i535:             ; preds = %init.i.i.i.i.i541, %init.check.i.i.i.i.i539, %if.then4.i531
  %223 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %224 = and i8 %223, 1
  %tobool1.i.i.i.not.i.i536 = icmp eq i8 %224, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i526)
  br i1 %tobool1.i.i.i.not.i.i536, label %if.else.i.i538, label %if.then.i.i537

if.then.i.i537:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i535
  call void @sdallocx(ptr noundef nonnull %219, i64 noundef %mul.i533, i32 noundef 0) #28
  br label %_ZN5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEED2Ev.exit256

if.else.i.i538:                                   ; preds = %_ZN5folly11canSdallocxEv.exit.i.i535
  call void @free(ptr noundef nonnull %219) #28
  br label %_ZN5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEED2Ev.exit256

_ZN5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEED2Ev.exit256: ; preds = %if.else.i.i538, %if.then.i.i537, %lor.lhs.false.i528, %for.end.i.i.i.i254, %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit240
  %225 = load i8, ptr %hasValue.i.i, align 8
  %226 = and i8 %225, 1
  %tobool.i.i.not = icmp eq i8 %226, 0
  br i1 %tobool.i.i.not, label %land.lhs.true, label %_ZN5folly6detail14ScopeGuardImplIZN4fizz8FizzBaseINS2_6client10FizzClientINS4_16AsyncFizzClientTINS4_18ClientStateMachineEE17ActionMoveVisitorES7_EES9_S7_E20processPendingEventsEvEUlvE_Lb1EED2Ev.exit, !llvm.loop !82

lpad101:                                          ; preds = %invoke.cont100
  %227 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev(ptr noundef nonnull align 16 dereferenceable(848) %agg.tmp97) #28
  br label %ehcleanup104

ehcleanup104:                                     ; preds = %lpad9.loopexit, %lpad9.loopexit.split-lp, %lpad101, %ehcleanup92, %lpad19
  %.pn8 = phi { ptr, i32 } [ %227, %lpad101 ], [ %.pn6, %ehcleanup92 ], [ %47, %lpad19 ], [ %lpad.loopexit, %lpad9.loopexit ], [ %lpad.loopexit.split-lp, %lpad9.loopexit.split-lp ]
  call void @_ZN5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEED2Ev(ptr noundef nonnull align 16 dereferenceable(864) %actions) #28
  store i8 0, ptr %inProcessPendingEvents_, align 8
  call void @_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev(ptr noundef nonnull align 8 dereferenceable(8) %dg) #28
  resume { ptr, i32 } %.pn8

_ZN5folly6detail14ScopeGuardImplIZN4fizz8FizzBaseINS2_6client10FizzClientINS4_16AsyncFizzClientTINS4_18ClientStateMachineEE17ActionMoveVisitorES7_EES9_S7_E20processPendingEventsEvEUlvE_Lb1EED2Ev.exit: ; preds = %invoke.cont4, %_ZN5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEED2Ev.exit256, %land.rhs, %land.lhs.true, %_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit, %_ZN5folly8OptionalINS_22DelayedDestructionBase15DestructorGuardEE5resetEv.exit, %for.end.i.i.i.i221, %lor.lhs.false.i490, %if.then.i.i499, %if.else.i.i500
  store i8 0, ptr %inProcessPendingEvents_, align 8
  %228 = load ptr, ptr %dg, align 8
  %cmp.not.i259 = icmp eq ptr %228, null
  br i1 %cmp.not.i259, label %cleanup.cont109, label %if.then.i260

if.then.i260:                                     ; preds = %_ZN5folly6detail14ScopeGuardImplIZN4fizz8FizzBaseINS2_6client10FizzClientINS4_16AsyncFizzClientTINS4_18ClientStateMachineEE17ActionMoveVisitorES7_EES9_S7_E20processPendingEventsEvEUlvE_Lb1EED2Ev.exit
  %guardCount_.i261 = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %228, i64 0, i32 1
  %229 = load i32, ptr %guardCount_.i261, align 8
  %dec.i262 = add i32 %229, -1
  store i32 %dec.i262, ptr %guardCount_.i261, align 8
  %cmp5.i264 = icmp eq i32 %dec.i262, 0
  br i1 %cmp5.i264, label %if.then6.i265, label %cleanup.cont109

if.then6.i265:                                    ; preds = %if.then.i260
  %vtable.i266 = load ptr, ptr %228, align 8
  %vfn.i267 = getelementptr inbounds ptr, ptr %vtable.i266, i64 2
  %230 = load ptr, ptr %vfn.i267, align 8
  invoke void %230(ptr noundef nonnull align 8 dereferenceable(12) %228, i1 noundef zeroext true)
          to label %cleanup.cont109 unwind label %terminate.lpad.i268

terminate.lpad.i268:                              ; preds = %if.then6.i265
  %231 = landingpad { ptr, i32 }
          catch ptr null
  %232 = extractvalue { ptr, i32 } %231, 0
  call void @__clang_call_terminate(ptr %232) #30
  unreachable

cleanup.cont109:                                  ; preds = %if.then6.i265, %if.then.i260, %_ZN5folly6detail14ScopeGuardImplIZN4fizz8FizzBaseINS2_6client10FizzClientINS4_16AsyncFizzClientTINS4_18ClientStateMachineEE17ActionMoveVisitorES7_EES9_S7_E20processPendingEventsEvEUlvE_Lb1EED2Ev.exit, %entry
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE16_M_push_back_auxIJS2_EEEvDpOT_(ptr noundef nonnull align 8 dereferenceable(80) %this, ptr noundef nonnull align 8 dereferenceable(36) %__args) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %_M_finish.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 3
  %_M_start.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 2
  %_M_node.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 3
  %0 = load ptr, ptr %_M_node.i.i, align 8
  %_M_node1.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 3
  %1 = load ptr, ptr %_M_node1.i.i, align 8
  %sub.ptr.lhs.cast.i.i = ptrtoint ptr %0 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint ptr %1 to i64
  %sub.ptr.sub.i.i = sub i64 %sub.ptr.lhs.cast.i.i, %sub.ptr.rhs.cast.i.i
  %sub.ptr.div.i.i = ashr exact i64 %sub.ptr.sub.i.i, 3
  %tobool.i.i = icmp ne ptr %0, null
  %conv.neg.i.i = sext i1 %tobool.i.i to i64
  %sub.i.i = add nsw i64 %sub.ptr.div.i.i, %conv.neg.i.i
  %mul.i.i = mul nsw i64 %sub.i.i, 12
  %2 = load ptr, ptr %_M_finish.i, align 8
  %_M_first.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 1
  %3 = load ptr, ptr %_M_first.i.i, align 8
  %sub.ptr.lhs.cast3.i.i = ptrtoint ptr %2 to i64
  %sub.ptr.rhs.cast4.i.i = ptrtoint ptr %3 to i64
  %sub.ptr.sub5.i.i = sub i64 %sub.ptr.lhs.cast3.i.i, %sub.ptr.rhs.cast4.i.i
  %sub.ptr.div6.i.i = sdiv exact i64 %sub.ptr.sub5.i.i, 40
  %add.i.i = add nsw i64 %mul.i.i, %sub.ptr.div6.i.i
  %_M_last.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 2
  %4 = load ptr, ptr %_M_last.i.i, align 8
  %5 = load ptr, ptr %_M_start.i, align 8
  %sub.ptr.lhs.cast8.i.i = ptrtoint ptr %4 to i64
  %sub.ptr.rhs.cast9.i.i = ptrtoint ptr %5 to i64
  %sub.ptr.sub10.i.i = sub i64 %sub.ptr.lhs.cast8.i.i, %sub.ptr.rhs.cast9.i.i
  %sub.ptr.div11.i.i = sdiv exact i64 %sub.ptr.sub10.i.i, 40
  %add12.i.i = add nsw i64 %add.i.i, %sub.ptr.div11.i.i
  %cmp = icmp eq i64 %add12.i.i, 230584300921369395
  br i1 %cmp, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  tail call void @_ZSt20__throw_length_errorPKc(ptr noundef nonnull @.str.7) #33
  unreachable

if.end:                                           ; preds = %entry
  %_M_map_size.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 1
  %6 = load i64, ptr %_M_map_size.i, align 8
  %7 = load ptr, ptr %this, align 8
  %sub.ptr.rhs.cast.i = ptrtoint ptr %7 to i64
  %sub.ptr.sub.i = sub i64 %sub.ptr.lhs.cast.i.i, %sub.ptr.rhs.cast.i
  %sub.ptr.div.i = ashr exact i64 %sub.ptr.sub.i, 3
  %sub.i = sub i64 %6, %sub.ptr.div.i
  %cmp.i = icmp ult i64 %sub.i, 2
  br i1 %cmp.i, label %if.then.i, label %_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE22_M_reserve_map_at_backEm.exit

if.then.i:                                        ; preds = %if.end
  tail call void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE17_M_reallocate_mapEmb(ptr noundef nonnull align 8 dereferenceable(80) %this, i64 noundef 1, i1 noundef zeroext false)
  %.pre = load ptr, ptr %_M_node.i.i, align 8
  br label %_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE22_M_reserve_map_at_backEm.exit

_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE22_M_reserve_map_at_backEm.exit: ; preds = %if.end, %if.then.i
  %8 = phi ptr [ %0, %if.end ], [ %.pre, %if.then.i ]
  %call5.i.i.i = tail call noalias noundef nonnull dereferenceable(480) ptr @_Znwm(i64 noundef 480) #29
  %add.ptr = getelementptr inbounds ptr, ptr %8, i64 1
  store ptr %call5.i.i.i, ptr %add.ptr, align 8
  %9 = load ptr, ptr %_M_finish.i, align 8
  %type_.i.i.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %__args, i64 0, i32 1
  %10 = load i32, ptr %type_.i.i.i, align 8
  switch i32 %10, label %invoke.cont [
    i32 0, label %sw.bb.i.i.i
    i32 1, label %sw.bb2.i.i.i
    i32 2, label %sw.bb3.i.i.i
    i32 3, label %sw.bb4.i.i.i
  ]

sw.bb.i.i.i:                                      ; preds = %_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE22_M_reserve_map_at_backEm.exit
  %11 = load ptr, ptr %__args, align 8
  store ptr %11, ptr %9, align 8
  %data.i.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %9, i64 0, i32 1
  %data3.i.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %__args, i64 0, i32 1
  %12 = load i64, ptr %data3.i.i.i.i, align 8
  store i64 %12, ptr %data.i.i.i.i, align 8
  store ptr null, ptr %data3.i.i.i.i, align 8
  %flags.i.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %9, i64 0, i32 2
  %flags4.i.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %__args, i64 0, i32 2
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(12) %flags4.i.i.i.i, i64 12, i1 false)
  br label %invoke.cont

sw.bb2.i.i.i:                                     ; preds = %_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE22_M_reserve_map_at_backEm.exit
  %13 = load ptr, ptr %__args, align 8
  store ptr %13, ptr %9, align 8
  %data.i6.i.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %9, i64 0, i32 1
  %data3.i7.i.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %__args, i64 0, i32 1
  %14 = load i64, ptr %data3.i7.i.i.i, align 8
  store i64 %14, ptr %data.i6.i.i.i, align 8
  store ptr null, ptr %data3.i7.i.i.i, align 8
  %flags.i8.i.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %9, i64 0, i32 2
  %flags4.i9.i.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %__args, i64 0, i32 2
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i8.i.i.i, ptr noundef nonnull align 8 dereferenceable(12) %flags4.i9.i.i.i, i64 12, i1 false)
  br label %invoke.cont

sw.bb3.i.i.i:                                     ; preds = %_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE22_M_reserve_map_at_backEm.exit
  %15 = load i32, ptr %__args, align 8
  store i32 %15, ptr %9, align 8
  br label %invoke.cont

sw.bb4.i.i.i:                                     ; preds = %_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE22_M_reserve_map_at_backEm.exit
  %16 = load i64, ptr %__args, align 8
  store i64 %16, ptr %9, align 8
  store ptr null, ptr %__args, align 8
  br label %invoke.cont

invoke.cont:                                      ; preds = %sw.bb4.i.i.i, %sw.bb3.i.i.i, %sw.bb2.i.i.i, %sw.bb.i.i.i, %_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE22_M_reserve_map_at_backEm.exit
  %17 = load i32, ptr %type_.i.i.i, align 8
  %type_6.i.i.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %9, i64 0, i32 1
  store i32 %17, ptr %type_6.i.i.i, align 8
  %18 = load ptr, ptr %_M_node.i.i, align 8
  %add.ptr12 = getelementptr inbounds ptr, ptr %18, i64 1
  store ptr %add.ptr12, ptr %_M_node.i.i, align 8
  %19 = load ptr, ptr %add.ptr12, align 8
  store ptr %19, ptr %_M_first.i.i, align 8
  %add.ptr.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %19, i64 12
  %_M_last.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 2
  store ptr %add.ptr.i, ptr %_M_last.i, align 8
  store ptr %19, ptr %_M_finish.i, align 8
  ret void
}

; Function Attrs: noreturn
declare void @_ZSt20__throw_length_errorPKc(ptr noundef) local_unnamed_addr #16

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE17_M_reallocate_mapEmb(ptr noundef nonnull align 8 dereferenceable(80) %this, i64 noundef %__nodes_to_add, i1 noundef zeroext %__add_at_front) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %_M_node = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 3
  %0 = load ptr, ptr %_M_node, align 8
  %_M_node3 = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 3
  %1 = load ptr, ptr %_M_node3, align 8
  %sub.ptr.lhs.cast = ptrtoint ptr %0 to i64
  %sub.ptr.rhs.cast = ptrtoint ptr %1 to i64
  %sub.ptr.sub = sub i64 %sub.ptr.lhs.cast, %sub.ptr.rhs.cast
  %sub.ptr.div = ashr exact i64 %sub.ptr.sub, 3
  %add = add nsw i64 %sub.ptr.div, 1
  %add4 = add i64 %add, %__nodes_to_add
  %_M_map_size = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 1
  %2 = load i64, ptr %_M_map_size, align 8
  %mul = shl i64 %add4, 1
  %cmp = icmp ugt i64 %2, %mul
  br i1 %cmp, label %if.then, label %if.else31

if.then:                                          ; preds = %entry
  %3 = load ptr, ptr %this, align 8
  %sub = sub i64 %2, %add4
  %div17 = lshr i64 %sub, 1
  %add.ptr = getelementptr inbounds ptr, ptr %3, i64 %div17
  %cond = select i1 %__add_at_front, i64 %__nodes_to_add, i64 0
  %add.ptr9 = getelementptr inbounds ptr, ptr %add.ptr, i64 %cond
  %cmp13 = icmp ult ptr %add.ptr9, %1
  %add.ptr21 = getelementptr inbounds ptr, ptr %0, i64 1
  %tobool.not.i.i.i.i.i = icmp eq ptr %add.ptr21, %1
  br i1 %cmp13, label %if.then14, label %if.else

if.then14:                                        ; preds = %if.then
  br i1 %tobool.not.i.i.i.i.i, label %if.end65, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.then14
  %sub.ptr.lhs.cast.i.i.i.i.i = ptrtoint ptr %add.ptr21 to i64
  %sub.ptr.sub.i.i.i.i.i = sub i64 %sub.ptr.lhs.cast.i.i.i.i.i, %sub.ptr.rhs.cast
  tail call void @llvm.memmove.p0.p0.i64(ptr align 8 %add.ptr9, ptr nonnull align 8 %1, i64 %sub.ptr.sub.i.i.i.i.i, i1 false)
  br label %if.end65

if.else:                                          ; preds = %if.then
  br i1 %tobool.not.i.i.i.i.i, label %if.end65, label %if.then.i.i.i.i.i23

if.then.i.i.i.i.i23:                              ; preds = %if.else
  %sub.ptr.lhs.cast.i.i.i.i.i18 = ptrtoint ptr %add.ptr21 to i64
  %sub.ptr.sub.i.i.i.i.i20 = sub i64 %sub.ptr.lhs.cast.i.i.i.i.i18, %sub.ptr.rhs.cast
  %sub.ptr.div.i.i.i.i.i21 = ashr exact i64 %sub.ptr.sub.i.i.i.i.i20, 3
  %.pre.i.i.i.i.i = sub nsw i64 0, %sub.ptr.div.i.i.i.i.i21
  %add.ptr29 = getelementptr inbounds ptr, ptr %add.ptr9, i64 %add
  %add.ptr.i.i.i.i.i24 = getelementptr inbounds ptr, ptr %add.ptr29, i64 %.pre.i.i.i.i.i
  tail call void @llvm.memmove.p0.p0.i64(ptr align 8 %add.ptr.i.i.i.i.i24, ptr align 8 %1, i64 %sub.ptr.sub.i.i.i.i.i20, i1 false)
  br label %if.end65

if.else31:                                        ; preds = %entry
  %.sroa.speculated = tail call i64 @llvm.umax.i64(i64 %2, i64 %__nodes_to_add)
  %add37 = add i64 %2, 2
  %add38 = add i64 %add37, %.sroa.speculated
  %cmp.i.i.i = icmp ugt i64 %add38, 1152921504606846975
  br i1 %cmp.i.i.i, label %if.then.i.i.i, label %_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE15_M_allocate_mapEm.exit

if.then.i.i.i:                                    ; preds = %if.else31
  %cmp2.i.i.i = icmp ugt i64 %add38, 2305843009213693951
  br i1 %cmp2.i.i.i, label %if.then3.i.i.i, label %if.end.i.i.i

if.then3.i.i.i:                                   ; preds = %if.then.i.i.i
  tail call void @_ZSt28__throw_bad_array_new_lengthv() #33
  unreachable

if.end.i.i.i:                                     ; preds = %if.then.i.i.i
  tail call void @_ZSt17__throw_bad_allocv() #33
  unreachable

_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE15_M_allocate_mapEm.exit: ; preds = %if.else31
  %mul.i.i.i = shl nuw nsw i64 %add38, 3
  %call5.i.i2.i = tail call noalias noundef nonnull ptr @_Znwm(i64 noundef %mul.i.i.i) #29
  %sub40 = sub i64 %add38, %add4
  %div4116 = lshr i64 %sub40, 1
  %add.ptr42 = getelementptr inbounds ptr, ptr %call5.i.i2.i, i64 %div4116
  %cond47 = select i1 %__add_at_front, i64 %__nodes_to_add, i64 0
  %add.ptr48 = getelementptr inbounds ptr, ptr %add.ptr42, i64 %cond47
  %add.ptr55 = getelementptr inbounds ptr, ptr %0, i64 1
  %tobool.not.i.i.i.i.i28 = icmp eq ptr %add.ptr55, %1
  br i1 %tobool.not.i.i.i.i.i28, label %_ZSt4copyIPPN4fizz6detail12PendingEventES4_ET0_T_S6_S5_.exit32, label %if.then.i.i.i.i.i29

if.then.i.i.i.i.i29:                              ; preds = %_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE15_M_allocate_mapEm.exit
  %sub.ptr.lhs.cast.i.i.i.i.i25 = ptrtoint ptr %add.ptr55 to i64
  %sub.ptr.sub.i.i.i.i.i27 = sub i64 %sub.ptr.lhs.cast.i.i.i.i.i25, %sub.ptr.rhs.cast
  tail call void @llvm.memmove.p0.p0.i64(ptr nonnull align 8 %add.ptr48, ptr align 8 %1, i64 %sub.ptr.sub.i.i.i.i.i27, i1 false)
  br label %_ZSt4copyIPPN4fizz6detail12PendingEventES4_ET0_T_S6_S5_.exit32

_ZSt4copyIPPN4fizz6detail12PendingEventES4_ET0_T_S6_S5_.exit32: ; preds = %_ZNSt11_Deque_baseIN4fizz6detail12PendingEventESaIS2_EE15_M_allocate_mapEm.exit, %if.then.i.i.i.i.i29
  %4 = load ptr, ptr %this, align 8
  tail call void @_ZdlPv(ptr noundef %4) #31
  store ptr %call5.i.i2.i, ptr %this, align 8
  store i64 %add38, ptr %_M_map_size, align 8
  br label %if.end65

if.end65:                                         ; preds = %if.then.i.i.i.i.i, %if.then14, %if.then.i.i.i.i.i23, %if.else, %_ZSt4copyIPPN4fizz6detail12PendingEventES4_ET0_T_S6_S5_.exit32
  %__new_nstart.0 = phi ptr [ %add.ptr48, %_ZSt4copyIPPN4fizz6detail12PendingEventES4_ET0_T_S6_S5_.exit32 ], [ %add.ptr9, %if.else ], [ %add.ptr9, %if.then.i.i.i.i.i23 ], [ %add.ptr9, %if.then14 ], [ %add.ptr9, %if.then.i.i.i.i.i ]
  store ptr %__new_nstart.0, ptr %_M_node3, align 8
  %5 = load ptr, ptr %__new_nstart.0, align 8
  %_M_first.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 1
  store ptr %5, ptr %_M_first.i, align 8
  %add.ptr.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %5, i64 12
  %_M_last.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 2
  store ptr %add.ptr.i, ptr %_M_last.i, align 8
  %add.ptr70 = getelementptr inbounds ptr, ptr %__new_nstart.0, i64 %add
  %add.ptr71 = getelementptr inbounds ptr, ptr %add.ptr70, i64 -1
  store ptr %add.ptr71, ptr %_M_node, align 8
  %6 = load ptr, ptr %add.ptr71, align 8
  %_M_first.i34 = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 1
  store ptr %6, ptr %_M_first.i34, align 8
  %add.ptr.i35 = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %6, i64 12
  %_M_last.i36 = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 2
  store ptr %add.ptr.i35, ptr %_M_last.i36, align 8
  ret void
}

; Function Attrs: mustprogress nocallback nofree nounwind willreturn memory(argmem: readwrite)
declare void @llvm.memmove.p0.p0.i64(ptr nocapture writeonly, ptr nocapture readonly, i64, i1 immarg) #9

declare void @_ZN4fizz6client18ClientStateMachine17processSocketDataERKNS0_5StateERN5folly10IOBufQueueENS_4Aead11AeadOptionsE(ptr sret(%"class.folly::small_vector.437") align 16, ptr noundef nonnull align 8 dereferenceable(8), ptr noundef nonnull align 8 dereferenceable(1096), ptr noundef nonnull align 8 dereferenceable(72), i64) unnamed_addr #0

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev(ptr noundef nonnull align 16 dereferenceable(848) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %0 = load i64, ptr %this, align 16
  %u.i.i = getelementptr inbounds %"class.folly::small_vector.437", ptr %this, i64 0, i32 2
  %1 = load ptr, ptr %u.i.i, align 16
  %tobool.not1.i.i = icmp slt i64 %0, 0
  %cond.i.i = select i1 %tobool.not1.i.i, ptr %1, ptr %u.i.i
  %and.i.i.i = and i64 %0, 4611686018427387903
  %add.ptr.i = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i, i64 %and.i.i.i
  %cmp.not7 = icmp eq i64 %and.i.i.i, 0
  br i1 %cmp.not7, label %for.end, label %for.body

for.body:                                         ; preds = %entry, %for.body
  %__begin0.08 = phi ptr [ %incdec.ptr, %for.body ], [ %cond.i.i, %entry ]
  tail call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08)
  %incdec.ptr = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08, i64 1
  %cmp.not = icmp eq ptr %incdec.ptr, %add.ptr.i
  br i1 %cmp.not, label %for.end, label %for.body

for.end:                                          ; preds = %for.body, %entry
  invoke void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvE8freeHeapEv(ptr noundef nonnull align 16 dereferenceable(848) %this)
          to label %invoke.cont3 unwind label %terminate.lpad

invoke.cont3:                                     ; preds = %for.end
  ret void

terminate.lpad:                                   ; preds = %for.end
  %2 = landingpad { ptr, i32 }
          catch ptr null
  %3 = extractvalue { ptr, i32 } %2, 0
  tail call void @__clang_call_terminate(ptr %3) #30
  unreachable
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE9pop_frontEv(ptr noundef nonnull align 8 dereferenceable(80) %this) local_unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %_M_start = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 2
  %0 = load ptr, ptr %_M_start, align 8
  %_M_last = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 2
  %1 = load ptr, ptr %_M_last, align 8
  %add.ptr = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %1, i64 -1
  %cmp.not = icmp eq ptr %0, %add.ptr
  %type_.i.i.i.i.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %0, i64 0, i32 1
  %2 = load i32, ptr %type_.i.i.i.i.i, align 8
  br i1 %cmp.not, label %if.else, label %if.then

if.then:                                          ; preds = %entry
  switch i32 %2, label %_ZNSt16allocator_traitsISaIN4fizz6detail12PendingEventEEE7destroyIS2_EEvRS3_PT_.exit [
    i32 0, label %sw.bb.i.i.i.i
    i32 1, label %sw.bb2.i.i.i.i
    i32 3, label %sw.bb4.i.i.i.i
  ]

sw.bb.i.i.i.i:                                    ; preds = %if.then
  %data.i.i.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %0, i64 0, i32 1
  %3 = load ptr, ptr %data.i.i.i.i.i, align 8
  %cmp.not.i.i.i.i.i.i = icmp eq ptr %3, null
  br i1 %cmp.not.i.i.i.i.i.i, label %sw.epilog.sink.split.i.i.i.i, label %sw.epilog.sink.split.sink.split.i.i.i.i

sw.bb2.i.i.i.i:                                   ; preds = %if.then
  %data.i1.i.i.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %0, i64 0, i32 1
  %4 = load ptr, ptr %data.i1.i.i.i.i, align 8
  %cmp.not.i.i2.i.i.i.i = icmp eq ptr %4, null
  br i1 %cmp.not.i.i2.i.i.i.i, label %sw.epilog.sink.split.i.i.i.i, label %sw.epilog.sink.split.sink.split.i.i.i.i

sw.bb4.i.i.i.i:                                   ; preds = %if.then
  %5 = load ptr, ptr %0, align 8
  %cmp.not.i.i4.i.i.i.i = icmp eq ptr %5, null
  br i1 %cmp.not.i.i4.i.i.i.i, label %sw.epilog.sink.split.i.i.i.i, label %sw.epilog.sink.split.sink.split.i.i.i.i

sw.epilog.sink.split.sink.split.i.i.i.i:          ; preds = %sw.bb4.i.i.i.i, %sw.bb2.i.i.i.i, %sw.bb.i.i.i.i
  %.sink6.i.i.i.i = phi ptr [ %3, %sw.bb.i.i.i.i ], [ %4, %sw.bb2.i.i.i.i ], [ %5, %sw.bb4.i.i.i.i ]
  %this.sink.ph.i.i.i.i = phi ptr [ %data.i.i.i.i.i, %sw.bb.i.i.i.i ], [ %data.i1.i.i.i.i, %sw.bb2.i.i.i.i ], [ %0, %sw.bb4.i.i.i.i ]
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %.sink6.i.i.i.i) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %.sink6.i.i.i.i) #28
  br label %sw.epilog.sink.split.i.i.i.i

sw.epilog.sink.split.i.i.i.i:                     ; preds = %sw.epilog.sink.split.sink.split.i.i.i.i, %sw.bb4.i.i.i.i, %sw.bb2.i.i.i.i, %sw.bb.i.i.i.i
  %this.sink.i.i.i.i = phi ptr [ %data.i.i.i.i.i, %sw.bb.i.i.i.i ], [ %data.i1.i.i.i.i, %sw.bb2.i.i.i.i ], [ %0, %sw.bb4.i.i.i.i ], [ %this.sink.ph.i.i.i.i, %sw.epilog.sink.split.sink.split.i.i.i.i ]
  store ptr null, ptr %this.sink.i.i.i.i, align 8
  %.pre = load ptr, ptr %_M_start, align 8
  br label %_ZNSt16allocator_traitsISaIN4fizz6detail12PendingEventEEE7destroyIS2_EEvRS3_PT_.exit

_ZNSt16allocator_traitsISaIN4fizz6detail12PendingEventEEE7destroyIS2_EEvRS3_PT_.exit: ; preds = %if.then, %sw.epilog.sink.split.i.i.i.i
  %6 = phi ptr [ %0, %if.then ], [ %.pre, %sw.epilog.sink.split.i.i.i.i ]
  %incdec.ptr = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %6, i64 1
  br label %if.end

if.else:                                          ; preds = %entry
  switch i32 %2, label %_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE16_M_pop_front_auxEv.exit [
    i32 0, label %sw.bb.i.i.i.i.i
    i32 1, label %sw.bb2.i.i.i.i.i
    i32 3, label %sw.bb4.i.i.i.i.i
  ]

sw.bb.i.i.i.i.i:                                  ; preds = %if.else
  %data.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %0, i64 0, i32 1
  %7 = load ptr, ptr %data.i.i.i.i.i.i, align 8
  %cmp.not.i.i.i.i.i.i.i = icmp eq ptr %7, null
  br i1 %cmp.not.i.i.i.i.i.i.i, label %sw.epilog.sink.split.i.i.i.i.i, label %sw.epilog.sink.split.sink.split.i.i.i.i.i

sw.bb2.i.i.i.i.i:                                 ; preds = %if.else
  %data.i1.i.i.i.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %0, i64 0, i32 1
  %8 = load ptr, ptr %data.i1.i.i.i.i.i, align 8
  %cmp.not.i.i2.i.i.i.i.i = icmp eq ptr %8, null
  br i1 %cmp.not.i.i2.i.i.i.i.i, label %sw.epilog.sink.split.i.i.i.i.i, label %sw.epilog.sink.split.sink.split.i.i.i.i.i

sw.bb4.i.i.i.i.i:                                 ; preds = %if.else
  %9 = load ptr, ptr %0, align 8
  %cmp.not.i.i4.i.i.i.i.i = icmp eq ptr %9, null
  br i1 %cmp.not.i.i4.i.i.i.i.i, label %sw.epilog.sink.split.i.i.i.i.i, label %sw.epilog.sink.split.sink.split.i.i.i.i.i

sw.epilog.sink.split.sink.split.i.i.i.i.i:        ; preds = %sw.bb4.i.i.i.i.i, %sw.bb2.i.i.i.i.i, %sw.bb.i.i.i.i.i
  %.sink6.i.i.i.i.i = phi ptr [ %7, %sw.bb.i.i.i.i.i ], [ %8, %sw.bb2.i.i.i.i.i ], [ %9, %sw.bb4.i.i.i.i.i ]
  %this.sink.ph.i.i.i.i.i = phi ptr [ %data.i.i.i.i.i.i, %sw.bb.i.i.i.i.i ], [ %data.i1.i.i.i.i.i, %sw.bb2.i.i.i.i.i ], [ %0, %sw.bb4.i.i.i.i.i ]
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %.sink6.i.i.i.i.i) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %.sink6.i.i.i.i.i) #28
  br label %sw.epilog.sink.split.i.i.i.i.i

sw.epilog.sink.split.i.i.i.i.i:                   ; preds = %sw.epilog.sink.split.sink.split.i.i.i.i.i, %sw.bb4.i.i.i.i.i, %sw.bb2.i.i.i.i.i, %sw.bb.i.i.i.i.i
  %this.sink.i.i.i.i.i = phi ptr [ %data.i.i.i.i.i.i, %sw.bb.i.i.i.i.i ], [ %data.i1.i.i.i.i.i, %sw.bb2.i.i.i.i.i ], [ %0, %sw.bb4.i.i.i.i.i ], [ %this.sink.ph.i.i.i.i.i, %sw.epilog.sink.split.sink.split.i.i.i.i.i ]
  store ptr null, ptr %this.sink.i.i.i.i.i, align 8
  br label %_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE16_M_pop_front_auxEv.exit

_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE16_M_pop_front_auxEv.exit: ; preds = %if.else, %sw.epilog.sink.split.i.i.i.i.i
  %_M_first.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 1
  %10 = load ptr, ptr %_M_first.i, align 8
  tail call void @_ZdlPv(ptr noundef %10) #31
  %_M_node.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::detail::PendingEvent, std::allocator<fizz::detail::PendingEvent>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 3
  %11 = load ptr, ptr %_M_node.i, align 8
  %add.ptr.i = getelementptr inbounds ptr, ptr %11, i64 1
  store ptr %add.ptr.i, ptr %_M_node.i, align 8
  %12 = load ptr, ptr %add.ptr.i, align 8
  store ptr %12, ptr %_M_first.i, align 8
  %add.ptr.i.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %12, i64 12
  store ptr %add.ptr.i.i, ptr %_M_last, align 8
  br label %if.end

if.end:                                           ; preds = %_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE16_M_pop_front_auxEv.exit, %_ZNSt16allocator_traitsISaIN4fizz6detail12PendingEventEEE7destroyIS2_EEvRS3_PT_.exit
  %storemerge = phi ptr [ %incdec.ptr, %_ZNSt16allocator_traitsISaIN4fizz6detail12PendingEventEEE7destroyIS2_EEvRS3_PT_.exit ], [ %12, %_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE16_M_pop_front_auxEv.exit ]
  store ptr %storemerge, ptr %_M_start, align 8
  ret void
}

declare void @_ZN4fizz6client18ClientStateMachine28processWriteNewSessionTicketERKNS0_5StateENS_21WriteNewSessionTicketE(ptr sret(%"class.folly::small_vector.437") align 16, ptr noundef nonnull align 8 dereferenceable(8), ptr noundef nonnull align 8 dereferenceable(1096), ptr noundef) unnamed_addr #0

declare void @_ZN4fizz6client18ClientStateMachine15processAppWriteERKNS0_5StateENS_8AppWriteE(ptr sret(%"class.folly::small_vector.437") align 16, ptr noundef nonnull align 8 dereferenceable(8), ptr noundef nonnull align 8 dereferenceable(1096), ptr noundef) unnamed_addr #0

declare void @_ZN4fizz6client18ClientStateMachine20processEarlyAppWriteERKNS0_5StateENS_13EarlyAppWriteE(ptr sret(%"class.folly::small_vector.437") align 16, ptr noundef nonnull align 8 dereferenceable(8), ptr noundef nonnull align 8 dereferenceable(1096), ptr noundef) unnamed_addr #0

declare void @_ZN4fizz6client18ClientStateMachine15processAppCloseERKNS0_5StateE(ptr sret(%"class.folly::small_vector.437") align 16, ptr noundef nonnull align 8 dereferenceable(8), ptr noundef nonnull align 8 dereferenceable(1096)) unnamed_addr #0

declare void @_ZN4fizz6client18ClientStateMachine24processAppCloseImmediateERKNS0_5StateE(ptr sret(%"class.folly::small_vector.437") align 16, ptr noundef nonnull align 8 dereferenceable(8), ptr noundef nonnull align 8 dereferenceable(1096)) unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvEC2EOS4_(ptr noundef nonnull align 16 dereferenceable(848) %this, ptr noundef nonnull align 16 dereferenceable(848) %o) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  store i64 0, ptr %this, align 16
  %u.ptr = getelementptr inbounds i8, ptr %this, i64 16
  store ptr null, ptr %u.ptr, align 16
  %0 = load i64, ptr %o, align 16
  %tobool.not = icmp sgt i64 %0, -1
  br i1 %tobool.not, label %if.else, label %if.then

if.then:                                          ; preds = %entry
  %u2 = getelementptr inbounds %"class.folly::small_vector.437", ptr %o, i64 0, i32 2
  %1 = load ptr, ptr %u2, align 16
  store ptr %1, ptr %u.ptr, align 16
  store ptr null, ptr %u2, align 16
  %2 = load i64, ptr %this, align 16
  %3 = load i64, ptr %o, align 16
  store i64 %3, ptr %this, align 16
  store i64 %2, ptr %o, align 16
  %capacity_.i.i = getelementptr inbounds %"class.folly::small_vector.437", ptr %o, i64 0, i32 2, i32 0, i32 1
  %4 = load i64, ptr %capacity_.i.i, align 8
  %capacity_.i.i9 = getelementptr inbounds %"class.folly::small_vector.437", ptr %this, i64 0, i32 2, i32 0, i32 1
  store i64 %4, ptr %capacity_.i.i9, align 8
  br label %if.end

if.else:                                          ; preds = %entry
  %and.i.i = and i64 %0, 4611686018427387903
  %u.i.i.ptr = getelementptr inbounds i8, ptr %o, i64 16
  %add.ptr.i.idx = mul nsw i64 %and.i.i, 208
  %5 = getelementptr i8, ptr %o, i64 %add.ptr.i.idx
  %add.ptr.i.ptr = getelementptr i8, ptr %5, i64 16
  %cmp.i.i.not8.i.i.i = icmp eq i64 %and.i.i, 0
  br i1 %cmp.i.i.not8.i.i.i, label %_ZSt18uninitialized_copyISt13move_iteratorIPN4fizz6client6ActionEES4_ET0_T_S7_S6_.exit, label %for.body.i.i.i

for.body.i.i.i:                                   ; preds = %if.else, %for.inc.i.i.i
  %__cur.010.i.i.i.idx = phi i64 [ %__cur.010.i.i.i.add, %for.inc.i.i.i ], [ 16, %if.else ]
  %__first.sroa.0.09.i.i.i = phi ptr [ %incdec.ptr.i.i.i.i, %for.inc.i.i.i ], [ %u.i.i.ptr, %if.else ]
  %__cur.010.i.i.i.ptr = getelementptr inbounds i8, ptr %this, i64 %__cur.010.i.i.i.idx
  invoke void @_ZN4fizz6client6ActionC2EOS1_(ptr noundef nonnull align 16 dereferenceable(196) %__cur.010.i.i.i.ptr, ptr noundef nonnull align 16 dereferenceable(196) %__first.sroa.0.09.i.i.i)
          to label %for.inc.i.i.i unwind label %lpad.i.i.i

for.inc.i.i.i:                                    ; preds = %for.body.i.i.i
  %incdec.ptr.i.i.i.i = getelementptr inbounds %"struct.fizz::client::Action", ptr %__first.sroa.0.09.i.i.i, i64 1
  %__cur.010.i.i.i.add = add nuw nsw i64 %__cur.010.i.i.i.idx, 208
  %cmp.i.i.not.i.i.i = icmp eq ptr %incdec.ptr.i.i.i.i, %add.ptr.i.ptr
  br i1 %cmp.i.i.not.i.i.i, label %_ZSt18uninitialized_copyISt13move_iteratorIPN4fizz6client6ActionEES4_ET0_T_S7_S6_.exit.loopexit, label %for.body.i.i.i, !llvm.loop !83

lpad.i.i.i:                                       ; preds = %for.body.i.i.i
  %6 = landingpad { ptr, i32 }
          catch ptr null
  %7 = extractvalue { ptr, i32 } %6, 0
  %8 = tail call ptr @__cxa_begin_catch(ptr %7) #28
  %cmp.not3.i.i.i.i.i = icmp eq i64 %__cur.010.i.i.i.idx, 16
  br i1 %cmp.not3.i.i.i.i.i, label %invoke.cont8.i.i.i, label %for.body.i.i.i.i.i

for.body.i.i.i.i.i:                               ; preds = %lpad.i.i.i, %for.body.i.i.i.i.i
  %__first.addr.04.i.i.i.i.i = phi ptr [ %incdec.ptr.i.i.i.i.i, %for.body.i.i.i.i.i ], [ %u.ptr, %lpad.i.i.i ]
  tail call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__first.addr.04.i.i.i.i.i)
  %incdec.ptr.i.i.i.i.i = getelementptr inbounds %"struct.fizz::client::Action", ptr %__first.addr.04.i.i.i.i.i, i64 1
  %cmp.not.i.i.i.i.i = icmp eq ptr %incdec.ptr.i.i.i.i.i, %__cur.010.i.i.i.ptr
  br i1 %cmp.not.i.i.i.i.i, label %invoke.cont8.i.i.i, label %for.body.i.i.i.i.i, !llvm.loop !84

invoke.cont8.i.i.i:                               ; preds = %for.body.i.i.i.i.i, %lpad.i.i.i
  invoke void @__cxa_rethrow() #33
          to label %unreachable.i.i.i unwind label %lpad7.i.i.i

lpad7.i.i.i:                                      ; preds = %invoke.cont8.i.i.i
  %9 = landingpad { ptr, i32 }
          cleanup
  invoke void @__cxa_end_catch()
          to label %eh.resume.i.i.i unwind label %terminate.lpad.i.i.i

eh.resume.i.i.i:                                  ; preds = %lpad7.i.i.i
  resume { ptr, i32 } %9

terminate.lpad.i.i.i:                             ; preds = %lpad7.i.i.i
  %10 = landingpad { ptr, i32 }
          catch ptr null
  %11 = extractvalue { ptr, i32 } %10, 0
  tail call void @__clang_call_terminate(ptr %11) #30
  unreachable

unreachable.i.i.i:                                ; preds = %invoke.cont8.i.i.i
  unreachable

_ZSt18uninitialized_copyISt13move_iteratorIPN4fizz6client6ActionEES4_ET0_T_S7_S6_.exit.loopexit: ; preds = %for.inc.i.i.i
  %.pre = load i64, ptr %this, align 16
  %12 = and i64 %.pre, -4611686018427387904
  br label %_ZSt18uninitialized_copyISt13move_iteratorIPN4fizz6client6ActionEES4_ET0_T_S7_S6_.exit

_ZSt18uninitialized_copyISt13move_iteratorIPN4fizz6client6ActionEES4_ET0_T_S7_S6_.exit: ; preds = %_ZSt18uninitialized_copyISt13move_iteratorIPN4fizz6client6ActionEES4_ET0_T_S7_S6_.exit.loopexit, %if.else
  %and.i = phi i64 [ %12, %_ZSt18uninitialized_copyISt13move_iteratorIPN4fizz6client6ActionEES4_ET0_T_S7_S6_.exit.loopexit ], [ 0, %if.else ]
  %or.i = or disjoint i64 %and.i, %and.i.i
  store i64 %or.i, ptr %this, align 16
  %13 = load i64, ptr %o, align 16
  %14 = load ptr, ptr %u.i.i.ptr, align 16
  %tobool.not1.i.i.i.i = icmp slt i64 %13, 0
  %cond.i.i.i.i = select i1 %tobool.not1.i.i.i.i, ptr %14, ptr %u.i.i.ptr
  %and.i.i.i.i.i = and i64 %13, 4611686018427387903
  %add.ptr.i.i.i = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i.i, i64 %and.i.i.i.i.i
  %cmp.not7.i.i = icmp eq i64 %and.i.i.i.i.i, 0
  br i1 %cmp.not7.i.i, label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvE5clearEv.exit, label %for.body.i.i

for.body.i.i:                                     ; preds = %_ZSt18uninitialized_copyISt13move_iteratorIPN4fizz6client6ActionEES4_ET0_T_S7_S6_.exit, %for.body.i.i
  %it.08.i.i = phi ptr [ %incdec.ptr.i.i, %for.body.i.i ], [ %cond.i.i.i.i, %_ZSt18uninitialized_copyISt13move_iteratorIPN4fizz6client6ActionEES4_ET0_T_S7_S6_.exit ]
  tail call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %it.08.i.i)
  %incdec.ptr.i.i = getelementptr inbounds %"struct.fizz::client::Action", ptr %it.08.i.i, i64 1
  %cmp.not.i.i = icmp eq ptr %incdec.ptr.i.i, %add.ptr.i.i.i
  br i1 %cmp.not.i.i, label %for.end.loopexit.i.i, label %for.body.i.i, !llvm.loop !85

for.end.loopexit.i.i:                             ; preds = %for.body.i.i
  %.pre.i.i = load i64, ptr %o, align 16
  br label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvE5clearEv.exit

_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvE5clearEv.exit: ; preds = %_ZSt18uninitialized_copyISt13move_iteratorIPN4fizz6client6ActionEES4_ET0_T_S7_S6_.exit, %for.end.loopexit.i.i
  %15 = phi i64 [ %.pre.i.i, %for.end.loopexit.i.i ], [ %13, %_ZSt18uninitialized_copyISt13move_iteratorIPN4fizz6client6ActionEES4_ET0_T_S7_S6_.exit ]
  %and.i.i.i16 = and i64 %15, -4611686018427387904
  store i64 %and.i.i.i16, ptr %o, align 16
  br label %if.end

if.end:                                           ; preds = %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvE5clearEv.exit, %if.then
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEED2Ev(ptr noundef nonnull align 16 dereferenceable(864) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %hasValue.i.i = getelementptr inbounds %"struct.folly::Optional<folly::small_vector<fizz::client::Action, 4>>::StorageNonTriviallyDestructible", ptr %this, i64 0, i32 1
  %0 = load i8, ptr %hasValue.i.i, align 16
  %1 = and i8 %0, 1
  %tobool.not.i.i = icmp eq i8 %1, 0
  br i1 %tobool.not.i.i, label %_ZN5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE31StorageNonTriviallyDestructibleD2Ev.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %entry
  store i8 0, ptr %hasValue.i.i, align 16
  %2 = load i64, ptr %this, align 16
  %u.i.i.i.i.i = getelementptr inbounds %"class.folly::small_vector.437", ptr %this, i64 0, i32 2
  %3 = load ptr, ptr %u.i.i.i.i.i, align 16
  %tobool.not1.i.i.i.i.i = icmp slt i64 %2, 0
  %cond.i.i.i.i.i = select i1 %tobool.not1.i.i.i.i.i, ptr %3, ptr %u.i.i.i.i.i
  %and.i.i.i.i.i.i = and i64 %2, 4611686018427387903
  %add.ptr.i.i.i.i = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i.i.i, i64 %and.i.i.i.i.i.i
  %cmp.not7.i.i.i = icmp eq i64 %and.i.i.i.i.i.i, 0
  br i1 %cmp.not7.i.i.i, label %for.end.i.i.i, label %for.body.i.i.i

for.body.i.i.i:                                   ; preds = %if.then.i.i, %for.body.i.i.i
  %__begin0.08.i.i.i = phi ptr [ %incdec.ptr.i.i.i, %for.body.i.i.i ], [ %cond.i.i.i.i.i, %if.then.i.i ]
  tail call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08.i.i.i)
  %incdec.ptr.i.i.i = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08.i.i.i, i64 1
  %cmp.not.i.i.i = icmp eq ptr %incdec.ptr.i.i.i, %add.ptr.i.i.i.i
  br i1 %cmp.not.i.i.i, label %for.end.i.i.i, label %for.body.i.i.i

for.end.i.i.i:                                    ; preds = %for.body.i.i.i, %if.then.i.i
  invoke void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvE8freeHeapEv(ptr noundef nonnull align 16 dereferenceable(848) %this)
          to label %_ZN5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE31StorageNonTriviallyDestructibleD2Ev.exit unwind label %terminate.lpad.i.i.i

terminate.lpad.i.i.i:                             ; preds = %for.end.i.i.i
  %4 = landingpad { ptr, i32 }
          catch ptr null
  %5 = extractvalue { ptr, i32 } %4, 0
  tail call void @__clang_call_terminate(ptr %5) #30
  unreachable

_ZN5folly8OptionalINS_12small_vectorIN4fizz6client6ActionELm4EvEEE31StorageNonTriviallyDestructibleD2Ev.exit: ; preds = %entry, %for.end.i.i.i
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvE8freeHeapEv(ptr noundef nonnull align 16 dereferenceable(848) %this) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i.i.i.i = alloca %struct.Initializer, align 1
  %0 = load i64, ptr %this, align 16
  %tobool.not = icmp sgt i64 %0, -1
  br i1 %tobool.not, label %if.end14, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %entry
  %u = getelementptr inbounds %"class.folly::small_vector.437", ptr %this, i64 0, i32 2
  %1 = load ptr, ptr %u, align 16
  %tobool2.not = icmp eq ptr %1, null
  br i1 %tobool2.not, label %if.end14, label %if.then4

if.then4:                                         ; preds = %lor.lhs.false
  %capacity_.i.i = getelementptr inbounds %"class.folly::small_vector.437", ptr %this, i64 0, i32 2, i32 0, i32 1
  %2 = load i64, ptr %capacity_.i.i, align 8
  %mul = mul i64 %2, 208
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i)
  %3 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i = icmp eq i8 %3, 0
  br i1 %guard.uninitialized.i.i.i.i, label %init.check.i.i.i.i, label %_ZN5folly11canSdallocxEv.exit.i, !prof !81

init.check.i.i.i.i:                               ; preds = %if.then4
  %4 = tail call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i = icmp eq i32 %4, 0
  br i1 %tobool.i.not.i.i.i, label %_ZN5folly11canSdallocxEv.exit.i, label %init.i.i.i.i

init.i.i.i.i:                                     ; preds = %init.check.i.i.i.i
  %call.i.i.i.i = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i)
  %frombool.i.i.i.i = zext i1 %call.i.i.i.i to i8
  store i8 %frombool.i.i.i.i, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i

_ZN5folly11canSdallocxEv.exit.i:                  ; preds = %init.i.i.i.i, %init.check.i.i.i.i, %if.then4
  %5 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %6 = and i8 %5, 1
  %tobool1.i.i.i.not.i = icmp eq i8 %6, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i)
  br i1 %tobool1.i.i.i.not.i, label %if.else.i, label %if.then.i

if.then.i:                                        ; preds = %_ZN5folly11canSdallocxEv.exit.i
  call void @sdallocx(ptr noundef nonnull %1, i64 noundef %mul, i32 noundef 0) #28
  br label %if.end14

if.else.i:                                        ; preds = %_ZN5folly11canSdallocxEv.exit.i
  call void @free(ptr noundef nonnull %1) #28
  br label %if.end14

if.end14:                                         ; preds = %if.else.i, %if.then.i, %entry, %lor.lhs.false
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %this) local_unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %type_ = getelementptr inbounds %"struct.fizz::client::Action", ptr %this, i64 0, i32 1
  %0 = load i32, ptr %type_, align 16
  switch i32 %0, label %sw.epilog [
    i32 0, label %sw.bb
    i32 1, label %sw.bb2
    i32 10, label %sw.bb11
    i32 9, label %sw.bb10
    i32 4, label %sw.bb5
    i32 5, label %sw.bb6
    i32 6, label %sw.bb7
    i32 7, label %sw.bb8
  ]

sw.bb:                                            ; preds = %entry
  %1 = load ptr, ptr %this, align 16
  %cmp.not.i.i = icmp eq ptr %1, null
  br i1 %cmp.not.i.i, label %_ZN4fizz14DeliverAppDataD2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i: ; preds = %sw.bb
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %1) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %1) #28
  br label %_ZN4fizz14DeliverAppDataD2Ev.exit

_ZN4fizz14DeliverAppDataD2Ev.exit:                ; preds = %sw.bb, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i
  store ptr null, ptr %this, align 16
  br label %sw.epilog

sw.bb2:                                           ; preds = %entry
  %contents.i = getelementptr inbounds %"struct.fizz::WriteToSocket", ptr %this, i64 0, i32 1
  %2 = load i64, ptr %contents.i, align 8
  %u.i.i.i.i = getelementptr inbounds %"struct.fizz::WriteToSocket", ptr %this, i64 0, i32 1, i32 1
  %3 = load ptr, ptr %u.i.i.i.i, align 16
  %tobool.not1.i.i.i.i = icmp slt i64 %2, 0
  %cond.i.i.i.i = select i1 %tobool.not1.i.i.i.i, ptr %3, ptr %u.i.i.i.i
  %and.i.i.i.i.i = and i64 %2, 4611686018427387903
  %add.ptr.i.i.i = getelementptr inbounds %"struct.fizz::TLSContent", ptr %cond.i.i.i.i, i64 %and.i.i.i.i.i
  %cmp.not7.i.i = icmp eq i64 %and.i.i.i.i.i, 0
  br i1 %cmp.not7.i.i, label %for.end.i.i, label %for.body.i.i

for.body.i.i:                                     ; preds = %sw.bb2, %_ZN4fizz10TLSContentD2Ev.exit.i.i
  %__begin0.08.i.i = phi ptr [ %incdec.ptr.i.i, %_ZN4fizz10TLSContentD2Ev.exit.i.i ], [ %cond.i.i.i.i, %sw.bb2 ]
  %4 = load ptr, ptr %__begin0.08.i.i, align 8
  %cmp.not.i.i.i.i = icmp eq ptr %4, null
  br i1 %cmp.not.i.i.i.i, label %_ZN4fizz10TLSContentD2Ev.exit.i.i, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i: ; preds = %for.body.i.i
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %4) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %4) #28
  br label %_ZN4fizz10TLSContentD2Ev.exit.i.i

_ZN4fizz10TLSContentD2Ev.exit.i.i:                ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i, %for.body.i.i
  store ptr null, ptr %__begin0.08.i.i, align 8
  %incdec.ptr.i.i = getelementptr inbounds %"struct.fizz::TLSContent", ptr %__begin0.08.i.i, i64 1
  %cmp.not.i.i1 = icmp eq ptr %incdec.ptr.i.i, %add.ptr.i.i.i
  br i1 %cmp.not.i.i1, label %for.end.i.i, label %for.body.i.i

for.end.i.i:                                      ; preds = %_ZN4fizz10TLSContentD2Ev.exit.i.i, %sw.bb2
  invoke void @_ZN5folly12small_vectorIN4fizz10TLSContentELm4EvE8freeHeapEv(ptr noundef nonnull align 8 dereferenceable(72) %contents.i)
          to label %sw.epilog unwind label %terminate.lpad.i.i

terminate.lpad.i.i:                               ; preds = %for.end.i.i
  %5 = landingpad { ptr, i32 }
          catch ptr null
  %6 = extractvalue { ptr, i32 } %5, 0
  tail call void @__clang_call_terminate(ptr %6) #30
  unreachable

sw.bb5:                                           ; preds = %entry
  %data.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %this, i64 0, i32 1
  %7 = load ptr, ptr %data.i.i, align 8
  %cmp.not.i.i.i = icmp eq ptr %7, null
  br i1 %cmp.not.i.i.i, label %_ZN4fizz6client22ReportEarlyWriteFailedD2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i: ; preds = %sw.bb5
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %7) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %7) #28
  br label %_ZN4fizz6client22ReportEarlyWriteFailedD2Ev.exit

_ZN4fizz6client22ReportEarlyWriteFailedD2Ev.exit: ; preds = %sw.bb5, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i
  store ptr null, ptr %data.i.i, align 8
  br label %sw.epilog

sw.bb6:                                           ; preds = %entry
  %8 = load ptr, ptr %this, align 16
  %tobool.not.i.i.i = icmp eq ptr %8, null
  br i1 %tobool.not.i.i.i, label %sw.epilog, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %sw.bb6
  tail call void @_ZNSt15__exception_ptr13exception_ptr10_M_releaseEv(ptr noundef nonnull align 8 dereferenceable(8) %this) #28
  br label %sw.epilog

sw.bb7:                                           ; preds = %entry
  %9 = load ptr, ptr %this, align 16
  %cmp.not.i.i2 = icmp eq ptr %9, null
  br i1 %cmp.not.i.i2, label %_ZN4fizz9EndOfDataD2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i3

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i3: ; preds = %sw.bb7
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %9) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %9) #28
  br label %_ZN4fizz9EndOfDataD2Ev.exit

_ZN4fizz9EndOfDataD2Ev.exit:                      ; preds = %sw.bb7, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i3
  store ptr null, ptr %this, align 16
  br label %sw.epilog

sw.bb8:                                           ; preds = %entry
  %exec_.i.i = getelementptr inbounds %"class.folly::Function", ptr %this, i64 0, i32 2
  %10 = load ptr, ptr %exec_.i.i, align 8
  %tobool.not.i.i = icmp eq ptr %10, null
  br i1 %tobool.not.i.i, label %sw.epilog, label %if.end.i.i

if.end.i.i:                                       ; preds = %sw.bb8
  %call.i.i = tail call noundef i64 %10(i32 noundef 1, ptr noundef nonnull %this, ptr noundef null) #28
  br label %sw.epilog

sw.bb10:                                          ; preds = %entry
  tail call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %this) #28
  br label %sw.epilog

sw.bb11:                                          ; preds = %entry
  %11 = load ptr, ptr %this, align 16
  %tobool.not.i.i.i.i.i = icmp eq ptr %11, null
  br i1 %tobool.not.i.i.i.i.i, label %sw.epilog, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %sw.bb11
  tail call void @_ZdlPv(ptr noundef nonnull %11) #31
  br label %sw.epilog

sw.epilog:                                        ; preds = %if.then.i.i.i.i.i, %sw.bb11, %if.end.i.i, %sw.bb8, %if.then.i.i.i, %sw.bb6, %for.end.i.i, %sw.bb10, %_ZN4fizz9EndOfDataD2Ev.exit, %_ZN4fizz6client22ReportEarlyWriteFailedD2Ev.exit, %_ZN4fizz14DeliverAppDataD2Ev.exit, %entry
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN5folly12small_vectorIN4fizz10TLSContentELm4EvE8freeHeapEv(ptr noundef nonnull align 8 dereferenceable(72) %this) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i.i.i.i = alloca %struct.Initializer, align 1
  %0 = load i64, ptr %this, align 8
  %tobool.not = icmp sgt i64 %0, -1
  br i1 %tobool.not, label %if.end14, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %entry
  %u = getelementptr inbounds %"class.folly::small_vector.443", ptr %this, i64 0, i32 1
  %1 = load ptr, ptr %u, align 8
  %tobool2.not = icmp eq ptr %1, null
  br i1 %tobool2.not, label %if.end14, label %if.then4

if.then4:                                         ; preds = %lor.lhs.false
  %capacity_.i.i = getelementptr inbounds %"class.folly::small_vector.443", ptr %this, i64 0, i32 1, i32 0, i32 1
  %2 = load i64, ptr %capacity_.i.i, align 8
  %mul = shl i64 %2, 4
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i)
  %3 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i = icmp eq i8 %3, 0
  br i1 %guard.uninitialized.i.i.i.i, label %init.check.i.i.i.i, label %_ZN5folly11canSdallocxEv.exit.i, !prof !81

init.check.i.i.i.i:                               ; preds = %if.then4
  %4 = tail call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i = icmp eq i32 %4, 0
  br i1 %tobool.i.not.i.i.i, label %_ZN5folly11canSdallocxEv.exit.i, label %init.i.i.i.i

init.i.i.i.i:                                     ; preds = %init.check.i.i.i.i
  %call.i.i.i.i = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i)
  %frombool.i.i.i.i = zext i1 %call.i.i.i.i to i8
  store i8 %frombool.i.i.i.i, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i

_ZN5folly11canSdallocxEv.exit.i:                  ; preds = %init.i.i.i.i, %init.check.i.i.i.i, %if.then4
  %5 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %6 = and i8 %5, 1
  %tobool1.i.i.i.not.i = icmp eq i8 %6, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i)
  br i1 %tobool1.i.i.i.not.i, label %if.else.i, label %if.then.i

if.then.i:                                        ; preds = %_ZN5folly11canSdallocxEv.exit.i
  call void @sdallocx(ptr noundef nonnull %1, i64 noundef %mul, i32 noundef 0) #28
  br label %if.end14

if.else.i:                                        ; preds = %_ZN5folly11canSdallocxEv.exit.i
  call void @free(ptr noundef nonnull %1) #28
  br label %if.end14

if.end14:                                         ; preds = %if.else.i, %if.then.i, %entry, %lor.lhs.false
  ret void
}

; Function Attrs: mustprogress nounwind willreturn allockind("free") memory(argmem: readwrite, inaccessiblemem: readwrite)
declare void @free(ptr allocptr nocapture noundef) local_unnamed_addr #17

; Function Attrs: nounwind
declare extern_weak void @sdallocx(ptr noundef, i64 noundef, i32 noundef) #1

; Function Attrs: nofree nounwind
declare i32 @__cxa_guard_acquire(ptr) local_unnamed_addr #2

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %this) local_unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i.i1 = alloca %struct.Initializer.497, align 1
  %ref.tmp.i.i = alloca %struct.Initializer.496, align 1
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i)
  %0 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS_13usingJEMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i = icmp eq i8 %0, 0
  br i1 %guard.uninitialized.i.i, label %init.check.i.i, label %_ZN5folly13usingJEMallocEv.exit, !prof !81

init.check.i.i:                                   ; preds = %entry
  %1 = tail call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS_13usingJEMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i = icmp eq i32 %1, 0
  br i1 %tobool.i.not.i, label %_ZN5folly13usingJEMallocEv.exit, label %init.i.i

init.i.i:                                         ; preds = %init.check.i.i
  %call.i.i = call noundef zeroext i1 @_ZZN5folly13usingJEMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i)
  %frombool.i.i = zext i1 %call.i.i to i8
  store i8 %frombool.i.i, ptr @_ZZN5folly6detail14FastStaticBoolIZNS_13usingJEMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS_13usingJEMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly13usingJEMallocEv.exit

_ZN5folly13usingJEMallocEv.exit:                  ; preds = %entry, %init.check.i.i, %init.i.i
  %2 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS_13usingJEMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %3 = and i8 %2, 1
  %tobool1.i.i.not = icmp eq i8 %3, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i)
  br i1 %tobool1.i.i.not, label %lor.rhs, label %lor.end

lor.rhs:                                          ; preds = %_ZN5folly13usingJEMallocEv.exit
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i1)
  %4 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS_13usingTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i2 = icmp eq i8 %4, 0
  br i1 %guard.uninitialized.i.i2, label %init.check.i.i4, label %_ZN5folly13usingTCMallocEv.exit, !prof !81

init.check.i.i4:                                  ; preds = %lor.rhs
  %5 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS_13usingTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i5 = icmp eq i32 %5, 0
  br i1 %tobool.i.not.i5, label %_ZN5folly13usingTCMallocEv.exit, label %init.i.i6

init.i.i6:                                        ; preds = %init.check.i.i4
  %call.i.i7 = call noundef zeroext i1 @_ZZN5folly13usingTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i1)
  %frombool.i.i8 = zext i1 %call.i.i7 to i8
  store i8 %frombool.i.i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS_13usingTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS_13usingTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly13usingTCMallocEv.exit

_ZN5folly13usingTCMallocEv.exit:                  ; preds = %lor.rhs, %init.check.i.i4, %init.i.i6
  %6 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS_13usingTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %7 = and i8 %6, 1
  %tobool1.i.i3 = icmp ne i8 %7, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i1)
  br label %lor.end

lor.end:                                          ; preds = %_ZN5folly13usingTCMallocEv.exit, %_ZN5folly13usingJEMallocEv.exit
  %8 = phi i1 [ true, %_ZN5folly13usingJEMallocEv.exit ], [ %tobool1.i.i3, %_ZN5folly13usingTCMallocEv.exit ]
  ret i1 %8
}

; Function Attrs: nofree nounwind
declare void @__cxa_guard_release(ptr) local_unnamed_addr #2

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr noundef zeroext i1 @_ZZN5folly13usingJEMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %this) local_unnamed_addr #6 comdat align 2 {
entry:
  %counter = alloca ptr, align 8
  %counterLen = alloca i64, align 8
  %brmerge = or i1 icmp eq (ptr @mallocx, ptr null), icmp eq (ptr @rallocx, ptr null)
  %brmerge1 = or i1 %brmerge, icmp eq (ptr @xallocx, ptr null)
  %brmerge2 = or i1 %brmerge1, icmp eq (ptr @sallocx, ptr null)
  %brmerge3 = or i1 %brmerge2, icmp eq (ptr @dallocx, ptr null)
  %brmerge4 = or i1 %brmerge3, icmp eq (ptr @sdallocx, ptr null)
  %brmerge5 = or i1 %brmerge4, icmp eq (ptr @nallocx, ptr null)
  %brmerge6 = or i1 %brmerge5, icmp eq (ptr @mallctl, ptr null)
  %brmerge7 = or i1 %brmerge6, icmp eq (ptr @mallctlnametomib, ptr null)
  %brmerge8 = or i1 %brmerge7, icmp eq (ptr @mallctlbymib, ptr null)
  br i1 %brmerge8, label %return, label %if.end

if.end:                                           ; preds = %entry
  store i64 8, ptr %counterLen, align 8
  %call = call i32 @mallctl(ptr noundef nonnull @.str.8, ptr noundef nonnull %counter, ptr noundef nonnull %counterLen, ptr noundef null, i64 noundef 0) #28
  %cmp.not = icmp eq i32 %call, 0
  %0 = load i64, ptr %counterLen, align 8
  %cmp12.not = icmp eq i64 %0, 8
  %or.cond = select i1 %cmp.not, i1 %cmp12.not, i1 false
  br i1 %or.cond, label %if.end14, label %return

if.end14:                                         ; preds = %if.end
  %1 = load ptr, ptr %counter, align 8
  %2 = load volatile i64, ptr %1, align 8
  %3 = load atomic i8, ptr @_ZGVZZN5folly13usingJEMallocEvENK11InitializerclEvE3ptr acquire, align 8
  %guard.uninitialized = icmp eq i8 %3, 0
  br i1 %guard.uninitialized, label %init.check, label %init.end, !prof !81

init.check:                                       ; preds = %if.end14
  %4 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZZN5folly13usingJEMallocEvENK11InitializerclEvE3ptr) #28
  %tobool.not = icmp eq i32 %4, 0
  br i1 %tobool.not, label %init.end, label %init

init:                                             ; preds = %init.check
  %call15 = call noalias dereferenceable_or_null(1) ptr @malloc(i64 noundef 1) #34
  store volatile ptr %call15, ptr @_ZZZN5folly13usingJEMallocEvENK11InitializerclEvE3ptr, align 8
  call void @__cxa_guard_release(ptr nonnull @_ZGVZZN5folly13usingJEMallocEvENK11InitializerclEvE3ptr) #28
  br label %init.end

init.end:                                         ; preds = %init, %init.check, %if.end14
  %5 = load volatile ptr, ptr @_ZZZN5folly13usingJEMallocEvENK11InitializerclEvE3ptr, align 8
  %tobool16.not = icmp eq ptr %5, null
  br i1 %tobool16.not, label %return, label %if.end18

if.end18:                                         ; preds = %init.end
  %6 = load volatile ptr, ptr @_ZZZN5folly13usingJEMallocEvENK11InitializerclEvE3ptr, align 8
  call void @free(ptr noundef %6) #28
  %7 = load ptr, ptr %counter, align 8
  %8 = load volatile i64, ptr %7, align 8
  %cmp19 = icmp ne i64 %2, %8
  br label %return

return:                                           ; preds = %init.end, %if.end, %entry, %if.end18
  %retval.0 = phi i1 [ %cmp19, %if.end18 ], [ false, %entry ], [ false, %if.end ], [ false, %init.end ]
  ret i1 %retval.0
}

; Function Attrs: nounwind allocsize(0)
declare extern_weak noalias ptr @mallocx(i64 noundef, i32 noundef) #18

; Function Attrs: nounwind allocsize(1)
declare extern_weak ptr @rallocx(ptr noundef, i64 noundef, i32 noundef) #19

; Function Attrs: nounwind
declare extern_weak i64 @xallocx(ptr noundef, i64 noundef, i64 noundef, i32 noundef) #1

; Function Attrs: mustprogress nofree nounwind willreturn memory(read)
declare extern_weak i64 @sallocx(ptr noundef, i32 noundef) #20

; Function Attrs: nounwind
declare extern_weak void @dallocx(ptr noundef, i32 noundef) #1

; Function Attrs: mustprogress nofree nounwind willreturn memory(read)
declare extern_weak i64 @nallocx(i64 noundef, i32 noundef) #20

; Function Attrs: nounwind
declare extern_weak i32 @mallctl(ptr noundef, ptr noundef, ptr noundef, ptr noundef, i64 noundef) #1

; Function Attrs: nounwind
declare extern_weak i32 @mallctlnametomib(ptr noundef, ptr noundef, ptr noundef) #1

; Function Attrs: nounwind
declare extern_weak i32 @mallctlbymib(ptr noundef, i64 noundef, ptr noundef, ptr noundef, ptr noundef, i64 noundef) #1

; Function Attrs: mustprogress nofree nounwind willreturn allockind("alloc,uninitialized") allocsize(0) memory(inaccessiblemem: readwrite)
declare noalias noundef ptr @malloc(i64 noundef) local_unnamed_addr #21

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr noundef zeroext i1 @_ZZN5folly13usingTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %this) local_unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %before_bytes = alloca i64, align 8
  %after_bytes = alloca i64, align 8
  %brmerge = or i1 icmp eq (ptr @MallocExtension_Internal_GetNumericProperty, ptr null), icmp eq (ptr @sdallocx, ptr null)
  %brmerge1 = or i1 %brmerge, icmp eq (ptr @nallocx, ptr null)
  br i1 %brmerge1, label %return, label %if.end

if.end:                                           ; preds = %entry
  store i64 0, ptr %before_bytes, align 8
  %call1.i = invoke zeroext i1 @MallocExtension_Internal_GetNumericProperty(ptr noundef nonnull @_ZZZN5folly13usingTCMallocEvENK11InitializerclEvE11kAllocBytes, i64 noundef 31, ptr noundef nonnull %before_bytes)
          to label %_ZN5folly26getTCMallocNumericPropertyEPKcPm.exit unwind label %terminate.lpad.i

terminate.lpad.i:                                 ; preds = %if.end
  %0 = landingpad { ptr, i32 }
          catch ptr null
  %1 = extractvalue { ptr, i32 } %0, 0
  call void @__clang_call_terminate(ptr %1) #30
  unreachable

_ZN5folly26getTCMallocNumericPropertyEPKcPm.exit: ; preds = %if.end
  %2 = load atomic i8, ptr @_ZGVZZN5folly13usingTCMallocEvENK11InitializerclEvE3ptr acquire, align 8
  %guard.uninitialized = icmp eq i8 %2, 0
  br i1 %guard.uninitialized, label %init.check, label %init.end, !prof !81

init.check:                                       ; preds = %_ZN5folly26getTCMallocNumericPropertyEPKcPm.exit
  %3 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZZN5folly13usingTCMallocEvENK11InitializerclEvE3ptr) #28
  %tobool.not = icmp eq i32 %3, 0
  br i1 %tobool.not, label %init.end, label %init

init:                                             ; preds = %init.check
  %call3 = call noalias dereferenceable_or_null(1) ptr @malloc(i64 noundef 1) #34
  store volatile ptr %call3, ptr @_ZZZN5folly13usingTCMallocEvENK11InitializerclEvE3ptr, align 8
  call void @__cxa_guard_release(ptr nonnull @_ZGVZZN5folly13usingTCMallocEvENK11InitializerclEvE3ptr) #28
  br label %init.end

init.end:                                         ; preds = %init, %init.check, %_ZN5folly26getTCMallocNumericPropertyEPKcPm.exit
  %4 = load volatile ptr, ptr @_ZZZN5folly13usingTCMallocEvENK11InitializerclEvE3ptr, align 8
  %tobool4.not = icmp eq ptr %4, null
  br i1 %tobool4.not, label %return, label %if.end6

if.end6:                                          ; preds = %init.end
  store i64 0, ptr %after_bytes, align 8
  %call1.i3 = invoke zeroext i1 @MallocExtension_Internal_GetNumericProperty(ptr noundef nonnull @_ZZZN5folly13usingTCMallocEvENK11InitializerclEvE11kAllocBytes, i64 noundef 31, ptr noundef nonnull %after_bytes)
          to label %_ZN5folly26getTCMallocNumericPropertyEPKcPm.exit5 unwind label %terminate.lpad.i4

terminate.lpad.i4:                                ; preds = %if.end6
  %5 = landingpad { ptr, i32 }
          catch ptr null
  %6 = extractvalue { ptr, i32 } %5, 0
  call void @__clang_call_terminate(ptr %6) #30
  unreachable

_ZN5folly26getTCMallocNumericPropertyEPKcPm.exit5: ; preds = %if.end6
  %7 = load volatile ptr, ptr @_ZZZN5folly13usingTCMallocEvENK11InitializerclEvE3ptr, align 8
  call void @free(ptr noundef %7) #28
  %8 = load i64, ptr %before_bytes, align 8
  %9 = load i64, ptr %after_bytes, align 8
  %cmp = icmp ne i64 %8, %9
  br label %return

return:                                           ; preds = %init.end, %entry, %_ZN5folly26getTCMallocNumericPropertyEPKcPm.exit5
  %retval.0 = phi i1 [ %cmp, %_ZN5folly26getTCMallocNumericPropertyEPKcPm.exit5 ], [ false, %entry ], [ false, %init.end ]
  ret i1 %retval.0
}

declare extern_weak zeroext i1 @MallocExtension_Internal_GetNumericProperty(ptr noundef, i64 noundef, ptr noundef) #0

; Function Attrs: mustprogress nofree nounwind willreturn memory(argmem: read)
declare i64 @strlen(ptr nocapture noundef) local_unnamed_addr #22

; Function Attrs: nounwind
declare void @_ZNSt15__exception_ptr13exception_ptr10_M_releaseEv(ptr noundef nonnull align 8 dereferenceable(8)) local_unnamed_addr #1

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %hasValue.i.i.i = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 10, i32 0, i32 1
  %0 = load i8, ptr %hasValue.i.i.i, align 8
  %1 = and i8 %0, 1
  %tobool.not.i.i.i = icmp eq i8 %1, 0
  br i1 %tobool.not.i.i.i, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %entry
  %alpn = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 10
  store i8 0, ptr %hasValue.i.i.i, align 8
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %alpn) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit: ; preds = %entry, %if.then.i.i.i
  %_M_refcount.i.i = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 7, i32 0, i32 1
  %2 = load ptr, ptr %_M_refcount.i.i, align 8
  %cmp.not.i.i.i = icmp eq ptr %2, null
  br i1 %cmp.not.i.i.i, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit, label %if.then.i.i.i1

if.then.i.i.i1:                                   ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit
  %_M_use_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %2, i64 0, i32 1
  %3 = load atomic i64, ptr %_M_use_count.i.i.i.i acquire, align 8
  %cmp.i.i.i.i = icmp eq i64 %3, 4294967297
  %4 = trunc i64 %3 to i32
  br i1 %cmp.i.i.i.i, label %if.then.i.i.i.i, label %if.end.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %if.then.i.i.i1
  store i32 0, ptr %_M_use_count.i.i.i.i, align 8
  %_M_weak_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %2, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i, align 4
  %vtable.i.i.i.i = load ptr, ptr %2, align 8
  %vfn.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i, i64 2
  %5 = load ptr, ptr %vfn.i.i.i.i, align 8
  tail call void %5(ptr noundef nonnull align 8 dereferenceable(16) %2) #28
  br label %if.end8.sink.split.i.i.i.i

if.end.i.i.i.i:                                   ; preds = %if.then.i.i.i1
  %6 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i = icmp eq i8 %6, 0
  br i1 %tobool.i.not.i.i.i.i, label %if.else.i.i.i.i.i, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %add.i.i.i.i.i = add nsw i32 %4, -1
  store i32 %add.i.i.i.i.i, ptr %_M_use_count.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

if.else.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %7 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i: ; preds = %if.else.i.i.i.i.i, %if.then.i.i.i.i.i
  %retval.i.0.i.i.i.i = phi i32 [ %4, %if.then.i.i.i.i.i ], [ %7, %if.else.i.i.i.i.i ]
  %cmp6.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i, label %if.then7.i.i.i.i, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit

if.then7.i.i.i.i:                                 ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i
  %vtable.i.i.i.i.i.i = load ptr, ptr %2, align 8
  %vfn.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i, i64 2
  %8 = load ptr, ptr %vfn.i.i.i.i.i.i, align 8
  tail call void %8(ptr noundef nonnull align 8 dereferenceable(16) %2) #28
  %_M_weak_count.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %2, i64 0, i32 2
  %9 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i = icmp eq i8 %9, 0
  br i1 %tobool.i.not.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %10 = load i32, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i.i = add nsw i32 %10, -1
  store i32 %add.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %11 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i = phi i32 [ %10, %if.then.i.i.i.i.i.i.i ], [ %11, %if.else.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit

if.end8.sink.split.i.i.i.i:                       ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.then.i.i.i.i
  %vtable2.i.i.i.i.i.i = load ptr, ptr %2, align 8
  %vfn3.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i, i64 3
  %12 = load ptr, ptr %vfn3.i.i.i.i.i.i, align 8
  tail call void %12(ptr noundef nonnull align 8 dereferenceable(16) %2) #28
  br label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit

_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.end8.sink.split.i.i.i.i
  %_M_refcount.i.i2 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 6, i32 0, i32 1
  %13 = load ptr, ptr %_M_refcount.i.i2, align 8
  %cmp.not.i.i.i3 = icmp eq ptr %13, null
  br i1 %cmp.not.i.i.i3, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit33, label %if.then.i.i.i4

if.then.i.i.i4:                                   ; preds = %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit
  %_M_use_count.i.i.i.i5 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %13, i64 0, i32 1
  %14 = load atomic i64, ptr %_M_use_count.i.i.i.i5 acquire, align 8
  %cmp.i.i.i.i6 = icmp eq i64 %14, 4294967297
  %15 = trunc i64 %14 to i32
  br i1 %cmp.i.i.i.i6, label %if.then.i.i.i.i29, label %if.end.i.i.i.i7

if.then.i.i.i.i29:                                ; preds = %if.then.i.i.i4
  store i32 0, ptr %_M_use_count.i.i.i.i5, align 8
  %_M_weak_count.i.i.i.i30 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %13, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i30, align 4
  %vtable.i.i.i.i31 = load ptr, ptr %13, align 8
  %vfn.i.i.i.i32 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i31, i64 2
  %16 = load ptr, ptr %vfn.i.i.i.i32, align 8
  tail call void %16(ptr noundef nonnull align 8 dereferenceable(16) %13) #28
  br label %if.end8.sink.split.i.i.i.i24

if.end.i.i.i.i7:                                  ; preds = %if.then.i.i.i4
  %17 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i8 = icmp eq i8 %17, 0
  br i1 %tobool.i.not.i.i.i.i8, label %if.else.i.i.i.i.i28, label %if.then.i.i.i.i.i9

if.then.i.i.i.i.i9:                               ; preds = %if.end.i.i.i.i7
  %add.i.i.i.i.i10 = add nsw i32 %15, -1
  store i32 %add.i.i.i.i.i10, ptr %_M_use_count.i.i.i.i5, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i11

if.else.i.i.i.i.i28:                              ; preds = %if.end.i.i.i.i7
  %18 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i5, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i11

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i11: ; preds = %if.else.i.i.i.i.i28, %if.then.i.i.i.i.i9
  %retval.i.0.i.i.i.i12 = phi i32 [ %15, %if.then.i.i.i.i.i9 ], [ %18, %if.else.i.i.i.i.i28 ]
  %cmp6.i.i.i.i13 = icmp eq i32 %retval.i.0.i.i.i.i12, 1
  br i1 %cmp6.i.i.i.i13, label %if.then7.i.i.i.i14, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit33

if.then7.i.i.i.i14:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i11
  %vtable.i.i.i.i.i.i15 = load ptr, ptr %13, align 8
  %vfn.i.i.i.i.i.i16 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i15, i64 2
  %19 = load ptr, ptr %vfn.i.i.i.i.i.i16, align 8
  tail call void %19(ptr noundef nonnull align 8 dereferenceable(16) %13) #28
  %_M_weak_count.i.i.i.i.i.i17 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %13, i64 0, i32 2
  %20 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i18 = icmp eq i8 %20, 0
  br i1 %tobool.i.not.i.i.i.i.i.i18, label %if.else.i.i.i.i.i.i.i27, label %if.then.i.i.i.i.i.i.i19

if.then.i.i.i.i.i.i.i19:                          ; preds = %if.then7.i.i.i.i14
  %21 = load i32, ptr %_M_weak_count.i.i.i.i.i.i17, align 4
  %add.i.i.i.i.i.i.i20 = add nsw i32 %21, -1
  store i32 %add.i.i.i.i.i.i.i20, ptr %_M_weak_count.i.i.i.i.i.i17, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i21

if.else.i.i.i.i.i.i.i27:                          ; preds = %if.then7.i.i.i.i14
  %22 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i17, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i21

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i21: ; preds = %if.else.i.i.i.i.i.i.i27, %if.then.i.i.i.i.i.i.i19
  %retval.i.0.i.i.i.i.i.i22 = phi i32 [ %21, %if.then.i.i.i.i.i.i.i19 ], [ %22, %if.else.i.i.i.i.i.i.i27 ]
  %cmp.i.i.i.i.i.i23 = icmp eq i32 %retval.i.0.i.i.i.i.i.i22, 1
  br i1 %cmp.i.i.i.i.i.i23, label %if.end8.sink.split.i.i.i.i24, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit33

if.end8.sink.split.i.i.i.i24:                     ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i21, %if.then.i.i.i.i29
  %vtable2.i.i.i.i.i.i25 = load ptr, ptr %13, align 8
  %vfn3.i.i.i.i.i.i26 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i25, i64 3
  %23 = load ptr, ptr %vfn3.i.i.i.i.i.i26, align 8
  tail call void %23(ptr noundef nonnull align 8 dereferenceable(16) %13) #28
  br label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit33

_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit33: ; preds = %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i11, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i21, %if.end8.sink.split.i.i.i.i24
  %secret = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 1
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %secret) #28
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %this) #28
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E14processActionsERN5folly12small_vectorINS1_6ActionELm4EvEE(ptr noundef nonnull align 8 dereferenceable(163) %this, ptr noundef nonnull align 16 dereferenceable(848) %actions) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %dg = alloca %"class.folly::DelayedDestructionBase::DestructorGuard", align 8
  %owner_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 6
  %0 = load ptr, ptr %owner_, align 8
  store ptr %0, ptr %dg, align 8
  %cmp.not.i = icmp eq ptr %0, null
  br i1 %cmp.not.i, label %_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit, label %if.then.i

if.then.i:                                        ; preds = %entry
  %guardCount_.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %0, i64 0, i32 1
  %1 = load i32, ptr %guardCount_.i, align 8
  %inc.i = add i32 %1, 1
  store i32 %inc.i, ptr %guardCount_.i, align 8
  br label %_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit

_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit: ; preds = %entry, %if.then.i
  %vtable = load ptr, ptr %this, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 2
  %2 = load ptr, ptr %vfn, align 8
  invoke void %2(ptr noundef nonnull align 8 dereferenceable(163) %this, ptr noundef nonnull align 16 dereferenceable(848) %actions)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit
  %actionGuard_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 10
  %hasValue.i.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 10, i32 0, i32 1
  %3 = load i8, ptr %hasValue.i.i, align 8
  %4 = and i8 %3, 1
  %tobool.not.i.i = icmp eq i8 %4, 0
  br i1 %tobool.not.i.i, label %_ZN5folly8OptionalINS_22DelayedDestructionBase15DestructorGuardEE5resetEv.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %invoke.cont
  store i8 0, ptr %hasValue.i.i, align 8
  %5 = load ptr, ptr %actionGuard_, align 8
  %cmp.not.i.i.i = icmp eq ptr %5, null
  br i1 %cmp.not.i.i.i, label %_ZN5folly8OptionalINS_22DelayedDestructionBase15DestructorGuardEE5resetEv.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %if.then.i.i
  %guardCount_.i.i.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %5, i64 0, i32 1
  %6 = load i32, ptr %guardCount_.i.i.i, align 8
  %dec.i.i.i = add i32 %6, -1
  store i32 %dec.i.i.i, ptr %guardCount_.i.i.i, align 8
  %7 = load ptr, ptr %actionGuard_, align 8
  %guardCount_4.i.i.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %7, i64 0, i32 1
  %8 = load i32, ptr %guardCount_4.i.i.i, align 8
  %cmp5.i.i.i = icmp eq i32 %8, 0
  br i1 %cmp5.i.i.i, label %if.then6.i.i.i, label %_ZN5folly8OptionalINS_22DelayedDestructionBase15DestructorGuardEE5resetEv.exit

if.then6.i.i.i:                                   ; preds = %if.then.i.i.i
  %vtable.i.i.i = load ptr, ptr %7, align 8
  %vfn.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i, i64 2
  %9 = load ptr, ptr %vfn.i.i.i, align 8
  invoke void %9(ptr noundef nonnull align 8 dereferenceable(12) %7, i1 noundef zeroext true)
          to label %_ZN5folly8OptionalINS_22DelayedDestructionBase15DestructorGuardEE5resetEv.exit unwind label %terminate.lpad.i.i.i

terminate.lpad.i.i.i:                             ; preds = %if.then6.i.i.i
  %10 = landingpad { ptr, i32 }
          catch ptr null
  %11 = extractvalue { ptr, i32 } %10, 0
  tail call void @__clang_call_terminate(ptr %11) #30
  unreachable

_ZN5folly8OptionalINS_22DelayedDestructionBase15DestructorGuardEE5resetEv.exit: ; preds = %invoke.cont, %if.then.i.i, %if.then.i.i.i, %if.then6.i.i.i
  invoke void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E20processPendingEventsEv(ptr noundef nonnull align 8 dereferenceable(163) %this)
          to label %invoke.cont2 unwind label %lpad

invoke.cont2:                                     ; preds = %_ZN5folly8OptionalINS_22DelayedDestructionBase15DestructorGuardEE5resetEv.exit
  br i1 %cmp.not.i, label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit, label %if.then.i2

if.then.i2:                                       ; preds = %invoke.cont2
  %guardCount_.i3 = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %0, i64 0, i32 1
  %12 = load i32, ptr %guardCount_.i3, align 8
  %dec.i = add i32 %12, -1
  store i32 %dec.i, ptr %guardCount_.i3, align 8
  %cmp5.i = icmp eq i32 %dec.i, 0
  br i1 %cmp5.i, label %if.then6.i, label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit

if.then6.i:                                       ; preds = %if.then.i2
  %vtable.i = load ptr, ptr %0, align 8
  %vfn.i = getelementptr inbounds ptr, ptr %vtable.i, i64 2
  %13 = load ptr, ptr %vfn.i, align 8
  invoke void %13(ptr noundef nonnull align 8 dereferenceable(12) %0, i1 noundef zeroext true)
          to label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit unwind label %terminate.lpad.i

terminate.lpad.i:                                 ; preds = %if.then6.i
  %14 = landingpad { ptr, i32 }
          catch ptr null
  %15 = extractvalue { ptr, i32 } %14, 0
  tail call void @__clang_call_terminate(ptr %15) #30
  unreachable

_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit: ; preds = %invoke.cont2, %if.then.i2, %if.then6.i
  ret void

lpad:                                             ; preds = %_ZN5folly8OptionalINS_22DelayedDestructionBase15DestructorGuardEE5resetEv.exit, %_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit
  %16 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev(ptr noundef nonnull align 8 dereferenceable(8) %dg) #28
  resume { ptr, i32 } %16
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client6ActionC2EOS1_(ptr noundef nonnull align 16 dereferenceable(196) %this, ptr noundef nonnull align 16 dereferenceable(196) %other) unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %type_ = getelementptr inbounds %"struct.fizz::client::Action", ptr %other, i64 0, i32 1
  %0 = load i32, ptr %type_, align 16
  switch i32 %0, label %sw.epilog [
    i32 0, label %sw.bb
    i32 1, label %sw.bb2
    i32 2, label %sw.bb3
    i32 3, label %sw.bb4
    i32 4, label %sw.bb5
    i32 5, label %sw.bb6
    i32 6, label %sw.bb7
    i32 7, label %sw.bb8
    i32 8, label %sw.bb9
    i32 9, label %sw.bb10
    i32 10, label %sw.bb11
  ]

sw.bb:                                            ; preds = %entry
  %1 = load i64, ptr %other, align 16
  store i64 %1, ptr %this, align 16
  store ptr null, ptr %other, align 16
  br label %sw.epilog

sw.bb2:                                           ; preds = %entry
  %2 = load ptr, ptr %other, align 16
  store ptr %2, ptr %this, align 16
  %contents.i = getelementptr inbounds %"struct.fizz::WriteToSocket", ptr %this, i64 0, i32 1
  %contents3.i = getelementptr inbounds %"struct.fizz::WriteToSocket", ptr %other, i64 0, i32 1
  tail call void @_ZN5folly12small_vectorIN4fizz10TLSContentELm4EvEC2EOS3_(ptr noundef nonnull align 8 dereferenceable(72) %contents.i, ptr noundef nonnull align 8 dereferenceable(72) %contents3.i) #28
  %flags.i = getelementptr inbounds %"struct.fizz::WriteToSocket", ptr %this, i64 0, i32 2
  %flags4.i = getelementptr inbounds %"struct.fizz::WriteToSocket", ptr %other, i64 0, i32 2
  %3 = load i32, ptr %flags4.i, align 16
  store i32 %3, ptr %flags.i, align 16
  br label %sw.epilog

sw.bb3:                                           ; preds = %entry
  %4 = load i8, ptr %other, align 16
  store i8 %4, ptr %this, align 16
  br label %sw.epilog

sw.bb4:                                           ; preds = %entry
  %5 = load i32, ptr %other, align 16
  store i32 %5, ptr %this, align 16
  br label %sw.epilog

sw.bb5:                                           ; preds = %entry
  %6 = load ptr, ptr %other, align 16
  store ptr %6, ptr %this, align 16
  %data.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %this, i64 0, i32 1
  %data3.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %other, i64 0, i32 1
  %7 = load i64, ptr %data3.i.i, align 8
  store i64 %7, ptr %data.i.i, align 8
  store ptr null, ptr %data3.i.i, align 8
  %flags.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %this, i64 0, i32 2
  %flags4.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %other, i64 0, i32 2
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 16 dereferenceable(12) %flags.i.i, ptr noundef nonnull align 16 dereferenceable(12) %flags4.i.i, i64 12, i1 false)
  br label %sw.epilog

sw.bb6:                                           ; preds = %entry
  tail call void @llvm.experimental.noalias.scope.decl(metadata !86)
  %8 = load i64, ptr %other, align 16, !noalias !86
  store i64 %8, ptr %this, align 16, !alias.scope !86
  store i64 0, ptr %other, align 16, !noalias !86
  br label %sw.epilog

sw.bb7:                                           ; preds = %entry
  %9 = load i64, ptr %other, align 16
  store i64 %9, ptr %this, align 16
  store ptr null, ptr %other, align 16
  br label %sw.epilog

sw.bb8:                                           ; preds = %entry
  store ptr null, ptr %this, align 16
  %call_.i = getelementptr inbounds %"class.folly::Function", ptr %this, i64 0, i32 1
  %call_2.i = getelementptr inbounds %"class.folly::Function", ptr %other, i64 0, i32 1
  %10 = load ptr, ptr %call_2.i, align 16
  store ptr %10, ptr %call_.i, align 16
  %exec_.i = getelementptr inbounds %"class.folly::Function", ptr %this, i64 0, i32 2
  %exec_3.i = getelementptr inbounds %"class.folly::Function", ptr %other, i64 0, i32 2
  %11 = load ptr, ptr %exec_3.i, align 8
  store ptr %11, ptr %exec_.i, align 8
  store ptr @_ZN5folly6detail8function14FunctionTraitsIFvRN4fizz6client5StateEEE10uninitCallES6_RNS1_4DataE, ptr %call_2.i, align 16
  store ptr null, ptr %exec_3.i, align 8
  %12 = load ptr, ptr %exec_.i, align 8
  %tobool.not.i.i = icmp eq ptr %12, null
  br i1 %tobool.not.i.i, label %sw.epilog, label %if.end.i.i

if.end.i.i:                                       ; preds = %sw.bb8
  %call.i.i = tail call noundef i64 %12(i32 noundef 0, ptr noundef nonnull %other, ptr noundef nonnull %this) #28
  br label %sw.epilog

sw.bb9:                                           ; preds = %entry
  %13 = load i64, ptr %other, align 16
  store i64 %13, ptr %this, align 16
  br label %sw.epilog

sw.bb10:                                          ; preds = %entry
  tail call void @_ZN4fizz6client9CachedPskC2EOS1_(ptr noundef nonnull align 8 dereferenceable(192) %this, ptr noundef nonnull align 8 dereferenceable(192) %other) #28
  br label %sw.epilog

sw.bb11:                                          ; preds = %entry
  %14 = load ptr, ptr %other, align 16
  store ptr %14, ptr %this, align 16
  %_M_finish.i.i.i.i.i.i = getelementptr inbounds %"struct.std::_Vector_base<unsigned char, std::allocator<unsigned char>>::_Vector_impl_data", ptr %this, i64 0, i32 1
  %_M_finish3.i.i.i.i.i.i = getelementptr inbounds %"struct.std::_Vector_base<unsigned char, std::allocator<unsigned char>>::_Vector_impl_data", ptr %other, i64 0, i32 1
  %15 = load ptr, ptr %_M_finish3.i.i.i.i.i.i, align 8
  store ptr %15, ptr %_M_finish.i.i.i.i.i.i, align 8
  %_M_end_of_storage.i.i.i.i.i.i = getelementptr inbounds %"struct.std::_Vector_base<unsigned char, std::allocator<unsigned char>>::_Vector_impl_data", ptr %this, i64 0, i32 2
  %_M_end_of_storage4.i.i.i.i.i.i = getelementptr inbounds %"struct.std::_Vector_base<unsigned char, std::allocator<unsigned char>>::_Vector_impl_data", ptr %other, i64 0, i32 2
  %16 = load ptr, ptr %_M_end_of_storage4.i.i.i.i.i.i, align 16
  store ptr %16, ptr %_M_end_of_storage.i.i.i.i.i.i, align 16
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 16 dereferenceable(24) %other, i8 0, i64 24, i1 false)
  %type_.i.i.i = getelementptr inbounds %"struct.fizz::DerivedSecret", ptr %other, i64 0, i32 1, i32 1
  %17 = load i32, ptr %type_.i.i.i, align 4
  %switch.i.i.i = icmp ult i32 %17, 4
  br i1 %switch.i.i.i, label %sw.epilog.sink.split.i.i.i, label %_ZN4fizz15SecretAvailableC2EOS0_.exit

sw.epilog.sink.split.i.i.i:                       ; preds = %sw.bb11
  %type.i.i = getelementptr inbounds %"struct.fizz::DerivedSecret", ptr %this, i64 0, i32 1
  %type3.i.i = getelementptr inbounds %"struct.fizz::DerivedSecret", ptr %other, i64 0, i32 1
  %18 = load i32, ptr %type3.i.i, align 8
  store i32 %18, ptr %type.i.i, align 8
  %.pre.i.i = load i32, ptr %type_.i.i.i, align 4
  br label %_ZN4fizz15SecretAvailableC2EOS0_.exit

_ZN4fizz15SecretAvailableC2EOS0_.exit:            ; preds = %sw.bb11, %sw.epilog.sink.split.i.i.i
  %19 = phi i32 [ %17, %sw.bb11 ], [ %.pre.i.i, %sw.epilog.sink.split.i.i.i ]
  %type_6.i.i.i = getelementptr inbounds %"struct.fizz::DerivedSecret", ptr %this, i64 0, i32 1, i32 1
  store i32 %19, ptr %type_6.i.i.i, align 4
  br label %sw.epilog

sw.epilog:                                        ; preds = %if.end.i.i, %sw.bb8, %_ZN4fizz15SecretAvailableC2EOS0_.exit, %sw.bb10, %sw.bb9, %sw.bb7, %sw.bb6, %sw.bb5, %sw.bb4, %sw.bb3, %sw.bb2, %sw.bb, %entry
  %20 = load i32, ptr %type_, align 16
  %type_13 = getelementptr inbounds %"struct.fizz::client::Action", ptr %this, i64 0, i32 1
  store i32 %20, ptr %type_13, align 16
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly12small_vectorIN4fizz10TLSContentELm4EvEC2EOS3_(ptr noundef nonnull align 8 dereferenceable(72) %this, ptr noundef nonnull align 8 dereferenceable(72) %o) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
invoke.cont:
  %u = getelementptr inbounds %"class.folly::small_vector.443", ptr %this, i64 0, i32 1
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %this, i8 0, i64 16, i1 false)
  %0 = load i64, ptr %o, align 8
  %tobool.not = icmp sgt i64 %0, -1
  br i1 %tobool.not, label %invoke.cont19, label %invoke.cont10

invoke.cont10:                                    ; preds = %invoke.cont
  %u3 = getelementptr inbounds %"class.folly::small_vector.443", ptr %o, i64 0, i32 1
  %1 = load ptr, ptr %u3, align 8
  store ptr %1, ptr %u, align 8
  store ptr null, ptr %u3, align 8
  %2 = load i64, ptr %this, align 8
  %3 = load i64, ptr %o, align 8
  store i64 %3, ptr %this, align 8
  store i64 %2, ptr %o, align 8
  %capacity_.i.i = getelementptr inbounds %"class.folly::small_vector.443", ptr %o, i64 0, i32 1, i32 0, i32 1
  %4 = load i64, ptr %capacity_.i.i, align 8
  %capacity_.i.i9 = getelementptr inbounds %"class.folly::small_vector.443", ptr %this, i64 0, i32 1, i32 0, i32 1
  store i64 %4, ptr %capacity_.i.i9, align 8
  br label %if.end

invoke.cont19:                                    ; preds = %invoke.cont
  %and.i.i = and i64 %0, 4611686018427387903
  %u.i.i.ptr = getelementptr inbounds i8, ptr %o, i64 8
  %add.ptr.i.idx = shl nsw i64 %and.i.i, 4
  %u.i.i.add = or disjoint i64 %add.ptr.i.idx, 8
  %add.ptr.i.ptr = getelementptr inbounds i8, ptr %o, i64 %u.i.i.add
  %cmp.i.i.not7.i.i.i = icmp eq i64 %and.i.i, 0
  br i1 %cmp.i.i.not7.i.i.i, label %invoke.cont25, label %for.body.i.i.i

for.body.i.i.i:                                   ; preds = %invoke.cont19, %for.body.i.i.i
  %__cur.09.i.i.i = phi ptr [ %incdec.ptr.i.i.i, %for.body.i.i.i ], [ %u, %invoke.cont19 ]
  %__first.sroa.0.08.i.i.i = phi ptr [ %incdec.ptr.i.i.i.i, %for.body.i.i.i ], [ %u.i.i.ptr, %invoke.cont19 ]
  %5 = load i64, ptr %__first.sroa.0.08.i.i.i, align 8
  store i64 %5, ptr %__cur.09.i.i.i, align 8
  store ptr null, ptr %__first.sroa.0.08.i.i.i, align 8
  %contentType.i.i.i.i.i = getelementptr inbounds %"struct.fizz::TLSContent", ptr %__cur.09.i.i.i, i64 0, i32 1
  %contentType3.i.i.i.i.i = getelementptr inbounds %"struct.fizz::TLSContent", ptr %__first.sroa.0.08.i.i.i, i64 0, i32 1
  %6 = load i64, ptr %contentType3.i.i.i.i.i, align 8
  store i64 %6, ptr %contentType.i.i.i.i.i, align 8
  %incdec.ptr.i.i.i.i = getelementptr inbounds %"struct.fizz::TLSContent", ptr %__first.sroa.0.08.i.i.i, i64 1
  %incdec.ptr.i.i.i = getelementptr inbounds %"struct.fizz::TLSContent", ptr %__cur.09.i.i.i, i64 1
  %cmp.i.i.not.i.i.i = icmp eq ptr %incdec.ptr.i.i.i.i, %add.ptr.i.ptr
  br i1 %cmp.i.i.not.i.i.i, label %invoke.cont25.loopexit, label %for.body.i.i.i, !llvm.loop !89

invoke.cont25.loopexit:                           ; preds = %for.body.i.i.i
  %.pre = load i64, ptr %this, align 8
  %7 = and i64 %.pre, -4611686018427387904
  br label %invoke.cont25

invoke.cont25:                                    ; preds = %invoke.cont25.loopexit, %invoke.cont19
  %and.i = phi i64 [ %7, %invoke.cont25.loopexit ], [ 0, %invoke.cont19 ]
  %or.i = or disjoint i64 %and.i, %and.i.i
  store i64 %or.i, ptr %this, align 8
  %8 = load i64, ptr %o, align 8
  %9 = load ptr, ptr %u.i.i.ptr, align 8
  %tobool.not1.i.i.i.i = icmp slt i64 %8, 0
  %cond.i.i.i.i = select i1 %tobool.not1.i.i.i.i, ptr %9, ptr %u.i.i.ptr
  %and.i.i.i.i.i = and i64 %8, 4611686018427387903
  %add.ptr.i.i.i = getelementptr inbounds %"struct.fizz::TLSContent", ptr %cond.i.i.i.i, i64 %and.i.i.i.i.i
  %cmp.not7.i.i = icmp eq i64 %and.i.i.i.i.i, 0
  br i1 %cmp.not7.i.i, label %_ZN5folly12small_vectorIN4fizz10TLSContentELm4EvE5clearEv.exit, label %for.body.i.i

for.body.i.i:                                     ; preds = %invoke.cont25, %_ZN4fizz10TLSContentD2Ev.exit.i.i
  %it.08.i.i = phi ptr [ %incdec.ptr.i.i, %_ZN4fizz10TLSContentD2Ev.exit.i.i ], [ %cond.i.i.i.i, %invoke.cont25 ]
  %10 = load ptr, ptr %it.08.i.i, align 8
  %cmp.not.i.i.i.i = icmp eq ptr %10, null
  br i1 %cmp.not.i.i.i.i, label %_ZN4fizz10TLSContentD2Ev.exit.i.i, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i: ; preds = %for.body.i.i
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %10) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %10) #28
  br label %_ZN4fizz10TLSContentD2Ev.exit.i.i

_ZN4fizz10TLSContentD2Ev.exit.i.i:                ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i, %for.body.i.i
  store ptr null, ptr %it.08.i.i, align 8
  %incdec.ptr.i.i = getelementptr inbounds %"struct.fizz::TLSContent", ptr %it.08.i.i, i64 1
  %cmp.not.i.i = icmp eq ptr %incdec.ptr.i.i, %add.ptr.i.i.i
  br i1 %cmp.not.i.i, label %for.end.loopexit.i.i, label %for.body.i.i, !llvm.loop !90

for.end.loopexit.i.i:                             ; preds = %_ZN4fizz10TLSContentD2Ev.exit.i.i
  %.pre.i.i = load i64, ptr %o, align 8
  br label %_ZN5folly12small_vectorIN4fizz10TLSContentELm4EvE5clearEv.exit

_ZN5folly12small_vectorIN4fizz10TLSContentELm4EvE5clearEv.exit: ; preds = %invoke.cont25, %for.end.loopexit.i.i
  %11 = phi i64 [ %.pre.i.i, %for.end.loopexit.i.i ], [ %8, %invoke.cont25 ]
  %and.i.i.i16 = and i64 %11, -4611686018427387904
  store i64 %and.i.i.i16, ptr %o, align 8
  br label %if.end

if.end:                                           ; preds = %_ZN5folly12small_vectorIN4fizz10TLSContentELm4EvE5clearEv.exit, %invoke.cont10
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN5folly6detail8function14FunctionTraitsIFvRN4fizz6client5StateEEE10uninitCallES6_RNS1_4DataE(ptr noundef nonnull align 8 dereferenceable(1096) %0, ptr noundef nonnull align 16 dereferenceable(48) %1) #3 comdat align 2 {
entry:
  tail call void @_ZN5folly6detail16throw_exception_ISt17bad_function_callJEEEvDpT0_() #32
  unreachable
}

; Function Attrs: cold mustprogress noreturn uwtable
define linkonce_odr void @_ZN5folly6detail16throw_exception_ISt17bad_function_callJEEEvDpT0_() local_unnamed_addr #11 comdat personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp = alloca %"class.std::bad_function_call", align 8
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVSt17bad_function_call, i64 0, inrange i32 0, i64 2), ptr %ref.tmp, align 8
  invoke void @_ZN5folly15throw_exceptionISt17bad_function_callEEvOT_(ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp) #32
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  unreachable

lpad:                                             ; preds = %entry
  %0 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt17bad_function_callD1Ev(ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp) #28
  resume { ptr, i32 } %0
}

; Function Attrs: cold mustprogress noreturn uwtable
define linkonce_odr void @_ZN5folly15throw_exceptionISt17bad_function_callEEvOT_(ptr noundef nonnull align 8 dereferenceable(8) %ex) local_unnamed_addr #11 comdat {
entry:
  %exception = tail call ptr @__cxa_allocate_exception(i64 8) #28
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVSt17bad_function_call, i64 0, inrange i32 0, i64 2), ptr %exception, align 8
  tail call void @__cxa_throw(ptr nonnull %exception, ptr nonnull @_ZTISt17bad_function_call, ptr nonnull @_ZNSt17bad_function_callD1Ev) #33
  unreachable
}

; Function Attrs: nounwind
declare void @_ZNSt17bad_function_callD1Ev(ptr noundef nonnull align 8 dereferenceable(8)) unnamed_addr #1

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz6client9CachedPskC2EOS1_(ptr noundef nonnull align 8 dereferenceable(192) %this, ptr noundef nonnull align 8 dereferenceable(192) %0) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1EOS4_(ptr noundef nonnull align 8 dereferenceable(32) %this, ptr noundef nonnull align 8 dereferenceable(32) %0) #28
  %secret = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 1
  %secret3 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 1
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1EOS4_(ptr noundef nonnull align 8 dereferenceable(32) %secret, ptr noundef nonnull align 8 dereferenceable(32) %secret3) #28
  %type = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 2
  %type4 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 2
  %1 = load i64, ptr %type4, align 8
  store i64 %1, ptr %type, align 8
  %group = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 5
  store i8 0, ptr %group, align 8
  %hasValue.i.i = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 5, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i, align 2
  %hasValue.i.i.i = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 5, i32 0, i32 1
  %2 = load i8, ptr %hasValue.i.i.i, align 2
  %3 = and i8 %2, 1
  %tobool.i.i.not.i = icmp eq i8 %3, 0
  br i1 %tobool.i.i.not.i, label %_ZN5folly8OptionalIN4fizz10NamedGroupEEC2EOS3_.exit, label %invoke.cont2.i

invoke.cont2.i:                                   ; preds = %entry
  %group5 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 5
  %4 = load i16, ptr %group5, align 8
  store i16 %4, ptr %group, align 8
  store i8 1, ptr %hasValue.i.i, align 2
  store i8 0, ptr %hasValue.i.i.i, align 2
  br label %_ZN5folly8OptionalIN4fizz10NamedGroupEEC2EOS3_.exit

_ZN5folly8OptionalIN4fizz10NamedGroupEEC2EOS3_.exit: ; preds = %entry, %invoke.cont2.i
  %serverCert = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 6
  %serverCert6 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 6
  %5 = load ptr, ptr %serverCert6, align 8
  store ptr %5, ptr %serverCert, align 8
  %_M_refcount.i.i = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 6, i32 0, i32 1
  store ptr null, ptr %_M_refcount.i.i, align 8
  %_M_refcount4.i.i = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 6, i32 0, i32 1
  %6 = load ptr, ptr %_M_refcount4.i.i, align 8
  store ptr null, ptr %_M_refcount4.i.i, align 8
  store ptr %6, ptr %_M_refcount.i.i, align 8
  store ptr null, ptr %serverCert6, align 8
  %clientCert = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 7
  %clientCert7 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 7
  %7 = load ptr, ptr %clientCert7, align 8
  store ptr %7, ptr %clientCert, align 8
  %_M_refcount.i.i9 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 7, i32 0, i32 1
  store ptr null, ptr %_M_refcount.i.i9, align 8
  %_M_refcount4.i.i10 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 7, i32 0, i32 1
  %8 = load ptr, ptr %_M_refcount4.i.i10, align 8
  store ptr null, ptr %_M_refcount4.i.i10, align 8
  store ptr %8, ptr %_M_refcount.i.i9, align 8
  store ptr null, ptr %clientCert7, align 8
  %maxEarlyDataSize = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 8
  %maxEarlyDataSize8 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 8
  %9 = load i32, ptr %maxEarlyDataSize8, align 8
  store i32 %9, ptr %maxEarlyDataSize, align 8
  %alpn9 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 10
  %hasValue.i.i11 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 10, i32 0, i32 1
  store i8 0, ptr %hasValue.i.i11, align 8
  %hasValue.i.i.i12 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 10, i32 0, i32 1
  %10 = load i8, ptr %hasValue.i.i.i12, align 8
  %11 = and i8 %10, 1
  %tobool.i.i.not.i13 = icmp eq i8 %11, 0
  br i1 %tobool.i.i.not.i13, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit, label %invoke.cont2.i14

invoke.cont2.i14:                                 ; preds = %_ZN5folly8OptionalIN4fizz10NamedGroupEEC2EOS3_.exit
  %alpn = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 10
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1EOS4_(ptr noundef nonnull align 8 dereferenceable(32) %alpn, ptr noundef nonnull align 8 dereferenceable(32) %alpn9) #28
  store i8 1, ptr %hasValue.i.i11, align 8
  %12 = load i8, ptr %hasValue.i.i.i12, align 8
  %13 = and i8 %12, 1
  %tobool.not.i.i6.i = icmp eq i8 %13, 0
  br i1 %tobool.not.i.i6.i, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit, label %if.then.i.i7.i

if.then.i.i7.i:                                   ; preds = %invoke.cont2.i14
  store i8 0, ptr %hasValue.i.i.i12, align 8
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %alpn9) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit: ; preds = %_ZN5folly8OptionalIN4fizz10NamedGroupEEC2EOS3_.exit, %invoke.cont2.i14, %if.then.i.i7.i
  %ticketAgeAdd = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 11
  %ticketAgeAdd10 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 11
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %ticketAgeAdd, ptr noundef nonnull align 8 dereferenceable(32) %ticketAgeAdd10, i64 32, i1 false)
  ret void
}

; Function Attrs: nounwind
declare void @_ZNSaIcEC1Ev(ptr noundef nonnull align 1 dereferenceable(1)) unnamed_addr #1

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly20AsyncSocketExceptionD2Ev(ptr noundef nonnull align 8 dereferenceable(24) %this) unnamed_addr #6 comdat align 2 {
entry:
  tail call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %this) #28
  ret void
}

; Function Attrs: nounwind
declare void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1)) unnamed_addr #1

declare noundef zeroext i1 @_ZN4fizz6client20earlyParametersMatchERKNS0_5StateE(ptr noundef nonnull align 8 dereferenceable(1096)) local_unnamed_addr #0

declare noundef ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_M_local_dataEv(ptr noundef nonnull align 8 dereferenceable(32)) local_unnamed_addr #0

declare void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_Alloc_hiderC1EPcRKS3_(ptr noundef nonnull align 8 dereferenceable(8), ptr noundef, ptr noundef nonnull align 1 dereferenceable(1)) unnamed_addr #0

; Function Attrs: noreturn
declare void @_ZSt19__throw_logic_errorPKc(ptr noundef) local_unnamed_addr #16

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tag(ptr noundef nonnull align 8 dereferenceable(32) %this, ptr noundef %__beg, ptr noundef %__end) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %__dnew = alloca i64, align 8
  %__guard = alloca %struct._Guard, align 8
  %sub.ptr.lhs.cast.i.i = ptrtoint ptr %__end to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint ptr %__beg to i64
  %sub.ptr.sub.i.i = sub i64 %sub.ptr.lhs.cast.i.i, %sub.ptr.rhs.cast.i.i
  store i64 %sub.ptr.sub.i.i, ptr %__dnew, align 8
  %cmp = icmp ugt i64 %sub.ptr.sub.i.i, 15
  br i1 %cmp, label %if.then, label %if.else

if.then:                                          ; preds = %entry
  %call2 = call noundef ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE9_M_createERmm(ptr noundef nonnull align 8 dereferenceable(32) %this, ptr noundef nonnull align 8 dereferenceable(8) %__dnew, i64 noundef 0)
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE7_M_dataEPc(ptr noundef nonnull align 8 dereferenceable(32) %this, ptr noundef %call2)
  %0 = load i64, ptr %__dnew, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE11_M_capacityEm(ptr noundef nonnull align 8 dereferenceable(32) %this, i64 noundef %0)
  br label %if.end

if.else:                                          ; preds = %entry
  %call.i = invoke noundef ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_M_local_dataEv(ptr noundef nonnull align 8 dereferenceable(32) %this)
          to label %if.end unwind label %terminate.lpad.i

terminate.lpad.i:                                 ; preds = %if.else
  %1 = landingpad { ptr, i32 }
          catch ptr null
  %2 = extractvalue { ptr, i32 } %1, 0
  tail call void @__clang_call_terminate(ptr %2) #30
  unreachable

if.end:                                           ; preds = %if.else, %if.then
  store ptr %this, ptr %__guard, align 8
  %call4 = invoke noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE7_M_dataEv(ptr noundef nonnull align 8 dereferenceable(32) %this)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %if.end
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_S_copy_charsEPcPKcS7_(ptr noundef %call4, ptr noundef %__beg, ptr noundef %__end) #28
  store ptr null, ptr %__guard, align 8
  %3 = load i64, ptr %__dnew, align 8
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_M_set_lengthEm(ptr noundef nonnull align 8 dereferenceable(32) %this, i64 noundef %3)
          to label %_ZZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tagEN6_GuardD2Ev.exit unwind label %lpad

_ZZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tagEN6_GuardD2Ev.exit: ; preds = %invoke.cont
  ret void

lpad:                                             ; preds = %invoke.cont, %if.end
  %4 = landingpad { ptr, i32 }
          cleanup
  call void @_ZZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tagEN6_GuardD2Ev(ptr noundef nonnull align 8 dereferenceable(8) %__guard) #28
  resume { ptr, i32 } %4
}

declare void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE7_M_dataEPc(ptr noundef nonnull align 8 dereferenceable(32), ptr noundef) local_unnamed_addr #0

declare noundef ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE9_M_createERmm(ptr noundef nonnull align 8 dereferenceable(32), ptr noundef nonnull align 8 dereferenceable(8), i64 noundef) local_unnamed_addr #0

declare void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE11_M_capacityEm(ptr noundef nonnull align 8 dereferenceable(32), i64 noundef) local_unnamed_addr #0

; Function Attrs: nounwind
declare void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_S_copy_charsEPcPKcS7_(ptr noundef, ptr noundef, ptr noundef) local_unnamed_addr #1

declare noundef ptr @_ZNKSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE7_M_dataEv(ptr noundef nonnull align 8 dereferenceable(32)) local_unnamed_addr #0

declare void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_M_set_lengthEm(ptr noundef nonnull align 8 dereferenceable(32), i64 noundef) local_unnamed_addr #0

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tagEN6_GuardD2Ev(ptr noundef nonnull align 8 dereferenceable(8) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %0 = load ptr, ptr %this, align 8
  %tobool.not = icmp eq ptr %0, null
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE10_M_disposeEv(ptr noundef nonnull align 8 dereferenceable(32) %0)
          to label %if.end unwind label %terminate.lpad

if.end:                                           ; preds = %if.then, %entry
  ret void

terminate.lpad:                                   ; preds = %if.then
  %1 = landingpad { ptr, i32 }
          catch ptr null
  %2 = extractvalue { ptr, i32 } %1, 0
  tail call void @__clang_call_terminate(ptr %2) #30
  unreachable
}

declare void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE10_M_disposeEv(ptr noundef nonnull align 8 dereferenceable(32)) local_unnamed_addr #0

; Function Attrs: nounwind
declare void @_ZNSaIcED2Ev(ptr noundef nonnull align 1 dereferenceable(1)) unnamed_addr #1

declare void @_ZN5folly20AsyncSocketException10getMessageENS0_24AsyncSocketExceptionTypeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEi(ptr sret(%"class.std::__cxx11::basic_string") align 8, i32 noundef, ptr noundef nonnull align 8 dereferenceable(32), i32 noundef) local_unnamed_addr #0

declare void @_ZNSt13runtime_errorC2ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr noundef nonnull align 8 dereferenceable(16), ptr noundef nonnull align 8 dereferenceable(32)) unnamed_addr #0

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly20AsyncSocketExceptionD0Ev(ptr noundef nonnull align 8 dereferenceable(24) %this) unnamed_addr #6 comdat align 2 {
entry:
  tail call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %this) #28
  tail call void @_ZdlPv(ptr noundef nonnull %this) #31
  ret void
}

declare noundef zeroext i1 @_ZNK5folly5IOBuf5emptyEv(ptr noundef nonnull align 8 dereferenceable(56)) local_unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE21deliverHandshakeErrorEN5folly17exception_wrapperE(ptr noundef nonnull align 8 dereferenceable(2272) %this, ptr noundef %ex) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %fn_.i.i11.i.i = alloca %class.anon.504, align 8
  %fn_.i.i.i.i = alloca %class.anon.503, align 8
  %agg.tmp12 = alloca %"class.folly::exception_wrapper", align 8
  %callback_ = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 2
  %hasValue.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 2, i32 0, i32 1
  %0 = load i8, ptr %hasValue.i.i, align 8
  %1 = and i8 %0, 1
  %tobool.i.i.not = icmp eq i8 %1, 0
  br i1 %tobool.i.i.not, label %if.end28, label %if.then

if.then:                                          ; preds = %entry
  %vtable = load ptr, ptr %this, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 61
  %2 = load ptr, ptr %vfn, align 8
  tail call void %2(ptr noundef nonnull align 8 dereferenceable(576) %this)
  %3 = load i8, ptr %hasValue.i.i, align 8
  %4 = and i8 %3, 1
  %tobool.i.i.not.i = icmp eq i8 %4, 0
  br i1 %tobool.i.i.not.i, label %if.then.i.i.i, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit

if.then.i.i.i:                                    ; preds = %if.then
  store i8 0, ptr %hasValue.i.i, align 8
  tail call void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() #32
  unreachable

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit: ; preds = %if.then
  %ptrType_.i.i.i = getelementptr inbounds %"class.fizz::client::AsyncFizzClientT", ptr %this, i64 0, i32 2, i32 0, i32 0, i32 0, i32 1
  %5 = load i8, ptr %ptrType_.i.i.i, align 8
  %storemerge.i.i.i = load ptr, ptr %callback_, align 8
  store i8 0, ptr %hasValue.i.i, align 8
  switch i8 %5, label %if.end28 [
    i8 0, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit9
    i8 1, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit21
  ]

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit9: ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit
  %tobool.not = icmp eq ptr %storemerge.i.i.i, null
  br i1 %tobool.not, label %if.end28, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit14

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit14: ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit9
  tail call void @llvm.experimental.noalias.scope.decl(metadata !91)
  %6 = load i64, ptr %ex, align 8, !noalias !91
  store i64 %6, ptr %agg.tmp12, align 8, !alias.scope !91
  store i64 0, ptr %ex, align 8, !noalias !91
  %vtable13 = load ptr, ptr %storemerge.i.i.i, align 8
  %vfn14 = getelementptr inbounds ptr, ptr %vtable13, i64 3
  %7 = load ptr, ptr %vfn14, align 8
  call void %7(ptr noundef nonnull align 8 dereferenceable(8) %storemerge.i.i.i, ptr noundef nonnull %this, ptr noundef nonnull %agg.tmp12) #28
  %8 = load ptr, ptr %agg.tmp12, align 8
  %tobool.not.i.i = icmp eq ptr %8, null
  br i1 %tobool.not.i.i, label %if.end28, label %if.then.i.i

if.then.i.i:                                      ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit14
  call void @_ZNSt15__exception_ptr13exception_ptr10_M_releaseEv(ptr noundef nonnull align 8 dereferenceable(8) %agg.tmp12) #28
  br label %if.end28

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit21: ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit
  %tobool18.not = icmp eq ptr %storemerge.i.i.i, null
  br i1 %tobool18.not, label %if.end28, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit28

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit28: ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit21
  %9 = load ptr, ptr %ex, align 8
  %tobool.i.not.i.i.i = icmp eq ptr %9, null
  br i1 %tobool.i.not.i.i.i, label %if.then.i.i32, label %lor.rhs.i.i

if.then.i.i32:                                    ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit28
  tail call void @_ZN5folly17exception_wrapper18onNoExceptionErrorEPKc(ptr noundef nonnull @__func__._ZN5folly17exception_wrapper6handleIJZN4fizz6client16AsyncFizzClientTINS3_18ClientStateMachineEE21deliverHandshakeErrorES0_EUlRKNS_20AsyncSocketExceptionEE_ZNS6_21deliverHandshakeErrorES0_EUlRKSt9exceptionE_ZNS6_21deliverHandshakeErrorES0_EUlzE_EEEvDpT_) #33
  unreachable

lor.rhs.i.i:                                      ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit28
  %call1.i.i.i.i.i.i.i = tail call noundef ptr @_ZN5folly6detail25exception_ptr_get_object_ERKNSt15__exception_ptr13exception_ptrEPKSt9type_info(ptr noundef nonnull align 8 dereferenceable(8) %ex, ptr noundef nonnull @_ZTIN5folly20AsyncSocketExceptionE) #28
  %tobool.not.i.i.not.i.i = icmp eq ptr %call1.i.i.i.i.i.i.i, null
  br i1 %tobool.not.i.i.not.i.i, label %lor.rhs9.i.i, label %_ZN5folly17exception_wrapper15with_exception_IvS0_ZN4fizz6client16AsyncFizzClientTINS3_18ClientStateMachineEE21deliverHandshakeErrorES0_EUlRKNS_20AsyncSocketExceptionEE_EEbRT0_T1_.exit.thread.i.i

_ZN5folly17exception_wrapper15with_exception_IvS0_ZN4fizz6client16AsyncFizzClientTINS3_18ClientStateMachineEE21deliverHandshakeErrorES0_EUlRKNS_20AsyncSocketExceptionEE_EEbRT0_T1_.exit.thread.i.i: ; preds = %lor.rhs.i.i
  %vtable.i.i.i.i.i = load ptr, ptr %storemerge.i.i.i, align 8
  %vfn.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i, i64 3
  %10 = load ptr, ptr %vfn.i.i.i.i.i, align 8
  tail call void %10(ptr noundef nonnull align 8 dereferenceable(8) %storemerge.i.i.i, ptr noundef nonnull align 8 dereferenceable(24) %call1.i.i.i.i.i.i.i) #28
  br label %if.end28

lor.rhs9.i.i:                                     ; preds = %lor.rhs.i.i
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %fn_.i.i.i.i)
  store ptr %storemerge.i.i.i, ptr %fn_.i.i.i.i, align 8
  %call1.i.i.i.i.i8.i.i = tail call noundef ptr @_ZN5folly6detail25exception_ptr_get_object_ERKNSt15__exception_ptr13exception_ptrEPKSt9type_info(ptr noundef nonnull align 8 dereferenceable(8) %ex, ptr noundef nonnull @_ZTISt9exception) #28
  %tobool.not.i.i9.not.i.i = icmp eq ptr %call1.i.i.i.i.i8.i.i, null
  br i1 %tobool.not.i.i9.not.i.i, label %lor.rhs18.i.i, label %_ZN5folly17exception_wrapper15with_exception_IvS0_ZN4fizz6client16AsyncFizzClientTINS3_18ClientStateMachineEE21deliverHandshakeErrorES0_EUlRKSt9exceptionE_EEbRT0_T1_.exit.thread.i.i

_ZN5folly17exception_wrapper15with_exception_IvS0_ZN4fizz6client16AsyncFizzClientTINS3_18ClientStateMachineEE21deliverHandshakeErrorES0_EUlRKSt9exceptionE_EEbRT0_T1_.exit.thread.i.i: ; preds = %lor.rhs9.i.i
  call void @_ZZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE21deliverHandshakeErrorEN5folly17exception_wrapperEENKUlRKSt9exceptionE_clES8_(ptr noundef nonnull align 8 dereferenceable(8) %fn_.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(8) %call1.i.i.i.i.i8.i.i)
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %fn_.i.i.i.i)
  br label %if.end28

lor.rhs18.i.i:                                    ; preds = %lor.rhs9.i.i
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %fn_.i.i.i.i)
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %fn_.i.i11.i.i)
  store ptr %storemerge.i.i.i, ptr %fn_.i.i11.i.i, align 8
  call void (ptr, ...) @_ZZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE21deliverHandshakeErrorEN5folly17exception_wrapperEENKUlzE_clEz(ptr noundef nonnull align 8 dereferenceable(8) %fn_.i.i11.i.i)
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %fn_.i.i11.i.i)
  br label %if.end28

if.end28:                                         ; preds = %lor.rhs18.i.i, %_ZN5folly17exception_wrapper15with_exception_IvS0_ZN4fizz6client16AsyncFizzClientTINS3_18ClientStateMachineEE21deliverHandshakeErrorES0_EUlRKSt9exceptionE_EEbRT0_T1_.exit.thread.i.i, %_ZN5folly17exception_wrapper15with_exception_IvS0_ZN4fizz6client16AsyncFizzClientTINS3_18ClientStateMachineEE21deliverHandshakeErrorES0_EUlRKNS_20AsyncSocketExceptionEE_EEbRT0_T1_.exit.thread.i.i, %if.then.i.i, %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit14, %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit, %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit9, %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE22AsyncClientCallbackPtrEEptEv.exit21, %entry
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E16moveToErrorStateERKN5folly20AsyncSocketExceptionE(ptr noundef nonnull align 8 dereferenceable(163) %this, ptr noundef nonnull align 8 dereferenceable(24) %ex) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %event.sroa.0 = alloca ptr, align 8
  %event.sroa.11 = alloca i64, align 8
  %externalError_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 12
  %0 = load i8, ptr %externalError_, align 1
  %1 = and i8 %0, 1
  %tobool.not = icmp eq i8 %1, 0
  br i1 %tobool.not, label %if.end, label %while.end

if.end:                                           ; preds = %entry
  store i8 1, ptr %externalError_, align 1
  %pendingEvents_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7
  %_M_finish.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7, i32 0, i32 0, i32 0, i32 3
  %_M_start.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7, i32 0, i32 0, i32 0, i32 2
  %2 = load ptr, ptr %_M_finish.i, align 8
  %3 = load ptr, ptr %_M_start.i, align 8
  %cmp.i.i22 = icmp eq ptr %2, %3
  br i1 %cmp.i.i22, label %while.end, label %while.body

while.body:                                       ; preds = %if.end, %_ZN4fizz6detail12PendingEventD2Ev.exit
  %4 = phi ptr [ %18, %_ZN4fizz6detail12PendingEventD2Ev.exit ], [ %3, %if.end ]
  %type_.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %4, i64 0, i32 1
  %5 = load i32, ptr %type_.i, align 8
  switch i32 %5, label %_ZN4fizz6detail12PendingEventC2EOS1_.exit [
    i32 0, label %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread
    i32 1, label %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread24
    i32 2, label %sw.epilog.thread21
    i32 3, label %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread25
  ]

_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread: ; preds = %while.body
  %6 = load ptr, ptr %4, align 8
  store ptr %6, ptr %event.sroa.0, align 8
  %data3.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %4, i64 0, i32 1
  %7 = load i64, ptr %data3.i.i, align 8
  store i64 %7, ptr %event.sroa.11, align 8
  store ptr null, ptr %data3.i.i, align 8
  tail call void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE9pop_frontEv(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_) #28
  %tobool8.not = icmp eq ptr %6, null
  br i1 %tobool8.not, label %sw.bb.i.i, label %if.then9

_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread24: ; preds = %while.body
  %8 = load ptr, ptr %4, align 8
  store ptr %8, ptr %event.sroa.0, align 8
  %data3.i7.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %4, i64 0, i32 1
  %9 = load i64, ptr %data3.i7.i, align 8
  store i64 %9, ptr %event.sroa.11, align 8
  store ptr null, ptr %data3.i7.i, align 8
  tail call void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE9pop_frontEv(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_) #28
  %tobool16.not = icmp eq ptr %8, null
  br i1 %tobool16.not, label %sw.bb2.i.i, label %if.then17

sw.epilog.thread21:                               ; preds = %while.body
  %10 = load i32, ptr %4, align 8
  store i32 %10, ptr %event.sroa.0, align 8
  tail call void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE9pop_frontEv(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_) #28
  br label %_ZN4fizz6detail12PendingEventD2Ev.exit

_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread25: ; preds = %while.body
  %11 = load i64, ptr %4, align 8
  %12 = inttoptr i64 %11 to ptr
  store ptr %12, ptr %event.sroa.0, align 8
  store ptr null, ptr %4, align 8
  tail call void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE9pop_frontEv(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_) #28
  %cmp.not.i.i4.i.i = icmp eq i64 %11, 0
  br i1 %cmp.not.i.i4.i.i, label %sw.epilog.sink.split.i.i, label %sw.epilog.sink.split.sink.split.i.i

_ZN4fizz6detail12PendingEventC2EOS1_.exit:        ; preds = %while.body
  tail call void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE9pop_frontEv(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_) #28
  br label %_ZN4fizz6detail12PendingEventD2Ev.exit

if.then9:                                         ; preds = %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread
  %vtable = load ptr, ptr %6, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 4
  %13 = load ptr, ptr %vfn, align 8
  tail call void %13(ptr noundef nonnull align 8 dereferenceable(8) %6, i64 noundef 0, ptr noundef nonnull align 8 dereferenceable(24) %ex) #28
  br label %sw.bb.i.i

if.then17:                                        ; preds = %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread24
  %vtable20 = load ptr, ptr %8, align 8
  %vfn21 = getelementptr inbounds ptr, ptr %vtable20, i64 4
  %14 = load ptr, ptr %vfn21, align 8
  tail call void %14(ptr noundef nonnull align 8 dereferenceable(8) %8, i64 noundef 0, ptr noundef nonnull align 8 dereferenceable(24) %ex) #28
  br label %sw.bb2.i.i

sw.bb.i.i:                                        ; preds = %if.then9, %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread
  %event.sroa.11.0.event.sroa.11.0.event.sroa.11.0.event.sroa.11.8.13 = load i64, ptr %event.sroa.11, align 8
  %15 = inttoptr i64 %event.sroa.11.0.event.sroa.11.0.event.sroa.11.0.event.sroa.11.8.13 to ptr
  %cmp.not.i.i.i.i = icmp eq i64 %event.sroa.11.0.event.sroa.11.0.event.sroa.11.0.event.sroa.11.8.13, 0
  br i1 %cmp.not.i.i.i.i, label %sw.epilog.sink.split.i.i, label %sw.epilog.sink.split.sink.split.i.i

sw.bb2.i.i:                                       ; preds = %if.then17, %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread24
  %event.sroa.11.0.event.sroa.11.0.event.sroa.11.0.event.sroa.11.8. = load i64, ptr %event.sroa.11, align 8
  %16 = inttoptr i64 %event.sroa.11.0.event.sroa.11.0.event.sroa.11.0.event.sroa.11.8. to ptr
  %cmp.not.i.i2.i.i = icmp eq i64 %event.sroa.11.0.event.sroa.11.0.event.sroa.11.0.event.sroa.11.8., 0
  br i1 %cmp.not.i.i2.i.i, label %sw.epilog.sink.split.i.i, label %sw.epilog.sink.split.sink.split.i.i

sw.epilog.sink.split.sink.split.i.i:              ; preds = %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread25, %sw.bb2.i.i, %sw.bb.i.i
  %.sink6.i.i = phi ptr [ %15, %sw.bb.i.i ], [ %16, %sw.bb2.i.i ], [ %12, %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread25 ]
  %this.sink.ph.i.i = phi ptr [ %event.sroa.11, %sw.bb.i.i ], [ %event.sroa.11, %sw.bb2.i.i ], [ %event.sroa.0, %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread25 ]
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %.sink6.i.i) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %.sink6.i.i) #28
  br label %sw.epilog.sink.split.i.i

sw.epilog.sink.split.i.i:                         ; preds = %sw.epilog.sink.split.sink.split.i.i, %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread25, %sw.bb2.i.i, %sw.bb.i.i
  %this.sink.i.i = phi ptr [ %event.sroa.11, %sw.bb.i.i ], [ %event.sroa.11, %sw.bb2.i.i ], [ %event.sroa.0, %_ZN4fizz6detail12PendingEventC2EOS1_.exit.thread25 ], [ %this.sink.ph.i.i, %sw.epilog.sink.split.sink.split.i.i ]
  store ptr null, ptr %this.sink.i.i, align 8
  br label %_ZN4fizz6detail12PendingEventD2Ev.exit

_ZN4fizz6detail12PendingEventD2Ev.exit:           ; preds = %_ZN4fizz6detail12PendingEventC2EOS1_.exit, %sw.epilog.thread21, %sw.epilog.sink.split.i.i
  %17 = load ptr, ptr %_M_finish.i, align 8
  %18 = load ptr, ptr %_M_start.i, align 8
  %cmp.i.i = icmp eq ptr %17, %18
  br i1 %cmp.i.i, label %while.end, label %while.body, !llvm.loop !94

while.end:                                        ; preds = %_ZN4fizz6detail12PendingEventD2Ev.exit, %if.end, %entry
  ret void
}

; Function Attrs: noreturn
declare void @_ZN5folly17exception_wrapper18onNoExceptionErrorEPKc(ptr noundef) local_unnamed_addr #16

; Function Attrs: nounwind
declare noundef ptr @_ZN5folly6detail25exception_ptr_get_object_ERKNSt15__exception_ptr13exception_ptrEPKSt9type_info(ptr noundef nonnull align 8 dereferenceable(8), ptr noundef) local_unnamed_addr #1

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE21deliverHandshakeErrorEN5folly17exception_wrapperEENKUlRKSt9exceptionE_clES8_(ptr noundef nonnull align 8 dereferenceable(8) %this, ptr noundef nonnull align 8 dereferenceable(8) %stdEx) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i = alloca %"class.std::__cxx11::basic_string", align 8
  %ase = alloca %"class.folly::AsyncSocketException", align 8
  %ref.tmp = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp2 = alloca %"class.std::allocator", align 1
  %vtable = load ptr, ptr %stdEx, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 2
  %0 = load ptr, ptr %vfn, align 8
  %call = tail call noundef ptr %0(ptr noundef nonnull align 8 dereferenceable(8) %stdEx) #28
  call void @_ZNSaIcEC1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp2) #28
  %call.i2 = invoke noundef ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_M_local_dataEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp)
          to label %call.i.noexc unwind label %lpad

call.i.noexc:                                     ; preds = %entry
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_Alloc_hiderC1EPcRKS3_(ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp, ptr noundef %call.i2, ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp2)
          to label %.noexc unwind label %lpad

.noexc:                                           ; preds = %call.i.noexc
  %cmp.i = icmp eq ptr %call, null
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %.noexc
  invoke void @_ZSt19__throw_logic_errorPKc(ptr noundef nonnull @.str.11) #33
          to label %invoke.cont.i unwind label %lpad.i

invoke.cont.i:                                    ; preds = %if.then.i
  unreachable

lpad.i:                                           ; preds = %if.end.i, %if.then.i
  %1 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSaIcED2Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp) #28
  br label %ehcleanup

if.end.i:                                         ; preds = %.noexc
  %call.i.i = call noundef i64 @strlen(ptr noundef nonnull dereferenceable(1) %call) #28
  %add.ptr.i = getelementptr inbounds i8, ptr %call, i64 %call.i.i
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tag(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp, ptr noundef nonnull %call, ptr noundef nonnull %add.ptr.i)
          to label %invoke.cont unwind label %lpad.i

invoke.cont:                                      ; preds = %if.end.i
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %ref.tmp.i)
  invoke void @_ZN5folly20AsyncSocketException10getMessageENS0_24AsyncSocketExceptionTypeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEi(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp.i, i32 noundef 12, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp, i32 noundef 0)
          to label %.noexc5 unwind label %lpad3

.noexc5:                                          ; preds = %invoke.cont
  invoke void @_ZNSt13runtime_errorC2ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr noundef nonnull align 8 dereferenceable(16) %ase, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i)
          to label %invoke.cont4 unwind label %lpad.i3

lpad.i3:                                          ; preds = %.noexc5
  %2 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #28
  br label %lpad3.body

invoke.cont4:                                     ; preds = %.noexc5
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #28
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN5folly20AsyncSocketExceptionE, i64 0, inrange i32 0, i64 2), ptr %ase, align 8
  %type_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ase, i64 0, i32 1
  store i32 12, ptr %type_.i, align 8
  %errno_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ase, i64 0, i32 2
  store i32 0, ptr %errno_.i, align 4
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %ref.tmp.i)
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #28
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp2) #28
  %3 = load ptr, ptr %this, align 8
  %vtable5 = load ptr, ptr %3, align 8
  %vfn6 = getelementptr inbounds ptr, ptr %vtable5, i64 3
  %4 = load ptr, ptr %vfn6, align 8
  call void %4(ptr noundef nonnull align 8 dereferenceable(8) %3, ptr noundef nonnull align 8 dereferenceable(24) %ase) #28
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ase) #28
  ret void

lpad:                                             ; preds = %call.i.noexc, %entry
  %5 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad3:                                            ; preds = %invoke.cont
  %6 = landingpad { ptr, i32 }
          cleanup
  br label %lpad3.body

lpad3.body:                                       ; preds = %lpad.i3, %lpad3
  %eh.lpad-body6 = phi { ptr, i32 } [ %6, %lpad3 ], [ %2, %lpad.i3 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #28
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad, %lpad.i, %lpad3.body
  %.pn = phi { ptr, i32 } [ %eh.lpad-body6, %lpad3.body ], [ %5, %lpad ], [ %1, %lpad.i ]
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp2) #28
  resume { ptr, i32 } %.pn
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZZN4fizz6client16AsyncFizzClientTINS0_18ClientStateMachineEE21deliverHandshakeErrorEN5folly17exception_wrapperEENKUlzE_clEz(ptr noundef nonnull align 8 dereferenceable(8) %this, ...) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i = alloca %"class.std::__cxx11::basic_string", align 8
  %ase = alloca %"class.folly::AsyncSocketException", align 8
  %ref.tmp = alloca %"class.std::__cxx11::basic_string", align 8
  %ref.tmp2 = alloca %"class.std::allocator", align 1
  call void @_ZNSaIcEC1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp2) #28
  %call.i2 = invoke noundef ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE13_M_local_dataEv(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp)
          to label %call.i.noexc unwind label %lpad

call.i.noexc:                                     ; preds = %entry
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_Alloc_hiderC1EPcRKS3_(ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp, ptr noundef %call.i2, ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp2)
          to label %.noexc unwind label %lpad

.noexc:                                           ; preds = %call.i.noexc
  invoke void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEE12_M_constructIPKcEEvT_S8_St20forward_iterator_tag(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp, ptr noundef nonnull @.str.30, ptr noundef nonnull getelementptr inbounds ([14 x i8], ptr @.str.30, i64 0, i64 13))
          to label %invoke.cont unwind label %lpad.i

lpad.i:                                           ; preds = %.noexc
  %0 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSaIcED2Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp) #28
  br label %ehcleanup

invoke.cont:                                      ; preds = %.noexc
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %ref.tmp.i)
  invoke void @_ZN5folly20AsyncSocketException10getMessageENS0_24AsyncSocketExceptionTypeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEi(ptr nonnull sret(%"class.std::__cxx11::basic_string") align 8 %ref.tmp.i, i32 noundef 12, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp, i32 noundef 0)
          to label %.noexc4 unwind label %lpad3

.noexc4:                                          ; preds = %invoke.cont
  invoke void @_ZNSt13runtime_errorC2ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE(ptr noundef nonnull align 8 dereferenceable(16) %ase, ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i)
          to label %invoke.cont4 unwind label %lpad.i3

lpad.i3:                                          ; preds = %.noexc4
  %1 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #28
  br label %lpad3.body

invoke.cont4:                                     ; preds = %.noexc4
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp.i) #28
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVN5folly20AsyncSocketExceptionE, i64 0, inrange i32 0, i64 2), ptr %ase, align 8
  %type_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ase, i64 0, i32 1
  store i32 12, ptr %type_.i, align 8
  %errno_.i = getelementptr inbounds %"class.folly::AsyncSocketException", ptr %ase, i64 0, i32 2
  store i32 0, ptr %errno_.i, align 4
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %ref.tmp.i)
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #28
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp2) #28
  %2 = load ptr, ptr %this, align 8
  %vtable = load ptr, ptr %2, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 3
  %3 = load ptr, ptr %vfn, align 8
  call void %3(ptr noundef nonnull align 8 dereferenceable(8) %2, ptr noundef nonnull align 8 dereferenceable(24) %ase) #28
  call void @_ZNSt13runtime_errorD2Ev(ptr noundef nonnull align 8 dereferenceable(16) %ase) #28
  ret void

lpad:                                             ; preds = %call.i.noexc, %entry
  %4 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad3:                                            ; preds = %invoke.cont
  %5 = landingpad { ptr, i32 }
          cleanup
  br label %lpad3.body

lpad3.body:                                       ; preds = %lpad.i3, %lpad3
  %eh.lpad-body5 = phi { ptr, i32 } [ %5, %lpad3 ], [ %1, %lpad.i3 ]
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %ref.tmp) #28
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad, %lpad.i, %lpad3.body
  %.pn = phi { ptr, i32 } [ %eh.lpad-body5, %lpad3.body ], [ %4, %lpad ], [ %0, %lpad.i ]
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp2) #28
  resume { ptr, i32 } %.pn
}

; Function Attrs: nounwind
declare ptr @__cxa_init_primary_exception(ptr noundef, ptr noundef, ptr noundef) local_unnamed_addr #1

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt15__exception_ptr12__dest_thunkIN5folly20AsyncSocketExceptionEEEvPv(ptr noundef %__x) #6 comdat {
entry:
  %vtable = load ptr, ptr %__x, align 8
  %0 = load ptr, ptr %vtable, align 8
  tail call void %0(ptr noundef nonnull align 8 dereferenceable(24) %__x) #28
  ret void
}

; Function Attrs: nounwind
declare void @_ZNSt15__exception_ptr13exception_ptrC1EPv(ptr noundef nonnull align 8 dereferenceable(8), ptr noundef) unnamed_addr #1

; Function Attrs: nounwind
declare void @_ZNSt13runtime_errorC2ERKS_(ptr noundef nonnull align 8 dereferenceable(16), ptr noundef nonnull align 8 dereferenceable(16)) unnamed_addr #1

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt5dequeIN4fizz8AppWriteESaIS1_EED2Ev(ptr noundef nonnull align 8 dereferenceable(80) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %agg.tmp.i = alloca %"struct.std::_Deque_iterator.202", align 16
  %agg.tmp2.i = alloca %"struct.std::_Deque_iterator.202", align 16
  %_M_start.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 2
  %_M_last4.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 2
  %_M_node5.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 3
  %_M_finish.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 3
  %_M_last4.i.i4 = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 2
  %_M_node5.i.i6 = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 3
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp.i)
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp2.i)
  %0 = load <2 x ptr>, ptr %_M_start.i, align 8, !noalias !95
  store <2 x ptr> %0, ptr %agg.tmp.i, align 16
  %_M_last.i.i9 = getelementptr inbounds %"struct.std::_Deque_iterator.202", ptr %agg.tmp.i, i64 0, i32 2
  %1 = load <2 x ptr>, ptr %_M_last4.i.i, align 8, !noalias !95
  store <2 x ptr> %1, ptr %_M_last.i.i9, align 16
  %2 = load <2 x ptr>, ptr %_M_finish.i, align 8, !noalias !98
  store <2 x ptr> %2, ptr %agg.tmp2.i, align 16
  %_M_last.i3.i = getelementptr inbounds %"struct.std::_Deque_iterator.202", ptr %agg.tmp2.i, i64 0, i32 2
  %3 = load <2 x ptr>, ptr %_M_last4.i.i4, align 8, !noalias !98
  store <2 x ptr> %3, ptr %_M_last.i3.i, align 16
  invoke void @_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE19_M_destroy_data_auxESt15_Deque_iteratorIS1_RS1_PS1_ES7_(ptr noundef nonnull align 8 dereferenceable(80) %this, ptr noundef nonnull %agg.tmp.i, ptr noundef nonnull %agg.tmp2.i)
          to label %invoke.cont unwind label %terminate.lpad

invoke.cont:                                      ; preds = %entry
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp.i)
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp2.i)
  %4 = load ptr, ptr %this, align 8
  %tobool.not.i = icmp eq ptr %4, null
  br i1 %tobool.not.i, label %_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EED2Ev.exit, label %if.then.i

if.then.i:                                        ; preds = %invoke.cont
  %5 = load ptr, ptr %_M_node5.i.i, align 8
  %6 = load ptr, ptr %_M_node5.i.i6, align 8
  %add.ptr.i = getelementptr inbounds ptr, ptr %6, i64 1
  %cmp3.i.i = icmp ult ptr %5, %add.ptr.i
  br i1 %cmp3.i.i, label %for.body.i.i, label %_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE16_M_destroy_nodesEPPS1_S5_.exit.i

for.body.i.i:                                     ; preds = %if.then.i, %for.body.i.i
  %__n.04.i.i = phi ptr [ %incdec.ptr.i.i, %for.body.i.i ], [ %5, %if.then.i ]
  %7 = load ptr, ptr %__n.04.i.i, align 8
  call void @_ZdlPv(ptr noundef %7) #31
  %incdec.ptr.i.i = getelementptr inbounds ptr, ptr %__n.04.i.i, i64 1
  %cmp.i.i = icmp ult ptr %__n.04.i.i, %6
  br i1 %cmp.i.i, label %for.body.i.i, label %_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE16_M_destroy_nodesEPPS1_S5_.exit.loopexit.i, !llvm.loop !101

_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE16_M_destroy_nodesEPPS1_S5_.exit.loopexit.i: ; preds = %for.body.i.i
  %.pre.i = load ptr, ptr %this, align 8
  br label %_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE16_M_destroy_nodesEPPS1_S5_.exit.i

_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE16_M_destroy_nodesEPPS1_S5_.exit.i: ; preds = %_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE16_M_destroy_nodesEPPS1_S5_.exit.loopexit.i, %if.then.i
  %8 = phi ptr [ %.pre.i, %_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE16_M_destroy_nodesEPPS1_S5_.exit.loopexit.i ], [ %4, %if.then.i ]
  call void @_ZdlPv(ptr noundef %8) #31
  br label %_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EED2Ev.exit

_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EED2Ev.exit: ; preds = %invoke.cont, %_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE16_M_destroy_nodesEPPS1_S5_.exit.i
  ret void

terminate.lpad:                                   ; preds = %entry
  %9 = landingpad { ptr, i32 }
          catch ptr null
  %10 = extractvalue { ptr, i32 } %9, 0
  call void @__clang_call_terminate(ptr %10) #30
  unreachable
}

; Function Attrs: nounwind
declare void @_ZN5folly10IOBufQueueD1Ev(ptr noundef nonnull align 8 dereferenceable(72)) unnamed_addr #1

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE19_M_destroy_data_auxESt15_Deque_iteratorIS1_RS1_PS1_ES7_(ptr noundef nonnull align 8 dereferenceable(80) %this, ptr noundef %__first, ptr noundef %__last) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %_M_node = getelementptr inbounds %"struct.std::_Deque_iterator.202", ptr %__first, i64 0, i32 3
  %0 = load ptr, ptr %_M_node, align 8
  %_M_node2 = getelementptr inbounds %"struct.std::_Deque_iterator.202", ptr %__last, i64 0, i32 3
  %__node.034 = getelementptr inbounds ptr, ptr %0, i64 1
  %1 = load ptr, ptr %_M_node2, align 8
  %cmp35 = icmp ult ptr %__node.034, %1
  br i1 %cmp35, label %for.body, label %for.end

for.body:                                         ; preds = %entry, %_ZSt8_DestroyIPN4fizz8AppWriteES1_EvT_S3_RSaIT0_E.exit
  %__node.036 = phi ptr [ %__node.0, %_ZSt8_DestroyIPN4fizz8AppWriteES1_EvT_S3_RSaIT0_E.exit ], [ %__node.034, %entry ]
  %2 = load ptr, ptr %__node.036, align 8
  %invariant.gep = getelementptr inbounds %"struct.fizz::AppWrite", ptr %2, i64 0, i32 1
  br label %for.body.i.i.i

for.body.i.i.i:                                   ; preds = %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i, %for.body
  %__first.addr.04.i.i.i.idx = phi i64 [ %__first.addr.04.i.i.i.add, %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i ], [ 0, %for.body ]
  %gep = getelementptr inbounds i8, ptr %invariant.gep, i64 %__first.addr.04.i.i.i.idx
  %3 = load ptr, ptr %gep, align 8
  %cmp.not.i.i.i.i.i.i = icmp eq ptr %3, null
  br i1 %cmp.not.i.i.i.i.i.i, label %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i: ; preds = %for.body.i.i.i
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %3) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %3) #28
  br label %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i

_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i:   ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i, %for.body.i.i.i
  store ptr null, ptr %gep, align 8
  %__first.addr.04.i.i.i.add = add nuw nsw i64 %__first.addr.04.i.i.i.idx, 32
  %cmp.not.i.i.i = icmp eq i64 %__first.addr.04.i.i.i.add, 512
  br i1 %cmp.not.i.i.i, label %_ZSt8_DestroyIPN4fizz8AppWriteES1_EvT_S3_RSaIT0_E.exit, label %for.body.i.i.i, !llvm.loop !102

_ZSt8_DestroyIPN4fizz8AppWriteES1_EvT_S3_RSaIT0_E.exit: ; preds = %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i
  %__node.0 = getelementptr inbounds ptr, ptr %__node.036, i64 1
  %4 = load ptr, ptr %_M_node2, align 8
  %cmp = icmp ult ptr %__node.0, %4
  br i1 %cmp, label %for.body, label %for.end.loopexit, !llvm.loop !103

for.end.loopexit:                                 ; preds = %_ZSt8_DestroyIPN4fizz8AppWriteES1_EvT_S3_RSaIT0_E.exit
  %.pre = load ptr, ptr %_M_node, align 8
  br label %for.end

for.end:                                          ; preds = %for.end.loopexit, %entry
  %5 = phi ptr [ %0, %entry ], [ %.pre, %for.end.loopexit ]
  %.lcssa = phi ptr [ %1, %entry ], [ %4, %for.end.loopexit ]
  %cmp7.not = icmp eq ptr %5, %.lcssa
  %6 = load ptr, ptr %__first, align 8
  br i1 %cmp7.not, label %if.else, label %if.then

if.then:                                          ; preds = %for.end
  %_M_last = getelementptr inbounds %"struct.std::_Deque_iterator.202", ptr %__first, i64 0, i32 2
  %7 = load ptr, ptr %_M_last, align 8
  %cmp.not3.i.i.i = icmp eq ptr %6, %7
  br i1 %cmp.not3.i.i.i, label %_ZSt8_DestroyIPN4fizz8AppWriteES1_EvT_S3_RSaIT0_E.exit12, label %for.body.i.i.i4

for.body.i.i.i4:                                  ; preds = %if.then, %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i9
  %__first.addr.04.i.i.i5 = phi ptr [ %incdec.ptr.i.i.i10, %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i9 ], [ %6, %if.then ]
  %data.i.i.i.i.i6 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %__first.addr.04.i.i.i5, i64 0, i32 1
  %8 = load ptr, ptr %data.i.i.i.i.i6, align 8
  %cmp.not.i.i.i.i.i.i7 = icmp eq ptr %8, null
  br i1 %cmp.not.i.i.i.i.i.i7, label %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i9, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i8

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i8: ; preds = %for.body.i.i.i4
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %8) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %8) #28
  br label %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i9

_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i9:  ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i8, %for.body.i.i.i4
  store ptr null, ptr %data.i.i.i.i.i6, align 8
  %incdec.ptr.i.i.i10 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %__first.addr.04.i.i.i5, i64 1
  %cmp.not.i.i.i11 = icmp eq ptr %incdec.ptr.i.i.i10, %7
  br i1 %cmp.not.i.i.i11, label %_ZSt8_DestroyIPN4fizz8AppWriteES1_EvT_S3_RSaIT0_E.exit12, label %for.body.i.i.i4, !llvm.loop !102

_ZSt8_DestroyIPN4fizz8AppWriteES1_EvT_S3_RSaIT0_E.exit12: ; preds = %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i9, %if.then
  %_M_first = getelementptr inbounds %"struct.std::_Deque_iterator.202", ptr %__last, i64 0, i32 1
  %9 = load ptr, ptr %_M_first, align 8
  %10 = load ptr, ptr %__last, align 8
  %cmp.not3.i.i.i13 = icmp eq ptr %9, %10
  br i1 %cmp.not3.i.i.i13, label %if.end, label %for.body.i.i.i14

for.body.i.i.i14:                                 ; preds = %_ZSt8_DestroyIPN4fizz8AppWriteES1_EvT_S3_RSaIT0_E.exit12, %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i19
  %__first.addr.04.i.i.i15 = phi ptr [ %incdec.ptr.i.i.i20, %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i19 ], [ %9, %_ZSt8_DestroyIPN4fizz8AppWriteES1_EvT_S3_RSaIT0_E.exit12 ]
  %data.i.i.i.i.i16 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %__first.addr.04.i.i.i15, i64 0, i32 1
  %11 = load ptr, ptr %data.i.i.i.i.i16, align 8
  %cmp.not.i.i.i.i.i.i17 = icmp eq ptr %11, null
  br i1 %cmp.not.i.i.i.i.i.i17, label %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i19, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i18

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i18: ; preds = %for.body.i.i.i14
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %11) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %11) #28
  br label %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i19

_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i19: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i18, %for.body.i.i.i14
  store ptr null, ptr %data.i.i.i.i.i16, align 8
  %incdec.ptr.i.i.i20 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %__first.addr.04.i.i.i15, i64 1
  %cmp.not.i.i.i21 = icmp eq ptr %incdec.ptr.i.i.i20, %10
  br i1 %cmp.not.i.i.i21, label %if.end, label %for.body.i.i.i14, !llvm.loop !102

if.else:                                          ; preds = %for.end
  %12 = load ptr, ptr %__last, align 8
  %cmp.not3.i.i.i23 = icmp eq ptr %6, %12
  br i1 %cmp.not3.i.i.i23, label %if.end, label %for.body.i.i.i24

for.body.i.i.i24:                                 ; preds = %if.else, %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i29
  %__first.addr.04.i.i.i25 = phi ptr [ %incdec.ptr.i.i.i30, %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i29 ], [ %6, %if.else ]
  %data.i.i.i.i.i26 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %__first.addr.04.i.i.i25, i64 0, i32 1
  %13 = load ptr, ptr %data.i.i.i.i.i26, align 8
  %cmp.not.i.i.i.i.i.i27 = icmp eq ptr %13, null
  br i1 %cmp.not.i.i.i.i.i.i27, label %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i29, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i28

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i28: ; preds = %for.body.i.i.i24
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %13) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %13) #28
  br label %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i29

_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i29: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i28, %for.body.i.i.i24
  store ptr null, ptr %data.i.i.i.i.i26, align 8
  %incdec.ptr.i.i.i30 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %__first.addr.04.i.i.i25, i64 1
  %cmp.not.i.i.i31 = icmp eq ptr %incdec.ptr.i.i.i30, %12
  br i1 %cmp.not.i.i.i31, label %if.end, label %for.body.i.i.i24, !llvm.loop !102

if.end:                                           ; preds = %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i19, %_ZSt8_DestroyIN4fizz8AppWriteEEvPT_.exit.i.i.i29, %if.else, %_ZSt8_DestroyIPN4fizz8AppWriteES1_EvT_S3_RSaIT0_E.exit12
  ret void
}

declare void @_ZN5folly10IOBufQueueC1ERKNS0_7OptionsE(ptr noundef nonnull align 8 dereferenceable(72), ptr noundef nonnull align 1 dereferenceable(1)) unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEE6assignEOS6_(ptr noundef nonnull align 8 dereferenceable(168) %this, ptr noundef nonnull align 8 dereferenceable(160) %newValue) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %__tmp.sroa.0.i.i.i.i.i.i = alloca { ptr, i64 }, align 8
  %hasValue.i.i = getelementptr inbounds %"struct.folly::Optional<fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState>::StorageNonTriviallyDestructible", ptr %this, i64 0, i32 1
  %0 = load i8, ptr %hasValue.i.i, align 8
  %1 = and i8 %0, 1
  %tobool.i.i.not = icmp eq i8 %1, 0
  %2 = load i32, ptr %newValue, align 8
  store i32 %2, ptr %this, align 8
  %resendBuffer.i.i = getelementptr inbounds %"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState", ptr %this, i64 0, i32 1
  %resendBuffer3.i.i = getelementptr inbounds %"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState", ptr %newValue, i64 0, i32 1
  %pendingAppWrites.i.i = getelementptr inbounds %"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState", ptr %this, i64 0, i32 2
  %pendingAppWrites4.i.i = getelementptr inbounds %"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState", ptr %newValue, i64 0, i32 2
  br i1 %tobool.i.i.not, label %if.else, label %if.then

if.then:                                          ; preds = %entry
  %call.i = tail call noundef nonnull align 8 dereferenceable(72) ptr @_ZN5folly10IOBufQueueaSEOS0_(ptr noundef nonnull align 8 dereferenceable(72) %resendBuffer.i.i, ptr noundef nonnull align 8 dereferenceable(72) %resendBuffer3.i.i)
  tail call void @_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE15_M_move_assign1EOS3_St17integral_constantIbLb1EE(ptr noundef nonnull align 8 dereferenceable(80) %pendingAppWrites.i.i, ptr noundef nonnull align 8 dereferenceable(80) %pendingAppWrites4.i.i) #28
  br label %if.end

if.else:                                          ; preds = %entry
  tail call void @_ZN5folly10IOBufQueueC1EOS0_(ptr noundef nonnull align 8 dereferenceable(72) %resendBuffer.i.i, ptr noundef nonnull align 8 dereferenceable(72) %resendBuffer3.i.i) #28
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(80) %pendingAppWrites.i.i, i8 0, i64 80, i1 false)
  invoke void @_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE17_M_initialize_mapEm(ptr noundef nonnull align 8 dereferenceable(80) %pendingAppWrites.i.i, i64 noundef 0)
          to label %.noexc.i.i unwind label %lpad.i.i

.noexc.i.i:                                       ; preds = %if.else
  %3 = load ptr, ptr %pendingAppWrites4.i.i, align 8
  %tobool.not.i.i.i.i = icmp eq ptr %3, null
  br i1 %tobool.not.i.i.i.i, label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEE9constructIJS6_EEEvDpOT_.exit, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %.noexc.i.i
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %__tmp.sroa.0.i.i.i.i.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %__tmp.sroa.0.i.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(16) %pendingAppWrites.i.i, i64 16, i1 false)
  %_M_start3.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState", ptr %this, i64 0, i32 2, i32 0, i32 0, i32 0, i32 2
  %_M_last4.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState", ptr %this, i64 0, i32 2, i32 0, i32 0, i32 0, i32 2, i32 2
  %_M_finish4.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState", ptr %this, i64 0, i32 2, i32 0, i32 0, i32 0, i32 3
  %_M_last4.i6.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState", ptr %this, i64 0, i32 2, i32 0, i32 0, i32 0, i32 3, i32 2
  %__tmp.sroa.2.0.__b.sroa_idx.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState", ptr %newValue, i64 0, i32 2, i32 0, i32 0, i32 0, i32 2
  %4 = load <2 x ptr>, ptr %_M_start3.i.i.i.i.i.i.i.i, align 8
  %__tmp.sroa.4.0.__b.sroa_idx.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState", ptr %newValue, i64 0, i32 2, i32 0, i32 0, i32 0, i32 2, i32 2
  %5 = load <2 x ptr>, ptr %_M_last4.i.i.i.i.i.i.i.i.i, align 8
  %__tmp.sroa.6.0.__b.sroa_idx.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState", ptr %newValue, i64 0, i32 2, i32 0, i32 0, i32 0, i32 3
  %6 = load <2 x ptr>, ptr %_M_finish4.i.i.i.i.i.i.i.i, align 8
  %__tmp.sroa.8.0.__b.sroa_idx.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::client::AsyncFizzClientT<fizz::client::ClientStateMachine>::EarlyDataState", ptr %newValue, i64 0, i32 2, i32 0, i32 0, i32 0, i32 3, i32 2
  %7 = load <2 x ptr>, ptr %_M_last4.i6.i.i.i.i.i.i.i.i, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(80) %pendingAppWrites.i.i, i8 0, i64 80, i1 false)
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(80) %pendingAppWrites.i.i, ptr noundef nonnull align 8 dereferenceable(80) %pendingAppWrites4.i.i, i64 80, i1 false)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %pendingAppWrites4.i.i, ptr noundef nonnull align 8 dereferenceable(16) %__tmp.sroa.0.i.i.i.i.i.i, i64 16, i1 false)
  store <2 x ptr> %4, ptr %__tmp.sroa.2.0.__b.sroa_idx.i.i.i.i.i.i, align 8
  store <2 x ptr> %5, ptr %__tmp.sroa.4.0.__b.sroa_idx.i.i.i.i.i.i, align 8
  store <2 x ptr> %6, ptr %__tmp.sroa.6.0.__b.sroa_idx.i.i.i.i.i.i, align 8
  store <2 x ptr> %7, ptr %__tmp.sroa.8.0.__b.sroa_idx.i.i.i.i.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %__tmp.sroa.0.i.i.i.i.i.i)
  br label %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEE9constructIJS6_EEEvDpOT_.exit

lpad.i.i:                                         ; preds = %if.else
  %8 = landingpad { ptr, i32 }
          cleanup
  tail call void @_ZN5folly10IOBufQueueD1Ev(ptr noundef nonnull align 8 dereferenceable(72) %resendBuffer.i.i) #28
  resume { ptr, i32 } %8

_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEE9constructIJS6_EEEvDpOT_.exit: ; preds = %.noexc.i.i, %if.then.i.i.i.i
  store i8 1, ptr %hasValue.i.i, align 8
  br label %if.end

if.end:                                           ; preds = %_ZN5folly8OptionalIN4fizz6client16AsyncFizzClientTINS2_18ClientStateMachineEE14EarlyDataStateEE9constructIJS6_EEEvDpOT_.exit, %if.then
  ret void
}

declare noundef nonnull align 8 dereferenceable(72) ptr @_ZN5folly10IOBufQueueaSEOS0_(ptr noundef nonnull align 8 dereferenceable(72), ptr noundef nonnull align 8 dereferenceable(72)) local_unnamed_addr #0

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE15_M_move_assign1EOS3_St17integral_constantIbLb1EE(ptr noundef nonnull align 8 dereferenceable(80) %this, ptr noundef nonnull align 8 dereferenceable(80) %__x) local_unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %agg.tmp.i.i.i = alloca %"struct.std::_Deque_iterator.202", align 8
  %agg.tmp2.i.i.i = alloca %"struct.std::_Deque_iterator.202", align 8
  %__tmp.sroa.0.i.i = alloca { ptr, i64 }, align 8
  call void @llvm.lifetime.start.p0(i64 16, ptr nonnull %__tmp.sroa.0.i.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %__tmp.sroa.0.i.i, ptr noundef nonnull align 8 dereferenceable(16) %this, i64 16, i1 false)
  %_M_start3.i.i.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 2
  %0 = load ptr, ptr %_M_start3.i.i.i.i, align 8
  %_M_first3.i.i.i.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 1
  %1 = load ptr, ptr %_M_first3.i.i.i.i.i, align 8
  %_M_last4.i.i.i.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 2
  %2 = load ptr, ptr %_M_last4.i.i.i.i.i, align 8
  %_M_node5.i.i.i.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 3
  %3 = load ptr, ptr %_M_node5.i.i.i.i.i, align 8
  %_M_finish4.i.i.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 3
  %4 = load ptr, ptr %_M_finish4.i.i.i.i, align 8
  %_M_first3.i4.i.i.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 1
  %5 = load ptr, ptr %_M_first3.i4.i.i.i.i, align 8
  %_M_last4.i6.i.i.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 2
  %6 = load ptr, ptr %_M_last4.i6.i.i.i.i, align 8
  %_M_node5.i8.i.i.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 3
  %7 = load ptr, ptr %_M_node5.i8.i.i.i.i, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(80) %this, i8 0, i64 80, i1 false)
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(80) %this, ptr noundef nonnull align 8 dereferenceable(80) %__x, i64 80, i1 false)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %__x, ptr noundef nonnull align 8 dereferenceable(16) %__tmp.sroa.0.i.i, i64 16, i1 false)
  %__tmp.sroa.2.0.__b.sroa_idx.i.i = getelementptr inbounds i8, ptr %__x, i64 16
  store ptr %0, ptr %__tmp.sroa.2.0.__b.sroa_idx.i.i, align 8
  %__tmp.sroa.3.0.__b.sroa_idx.i.i = getelementptr inbounds i8, ptr %__x, i64 24
  store ptr %1, ptr %__tmp.sroa.3.0.__b.sroa_idx.i.i, align 8
  %__tmp.sroa.4.0.__b.sroa_idx.i.i = getelementptr inbounds i8, ptr %__x, i64 32
  store ptr %2, ptr %__tmp.sroa.4.0.__b.sroa_idx.i.i, align 8
  %__tmp.sroa.5.0.__b.sroa_idx.i.i = getelementptr inbounds i8, ptr %__x, i64 40
  store ptr %3, ptr %__tmp.sroa.5.0.__b.sroa_idx.i.i, align 8
  %__tmp.sroa.6.0.__b.sroa_idx.i.i = getelementptr inbounds i8, ptr %__x, i64 48
  store ptr %4, ptr %__tmp.sroa.6.0.__b.sroa_idx.i.i, align 8
  %__tmp.sroa.7.0.__b.sroa_idx.i.i = getelementptr inbounds i8, ptr %__x, i64 56
  store ptr %5, ptr %__tmp.sroa.7.0.__b.sroa_idx.i.i, align 8
  %__tmp.sroa.8.0.__b.sroa_idx.i.i = getelementptr inbounds i8, ptr %__x, i64 64
  store ptr %6, ptr %__tmp.sroa.8.0.__b.sroa_idx.i.i, align 8
  %__tmp.sroa.9.0.__b.sroa_idx.i.i = getelementptr inbounds i8, ptr %__x, i64 72
  store ptr %7, ptr %__tmp.sroa.9.0.__b.sroa_idx.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 16, ptr nonnull %__tmp.sroa.0.i.i)
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp.i.i.i)
  call void @llvm.lifetime.start.p0(i64 32, ptr nonnull %agg.tmp2.i.i.i)
  store ptr %0, ptr %agg.tmp.i.i.i, align 8
  %_M_first.i.i1.i.i = getelementptr inbounds %"struct.std::_Deque_iterator.202", ptr %agg.tmp.i.i.i, i64 0, i32 1
  store ptr %1, ptr %_M_first.i.i1.i.i, align 8
  %_M_last.i.i3.i.i = getelementptr inbounds %"struct.std::_Deque_iterator.202", ptr %agg.tmp.i.i.i, i64 0, i32 2
  store ptr %2, ptr %_M_last.i.i3.i.i, align 8
  %_M_node.i.i5.i.i = getelementptr inbounds %"struct.std::_Deque_iterator.202", ptr %agg.tmp.i.i.i, i64 0, i32 3
  store ptr %3, ptr %_M_node.i.i5.i.i, align 8
  store ptr %4, ptr %agg.tmp2.i.i.i, align 8
  %_M_first.i1.i.i.i = getelementptr inbounds %"struct.std::_Deque_iterator.202", ptr %agg.tmp2.i.i.i, i64 0, i32 1
  store ptr %5, ptr %_M_first.i1.i.i.i, align 8
  %_M_last.i3.i.i.i = getelementptr inbounds %"struct.std::_Deque_iterator.202", ptr %agg.tmp2.i.i.i, i64 0, i32 2
  store ptr %6, ptr %_M_last.i3.i.i.i, align 8
  %_M_node.i5.i.i.i = getelementptr inbounds %"struct.std::_Deque_iterator.202", ptr %agg.tmp2.i.i.i, i64 0, i32 3
  store ptr %7, ptr %_M_node.i5.i.i.i, align 8
  invoke void @_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE19_M_destroy_data_auxESt15_Deque_iteratorIS1_RS1_PS1_ES7_(ptr noundef nonnull align 8 dereferenceable(80) %__x, ptr noundef nonnull %agg.tmp.i.i.i, ptr noundef nonnull %agg.tmp2.i.i.i)
          to label %.noexc.i unwind label %terminate.lpad.i

.noexc.i:                                         ; preds = %entry
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp.i.i.i)
  call void @llvm.lifetime.end.p0(i64 32, ptr nonnull %agg.tmp2.i.i.i)
  %8 = load ptr, ptr %__tmp.sroa.9.0.__b.sroa_idx.i.i, align 8
  %cmp3.i.i.i = icmp ult ptr %3, %8
  br i1 %cmp3.i.i.i, label %for.body.i.i.i, label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE5clearEv.exit

for.body.i.i.i:                                   ; preds = %.noexc.i, %for.body.i.i.i
  %__n.04.i.pn.i.i = phi ptr [ %__n.04.i.i.i, %for.body.i.i.i ], [ %3, %.noexc.i ]
  %__n.04.i.i.i = getelementptr inbounds ptr, ptr %__n.04.i.pn.i.i, i64 1
  %9 = load ptr, ptr %__n.04.i.i.i, align 8
  call void @_ZdlPv(ptr noundef %9) #31
  %cmp.i.i.i = icmp ult ptr %__n.04.i.i.i, %8
  br i1 %cmp.i.i.i, label %for.body.i.i.i, label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE5clearEv.exit, !llvm.loop !101

terminate.lpad.i:                                 ; preds = %entry
  %10 = landingpad { ptr, i32 }
          catch ptr null
  %11 = extractvalue { ptr, i32 } %10, 0
  call void @__clang_call_terminate(ptr %11) #30
  unreachable

_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE5clearEv.exit: ; preds = %for.body.i.i.i, %.noexc.i
  store ptr %0, ptr %__tmp.sroa.6.0.__b.sroa_idx.i.i, align 8
  store ptr %1, ptr %__tmp.sroa.7.0.__b.sroa_idx.i.i, align 8
  store ptr %2, ptr %__tmp.sroa.8.0.__b.sroa_idx.i.i, align 8
  store ptr %3, ptr %__tmp.sroa.9.0.__b.sroa_idx.i.i, align 8
  ret void
}

; Function Attrs: nounwind
declare void @_ZN5folly10IOBufQueueC1EOS0_(ptr noundef nonnull align 8 dereferenceable(72), ptr noundef nonnull align 8 dereferenceable(72)) unnamed_addr #1

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE17_M_initialize_mapEm(ptr noundef nonnull align 8 dereferenceable(80) %this, i64 noundef %__num_elements) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %div16 = lshr i64 %__num_elements, 4
  %0 = tail call i64 @llvm.umax.i64(i64 %div16, i64 5)
  %.sroa.speculated = add nuw nsw i64 %0, 3
  %_M_map_size = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 1
  store i64 %.sroa.speculated, ptr %_M_map_size, align 8
  %cmp.i.i.i = icmp ugt i64 %__num_elements, -49
  br i1 %cmp.i.i.i, label %if.end.i.i.i, label %_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE15_M_allocate_mapEm.exit

if.end.i.i.i:                                     ; preds = %entry
  tail call void @_ZSt17__throw_bad_allocv() #33
  unreachable

_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE15_M_allocate_mapEm.exit: ; preds = %entry
  %add = add nuw nsw i64 %div16, 1
  %mul.i.i.i = shl nuw nsw i64 %.sroa.speculated, 3
  %call5.i.i2.i = tail call noalias noundef nonnull ptr @_Znwm(i64 noundef %mul.i.i.i) #29
  store ptr %call5.i.i2.i, ptr %this, align 8
  %sub = sub nsw i64 %.sroa.speculated, %add
  %div137 = lshr i64 %sub, 1
  %add.ptr = getelementptr inbounds ptr, ptr %call5.i.i2.i, i64 %div137
  %add.ptr14 = getelementptr inbounds ptr, ptr %add.ptr, i64 %add
  br label %for.body.i

for.body.i:                                       ; preds = %_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE15_M_allocate_mapEm.exit, %invoke.cont.i
  %__cur.08.i = phi ptr [ %incdec.ptr.i, %invoke.cont.i ], [ %add.ptr, %_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE15_M_allocate_mapEm.exit ]
  %call5.i.i.i5.i = invoke noalias noundef nonnull dereferenceable(512) ptr @_Znwm(i64 noundef 512) #29
          to label %invoke.cont.i unwind label %lpad.i

invoke.cont.i:                                    ; preds = %for.body.i
  store ptr %call5.i.i.i5.i, ptr %__cur.08.i, align 8
  %incdec.ptr.i = getelementptr inbounds ptr, ptr %__cur.08.i, i64 1
  %cmp.i8 = icmp ult ptr %incdec.ptr.i, %add.ptr14
  br i1 %cmp.i8, label %for.body.i, label %try.cont, !llvm.loop !104

lpad.i:                                           ; preds = %for.body.i
  %1 = landingpad { ptr, i32 }
          catch ptr null
  %2 = extractvalue { ptr, i32 } %1, 0
  %3 = tail call ptr @__cxa_begin_catch(ptr %2) #28
  %cmp3.i.i = icmp ugt ptr %__cur.08.i, %add.ptr
  br i1 %cmp3.i.i, label %for.body.i.i, label %_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE16_M_destroy_nodesEPPS1_S5_.exit.i

for.body.i.i:                                     ; preds = %lpad.i, %for.body.i.i
  %__n.04.i.i = phi ptr [ %incdec.ptr.i.i, %for.body.i.i ], [ %add.ptr, %lpad.i ]
  %4 = load ptr, ptr %__n.04.i.i, align 8
  tail call void @_ZdlPv(ptr noundef %4) #31
  %incdec.ptr.i.i = getelementptr inbounds ptr, ptr %__n.04.i.i, i64 1
  %cmp.i.i = icmp ult ptr %incdec.ptr.i.i, %__cur.08.i
  br i1 %cmp.i.i, label %for.body.i.i, label %_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE16_M_destroy_nodesEPPS1_S5_.exit.i, !llvm.loop !101

_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE16_M_destroy_nodesEPPS1_S5_.exit.i: ; preds = %for.body.i.i, %lpad.i
  invoke void @__cxa_rethrow() #33
          to label %unreachable.i unwind label %lpad2.i

lpad2.i:                                          ; preds = %_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE16_M_destroy_nodesEPPS1_S5_.exit.i
  %5 = landingpad { ptr, i32 }
          catch ptr null
  invoke void @__cxa_end_catch()
          to label %lpad.body unwind label %terminate.lpad.i

terminate.lpad.i:                                 ; preds = %lpad2.i
  %6 = landingpad { ptr, i32 }
          catch ptr null
  %7 = extractvalue { ptr, i32 } %6, 0
  tail call void @__clang_call_terminate(ptr %7) #30
  unreachable

unreachable.i:                                    ; preds = %_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE16_M_destroy_nodesEPPS1_S5_.exit.i
  unreachable

lpad.body:                                        ; preds = %lpad2.i
  %8 = extractvalue { ptr, i32 } %5, 0
  %9 = tail call ptr @__cxa_begin_catch(ptr %8) #28
  %10 = load ptr, ptr %this, align 8
  tail call void @_ZdlPv(ptr noundef %10) #31
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %this, i8 0, i64 16, i1 false)
  invoke void @__cxa_rethrow() #33
          to label %unreachable unwind label %lpad23

lpad23:                                           ; preds = %lpad.body
  %11 = landingpad { ptr, i32 }
          cleanup
  invoke void @__cxa_end_catch()
          to label %eh.resume unwind label %terminate.lpad

try.cont:                                         ; preds = %invoke.cont.i
  %_M_start = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 2
  %_M_node.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 3
  store ptr %add.ptr, ptr %_M_node.i, align 8
  %12 = load ptr, ptr %add.ptr, align 8
  %_M_first.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 1
  store ptr %12, ptr %_M_first.i, align 8
  %add.ptr.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %12, i64 16
  %_M_last.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 2
  store ptr %add.ptr.i, ptr %_M_last.i, align 8
  %_M_finish = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 3
  %add.ptr27 = getelementptr inbounds ptr, ptr %add.ptr, i64 %div16
  %_M_node.i10 = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 3
  store ptr %add.ptr27, ptr %_M_node.i10, align 8
  %13 = load ptr, ptr %add.ptr27, align 8
  %_M_first.i11 = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 1
  store ptr %13, ptr %_M_first.i11, align 8
  %add.ptr.i12 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %13, i64 16
  %_M_last.i13 = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 2
  store ptr %add.ptr.i12, ptr %_M_last.i13, align 8
  store ptr %12, ptr %_M_start, align 8
  %rem = and i64 %__num_elements, 15
  %add.ptr36 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %13, i64 %rem
  store ptr %add.ptr36, ptr %_M_finish, align 8
  ret void

eh.resume:                                        ; preds = %lpad23
  resume { ptr, i32 } %11

terminate.lpad:                                   ; preds = %lpad23
  %14 = landingpad { ptr, i32 }
          catch ptr null
  %15 = extractvalue { ptr, i32 } %14, 0
  tail call void @__clang_call_terminate(ptr %15) #30
  unreachable

unreachable:                                      ; preds = %lpad.body
  unreachable
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNK5folly17exception_wrapper4whatEv(ptr noalias sret(%"class.folly::basic_fbstring") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(8) %this) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp = alloca %"class.folly::basic_fbstring", align 8
  %ref.tmp2 = alloca %"class.folly::basic_fbstring", align 8
  %call1.i.i.i = tail call noundef ptr @_ZN5folly6detail25exception_ptr_get_object_ERKNSt15__exception_ptr13exception_ptrEPKSt9type_info(ptr noundef nonnull align 8 dereferenceable(8) %this, ptr noundef nonnull @_ZTISt9exception) #28
  %tobool.not = icmp eq ptr %call1.i.i.i, null
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  call void @_ZNK5folly17exception_wrapper10class_nameEv(ptr nonnull sret(%"class.folly::basic_fbstring") align 8 %ref.tmp2, ptr noundef nonnull align 8 dereferenceable(8) %this)
  %size_.i.i.i.i.i.i = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %ref.tmp2, i64 0, i32 1
  %0 = load i64, ptr %size_.i.i.i.i.i.i, align 8, !noalias !105
  %arrayidx.i.i.i.i.i.i = getelementptr inbounds [24 x i8], ptr %ref.tmp2, i64 0, i64 23
  %1 = load i8, ptr %arrayidx.i.i.i.i.i.i, align 1, !noalias !105
  %2 = load ptr, ptr %ref.tmp2, align 8, !noalias !105
  %cmp.i.i.i.i.i.i.i = icmp ult i8 %1, 64
  %cond.i.i.i.i.i.i.i = select i1 %cmp.i.i.i.i.i.i.i, ptr %ref.tmp2, ptr %2
  %call5.i.i.i.i3 = invoke noundef ptr @_ZN5folly13fbstring_coreIcE12expandNoinitEmbb(ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp2, i64 noundef 2, i1 noundef zeroext true, i1 noundef zeroext false)
          to label %call5.i.i.i.i.noexc unwind label %lpad

call5.i.i.i.i.noexc:                              ; preds = %if.then
  %cmp.i.i.i.i.i.i = icmp ult i8 %1, 24
  %conv.i.i.i.i.i.i = zext i8 %1 to i64
  %sub.i.i.i.i.i.i = sub nsw i64 23, %conv.i.i.i.i.i.i
  %cond.i.i.i.i.i.i = select i1 %cmp.i.i.i.i.i.i, i64 %sub.i.i.i.i.i.i, i64 %0
  %cmp.i.i.i.i.i = icmp ugt ptr %cond.i.i.i.i.i.i.i, @.str.31
  %add.ptr.i.i.i.i = getelementptr inbounds i8, ptr %cond.i.i.i.i.i.i.i, i64 %cond.i.i.i.i.i.i
  %cmp.i13.i.i.i.i = icmp ule ptr %add.ptr.i.i.i.i, @.str.31
  %or.cond.i.i.i.i = select i1 %cmp.i.i.i.i.i, i1 true, i1 %cmp.i13.i.i.i.i
  br i1 %or.cond.i.i.i.i, label %invoke.cont, label %invoke.cont10.i.i.i.i

invoke.cont10.i.i.i.i:                            ; preds = %call5.i.i.i.i.noexc
  %3 = load ptr, ptr %ref.tmp2, align 8, !noalias !105
  %4 = load i8, ptr %arrayidx.i.i.i.i.i.i, align 1, !noalias !105
  %cmp.i.i.i15.i.i.i.i = icmp ult i8 %4, 64
  %cond.i.i.i16.i.i.i.i = select i1 %cmp.i.i.i15.i.i.i.i, ptr %ref.tmp2, ptr %3
  %sub.ptr.rhs.cast.i.i.i.i = ptrtoint ptr %cond.i.i.i.i.i.i.i to i64
  %sub.ptr.sub.i.i.i.i = sub i64 ptrtoint (ptr @.str.31 to i64), %sub.ptr.rhs.cast.i.i.i.i
  %add.ptr12.i.i.i.i = getelementptr inbounds i8, ptr %cond.i.i.i16.i.i.i.i, i64 %sub.ptr.sub.i.i.i.i
  %5 = load i16, ptr %add.ptr12.i.i.i.i, align 1
  br label %invoke.cont

invoke.cont:                                      ; preds = %call5.i.i.i.i.noexc, %invoke.cont10.i.i.i.i
  %storemerge = phi i16 [ %5, %invoke.cont10.i.i.i.i ], [ 8250, %call5.i.i.i.i.noexc ]
  store i16 %storemerge, ptr %call5.i.i.i.i3, align 1
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp, ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp2, i64 24, i1 false)
  store i8 23, ptr %arrayidx.i.i.i.i.i.i, align 1, !noalias !105
  store i8 0, ptr %ref.tmp2, align 8, !noalias !105
  %vtable = load ptr, ptr %call1.i.i.i, align 8
  %vfn = getelementptr inbounds ptr, ptr %vtable, i64 2
  %6 = load ptr, ptr %vfn, align 8
  %call3 = call noundef ptr %6(ptr noundef nonnull align 8 dereferenceable(8) %call1.i.i.i) #28
  %tobool.not.i.i.i.i = icmp eq ptr %call3, null
  br i1 %tobool.not.i.i.i.i, label %cond.false.i.i.i.i, label %_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEE12traitsLengthEPKc.exit.i.i.i

cond.false.i.i.i.i:                               ; preds = %invoke.cont
  invoke void @_ZN5folly6detail16throw_exception_ISt11logic_errorJPKcEEEvDpT0_(ptr noundef nonnull @.str.33) #32
          to label %.noexc unwind label %lpad4

.noexc:                                           ; preds = %cond.false.i.i.i.i
  unreachable

_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEE12traitsLengthEPKc.exit.i.i.i: ; preds = %invoke.cont
  %call.i.i.i.i.i4 = call noundef i64 @strlen(ptr noundef nonnull dereferenceable(1) %call3) #28, !noalias !108
  %tobool.not.i2.i.i.i5 = icmp eq i64 %call.i.i.i.i.i4, 0
  br i1 %tobool.not.i2.i.i.i5, label %_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEED2Ev.exit, label %invoke.cont2.i.i.i.i6

invoke.cont2.i.i.i.i6:                            ; preds = %_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEE12traitsLengthEPKc.exit.i.i.i
  %size_.i.i.i.i.i.i7 = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %ref.tmp, i64 0, i32 1
  %7 = load i64, ptr %size_.i.i.i.i.i.i7, align 8, !noalias !108
  %arrayidx.i.i.i.i.i.i8 = getelementptr inbounds [24 x i8], ptr %ref.tmp, i64 0, i64 23
  %8 = load i8, ptr %arrayidx.i.i.i.i.i.i8, align 1, !noalias !108
  %9 = load ptr, ptr %ref.tmp, align 8, !noalias !108
  %cmp.i.i.i.i.i.i.i13 = icmp ult i8 %8, 64
  %cond.i.i.i.i.i.i.i14 = select i1 %cmp.i.i.i.i.i.i.i13, ptr %ref.tmp, ptr %9
  %call5.i.i.i.i28 = invoke noundef ptr @_ZN5folly13fbstring_coreIcE12expandNoinitEmbb(ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp, i64 noundef %call.i.i.i.i.i4, i1 noundef zeroext true, i1 noundef zeroext false)
          to label %call5.i.i.i.i.noexc27 unwind label %lpad4

call5.i.i.i.i.noexc27:                            ; preds = %invoke.cont2.i.i.i.i6
  %cmp.i.i.i.i.i.i11 = icmp ult i8 %8, 24
  %conv.i.i.i.i.i.i9 = zext i8 %8 to i64
  %sub.i.i.i.i.i.i10 = sub nsw i64 23, %conv.i.i.i.i.i.i9
  %cond.i.i.i.i.i.i12 = select i1 %cmp.i.i.i.i.i.i11, i64 %sub.i.i.i.i.i.i10, i64 %7
  %cmp.i.i.i.i.i15 = icmp ugt ptr %cond.i.i.i.i.i.i.i14, %call3
  %add.ptr.i.i.i.i16 = getelementptr inbounds i8, ptr %cond.i.i.i.i.i.i.i14, i64 %cond.i.i.i.i.i.i12
  %cmp.i13.i.i.i.i17 = icmp ule ptr %add.ptr.i.i.i.i16, %call3
  %or.cond.i.i.i.i18 = select i1 %cmp.i.i.i.i.i15, i1 true, i1 %cmp.i13.i.i.i.i17
  br i1 %or.cond.i.i.i.i18, label %if.else.i.i.i.i26, label %invoke.cont10.i.i.i.i19

invoke.cont10.i.i.i.i19:                          ; preds = %call5.i.i.i.i.noexc27
  %10 = load ptr, ptr %ref.tmp, align 8, !noalias !108
  %11 = load i8, ptr %arrayidx.i.i.i.i.i.i8, align 1, !noalias !108
  %cmp.i.i.i15.i.i.i.i20 = icmp ult i8 %11, 64
  %cond.i.i.i16.i.i.i.i21 = select i1 %cmp.i.i.i15.i.i.i.i20, ptr %ref.tmp, ptr %10
  %sub.ptr.lhs.cast.i.i.i.i = ptrtoint ptr %call3 to i64
  %sub.ptr.rhs.cast.i.i.i.i22 = ptrtoint ptr %cond.i.i.i.i.i.i.i14 to i64
  %sub.ptr.sub.i.i.i.i23 = sub i64 %sub.ptr.lhs.cast.i.i.i.i, %sub.ptr.rhs.cast.i.i.i.i22
  %add.ptr12.i.i.i.i24 = getelementptr inbounds i8, ptr %cond.i.i.i16.i.i.i.i21, i64 %sub.ptr.sub.i.i.i.i23
  call void @llvm.memmove.p0.p0.i64(ptr align 1 %call5.i.i.i.i28, ptr align 1 %add.ptr12.i.i.i.i24, i64 %call.i.i.i.i.i4, i1 false), !noalias !108
  br label %_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEED2Ev.exit

if.else.i.i.i.i26:                                ; preds = %call5.i.i.i.i.noexc27
  call void @llvm.memcpy.p0.p0.i64(ptr align 1 %call5.i.i.i.i28, ptr nonnull align 1 %call3, i64 %call.i.i.i.i.i4, i1 false), !noalias !108
  br label %_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEED2Ev.exit

_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEED2Ev.exit: ; preds = %_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEE12traitsLengthEPKc.exit.i.i.i, %invoke.cont10.i.i.i.i19, %if.else.i.i.i.i26
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %agg.result, ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp, i64 24, i1 false)
  %arrayidx.i.i.i.i.i25 = getelementptr inbounds [24 x i8], ptr %ref.tmp, i64 0, i64 23
  store i8 23, ptr %arrayidx.i.i.i.i.i25, align 1, !noalias !108
  store i8 0, ptr %ref.tmp, align 8, !noalias !108
  %12 = load i8, ptr %arrayidx.i.i.i.i.i.i, align 1
  %13 = and i8 %12, -64
  %cmp.i.i31 = icmp eq i8 %13, 0
  br i1 %cmp.i.i31, label %return, label %if.end.i.i32

if.end.i.i32:                                     ; preds = %_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEED2Ev.exit
  %cmp.i.i.i33 = icmp eq i8 %13, -128
  %14 = load ptr, ptr %ref.tmp2, align 8
  br i1 %cmp.i.i.i33, label %if.then.i.i.i38, label %if.else.i.i.i34

if.then.i.i.i38:                                  ; preds = %if.end.i.i32
  call void @free(ptr noundef %14) #28
  br label %return

if.else.i.i.i34:                                  ; preds = %if.end.i.i32
  %add.ptr.i.i.i.i.i35 = getelementptr inbounds i8, ptr %14, i64 -8
  %15 = atomicrmw sub ptr %add.ptr.i.i.i.i.i35, i64 1 acq_rel, align 8
  %cmp.i.i.i.i36 = icmp eq i64 %15, 1
  br i1 %cmp.i.i.i.i36, label %if.then.i.i.i.i37, label %return

if.then.i.i.i.i37:                                ; preds = %if.else.i.i.i34
  call void @free(ptr noundef nonnull %add.ptr.i.i.i.i.i35) #28
  br label %return

lpad:                                             ; preds = %if.then
  %16 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad4:                                            ; preds = %invoke.cont2.i.i.i.i6, %cond.false.i.i.i.i
  %17 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEED2Ev(ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp) #28
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad4, %lpad
  %.pn = phi { ptr, i32 } [ %17, %lpad4 ], [ %16, %lpad ]
  call void @_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEED2Ev(ptr noundef nonnull align 8 dereferenceable(24) %ref.tmp2) #28
  resume { ptr, i32 } %.pn

if.end:                                           ; preds = %entry
  tail call void @_ZNK5folly17exception_wrapper10class_nameEv(ptr sret(%"class.folly::basic_fbstring") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(8) %this)
  br label %return

return:                                           ; preds = %if.then.i.i.i.i37, %if.else.i.i.i34, %if.then.i.i.i38, %_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEED2Ev.exit, %if.end
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEED2Ev(ptr noundef nonnull align 8 dereferenceable(24) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %arrayidx.i.i = getelementptr inbounds [24 x i8], ptr %this, i64 0, i64 23
  %0 = load i8, ptr %arrayidx.i.i, align 1
  %1 = and i8 %0, -64
  %cmp.i = icmp eq i8 %1, 0
  br i1 %cmp.i, label %_ZN5folly13fbstring_coreIcED2Ev.exit, label %if.end.i

if.end.i:                                         ; preds = %entry
  %cmp.i.i = icmp eq i8 %1, -128
  %2 = load ptr, ptr %this, align 8
  br i1 %cmp.i.i, label %if.then.i.i, label %if.else.i.i

if.then.i.i:                                      ; preds = %if.end.i
  tail call void @free(ptr noundef %2) #28
  br label %_ZN5folly13fbstring_coreIcED2Ev.exit

if.else.i.i:                                      ; preds = %if.end.i
  %add.ptr.i.i.i.i = getelementptr inbounds i8, ptr %2, i64 -8
  %3 = atomicrmw sub ptr %add.ptr.i.i.i.i, i64 1 acq_rel, align 8
  %cmp.i.i.i = icmp eq i64 %3, 1
  br i1 %cmp.i.i.i, label %if.then.i.i.i, label %_ZN5folly13fbstring_coreIcED2Ev.exit

if.then.i.i.i:                                    ; preds = %if.else.i.i
  tail call void @free(ptr noundef nonnull %add.ptr.i.i.i.i) #28
  br label %_ZN5folly13fbstring_coreIcED2Ev.exit

_ZN5folly13fbstring_coreIcED2Ev.exit:             ; preds = %entry, %if.then.i.i, %if.else.i.i, %if.then.i.i.i
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNK5folly17exception_wrapper10class_nameEv(ptr noalias sret(%"class.folly::basic_fbstring") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(8) %this) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp = alloca %"class.std::allocator", align 1
  %ref.tmp4 = alloca %"class.std::allocator", align 1
  %call2.i.i = tail call noundef ptr @_ZN5folly6detail23exception_ptr_get_type_ERKNSt15__exception_ptr13exception_ptrE(ptr noundef nonnull align 8 dereferenceable(8) %this) #28
  %0 = load ptr, ptr %this, align 8
  %tobool.i.not.i = icmp eq ptr %0, null
  br i1 %tobool.i.not.i, label %cond.true, label %cond.false

cond.true:                                        ; preds = %entry
  call void @_ZNSaIcEC1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp) #28
  invoke void @_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEEC2EPKcRKS3_(ptr noundef nonnull align 8 dereferenceable(24) %agg.result, ptr noundef nonnull @.str.32, ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp)
          to label %cleanup.action15 unwind label %cleanup.action18

cond.false:                                       ; preds = %entry
  %tobool.not = icmp eq ptr %call2.i.i, null
  br i1 %tobool.not, label %cond.true3, label %cond.false8

cond.true3:                                       ; preds = %cond.false
  call void @_ZNSaIcEC1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp4) #28
  invoke void @_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEEC2EPKcRKS3_(ptr noundef nonnull align 8 dereferenceable(24) %agg.result, ptr noundef nonnull @.str.34, ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp4)
          to label %cleanup.action unwind label %cleanup.action12

cond.false8:                                      ; preds = %cond.false
  %__name.i.i = getelementptr inbounds %"class.std::type_info", ptr %call2.i.i, i64 0, i32 1
  %1 = load ptr, ptr %__name.i.i, align 8, !noalias !111
  %2 = load i8, ptr %1, align 1, !noalias !111
  %cmp.i.i = icmp eq i8 %2, 42
  %cond.idx.i.i = zext i1 %cmp.i.i to i64
  %cond.i.i = getelementptr inbounds i8, ptr %1, i64 %cond.idx.i.i
  tail call void @_ZN5folly8demangleEPKc(ptr sret(%"class.folly::basic_fbstring") align 8 %agg.result, ptr noundef nonnull %cond.i.i)
  br label %cleanup.done16

cleanup.action:                                   ; preds = %cond.true3
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp4) #28
  br label %cleanup.done16

cleanup.action15:                                 ; preds = %cond.true
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp) #28
  br label %cleanup.done16

cleanup.done16:                                   ; preds = %cond.false8, %cleanup.action, %cleanup.action15
  ret void

cleanup.action12:                                 ; preds = %cond.true3
  %3 = landingpad { ptr, i32 }
          cleanup
  br label %eh.resume

cleanup.action18:                                 ; preds = %cond.true
  %4 = landingpad { ptr, i32 }
          cleanup
  br label %eh.resume

eh.resume:                                        ; preds = %cleanup.action12, %cleanup.action18
  %ref.tmp4.sink = phi ptr [ %ref.tmp4, %cleanup.action12 ], [ %ref.tmp, %cleanup.action18 ]
  %.pn4 = phi { ptr, i32 } [ %3, %cleanup.action12 ], [ %4, %cleanup.action18 ]
  call void @_ZNSaIcED1Ev(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp4.sink) #28
  resume { ptr, i32 } %.pn4
}

; Function Attrs: mustprogress uwtable
define linkonce_odr noundef ptr @_ZN5folly13fbstring_coreIcE12expandNoinitEmbb(ptr noundef nonnull align 8 dereferenceable(24) %this, i64 noundef %delta, i1 noundef zeroext %expGrowth, i1 noundef zeroext %disableSSO) local_unnamed_addr #3 comdat align 2 {
entry:
  %newSz = alloca i64, align 8
  %ref.tmp15 = alloca i64, align 8
  %arrayidx.i = getelementptr inbounds [24 x i8], ptr %this, i64 0, i64 23
  %0 = load i8, ptr %arrayidx.i, align 1
  %1 = and i8 %0, -64
  %cmp = icmp eq i8 %1, 0
  br i1 %cmp, label %if.then, label %if.else

if.then:                                          ; preds = %entry
  %conv.i = zext nneg i8 %0 to i64
  %sub.i = sub nsw i64 23, %conv.i
  %add = add i64 %sub.i, %delta
  store i64 %add, ptr %newSz, align 8
  %cmp4 = icmp ugt i64 %add, 23
  %or.cond.not = or i1 %cmp4, %disableSSO
  br i1 %or.cond.not, label %if.end, label %if.then5

if.then5:                                         ; preds = %if.then
  %2 = trunc i64 %add to i8
  %conv.i9 = sub nuw nsw i8 23, %2
  store i8 %conv.i9, ptr %arrayidx.i, align 1
  %arrayidx2.i = getelementptr inbounds [24 x i8], ptr %this, i64 0, i64 %add
  store i8 0, ptr %arrayidx2.i, align 1
  %add.ptr = getelementptr inbounds i8, ptr %this, i64 %sub.i
  br label %return

if.end:                                           ; preds = %if.then
  %.sroa.speculated = tail call i64 @llvm.umax.i64(i64 %add, i64 46)
  %cond = select i1 %expGrowth, i64 %.sroa.speculated, i64 %add
  tail call void @_ZN5folly13fbstring_coreIcE12reserveSmallEmb(ptr noundef nonnull align 8 dereferenceable(24) %this, i64 noundef %cond, i1 noundef zeroext %disableSSO)
  br label %if.end23

if.else:                                          ; preds = %entry
  %size_ = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 1
  %3 = load i64, ptr %size_, align 8
  %add9 = add i64 %3, %delta
  store i64 %add9, ptr %newSz, align 8
  %cond31 = icmp eq i8 %1, 64
  br i1 %cond31, label %sw.bb2.i, label %sw.epilog.i

sw.bb2.i:                                         ; preds = %if.else
  %4 = load ptr, ptr %this, align 8
  %add.ptr.i.i.i = getelementptr inbounds i8, ptr %4, i64 -8
  %5 = load atomic i64, ptr %add.ptr.i.i.i acquire, align 8
  %cmp.i11 = icmp ugt i64 %5, 1
  br i1 %cmp.i11, label %if.then.i, label %sw.epilog.i

if.then.i:                                        ; preds = %sw.bb2.i
  %6 = load i64, ptr %size_, align 8
  br label %_ZNK5folly13fbstring_coreIcE8capacityEv.exit

sw.epilog.i:                                      ; preds = %if.else, %sw.bb2.i
  %capacity_.i.i = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 2
  %7 = load i64, ptr %capacity_.i.i, align 8
  %and.i.i = and i64 %7, 4611686018427387903
  br label %_ZNK5folly13fbstring_coreIcE8capacityEv.exit

_ZNK5folly13fbstring_coreIcE8capacityEv.exit:     ; preds = %if.then.i, %sw.epilog.i
  %retval.0.i = phi i64 [ %and.i.i, %sw.epilog.i ], [ %6, %if.then.i ]
  %cmp11 = icmp ugt i64 %add9, %retval.0.i
  br i1 %cmp11, label %if.then12, label %if.end23

if.then12:                                        ; preds = %_ZNK5folly13fbstring_coreIcE8capacityEv.exit
  %.pre32 = load i8, ptr %arrayidx.i, align 1
  br i1 %expGrowth, label %cond.true14, label %cond.end20

cond.true14:                                      ; preds = %if.then12
  %8 = and i8 %.pre32, -64
  switch i8 %8, label %sw.epilog.i16 [
    i8 0, label %_ZNK5folly13fbstring_coreIcE8capacityEv.exit22
    i8 64, label %sw.bb2.i13
  ]

sw.bb2.i13:                                       ; preds = %cond.true14
  %9 = load ptr, ptr %this, align 8
  %add.ptr.i.i.i14 = getelementptr inbounds i8, ptr %9, i64 -8
  %10 = load atomic i64, ptr %add.ptr.i.i.i14 acquire, align 8
  %cmp.i15 = icmp ugt i64 %10, 1
  br i1 %cmp.i15, label %if.then.i20, label %sw.epilog.i16

if.then.i20:                                      ; preds = %sw.bb2.i13
  %11 = load i64, ptr %size_, align 8
  %.pre.pre = load i8, ptr %arrayidx.i, align 1
  br label %_ZNK5folly13fbstring_coreIcE8capacityEv.exit22

sw.epilog.i16:                                    ; preds = %sw.bb2.i13, %cond.true14
  %capacity_.i.i17 = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 2
  %12 = load i64, ptr %capacity_.i.i17, align 8
  %and.i.i18 = and i64 %12, 4611686018427387903
  %13 = lshr i64 %12, 56
  %14 = trunc i64 %13 to i8
  br label %_ZNK5folly13fbstring_coreIcE8capacityEv.exit22

_ZNK5folly13fbstring_coreIcE8capacityEv.exit22:   ; preds = %cond.true14, %if.then.i20, %sw.epilog.i16
  %.pre = phi i8 [ %14, %sw.epilog.i16 ], [ %.pre.pre, %if.then.i20 ], [ %.pre32, %cond.true14 ]
  %retval.0.i19 = phi i64 [ %and.i.i18, %sw.epilog.i16 ], [ %11, %if.then.i20 ], [ 23, %cond.true14 ]
  %mul = mul i64 %retval.0.i19, 3
  %div7 = lshr i64 %mul, 1
  %add17 = add nuw i64 %div7, 1
  store i64 %add17, ptr %ref.tmp15, align 8
  %newSz.0.newSz.0.newSz.0.30 = load i64, ptr %newSz, align 8
  %cmp.i23.not = icmp ugt i64 %newSz.0.newSz.0.newSz.0.30, %div7
  %__b.__a.i24 = select i1 %cmp.i23.not, ptr %newSz, ptr %ref.tmp15
  br label %cond.end20

cond.end20:                                       ; preds = %if.then12, %_ZNK5folly13fbstring_coreIcE8capacityEv.exit22
  %15 = phi i8 [ %.pre, %_ZNK5folly13fbstring_coreIcE8capacityEv.exit22 ], [ %.pre32, %if.then12 ]
  %cond21.in = phi ptr [ %__b.__a.i24, %_ZNK5folly13fbstring_coreIcE8capacityEv.exit22 ], [ %newSz, %if.then12 ]
  %cond21 = load i64, ptr %cond21.in, align 8
  %16 = and i8 %15, -64
  switch i8 %16, label %sw.default.i [
    i8 0, label %sw.bb.i
    i8 -128, label %sw.bb2.i27
    i8 64, label %sw.bb3.i
  ]

sw.bb.i:                                          ; preds = %cond.end20
  tail call void @_ZN5folly13fbstring_coreIcE12reserveSmallEmb(ptr noundef nonnull align 8 dereferenceable(24) %this, i64 noundef %cond21, i1 noundef zeroext false)
  br label %if.end23

sw.bb2.i27:                                       ; preds = %cond.end20
  tail call void @_ZN5folly13fbstring_coreIcE13reserveMediumEm(ptr noundef nonnull align 8 dereferenceable(24) %this, i64 noundef %cond21)
  br label %if.end23

sw.bb3.i:                                         ; preds = %cond.end20
  tail call void @_ZN5folly13fbstring_coreIcE12reserveLargeEm(ptr noundef nonnull align 8 dereferenceable(24) %this, i64 noundef %cond21)
  br label %if.end23

sw.default.i:                                     ; preds = %cond.end20
  unreachable

if.end23:                                         ; preds = %sw.bb3.i, %sw.bb2.i27, %sw.bb.i, %_ZNK5folly13fbstring_coreIcE8capacityEv.exit, %if.end
  %sz.0 = phi i64 [ %sub.i, %if.end ], [ %3, %_ZNK5folly13fbstring_coreIcE8capacityEv.exit ], [ %3, %sw.bb.i ], [ %3, %sw.bb2.i27 ], [ %3, %sw.bb3.i ]
  %newSz.0.newSz.0.newSz.0. = load i64, ptr %newSz, align 8
  %size_24 = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 1
  store i64 %newSz.0.newSz.0.newSz.0., ptr %size_24, align 8
  %17 = load ptr, ptr %this, align 8
  %arrayidx = getelementptr inbounds i8, ptr %17, i64 %newSz.0.newSz.0.newSz.0.
  store i8 0, ptr %arrayidx, align 1
  %18 = load ptr, ptr %this, align 8
  %add.ptr26 = getelementptr inbounds i8, ptr %18, i64 %sz.0
  br label %return

return:                                           ; preds = %if.end23, %if.then5
  %retval.0 = phi ptr [ %add.ptr, %if.then5 ], [ %add.ptr26, %if.end23 ]
  ret ptr %retval.0
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN5folly13fbstring_coreIcE12reserveSmallEmb(ptr noundef nonnull align 8 dereferenceable(24) %this, i64 noundef %minCapacity, i1 noundef zeroext %disableSSO) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i.i.i.i = alloca %struct.Initializer, align 1
  %minCapacity.addr = alloca i64, align 8
  store i64 %minCapacity, ptr %minCapacity.addr, align 8
  %cmp = icmp ugt i64 %minCapacity, 23
  %or.cond.not = or i1 %cmp, %disableSSO
  br i1 %or.cond.not, label %if.else, label %if.end22

if.else:                                          ; preds = %entry
  %cmp2 = icmp ult i64 %minCapacity, 255
  br i1 %cmp2, label %if.then3, label %if.else8

if.then3:                                         ; preds = %if.else
  %add = add nuw nsw i64 %minCapacity, 1
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i)
  %0 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i = icmp eq i8 %0, 0
  br i1 %guard.uninitialized.i.i.i.i, label %init.check.i.i.i.i, label %_ZN5folly10canNallocxEv.exit.i, !prof !81

init.check.i.i.i.i:                               ; preds = %if.then3
  %1 = tail call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i = icmp eq i32 %1, 0
  br i1 %tobool.i.not.i.i.i, label %_ZN5folly10canNallocxEv.exit.i, label %init.i.i.i.i

init.i.i.i.i:                                     ; preds = %init.check.i.i.i.i
  %call.i.i.i.i = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i)
  %frombool.i.i.i.i = zext i1 %call.i.i.i.i to i8
  store i8 %frombool.i.i.i.i, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly10canNallocxEv.exit.i

_ZN5folly10canNallocxEv.exit.i:                   ; preds = %init.i.i.i.i, %init.check.i.i.i.i, %if.then3
  %2 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %3 = and i8 %2, 1
  %tobool1.i.i.i.not.i = icmp eq i8 %3, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i)
  br i1 %tobool1.i.i.i.not.i, label %_ZN5folly14goodMallocSizeEm.exit, label %if.end2.i

if.end2.i:                                        ; preds = %_ZN5folly10canNallocxEv.exit.i
  %call3.i = call i64 @nallocx(i64 noundef %add, i32 noundef 0) #35
  %tobool.not.i = icmp eq i64 %call3.i, 0
  %cond.i = select i1 %tobool.not.i, i64 %add, i64 %call3.i
  br label %_ZN5folly14goodMallocSizeEm.exit

_ZN5folly14goodMallocSizeEm.exit:                 ; preds = %_ZN5folly10canNallocxEv.exit.i, %if.end2.i
  %retval.0.i = phi i64 [ %cond.i, %if.end2.i ], [ %add, %_ZN5folly10canNallocxEv.exit.i ]
  %call.i = call noalias ptr @malloc(i64 noundef %retval.0.i) #34
  %tobool.not.i6 = icmp eq ptr %call.i, null
  br i1 %tobool.not.i6, label %if.then.i, label %_ZN5folly13checkedMallocEm.exit

if.then.i:                                        ; preds = %_ZN5folly14goodMallocSizeEm.exit
  call void @_ZN5folly6detail16throw_exception_ISt9bad_allocJEEEvDpT0_() #32
  unreachable

_ZN5folly13checkedMallocEm.exit:                  ; preds = %_ZN5folly14goodMallocSizeEm.exit
  %arrayidx.i = getelementptr inbounds [24 x i8], ptr %this, i64 0, i64 23
  %4 = load i8, ptr %arrayidx.i, align 1
  %conv.i = sext i8 %4 to i64
  %sub.i = sub nsw i64 23, %conv.i
  %add.ptr = getelementptr inbounds i8, ptr %this, i64 %sub.i
  %add.ptr7 = getelementptr inbounds i8, ptr %add.ptr, i64 1
  %sub.ptr.lhs.cast.i = ptrtoint ptr %add.ptr7 to i64
  %sub.ptr.rhs.cast.i = ptrtoint ptr %this to i64
  %sub.ptr.sub.i = sub i64 %sub.ptr.lhs.cast.i, %sub.ptr.rhs.cast.i
  call void @llvm.memcpy.p0.p0.i64(ptr nonnull align 1 %call.i, ptr nonnull align 8 %this, i64 %sub.ptr.sub.i, i1 false)
  store ptr %call.i, ptr %this, align 8
  %size_ = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 1
  store i64 %sub.i, ptr %size_, align 8
  %sub = add i64 %retval.0.i, 9223372036854775807
  %or.i = or i64 %sub, -9223372036854775808
  br label %if.end22.sink.split

if.else8:                                         ; preds = %if.else
  %call9 = call noundef ptr @_ZN5folly13fbstring_coreIcE10RefCounted6createEPm(ptr noundef nonnull %minCapacity.addr)
  %arrayidx.i7 = getelementptr inbounds [24 x i8], ptr %this, i64 0, i64 23
  %5 = load i8, ptr %arrayidx.i7, align 1
  %conv.i8 = sext i8 %5 to i64
  %sub.i9 = sub nsw i64 23, %conv.i8
  %add.ptr14 = getelementptr inbounds i8, ptr %this, i64 %sub.i9
  %add.ptr15 = getelementptr inbounds i8, ptr %add.ptr14, i64 1
  %data_16 = getelementptr inbounds %"struct.folly::fbstring_core<char>::RefCounted", ptr %call9, i64 0, i32 1
  %sub.ptr.lhs.cast.i10 = ptrtoint ptr %add.ptr15 to i64
  %sub.ptr.rhs.cast.i11 = ptrtoint ptr %this to i64
  %sub.ptr.sub.i12 = sub i64 %sub.ptr.lhs.cast.i10, %sub.ptr.rhs.cast.i11
  call void @llvm.memcpy.p0.p0.i64(ptr nonnull align 1 %data_16, ptr nonnull align 8 %this, i64 %sub.ptr.sub.i12, i1 false)
  store ptr %data_16, ptr %this, align 8
  %size_21 = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 1
  store i64 %sub.i9, ptr %size_21, align 8
  %6 = load i64, ptr %minCapacity.addr, align 8
  %or.i13 = or i64 %6, 4611686018427387904
  br label %if.end22.sink.split

if.end22.sink.split:                              ; preds = %if.else8, %_ZN5folly13checkedMallocEm.exit
  %or.i.sink = phi i64 [ %or.i, %_ZN5folly13checkedMallocEm.exit ], [ %or.i13, %if.else8 ]
  %capacity_.i = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 2
  store i64 %or.i.sink, ptr %capacity_.i, align 8
  br label %if.end22

if.end22:                                         ; preds = %if.end22.sink.split, %entry
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr noundef ptr @_ZN5folly13fbstring_coreIcE10RefCounted6createEPm(ptr noundef %size) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i.i.i.i = alloca %struct.Initializer, align 1
  %ref.tmp = alloca %"class.std::length_error", align 8
  %ref.tmp4 = alloca %"class.std::length_error", align 8
  %0 = load i64, ptr %size, align 8
  %1 = tail call { i64, i1 } @llvm.uadd.with.overflow.i64(i64 %0, i64 1)
  %2 = extractvalue { i64, i1 } %1, 1
  br i1 %2, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  call void @_ZNSt12length_errorC1EPKc(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp, ptr noundef nonnull @.str.32)
  invoke void @_ZN5folly15throw_exceptionISt12length_errorEEvOT_(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp) #32
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %if.then
  unreachable

lpad:                                             ; preds = %if.then
  %3 = landingpad { ptr, i32 }
          cleanup
  br label %eh.resume

if.end:                                           ; preds = %entry
  %4 = extractvalue { i64, i1 } %1, 0
  %5 = tail call { i64, i1 } @llvm.uadd.with.overflow.i64(i64 %4, i64 8)
  %6 = extractvalue { i64, i1 } %5, 1
  %7 = extractvalue { i64, i1 } %5, 0
  br i1 %6, label %if.then3, label %if.end7

if.then3:                                         ; preds = %if.end
  call void @_ZNSt12length_errorC1EPKc(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp4, ptr noundef nonnull @.str.32)
  invoke void @_ZN5folly15throw_exceptionISt12length_errorEEvOT_(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp4) #32
          to label %invoke.cont6 unwind label %lpad5

invoke.cont6:                                     ; preds = %if.then3
  unreachable

lpad5:                                            ; preds = %if.then3
  %8 = landingpad { ptr, i32 }
          cleanup
  br label %eh.resume

if.end7:                                          ; preds = %if.end
  %cmp.i = icmp eq i64 %7, 0
  br i1 %cmp.i, label %_ZN5folly14goodMallocSizeEm.exit, label %if.end.i

if.end.i:                                         ; preds = %if.end7
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i)
  %9 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i = icmp eq i8 %9, 0
  br i1 %guard.uninitialized.i.i.i.i, label %init.check.i.i.i.i, label %_ZN5folly10canNallocxEv.exit.i, !prof !81

init.check.i.i.i.i:                               ; preds = %if.end.i
  %10 = tail call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i = icmp eq i32 %10, 0
  br i1 %tobool.i.not.i.i.i, label %_ZN5folly10canNallocxEv.exit.i, label %init.i.i.i.i

init.i.i.i.i:                                     ; preds = %init.check.i.i.i.i
  %call.i.i.i.i = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i)
  %frombool.i.i.i.i = zext i1 %call.i.i.i.i to i8
  store i8 %frombool.i.i.i.i, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly10canNallocxEv.exit.i

_ZN5folly10canNallocxEv.exit.i:                   ; preds = %init.i.i.i.i, %init.check.i.i.i.i, %if.end.i
  %11 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %12 = and i8 %11, 1
  %tobool1.i.i.i.not.i = icmp eq i8 %12, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i)
  br i1 %tobool1.i.i.i.not.i, label %_ZN5folly14goodMallocSizeEm.exit, label %if.end2.i

if.end2.i:                                        ; preds = %_ZN5folly10canNallocxEv.exit.i
  %call3.i = call i64 @nallocx(i64 noundef %7, i32 noundef 0) #35
  %tobool.not.i = icmp eq i64 %call3.i, 0
  %cond.i = select i1 %tobool.not.i, i64 %7, i64 %call3.i
  br label %_ZN5folly14goodMallocSizeEm.exit

_ZN5folly14goodMallocSizeEm.exit:                 ; preds = %if.end7, %_ZN5folly10canNallocxEv.exit.i, %if.end2.i
  %retval.0.i9 = phi i64 [ %cond.i, %if.end2.i ], [ 0, %if.end7 ], [ %7, %_ZN5folly10canNallocxEv.exit.i ]
  %call.i10 = call noalias ptr @malloc(i64 noundef %retval.0.i9) #34
  %tobool.not.i11 = icmp eq ptr %call.i10, null
  br i1 %tobool.not.i11, label %if.then.i, label %_ZN5folly13checkedMallocEm.exit

if.then.i:                                        ; preds = %_ZN5folly14goodMallocSizeEm.exit
  call void @_ZN5folly6detail16throw_exception_ISt9bad_allocJEEEvDpT0_() #32
  unreachable

_ZN5folly13checkedMallocEm.exit:                  ; preds = %_ZN5folly14goodMallocSizeEm.exit
  store atomic i64 1, ptr %call.i10 release, align 8
  %sub11 = add i64 %retval.0.i9, -9
  store i64 %sub11, ptr %size, align 8
  ret ptr %call.i10

eh.resume:                                        ; preds = %lpad5, %lpad
  %ref.tmp4.sink = phi ptr [ %ref.tmp4, %lpad5 ], [ %ref.tmp, %lpad ]
  %.pn = phi { ptr, i32 } [ %8, %lpad5 ], [ %3, %lpad ]
  call void @_ZNSt12length_errorD1Ev(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp4.sink) #28
  resume { ptr, i32 } %.pn
}

; Function Attrs: cold mustprogress noreturn uwtable
define linkonce_odr void @_ZN5folly6detail16throw_exception_ISt9bad_allocJEEEvDpT0_() local_unnamed_addr #11 comdat personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp = alloca %"class.std::bad_alloc", align 8
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVSt9bad_alloc, i64 0, inrange i32 0, i64 2), ptr %ref.tmp, align 8
  invoke void @_ZN5folly15throw_exceptionISt9bad_allocEEvOT_(ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp) #32
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  unreachable

lpad:                                             ; preds = %entry
  %0 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt9bad_allocD1Ev(ptr noundef nonnull align 8 dereferenceable(8) %ref.tmp) #28
  resume { ptr, i32 } %0
}

; Function Attrs: cold mustprogress noreturn uwtable
define linkonce_odr void @_ZN5folly15throw_exceptionISt9bad_allocEEvOT_(ptr noundef nonnull align 8 dereferenceable(8) %ex) local_unnamed_addr #11 comdat {
entry:
  %exception = tail call ptr @__cxa_allocate_exception(i64 8) #28
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVSt9bad_alloc, i64 0, inrange i32 0, i64 2), ptr %exception, align 8
  tail call void @__cxa_throw(ptr nonnull %exception, ptr nonnull @_ZTISt9bad_alloc, ptr nonnull @_ZNSt9bad_allocD1Ev) #33
  unreachable
}

; Function Attrs: nounwind
declare void @_ZNSt9bad_allocD1Ev(ptr noundef nonnull align 8 dereferenceable(8)) unnamed_addr #1

; Function Attrs: cold mustprogress noreturn uwtable
define linkonce_odr void @_ZN5folly15throw_exceptionISt12length_errorEEvOT_(ptr noundef nonnull align 8 dereferenceable(16) %ex) local_unnamed_addr #11 comdat {
entry:
  %exception = tail call ptr @__cxa_allocate_exception(i64 16) #28
  tail call void @_ZNSt12length_errorC2EOS_(ptr noundef nonnull align 8 dereferenceable(16) %exception, ptr noundef nonnull align 8 dereferenceable(16) %ex) #28
  tail call void @__cxa_throw(ptr nonnull %exception, ptr nonnull @_ZTISt12length_error, ptr nonnull @_ZNSt12length_errorD1Ev) #33
  unreachable
}

declare void @_ZNSt12length_errorC1EPKc(ptr noundef nonnull align 8 dereferenceable(16), ptr noundef) unnamed_addr #0

; Function Attrs: nounwind
declare void @_ZNSt12length_errorD1Ev(ptr noundef nonnull align 8 dereferenceable(16)) unnamed_addr #1

; Function Attrs: mustprogress nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare { i64, i1 } @llvm.uadd.with.overflow.i64(i64, i64) #23

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt12length_errorC2EOS_(ptr noundef nonnull align 8 dereferenceable(16) %this, ptr noundef nonnull align 8 dereferenceable(16) %0) unnamed_addr #6 comdat align 2 {
entry:
  tail call void @_ZNSt11logic_errorC2EOS_(ptr noundef nonnull align 8 dereferenceable(16) %this, ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  store ptr getelementptr inbounds ({ [5 x ptr] }, ptr @_ZTVSt12length_error, i64 0, inrange i32 0, i64 2), ptr %this, align 8
  ret void
}

; Function Attrs: nounwind
declare void @_ZNSt11logic_errorC2EOS_(ptr noundef nonnull align 8 dereferenceable(16), ptr noundef nonnull align 8 dereferenceable(16)) unnamed_addr #1

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN5folly13fbstring_coreIcE13reserveMediumEm(ptr noundef nonnull align 8 dereferenceable(24) %this, i64 noundef %minCapacity) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %t.i = alloca %"struct.folly::fbstring_core<char>::MediumLarge", align 8
  %ref.tmp.i.i.i.i = alloca %struct.Initializer, align 1
  %nascent = alloca %"class.folly::fbstring_core", align 8
  %capacity_.i = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 2
  %0 = load i64, ptr %capacity_.i, align 8
  %and.i = and i64 %0, 4611686018427387903
  %cmp.not = icmp ult i64 %and.i, %minCapacity
  br i1 %cmp.not, label %if.end, label %if.end21

if.end:                                           ; preds = %entry
  %cmp2 = icmp ult i64 %minCapacity, 255
  br i1 %cmp2, label %if.then3, label %sw.bb.i

if.then3:                                         ; preds = %if.end
  %add = add nuw nsw i64 %minCapacity, 1
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i)
  %1 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i = icmp eq i8 %1, 0
  br i1 %guard.uninitialized.i.i.i.i, label %init.check.i.i.i.i, label %_ZN5folly10canNallocxEv.exit.i, !prof !81

init.check.i.i.i.i:                               ; preds = %if.then3
  %2 = tail call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i = icmp eq i32 %2, 0
  br i1 %tobool.i.not.i.i.i, label %_ZN5folly10canNallocxEv.exit.i, label %init.i.i.i.i

init.i.i.i.i:                                     ; preds = %init.check.i.i.i.i
  %call.i.i.i.i = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i)
  %frombool.i.i.i.i = zext i1 %call.i.i.i.i to i8
  store i8 %frombool.i.i.i.i, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly10canNallocxEv.exit.i

_ZN5folly10canNallocxEv.exit.i:                   ; preds = %init.i.i.i.i, %init.check.i.i.i.i, %if.then3
  %3 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %4 = and i8 %3, 1
  %tobool1.i.i.i.not.i = icmp eq i8 %4, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i)
  br i1 %tobool1.i.i.i.not.i, label %_ZN5folly14goodMallocSizeEm.exit, label %if.end2.i

if.end2.i:                                        ; preds = %_ZN5folly10canNallocxEv.exit.i
  %call3.i = call i64 @nallocx(i64 noundef %add, i32 noundef 0) #35
  %tobool.not.i = icmp eq i64 %call3.i, 0
  %cond.i = select i1 %tobool.not.i, i64 %add, i64 %call3.i
  br label %_ZN5folly14goodMallocSizeEm.exit

_ZN5folly14goodMallocSizeEm.exit:                 ; preds = %_ZN5folly10canNallocxEv.exit.i, %if.end2.i
  %retval.0.i = phi i64 [ %cond.i, %if.end2.i ], [ %add, %_ZN5folly10canNallocxEv.exit.i ]
  %5 = load ptr, ptr %this, align 8
  %size_ = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 1
  %6 = load i64, ptr %size_, align 8
  %add5 = add i64 %6, 1
  %7 = load i64, ptr %capacity_.i, align 8
  %and.i6 = and i64 %7, 4611686018427387903
  %sub.i = sub i64 %and.i6, %6
  %mul.i = shl i64 %sub.i, 1
  %cmp.i = icmp ugt i64 %mul.i, %add5
  br i1 %cmp.i, label %if.then.i, label %if.end.i

if.then.i:                                        ; preds = %_ZN5folly14goodMallocSizeEm.exit
  %call.i.i = call noalias ptr @malloc(i64 noundef %retval.0.i) #34
  %tobool.not.i.i = icmp eq ptr %call.i.i, null
  br i1 %tobool.not.i.i, label %if.then.i.i, label %_ZN5folly13checkedMallocEm.exit.i

if.then.i.i:                                      ; preds = %if.then.i
  call void @_ZN5folly6detail16throw_exception_ISt9bad_allocJEEEvDpT0_() #32
  unreachable

_ZN5folly13checkedMallocEm.exit.i:                ; preds = %if.then.i
  call void @llvm.memcpy.p0.p0.i64(ptr nonnull align 1 %call.i.i, ptr align 1 %5, i64 %add5, i1 false)
  call void @free(ptr noundef %5) #28
  br label %_ZN5folly12smartReallocEPvmmm.exit

if.end.i:                                         ; preds = %_ZN5folly14goodMallocSizeEm.exit
  %call.i7.i = call ptr @realloc(ptr noundef %5, i64 noundef %retval.0.i) #36
  %tobool.not.i8.i = icmp eq ptr %call.i7.i, null
  br i1 %tobool.not.i8.i, label %if.then.i9.i, label %_ZN5folly12smartReallocEPvmmm.exit

if.then.i9.i:                                     ; preds = %if.end.i
  call void @_ZN5folly6detail16throw_exception_ISt9bad_allocJEEEvDpT0_() #32
  unreachable

_ZN5folly12smartReallocEPvmmm.exit:               ; preds = %_ZN5folly13checkedMallocEm.exit.i, %if.end.i
  %retval.0.i7 = phi ptr [ %call.i.i, %_ZN5folly13checkedMallocEm.exit.i ], [ %call.i7.i, %if.end.i ]
  store ptr %retval.0.i7, ptr %this, align 8
  %sub = add i64 %retval.0.i, 9223372036854775807
  %or.i = or i64 %sub, -9223372036854775808
  store i64 %or.i, ptr %capacity_.i, align 8
  br label %if.end21

sw.bb.i:                                          ; preds = %if.end
  %arrayidx.i.i.i = getelementptr inbounds [24 x i8], ptr %nascent, i64 0, i64 23
  store i8 23, ptr %arrayidx.i.i.i, align 1
  store i8 0, ptr %nascent, align 8
  invoke void @_ZN5folly13fbstring_coreIcE12reserveSmallEmb(ptr noundef nonnull align 8 dereferenceable(24) %nascent, i64 noundef %minCapacity, i1 noundef zeroext false)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %sw.bb.i
  %size_12 = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 1
  %8 = load i64, ptr %size_12, align 8
  %size_13 = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %nascent, i64 0, i32 1
  store i64 %8, ptr %size_13, align 8
  %9 = load ptr, ptr %this, align 8
  %add.ptr = getelementptr inbounds i8, ptr %9, i64 %8
  %add.ptr17 = getelementptr inbounds i8, ptr %add.ptr, i64 1
  %10 = load ptr, ptr %nascent, align 8
  %sub.ptr.lhs.cast.i = ptrtoint ptr %add.ptr17 to i64
  %sub.ptr.rhs.cast.i = ptrtoint ptr %9 to i64
  %sub.ptr.sub.i = sub i64 %sub.ptr.lhs.cast.i, %sub.ptr.rhs.cast.i
  call void @llvm.memcpy.p0.p0.i64(ptr align 1 %10, ptr align 1 %9, i64 %sub.ptr.sub.i, i1 false)
  call void @llvm.lifetime.start.p0(i64 24, ptr nonnull %t.i)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %t.i, ptr noundef nonnull align 8 dereferenceable(24) %nascent, i64 24, i1 false)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %nascent, ptr noundef nonnull align 8 dereferenceable(24) %this, i64 24, i1 false)
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %this, ptr noundef nonnull align 8 dereferenceable(24) %t.i, i64 24, i1 false)
  call void @llvm.lifetime.end.p0(i64 24, ptr nonnull %t.i)
  %11 = load i8, ptr %arrayidx.i.i.i, align 1
  %12 = and i8 %11, -64
  %cmp.i12 = icmp eq i8 %12, 0
  br i1 %cmp.i12, label %if.end21, label %if.end.i13

if.end.i13:                                       ; preds = %invoke.cont
  %cmp.i.i = icmp eq i8 %12, -128
  %13 = load ptr, ptr %nascent, align 8
  br i1 %cmp.i.i, label %if.then.i.i14, label %if.else.i.i

if.then.i.i14:                                    ; preds = %if.end.i13
  call void @free(ptr noundef %13) #28
  br label %if.end21

if.else.i.i:                                      ; preds = %if.end.i13
  %add.ptr.i.i.i.i = getelementptr inbounds i8, ptr %13, i64 -8
  %14 = atomicrmw sub ptr %add.ptr.i.i.i.i, i64 1 acq_rel, align 8
  %cmp.i.i.i = icmp eq i64 %14, 1
  br i1 %cmp.i.i.i, label %if.then.i.i.i, label %if.end21

if.then.i.i.i:                                    ; preds = %if.else.i.i
  call void @free(ptr noundef nonnull %add.ptr.i.i.i.i) #28
  br label %if.end21

lpad:                                             ; preds = %sw.bb.i
  %15 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN5folly13fbstring_coreIcED2Ev(ptr noundef nonnull align 8 dereferenceable(24) %nascent) #28
  resume { ptr, i32 } %15

if.end21:                                         ; preds = %if.then.i.i.i, %if.else.i.i, %if.then.i.i14, %invoke.cont, %entry, %_ZN5folly12smartReallocEPvmmm.exit
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN5folly13fbstring_coreIcE12reserveLargeEm(ptr noundef nonnull align 8 dereferenceable(24) %this, i64 noundef %minCapacity) local_unnamed_addr #3 comdat align 2 {
entry:
  %effectiveCapacity.i = alloca i64, align 8
  %minCapacity.addr = alloca i64, align 8
  store i64 %minCapacity, ptr %minCapacity.addr, align 8
  %0 = load ptr, ptr %this, align 8
  %add.ptr.i.i = getelementptr inbounds i8, ptr %0, i64 -8
  %1 = load atomic i64, ptr %add.ptr.i.i acquire, align 8
  %cmp = icmp ugt i64 %1, 1
  %2 = load i64, ptr %minCapacity.addr, align 8
  br i1 %cmp, label %if.then, label %if.else

if.then:                                          ; preds = %entry
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %effectiveCapacity.i)
  %capacity_.i.i = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 2
  %3 = load i64, ptr %capacity_.i.i, align 8
  %and.i.i = and i64 %3, 4611686018427387903
  %.sroa.speculated.i = tail call i64 @llvm.umax.i64(i64 %and.i.i, i64 %2)
  store i64 %.sroa.speculated.i, ptr %effectiveCapacity.i, align 8
  %call3.i = call noundef ptr @_ZN5folly13fbstring_coreIcE10RefCounted6createEPm(ptr noundef nonnull %effectiveCapacity.i)
  %4 = load ptr, ptr %this, align 8
  %size_.i = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 1
  %5 = load i64, ptr %size_.i, align 8
  %add.ptr.i = getelementptr inbounds i8, ptr %4, i64 %5
  %add.ptr5.i = getelementptr inbounds i8, ptr %add.ptr.i, i64 1
  %data_6.i = getelementptr inbounds %"struct.folly::fbstring_core<char>::RefCounted", ptr %call3.i, i64 0, i32 1
  %sub.ptr.lhs.cast.i.i = ptrtoint ptr %add.ptr5.i to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint ptr %4 to i64
  %sub.ptr.sub.i.i = sub i64 %sub.ptr.lhs.cast.i.i, %sub.ptr.rhs.cast.i.i
  call void @llvm.memcpy.p0.p0.i64(ptr nonnull align 1 %data_6.i, ptr align 1 %4, i64 %sub.ptr.sub.i.i, i1 false)
  %6 = load ptr, ptr %this, align 8
  %add.ptr.i.i.i = getelementptr inbounds i8, ptr %6, i64 -8
  %7 = atomicrmw sub ptr %add.ptr.i.i.i, i64 1 acq_rel, align 8
  %cmp.i2.i = icmp eq i64 %7, 1
  br i1 %cmp.i2.i, label %if.then.i.i, label %_ZN5folly13fbstring_coreIcE7unshareEm.exit

if.then.i.i:                                      ; preds = %if.then
  call void @free(ptr noundef nonnull %add.ptr.i.i.i) #28
  br label %_ZN5folly13fbstring_coreIcE7unshareEm.exit

_ZN5folly13fbstring_coreIcE7unshareEm.exit:       ; preds = %if.then, %if.then.i.i
  store ptr %data_6.i, ptr %this, align 8
  %8 = load i64, ptr %effectiveCapacity.i, align 8
  %or.i.i = or i64 %8, 4611686018427387904
  store i64 %or.i.i, ptr %capacity_.i.i, align 8
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %effectiveCapacity.i)
  br label %if.end10

if.else:                                          ; preds = %entry
  %capacity_.i = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 2
  %9 = load i64, ptr %capacity_.i, align 8
  %and.i = and i64 %9, 4611686018427387903
  %cmp3 = icmp ugt i64 %2, %and.i
  br i1 %cmp3, label %if.then4, label %if.end10

if.then4:                                         ; preds = %if.else
  %10 = load ptr, ptr %this, align 8
  %size_ = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 1
  %11 = load i64, ptr %size_, align 8
  %call7 = call noundef ptr @_ZN5folly13fbstring_coreIcE10RefCounted10reallocateEPcmmPm(ptr noundef %10, i64 noundef %11, i64 noundef %and.i, ptr noundef nonnull %minCapacity.addr)
  %data_8 = getelementptr inbounds %"struct.folly::fbstring_core<char>::RefCounted", ptr %call7, i64 0, i32 1
  store ptr %data_8, ptr %this, align 8
  %12 = load i64, ptr %minCapacity.addr, align 8
  %or.i = or i64 %12, 4611686018427387904
  store i64 %or.i, ptr %capacity_.i, align 8
  br label %if.end10

if.end10:                                         ; preds = %if.else, %if.then4, %_ZN5folly13fbstring_coreIcE7unshareEm.exit
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly13fbstring_coreIcED2Ev(ptr noundef nonnull align 8 dereferenceable(24) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %arrayidx.i = getelementptr inbounds [24 x i8], ptr %this, i64 0, i64 23
  %0 = load i8, ptr %arrayidx.i, align 1
  %1 = and i8 %0, -64
  %cmp = icmp eq i8 %1, 0
  br i1 %cmp, label %return, label %if.end

if.end:                                           ; preds = %entry
  %cmp.i = icmp eq i8 %1, -128
  %2 = load ptr, ptr %this, align 8
  br i1 %cmp.i, label %if.then.i, label %if.else.i

if.then.i:                                        ; preds = %if.end
  tail call void @free(ptr noundef %2) #28
  br label %return

if.else.i:                                        ; preds = %if.end
  %add.ptr.i.i.i = getelementptr inbounds i8, ptr %2, i64 -8
  %3 = atomicrmw sub ptr %add.ptr.i.i.i, i64 1 acq_rel, align 8
  %cmp.i.i = icmp eq i64 %3, 1
  br i1 %cmp.i.i, label %if.then.i.i, label %return

if.then.i.i:                                      ; preds = %if.else.i
  tail call void @free(ptr noundef nonnull %add.ptr.i.i.i) #28
  br label %return

return:                                           ; preds = %if.then.i.i, %if.else.i, %if.then.i, %entry
  ret void
}

; Function Attrs: mustprogress nounwind willreturn allockind("realloc") allocsize(1) memory(argmem: readwrite, inaccessiblemem: readwrite)
declare noalias noundef ptr @realloc(ptr allocptr nocapture noundef, i64 noundef) local_unnamed_addr #24

; Function Attrs: mustprogress uwtable
define linkonce_odr noundef ptr @_ZN5folly13fbstring_coreIcE10RefCounted10reallocateEPcmmPm(ptr noundef %data, i64 noundef %currentSize, i64 noundef %currentCapacity, ptr noundef %newCapacity) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i.i.i.i = alloca %struct.Initializer, align 1
  %ref.tmp = alloca %"class.std::length_error", align 8
  %ref.tmp4 = alloca %"class.std::length_error", align 8
  %0 = load i64, ptr %newCapacity, align 8
  %1 = tail call { i64, i1 } @llvm.uadd.with.overflow.i64(i64 %0, i64 1)
  %2 = extractvalue { i64, i1 } %1, 1
  br i1 %2, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  call void @_ZNSt12length_errorC1EPKc(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp, ptr noundef nonnull @.str.32)
  invoke void @_ZN5folly15throw_exceptionISt12length_errorEEvOT_(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp) #32
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %if.then
  unreachable

lpad:                                             ; preds = %if.then
  %3 = landingpad { ptr, i32 }
          cleanup
  br label %eh.resume

if.end:                                           ; preds = %entry
  %4 = extractvalue { i64, i1 } %1, 0
  %5 = tail call { i64, i1 } @llvm.uadd.with.overflow.i64(i64 %4, i64 8)
  %6 = extractvalue { i64, i1 } %5, 1
  %7 = extractvalue { i64, i1 } %5, 0
  br i1 %6, label %if.then3, label %if.end7

if.then3:                                         ; preds = %if.end
  call void @_ZNSt12length_errorC1EPKc(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp4, ptr noundef nonnull @.str.32)
  invoke void @_ZN5folly15throw_exceptionISt12length_errorEEvOT_(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp4) #32
          to label %invoke.cont6 unwind label %lpad5

invoke.cont6:                                     ; preds = %if.then3
  unreachable

lpad5:                                            ; preds = %if.then3
  %8 = landingpad { ptr, i32 }
          cleanup
  br label %eh.resume

if.end7:                                          ; preds = %if.end
  %cmp.i = icmp eq i64 %7, 0
  br i1 %cmp.i, label %_ZN5folly14goodMallocSizeEm.exit, label %if.end.i

if.end.i:                                         ; preds = %if.end7
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i)
  %9 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i = icmp eq i8 %9, 0
  br i1 %guard.uninitialized.i.i.i.i, label %init.check.i.i.i.i, label %_ZN5folly10canNallocxEv.exit.i, !prof !81

init.check.i.i.i.i:                               ; preds = %if.end.i
  %10 = tail call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i = icmp eq i32 %10, 0
  br i1 %tobool.i.not.i.i.i, label %_ZN5folly10canNallocxEv.exit.i, label %init.i.i.i.i

init.i.i.i.i:                                     ; preds = %init.check.i.i.i.i
  %call.i.i.i.i = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i)
  %frombool.i.i.i.i = zext i1 %call.i.i.i.i to i8
  store i8 %frombool.i.i.i.i, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly10canNallocxEv.exit.i

_ZN5folly10canNallocxEv.exit.i:                   ; preds = %init.i.i.i.i, %init.check.i.i.i.i, %if.end.i
  %11 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %12 = and i8 %11, 1
  %tobool1.i.i.i.not.i = icmp eq i8 %12, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i)
  br i1 %tobool1.i.i.i.not.i, label %_ZN5folly14goodMallocSizeEm.exit, label %if.end2.i

if.end2.i:                                        ; preds = %_ZN5folly10canNallocxEv.exit.i
  %call3.i = call i64 @nallocx(i64 noundef %7, i32 noundef 0) #35
  %tobool.not.i = icmp eq i64 %call3.i, 0
  %cond.i = select i1 %tobool.not.i, i64 %7, i64 %call3.i
  br label %_ZN5folly14goodMallocSizeEm.exit

_ZN5folly14goodMallocSizeEm.exit:                 ; preds = %if.end7, %_ZN5folly10canNallocxEv.exit.i, %if.end2.i
  %retval.0.i5 = phi i64 [ %cond.i, %if.end2.i ], [ 0, %if.end7 ], [ %7, %_ZN5folly10canNallocxEv.exit.i ]
  %add.ptr.i = getelementptr inbounds i8, ptr %data, i64 -8
  %add11 = add i64 %currentSize, 9
  %sub.i = sub i64 %currentCapacity, %currentSize
  %mul.i = shl i64 %sub.i, 1
  %cmp.i6 = icmp ugt i64 %mul.i, %add11
  br i1 %cmp.i6, label %if.then.i, label %if.end.i7

if.then.i:                                        ; preds = %_ZN5folly14goodMallocSizeEm.exit
  %call.i.i = call noalias ptr @malloc(i64 noundef %retval.0.i5) #34
  %tobool.not.i.i = icmp eq ptr %call.i.i, null
  br i1 %tobool.not.i.i, label %if.then.i.i, label %_ZN5folly13checkedMallocEm.exit.i

if.then.i.i:                                      ; preds = %if.then.i
  call void @_ZN5folly6detail16throw_exception_ISt9bad_allocJEEEvDpT0_() #32
  unreachable

_ZN5folly13checkedMallocEm.exit.i:                ; preds = %if.then.i
  call void @llvm.memcpy.p0.p0.i64(ptr nonnull align 1 %call.i.i, ptr nonnull align 1 %add.ptr.i, i64 %add11, i1 false)
  call void @free(ptr noundef nonnull %add.ptr.i) #28
  br label %_ZN5folly12smartReallocEPvmmm.exit

if.end.i7:                                        ; preds = %_ZN5folly14goodMallocSizeEm.exit
  %call.i7.i = call ptr @realloc(ptr noundef nonnull %add.ptr.i, i64 noundef %retval.0.i5) #36
  %tobool.not.i8.i = icmp eq ptr %call.i7.i, null
  br i1 %tobool.not.i8.i, label %if.then.i9.i, label %_ZN5folly12smartReallocEPvmmm.exit

if.then.i9.i:                                     ; preds = %if.end.i7
  call void @_ZN5folly6detail16throw_exception_ISt9bad_allocJEEEvDpT0_() #32
  unreachable

_ZN5folly12smartReallocEPvmmm.exit:               ; preds = %_ZN5folly13checkedMallocEm.exit.i, %if.end.i7
  %retval.0.i8 = phi ptr [ %call.i.i, %_ZN5folly13checkedMallocEm.exit.i ], [ %call.i7.i, %if.end.i7 ]
  %sub18 = add i64 %retval.0.i5, -9
  store i64 %sub18, ptr %newCapacity, align 8
  ret ptr %retval.0.i8

eh.resume:                                        ; preds = %lpad5, %lpad
  %ref.tmp4.sink = phi ptr [ %ref.tmp4, %lpad5 ], [ %ref.tmp, %lpad ]
  %.pn = phi { ptr, i32 } [ %8, %lpad5 ], [ %3, %lpad ]
  call void @_ZNSt12length_errorD1Ev(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp4.sink) #28
  resume { ptr, i32 } %.pn
}

; Function Attrs: cold mustprogress noreturn uwtable
define linkonce_odr void @_ZN5folly6detail16throw_exception_ISt11logic_errorJPKcEEEvDpT0_(ptr noundef %args) local_unnamed_addr #11 comdat personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp = alloca %"class.std::logic_error", align 8
  call void @_ZNSt11logic_errorC1EPKc(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp, ptr noundef %args)
  invoke void @_ZN5folly15throw_exceptionISt11logic_errorEEvOT_(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp) #32
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  unreachable

lpad:                                             ; preds = %entry
  %0 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt11logic_errorD1Ev(ptr noundef nonnull align 8 dereferenceable(16) %ref.tmp) #28
  resume { ptr, i32 } %0
}

; Function Attrs: cold mustprogress noreturn uwtable
define linkonce_odr void @_ZN5folly15throw_exceptionISt11logic_errorEEvOT_(ptr noundef nonnull align 8 dereferenceable(16) %ex) local_unnamed_addr #11 comdat {
entry:
  %exception = tail call ptr @__cxa_allocate_exception(i64 16) #28
  tail call void @_ZNSt11logic_errorC1EOS_(ptr noundef nonnull align 8 dereferenceable(16) %exception, ptr noundef nonnull align 8 dereferenceable(16) %ex) #28
  tail call void @__cxa_throw(ptr nonnull %exception, ptr nonnull @_ZTISt11logic_error, ptr nonnull @_ZNSt11logic_errorD1Ev) #33
  unreachable
}

declare void @_ZNSt11logic_errorC1EPKc(ptr noundef nonnull align 8 dereferenceable(16), ptr noundef) unnamed_addr #0

; Function Attrs: nounwind
declare void @_ZNSt11logic_errorD1Ev(ptr noundef nonnull align 8 dereferenceable(16)) unnamed_addr #1

; Function Attrs: nounwind
declare void @_ZNSt11logic_errorC1EOS_(ptr noundef nonnull align 8 dereferenceable(16), ptr noundef nonnull align 8 dereferenceable(16)) unnamed_addr #1

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEEC2EPKcRKS3_(ptr noundef nonnull align 8 dereferenceable(24) %this, ptr noundef %s, ptr noundef nonnull align 1 dereferenceable(1) %0) unnamed_addr #3 comdat align 2 {
entry:
  %effectiveCapacity.i.i = alloca i64, align 8
  %tobool.not.i = icmp eq ptr %s, null
  br i1 %tobool.not.i, label %cond.false.i, label %_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEE12traitsLengthEPKc.exit

cond.false.i:                                     ; preds = %entry
  tail call void @_ZN5folly6detail16throw_exception_ISt11logic_errorJPKcEEEvDpT0_(ptr noundef nonnull @.str.33) #32
  unreachable

_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEE12traitsLengthEPKc.exit: ; preds = %entry
  %call.i.i = tail call noundef i64 @strlen(ptr noundef nonnull dereferenceable(1) %s) #28
  %cmp.i = icmp ugt i64 %call.i.i, 23
  br i1 %cmp.i, label %if.else.i, label %if.then.i

if.then.i:                                        ; preds = %_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEE12traitsLengthEPKc.exit
  %1 = ptrtoint ptr %s to i64
  %and.i.i = and i64 %1, 7
  %cmp.i.i = icmp eq i64 %and.i.i, 0
  br i1 %cmp.i.i, label %if.then.i.i, label %if.else.i.i

if.then.i.i:                                      ; preds = %if.then.i
  %sub.i.i = add nuw nsw i64 %call.i.i, 7
  %div9.i.i = lshr i64 %sub.i.i, 3
  switch i64 %div9.i.i, label %_ZN5folly13fbstring_coreIcE9initSmallEPKcm.exit.i [
    i64 3, label %sw.bb.i.i
    i64 2, label %sw.bb2.i.i
    i64 1, label %sw.bb4.i.i
  ]

sw.bb.i.i:                                        ; preds = %if.then.i.i
  %arrayidx.i.i = getelementptr inbounds i64, ptr %s, i64 2
  %2 = load i64, ptr %arrayidx.i.i, align 8
  %capacity_.i.i = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 2
  store i64 %2, ptr %capacity_.i.i, align 8
  br label %sw.bb2.i.i

sw.bb2.i.i:                                       ; preds = %sw.bb.i.i, %if.then.i.i
  %arrayidx3.i.i = getelementptr inbounds i64, ptr %s, i64 1
  %3 = load i64, ptr %arrayidx3.i.i, align 8
  %size_.i.i = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 1
  store i64 %3, ptr %size_.i.i, align 8
  br label %sw.bb4.i.i

sw.bb4.i.i:                                       ; preds = %sw.bb2.i.i, %if.then.i.i
  %4 = load ptr, ptr %s, align 8
  store ptr %4, ptr %this, align 8
  br label %_ZN5folly13fbstring_coreIcE9initSmallEPKcm.exit.i

if.else.i.i:                                      ; preds = %if.then.i
  %cmp6.not.i.i = icmp eq i64 %call.i.i, 0
  br i1 %cmp6.not.i.i, label %_ZN5folly13fbstring_coreIcE9initSmallEPKcm.exit.i, label %if.then7.i.i

if.then7.i.i:                                     ; preds = %if.else.i.i
  tail call void @llvm.memcpy.p0.p0.i64(ptr nonnull align 8 %this, ptr nonnull align 1 %s, i64 %call.i.i, i1 false)
  br label %_ZN5folly13fbstring_coreIcE9initSmallEPKcm.exit.i

_ZN5folly13fbstring_coreIcE9initSmallEPKcm.exit.i: ; preds = %if.then7.i.i, %if.else.i.i, %sw.bb4.i.i, %if.then.i.i
  %5 = trunc i64 %call.i.i to i8
  %conv.i.i.i = sub nuw nsw i8 23, %5
  %arrayidx.i.i.i = getelementptr inbounds [24 x i8], ptr %this, i64 0, i64 23
  store i8 %conv.i.i.i, ptr %arrayidx.i.i.i, align 1
  %arrayidx2.i.i.i = getelementptr inbounds [24 x i8], ptr %this, i64 0, i64 %call.i.i
  store i8 0, ptr %arrayidx2.i.i.i, align 1
  br label %_ZN5folly13fbstring_coreIcEC2EPKcmb.exit

if.else.i:                                        ; preds = %_ZN5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEE12traitsLengthEPKc.exit
  %cmp2.i = icmp ult i64 %call.i.i, 255
  br i1 %cmp2.i, label %if.then3.i, label %_ZN5folly13fbstring_coreIcE9initLargeEPKcm.exit.i

if.then3.i:                                       ; preds = %if.else.i
  tail call void @_ZN5folly13fbstring_coreIcE10initMediumEPKcm(ptr noundef nonnull align 8 dereferenceable(24) %this, ptr noundef nonnull %s, i64 noundef %call.i.i)
  br label %_ZN5folly13fbstring_coreIcEC2EPKcmb.exit

_ZN5folly13fbstring_coreIcE9initLargeEPKcm.exit.i: ; preds = %if.else.i
  call void @llvm.lifetime.start.p0(i64 8, ptr nonnull %effectiveCapacity.i.i)
  store i64 %call.i.i, ptr %effectiveCapacity.i.i, align 8
  %call.i.i.i = call noundef ptr @_ZN5folly13fbstring_coreIcE10RefCounted6createEPm(ptr noundef nonnull %effectiveCapacity.i.i)
  %data_.i.i.i = getelementptr inbounds %"struct.folly::fbstring_core<char>::RefCounted", ptr %call.i.i.i, i64 0, i32 1
  call void @llvm.memcpy.p0.p0.i64(ptr nonnull align 1 %data_.i.i.i, ptr nonnull align 1 %s, i64 %call.i.i, i1 false)
  store ptr %data_.i.i.i, ptr %this, align 8
  %size_.i7.i = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 1
  store i64 %call.i.i, ptr %size_.i7.i, align 8
  %6 = load i64, ptr %effectiveCapacity.i.i, align 8
  %or.i.i.i = or i64 %6, 4611686018427387904
  %capacity_.i.i.i = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 2
  store i64 %or.i.i.i, ptr %capacity_.i.i.i, align 8
  %arrayidx.i8.i = getelementptr inbounds i8, ptr %data_.i.i.i, i64 %call.i.i
  store i8 0, ptr %arrayidx.i8.i, align 1
  call void @llvm.lifetime.end.p0(i64 8, ptr nonnull %effectiveCapacity.i.i)
  br label %_ZN5folly13fbstring_coreIcEC2EPKcmb.exit

_ZN5folly13fbstring_coreIcEC2EPKcmb.exit:         ; preds = %_ZN5folly13fbstring_coreIcE9initSmallEPKcm.exit.i, %if.then3.i, %_ZN5folly13fbstring_coreIcE9initLargeEPKcm.exit.i
  ret void
}

; Function Attrs: nounwind
declare noundef ptr @_ZN5folly6detail23exception_ptr_get_type_ERKNSt15__exception_ptr13exception_ptrE(ptr noundef nonnull align 8 dereferenceable(8)) local_unnamed_addr #1

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN5folly13fbstring_coreIcE10initMediumEPKcm(ptr noundef nonnull align 8 dereferenceable(24) %this, ptr noundef %data, i64 noundef %size) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i.i.i.i = alloca %struct.Initializer, align 1
  %add = add i64 %size, 1
  %cmp.i = icmp eq i64 %add, 0
  br i1 %cmp.i, label %_ZN5folly14goodMallocSizeEm.exit, label %if.end.i

if.end.i:                                         ; preds = %entry
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i)
  %0 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i = icmp eq i8 %0, 0
  br i1 %guard.uninitialized.i.i.i.i, label %init.check.i.i.i.i, label %_ZN5folly10canNallocxEv.exit.i, !prof !81

init.check.i.i.i.i:                               ; preds = %if.end.i
  %1 = tail call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i = icmp eq i32 %1, 0
  br i1 %tobool.i.not.i.i.i, label %_ZN5folly10canNallocxEv.exit.i, label %init.i.i.i.i

init.i.i.i.i:                                     ; preds = %init.check.i.i.i.i
  %call.i.i.i.i = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i)
  %frombool.i.i.i.i = zext i1 %call.i.i.i.i to i8
  store i8 %frombool.i.i.i.i, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly10canNallocxEv.exit.i

_ZN5folly10canNallocxEv.exit.i:                   ; preds = %init.i.i.i.i, %init.check.i.i.i.i, %if.end.i
  %2 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %3 = and i8 %2, 1
  %tobool1.i.i.i.not.i = icmp eq i8 %3, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i)
  br i1 %tobool1.i.i.i.not.i, label %_ZN5folly14goodMallocSizeEm.exit, label %if.end2.i

if.end2.i:                                        ; preds = %_ZN5folly10canNallocxEv.exit.i
  %call3.i = call i64 @nallocx(i64 noundef %add, i32 noundef 0) #35
  %tobool.not.i = icmp eq i64 %call3.i, 0
  %cond.i = select i1 %tobool.not.i, i64 %add, i64 %call3.i
  br label %_ZN5folly14goodMallocSizeEm.exit

_ZN5folly14goodMallocSizeEm.exit:                 ; preds = %entry, %_ZN5folly10canNallocxEv.exit.i, %if.end2.i
  %retval.0.i = phi i64 [ %cond.i, %if.end2.i ], [ 0, %entry ], [ %add, %_ZN5folly10canNallocxEv.exit.i ]
  %call.i = call noalias ptr @malloc(i64 noundef %retval.0.i) #34
  %tobool.not.i7 = icmp eq ptr %call.i, null
  br i1 %tobool.not.i7, label %if.then.i, label %_ZN5folly13checkedMallocEm.exit

if.then.i:                                        ; preds = %_ZN5folly14goodMallocSizeEm.exit
  call void @_ZN5folly6detail16throw_exception_ISt9bad_allocJEEEvDpT0_() #32
  unreachable

_ZN5folly13checkedMallocEm.exit:                  ; preds = %_ZN5folly14goodMallocSizeEm.exit
  store ptr %call.i, ptr %this, align 8
  %cmp.not = icmp eq i64 %size, 0
  br i1 %cmp.not, label %if.end, label %if.then

if.then:                                          ; preds = %_ZN5folly13checkedMallocEm.exit
  call void @llvm.memcpy.p0.p0.i64(ptr nonnull align 1 %call.i, ptr align 1 %data, i64 %size, i1 false)
  br label %if.end

if.end:                                           ; preds = %if.then, %_ZN5folly13checkedMallocEm.exit
  %size_ = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 1
  store i64 %size, ptr %size_, align 8
  %sub = add i64 %retval.0.i, 9223372036854775807
  %or.i = or i64 %sub, -9223372036854775808
  %capacity_.i = getelementptr inbounds %"struct.folly::fbstring_core<char>::MediumLarge", ptr %this, i64 0, i32 2
  store i64 %or.i, ptr %capacity_.i, align 8
  %arrayidx = getelementptr inbounds i8, ptr %call.i, i64 %size
  store i8 0, ptr %arrayidx, align 1
  ret void
}

declare void @_ZN5folly8demangleEPKc(ptr sret(%"class.folly::basic_fbstring") align 8, ptr noundef) local_unnamed_addr #0

declare void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1EPKcmRKS3_(ptr noundef nonnull align 8 dereferenceable(32), ptr noundef, i64 noundef, ptr noundef nonnull align 1 dereferenceable(1)) unnamed_addr #0

declare void @fizz_probe_secret_available(i64 noundef, ptr noundef, i32 noundef, ptr noundef) local_unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz12KeyLogWriter16secretToNSSLabelENS_10SecretTypeE(ptr noalias sret(%"class.folly::Optional.523") align 4 %agg.result, ptr noundef %secretType) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %type_.i = getelementptr inbounds %"struct.fizz::SecretType", ptr %secretType, i64 0, i32 1
  %0 = load i32, ptr %type_.i, align 4
  switch i32 %0, label %sw.epilog30 [
    i32 0, label %_ZN4fizz10SecretType17tryAsEarlySecretsEv.exit
    i32 1, label %_ZN4fizz10SecretType21tryAsHandshakeSecretsEv.exit
    i32 2, label %_ZN4fizz10SecretType18tryAsMasterSecretsEv.exit
    i32 3, label %_ZN4fizz10SecretType22tryAsAppTrafficSecretsEv.exit
  ]

_ZN4fizz10SecretType17tryAsEarlySecretsEv.exit:   ; preds = %entry
  %1 = load i32, ptr %secretType, align 4
  switch i32 %1, label %if.then.i8 [
    i32 0, label %sw.bb2
    i32 1, label %sw.bb3
    i32 2, label %sw.bb4
    i32 3, label %sw.bb5
    i32 4, label %sw.bb7
    i32 5, label %sw.bb8
  ]

sw.bb2:                                           ; preds = %_ZN4fizz10SecretType17tryAsEarlySecretsEv.exit
  store i8 0, ptr %agg.result, align 4
  %hasValue.i.i = getelementptr inbounds %"struct.folly::Optional<fizz::KeyLogWriter::Label>::StorageTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i, align 4
  br label %return

sw.bb3:                                           ; preds = %_ZN4fizz10SecretType17tryAsEarlySecretsEv.exit
  store i8 0, ptr %agg.result, align 4
  %hasValue.i.i1 = getelementptr inbounds %"struct.folly::Optional<fizz::KeyLogWriter::Label>::StorageTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i1, align 4
  br label %return

sw.bb4:                                           ; preds = %_ZN4fizz10SecretType17tryAsEarlySecretsEv.exit
  %hasValue.i.i2 = getelementptr inbounds %"struct.folly::Optional<fizz::KeyLogWriter::Label>::StorageTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i32 2, ptr %agg.result, align 4
  store i8 1, ptr %hasValue.i.i2, align 4
  br label %return

sw.bb5:                                           ; preds = %_ZN4fizz10SecretType17tryAsEarlySecretsEv.exit
  %hasValue.i.i3 = getelementptr inbounds %"struct.folly::Optional<fizz::KeyLogWriter::Label>::StorageTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i32 7, ptr %agg.result, align 4
  store i8 1, ptr %hasValue.i.i3, align 4
  br label %return

sw.bb7:                                           ; preds = %_ZN4fizz10SecretType17tryAsEarlySecretsEv.exit
  store i8 0, ptr %agg.result, align 4
  %hasValue.i.i4 = getelementptr inbounds %"struct.folly::Optional<fizz::KeyLogWriter::Label>::StorageTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i4, align 4
  br label %return

sw.bb8:                                           ; preds = %_ZN4fizz10SecretType17tryAsEarlySecretsEv.exit
  store i8 0, ptr %agg.result, align 4
  %hasValue.i.i5 = getelementptr inbounds %"struct.folly::Optional<fizz::KeyLogWriter::Label>::StorageTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i5, align 4
  br label %return

if.then.i8:                                       ; preds = %_ZN4fizz10SecretType17tryAsEarlySecretsEv.exit
  %exception.i9 = tail call ptr @__cxa_allocate_exception(i64 16) #28
  invoke void @_ZNSt13runtime_errorC1EPKc(ptr noundef nonnull align 8 dereferenceable(16) %exception.i9, ptr noundef nonnull @.str.35)
          to label %invoke.cont.i11 unwind label %lpad.i10

invoke.cont.i11:                                  ; preds = %if.then.i8
  tail call void @__cxa_throw(ptr nonnull %exception.i9, ptr nonnull @_ZTISt13runtime_error, ptr nonnull @_ZNSt13runtime_errorD1Ev) #33
  unreachable

common.resume:                                    ; preds = %lpad.i27, %lpad.i19, %lpad.i10
  %exception.i26.sink = phi ptr [ %exception.i26, %lpad.i27 ], [ %exception.i18, %lpad.i19 ], [ %exception.i9, %lpad.i10 ]
  %common.resume.op = phi { ptr, i32 } [ %6, %lpad.i27 ], [ %4, %lpad.i19 ], [ %2, %lpad.i10 ]
  tail call void @__cxa_free_exception(ptr %exception.i26.sink) #28
  resume { ptr, i32 } %common.resume.op

lpad.i10:                                         ; preds = %if.then.i8
  %2 = landingpad { ptr, i32 }
          cleanup
  br label %common.resume

_ZN4fizz10SecretType21tryAsHandshakeSecretsEv.exit: ; preds = %entry
  %3 = load i32, ptr %secretType, align 4
  switch i32 %3, label %if.then.i17 [
    i32 0, label %sw.bb11
    i32 1, label %sw.bb13
    i32 2, label %sw.bb15
  ]

sw.bb11:                                          ; preds = %_ZN4fizz10SecretType21tryAsHandshakeSecretsEv.exit
  %hasValue.i.i12 = getelementptr inbounds %"struct.folly::Optional<fizz::KeyLogWriter::Label>::StorageTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i32 3, ptr %agg.result, align 4
  store i8 1, ptr %hasValue.i.i12, align 4
  br label %return

sw.bb13:                                          ; preds = %_ZN4fizz10SecretType21tryAsHandshakeSecretsEv.exit
  %hasValue.i.i13 = getelementptr inbounds %"struct.folly::Optional<fizz::KeyLogWriter::Label>::StorageTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i32 4, ptr %agg.result, align 4
  store i8 1, ptr %hasValue.i.i13, align 4
  br label %return

sw.bb15:                                          ; preds = %_ZN4fizz10SecretType21tryAsHandshakeSecretsEv.exit
  store i8 0, ptr %agg.result, align 4
  %hasValue.i.i14 = getelementptr inbounds %"struct.folly::Optional<fizz::KeyLogWriter::Label>::StorageTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i14, align 4
  br label %return

if.then.i17:                                      ; preds = %_ZN4fizz10SecretType21tryAsHandshakeSecretsEv.exit
  %exception.i18 = tail call ptr @__cxa_allocate_exception(i64 16) #28
  invoke void @_ZNSt13runtime_errorC1EPKc(ptr noundef nonnull align 8 dereferenceable(16) %exception.i18, ptr noundef nonnull @.str.35)
          to label %invoke.cont.i20 unwind label %lpad.i19

invoke.cont.i20:                                  ; preds = %if.then.i17
  tail call void @__cxa_throw(ptr nonnull %exception.i18, ptr nonnull @_ZTISt13runtime_error, ptr nonnull @_ZNSt13runtime_errorD1Ev) #33
  unreachable

lpad.i19:                                         ; preds = %if.then.i17
  %4 = landingpad { ptr, i32 }
          cleanup
  br label %common.resume

_ZN4fizz10SecretType18tryAsMasterSecretsEv.exit:  ; preds = %entry
  %5 = load i32, ptr %secretType, align 4
  switch i32 %5, label %if.then.i25 [
    i32 0, label %sw.bb19
    i32 1, label %sw.bb21
  ]

sw.bb19:                                          ; preds = %_ZN4fizz10SecretType18tryAsMasterSecretsEv.exit
  %hasValue.i.i21 = getelementptr inbounds %"struct.folly::Optional<fizz::KeyLogWriter::Label>::StorageTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i32 8, ptr %agg.result, align 4
  store i8 1, ptr %hasValue.i.i21, align 4
  br label %return

sw.bb21:                                          ; preds = %_ZN4fizz10SecretType18tryAsMasterSecretsEv.exit
  store i8 0, ptr %agg.result, align 4
  %hasValue.i.i22 = getelementptr inbounds %"struct.folly::Optional<fizz::KeyLogWriter::Label>::StorageTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i22, align 4
  br label %return

if.then.i25:                                      ; preds = %_ZN4fizz10SecretType18tryAsMasterSecretsEv.exit
  %exception.i26 = tail call ptr @__cxa_allocate_exception(i64 16) #28
  invoke void @_ZNSt13runtime_errorC1EPKc(ptr noundef nonnull align 8 dereferenceable(16) %exception.i26, ptr noundef nonnull @.str.35)
          to label %invoke.cont.i28 unwind label %lpad.i27

invoke.cont.i28:                                  ; preds = %if.then.i25
  tail call void @__cxa_throw(ptr nonnull %exception.i26, ptr nonnull @_ZTISt13runtime_error, ptr nonnull @_ZNSt13runtime_errorD1Ev) #33
  unreachable

lpad.i27:                                         ; preds = %if.then.i25
  %6 = landingpad { ptr, i32 }
          cleanup
  br label %common.resume

_ZN4fizz10SecretType22tryAsAppTrafficSecretsEv.exit: ; preds = %entry
  %7 = load i32, ptr %secretType, align 4
  switch i32 %7, label %sw.epilog30 [
    i32 0, label %sw.bb25
    i32 1, label %sw.bb27
  ]

sw.bb25:                                          ; preds = %_ZN4fizz10SecretType22tryAsAppTrafficSecretsEv.exit
  %hasValue.i.i29 = getelementptr inbounds %"struct.folly::Optional<fizz::KeyLogWriter::Label>::StorageTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i32 5, ptr %agg.result, align 4
  store i8 1, ptr %hasValue.i.i29, align 4
  br label %return

sw.bb27:                                          ; preds = %_ZN4fizz10SecretType22tryAsAppTrafficSecretsEv.exit
  %hasValue.i.i30 = getelementptr inbounds %"struct.folly::Optional<fizz::KeyLogWriter::Label>::StorageTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i32 6, ptr %agg.result, align 4
  store i8 1, ptr %hasValue.i.i30, align 4
  br label %return

sw.epilog30:                                      ; preds = %_ZN4fizz10SecretType22tryAsAppTrafficSecretsEv.exit, %entry
  store i8 0, ptr %agg.result, align 4
  %hasValue.i.i31 = getelementptr inbounds %"struct.folly::Optional<fizz::KeyLogWriter::Label>::StorageTriviallyDestructible", ptr %agg.result, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i31, align 4
  br label %return

return:                                           ; preds = %sw.epilog30, %sw.bb27, %sw.bb25, %sw.bb21, %sw.bb19, %sw.bb15, %sw.bb13, %sw.bb11, %sw.bb8, %sw.bb7, %sw.bb5, %sw.bb4, %sw.bb3, %sw.bb2
  ret void
}

declare void @_ZNSt13runtime_errorC1EPKc(ptr noundef nonnull align 8 dereferenceable(16), ptr noundef) unnamed_addr #0

declare void @__cxa_free_exception(ptr) local_unnamed_addr

; Function Attrs: nounwind
declare void @_ZNSt13runtime_errorD1Ev(ptr noundef nonnull align 8 dereferenceable(16)) unnamed_addr #1

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly8OptionalISt6vectorISt10shared_ptrIKN4fizz8PeerCertEESaIS6_EEE31StorageNonTriviallyDestructible5clearEv(ptr noundef nonnull align 8 dereferenceable(25) %this) local_unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %hasValue = getelementptr inbounds %"struct.folly::Optional<std::vector<std::shared_ptr<const fizz::PeerCert>>>::StorageNonTriviallyDestructible", ptr %this, i64 0, i32 1
  %0 = load i8, ptr %hasValue, align 8
  %1 = and i8 %0, 1
  %tobool.not = icmp eq i8 %1, 0
  br i1 %tobool.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  store i8 0, ptr %hasValue, align 8
  %2 = load ptr, ptr %this, align 8
  %_M_finish.i = getelementptr inbounds %"struct.std::_Vector_base<std::shared_ptr<const fizz::PeerCert>, std::allocator<std::shared_ptr<const fizz::PeerCert>>>::_Vector_impl_data", ptr %this, i64 0, i32 1
  %3 = load ptr, ptr %_M_finish.i, align 8
  %cmp.not3.i.i.i.i = icmp eq ptr %2, %3
  br i1 %cmp.not3.i.i.i.i, label %invoke.cont.i, label %for.body.i.i.i.i

for.body.i.i.i.i:                                 ; preds = %if.then, %_ZSt8_DestroyISt10shared_ptrIKN4fizz8PeerCertEEEvPT_.exit.i.i.i.i
  %__first.addr.04.i.i.i.i = phi ptr [ %incdec.ptr.i.i.i.i, %_ZSt8_DestroyISt10shared_ptrIKN4fizz8PeerCertEEEvPT_.exit.i.i.i.i ], [ %2, %if.then ]
  %_M_refcount.i.i.i.i.i.i.i = getelementptr inbounds %"class.std::__shared_ptr.526", ptr %__first.addr.04.i.i.i.i, i64 0, i32 1
  %4 = load ptr, ptr %_M_refcount.i.i.i.i.i.i.i, align 8
  %cmp.not.i.i.i.i.i.i.i.i = icmp eq ptr %4, null
  br i1 %cmp.not.i.i.i.i.i.i.i.i, label %_ZSt8_DestroyISt10shared_ptrIKN4fizz8PeerCertEEEvPT_.exit.i.i.i.i, label %if.then.i.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i.i:                          ; preds = %for.body.i.i.i.i
  %_M_use_count.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %4, i64 0, i32 1
  %5 = load atomic i64, ptr %_M_use_count.i.i.i.i.i.i.i.i.i acquire, align 8
  %cmp.i.i.i.i.i.i.i.i.i = icmp eq i64 %5, 4294967297
  %6 = trunc i64 %5 to i32
  br i1 %cmp.i.i.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i.i.i, label %if.end.i.i.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i.i.i:                        ; preds = %if.then.i.i.i.i.i.i.i.i
  store i32 0, ptr %_M_use_count.i.i.i.i.i.i.i.i.i, align 8
  %_M_weak_count.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %4, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i.i.i.i.i, align 4
  %vtable.i.i.i.i.i.i.i.i.i = load ptr, ptr %4, align 8
  %vfn.i.i.i.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i.i.i, i64 2
  %7 = load ptr, ptr %vfn.i.i.i.i.i.i.i.i.i, align 8
  tail call void %7(ptr noundef nonnull align 8 dereferenceable(16) %4) #28
  br label %if.end8.sink.split.i.i.i.i.i.i.i.i.i

if.end.i.i.i.i.i.i.i.i.i:                         ; preds = %if.then.i.i.i.i.i.i.i.i
  %8 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i.i.i = icmp eq i8 %8, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i.i.i.i:                      ; preds = %if.end.i.i.i.i.i.i.i.i.i
  %add.i.i.i.i.i.i.i.i.i.i = add nsw i32 %6, -1
  store i32 %add.i.i.i.i.i.i.i.i.i.i, ptr %_M_use_count.i.i.i.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i.i.i.i:                      ; preds = %if.end.i.i.i.i.i.i.i.i.i
  %9 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i.i.i.i = phi i32 [ %6, %if.then.i.i.i.i.i.i.i.i.i.i ], [ %9, %if.else.i.i.i.i.i.i.i.i.i.i ]
  %cmp6.i.i.i.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i.i.i.i.i.i, label %if.then7.i.i.i.i.i.i.i.i.i, label %_ZSt8_DestroyISt10shared_ptrIKN4fizz8PeerCertEEEvPT_.exit.i.i.i.i

if.then7.i.i.i.i.i.i.i.i.i:                       ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i.i.i
  %vtable.i.i.i.i.i.i.i.i.i.i.i = load ptr, ptr %4, align 8
  %vfn.i.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i.i.i.i.i, i64 2
  %10 = load ptr, ptr %vfn.i.i.i.i.i.i.i.i.i.i.i, align 8
  tail call void %10(ptr noundef nonnull align 8 dereferenceable(16) %4) #28
  %_M_weak_count.i.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %4, i64 0, i32 2
  %11 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i.i.i.i.i = icmp eq i8 %11, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i.i.i.i.i.i:                  ; preds = %if.then7.i.i.i.i.i.i.i.i.i
  %12 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i.i.i.i.i.i.i = add nsw i32 %12, -1
  store i32 %add.i.i.i.i.i.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i.i.i.i.i.i:                  ; preds = %if.then7.i.i.i.i.i.i.i.i.i
  %13 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i.i.i.i.i.i = phi i32 [ %12, %if.then.i.i.i.i.i.i.i.i.i.i.i.i ], [ %13, %if.else.i.i.i.i.i.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i.i.i.i.i.i, label %_ZSt8_DestroyISt10shared_ptrIKN4fizz8PeerCertEEEvPT_.exit.i.i.i.i

if.end8.sink.split.i.i.i.i.i.i.i.i.i:             ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i.i.i
  %vtable2.i.i.i.i.i.i.i.i.i.i.i = load ptr, ptr %4, align 8
  %vfn3.i.i.i.i.i.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i.i.i.i.i, i64 3
  %14 = load ptr, ptr %vfn3.i.i.i.i.i.i.i.i.i.i.i, align 8
  tail call void %14(ptr noundef nonnull align 8 dereferenceable(16) %4) #28
  br label %_ZSt8_DestroyISt10shared_ptrIKN4fizz8PeerCertEEEvPT_.exit.i.i.i.i

_ZSt8_DestroyISt10shared_ptrIKN4fizz8PeerCertEEEvPT_.exit.i.i.i.i: ; preds = %if.end8.sink.split.i.i.i.i.i.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i.i.i, %for.body.i.i.i.i
  %incdec.ptr.i.i.i.i = getelementptr inbounds %"class.std::shared_ptr.525", ptr %__first.addr.04.i.i.i.i, i64 1
  %cmp.not.i.i.i.i = icmp eq ptr %incdec.ptr.i.i.i.i, %3
  br i1 %cmp.not.i.i.i.i, label %invoke.contthread-pre-split.i, label %for.body.i.i.i.i, !llvm.loop !114

invoke.contthread-pre-split.i:                    ; preds = %_ZSt8_DestroyISt10shared_ptrIKN4fizz8PeerCertEEEvPT_.exit.i.i.i.i
  %.pr.i = load ptr, ptr %this, align 8
  br label %invoke.cont.i

invoke.cont.i:                                    ; preds = %invoke.contthread-pre-split.i, %if.then
  %15 = phi ptr [ %.pr.i, %invoke.contthread-pre-split.i ], [ %2, %if.then ]
  %tobool.not.i.i.i = icmp eq ptr %15, null
  br i1 %tobool.not.i.i.i, label %if.end, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %invoke.cont.i
  tail call void @_ZdlPv(ptr noundef nonnull %15) #31
  br label %if.end

if.end:                                           ; preds = %if.then.i.i.i, %invoke.cont.i, %entry
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNSt8_Rb_treeIN4fizz10NamedGroupESt4pairIKS1_St10unique_ptrINS0_11KeyExchangeESt14default_deleteIS5_EEESt10_Select1stIS9_ESt4lessIS1_ESaIS9_EE8_M_eraseEPSt13_Rb_tree_nodeIS9_E(ptr noundef nonnull align 8 dereferenceable(48) %this, ptr noundef %__x) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %cmp.not4 = icmp eq ptr %__x, null
  br i1 %cmp.not4, label %while.end, label %while.body

while.body:                                       ; preds = %entry, %_ZNSt8_Rb_treeIN4fizz10NamedGroupESt4pairIKS1_St10unique_ptrINS0_11KeyExchangeESt14default_deleteIS5_EEESt10_Select1stIS9_ESt4lessIS1_ESaIS9_EE12_M_drop_nodeEPSt13_Rb_tree_nodeIS9_E.exit
  %__x.addr.05 = phi ptr [ %1, %_ZNSt8_Rb_treeIN4fizz10NamedGroupESt4pairIKS1_St10unique_ptrINS0_11KeyExchangeESt14default_deleteIS5_EEESt10_Select1stIS9_ESt4lessIS1_ESaIS9_EE12_M_drop_nodeEPSt13_Rb_tree_nodeIS9_E.exit ], [ %__x, %entry ]
  %_M_right.i = getelementptr inbounds %"struct.std::_Rb_tree_node_base", ptr %__x.addr.05, i64 0, i32 3
  %0 = load ptr, ptr %_M_right.i, align 8
  tail call void @_ZNSt8_Rb_treeIN4fizz10NamedGroupESt4pairIKS1_St10unique_ptrINS0_11KeyExchangeESt14default_deleteIS5_EEESt10_Select1stIS9_ESt4lessIS1_ESaIS9_EE8_M_eraseEPSt13_Rb_tree_nodeIS9_E(ptr noundef nonnull align 8 dereferenceable(48) %this, ptr noundef %0)
  %_M_left.i = getelementptr inbounds %"struct.std::_Rb_tree_node_base", ptr %__x.addr.05, i64 0, i32 2
  %1 = load ptr, ptr %_M_left.i, align 8
  %second.i.i.i.i.i = getelementptr inbounds %"struct.std::_Rb_tree_node", ptr %__x.addr.05, i64 0, i32 1, i32 0, i64 8
  %2 = load ptr, ptr %second.i.i.i.i.i, align 8
  %cmp.not.i.i.i.i.i.i = icmp eq ptr %2, null
  br i1 %cmp.not.i.i.i.i.i.i, label %_ZNSt8_Rb_treeIN4fizz10NamedGroupESt4pairIKS1_St10unique_ptrINS0_11KeyExchangeESt14default_deleteIS5_EEESt10_Select1stIS9_ESt4lessIS1_ESaIS9_EE12_M_drop_nodeEPSt13_Rb_tree_nodeIS9_E.exit, label %_ZNKSt14default_deleteIN4fizz11KeyExchangeEEclEPS1_.exit.i.i.i.i.i.i

_ZNKSt14default_deleteIN4fizz11KeyExchangeEEclEPS1_.exit.i.i.i.i.i.i: ; preds = %while.body
  %vtable.i.i.i.i.i.i.i = load ptr, ptr %2, align 8
  %vfn.i.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i, i64 1
  %3 = load ptr, ptr %vfn.i.i.i.i.i.i.i, align 8
  tail call void %3(ptr noundef nonnull align 8 dereferenceable(8) %2) #28
  br label %_ZNSt8_Rb_treeIN4fizz10NamedGroupESt4pairIKS1_St10unique_ptrINS0_11KeyExchangeESt14default_deleteIS5_EEESt10_Select1stIS9_ESt4lessIS1_ESaIS9_EE12_M_drop_nodeEPSt13_Rb_tree_nodeIS9_E.exit

_ZNSt8_Rb_treeIN4fizz10NamedGroupESt4pairIKS1_St10unique_ptrINS0_11KeyExchangeESt14default_deleteIS5_EEESt10_Select1stIS9_ESt4lessIS1_ESaIS9_EE12_M_drop_nodeEPSt13_Rb_tree_nodeIS9_E.exit: ; preds = %while.body, %_ZNKSt14default_deleteIN4fizz11KeyExchangeEEclEPS1_.exit.i.i.i.i.i.i
  tail call void @_ZdlPv(ptr noundef nonnull %__x.addr.05) #31
  %cmp.not = icmp eq ptr %1, null
  br i1 %cmp.not, label %while.end, label %while.body, !llvm.loop !115

while.end:                                        ; preds = %_ZNSt8_Rb_treeIN4fizz10NamedGroupESt4pairIKS1_St10unique_ptrINS0_11KeyExchangeESt14default_deleteIS5_EEESt10_Select1stIS9_ESt4lessIS1_ESaIS9_EE12_M_drop_nodeEPSt13_Rb_tree_nodeIS9_E.exit, %entry
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz6client8ECHStateD2Ev(ptr noundef nonnull align 8 dereferenceable(224) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %retryConfigs = getelementptr inbounds %"struct.fizz::client::ECHState", ptr %this, i64 0, i32 8
  %hasValue.i.i.i = getelementptr inbounds %"struct.fizz::client::ECHState", ptr %this, i64 0, i32 8, i32 0, i32 1
  %0 = load i8, ptr %hasValue.i.i.i, align 8
  %1 = and i8 %0, 1
  %tobool.not.i.i.i = icmp eq i8 %1, 0
  br i1 %tobool.not.i.i.i, label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %entry
  store i8 0, ptr %hasValue.i.i.i, align 8
  %2 = load ptr, ptr %retryConfigs, align 8
  %_M_finish.i.i.i.i = getelementptr inbounds %"struct.fizz::client::ECHState", ptr %this, i64 0, i32 8, i32 0, i32 0, i32 0, i32 0, i32 0, i32 0, i32 1
  %3 = load ptr, ptr %_M_finish.i.i.i.i, align 8
  %cmp.not3.i.i.i.i.i.i.i = icmp eq ptr %2, %3
  br i1 %cmp.not3.i.i.i.i.i.i.i, label %invoke.cont.i.i.i.i, label %for.body.i.i.i.i.i.i.i

for.body.i.i.i.i.i.i.i:                           ; preds = %if.then.i.i.i, %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i
  %__first.addr.04.i.i.i.i.i.i.i = phi ptr [ %incdec.ptr.i.i.i.i.i.i.i, %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i ], [ %2, %if.then.i.i.i ]
  %ech_config_content.i.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::ech::ECHConfig", ptr %__first.addr.04.i.i.i.i.i.i.i, i64 0, i32 1
  %4 = load ptr, ptr %ech_config_content.i.i.i.i.i.i.i.i.i, align 8
  %cmp.not.i.i.i.i.i.i.i.i.i.i = icmp eq ptr %4, null
  br i1 %cmp.not.i.i.i.i.i.i.i.i.i.i, label %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i.i.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i.i.i.i: ; preds = %for.body.i.i.i.i.i.i.i
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %4) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %4) #28
  br label %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i

_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i.i.i.i, %for.body.i.i.i.i.i.i.i
  store ptr null, ptr %ech_config_content.i.i.i.i.i.i.i.i.i, align 8
  %incdec.ptr.i.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::ech::ECHConfig", ptr %__first.addr.04.i.i.i.i.i.i.i, i64 1
  %cmp.not.i.i.i.i.i.i.i = icmp eq ptr %incdec.ptr.i.i.i.i.i.i.i, %3
  br i1 %cmp.not.i.i.i.i.i.i.i, label %invoke.contthread-pre-split.i.i.i.i, label %for.body.i.i.i.i.i.i.i, !llvm.loop !44

invoke.contthread-pre-split.i.i.i.i:              ; preds = %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i
  %.pr.i.i.i.i = load ptr, ptr %retryConfigs, align 8
  br label %invoke.cont.i.i.i.i

invoke.cont.i.i.i.i:                              ; preds = %invoke.contthread-pre-split.i.i.i.i, %if.then.i.i.i
  %5 = phi ptr [ %.pr.i.i.i.i, %invoke.contthread-pre-split.i.i.i.i ], [ %2, %if.then.i.i.i ]
  %tobool.not.i.i.i.i.i.i = icmp eq ptr %5, null
  br i1 %tobool.not.i.i.i.i.i.i, label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit, label %if.then.i.i.i.i.i.i

if.then.i.i.i.i.i.i:                              ; preds = %invoke.cont.i.i.i.i
  tail call void @_ZdlPv(ptr noundef nonnull %5) #31
  br label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit

_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit: ; preds = %entry, %invoke.cont.i.i.i.i, %if.then.i.i.i.i.i.i
  %handshakeContext = getelementptr inbounds %"struct.fizz::client::ECHState", ptr %this, i64 0, i32 7
  %6 = load ptr, ptr %handshakeContext, align 8
  %cmp.not.i = icmp eq ptr %6, null
  br i1 %cmp.not.i, label %_ZNSt10unique_ptrIN4fizz16HandshakeContextESt14default_deleteIS1_EED2Ev.exit, label %_ZNKSt14default_deleteIN4fizz16HandshakeContextEEclEPS1_.exit.i

_ZNKSt14default_deleteIN4fizz16HandshakeContextEEclEPS1_.exit.i: ; preds = %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit
  %vtable.i.i = load ptr, ptr %6, align 8
  %vfn.i.i = getelementptr inbounds ptr, ptr %vtable.i.i, i64 1
  %7 = load ptr, ptr %vfn.i.i, align 8
  tail call void %7(ptr noundef nonnull align 8 dereferenceable(8) %6) #28
  br label %_ZNSt10unique_ptrIN4fizz16HandshakeContextESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN4fizz16HandshakeContextESt14default_deleteIS1_EED2Ev.exit: ; preds = %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit, %_ZNKSt14default_deleteIN4fizz16HandshakeContextEEclEPS1_.exit.i
  store ptr null, ptr %handshakeContext, align 8
  %hasValue.i.i.i1 = getelementptr inbounds %"struct.fizz::client::ECHState", ptr %this, i64 0, i32 6, i32 0, i32 1
  %8 = load i8, ptr %hasValue.i.i.i1, align 8
  %9 = and i8 %8, 1
  %tobool.not.i.i.i2 = icmp eq i8 %9, 0
  br i1 %tobool.not.i.i.i2, label %_ZN5folly8OptionalIN4fizz18ClientPresharedKeyEED2Ev.exit, label %if.then.i.i.i3

if.then.i.i.i3:                                   ; preds = %_ZNSt10unique_ptrIN4fizz16HandshakeContextESt14default_deleteIS1_EED2Ev.exit
  %greasePsk = getelementptr inbounds %"struct.fizz::client::ECHState", ptr %this, i64 0, i32 6
  store i8 0, ptr %hasValue.i.i.i1, align 8
  tail call void @_ZN4fizz18ClientPresharedKeyD2Ev(ptr noundef nonnull align 8 dereferenceable(48) %greasePsk) #28
  br label %_ZN5folly8OptionalIN4fizz18ClientPresharedKeyEED2Ev.exit

_ZN5folly8OptionalIN4fizz18ClientPresharedKeyEED2Ev.exit: ; preds = %_ZNSt10unique_ptrIN4fizz16HandshakeContextESt14default_deleteIS1_EED2Ev.exit, %if.then.i.i.i3
  %hpkeSetup = getelementptr inbounds %"struct.fizz::client::ECHState", ptr %this, i64 0, i32 4
  %context.i = getelementptr inbounds %"struct.fizz::client::ECHState", ptr %this, i64 0, i32 4, i32 1
  %10 = load ptr, ptr %context.i, align 8
  %cmp.not.i.i = icmp eq ptr %10, null
  br i1 %cmp.not.i.i, label %_ZNSt10unique_ptrIN4fizz4hpke11HpkeContextESt14default_deleteIS2_EED2Ev.exit.i, label %_ZNKSt14default_deleteIN4fizz4hpke11HpkeContextEEclEPS2_.exit.i.i

_ZNKSt14default_deleteIN4fizz4hpke11HpkeContextEEclEPS2_.exit.i.i: ; preds = %_ZN5folly8OptionalIN4fizz18ClientPresharedKeyEED2Ev.exit
  %vtable.i.i.i = load ptr, ptr %10, align 8
  %vfn.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i, i64 1
  %11 = load ptr, ptr %vfn.i.i.i, align 8
  tail call void %11(ptr noundef nonnull align 8 dereferenceable(8) %10) #28
  br label %_ZNSt10unique_ptrIN4fizz4hpke11HpkeContextESt14default_deleteIS2_EED2Ev.exit.i

_ZNSt10unique_ptrIN4fizz4hpke11HpkeContextESt14default_deleteIS2_EED2Ev.exit.i: ; preds = %_ZNKSt14default_deleteIN4fizz4hpke11HpkeContextEEclEPS2_.exit.i.i, %_ZN5folly8OptionalIN4fizz18ClientPresharedKeyEED2Ev.exit
  store ptr null, ptr %context.i, align 8
  %12 = load ptr, ptr %hpkeSetup, align 8
  %cmp.not.i1.i = icmp eq ptr %12, null
  br i1 %cmp.not.i1.i, label %_ZN4fizz4hpke11SetupResultD2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i: ; preds = %_ZNSt10unique_ptrIN4fizz4hpke11HpkeContextESt14default_deleteIS2_EED2Ev.exit.i
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %12) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %12) #28
  br label %_ZN4fizz4hpke11SetupResultD2Ev.exit

_ZN4fizz4hpke11SetupResultD2Ev.exit:              ; preds = %_ZNSt10unique_ptrIN4fizz4hpke11HpkeContextESt14default_deleteIS2_EED2Ev.exit.i, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i
  store ptr null, ptr %hpkeSetup, align 8
  %ech_config_content.i.i = getelementptr inbounds %"struct.fizz::client::ECHState", ptr %this, i64 0, i32 3, i32 0, i32 1
  %13 = load ptr, ptr %ech_config_content.i.i, align 8
  %cmp.not.i.i.i = icmp eq ptr %13, null
  br i1 %cmp.not.i.i.i, label %_ZN4fizz3ech18SupportedECHConfigD2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i: ; preds = %_ZN4fizz4hpke11SetupResultD2Ev.exit
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %13) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %13) #28
  br label %_ZN4fizz3ech18SupportedECHConfigD2Ev.exit

_ZN4fizz3ech18SupportedECHConfigD2Ev.exit:        ; preds = %_ZN4fizz4hpke11SetupResultD2Ev.exit, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i
  store ptr null, ptr %ech_config_content.i.i, align 8
  %hasValue.i.i.i4 = getelementptr inbounds %"struct.fizz::client::ECHState", ptr %this, i64 0, i32 2, i32 0, i32 1
  %14 = load i8, ptr %hasValue.i.i.i4, align 8
  %15 = and i8 %14, 1
  %tobool.not.i.i.i5 = icmp eq i8 %15, 0
  br i1 %tobool.not.i.i.i5, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, label %if.then.i.i.i6

if.then.i.i.i6:                                   ; preds = %_ZN4fizz3ech18SupportedECHConfigD2Ev.exit
  %sni = getelementptr inbounds %"struct.fizz::client::ECHState", ptr %this, i64 0, i32 2
  store i8 0, ptr %hasValue.i.i.i4, align 8
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %sni) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit: ; preds = %_ZN4fizz3ech18SupportedECHConfigD2Ev.exit, %if.then.i.i.i6
  %encodedECH = getelementptr inbounds %"struct.fizz::client::ECHState", ptr %this, i64 0, i32 1
  %16 = load ptr, ptr %encodedECH, align 8
  %cmp.not.i7 = icmp eq ptr %16, null
  br i1 %cmp.not.i7, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %16) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %16) #28
  br label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i
  store ptr null, ptr %encodedECH, align 8
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev(ptr noundef nonnull align 8 dereferenceable(32) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %hasValue.i.i = getelementptr inbounds %"struct.folly::Optional<std::vector<fizz::ech::ECHConfig>>::StorageNonTriviallyDestructible", ptr %this, i64 0, i32 1
  %0 = load i8, ptr %hasValue.i.i, align 8
  %1 = and i8 %0, 1
  %tobool.not.i.i = icmp eq i8 %1, 0
  br i1 %tobool.not.i.i, label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEE31StorageNonTriviallyDestructibleD2Ev.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %entry
  store i8 0, ptr %hasValue.i.i, align 8
  %2 = load ptr, ptr %this, align 8
  %_M_finish.i.i.i = getelementptr inbounds %"struct.std::_Vector_base<fizz::ech::ECHConfig, std::allocator<fizz::ech::ECHConfig>>::_Vector_impl_data", ptr %this, i64 0, i32 1
  %3 = load ptr, ptr %_M_finish.i.i.i, align 8
  %cmp.not3.i.i.i.i.i.i = icmp eq ptr %2, %3
  br i1 %cmp.not3.i.i.i.i.i.i, label %invoke.cont.i.i.i, label %for.body.i.i.i.i.i.i

for.body.i.i.i.i.i.i:                             ; preds = %if.then.i.i, %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i
  %__first.addr.04.i.i.i.i.i.i = phi ptr [ %incdec.ptr.i.i.i.i.i.i, %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i ], [ %2, %if.then.i.i ]
  %ech_config_content.i.i.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::ech::ECHConfig", ptr %__first.addr.04.i.i.i.i.i.i, i64 0, i32 1
  %4 = load ptr, ptr %ech_config_content.i.i.i.i.i.i.i.i, align 8
  %cmp.not.i.i.i.i.i.i.i.i.i = icmp eq ptr %4, null
  br i1 %cmp.not.i.i.i.i.i.i.i.i.i, label %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i.i.i: ; preds = %for.body.i.i.i.i.i.i
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %4) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %4) #28
  br label %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i

_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i.i.i, %for.body.i.i.i.i.i.i
  store ptr null, ptr %ech_config_content.i.i.i.i.i.i.i.i, align 8
  %incdec.ptr.i.i.i.i.i.i = getelementptr inbounds %"struct.fizz::ech::ECHConfig", ptr %__first.addr.04.i.i.i.i.i.i, i64 1
  %cmp.not.i.i.i.i.i.i = icmp eq ptr %incdec.ptr.i.i.i.i.i.i, %3
  br i1 %cmp.not.i.i.i.i.i.i, label %invoke.contthread-pre-split.i.i.i, label %for.body.i.i.i.i.i.i, !llvm.loop !44

invoke.contthread-pre-split.i.i.i:                ; preds = %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i
  %.pr.i.i.i = load ptr, ptr %this, align 8
  br label %invoke.cont.i.i.i

invoke.cont.i.i.i:                                ; preds = %invoke.contthread-pre-split.i.i.i, %if.then.i.i
  %5 = phi ptr [ %.pr.i.i.i, %invoke.contthread-pre-split.i.i.i ], [ %2, %if.then.i.i ]
  %tobool.not.i.i.i.i.i = icmp eq ptr %5, null
  br i1 %tobool.not.i.i.i.i.i, label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEE31StorageNonTriviallyDestructibleD2Ev.exit, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %invoke.cont.i.i.i
  tail call void @_ZdlPv(ptr noundef nonnull %5) #31
  br label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEE31StorageNonTriviallyDestructibleD2Ev.exit

_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEE31StorageNonTriviallyDestructibleD2Ev.exit: ; preds = %entry, %invoke.cont.i.i.i, %if.then.i.i.i.i.i
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz18ClientPresharedKeyD2Ev(ptr noundef nonnull align 8 dereferenceable(48) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %binders = getelementptr inbounds %"struct.fizz::ClientPresharedKey", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %binders, align 8
  %_M_finish.i = getelementptr inbounds %"struct.fizz::ClientPresharedKey", ptr %this, i64 0, i32 1, i32 0, i32 0, i32 0, i32 1
  %1 = load ptr, ptr %_M_finish.i, align 8
  %cmp.not3.i.i.i.i = icmp eq ptr %0, %1
  br i1 %cmp.not3.i.i.i.i, label %invoke.cont.i, label %for.body.i.i.i.i

for.body.i.i.i.i:                                 ; preds = %entry, %_ZSt8_DestroyIN4fizz9PskBinderEEvPT_.exit.i.i.i.i
  %__first.addr.04.i.i.i.i = phi ptr [ %incdec.ptr.i.i.i.i, %_ZSt8_DestroyIN4fizz9PskBinderEEvPT_.exit.i.i.i.i ], [ %0, %entry ]
  %2 = load ptr, ptr %__first.addr.04.i.i.i.i, align 8
  %cmp.not.i.i.i.i.i.i.i = icmp eq ptr %2, null
  br i1 %cmp.not.i.i.i.i.i.i.i, label %_ZSt8_DestroyIN4fizz9PskBinderEEvPT_.exit.i.i.i.i, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i: ; preds = %for.body.i.i.i.i
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %2) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %2) #28
  br label %_ZSt8_DestroyIN4fizz9PskBinderEEvPT_.exit.i.i.i.i

_ZSt8_DestroyIN4fizz9PskBinderEEvPT_.exit.i.i.i.i: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i, %for.body.i.i.i.i
  store ptr null, ptr %__first.addr.04.i.i.i.i, align 8
  %incdec.ptr.i.i.i.i = getelementptr inbounds %"struct.fizz::PskBinder", ptr %__first.addr.04.i.i.i.i, i64 1
  %cmp.not.i.i.i.i = icmp eq ptr %incdec.ptr.i.i.i.i, %1
  br i1 %cmp.not.i.i.i.i, label %invoke.contthread-pre-split.i, label %for.body.i.i.i.i, !llvm.loop !116

invoke.contthread-pre-split.i:                    ; preds = %_ZSt8_DestroyIN4fizz9PskBinderEEvPT_.exit.i.i.i.i
  %.pr.i = load ptr, ptr %binders, align 8
  br label %invoke.cont.i

invoke.cont.i:                                    ; preds = %invoke.contthread-pre-split.i, %entry
  %3 = phi ptr [ %.pr.i, %invoke.contthread-pre-split.i ], [ %0, %entry ]
  %tobool.not.i.i.i = icmp eq ptr %3, null
  br i1 %tobool.not.i.i.i, label %_ZNSt6vectorIN4fizz9PskBinderESaIS1_EED2Ev.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %invoke.cont.i
  tail call void @_ZdlPv(ptr noundef nonnull %3) #31
  br label %_ZNSt6vectorIN4fizz9PskBinderESaIS1_EED2Ev.exit

_ZNSt6vectorIN4fizz9PskBinderESaIS1_EED2Ev.exit:  ; preds = %invoke.cont.i, %if.then.i.i.i
  %4 = load ptr, ptr %this, align 8
  %_M_finish.i1 = getelementptr inbounds %"struct.std::_Vector_base<fizz::PskIdentity, std::allocator<fizz::PskIdentity>>::_Vector_impl_data", ptr %this, i64 0, i32 1
  %5 = load ptr, ptr %_M_finish.i1, align 8
  %cmp.not3.i.i.i.i2 = icmp eq ptr %4, %5
  br i1 %cmp.not3.i.i.i.i2, label %invoke.cont.i11, label %for.body.i.i.i.i3

for.body.i.i.i.i3:                                ; preds = %_ZNSt6vectorIN4fizz9PskBinderESaIS1_EED2Ev.exit, %_ZSt8_DestroyIN4fizz11PskIdentityEEvPT_.exit.i.i.i.i
  %__first.addr.04.i.i.i.i4 = phi ptr [ %incdec.ptr.i.i.i.i7, %_ZSt8_DestroyIN4fizz11PskIdentityEEvPT_.exit.i.i.i.i ], [ %4, %_ZNSt6vectorIN4fizz9PskBinderESaIS1_EED2Ev.exit ]
  %6 = load ptr, ptr %__first.addr.04.i.i.i.i4, align 8
  %cmp.not.i.i.i.i.i.i.i5 = icmp eq ptr %6, null
  br i1 %cmp.not.i.i.i.i.i.i.i5, label %_ZSt8_DestroyIN4fizz11PskIdentityEEvPT_.exit.i.i.i.i, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i6

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i6: ; preds = %for.body.i.i.i.i3
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %6) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %6) #28
  br label %_ZSt8_DestroyIN4fizz11PskIdentityEEvPT_.exit.i.i.i.i

_ZSt8_DestroyIN4fizz11PskIdentityEEvPT_.exit.i.i.i.i: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i6, %for.body.i.i.i.i3
  store ptr null, ptr %__first.addr.04.i.i.i.i4, align 8
  %incdec.ptr.i.i.i.i7 = getelementptr inbounds %"struct.fizz::PskIdentity", ptr %__first.addr.04.i.i.i.i4, i64 1
  %cmp.not.i.i.i.i8 = icmp eq ptr %incdec.ptr.i.i.i.i7, %5
  br i1 %cmp.not.i.i.i.i8, label %invoke.contthread-pre-split.i9, label %for.body.i.i.i.i3, !llvm.loop !117

invoke.contthread-pre-split.i9:                   ; preds = %_ZSt8_DestroyIN4fizz11PskIdentityEEvPT_.exit.i.i.i.i
  %.pr.i10 = load ptr, ptr %this, align 8
  br label %invoke.cont.i11

invoke.cont.i11:                                  ; preds = %invoke.contthread-pre-split.i9, %_ZNSt6vectorIN4fizz9PskBinderESaIS1_EED2Ev.exit
  %7 = phi ptr [ %.pr.i10, %invoke.contthread-pre-split.i9 ], [ %4, %_ZNSt6vectorIN4fizz9PskBinderESaIS1_EED2Ev.exit ]
  %tobool.not.i.i.i12 = icmp eq ptr %7, null
  br i1 %tobool.not.i.i.i12, label %_ZNSt6vectorIN4fizz11PskIdentityESaIS1_EED2Ev.exit, label %if.then.i.i.i13

if.then.i.i.i13:                                  ; preds = %invoke.cont.i11
  tail call void @_ZdlPv(ptr noundef nonnull %7) #31
  br label %_ZNSt6vectorIN4fizz11PskIdentityESaIS1_EED2Ev.exit

_ZNSt6vectorIN4fizz11PskIdentityESaIS1_EED2Ev.exit: ; preds = %invoke.cont.i11, %if.then.i.i.i13
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz6client15EarlyDataParamsD2Ev(ptr noundef nonnull align 8 dereferenceable(88) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %earlyExporterSecret = getelementptr inbounds %"struct.fizz::client::EarlyDataParams", ptr %this, i64 0, i32 5
  %0 = load ptr, ptr %earlyExporterSecret, align 8
  %cmp.not.i = icmp eq ptr %0, null
  br i1 %cmp.not.i, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i: ; preds = %entry
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %0) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %0) #28
  br label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit: ; preds = %entry, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i
  store ptr null, ptr %earlyExporterSecret, align 8
  %hasValue.i.i.i = getelementptr inbounds %"struct.fizz::client::EarlyDataParams", ptr %this, i64 0, i32 4, i32 0, i32 1
  %1 = load i8, ptr %hasValue.i.i.i, align 8
  %2 = and i8 %1, 1
  %tobool.not.i.i.i = icmp eq i8 %2, 0
  br i1 %tobool.not.i.i.i, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit
  %alpn = getelementptr inbounds %"struct.fizz::client::EarlyDataParams", ptr %this, i64 0, i32 4
  store i8 0, ptr %hasValue.i.i.i, align 8
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %alpn) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit: ; preds = %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit, %if.then.i.i.i
  %_M_refcount.i.i = getelementptr inbounds %"struct.fizz::client::EarlyDataParams", ptr %this, i64 0, i32 3, i32 0, i32 1
  %3 = load ptr, ptr %_M_refcount.i.i, align 8
  %cmp.not.i.i.i = icmp eq ptr %3, null
  br i1 %cmp.not.i.i.i, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit, label %if.then.i.i.i1

if.then.i.i.i1:                                   ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit
  %_M_use_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %3, i64 0, i32 1
  %4 = load atomic i64, ptr %_M_use_count.i.i.i.i acquire, align 8
  %cmp.i.i.i.i = icmp eq i64 %4, 4294967297
  %5 = trunc i64 %4 to i32
  br i1 %cmp.i.i.i.i, label %if.then.i.i.i.i, label %if.end.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %if.then.i.i.i1
  store i32 0, ptr %_M_use_count.i.i.i.i, align 8
  %_M_weak_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %3, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i, align 4
  %vtable.i.i.i.i = load ptr, ptr %3, align 8
  %vfn.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i, i64 2
  %6 = load ptr, ptr %vfn.i.i.i.i, align 8
  tail call void %6(ptr noundef nonnull align 8 dereferenceable(16) %3) #28
  br label %if.end8.sink.split.i.i.i.i

if.end.i.i.i.i:                                   ; preds = %if.then.i.i.i1
  %7 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i = icmp eq i8 %7, 0
  br i1 %tobool.i.not.i.i.i.i, label %if.else.i.i.i.i.i, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %add.i.i.i.i.i = add nsw i32 %5, -1
  store i32 %add.i.i.i.i.i, ptr %_M_use_count.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

if.else.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %8 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i: ; preds = %if.else.i.i.i.i.i, %if.then.i.i.i.i.i
  %retval.i.0.i.i.i.i = phi i32 [ %5, %if.then.i.i.i.i.i ], [ %8, %if.else.i.i.i.i.i ]
  %cmp6.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i, label %if.then7.i.i.i.i, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit

if.then7.i.i.i.i:                                 ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i
  %vtable.i.i.i.i.i.i = load ptr, ptr %3, align 8
  %vfn.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i, i64 2
  %9 = load ptr, ptr %vfn.i.i.i.i.i.i, align 8
  tail call void %9(ptr noundef nonnull align 8 dereferenceable(16) %3) #28
  %_M_weak_count.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %3, i64 0, i32 2
  %10 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i = icmp eq i8 %10, 0
  br i1 %tobool.i.not.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %11 = load i32, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i.i = add nsw i32 %11, -1
  store i32 %add.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %12 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i = phi i32 [ %11, %if.then.i.i.i.i.i.i.i ], [ %12, %if.else.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit

if.end8.sink.split.i.i.i.i:                       ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.then.i.i.i.i
  %vtable2.i.i.i.i.i.i = load ptr, ptr %3, align 8
  %vfn3.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i, i64 3
  %13 = load ptr, ptr %vfn3.i.i.i.i.i.i, align 8
  tail call void %13(ptr noundef nonnull align 8 dereferenceable(16) %3) #28
  br label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit

_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.end8.sink.split.i.i.i.i
  %_M_refcount.i.i2 = getelementptr inbounds %"struct.fizz::client::EarlyDataParams", ptr %this, i64 0, i32 2, i32 0, i32 1
  %14 = load ptr, ptr %_M_refcount.i.i2, align 8
  %cmp.not.i.i.i3 = icmp eq ptr %14, null
  br i1 %cmp.not.i.i.i3, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit33, label %if.then.i.i.i4

if.then.i.i.i4:                                   ; preds = %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit
  %_M_use_count.i.i.i.i5 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %14, i64 0, i32 1
  %15 = load atomic i64, ptr %_M_use_count.i.i.i.i5 acquire, align 8
  %cmp.i.i.i.i6 = icmp eq i64 %15, 4294967297
  %16 = trunc i64 %15 to i32
  br i1 %cmp.i.i.i.i6, label %if.then.i.i.i.i29, label %if.end.i.i.i.i7

if.then.i.i.i.i29:                                ; preds = %if.then.i.i.i4
  store i32 0, ptr %_M_use_count.i.i.i.i5, align 8
  %_M_weak_count.i.i.i.i30 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %14, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i30, align 4
  %vtable.i.i.i.i31 = load ptr, ptr %14, align 8
  %vfn.i.i.i.i32 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i31, i64 2
  %17 = load ptr, ptr %vfn.i.i.i.i32, align 8
  tail call void %17(ptr noundef nonnull align 8 dereferenceable(16) %14) #28
  br label %if.end8.sink.split.i.i.i.i24

if.end.i.i.i.i7:                                  ; preds = %if.then.i.i.i4
  %18 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i8 = icmp eq i8 %18, 0
  br i1 %tobool.i.not.i.i.i.i8, label %if.else.i.i.i.i.i28, label %if.then.i.i.i.i.i9

if.then.i.i.i.i.i9:                               ; preds = %if.end.i.i.i.i7
  %add.i.i.i.i.i10 = add nsw i32 %16, -1
  store i32 %add.i.i.i.i.i10, ptr %_M_use_count.i.i.i.i5, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i11

if.else.i.i.i.i.i28:                              ; preds = %if.end.i.i.i.i7
  %19 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i5, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i11

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i11: ; preds = %if.else.i.i.i.i.i28, %if.then.i.i.i.i.i9
  %retval.i.0.i.i.i.i12 = phi i32 [ %16, %if.then.i.i.i.i.i9 ], [ %19, %if.else.i.i.i.i.i28 ]
  %cmp6.i.i.i.i13 = icmp eq i32 %retval.i.0.i.i.i.i12, 1
  br i1 %cmp6.i.i.i.i13, label %if.then7.i.i.i.i14, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit33

if.then7.i.i.i.i14:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i11
  %vtable.i.i.i.i.i.i15 = load ptr, ptr %14, align 8
  %vfn.i.i.i.i.i.i16 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i15, i64 2
  %20 = load ptr, ptr %vfn.i.i.i.i.i.i16, align 8
  tail call void %20(ptr noundef nonnull align 8 dereferenceable(16) %14) #28
  %_M_weak_count.i.i.i.i.i.i17 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %14, i64 0, i32 2
  %21 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i18 = icmp eq i8 %21, 0
  br i1 %tobool.i.not.i.i.i.i.i.i18, label %if.else.i.i.i.i.i.i.i27, label %if.then.i.i.i.i.i.i.i19

if.then.i.i.i.i.i.i.i19:                          ; preds = %if.then7.i.i.i.i14
  %22 = load i32, ptr %_M_weak_count.i.i.i.i.i.i17, align 4
  %add.i.i.i.i.i.i.i20 = add nsw i32 %22, -1
  store i32 %add.i.i.i.i.i.i.i20, ptr %_M_weak_count.i.i.i.i.i.i17, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i21

if.else.i.i.i.i.i.i.i27:                          ; preds = %if.then7.i.i.i.i14
  %23 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i17, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i21

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i21: ; preds = %if.else.i.i.i.i.i.i.i27, %if.then.i.i.i.i.i.i.i19
  %retval.i.0.i.i.i.i.i.i22 = phi i32 [ %22, %if.then.i.i.i.i.i.i.i19 ], [ %23, %if.else.i.i.i.i.i.i.i27 ]
  %cmp.i.i.i.i.i.i23 = icmp eq i32 %retval.i.0.i.i.i.i.i.i22, 1
  br i1 %cmp.i.i.i.i.i.i23, label %if.end8.sink.split.i.i.i.i24, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit33

if.end8.sink.split.i.i.i.i24:                     ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i21, %if.then.i.i.i.i29
  %vtable2.i.i.i.i.i.i25 = load ptr, ptr %14, align 8
  %vfn3.i.i.i.i.i.i26 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i25, i64 3
  %24 = load ptr, ptr %vfn3.i.i.i.i.i.i26, align 8
  tail call void %24(ptr noundef nonnull align 8 dereferenceable(16) %14) #28
  br label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit33

_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit33: ; preds = %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i11, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i21, %if.end8.sink.split.i.i.i.i24
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E17appCloseImmediateEv(ptr noundef nonnull align 8 dereferenceable(163) %this) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp = alloca %"struct.fizz::detail::PendingEvent", align 8
  %type_.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %ref.tmp, i64 0, i32 1
  store i32 2, ptr %type_.i, align 8
  store i32 0, ptr %ref.tmp, align 8
  %_M_finish.i.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7, i32 0, i32 0, i32 0, i32 3
  %0 = load ptr, ptr %_M_finish.i.i, align 8
  %_M_last.i.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7, i32 0, i32 0, i32 0, i32 3, i32 2
  %1 = load ptr, ptr %_M_last.i.i, align 8
  %add.ptr.i.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %1, i64 -1
  %cmp.not.i.i = icmp eq ptr %0, %add.ptr.i.i
  br i1 %cmp.not.i.i, label %if.else.i.i, label %invoke.cont.thread

invoke.cont.thread:                               ; preds = %entry
  store i32 0, ptr %0, align 8
  %type_6.i.i.i.i.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %0, i64 0, i32 1
  store i32 2, ptr %type_6.i.i.i.i.i, align 8
  %2 = load ptr, ptr %_M_finish.i.i, align 8
  %incdec.ptr.i.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %2, i64 1
  store ptr %incdec.ptr.i.i, ptr %_M_finish.i.i, align 8
  br label %_ZN4fizz6detail12PendingEventD2Ev.exit

if.else.i.i:                                      ; preds = %entry
  %pendingEvents_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7
  invoke void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE16_M_push_back_auxIJS2_EEEvDpOT_(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_, ptr noundef nonnull align 8 dereferenceable(36) %ref.tmp)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %if.else.i.i
  %.pre = load i32, ptr %type_.i, align 8
  switch i32 %.pre, label %_ZN4fizz6detail12PendingEventD2Ev.exit [
    i32 0, label %sw.bb.i.i
    i32 1, label %sw.bb2.i.i
    i32 3, label %sw.bb4.i.i
  ]

sw.bb.i.i:                                        ; preds = %invoke.cont
  %data.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %ref.tmp, i64 0, i32 1
  %3 = load ptr, ptr %data.i.i.i, align 8
  %cmp.not.i.i.i.i = icmp eq ptr %3, null
  br i1 %cmp.not.i.i.i.i, label %sw.epilog.sink.split.i.i, label %sw.epilog.sink.split.sink.split.i.i

sw.bb2.i.i:                                       ; preds = %invoke.cont
  %data.i1.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %ref.tmp, i64 0, i32 1
  %4 = load ptr, ptr %data.i1.i.i, align 8
  %cmp.not.i.i2.i.i = icmp eq ptr %4, null
  br i1 %cmp.not.i.i2.i.i, label %sw.epilog.sink.split.i.i, label %sw.epilog.sink.split.sink.split.i.i

sw.bb4.i.i:                                       ; preds = %invoke.cont
  %5 = load ptr, ptr %ref.tmp, align 8
  %cmp.not.i.i4.i.i = icmp eq ptr %5, null
  br i1 %cmp.not.i.i4.i.i, label %sw.epilog.sink.split.i.i, label %sw.epilog.sink.split.sink.split.i.i

sw.epilog.sink.split.sink.split.i.i:              ; preds = %sw.bb4.i.i, %sw.bb2.i.i, %sw.bb.i.i
  %.sink6.i.i = phi ptr [ %3, %sw.bb.i.i ], [ %4, %sw.bb2.i.i ], [ %5, %sw.bb4.i.i ]
  %this.sink.ph.i.i = phi ptr [ %data.i.i.i, %sw.bb.i.i ], [ %data.i1.i.i, %sw.bb2.i.i ], [ %ref.tmp, %sw.bb4.i.i ]
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %.sink6.i.i) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %.sink6.i.i) #28
  br label %sw.epilog.sink.split.i.i

sw.epilog.sink.split.i.i:                         ; preds = %sw.epilog.sink.split.sink.split.i.i, %sw.bb4.i.i, %sw.bb2.i.i, %sw.bb.i.i
  %this.sink.i.i = phi ptr [ %data.i.i.i, %sw.bb.i.i ], [ %data.i1.i.i, %sw.bb2.i.i ], [ %ref.tmp, %sw.bb4.i.i ], [ %this.sink.ph.i.i, %sw.epilog.sink.split.sink.split.i.i ]
  store ptr null, ptr %this.sink.i.i, align 8
  br label %_ZN4fizz6detail12PendingEventD2Ev.exit

_ZN4fizz6detail12PendingEventD2Ev.exit:           ; preds = %invoke.cont.thread, %invoke.cont, %sw.epilog.sink.split.i.i
  call void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E20processPendingEventsEv(ptr noundef nonnull align 8 dereferenceable(163) %this)
  ret void

lpad:                                             ; preds = %if.else.i.i
  %6 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN4fizz6detail12PendingEventD2Ev(ptr noundef nonnull align 8 dereferenceable(36) %ref.tmp) #28
  resume { ptr, i32 } %6
}

declare void @_ZN5folly12AsyncTimeout15attachEventBaseEPNS_9EventBaseENS_14TimeoutManager12InternalEnumE(ptr noundef nonnull align 8 dereferenceable(192), ptr noundef, i32 noundef) local_unnamed_addr #0

declare void @_ZN5folly12AsyncTimeout15detachEventBaseEv(ptr noundef nonnull align 8 dereferenceable(192)) local_unnamed_addr #0

declare noundef zeroext i1 @_ZNK5folly12AsyncTimeout11isScheduledEv(ptr noundef nonnull align 8 dereferenceable(192)) local_unnamed_addr #0

declare void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1ERKS4_(ptr noundef nonnull align 8 dereferenceable(32), ptr noundef nonnull align 8 dereferenceable(32)) unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNK4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E25getExportedKeyingMaterialERKNS_7FactoryEN5folly5RangeIPKcEESt10unique_ptrINSC_5IOBufESt14default_deleteISI_EEt(ptr noalias sret(%"class.std::unique_ptr.30") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(163) %this, ptr noundef nonnull align 8 dereferenceable(8) %factory, ptr %label.coerce0, ptr %label.coerce1, ptr noundef %context, i16 noundef zeroext %length) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %agg.tmp7 = alloca %"class.folly::Range", align 8
  %agg.tmp8 = alloca %"class.std::unique_ptr.30", align 8
  %state_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 2
  %0 = load ptr, ptr %state_, align 8
  %hasValue.i.i.i.i = getelementptr inbounds %"class.fizz::client::State", ptr %0, i64 0, i32 14, i32 0, i32 1
  %1 = load i8, ptr %hasValue.i.i.i.i, align 2, !noalias !118
  %2 = and i8 %1, 1
  %tobool.i.i.not.i.i = icmp eq i8 %2, 0
  br i1 %tobool.i.i.not.i.i, label %if.then.i.i.i, label %_ZNO5folly8OptionalIN4fizz11CipherSuiteEEdeEv.exit

if.then.i.i.i:                                    ; preds = %entry
  tail call void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() #32
  unreachable

_ZNO5folly8OptionalIN4fizz11CipherSuiteEEdeEv.exit: ; preds = %entry
  %cipher_.i = getelementptr inbounds %"class.fizz::client::State", ptr %0, i64 0, i32 14
  %3 = load i16, ptr %cipher_.i, align 2, !noalias !118
  %hasValue.i.i.i2 = getelementptr inbounds %"class.fizz::client::State", ptr %0, i64 0, i32 42, i32 0, i32 1
  %4 = load i8, ptr %hasValue.i.i.i2, align 8
  %5 = and i8 %4, 1
  %tobool.not.i.i.i3 = icmp eq i8 %5, 0
  br i1 %tobool.not.i.i.i3, label %if.then.i.i.i4, label %_ZNKR5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEEdeEv.exit

if.then.i.i.i4:                                   ; preds = %_ZNO5folly8OptionalIN4fizz11CipherSuiteEEdeEv.exit
  tail call void @_ZN5folly6detail16throw_exception_INS_22OptionalEmptyExceptionEJEEEvDpT0_() #32
  unreachable

_ZNKR5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEEdeEv.exit: ; preds = %_ZNO5folly8OptionalIN4fizz11CipherSuiteEEdeEv.exit
  %exporterMasterSecret_.i = getelementptr inbounds %"class.fizz::client::State", ptr %0, i64 0, i32 42
  %6 = load ptr, ptr %exporterMasterSecret_.i, align 8
  %next_.i.i = getelementptr inbounds %"class.folly::IOBuf", ptr %6, i64 0, i32 4
  %7 = load ptr, ptr %next_.i.i, align 8
  %cmp.i.not.i = icmp eq ptr %7, %6
  br i1 %cmp.i.not.i, label %_ZN5folly5IOBuf8coalesceEv.exit, label %if.then.i

if.then.i:                                        ; preds = %_ZNKR5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEEdeEv.exit
  %data_.i.i = getelementptr inbounds %"class.folly::IOBuf", ptr %6, i64 0, i32 1
  %8 = load ptr, ptr %data_.i.i, align 8
  %buf_.i.i.i = getelementptr inbounds %"class.folly::IOBuf", ptr %6, i64 0, i32 3
  %9 = load ptr, ptr %buf_.i.i.i, align 8
  %sub.ptr.lhs.cast.i.i = ptrtoint ptr %8 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint ptr %9 to i64
  %sub.ptr.sub.i.i = sub i64 %sub.ptr.lhs.cast.i.i, %sub.ptr.rhs.cast.i.i
  %prev_.i.i = getelementptr inbounds %"class.folly::IOBuf", ptr %6, i64 0, i32 5
  %10 = load ptr, ptr %prev_.i.i, align 8
  %buf_.i.i1.i = getelementptr inbounds %"class.folly::IOBuf", ptr %10, i64 0, i32 3
  %11 = load ptr, ptr %buf_.i.i1.i, align 8
  %capacity_.i.i.i = getelementptr inbounds %"class.folly::IOBuf", ptr %10, i64 0, i32 2
  %12 = load i64, ptr %capacity_.i.i.i, align 8
  %add.ptr.i.i.i = getelementptr inbounds i8, ptr %11, i64 %12
  %data_.i.i.i = getelementptr inbounds %"class.folly::IOBuf", ptr %10, i64 0, i32 1
  %13 = load ptr, ptr %data_.i.i.i, align 8
  %14 = load i64, ptr %10, align 8
  %add.ptr.i1.i.i = getelementptr inbounds i8, ptr %13, i64 %14
  %sub.ptr.lhs.cast.i2.i = ptrtoint ptr %add.ptr.i.i.i to i64
  %sub.ptr.rhs.cast.i3.i = ptrtoint ptr %add.ptr.i1.i.i to i64
  %sub.ptr.sub.i4.i = sub i64 %sub.ptr.lhs.cast.i2.i, %sub.ptr.rhs.cast.i3.i
  %call5.i = tail call noundef i64 @_ZNK5folly5IOBuf22computeChainDataLengthEv(ptr noundef nonnull align 8 dereferenceable(56) %6)
  tail call void @_ZN5folly5IOBuf21coalesceAndReallocateEmmPS0_m(ptr noundef nonnull align 8 dereferenceable(56) %6, i64 noundef %sub.ptr.sub.i.i, i64 noundef %call5.i, ptr noundef nonnull %6, i64 noundef %sub.ptr.sub.i4.i)
  br label %_ZN5folly5IOBuf8coalesceEv.exit

_ZN5folly5IOBuf8coalesceEv.exit:                  ; preds = %_ZNKR5folly8OptionalISt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEEdeEv.exit, %if.then.i
  %data_.i = getelementptr inbounds %"class.folly::IOBuf", ptr %6, i64 0, i32 1
  %15 = load ptr, ptr %data_.i, align 8
  %16 = load i64, ptr %6, align 8
  %add.ptr.i.i = getelementptr inbounds i8, ptr %15, i64 %16
  store ptr %label.coerce0, ptr %agg.tmp7, align 8
  %label.sroa.2.0.agg.tmp7.sroa_idx = getelementptr inbounds i8, ptr %agg.tmp7, i64 8
  store ptr %label.coerce1, ptr %label.sroa.2.0.agg.tmp7.sroa_idx, align 8
  %17 = load i64, ptr %context, align 8
  store i64 %17, ptr %agg.tmp8, align 8
  store ptr null, ptr %context, align 8
  invoke void @_ZN4fizz8Exporter25getExportedKeyingMaterialERKNS_7FactoryENS_11CipherSuiteEN5folly5RangeIPKhEENS6_IPKcEESt10unique_ptrINS5_5IOBufESt14default_deleteISE_EEt(ptr sret(%"class.std::unique_ptr.30") align 8 %agg.result, ptr noundef nonnull align 8 dereferenceable(8) %factory, i16 noundef zeroext %3, ptr %15, ptr %add.ptr.i.i, ptr noundef nonnull byval(%"class.folly::Range") align 8 %agg.tmp7, ptr noundef nonnull %agg.tmp8, i16 noundef zeroext %length)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %_ZN5folly5IOBuf8coalesceEv.exit
  %18 = load ptr, ptr %agg.tmp8, align 8
  %cmp.not.i = icmp eq ptr %18, null
  br i1 %cmp.not.i, label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i: ; preds = %invoke.cont
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %18) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %18) #28
  br label %_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit

_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev.exit: ; preds = %invoke.cont, %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i
  ret void

lpad:                                             ; preds = %_ZN5folly5IOBuf8coalesceEv.exit
  %19 = landingpad { ptr, i32 }
          cleanup
  call void @_ZNSt10unique_ptrIN5folly5IOBufESt14default_deleteIS1_EED2Ev(ptr noundef nonnull align 8 dereferenceable(8) %agg.tmp8) #28
  resume { ptr, i32 } %19
}

declare void @_ZN4fizz8Exporter25getExportedKeyingMaterialERKNS_7FactoryENS_11CipherSuiteEN5folly5RangeIPKhEENS6_IPKcEESt10unique_ptrINS5_5IOBufESt14default_deleteISE_EEt(ptr sret(%"class.std::unique_ptr.30") align 8, ptr noundef nonnull align 8 dereferenceable(8), i16 noundef zeroext, ptr, ptr, ptr noundef byval(%"class.folly::Range") align 8, ptr noundef, i16 noundef zeroext) local_unnamed_addr #0

declare void @_ZN5folly5IOBuf21coalesceAndReallocateEmmPS0_m(ptr noundef nonnull align 8 dereferenceable(56), i64 noundef, i64 noundef, ptr noundef, i64 noundef) local_unnamed_addr #0

declare noundef i64 @_ZNK5folly5IOBuf22computeChainDataLengthEv(ptr noundef nonnull align 8 dereferenceable(56)) local_unnamed_addr #0

declare void @_ZN5folly5IOBuf10wrapBufferEPKvm(ptr sret(%"class.std::unique_ptr.30") align 8, ptr noundef, i64 noundef) local_unnamed_addr #0

declare void @_ZN5folly5IOBuf7wrapIovEPK5iovecm(ptr sret(%"class.std::unique_ptr.30") align 8, ptr noundef, i64 noundef) local_unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E8appCloseEv(ptr noundef nonnull align 8 dereferenceable(163) %this) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp = alloca %"struct.fizz::detail::PendingEvent", align 8
  %type_.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %ref.tmp, i64 0, i32 1
  store i32 2, ptr %type_.i, align 8
  store i32 1, ptr %ref.tmp, align 8
  %_M_finish.i.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7, i32 0, i32 0, i32 0, i32 3
  %0 = load ptr, ptr %_M_finish.i.i, align 8
  %_M_last.i.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7, i32 0, i32 0, i32 0, i32 3, i32 2
  %1 = load ptr, ptr %_M_last.i.i, align 8
  %add.ptr.i.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %1, i64 -1
  %cmp.not.i.i = icmp eq ptr %0, %add.ptr.i.i
  br i1 %cmp.not.i.i, label %if.else.i.i, label %invoke.cont.thread

invoke.cont.thread:                               ; preds = %entry
  store i32 1, ptr %0, align 8
  %type_6.i.i.i.i.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %0, i64 0, i32 1
  store i32 2, ptr %type_6.i.i.i.i.i, align 8
  %2 = load ptr, ptr %_M_finish.i.i, align 8
  %incdec.ptr.i.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %2, i64 1
  store ptr %incdec.ptr.i.i, ptr %_M_finish.i.i, align 8
  br label %_ZN4fizz6detail12PendingEventD2Ev.exit

if.else.i.i:                                      ; preds = %entry
  %pendingEvents_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7
  invoke void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE16_M_push_back_auxIJS2_EEEvDpOT_(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_, ptr noundef nonnull align 8 dereferenceable(36) %ref.tmp)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %if.else.i.i
  %.pre = load i32, ptr %type_.i, align 8
  switch i32 %.pre, label %_ZN4fizz6detail12PendingEventD2Ev.exit [
    i32 0, label %sw.bb.i.i
    i32 1, label %sw.bb2.i.i
    i32 3, label %sw.bb4.i.i
  ]

sw.bb.i.i:                                        ; preds = %invoke.cont
  %data.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %ref.tmp, i64 0, i32 1
  %3 = load ptr, ptr %data.i.i.i, align 8
  %cmp.not.i.i.i.i = icmp eq ptr %3, null
  br i1 %cmp.not.i.i.i.i, label %sw.epilog.sink.split.i.i, label %sw.epilog.sink.split.sink.split.i.i

sw.bb2.i.i:                                       ; preds = %invoke.cont
  %data.i1.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %ref.tmp, i64 0, i32 1
  %4 = load ptr, ptr %data.i1.i.i, align 8
  %cmp.not.i.i2.i.i = icmp eq ptr %4, null
  br i1 %cmp.not.i.i2.i.i, label %sw.epilog.sink.split.i.i, label %sw.epilog.sink.split.sink.split.i.i

sw.bb4.i.i:                                       ; preds = %invoke.cont
  %5 = load ptr, ptr %ref.tmp, align 8
  %cmp.not.i.i4.i.i = icmp eq ptr %5, null
  br i1 %cmp.not.i.i4.i.i, label %sw.epilog.sink.split.i.i, label %sw.epilog.sink.split.sink.split.i.i

sw.epilog.sink.split.sink.split.i.i:              ; preds = %sw.bb4.i.i, %sw.bb2.i.i, %sw.bb.i.i
  %.sink6.i.i = phi ptr [ %3, %sw.bb.i.i ], [ %4, %sw.bb2.i.i ], [ %5, %sw.bb4.i.i ]
  %this.sink.ph.i.i = phi ptr [ %data.i.i.i, %sw.bb.i.i ], [ %data.i1.i.i, %sw.bb2.i.i ], [ %ref.tmp, %sw.bb4.i.i ]
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %.sink6.i.i) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %.sink6.i.i) #28
  br label %sw.epilog.sink.split.i.i

sw.epilog.sink.split.i.i:                         ; preds = %sw.epilog.sink.split.sink.split.i.i, %sw.bb4.i.i, %sw.bb2.i.i, %sw.bb.i.i
  %this.sink.i.i = phi ptr [ %data.i.i.i, %sw.bb.i.i ], [ %data.i1.i.i, %sw.bb2.i.i ], [ %ref.tmp, %sw.bb4.i.i ], [ %this.sink.ph.i.i, %sw.epilog.sink.split.sink.split.i.i ]
  store ptr null, ptr %this.sink.i.i, align 8
  br label %_ZN4fizz6detail12PendingEventD2Ev.exit

_ZN4fizz6detail12PendingEventD2Ev.exit:           ; preds = %invoke.cont.thread, %invoke.cont, %sw.epilog.sink.split.i.i
  call void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E20processPendingEventsEv(ptr noundef nonnull align 8 dereferenceable(163) %this)
  ret void

lpad:                                             ; preds = %if.else.i.i
  %6 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN4fizz6detail12PendingEventD2Ev(ptr noundef nonnull align 8 dereferenceable(36) %ref.tmp) #28
  resume { ptr, i32 } %6
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_E17initiateKeyUpdateENS_19KeyUpdateInitiationE(ptr noundef nonnull align 8 dereferenceable(163) %this, i8 %keyUpdateInitiation.coerce) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i.i.i.i.i = alloca %struct.Initializer, align 1
  %agg.tmp = alloca %"class.folly::small_vector.437", align 16
  %machine_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 1
  %state_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 2
  %0 = load ptr, ptr %state_, align 8
  call void @_ZN4fizz6client18ClientStateMachine26processKeyUpdateInitiationERKNS0_5StateENS_19KeyUpdateInitiationE(ptr nonnull sret(%"class.folly::small_vector.437") align 16 %agg.tmp, ptr noundef nonnull align 8 dereferenceable(8) %machine_, ptr noundef nonnull align 8 dereferenceable(1096) %0, i8 %keyUpdateInitiation.coerce)
  invoke void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E20addProcessingActionsEN5folly12small_vectorINS1_6ActionELm4EvEE(ptr noundef nonnull align 8 dereferenceable(163) %this, ptr noundef nonnull %agg.tmp)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %entry
  %1 = load i64, ptr %agg.tmp, align 16
  %u.i.i.i = getelementptr inbounds %"class.folly::small_vector.437", ptr %agg.tmp, i64 0, i32 2
  %2 = load ptr, ptr %u.i.i.i, align 16
  %tobool.not1.i.i.i = icmp slt i64 %1, 0
  %cond.i.i.i = select i1 %tobool.not1.i.i.i, ptr %2, ptr %u.i.i.i
  %and.i.i.i.i = and i64 %1, 4611686018427387903
  %add.ptr.i.i = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i, i64 %and.i.i.i.i
  %cmp.not7.i = icmp eq i64 %and.i.i.i.i, 0
  br i1 %cmp.not7.i, label %for.end.i, label %for.body.i

for.body.i:                                       ; preds = %invoke.cont, %for.body.i
  %__begin0.08.i = phi ptr [ %incdec.ptr.i, %for.body.i ], [ %cond.i.i.i, %invoke.cont ]
  call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08.i)
  %incdec.ptr.i = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08.i, i64 1
  %cmp.not.i = icmp eq ptr %incdec.ptr.i, %add.ptr.i.i
  br i1 %cmp.not.i, label %for.end.i.loopexit, label %for.body.i

for.end.i.loopexit:                               ; preds = %for.body.i
  %.pre = load i64, ptr %agg.tmp, align 16
  br label %for.end.i

for.end.i:                                        ; preds = %for.end.i.loopexit, %invoke.cont
  %3 = phi i64 [ %.pre, %for.end.i.loopexit ], [ %1, %invoke.cont ]
  %tobool.not.i = icmp sgt i64 %3, -1
  br i1 %tobool.not.i, label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit, label %lor.lhs.false.i

lor.lhs.false.i:                                  ; preds = %for.end.i
  %4 = load ptr, ptr %u.i.i.i, align 16
  %tobool2.not.i = icmp eq ptr %4, null
  br i1 %tobool2.not.i, label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit, label %if.then4.i

if.then4.i:                                       ; preds = %lor.lhs.false.i
  %capacity_.i.i.i = getelementptr inbounds %"class.folly::small_vector.437", ptr %agg.tmp, i64 0, i32 2, i32 0, i32 1
  %5 = load i64, ptr %capacity_.i.i.i, align 8
  %mul.i = mul i64 %5, 208
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i)
  %6 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i.i = icmp eq i8 %6, 0
  br i1 %guard.uninitialized.i.i.i.i.i, label %init.check.i.i.i.i.i, label %_ZN5folly11canSdallocxEv.exit.i.i, !prof !81

init.check.i.i.i.i.i:                             ; preds = %if.then4.i
  %7 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i.i = icmp eq i32 %7, 0
  br i1 %tobool.i.not.i.i.i.i, label %_ZN5folly11canSdallocxEv.exit.i.i, label %init.i.i.i.i.i

init.i.i.i.i.i:                                   ; preds = %init.check.i.i.i.i.i
  %call.i.i.i.i.i = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i.i)
  %frombool.i.i.i.i.i = zext i1 %call.i.i.i.i.i to i8
  store i8 %frombool.i.i.i.i.i, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i.i

_ZN5folly11canSdallocxEv.exit.i.i:                ; preds = %init.i.i.i.i.i, %init.check.i.i.i.i.i, %if.then4.i
  %8 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %9 = and i8 %8, 1
  %tobool1.i.i.i.not.i.i = icmp eq i8 %9, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i)
  br i1 %tobool1.i.i.i.not.i.i, label %if.else.i.i, label %if.then.i.i

if.then.i.i:                                      ; preds = %_ZN5folly11canSdallocxEv.exit.i.i
  call void @sdallocx(ptr noundef nonnull %4, i64 noundef %mul.i, i32 noundef 0) #28
  br label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit

if.else.i.i:                                      ; preds = %_ZN5folly11canSdallocxEv.exit.i.i
  call void @free(ptr noundef nonnull %4) #28
  br label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit

_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit: ; preds = %if.else.i.i, %if.then.i.i, %lor.lhs.false.i, %for.end.i
  ret void

lpad:                                             ; preds = %entry
  %10 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev(ptr noundef nonnull align 16 dereferenceable(848) %agg.tmp) #28
  resume { ptr, i32 } %10
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E20addProcessingActionsEN5folly12small_vectorINS1_6ActionELm4EvEE(ptr noundef nonnull align 8 dereferenceable(163) %this, ptr noundef %actions) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i.i.i.i.i = alloca %struct.Initializer, align 1
  %agg.tmp = alloca %"class.folly::small_vector.437", align 16
  %actionGuard_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 10
  %hasValue.i.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 10, i32 0, i32 1
  %0 = load i8, ptr %hasValue.i.i, align 8
  %1 = and i8 %0, 1
  %tobool.i.i.not = icmp eq i8 %1, 0
  br i1 %tobool.i.i.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  %exception = tail call ptr @__cxa_allocate_exception(i64 16) #28
  invoke void @_ZNSt13runtime_errorC1EPKc(ptr noundef nonnull align 8 dereferenceable(16) %exception, ptr noundef nonnull @.str.39)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %if.then
  tail call void @__cxa_throw(ptr nonnull %exception, ptr nonnull @_ZTISt13runtime_error, ptr nonnull @_ZNSt13runtime_errorD1Ev) #33
  unreachable

lpad:                                             ; preds = %if.then
  %2 = landingpad { ptr, i32 }
          cleanup
  tail call void @__cxa_free_exception(ptr %exception) #28
  br label %eh.resume

if.end:                                           ; preds = %entry
  %owner_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 6
  %3 = load ptr, ptr %owner_, align 8
  %cmp.not.i = icmp eq ptr %3, null
  br i1 %cmp.not.i, label %_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit, label %if.then.i

if.then.i:                                        ; preds = %if.end
  %guardCount_.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %3, i64 0, i32 1
  %4 = load i32, ptr %guardCount_.i, align 8
  %inc.i = add i32 %4, 1
  store i32 %inc.i, ptr %guardCount_.i, align 8
  %.pre = load i8, ptr %hasValue.i.i, align 8
  br label %_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit

_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit: ; preds = %if.end, %if.then.i
  %5 = phi i8 [ %0, %if.end ], [ %.pre, %if.then.i ]
  %6 = and i8 %5, 1
  %tobool.i.i.not.i.i = icmp eq i8 %6, 0
  br i1 %tobool.i.i.not.i.i, label %if.else.i.i, label %if.then.i.i

if.then.i.i:                                      ; preds = %_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit
  %7 = load ptr, ptr %actionGuard_, align 8
  store ptr %3, ptr %actionGuard_, align 8
  %cmp.not.i.i.i = icmp eq ptr %7, null
  br i1 %cmp.not.i.i.i, label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %if.then.i.i
  %guardCount_.i.i.i = getelementptr inbounds %"class.folly::DelayedDestructionBase", ptr %7, i64 0, i32 1
  %8 = load i32, ptr %guardCount_.i.i.i, align 8
  %dec.i.i.i = add i32 %8, -1
  store i32 %dec.i.i.i, ptr %guardCount_.i.i.i, align 8
  %cmp5.i.i.i = icmp eq i32 %dec.i.i.i, 0
  br i1 %cmp5.i.i.i, label %if.then6.i.i.i, label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit

if.then6.i.i.i:                                   ; preds = %if.then.i.i.i
  %vtable.i.i.i = load ptr, ptr %7, align 8
  %vfn.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i, i64 2
  %9 = load ptr, ptr %vfn.i.i.i, align 8
  invoke void %9(ptr noundef nonnull align 8 dereferenceable(12) %7, i1 noundef zeroext true)
          to label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit unwind label %terminate.lpad.i.i.i

terminate.lpad.i.i.i:                             ; preds = %if.then6.i.i.i
  %10 = landingpad { ptr, i32 }
          catch ptr null
  %11 = extractvalue { ptr, i32 } %10, 0
  tail call void @__clang_call_terminate(ptr %11) #30
  unreachable

if.else.i.i:                                      ; preds = %_ZN5folly22DelayedDestructionBase15DestructorGuardC2EPS0_.exit
  store ptr %3, ptr %actionGuard_, align 8
  store i8 1, ptr %hasValue.i.i, align 8
  br label %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit

_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit: ; preds = %if.then.i.i.i, %if.then6.i.i.i, %if.then.i.i, %if.else.i.i
  call void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvEC2EOS4_(ptr noundef nonnull align 16 dereferenceable(848) %agg.tmp, ptr noundef nonnull align 16 dereferenceable(848) %actions)
  invoke void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E14processActionsERN5folly12small_vectorINS1_6ActionELm4EvEE(ptr noundef nonnull align 8 dereferenceable(163) %this, ptr noundef nonnull align 16 dereferenceable(848) %agg.tmp)
          to label %invoke.cont7 unwind label %lpad6

invoke.cont7:                                     ; preds = %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit
  %12 = load i64, ptr %agg.tmp, align 16
  %u.i.i.i = getelementptr inbounds %"class.folly::small_vector.437", ptr %agg.tmp, i64 0, i32 2
  %13 = load ptr, ptr %u.i.i.i, align 16
  %tobool.not1.i.i.i = icmp slt i64 %12, 0
  %cond.i.i.i = select i1 %tobool.not1.i.i.i, ptr %13, ptr %u.i.i.i
  %and.i.i.i.i = and i64 %12, 4611686018427387903
  %add.ptr.i.i = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i, i64 %and.i.i.i.i
  %cmp.not7.i = icmp eq i64 %and.i.i.i.i, 0
  br i1 %cmp.not7.i, label %for.end.i, label %for.body.i

for.body.i:                                       ; preds = %invoke.cont7, %for.body.i
  %__begin0.08.i = phi ptr [ %incdec.ptr.i, %for.body.i ], [ %cond.i.i.i, %invoke.cont7 ]
  call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08.i)
  %incdec.ptr.i = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08.i, i64 1
  %cmp.not.i5 = icmp eq ptr %incdec.ptr.i, %add.ptr.i.i
  br i1 %cmp.not.i5, label %for.end.i.loopexit, label %for.body.i

for.end.i.loopexit:                               ; preds = %for.body.i
  %.pre10 = load i64, ptr %agg.tmp, align 16
  br label %for.end.i

for.end.i:                                        ; preds = %for.end.i.loopexit, %invoke.cont7
  %14 = phi i64 [ %.pre10, %for.end.i.loopexit ], [ %12, %invoke.cont7 ]
  %tobool.not.i = icmp sgt i64 %14, -1
  br i1 %tobool.not.i, label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit, label %lor.lhs.false.i

lor.lhs.false.i:                                  ; preds = %for.end.i
  %15 = load ptr, ptr %u.i.i.i, align 16
  %tobool2.not.i = icmp eq ptr %15, null
  br i1 %tobool2.not.i, label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit, label %if.then4.i

if.then4.i:                                       ; preds = %lor.lhs.false.i
  %capacity_.i.i.i = getelementptr inbounds %"class.folly::small_vector.437", ptr %agg.tmp, i64 0, i32 2, i32 0, i32 1
  %16 = load i64, ptr %capacity_.i.i.i, align 8
  %mul.i = mul i64 %16, 208
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i)
  %17 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i.i = icmp eq i8 %17, 0
  br i1 %guard.uninitialized.i.i.i.i.i, label %init.check.i.i.i.i.i, label %_ZN5folly11canSdallocxEv.exit.i.i, !prof !81

init.check.i.i.i.i.i:                             ; preds = %if.then4.i
  %18 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i.i = icmp eq i32 %18, 0
  br i1 %tobool.i.not.i.i.i.i, label %_ZN5folly11canSdallocxEv.exit.i.i, label %init.i.i.i.i.i

init.i.i.i.i.i:                                   ; preds = %init.check.i.i.i.i.i
  %call.i.i.i.i.i = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i.i)
  %frombool.i.i.i.i.i = zext i1 %call.i.i.i.i.i to i8
  store i8 %frombool.i.i.i.i.i, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i.i

_ZN5folly11canSdallocxEv.exit.i.i:                ; preds = %init.i.i.i.i.i, %init.check.i.i.i.i.i, %if.then4.i
  %19 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %20 = and i8 %19, 1
  %tobool1.i.i.i.not.i.i = icmp eq i8 %20, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i)
  br i1 %tobool1.i.i.i.not.i.i, label %if.else.i.i8, label %if.then.i.i7

if.then.i.i7:                                     ; preds = %_ZN5folly11canSdallocxEv.exit.i.i
  call void @sdallocx(ptr noundef nonnull %15, i64 noundef %mul.i, i32 noundef 0) #28
  br label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit

if.else.i.i8:                                     ; preds = %_ZN5folly11canSdallocxEv.exit.i.i
  call void @free(ptr noundef nonnull %15) #28
  br label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit

_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit: ; preds = %if.else.i.i8, %if.then.i.i7, %lor.lhs.false.i, %for.end.i
  ret void

lpad6:                                            ; preds = %_ZN5folly22DelayedDestructionBase15DestructorGuardD2Ev.exit
  %21 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev(ptr noundef nonnull align 16 dereferenceable(848) %agg.tmp) #28
  br label %eh.resume

eh.resume:                                        ; preds = %lpad6, %lpad
  %.pn = phi { ptr, i32 } [ %2, %lpad ], [ %21, %lpad6 ]
  resume { ptr, i32 } %.pn
}

declare void @_ZN4fizz6client18ClientStateMachine26processKeyUpdateInitiationERKNS0_5StateENS_19KeyUpdateInitiationE(ptr sret(%"class.folly::small_vector.437") align 16, ptr noundef nonnull align 8 dereferenceable(8), ptr noundef nonnull align 8 dereferenceable(1096), i8) unnamed_addr #0

declare void @_ZNK5folly5IOBuf5cloneEv(ptr sret(%"class.std::unique_ptr.30") align 8, ptr noundef nonnull align 8 dereferenceable(56)) local_unnamed_addr #0

declare void @_ZN5folly10IOBufQueue6appendEOSt10unique_ptrINS_5IOBufESt14default_deleteIS2_EEbb(ptr noundef nonnull align 8 dereferenceable(72), ptr noundef nonnull align 8 dereferenceable(8), i1 noundef zeroext, i1 noundef zeroext) local_unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E13earlyAppWriteENS_13EarlyAppWriteE(ptr noundef nonnull align 8 dereferenceable(163) %this, ptr noundef %w) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp = alloca %"struct.fizz::detail::PendingEvent", align 8
  %type_.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %ref.tmp, i64 0, i32 1
  store i32 1, ptr %type_.i, align 8
  %0 = load ptr, ptr %w, align 8
  store ptr %0, ptr %ref.tmp, align 8
  %data.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %ref.tmp, i64 0, i32 1
  %data3.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %w, i64 0, i32 1
  %1 = load i64, ptr %data3.i.i, align 8
  store i64 %1, ptr %data.i.i, align 8
  store ptr null, ptr %data3.i.i, align 8
  %flags.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %ref.tmp, i64 0, i32 2
  %flags4.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %w, i64 0, i32 2
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i.i, ptr noundef nonnull align 8 dereferenceable(12) %flags4.i.i, i64 12, i1 false)
  %_M_finish.i.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7, i32 0, i32 0, i32 0, i32 3
  %2 = load ptr, ptr %_M_finish.i.i, align 8
  %_M_last.i.i = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7, i32 0, i32 0, i32 0, i32 3, i32 2
  %3 = load ptr, ptr %_M_last.i.i, align 8
  %add.ptr.i.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %3, i64 -1
  %cmp.not.i.i = icmp eq ptr %2, %add.ptr.i.i
  br i1 %cmp.not.i.i, label %if.else.i.i, label %invoke.cont.thread

invoke.cont.thread:                               ; preds = %entry
  store ptr %0, ptr %2, align 8
  %data.i6.i.i.i.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %2, i64 0, i32 1
  store i64 %1, ptr %data.i6.i.i.i.i.i, align 8
  store ptr null, ptr %data.i.i, align 8
  %flags.i8.i.i.i.i.i = getelementptr inbounds %"struct.fizz::EarlyAppWrite", ptr %2, i64 0, i32 2
  call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i8.i.i.i.i.i, ptr noundef nonnull align 8 dereferenceable(12) %flags.i.i, i64 12, i1 false)
  %type_6.i.i.i.i.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %2, i64 0, i32 1
  store i32 1, ptr %type_6.i.i.i.i.i, align 8
  %4 = load ptr, ptr %_M_finish.i.i, align 8
  %incdec.ptr.i.i = getelementptr inbounds %"struct.fizz::detail::PendingEvent", ptr %4, i64 1
  store ptr %incdec.ptr.i.i, ptr %_M_finish.i.i, align 8
  br label %sw.bb2.i.i

if.else.i.i:                                      ; preds = %entry
  %pendingEvents_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 7
  invoke void @_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE16_M_push_back_auxIJS2_EEEvDpOT_(ptr noundef nonnull align 8 dereferenceable(80) %pendingEvents_, ptr noundef nonnull align 8 dereferenceable(36) %ref.tmp)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %if.else.i.i
  %.pre = load i32, ptr %type_.i, align 8
  switch i32 %.pre, label %_ZN4fizz6detail12PendingEventD2Ev.exit [
    i32 0, label %sw.bb.i.i
    i32 1, label %sw.bb2.i.i
    i32 3, label %sw.bb4.i.i
  ]

sw.bb.i.i:                                        ; preds = %invoke.cont
  %5 = load ptr, ptr %data.i.i, align 8
  %cmp.not.i.i.i.i = icmp eq ptr %5, null
  br i1 %cmp.not.i.i.i.i, label %sw.epilog.sink.split.i.i, label %sw.epilog.sink.split.sink.split.i.i

sw.bb2.i.i:                                       ; preds = %invoke.cont.thread, %invoke.cont
  %6 = load ptr, ptr %data.i.i, align 8
  %cmp.not.i.i2.i.i = icmp eq ptr %6, null
  br i1 %cmp.not.i.i2.i.i, label %sw.epilog.sink.split.i.i, label %sw.epilog.sink.split.sink.split.i.i

sw.bb4.i.i:                                       ; preds = %invoke.cont
  %7 = load ptr, ptr %ref.tmp, align 8
  %cmp.not.i.i4.i.i = icmp eq ptr %7, null
  br i1 %cmp.not.i.i4.i.i, label %sw.epilog.sink.split.i.i, label %sw.epilog.sink.split.sink.split.i.i

sw.epilog.sink.split.sink.split.i.i:              ; preds = %sw.bb4.i.i, %sw.bb2.i.i, %sw.bb.i.i
  %.sink6.i.i = phi ptr [ %5, %sw.bb.i.i ], [ %6, %sw.bb2.i.i ], [ %7, %sw.bb4.i.i ]
  %this.sink.ph.i.i = phi ptr [ %data.i.i, %sw.bb.i.i ], [ %data.i.i, %sw.bb2.i.i ], [ %ref.tmp, %sw.bb4.i.i ]
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %.sink6.i.i) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %.sink6.i.i) #28
  br label %sw.epilog.sink.split.i.i

sw.epilog.sink.split.i.i:                         ; preds = %sw.epilog.sink.split.sink.split.i.i, %sw.bb4.i.i, %sw.bb2.i.i, %sw.bb.i.i
  %this.sink.i.i = phi ptr [ %data.i.i, %sw.bb.i.i ], [ %data.i.i, %sw.bb2.i.i ], [ %ref.tmp, %sw.bb4.i.i ], [ %this.sink.ph.i.i, %sw.epilog.sink.split.sink.split.i.i ]
  store ptr null, ptr %this.sink.i.i, align 8
  br label %_ZN4fizz6detail12PendingEventD2Ev.exit

_ZN4fizz6detail12PendingEventD2Ev.exit:           ; preds = %invoke.cont, %sw.epilog.sink.split.i.i
  call void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E20processPendingEventsEv(ptr noundef nonnull align 8 dereferenceable(163) %this)
  ret void

lpad:                                             ; preds = %if.else.i.i
  %8 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN4fizz6detail12PendingEventD2Ev(ptr noundef nonnull align 8 dereferenceable(36) %ref.tmp) #28
  resume { ptr, i32 } %8
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE16_M_push_back_auxIJS1_EEEvDpOT_(ptr noundef nonnull align 8 dereferenceable(80) %this, ptr noundef nonnull align 8 dereferenceable(28) %__args) local_unnamed_addr #3 comdat align 2 {
entry:
  %_M_finish.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 3
  %_M_start.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 2
  %_M_node.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 3
  %0 = load ptr, ptr %_M_node.i.i, align 8
  %_M_node1.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 3
  %1 = load ptr, ptr %_M_node1.i.i, align 8
  %sub.ptr.lhs.cast.i.i = ptrtoint ptr %0 to i64
  %sub.ptr.rhs.cast.i.i = ptrtoint ptr %1 to i64
  %sub.ptr.sub.i.i = sub i64 %sub.ptr.lhs.cast.i.i, %sub.ptr.rhs.cast.i.i
  %sub.ptr.div.i.i = ashr exact i64 %sub.ptr.sub.i.i, 3
  %tobool.i.i = icmp ne ptr %0, null
  %conv.neg.i.i = sext i1 %tobool.i.i to i64
  %sub.i.i = add nsw i64 %sub.ptr.div.i.i, %conv.neg.i.i
  %mul.i.i = shl nsw i64 %sub.i.i, 4
  %2 = load ptr, ptr %_M_finish.i, align 8
  %_M_first.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 1
  %3 = load ptr, ptr %_M_first.i.i, align 8
  %sub.ptr.lhs.cast3.i.i = ptrtoint ptr %2 to i64
  %sub.ptr.rhs.cast4.i.i = ptrtoint ptr %3 to i64
  %sub.ptr.sub5.i.i = sub i64 %sub.ptr.lhs.cast3.i.i, %sub.ptr.rhs.cast4.i.i
  %sub.ptr.div6.i.i = ashr exact i64 %sub.ptr.sub5.i.i, 5
  %add.i.i = add nsw i64 %mul.i.i, %sub.ptr.div6.i.i
  %_M_last.i.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 2
  %4 = load ptr, ptr %_M_last.i.i, align 8
  %5 = load ptr, ptr %_M_start.i, align 8
  %sub.ptr.lhs.cast8.i.i = ptrtoint ptr %4 to i64
  %sub.ptr.rhs.cast9.i.i = ptrtoint ptr %5 to i64
  %sub.ptr.sub10.i.i = sub i64 %sub.ptr.lhs.cast8.i.i, %sub.ptr.rhs.cast9.i.i
  %sub.ptr.div11.i.i = ashr exact i64 %sub.ptr.sub10.i.i, 5
  %add12.i.i = add nsw i64 %add.i.i, %sub.ptr.div11.i.i
  %cmp = icmp eq i64 %add12.i.i, 288230376151711743
  br i1 %cmp, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  tail call void @_ZSt20__throw_length_errorPKc(ptr noundef nonnull @.str.7) #33
  unreachable

if.end:                                           ; preds = %entry
  %_M_map_size.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 1
  %6 = load i64, ptr %_M_map_size.i, align 8
  %7 = load ptr, ptr %this, align 8
  %sub.ptr.rhs.cast.i = ptrtoint ptr %7 to i64
  %sub.ptr.sub.i = sub i64 %sub.ptr.lhs.cast.i.i, %sub.ptr.rhs.cast.i
  %sub.ptr.div.i = ashr exact i64 %sub.ptr.sub.i, 3
  %sub.i = sub i64 %6, %sub.ptr.div.i
  %cmp.i = icmp ult i64 %sub.i, 2
  br i1 %cmp.i, label %if.then.i, label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE22_M_reserve_map_at_backEm.exit

if.then.i:                                        ; preds = %if.end
  tail call void @_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE17_M_reallocate_mapEmb(ptr noundef nonnull align 8 dereferenceable(80) %this, i64 noundef 1, i1 noundef zeroext false)
  %.pre = load ptr, ptr %_M_node.i.i, align 8
  br label %_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE22_M_reserve_map_at_backEm.exit

_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE22_M_reserve_map_at_backEm.exit: ; preds = %if.end, %if.then.i
  %8 = phi ptr [ %0, %if.end ], [ %.pre, %if.then.i ]
  %call5.i.i.i = tail call noalias noundef nonnull dereferenceable(512) ptr @_Znwm(i64 noundef 512) #29
  %add.ptr = getelementptr inbounds ptr, ptr %8, i64 1
  store ptr %call5.i.i.i, ptr %add.ptr, align 8
  %9 = load ptr, ptr %_M_finish.i, align 8
  %10 = load ptr, ptr %__args, align 8
  store ptr %10, ptr %9, align 8
  %data.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %9, i64 0, i32 1
  %data3.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %__args, i64 0, i32 1
  %11 = load i64, ptr %data3.i.i.i, align 8
  store i64 %11, ptr %data.i.i.i, align 8
  store ptr null, ptr %data3.i.i.i, align 8
  %flags.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %9, i64 0, i32 2
  %flags4.i.i.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %__args, i64 0, i32 2
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(12) %flags.i.i.i, ptr noundef nonnull align 8 dereferenceable(12) %flags4.i.i.i, i64 12, i1 false)
  %12 = load ptr, ptr %_M_node.i.i, align 8
  %add.ptr12 = getelementptr inbounds ptr, ptr %12, i64 1
  store ptr %add.ptr12, ptr %_M_node.i.i, align 8
  %13 = load ptr, ptr %add.ptr12, align 8
  store ptr %13, ptr %_M_first.i.i, align 8
  %add.ptr.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %13, i64 16
  %_M_last.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 2
  store ptr %add.ptr.i, ptr %_M_last.i, align 8
  store ptr %13, ptr %_M_finish.i, align 8
  ret void
}

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE17_M_reallocate_mapEmb(ptr noundef nonnull align 8 dereferenceable(80) %this, i64 noundef %__nodes_to_add, i1 noundef zeroext %__add_at_front) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %_M_node = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 3
  %0 = load ptr, ptr %_M_node, align 8
  %_M_node3 = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 3
  %1 = load ptr, ptr %_M_node3, align 8
  %sub.ptr.lhs.cast = ptrtoint ptr %0 to i64
  %sub.ptr.rhs.cast = ptrtoint ptr %1 to i64
  %sub.ptr.sub = sub i64 %sub.ptr.lhs.cast, %sub.ptr.rhs.cast
  %sub.ptr.div = ashr exact i64 %sub.ptr.sub, 3
  %add = add nsw i64 %sub.ptr.div, 1
  %add4 = add i64 %add, %__nodes_to_add
  %_M_map_size = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 1
  %2 = load i64, ptr %_M_map_size, align 8
  %mul = shl i64 %add4, 1
  %cmp = icmp ugt i64 %2, %mul
  br i1 %cmp, label %if.then, label %if.else31

if.then:                                          ; preds = %entry
  %3 = load ptr, ptr %this, align 8
  %sub = sub i64 %2, %add4
  %div17 = lshr i64 %sub, 1
  %add.ptr = getelementptr inbounds ptr, ptr %3, i64 %div17
  %cond = select i1 %__add_at_front, i64 %__nodes_to_add, i64 0
  %add.ptr9 = getelementptr inbounds ptr, ptr %add.ptr, i64 %cond
  %cmp13 = icmp ult ptr %add.ptr9, %1
  %add.ptr21 = getelementptr inbounds ptr, ptr %0, i64 1
  %tobool.not.i.i.i.i.i = icmp eq ptr %add.ptr21, %1
  br i1 %cmp13, label %if.then14, label %if.else

if.then14:                                        ; preds = %if.then
  br i1 %tobool.not.i.i.i.i.i, label %if.end65, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.then14
  %sub.ptr.lhs.cast.i.i.i.i.i = ptrtoint ptr %add.ptr21 to i64
  %sub.ptr.sub.i.i.i.i.i = sub i64 %sub.ptr.lhs.cast.i.i.i.i.i, %sub.ptr.rhs.cast
  tail call void @llvm.memmove.p0.p0.i64(ptr align 8 %add.ptr9, ptr nonnull align 8 %1, i64 %sub.ptr.sub.i.i.i.i.i, i1 false)
  br label %if.end65

if.else:                                          ; preds = %if.then
  br i1 %tobool.not.i.i.i.i.i, label %if.end65, label %if.then.i.i.i.i.i23

if.then.i.i.i.i.i23:                              ; preds = %if.else
  %sub.ptr.lhs.cast.i.i.i.i.i18 = ptrtoint ptr %add.ptr21 to i64
  %sub.ptr.sub.i.i.i.i.i20 = sub i64 %sub.ptr.lhs.cast.i.i.i.i.i18, %sub.ptr.rhs.cast
  %sub.ptr.div.i.i.i.i.i21 = ashr exact i64 %sub.ptr.sub.i.i.i.i.i20, 3
  %.pre.i.i.i.i.i = sub nsw i64 0, %sub.ptr.div.i.i.i.i.i21
  %add.ptr29 = getelementptr inbounds ptr, ptr %add.ptr9, i64 %add
  %add.ptr.i.i.i.i.i24 = getelementptr inbounds ptr, ptr %add.ptr29, i64 %.pre.i.i.i.i.i
  tail call void @llvm.memmove.p0.p0.i64(ptr align 8 %add.ptr.i.i.i.i.i24, ptr align 8 %1, i64 %sub.ptr.sub.i.i.i.i.i20, i1 false)
  br label %if.end65

if.else31:                                        ; preds = %entry
  %.sroa.speculated = tail call i64 @llvm.umax.i64(i64 %2, i64 %__nodes_to_add)
  %add37 = add i64 %2, 2
  %add38 = add i64 %add37, %.sroa.speculated
  %cmp.i.i.i = icmp ugt i64 %add38, 1152921504606846975
  br i1 %cmp.i.i.i, label %if.then.i.i.i, label %_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE15_M_allocate_mapEm.exit

if.then.i.i.i:                                    ; preds = %if.else31
  %cmp2.i.i.i = icmp ugt i64 %add38, 2305843009213693951
  br i1 %cmp2.i.i.i, label %if.then3.i.i.i, label %if.end.i.i.i

if.then3.i.i.i:                                   ; preds = %if.then.i.i.i
  tail call void @_ZSt28__throw_bad_array_new_lengthv() #33
  unreachable

if.end.i.i.i:                                     ; preds = %if.then.i.i.i
  tail call void @_ZSt17__throw_bad_allocv() #33
  unreachable

_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE15_M_allocate_mapEm.exit: ; preds = %if.else31
  %mul.i.i.i = shl nuw nsw i64 %add38, 3
  %call5.i.i2.i = tail call noalias noundef nonnull ptr @_Znwm(i64 noundef %mul.i.i.i) #29
  %sub40 = sub i64 %add38, %add4
  %div4116 = lshr i64 %sub40, 1
  %add.ptr42 = getelementptr inbounds ptr, ptr %call5.i.i2.i, i64 %div4116
  %cond47 = select i1 %__add_at_front, i64 %__nodes_to_add, i64 0
  %add.ptr48 = getelementptr inbounds ptr, ptr %add.ptr42, i64 %cond47
  %add.ptr55 = getelementptr inbounds ptr, ptr %0, i64 1
  %tobool.not.i.i.i.i.i28 = icmp eq ptr %add.ptr55, %1
  br i1 %tobool.not.i.i.i.i.i28, label %_ZSt4copyIPPN4fizz8AppWriteES3_ET0_T_S5_S4_.exit32, label %if.then.i.i.i.i.i29

if.then.i.i.i.i.i29:                              ; preds = %_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE15_M_allocate_mapEm.exit
  %sub.ptr.lhs.cast.i.i.i.i.i25 = ptrtoint ptr %add.ptr55 to i64
  %sub.ptr.sub.i.i.i.i.i27 = sub i64 %sub.ptr.lhs.cast.i.i.i.i.i25, %sub.ptr.rhs.cast
  tail call void @llvm.memmove.p0.p0.i64(ptr nonnull align 8 %add.ptr48, ptr align 8 %1, i64 %sub.ptr.sub.i.i.i.i.i27, i1 false)
  br label %_ZSt4copyIPPN4fizz8AppWriteES3_ET0_T_S5_S4_.exit32

_ZSt4copyIPPN4fizz8AppWriteES3_ET0_T_S5_S4_.exit32: ; preds = %_ZNSt11_Deque_baseIN4fizz8AppWriteESaIS1_EE15_M_allocate_mapEm.exit, %if.then.i.i.i.i.i29
  %4 = load ptr, ptr %this, align 8
  tail call void @_ZdlPv(ptr noundef %4) #31
  store ptr %call5.i.i2.i, ptr %this, align 8
  store i64 %add38, ptr %_M_map_size, align 8
  br label %if.end65

if.end65:                                         ; preds = %if.then.i.i.i.i.i, %if.then14, %if.then.i.i.i.i.i23, %if.else, %_ZSt4copyIPPN4fizz8AppWriteES3_ET0_T_S5_S4_.exit32
  %__new_nstart.0 = phi ptr [ %add.ptr48, %_ZSt4copyIPPN4fizz8AppWriteES3_ET0_T_S5_S4_.exit32 ], [ %add.ptr9, %if.else ], [ %add.ptr9, %if.then.i.i.i.i.i23 ], [ %add.ptr9, %if.then14 ], [ %add.ptr9, %if.then.i.i.i.i.i ]
  store ptr %__new_nstart.0, ptr %_M_node3, align 8
  %5 = load ptr, ptr %__new_nstart.0, align 8
  %_M_first.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 1
  store ptr %5, ptr %_M_first.i, align 8
  %add.ptr.i = getelementptr inbounds %"struct.fizz::AppWrite", ptr %5, i64 16
  %_M_last.i = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 2, i32 2
  store ptr %add.ptr.i, ptr %_M_last.i, align 8
  %add.ptr70 = getelementptr inbounds ptr, ptr %__new_nstart.0, i64 %add
  %add.ptr71 = getelementptr inbounds ptr, ptr %add.ptr70, i64 -1
  store ptr %add.ptr71, ptr %_M_node, align 8
  %6 = load ptr, ptr %add.ptr71, align 8
  %_M_first.i34 = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 1
  store ptr %6, ptr %_M_first.i34, align 8
  %add.ptr.i35 = getelementptr inbounds %"struct.fizz::AppWrite", ptr %6, i64 16
  %_M_last.i36 = getelementptr inbounds %"struct.std::_Deque_base<fizz::AppWrite, std::allocator<fizz::AppWrite>>::_Deque_impl_data", ptr %this, i64 0, i32 3, i32 2
  store ptr %add.ptr.i35, ptr %_M_last.i36, align 8
  ret void
}

declare void @_ZN5folly5IOBuf14unshareChainedEv(ptr noundef nonnull align 8 dereferenceable(56)) local_unnamed_addr #0

declare void @_ZN5folly5IOBuf14unshareOneSlowEv(ptr noundef nonnull align 8 dereferenceable(56)) local_unnamed_addr #0

; Function Attrs: mustprogress uwtable
define linkonce_odr void @_ZN4fizz6client10FizzClientINS0_16AsyncFizzClientTINS0_18ClientStateMachineEE17ActionMoveVisitorES3_E7connectESt10shared_ptrIKNS0_17FizzClientContextEES7_IKNS_19CertificateVerifierEEN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEENSF_INS0_9CachedPskEEENSF_ISt6vectorINS_3ech9ECHConfigESaISR_EEEERKS7_INS_16ClientExtensionsEE(ptr noundef nonnull align 8 dereferenceable(163) %this, ptr noundef %context, ptr noundef %verifier, ptr noundef %sni, ptr noundef %cachedPsk, ptr noundef %echConfigs, ptr noundef nonnull align 8 dereferenceable(16) %extensions) local_unnamed_addr #3 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %ref.tmp.i.i.i.i.i = alloca %struct.Initializer, align 1
  %agg.tmp = alloca %"class.folly::small_vector.437", align 16
  %agg.tmp2 = alloca %"class.std::shared_ptr", align 16
  %agg.tmp3 = alloca %"class.std::shared_ptr.0", align 16
  %agg.tmp4 = alloca %"class.folly::Optional", align 8
  %agg.tmp5 = alloca %"class.folly::Optional.188", align 8
  %agg.tmp6 = alloca %"class.folly::Optional.162", align 16
  %machine_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 1
  %state_ = getelementptr inbounds %"class.fizz::FizzBase", ptr %this, i64 0, i32 2
  %0 = load ptr, ptr %state_, align 8
  %_M_refcount.i.i = getelementptr inbounds %"class.std::__shared_ptr", ptr %agg.tmp2, i64 0, i32 1
  %_M_refcount4.i.i = getelementptr inbounds %"class.std::__shared_ptr", ptr %context, i64 0, i32 1
  %1 = load <2 x ptr>, ptr %context, align 8
  store ptr null, ptr %_M_refcount4.i.i, align 8
  store <2 x ptr> %1, ptr %agg.tmp2, align 16
  store ptr null, ptr %context, align 8
  %_M_refcount.i.i2 = getelementptr inbounds %"class.std::__shared_ptr.1", ptr %agg.tmp3, i64 0, i32 1
  %_M_refcount4.i.i3 = getelementptr inbounds %"class.std::__shared_ptr.1", ptr %verifier, i64 0, i32 1
  %2 = load <2 x ptr>, ptr %verifier, align 8
  store ptr null, ptr %_M_refcount4.i.i3, align 8
  store <2 x ptr> %2, ptr %agg.tmp3, align 16
  store ptr null, ptr %verifier, align 8
  %hasValue.i.i = getelementptr inbounds %"struct.folly::Optional<std::__cxx11::basic_string<char>>::StorageNonTriviallyDestructible", ptr %agg.tmp4, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i, align 8
  %hasValue.i.i.i = getelementptr inbounds %"struct.folly::Optional<std::__cxx11::basic_string<char>>::StorageNonTriviallyDestructible", ptr %sni, i64 0, i32 1
  %3 = load i8, ptr %hasValue.i.i.i, align 8
  %4 = and i8 %3, 1
  %tobool.i.i.not.i = icmp eq i8 %4, 0
  br i1 %tobool.i.i.not.i, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit, label %invoke.cont2.i

invoke.cont2.i:                                   ; preds = %entry
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1EOS4_(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp4, ptr noundef nonnull align 8 dereferenceable(32) %sni) #28
  store i8 1, ptr %hasValue.i.i, align 8
  %5 = load i8, ptr %hasValue.i.i.i, align 8
  %6 = and i8 %5, 1
  %tobool.not.i.i6.i = icmp eq i8 %6, 0
  br i1 %tobool.not.i.i6.i, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit, label %if.then.i.i7.i

if.then.i.i7.i:                                   ; preds = %invoke.cont2.i
  store i8 0, ptr %hasValue.i.i.i, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %sni) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit: ; preds = %entry, %invoke.cont2.i, %if.then.i.i7.i
  %hasValue.i.i4 = getelementptr inbounds %"struct.folly::Optional<fizz::client::CachedPsk>::StorageNonTriviallyDestructible", ptr %agg.tmp5, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i4, align 8
  %hasValue.i.i.i5 = getelementptr inbounds %"struct.folly::Optional<fizz::client::CachedPsk>::StorageNonTriviallyDestructible", ptr %cachedPsk, i64 0, i32 1
  %7 = load i8, ptr %hasValue.i.i.i5, align 8
  %8 = and i8 %7, 1
  %tobool.i.i.not.i6 = icmp eq i8 %8, 0
  br i1 %tobool.i.i.not.i6, label %_ZN5folly8OptionalIN4fizz6client9CachedPskEEC2EOS4_.exit, label %invoke.cont2.i7

invoke.cont2.i7:                                  ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit
  call void @_ZN4fizz6client9CachedPskC2EOS1_(ptr noundef nonnull align 8 dereferenceable(192) %agg.tmp5, ptr noundef nonnull align 8 dereferenceable(192) %cachedPsk) #28
  store i8 1, ptr %hasValue.i.i4, align 8
  %9 = load i8, ptr %hasValue.i.i.i5, align 8
  %10 = and i8 %9, 1
  %tobool.not.i.i6.i8 = icmp eq i8 %10, 0
  br i1 %tobool.not.i.i6.i8, label %_ZN5folly8OptionalIN4fizz6client9CachedPskEEC2EOS4_.exit, label %if.then.i.i7.i9

if.then.i.i7.i9:                                  ; preds = %invoke.cont2.i7
  store i8 0, ptr %hasValue.i.i.i5, align 8
  call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %cachedPsk) #28
  br label %_ZN5folly8OptionalIN4fizz6client9CachedPskEEC2EOS4_.exit

_ZN5folly8OptionalIN4fizz6client9CachedPskEEC2EOS4_.exit: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEC2EOS7_.exit, %invoke.cont2.i7, %if.then.i.i7.i9
  %hasValue.i.i10 = getelementptr inbounds %"struct.folly::Optional<std::vector<fizz::ech::ECHConfig>>::StorageNonTriviallyDestructible", ptr %agg.tmp6, i64 0, i32 1
  store i8 0, ptr %hasValue.i.i10, align 8
  %hasValue.i.i.i11 = getelementptr inbounds %"struct.folly::Optional<std::vector<fizz::ech::ECHConfig>>::StorageNonTriviallyDestructible", ptr %echConfigs, i64 0, i32 1
  %11 = load i8, ptr %hasValue.i.i.i11, align 8
  %12 = and i8 %11, 1
  %tobool.i.i.not.i12 = icmp eq i8 %12, 0
  br i1 %tobool.i.i.not.i12, label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEEC2EOS7_.exit, label %invoke.cont.i.i.i.i

invoke.cont.i.i.i.i:                              ; preds = %_ZN5folly8OptionalIN4fizz6client9CachedPskEEC2EOS4_.exit
  %13 = load <2 x ptr>, ptr %echConfigs, align 8
  store <2 x ptr> %13, ptr %agg.tmp6, align 16
  %_M_end_of_storage.i.i.i.i.i.i = getelementptr inbounds %"struct.std::_Vector_base<fizz::ech::ECHConfig, std::allocator<fizz::ech::ECHConfig>>::_Vector_impl_data", ptr %agg.tmp6, i64 0, i32 2
  %_M_end_of_storage4.i.i.i.i.i.i = getelementptr inbounds %"struct.std::_Vector_base<fizz::ech::ECHConfig, std::allocator<fizz::ech::ECHConfig>>::_Vector_impl_data", ptr %echConfigs, i64 0, i32 2
  %14 = load ptr, ptr %_M_end_of_storage4.i.i.i.i.i.i, align 8
  store ptr %14, ptr %_M_end_of_storage.i.i.i.i.i.i, align 16
  call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(24) %echConfigs, i8 0, i64 24, i1 false)
  store i8 1, ptr %hasValue.i.i10, align 8
  store i8 0, ptr %hasValue.i.i.i11, align 8
  br label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEEC2EOS7_.exit

_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEEC2EOS7_.exit: ; preds = %invoke.cont.i.i.i.i, %_ZN5folly8OptionalIN4fizz6client9CachedPskEEC2EOS4_.exit
  invoke void @_ZN4fizz6client18ClientStateMachine14processConnectERKNS0_5StateESt10shared_ptrIKNS0_17FizzClientContextEES5_IKNS_19CertificateVerifierEEN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEENSD_INS0_9CachedPskEEERKS5_INS_16ClientExtensionsEENSD_ISt6vectorINS_3ech9ECHConfigESaIST_EEEE(ptr nonnull sret(%"class.folly::small_vector.437") align 16 %agg.tmp, ptr noundef nonnull align 8 dereferenceable(8) %machine_, ptr noundef nonnull align 8 dereferenceable(1096) %0, ptr noundef nonnull %agg.tmp2, ptr noundef nonnull %agg.tmp3, ptr noundef nonnull %agg.tmp4, ptr noundef nonnull %agg.tmp5, ptr noundef nonnull align 8 dereferenceable(16) %extensions, ptr noundef nonnull %agg.tmp6)
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEEC2EOS7_.exit
  invoke void @_ZN4fizz8FizzBaseINS_6client10FizzClientINS1_16AsyncFizzClientTINS1_18ClientStateMachineEE17ActionMoveVisitorES4_EES6_S4_E20addProcessingActionsEN5folly12small_vectorINS1_6ActionELm4EvEE(ptr noundef nonnull align 8 dereferenceable(163) %this, ptr noundef nonnull %agg.tmp)
          to label %invoke.cont8 unwind label %lpad7

invoke.cont8:                                     ; preds = %invoke.cont
  %15 = load i64, ptr %agg.tmp, align 16
  %u.i.i.i = getelementptr inbounds %"class.folly::small_vector.437", ptr %agg.tmp, i64 0, i32 2
  %16 = load ptr, ptr %u.i.i.i, align 16
  %tobool.not1.i.i.i = icmp slt i64 %15, 0
  %cond.i.i.i = select i1 %tobool.not1.i.i.i, ptr %16, ptr %u.i.i.i
  %and.i.i.i.i = and i64 %15, 4611686018427387903
  %add.ptr.i.i = getelementptr inbounds %"struct.fizz::client::Action", ptr %cond.i.i.i, i64 %and.i.i.i.i
  %cmp.not7.i = icmp eq i64 %and.i.i.i.i, 0
  br i1 %cmp.not7.i, label %for.end.i, label %for.body.i

for.body.i:                                       ; preds = %invoke.cont8, %for.body.i
  %__begin0.08.i = phi ptr [ %incdec.ptr.i, %for.body.i ], [ %cond.i.i.i, %invoke.cont8 ]
  call void @_ZN4fizz6client6Action14destroyVariantEv(ptr noundef nonnull align 16 dereferenceable(196) %__begin0.08.i)
  %incdec.ptr.i = getelementptr inbounds %"struct.fizz::client::Action", ptr %__begin0.08.i, i64 1
  %cmp.not.i = icmp eq ptr %incdec.ptr.i, %add.ptr.i.i
  br i1 %cmp.not.i, label %for.end.i.loopexit, label %for.body.i

for.end.i.loopexit:                               ; preds = %for.body.i
  %.pre = load i64, ptr %agg.tmp, align 16
  br label %for.end.i

for.end.i:                                        ; preds = %for.end.i.loopexit, %invoke.cont8
  %17 = phi i64 [ %.pre, %for.end.i.loopexit ], [ %15, %invoke.cont8 ]
  %tobool.not.i = icmp sgt i64 %17, -1
  br i1 %tobool.not.i, label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit, label %lor.lhs.false.i

lor.lhs.false.i:                                  ; preds = %for.end.i
  %18 = load ptr, ptr %u.i.i.i, align 16
  %tobool2.not.i = icmp eq ptr %18, null
  br i1 %tobool2.not.i, label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit, label %if.then4.i

if.then4.i:                                       ; preds = %lor.lhs.false.i
  %capacity_.i.i.i = getelementptr inbounds %"class.folly::small_vector.437", ptr %agg.tmp, i64 0, i32 2, i32 0, i32 1
  %19 = load i64, ptr %capacity_.i.i.i, align 8
  %mul.i = mul i64 %19, 208
  call void @llvm.lifetime.start.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i)
  %20 = load atomic i8, ptr @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv acquire, align 8
  %guard.uninitialized.i.i.i.i.i = icmp eq i8 %20, 0
  br i1 %guard.uninitialized.i.i.i.i.i, label %init.check.i.i.i.i.i, label %_ZN5folly11canSdallocxEv.exit.i.i, !prof !81

init.check.i.i.i.i.i:                             ; preds = %if.then4.i
  %21 = call i32 @__cxa_guard_acquire(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  %tobool.i.not.i.i.i.i78 = icmp eq i32 %21, 0
  br i1 %tobool.i.not.i.i.i.i78, label %_ZN5folly11canSdallocxEv.exit.i.i, label %init.i.i.i.i.i

init.i.i.i.i.i:                                   ; preds = %init.check.i.i.i.i.i
  %call.i.i.i.i.i = call noundef zeroext i1 @_ZZN5folly6detail23usingJEMallocOrTCMallocEvENK11InitializerclEv(ptr noundef nonnull align 1 dereferenceable(1) %ref.tmp.i.i.i.i.i)
  %frombool.i.i.i.i.i = zext i1 %call.i.i.i.i.i to i8
  store i8 %frombool.i.i.i.i.i, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  call void @__cxa_guard_release(ptr nonnull @_ZGVZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv) #28
  br label %_ZN5folly11canSdallocxEv.exit.i.i

_ZN5folly11canSdallocxEv.exit.i.i:                ; preds = %init.i.i.i.i.i, %init.check.i.i.i.i.i, %if.then4.i
  %22 = load i8, ptr @_ZZN5folly6detail14FastStaticBoolIZNS0_23usingJEMallocOrTCMallocEvE11InitializerE3getESt12memory_orderE2rv, align 1
  %23 = and i8 %22, 1
  %tobool1.i.i.i.not.i.i = icmp eq i8 %23, 0
  call void @llvm.lifetime.end.p0(i64 1, ptr nonnull %ref.tmp.i.i.i.i.i)
  br i1 %tobool1.i.i.i.not.i.i, label %if.else.i.i, label %if.then.i.i

if.then.i.i:                                      ; preds = %_ZN5folly11canSdallocxEv.exit.i.i
  call void @sdallocx(ptr noundef nonnull %18, i64 noundef %mul.i, i32 noundef 0) #28
  br label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit

if.else.i.i:                                      ; preds = %_ZN5folly11canSdallocxEv.exit.i.i
  call void @free(ptr noundef nonnull %18) #28
  br label %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit

_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit: ; preds = %if.else.i.i, %if.then.i.i, %lor.lhs.false.i, %for.end.i
  %24 = load i8, ptr %hasValue.i.i10, align 8
  %25 = and i8 %24, 1
  %tobool.not.i.i.i = icmp eq i8 %25, 0
  br i1 %tobool.not.i.i.i, label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit
  store i8 0, ptr %hasValue.i.i10, align 8
  %26 = load ptr, ptr %agg.tmp6, align 16
  %_M_finish.i.i.i.i = getelementptr inbounds %"struct.std::_Vector_base<fizz::ech::ECHConfig, std::allocator<fizz::ech::ECHConfig>>::_Vector_impl_data", ptr %agg.tmp6, i64 0, i32 1
  %27 = load ptr, ptr %_M_finish.i.i.i.i, align 8
  %cmp.not3.i.i.i.i.i.i.i17 = icmp eq ptr %26, %27
  br i1 %cmp.not3.i.i.i.i.i.i.i17, label %invoke.cont.i.i.i.i28, label %for.body.i.i.i.i.i.i.i18

for.body.i.i.i.i.i.i.i18:                         ; preds = %if.then.i.i.i, %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i23
  %__first.addr.04.i.i.i.i.i.i.i19 = phi ptr [ %incdec.ptr.i.i.i.i.i.i.i24, %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i23 ], [ %26, %if.then.i.i.i ]
  %ech_config_content.i.i.i.i.i.i.i.i.i20 = getelementptr inbounds %"struct.fizz::ech::ECHConfig", ptr %__first.addr.04.i.i.i.i.i.i.i19, i64 0, i32 1
  %28 = load ptr, ptr %ech_config_content.i.i.i.i.i.i.i.i.i20, align 8
  %cmp.not.i.i.i.i.i.i.i.i.i.i21 = icmp eq ptr %28, null
  br i1 %cmp.not.i.i.i.i.i.i.i.i.i.i21, label %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i23, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i.i.i.i22

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i.i.i.i22: ; preds = %for.body.i.i.i.i.i.i.i18
  call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %28) #28
  call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %28) #28
  br label %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i23

_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i23: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i.i.i.i22, %for.body.i.i.i.i.i.i.i18
  store ptr null, ptr %ech_config_content.i.i.i.i.i.i.i.i.i20, align 8
  %incdec.ptr.i.i.i.i.i.i.i24 = getelementptr inbounds %"struct.fizz::ech::ECHConfig", ptr %__first.addr.04.i.i.i.i.i.i.i19, i64 1
  %cmp.not.i.i.i.i.i.i.i25 = icmp eq ptr %incdec.ptr.i.i.i.i.i.i.i24, %27
  br i1 %cmp.not.i.i.i.i.i.i.i25, label %invoke.contthread-pre-split.i.i.i.i26, label %for.body.i.i.i.i.i.i.i18, !llvm.loop !44

invoke.contthread-pre-split.i.i.i.i26:            ; preds = %_ZSt8_DestroyIN4fizz3ech9ECHConfigEEvPT_.exit.i.i.i.i.i.i.i23
  %.pr.i.i.i.i27 = load ptr, ptr %agg.tmp6, align 16
  br label %invoke.cont.i.i.i.i28

invoke.cont.i.i.i.i28:                            ; preds = %invoke.contthread-pre-split.i.i.i.i26, %if.then.i.i.i
  %29 = phi ptr [ %.pr.i.i.i.i27, %invoke.contthread-pre-split.i.i.i.i26 ], [ %26, %if.then.i.i.i ]
  %tobool.not.i.i.i.i.i.i29 = icmp eq ptr %29, null
  br i1 %tobool.not.i.i.i.i.i.i29, label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit, label %if.then.i.i.i.i.i.i30

if.then.i.i.i.i.i.i30:                            ; preds = %invoke.cont.i.i.i.i28
  call void @_ZdlPv(ptr noundef nonnull %29) #31
  br label %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit

_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit: ; preds = %_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev.exit, %invoke.cont.i.i.i.i28, %if.then.i.i.i.i.i.i30
  %30 = load i8, ptr %hasValue.i.i4, align 8
  %31 = and i8 %30, 1
  %tobool.not.i.i.i32 = icmp eq i8 %31, 0
  br i1 %tobool.not.i.i.i32, label %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit, label %if.then.i.i.i33

if.then.i.i.i33:                                  ; preds = %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit
  store i8 0, ptr %hasValue.i.i4, align 8
  call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %agg.tmp5) #28
  br label %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit

_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit: ; preds = %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev.exit, %if.then.i.i.i33
  %32 = load i8, ptr %hasValue.i.i, align 8
  %33 = and i8 %32, 1
  %tobool.not.i.i.i35 = icmp eq i8 %33, 0
  br i1 %tobool.not.i.i.i35, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, label %if.then.i.i.i36

if.then.i.i.i36:                                  ; preds = %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit
  store i8 0, ptr %hasValue.i.i, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp4) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit: ; preds = %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit, %if.then.i.i.i36
  %34 = load ptr, ptr %_M_refcount.i.i2, align 8
  %cmp.not.i.i.i = icmp eq ptr %34, null
  br i1 %cmp.not.i.i.i, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit, label %if.then.i.i.i38

if.then.i.i.i38:                                  ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit
  %_M_use_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %34, i64 0, i32 1
  %35 = load atomic i64, ptr %_M_use_count.i.i.i.i acquire, align 8
  %cmp.i.i.i.i = icmp eq i64 %35, 4294967297
  %36 = trunc i64 %35 to i32
  br i1 %cmp.i.i.i.i, label %if.then.i.i.i.i, label %if.end.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %if.then.i.i.i38
  store i32 0, ptr %_M_use_count.i.i.i.i, align 8
  %_M_weak_count.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %34, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i, align 4
  %vtable.i.i.i.i = load ptr, ptr %34, align 8
  %vfn.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i, i64 2
  %37 = load ptr, ptr %vfn.i.i.i.i, align 8
  call void %37(ptr noundef nonnull align 8 dereferenceable(16) %34) #28
  br label %if.end8.sink.split.i.i.i.i

if.end.i.i.i.i:                                   ; preds = %if.then.i.i.i38
  %38 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i = icmp eq i8 %38, 0
  br i1 %tobool.i.not.i.i.i.i, label %if.else.i.i.i.i.i, label %if.then.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %add.i.i.i.i.i = add nsw i32 %36, -1
  store i32 %add.i.i.i.i.i, ptr %_M_use_count.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

if.else.i.i.i.i.i:                                ; preds = %if.end.i.i.i.i
  %39 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i: ; preds = %if.else.i.i.i.i.i, %if.then.i.i.i.i.i
  %retval.i.0.i.i.i.i = phi i32 [ %36, %if.then.i.i.i.i.i ], [ %39, %if.else.i.i.i.i.i ]
  %cmp6.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i, label %if.then7.i.i.i.i, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

if.then7.i.i.i.i:                                 ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i
  %vtable.i.i.i.i.i.i = load ptr, ptr %34, align 8
  %vfn.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i, i64 2
  %40 = load ptr, ptr %vfn.i.i.i.i.i.i, align 8
  call void %40(ptr noundef nonnull align 8 dereferenceable(16) %34) #28
  %_M_weak_count.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %34, i64 0, i32 2
  %41 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i = icmp eq i8 %41, 0
  br i1 %tobool.i.not.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %42 = load i32, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i.i = add nsw i32 %42, -1
  store i32 %add.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i:                            ; preds = %if.then7.i.i.i.i
  %43 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i = phi i32 [ %42, %if.then.i.i.i.i.i.i.i ], [ %43, %if.else.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i, label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

if.end8.sink.split.i.i.i.i:                       ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.then.i.i.i.i
  %vtable2.i.i.i.i.i.i = load ptr, ptr %34, align 8
  %vfn3.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i, i64 3
  %44 = load ptr, ptr %vfn3.i.i.i.i.i.i, align 8
  call void %44(ptr noundef nonnull align 8 dereferenceable(16) %34) #28
  br label %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit

_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit: ; preds = %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i, %if.end8.sink.split.i.i.i.i
  %45 = load ptr, ptr %_M_refcount.i.i, align 8
  %cmp.not.i.i.i40 = icmp eq ptr %45, null
  br i1 %cmp.not.i.i.i40, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit, label %if.then.i.i.i41

if.then.i.i.i41:                                  ; preds = %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit
  %_M_use_count.i.i.i.i42 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %45, i64 0, i32 1
  %46 = load atomic i64, ptr %_M_use_count.i.i.i.i42 acquire, align 8
  %cmp.i.i.i.i43 = icmp eq i64 %46, 4294967297
  %47 = trunc i64 %46 to i32
  br i1 %cmp.i.i.i.i43, label %if.then.i.i.i.i66, label %if.end.i.i.i.i44

if.then.i.i.i.i66:                                ; preds = %if.then.i.i.i41
  store i32 0, ptr %_M_use_count.i.i.i.i42, align 8
  %_M_weak_count.i.i.i.i67 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %45, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i67, align 4
  %vtable.i.i.i.i68 = load ptr, ptr %45, align 8
  %vfn.i.i.i.i69 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i68, i64 2
  %48 = load ptr, ptr %vfn.i.i.i.i69, align 8
  call void %48(ptr noundef nonnull align 8 dereferenceable(16) %45) #28
  br label %if.end8.sink.split.i.i.i.i61

if.end.i.i.i.i44:                                 ; preds = %if.then.i.i.i41
  %49 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i45 = icmp eq i8 %49, 0
  br i1 %tobool.i.not.i.i.i.i45, label %if.else.i.i.i.i.i65, label %if.then.i.i.i.i.i46

if.then.i.i.i.i.i46:                              ; preds = %if.end.i.i.i.i44
  %add.i.i.i.i.i47 = add nsw i32 %47, -1
  store i32 %add.i.i.i.i.i47, ptr %_M_use_count.i.i.i.i42, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i48

if.else.i.i.i.i.i65:                              ; preds = %if.end.i.i.i.i44
  %50 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i42, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i48

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i48: ; preds = %if.else.i.i.i.i.i65, %if.then.i.i.i.i.i46
  %retval.i.0.i.i.i.i49 = phi i32 [ %47, %if.then.i.i.i.i.i46 ], [ %50, %if.else.i.i.i.i.i65 ]
  %cmp6.i.i.i.i50 = icmp eq i32 %retval.i.0.i.i.i.i49, 1
  br i1 %cmp6.i.i.i.i50, label %if.then7.i.i.i.i51, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit

if.then7.i.i.i.i51:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i48
  %vtable.i.i.i.i.i.i52 = load ptr, ptr %45, align 8
  %vfn.i.i.i.i.i.i53 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i52, i64 2
  %51 = load ptr, ptr %vfn.i.i.i.i.i.i53, align 8
  call void %51(ptr noundef nonnull align 8 dereferenceable(16) %45) #28
  %_M_weak_count.i.i.i.i.i.i54 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %45, i64 0, i32 2
  %52 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i55 = icmp eq i8 %52, 0
  br i1 %tobool.i.not.i.i.i.i.i.i55, label %if.else.i.i.i.i.i.i.i64, label %if.then.i.i.i.i.i.i.i56

if.then.i.i.i.i.i.i.i56:                          ; preds = %if.then7.i.i.i.i51
  %53 = load i32, ptr %_M_weak_count.i.i.i.i.i.i54, align 4
  %add.i.i.i.i.i.i.i57 = add nsw i32 %53, -1
  store i32 %add.i.i.i.i.i.i.i57, ptr %_M_weak_count.i.i.i.i.i.i54, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i58

if.else.i.i.i.i.i.i.i64:                          ; preds = %if.then7.i.i.i.i51
  %54 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i54, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i58

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i58: ; preds = %if.else.i.i.i.i.i.i.i64, %if.then.i.i.i.i.i.i.i56
  %retval.i.0.i.i.i.i.i.i59 = phi i32 [ %53, %if.then.i.i.i.i.i.i.i56 ], [ %54, %if.else.i.i.i.i.i.i.i64 ]
  %cmp.i.i.i.i.i.i60 = icmp eq i32 %retval.i.0.i.i.i.i.i.i59, 1
  br i1 %cmp.i.i.i.i.i.i60, label %if.end8.sink.split.i.i.i.i61, label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit

if.end8.sink.split.i.i.i.i61:                     ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i58, %if.then.i.i.i.i66
  %vtable2.i.i.i.i.i.i62 = load ptr, ptr %45, align 8
  %vfn3.i.i.i.i.i.i63 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i62, i64 3
  %55 = load ptr, ptr %vfn3.i.i.i.i.i.i63, align 8
  call void %55(ptr noundef nonnull align 8 dereferenceable(16) %45) #28
  br label %_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit

_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev.exit: ; preds = %_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i48, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i58, %if.end8.sink.split.i.i.i.i61
  ret void

lpad:                                             ; preds = %_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEEC2EOS7_.exit
  %56 = landingpad { ptr, i32 }
          cleanup
  br label %ehcleanup

lpad7:                                            ; preds = %invoke.cont
  %57 = landingpad { ptr, i32 }
          cleanup
  call void @_ZN5folly12small_vectorIN4fizz6client6ActionELm4EvED2Ev(ptr noundef nonnull align 16 dereferenceable(848) %agg.tmp) #28
  br label %ehcleanup

ehcleanup:                                        ; preds = %lpad7, %lpad
  %.pn = phi { ptr, i32 } [ %57, %lpad7 ], [ %56, %lpad ]
  call void @_ZN5folly8OptionalISt6vectorIN4fizz3ech9ECHConfigESaIS4_EEED2Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp6) #28
  %58 = load i8, ptr %hasValue.i.i4, align 8
  %59 = and i8 %58, 1
  %tobool.not.i.i.i71 = icmp eq i8 %59, 0
  br i1 %tobool.not.i.i.i71, label %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit73, label %if.then.i.i.i72

if.then.i.i.i72:                                  ; preds = %ehcleanup
  store i8 0, ptr %hasValue.i.i4, align 8
  call void @_ZN4fizz6client9CachedPskD2Ev(ptr noundef nonnull align 8 dereferenceable(192) %agg.tmp5) #28
  br label %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit73

_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit73: ; preds = %ehcleanup, %if.then.i.i.i72
  %60 = load i8, ptr %hasValue.i.i, align 8
  %61 = and i8 %60, 1
  %tobool.not.i.i.i75 = icmp eq i8 %61, 0
  br i1 %tobool.not.i.i.i75, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit77, label %if.then.i.i.i76

if.then.i.i.i76:                                  ; preds = %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit73
  store i8 0, ptr %hasValue.i.i, align 8
  call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %agg.tmp4) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit77

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEED2Ev.exit77: ; preds = %_ZN5folly8OptionalIN4fizz6client9CachedPskEED2Ev.exit73, %if.then.i.i.i76
  call void @_ZNSt10shared_ptrIKN4fizz19CertificateVerifierEED2Ev(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp3) #28
  call void @_ZNSt10shared_ptrIKN4fizz6client17FizzClientContextEED2Ev(ptr noundef nonnull align 8 dereferenceable(16) %agg.tmp2) #28
  resume { ptr, i32 } %.pn
}

declare noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEaSERKS4_(ptr noundef nonnull align 8 dereferenceable(32), ptr noundef nonnull align 8 dereferenceable(32)) local_unnamed_addr #0

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr noundef nonnull align 8 dereferenceable(192) ptr @_ZN4fizz6client9CachedPskaSEOS1_(ptr noundef nonnull align 8 dereferenceable(192) %this, ptr noundef nonnull align 8 dereferenceable(192) %0) local_unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %call = tail call noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEaSEOS4_(ptr noundef nonnull align 8 dereferenceable(32) %this, ptr noundef nonnull align 8 dereferenceable(32) %0) #28
  %secret = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 1
  %secret3 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 1
  %call4 = tail call noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEaSEOS4_(ptr noundef nonnull align 8 dereferenceable(32) %secret, ptr noundef nonnull align 8 dereferenceable(32) %secret3) #28
  %type = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 2
  %type5 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 2
  %1 = load i64, ptr %type5, align 8
  store i64 %1, ptr %type, align 8
  %group = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 5
  %group6 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 5
  %cmp.not.i.i = icmp eq ptr %this, %0
  br i1 %cmp.not.i.i, label %_ZN5folly8OptionalIN4fizz10NamedGroupEEaSEOS3_.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %entry
  %hasValue.i.i.i.i = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 5, i32 0, i32 1
  %2 = load i8, ptr %hasValue.i.i.i.i, align 2
  %3 = and i8 %2, 1
  %tobool.i.i.not.i.i = icmp eq i8 %3, 0
  %hasValue.i.i6.i.i = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 5, i32 0, i32 1
  br i1 %tobool.i.i.not.i.i, label %if.end4.sink.split.i.i, label %_ZNR5folly8OptionalIN4fizz10NamedGroupEE5valueEv.exit.i.i

_ZNR5folly8OptionalIN4fizz10NamedGroupEE5valueEv.exit.i.i: ; preds = %if.then.i.i
  %4 = load i8, ptr %hasValue.i.i6.i.i, align 2
  %5 = and i8 %4, 1
  %tobool.i.i.not.i.i.i = icmp eq i8 %5, 0
  %6 = load i16, ptr %group6, align 8
  br i1 %tobool.i.i.not.i.i.i, label %if.else.i.i.i, label %_ZN5folly8OptionalIN4fizz10NamedGroupEE6assignEOS2_.exit.i.i

if.else.i.i.i:                                    ; preds = %_ZNR5folly8OptionalIN4fizz10NamedGroupEE5valueEv.exit.i.i
  store i8 1, ptr %hasValue.i.i6.i.i, align 2
  br label %_ZN5folly8OptionalIN4fizz10NamedGroupEE6assignEOS2_.exit.i.i

_ZN5folly8OptionalIN4fizz10NamedGroupEE6assignEOS2_.exit.i.i: ; preds = %if.else.i.i.i, %_ZNR5folly8OptionalIN4fizz10NamedGroupEE5valueEv.exit.i.i
  store i16 %6, ptr %group, align 8
  br label %if.end4.sink.split.i.i

if.end4.sink.split.i.i:                           ; preds = %_ZN5folly8OptionalIN4fizz10NamedGroupEE6assignEOS2_.exit.i.i, %if.then.i.i
  %hasValue.i.i.sink.i.i = phi ptr [ %hasValue.i.i.i.i, %_ZN5folly8OptionalIN4fizz10NamedGroupEE6assignEOS2_.exit.i.i ], [ %hasValue.i.i6.i.i, %if.then.i.i ]
  store i8 0, ptr %hasValue.i.i.sink.i.i, align 2
  br label %_ZN5folly8OptionalIN4fizz10NamedGroupEEaSEOS3_.exit

_ZN5folly8OptionalIN4fizz10NamedGroupEEaSEOS3_.exit: ; preds = %entry, %if.end4.sink.split.i.i
  %serverCert = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 6
  %serverCert8 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 6
  %_M_refcount3.i.i.i = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 6, i32 0, i32 1
  %7 = load <2 x ptr>, ptr %serverCert8, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %serverCert8, i8 0, i64 16, i1 false)
  %8 = load ptr, ptr %_M_refcount3.i.i.i, align 8
  store <2 x ptr> %7, ptr %serverCert, align 8
  %cmp.not.i.i.i.i = icmp eq ptr %8, null
  br i1 %cmp.not.i.i.i.i, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEEaSEOS3_.exit, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %_ZN5folly8OptionalIN4fizz10NamedGroupEEaSEOS3_.exit
  %_M_use_count.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %8, i64 0, i32 1
  %9 = load atomic i64, ptr %_M_use_count.i.i.i.i.i acquire, align 8
  %cmp.i.i.i.i.i = icmp eq i64 %9, 4294967297
  %10 = trunc i64 %9 to i32
  br i1 %cmp.i.i.i.i.i, label %if.then.i.i.i.i.i, label %if.end.i.i.i.i.i

if.then.i.i.i.i.i:                                ; preds = %if.then.i.i.i.i
  store i32 0, ptr %_M_use_count.i.i.i.i.i, align 8
  %_M_weak_count.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %8, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i, align 4
  %vtable.i.i.i.i.i = load ptr, ptr %8, align 8
  %vfn.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i, i64 2
  %11 = load ptr, ptr %vfn.i.i.i.i.i, align 8
  tail call void %11(ptr noundef nonnull align 8 dereferenceable(16) %8) #28
  br label %if.end8.sink.split.i.i.i.i.i

if.end.i.i.i.i.i:                                 ; preds = %if.then.i.i.i.i
  %12 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i = icmp eq i8 %12, 0
  br i1 %tobool.i.not.i.i.i.i.i, label %if.else.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i

if.then.i.i.i.i.i.i:                              ; preds = %if.end.i.i.i.i.i
  %add.i.i.i.i.i.i = add nsw i32 %10, -1
  store i32 %add.i.i.i.i.i.i, ptr %_M_use_count.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

if.else.i.i.i.i.i.i:                              ; preds = %if.end.i.i.i.i.i
  %13 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i, %if.then.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i = phi i32 [ %10, %if.then.i.i.i.i.i.i ], [ %13, %if.else.i.i.i.i.i.i ]
  %cmp6.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i, 1
  br i1 %cmp6.i.i.i.i.i, label %if.then7.i.i.i.i.i, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEEaSEOS3_.exit

if.then7.i.i.i.i.i:                               ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i
  %vtable.i.i.i.i.i.i.i = load ptr, ptr %8, align 8
  %vfn.i.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i, i64 2
  %14 = load ptr, ptr %vfn.i.i.i.i.i.i.i, align 8
  tail call void %14(ptr noundef nonnull align 8 dereferenceable(16) %8) #28
  %_M_weak_count.i.i.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %8, i64 0, i32 2
  %15 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i = icmp eq i8 %15, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i, label %if.else.i.i.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i.i.i

if.then.i.i.i.i.i.i.i.i:                          ; preds = %if.then7.i.i.i.i.i
  %16 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i.i.i = add nsw i32 %16, -1
  store i32 %add.i.i.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i

if.else.i.i.i.i.i.i.i.i:                          ; preds = %if.then7.i.i.i.i.i
  %17 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i.i.i, %if.then.i.i.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i.i.i = phi i32 [ %16, %if.then.i.i.i.i.i.i.i.i ], [ %17, %if.else.i.i.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i.i.i, label %if.end8.sink.split.i.i.i.i.i, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEEaSEOS3_.exit

if.end8.sink.split.i.i.i.i.i:                     ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i, %if.then.i.i.i.i.i
  %vtable2.i.i.i.i.i.i.i = load ptr, ptr %8, align 8
  %vfn3.i.i.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i, i64 3
  %18 = load ptr, ptr %vfn3.i.i.i.i.i.i.i, align 8
  tail call void %18(ptr noundef nonnull align 8 dereferenceable(16) %8) #28
  br label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEEaSEOS3_.exit

_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEEaSEOS3_.exit: ; preds = %_ZN5folly8OptionalIN4fizz10NamedGroupEEaSEOS3_.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i, %if.end8.sink.split.i.i.i.i.i
  %clientCert = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 7
  %clientCert10 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 7
  %_M_refcount3.i.i.i10 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 7, i32 0, i32 1
  %19 = load <2 x ptr>, ptr %clientCert10, align 8
  tail call void @llvm.memset.p0.i64(ptr noundef nonnull align 8 dereferenceable(16) %clientCert10, i8 0, i64 16, i1 false)
  %20 = load ptr, ptr %_M_refcount3.i.i.i10, align 8
  store <2 x ptr> %19, ptr %clientCert, align 8
  %cmp.not.i.i.i.i11 = icmp eq ptr %20, null
  br i1 %cmp.not.i.i.i.i11, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEEaSEOS3_.exit41, label %if.then.i.i.i.i12

if.then.i.i.i.i12:                                ; preds = %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEEaSEOS3_.exit
  %_M_use_count.i.i.i.i.i13 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %20, i64 0, i32 1
  %21 = load atomic i64, ptr %_M_use_count.i.i.i.i.i13 acquire, align 8
  %cmp.i.i.i.i.i14 = icmp eq i64 %21, 4294967297
  %22 = trunc i64 %21 to i32
  br i1 %cmp.i.i.i.i.i14, label %if.then.i.i.i.i.i37, label %if.end.i.i.i.i.i15

if.then.i.i.i.i.i37:                              ; preds = %if.then.i.i.i.i12
  store i32 0, ptr %_M_use_count.i.i.i.i.i13, align 8
  %_M_weak_count.i.i.i.i.i38 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %20, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i.i.i38, align 4
  %vtable.i.i.i.i.i39 = load ptr, ptr %20, align 8
  %vfn.i.i.i.i.i40 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i39, i64 2
  %23 = load ptr, ptr %vfn.i.i.i.i.i40, align 8
  tail call void %23(ptr noundef nonnull align 8 dereferenceable(16) %20) #28
  br label %if.end8.sink.split.i.i.i.i.i32

if.end.i.i.i.i.i15:                               ; preds = %if.then.i.i.i.i12
  %24 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i16 = icmp eq i8 %24, 0
  br i1 %tobool.i.not.i.i.i.i.i16, label %if.else.i.i.i.i.i.i36, label %if.then.i.i.i.i.i.i17

if.then.i.i.i.i.i.i17:                            ; preds = %if.end.i.i.i.i.i15
  %add.i.i.i.i.i.i18 = add nsw i32 %22, -1
  store i32 %add.i.i.i.i.i.i18, ptr %_M_use_count.i.i.i.i.i13, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i19

if.else.i.i.i.i.i.i36:                            ; preds = %if.end.i.i.i.i.i15
  %25 = atomicrmw volatile add ptr %_M_use_count.i.i.i.i.i13, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i19

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i19: ; preds = %if.else.i.i.i.i.i.i36, %if.then.i.i.i.i.i.i17
  %retval.i.0.i.i.i.i.i20 = phi i32 [ %22, %if.then.i.i.i.i.i.i17 ], [ %25, %if.else.i.i.i.i.i.i36 ]
  %cmp6.i.i.i.i.i21 = icmp eq i32 %retval.i.0.i.i.i.i.i20, 1
  br i1 %cmp6.i.i.i.i.i21, label %if.then7.i.i.i.i.i22, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEEaSEOS3_.exit41

if.then7.i.i.i.i.i22:                             ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i19
  %vtable.i.i.i.i.i.i.i23 = load ptr, ptr %20, align 8
  %vfn.i.i.i.i.i.i.i24 = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i.i.i23, i64 2
  %26 = load ptr, ptr %vfn.i.i.i.i.i.i.i24, align 8
  tail call void %26(ptr noundef nonnull align 8 dereferenceable(16) %20) #28
  %_M_weak_count.i.i.i.i.i.i.i25 = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %20, i64 0, i32 2
  %27 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i.i.i26 = icmp eq i8 %27, 0
  br i1 %tobool.i.not.i.i.i.i.i.i.i26, label %if.else.i.i.i.i.i.i.i.i35, label %if.then.i.i.i.i.i.i.i.i27

if.then.i.i.i.i.i.i.i.i27:                        ; preds = %if.then7.i.i.i.i.i22
  %28 = load i32, ptr %_M_weak_count.i.i.i.i.i.i.i25, align 4
  %add.i.i.i.i.i.i.i.i28 = add nsw i32 %28, -1
  store i32 %add.i.i.i.i.i.i.i.i28, ptr %_M_weak_count.i.i.i.i.i.i.i25, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i29

if.else.i.i.i.i.i.i.i.i35:                        ; preds = %if.then7.i.i.i.i.i22
  %29 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i.i.i25, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i29

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i29: ; preds = %if.else.i.i.i.i.i.i.i.i35, %if.then.i.i.i.i.i.i.i.i27
  %retval.i.0.i.i.i.i.i.i.i30 = phi i32 [ %28, %if.then.i.i.i.i.i.i.i.i27 ], [ %29, %if.else.i.i.i.i.i.i.i.i35 ]
  %cmp.i.i.i.i.i.i.i31 = icmp eq i32 %retval.i.0.i.i.i.i.i.i.i30, 1
  br i1 %cmp.i.i.i.i.i.i.i31, label %if.end8.sink.split.i.i.i.i.i32, label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEEaSEOS3_.exit41

if.end8.sink.split.i.i.i.i.i32:                   ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i29, %if.then.i.i.i.i.i37
  %vtable2.i.i.i.i.i.i.i33 = load ptr, ptr %20, align 8
  %vfn3.i.i.i.i.i.i.i34 = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i.i.i33, i64 3
  %30 = load ptr, ptr %vfn3.i.i.i.i.i.i.i34, align 8
  tail call void %30(ptr noundef nonnull align 8 dereferenceable(16) %20) #28
  br label %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEEaSEOS3_.exit41

_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEEaSEOS3_.exit41: ; preds = %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEEaSEOS3_.exit, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i19, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i.i.i29, %if.end8.sink.split.i.i.i.i.i32
  %maxEarlyDataSize = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 8
  %31 = load i32, ptr %maxEarlyDataSize, align 8
  %maxEarlyDataSize12 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 8
  store i32 %31, ptr %maxEarlyDataSize12, align 8
  %alpn = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 10
  %alpn13 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 10
  br i1 %cmp.not.i.i, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS7_.exit, label %if.then.i.i43

if.then.i.i43:                                    ; preds = %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEEaSEOS3_.exit41
  %hasValue.i.i.i.i44 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 10, i32 0, i32 1
  %32 = load i8, ptr %hasValue.i.i.i.i44, align 8
  %33 = and i8 %32, 1
  %tobool.i.i.not.i.i45 = icmp eq i8 %33, 0
  %hasValue.i.i8.i.i = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 10, i32 0, i32 1
  %34 = load i8, ptr %hasValue.i.i8.i.i, align 8
  %35 = and i8 %34, 1
  %tobool.not.i.i9.i.i = icmp eq i8 %35, 0
  br i1 %tobool.i.i.not.i.i45, label %if.else.i.i, label %_ZNR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i

_ZNR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i: ; preds = %if.then.i.i43
  br i1 %tobool.not.i.i9.i.i, label %if.else.i.i.i47, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %_ZNR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i
  %call2.i.i.i = tail call noundef nonnull align 8 dereferenceable(32) ptr @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEaSEOS4_(ptr noundef nonnull align 8 dereferenceable(32) %alpn, ptr noundef nonnull align 8 dereferenceable(32) %alpn13) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE6assignEOS6_.exit.i.i

if.else.i.i.i47:                                  ; preds = %_ZNR5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE5valueEv.exit.i.i
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEC1EOS4_(ptr noundef nonnull align 8 dereferenceable(32) %alpn, ptr noundef nonnull align 8 dereferenceable(32) %alpn13) #28
  store i8 1, ptr %hasValue.i.i8.i.i, align 8
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE6assignEOS6_.exit.i.i

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE6assignEOS6_.exit.i.i: ; preds = %if.else.i.i.i47, %if.then.i.i.i
  %36 = load i8, ptr %hasValue.i.i.i.i44, align 8
  %37 = and i8 %36, 1
  %tobool.not.i.i6.i.i = icmp eq i8 %37, 0
  br i1 %tobool.not.i.i6.i.i, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS7_.exit, label %if.end4.sink.split.i.i46

if.else.i.i:                                      ; preds = %if.then.i.i43
  br i1 %tobool.not.i.i9.i.i, label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS7_.exit, label %if.end4.sink.split.i.i46

if.end4.sink.split.i.i46:                         ; preds = %if.else.i.i, %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE6assignEOS6_.exit.i.i
  %hasValue.i.i8.sink.i.i = phi ptr [ %hasValue.i.i.i.i44, %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE6assignEOS6_.exit.i.i ], [ %hasValue.i.i8.i.i, %if.else.i.i ]
  %this.sink.i.i = phi ptr [ %alpn13, %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE6assignEOS6_.exit.i.i ], [ %alpn, %if.else.i.i ]
  store i8 0, ptr %hasValue.i.i8.sink.i.i, align 8
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %this.sink.i.i) #28
  br label %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS7_.exit

_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEaSEOS7_.exit: ; preds = %_ZNSt10shared_ptrIKN5folly25AsyncTransportCertificateEEaSEOS3_.exit41, %_ZN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEE6assignEOS6_.exit.i.i, %if.else.i.i, %if.end4.sink.split.i.i46
  %ticketAgeAdd = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %this, i64 0, i32 11
  %ticketAgeAdd15 = getelementptr inbounds %"struct.fizz::client::CachedPsk", ptr %0, i64 0, i32 11
  tail call void @llvm.memcpy.p0.p0.i64(ptr noundef nonnull align 8 dereferenceable(32) %ticketAgeAdd, ptr noundef nonnull align 8 dereferenceable(32) %ticketAgeAdd15, i64 32, i1 false)
  ret ptr %this
}

declare void @_ZN4fizz6client18ClientStateMachine14processConnectERKNS0_5StateESt10shared_ptrIKNS0_17FizzClientContextEES5_IKNS_19CertificateVerifierEEN5folly8OptionalINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEEENSD_INS0_9CachedPskEEERKS5_INS_16ClientExtensionsEENSD_ISt6vectorINS_3ech9ECHConfigESaIST_EEEE(ptr sret(%"class.folly::small_vector.437") align 16, ptr noundef nonnull align 8 dereferenceable(8), ptr noundef nonnull align 8 dereferenceable(1096), ptr noundef, ptr noundef, ptr noundef, ptr noundef, ptr noundef nonnull align 8 dereferenceable(16), ptr noundef) unnamed_addr #0

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt10shared_ptrIN4fizz26DefaultCertificateVerifierEED2Ev(ptr noundef nonnull align 8 dereferenceable(16) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %_M_refcount.i = getelementptr inbounds %"class.std::__shared_ptr.574", ptr %this, i64 0, i32 1
  %0 = load ptr, ptr %_M_refcount.i, align 8
  %cmp.not.i.i = icmp eq ptr %0, null
  br i1 %cmp.not.i.i, label %_ZNSt12__shared_ptrIN4fizz26DefaultCertificateVerifierELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit, label %if.then.i.i

if.then.i.i:                                      ; preds = %entry
  %_M_use_count.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 1
  %1 = load atomic i64, ptr %_M_use_count.i.i.i acquire, align 8
  %cmp.i.i.i = icmp eq i64 %1, 4294967297
  %2 = trunc i64 %1 to i32
  br i1 %cmp.i.i.i, label %if.then.i.i.i, label %if.end.i.i.i

if.then.i.i.i:                                    ; preds = %if.then.i.i
  store i32 0, ptr %_M_use_count.i.i.i, align 8
  %_M_weak_count.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 2
  store i32 0, ptr %_M_weak_count.i.i.i, align 4
  %vtable.i.i.i = load ptr, ptr %0, align 8
  %vfn.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i, i64 2
  %3 = load ptr, ptr %vfn.i.i.i, align 8
  tail call void %3(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  br label %if.end8.sink.split.i.i.i

if.end.i.i.i:                                     ; preds = %if.then.i.i
  %4 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i = icmp eq i8 %4, 0
  br i1 %tobool.i.not.i.i.i, label %if.else.i.i.i.i, label %if.then.i.i.i.i

if.then.i.i.i.i:                                  ; preds = %if.end.i.i.i
  %add.i.i.i.i = add nsw i32 %2, -1
  store i32 %add.i.i.i.i, ptr %_M_use_count.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i

if.else.i.i.i.i:                                  ; preds = %if.end.i.i.i
  %5 = atomicrmw volatile add ptr %_M_use_count.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i: ; preds = %if.else.i.i.i.i, %if.then.i.i.i.i
  %retval.i.0.i.i.i = phi i32 [ %2, %if.then.i.i.i.i ], [ %5, %if.else.i.i.i.i ]
  %cmp6.i.i.i = icmp eq i32 %retval.i.0.i.i.i, 1
  br i1 %cmp6.i.i.i, label %if.then7.i.i.i, label %_ZNSt12__shared_ptrIN4fizz26DefaultCertificateVerifierELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit

if.then7.i.i.i:                                   ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i
  %vtable.i.i.i.i.i = load ptr, ptr %0, align 8
  %vfn.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable.i.i.i.i.i, i64 2
  %6 = load ptr, ptr %vfn.i.i.i.i.i, align 8
  tail call void %6(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  %_M_weak_count.i.i.i.i.i = getelementptr inbounds %"class.std::_Sp_counted_base", ptr %0, i64 0, i32 2
  %7 = load i8, ptr @__libc_single_threaded, align 1
  %tobool.i.not.i.i.i.i.i = icmp eq i8 %7, 0
  br i1 %tobool.i.not.i.i.i.i.i, label %if.else.i.i.i.i.i.i, label %if.then.i.i.i.i.i.i

if.then.i.i.i.i.i.i:                              ; preds = %if.then7.i.i.i
  %8 = load i32, ptr %_M_weak_count.i.i.i.i.i, align 4
  %add.i.i.i.i.i.i = add nsw i32 %8, -1
  store i32 %add.i.i.i.i.i.i, ptr %_M_weak_count.i.i.i.i.i, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

if.else.i.i.i.i.i.i:                              ; preds = %if.then7.i.i.i
  %9 = atomicrmw volatile add ptr %_M_weak_count.i.i.i.i.i, i32 -1 acq_rel, align 4
  br label %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i

_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i: ; preds = %if.else.i.i.i.i.i.i, %if.then.i.i.i.i.i.i
  %retval.i.0.i.i.i.i.i = phi i32 [ %8, %if.then.i.i.i.i.i.i ], [ %9, %if.else.i.i.i.i.i.i ]
  %cmp.i.i.i.i.i = icmp eq i32 %retval.i.0.i.i.i.i.i, 1
  br i1 %cmp.i.i.i.i.i, label %if.end8.sink.split.i.i.i, label %_ZNSt12__shared_ptrIN4fizz26DefaultCertificateVerifierELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit

if.end8.sink.split.i.i.i:                         ; preds = %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i, %if.then.i.i.i
  %vtable2.i.i.i.i.i = load ptr, ptr %0, align 8
  %vfn3.i.i.i.i.i = getelementptr inbounds ptr, ptr %vtable2.i.i.i.i.i, i64 3
  %10 = load ptr, ptr %vfn3.i.i.i.i.i, align 8
  tail call void %10(ptr noundef nonnull align 8 dereferenceable(16) %0) #28
  br label %_ZNSt12__shared_ptrIN4fizz26DefaultCertificateVerifierELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit

_ZNSt12__shared_ptrIN4fizz26DefaultCertificateVerifierELN9__gnu_cxx12_Lock_policyE2EED2Ev.exit: ; preds = %entry, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i, %_ZN9__gnu_cxx27__exchange_and_add_dispatchEPii.exit.i.i.i.i.i, %if.end8.sink.split.i.i.i
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EED2Ev(ptr noundef nonnull align 8 dereferenceable(72) %this) unnamed_addr #6 comdat align 2 {
entry:
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EED0Ev(ptr noundef nonnull align 8 dereferenceable(72) %this) unnamed_addr #6 comdat align 2 {
entry:
  tail call void @_ZdlPv(ptr noundef nonnull %this) #31
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EE10_M_disposeEv(ptr noundef nonnull align 8 dereferenceable(72) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %_M_impl.i = getelementptr inbounds %"class.std::_Sp_counted_ptr_inplace", ptr %this, i64 0, i32 1
  %vtable.i.i = load ptr, ptr %_M_impl.i, align 8
  %0 = load ptr, ptr %vtable.i.i, align 8
  tail call void %0(ptr noundef nonnull align 8 dereferenceable(56) %_M_impl.i) #28
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EE10_M_destroyEv(ptr noundef nonnull align 8 dereferenceable(72) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
_ZNSt15__allocated_ptrISaISt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EEEED2Ev.exit:
  tail call void @_ZdlPv(ptr noundef nonnull %this) #31
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr noundef ptr @_ZNSt23_Sp_counted_ptr_inplaceIN4fizz26DefaultCertificateVerifierESaIvELN9__gnu_cxx12_Lock_policyE2EE14_M_get_deleterERKSt9type_info(ptr noundef nonnull align 8 dereferenceable(72) %this, ptr noundef nonnull align 8 dereferenceable(16) %__ti) unnamed_addr #6 comdat align 2 {
entry:
  %_M_impl.i = getelementptr inbounds %"class.std::_Sp_counted_ptr_inplace", ptr %this, i64 0, i32 1
  %cmp = icmp eq ptr %__ti, @_ZZNSt19_Sp_make_shared_tag5_S_tiEvE5__tag
  br i1 %cmp, label %return, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %entry
  %__name.i = getelementptr inbounds %"class.std::type_info", ptr %__ti, i64 0, i32 1
  %0 = load ptr, ptr %__name.i, align 8
  %cmp.i = icmp eq ptr %0, @_ZTSSt19_Sp_make_shared_tag
  br i1 %cmp.i, label %_ZNKSt9type_infoeqERKS_.exit.thread, label %if.end.i

if.end.i:                                         ; preds = %lor.lhs.false
  %1 = load i8, ptr %0, align 1
  %cmp4.not.i = icmp eq i8 %1, 42
  br i1 %cmp4.not.i, label %return, label %_ZNKSt9type_infoeqERKS_.exit

_ZNKSt9type_infoeqERKS_.exit:                     ; preds = %if.end.i
  %call6.i = tail call i32 @strcmp(ptr noundef nonnull dereferenceable(1) %0, ptr noundef nonnull dereferenceable(24) @_ZTSSt19_Sp_make_shared_tag) #28
  %call6.i.fr = freeze i32 %call6.i
  %cmp7.i = icmp eq i32 %call6.i.fr, 0
  br i1 %cmp7.i, label %_ZNKSt9type_infoeqERKS_.exit.thread, label %return

_ZNKSt9type_infoeqERKS_.exit.thread:              ; preds = %lor.lhs.false, %_ZNKSt9type_infoeqERKS_.exit
  br label %return

return:                                           ; preds = %if.end.i, %_ZNKSt9type_infoeqERKS_.exit.thread, %_ZNKSt9type_infoeqERKS_.exit, %entry
  %retval.0 = phi ptr [ %_M_impl.i, %entry ], [ %_M_impl.i, %_ZNKSt9type_infoeqERKS_.exit.thread ], [ null, %_ZNKSt9type_infoeqERKS_.exit ], [ null, %if.end.i ]
  ret ptr %retval.0
}

declare void @_ZN4fizz26DefaultCertificateVerifier17createAuthoritiesEv(ptr noundef nonnull align 8 dereferenceable(56)) local_unnamed_addr #0

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt10unique_ptrI13x509_store_stN5folly23static_function_deleterIS0_XadL_Z15X509_STORE_freeEEEEED2Ev(ptr noundef nonnull align 8 dereferenceable(8) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %0 = load ptr, ptr %this, align 8
  %cmp.not = icmp eq ptr %0, null
  br i1 %cmp.not, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  invoke void @X509_STORE_free(ptr noundef nonnull %0)
          to label %if.end unwind label %terminate.lpad

if.end:                                           ; preds = %if.then, %entry
  store ptr null, ptr %this, align 8
  ret void

terminate.lpad:                                   ; preds = %if.then
  %1 = landingpad { ptr, i32 }
          catch ptr null
  %2 = extractvalue { ptr, i32 } %1, 0
  tail call void @__clang_call_terminate(ptr %2) #30
  unreachable
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZN4fizz22CertificateAuthoritiesD2Ev(ptr noundef nonnull align 8 dereferenceable(24) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %0 = load ptr, ptr %this, align 8
  %_M_finish.i = getelementptr inbounds %"struct.std::_Vector_base<fizz::DistinguishedName, std::allocator<fizz::DistinguishedName>>::_Vector_impl_data", ptr %this, i64 0, i32 1
  %1 = load ptr, ptr %_M_finish.i, align 8
  %cmp.not3.i.i.i.i = icmp eq ptr %0, %1
  br i1 %cmp.not3.i.i.i.i, label %invoke.cont.i, label %for.body.i.i.i.i

for.body.i.i.i.i:                                 ; preds = %entry, %_ZSt8_DestroyIN4fizz17DistinguishedNameEEvPT_.exit.i.i.i.i
  %__first.addr.04.i.i.i.i = phi ptr [ %incdec.ptr.i.i.i.i, %_ZSt8_DestroyIN4fizz17DistinguishedNameEEvPT_.exit.i.i.i.i ], [ %0, %entry ]
  %2 = load ptr, ptr %__first.addr.04.i.i.i.i, align 8
  %cmp.not.i.i.i.i.i.i.i = icmp eq ptr %2, null
  br i1 %cmp.not.i.i.i.i.i.i.i, label %_ZSt8_DestroyIN4fizz17DistinguishedNameEEvPT_.exit.i.i.i.i, label %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i

_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i: ; preds = %for.body.i.i.i.i
  tail call void @_ZN5folly5IOBufD1Ev(ptr noundef nonnull align 8 dereferenceable(56) %2) #28
  tail call void @_ZN5folly5IOBufdlEPv(ptr noundef nonnull %2) #28
  br label %_ZSt8_DestroyIN4fizz17DistinguishedNameEEvPT_.exit.i.i.i.i

_ZSt8_DestroyIN4fizz17DistinguishedNameEEvPT_.exit.i.i.i.i: ; preds = %_ZNKSt14default_deleteIN5folly5IOBufEEclEPS1_.exit.i.i.i.i.i.i.i, %for.body.i.i.i.i
  store ptr null, ptr %__first.addr.04.i.i.i.i, align 8
  %incdec.ptr.i.i.i.i = getelementptr inbounds %"struct.fizz::DistinguishedName", ptr %__first.addr.04.i.i.i.i, i64 1
  %cmp.not.i.i.i.i = icmp eq ptr %incdec.ptr.i.i.i.i, %1
  br i1 %cmp.not.i.i.i.i, label %invoke.contthread-pre-split.i, label %for.body.i.i.i.i, !llvm.loop !121

invoke.contthread-pre-split.i:                    ; preds = %_ZSt8_DestroyIN4fizz17DistinguishedNameEEvPT_.exit.i.i.i.i
  %.pr.i = load ptr, ptr %this, align 8
  br label %invoke.cont.i

invoke.cont.i:                                    ; preds = %invoke.contthread-pre-split.i, %entry
  %3 = phi ptr [ %.pr.i, %invoke.contthread-pre-split.i ], [ %0, %entry ]
  %tobool.not.i.i.i = icmp eq ptr %3, null
  br i1 %tobool.not.i.i.i, label %_ZNSt6vectorIN4fizz17DistinguishedNameESaIS1_EED2Ev.exit, label %if.then.i.i.i

if.then.i.i.i:                                    ; preds = %invoke.cont.i
  tail call void @_ZdlPv(ptr noundef nonnull %3) #31
  br label %_ZNSt6vectorIN4fizz17DistinguishedNameESaIS1_EED2Ev.exit

_ZNSt6vectorIN4fizz17DistinguishedNameESaIS1_EED2Ev.exit: ; preds = %invoke.cont.i, %if.then.i.i.i
  ret void
}

declare void @X509_STORE_free(ptr noundef) local_unnamed_addr #0

; Function Attrs: mustprogress nofree nounwind willreturn memory(argmem: read)
declare i32 @strcmp(ptr nocapture noundef, ptr nocapture noundef) local_unnamed_addr #22

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EED2Ev(ptr noundef nonnull align 8 dereferenceable(48) %this) unnamed_addr #6 comdat align 2 {
entry:
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EED0Ev(ptr noundef nonnull align 8 dereferenceable(48) %this) unnamed_addr #6 comdat align 2 {
entry:
  tail call void @_ZdlPv(ptr noundef nonnull %this) #31
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE10_M_disposeEv(ptr noundef nonnull align 8 dereferenceable(48) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
entry:
  %_M_impl.i = getelementptr inbounds %"class.std::_Sp_counted_ptr_inplace.598", ptr %this, i64 0, i32 1
  tail call void @_ZNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEED1Ev(ptr noundef nonnull align 8 dereferenceable(32) %_M_impl.i) #28
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr void @_ZNSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE10_M_destroyEv(ptr noundef nonnull align 8 dereferenceable(48) %this) unnamed_addr #6 comdat align 2 personality ptr @__gxx_personality_v0 {
_ZNSt15__allocated_ptrISaISt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EEEED2Ev.exit:
  tail call void @_ZdlPv(ptr noundef nonnull %this) #31
  ret void
}

; Function Attrs: mustprogress nounwind uwtable
define linkonce_odr noundef ptr @_ZNSt23_Sp_counted_ptr_inplaceINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEESaIvELN9__gnu_cxx12_Lock_policyE2EE14_M_get_deleterERKSt9type_info(ptr noundef nonnull align 8 dereferenceable(48) %this, ptr noundef nonnull align 8 dereferenceable(16) %__ti) unnamed_addr #6 comdat align 2 {
entry:
  %_M_impl.i = getelementptr inbounds %"class.std::_Sp_counted_ptr_inplace.598", ptr %this, i64 0, i32 1
  %cmp = icmp eq ptr %__ti, @_ZZNSt19_Sp_make_shared_tag5_S_tiEvE5__tag
  br i1 %cmp, label %return, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %entry
  %__name.i = getelementptr inbounds %"class.std::type_info", ptr %__ti, i64 0, i32 1
  %0 = load ptr, ptr %__name.i, align 8
  %cmp.i = icmp eq ptr %0, @_ZTSSt19_Sp_make_shared_tag
  br i1 %cmp.i, label %_ZNKSt9type_infoeqERKS_.exit.thread, label %if.end.i

if.end.i:                                         ; preds = %lor.lhs.false
  %1 = load i8, ptr %0, align 1
  %cmp4.not.i = icmp eq i8 %1, 42
  br i1 %cmp4.not.i, label %return, label %_ZNKSt9type_infoeqERKS_.exit

_ZNKSt9type_infoeqERKS_.exit:                     ; preds = %if.end.i
  %call6.i = tail call i32 @strcmp(ptr noundef nonnull dereferenceable(1) %0, ptr noundef nonnull dereferenceable(24) @_ZTSSt19_Sp_make_shared_tag) #28
  %call6.i.fr = freeze i32 %call6.i
  %cmp7.i = icmp eq i32 %call6.i.fr, 0
  br i1 %cmp7.i, label %_ZNKSt9type_infoeqERKS_.exit.thread, label %return

_ZNKSt9type_infoeqERKS_.exit.thread:              ; preds = %lor.lhs.false, %_ZNKSt9type_infoeqERKS_.exit
  br label %return

return:                                           ; preds = %if.end.i, %_ZNKSt9type_infoeqERKS_.exit.thread, %_ZNKSt9type_infoeqERKS_.exit, %entry
  %retval.0 = phi ptr [ %_M_impl.i, %entry ], [ %_M_impl.i, %_ZNKSt9type_infoeqERKS_.exit.thread ], [ null, %_ZNKSt9type_infoeqERKS_.exit ], [ null, %if.end.i ]
  ret ptr %retval.0
}

; Function Attrs: uwtable
define internal void @_GLOBAL__sub_I_HTTPConnectorWithFizz.cpp() #13 section ".text.startup" {
entry:
  tail call void @_ZNSt8ios_base4InitC1Ev(ptr noundef nonnull align 1 dereferenceable(1) @_ZStL8__ioinit)
  %0 = tail call i32 @__cxa_atexit(ptr nonnull @_ZNSt8ios_base4InitD1Ev, ptr nonnull @_ZStL8__ioinit, ptr nonnull @__dso_handle) #28
  ret void
}

; Function Attrs: nocallback nofree nosync nounwind speculatable willreturn memory(none)
declare i64 @llvm.umax.i64(i64, i64) #25

; Function Attrs: nocallback nofree nosync nounwind willreturn memory(inaccessiblemem: readwrite)
declare void @llvm.experimental.noalias.scope.decl(metadata) #26

; Function Attrs: nocallback nofree nosync nounwind willreturn memory(argmem: readwrite)
declare void @llvm.lifetime.start.p0(i64 immarg, ptr nocapture) #27

; Function Attrs: nocallback nofree nosync nounwind willreturn memory(argmem: readwrite)
declare void @llvm.lifetime.end.p0(i64 immarg, ptr nocapture) #27

attributes #0 = { "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #1 = { nounwind "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #2 = { nofree nounwind }
attributes #3 = { mustprogress uwtable "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #4 = { noreturn nounwind "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #5 = { mustprogress nocallback nofree nounwind willreturn memory(argmem: write) }
attributes #6 = { mustprogress nounwind uwtable "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #7 = { nobuiltin allocsize(0) "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #8 = { nobuiltin nounwind "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #9 = { mustprogress nocallback nofree nounwind willreturn memory(argmem: readwrite) }
attributes #10 = { noreturn nounwind uwtable "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #11 = { cold mustprogress noreturn uwtable "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #12 = { nofree nounwind memory(read) }
attributes #13 = { uwtable "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #14 = { nounwind uwtable "frame-pointer"="all" "min-legal-vector-width"="0" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #15 = { cold noreturn nounwind memory(inaccessiblemem: write) }
attributes #16 = { noreturn "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #17 = { mustprogress nounwind willreturn allockind("free") memory(argmem: readwrite, inaccessiblemem: readwrite) "alloc-family"="malloc" "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #18 = { nounwind allocsize(0) "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #19 = { nounwind allocsize(1) "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #20 = { mustprogress nofree nounwind willreturn memory(read) "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #21 = { mustprogress nofree nounwind willreturn allockind("alloc,uninitialized") allocsize(0) memory(inaccessiblemem: readwrite) "alloc-family"="malloc" "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #22 = { mustprogress nofree nounwind willreturn memory(argmem: read) "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #23 = { mustprogress nocallback nofree nosync nounwind speculatable willreturn memory(none) }
attributes #24 = { mustprogress nounwind willreturn allockind("realloc") allocsize(1) memory(argmem: readwrite, inaccessiblemem: readwrite) "alloc-family"="malloc" "frame-pointer"="all" "no-trapping-math"="true" "stack-protector-buffer-size"="8" "target-cpu"="x86-64" "target-features"="+cmov,+cx8,+fxsr,+mmx,+sse,+sse2,+x87" "tune-cpu"="generic" }
attributes #25 = { nocallback nofree nosync nounwind speculatable willreturn memory(none) }
attributes #26 = { nocallback nofree nosync nounwind willreturn memory(inaccessiblemem: readwrite) }
attributes #27 = { nocallback nofree nosync nounwind willreturn memory(argmem: readwrite) }
attributes #28 = { nounwind }
attributes #29 = { builtin allocsize(0) }
attributes #30 = { noreturn nounwind }
attributes #31 = { builtin nounwind }
attributes #32 = { cold noreturn }
attributes #33 = { noreturn }
attributes #34 = { nounwind allocsize(0) }
attributes #35 = { nounwind willreturn memory(read) }
attributes #36 = { nounwind allocsize(1) }

!llvm.module.flags = !{!0, !1, !2, !3}

!0 = !{i32 1, !"wchar_size", i32 4}
!1 = !{i32 8, !"PIC Level", i32 2}
!2 = !{i32 7, !"uwtable", i32 2}
!3 = !{i32 7, !"frame-pointer", i32 2}
!4 = distinct !{!4, !5}
!5 = !{!"llvm.loop.mustprogress"}
!6 = !{!7}
!7 = distinct !{!7, !8, !"_ZSt11make_sharedINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEJS5_EESt10shared_ptrINSt9enable_ifIXntsr8is_arrayIT_EE5valueES8_E4typeEEDpOT0_: %agg.result"}
!8 = distinct !{!8, !"_ZSt11make_sharedINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEJS5_EESt10shared_ptrINSt9enable_ifIXntsr8is_arrayIT_EE5valueES8_E4typeEEDpOT0_"}
!9 = !{!10}
!10 = distinct !{!10, !11, !"_ZNK4fizz6client5State6cipherEv: %agg.result"}
!11 = distinct !{!11, !"_ZNK4fizz6client5State6cipherEv"}
!12 = !{!13}
!13 = distinct !{!13, !14, !"_ZSt11make_sharedINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEJS5_EESt10shared_ptrINSt9enable_ifIXntsr8is_arrayIT_EE5valueES8_E4typeEEDpOT0_: %agg.result"}
!14 = distinct !{!14, !"_ZSt11make_sharedINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEJS5_EESt10shared_ptrINSt9enable_ifIXntsr8is_arrayIT_EE5valueES8_E4typeEEDpOT0_"}
!15 = !{!16}
!16 = distinct !{!16, !17, !"_ZNK4fizz6client5State7versionEv: %agg.result"}
!17 = distinct !{!17, !"_ZNK4fizz6client5State7versionEv"}
!18 = !{!19}
!19 = distinct !{!19, !20, !"_ZNK4fizz6client5State7pskTypeEv: %agg.result"}
!20 = distinct !{!20, !"_ZNK4fizz6client5State7pskTypeEv"}
!21 = distinct !{!21, !5}
!22 = !{!23}
!23 = distinct !{!23, !24, !"_ZNK4fizz6client5State10serverCertEv: %agg.result"}
!24 = distinct !{!24, !"_ZNK4fizz6client5State10serverCertEv"}
!25 = !{!26}
!26 = distinct !{!26, !27, !"_ZNK4fizz6client5State10clientCertEv: %agg.result"}
!27 = distinct !{!27, !"_ZNK4fizz6client5State10clientCertEv"}
!28 = !{!29}
!29 = distinct !{!29, !30, !"_ZSt8exchangeISt10unique_ptrIN5folly14AsyncTransportENS1_18DelayedDestruction10DestructorEES5_ET_RS6_OT0_: %agg.result"}
!30 = distinct !{!30, !"_ZSt8exchangeISt10unique_ptrIN5folly14AsyncTransportENS1_18DelayedDestruction10DestructorEES5_ET_RS6_OT0_"}
!31 = !{!32}
!32 = distinct !{!32, !33, !"_ZSt10__exchangeISt10unique_ptrIN5folly14AsyncTransportENS1_18DelayedDestruction10DestructorEES5_ET_RS6_OT0_: %agg.result"}
!33 = distinct !{!33, !"_ZSt10__exchangeISt10unique_ptrIN5folly14AsyncTransportENS1_18DelayedDestruction10DestructorEES5_ET_RS6_OT0_"}
!34 = !{!32, !29}
!35 = !{!36}
!36 = distinct !{!36, !37, !"_ZNK4fizz6client5State6cipherEv: %agg.result"}
!37 = distinct !{!37, !"_ZNK4fizz6client5State6cipherEv"}
!38 = !{!39}
!39 = distinct !{!39, !40, !"_ZNK4fizz6client5State5groupEv: %agg.result"}
!40 = distinct !{!40, !"_ZNK4fizz6client5State5groupEv"}
!41 = !{!42}
!42 = distinct !{!42, !43, !"_ZNK4fizz6client17FizzClientContext6getPskERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE: %agg.result"}
!43 = distinct !{!43, !"_ZNK4fizz6client17FizzClientContext6getPskERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE"}
!44 = distinct !{!44, !5}
!45 = !{!46}
!46 = distinct !{!46, !47, !"_ZSt11make_sharedIN4fizz26DefaultCertificateVerifierEJNS0_19VerificationContextEEESt10shared_ptrINSt9enable_ifIXntsr8is_arrayIT_EE5valueES5_E4typeEEDpOT0_: %agg.result"}
!47 = distinct !{!47, !"_ZSt11make_sharedIN4fizz26DefaultCertificateVerifierEJNS0_19VerificationContextEEESt10shared_ptrINSt9enable_ifIXntsr8is_arrayIT_EE5valueES5_E4typeEEDpOT0_"}
!48 = !{!49}
!49 = distinct !{!49, !50, !"_ZNK4fizz6client17FizzClientContext6getPskERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE: %agg.result"}
!50 = distinct !{!50, !"_ZNK4fizz6client17FizzClientContext6getPskERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE"}
!51 = distinct !{!51, !5}
!52 = distinct !{!52, !5}
!53 = !{!54}
!54 = distinct !{!54, !55, !"_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE5beginEv: %agg.result"}
!55 = distinct !{!55, !"_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE5beginEv"}
!56 = !{!57}
!57 = distinct !{!57, !58, !"_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE3endEv: %agg.result"}
!58 = distinct !{!58, !"_ZNSt5dequeIN4fizz6detail12PendingEventESaIS2_EE3endEv"}
!59 = distinct !{!59, !5}
!60 = distinct !{!60, !5}
!61 = distinct !{!61, !5}
!62 = distinct !{!62, !5}
!63 = distinct !{!63, !5}
!64 = !{!65}
!65 = distinct !{!65, !66, !"_ZNK5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEE11toStdStringB5cxx11Ev: %agg.result"}
!66 = distinct !{!66, !"_ZNK5folly14basic_fbstringIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEE11toStdStringB5cxx11Ev"}
!67 = !{!68}
!68 = distinct !{!68, !69, !"_ZN5folly17exception_wrapper8extract_EONSt15__exception_ptr13exception_ptrE: %agg.result"}
!69 = distinct !{!69, !"_ZN5folly17exception_wrapper8extract_EONSt15__exception_ptr13exception_ptrE"}
!70 = !{!71, !73}
!71 = distinct !{!71, !72, !"_ZN5folly10IOBufQueue11updateGuardEv: %agg.result"}
!72 = distinct !{!72, !"_ZN5folly10IOBufQueue11updateGuardEv"}
!73 = distinct !{!73, !74, !"_ZN5folly10IOBufQueue4moveEv: %agg.result"}
!74 = distinct !{!74, !"_ZN5folly10IOBufQueue4moveEv"}
!75 = !{!73}
!76 = !{!77}
!77 = distinct !{!77, !78, !"_ZSt18make_exception_ptrIN5folly20AsyncSocketExceptionEENSt15__exception_ptr13exception_ptrET_: %agg.result"}
!78 = distinct !{!78, !"_ZSt18make_exception_ptrIN5folly20AsyncSocketExceptionEENSt15__exception_ptr13exception_ptrET_"}
!79 = distinct !{!79, !5}
!80 = distinct !{!80, !5}
!81 = !{!"branch_weights", i32 1, i32 1048575}
!82 = distinct !{!82, !5}
!83 = distinct !{!83, !5}
!84 = distinct !{!84, !5}
!85 = distinct !{!85, !5}
!86 = !{!87}
!87 = distinct !{!87, !88, !"_ZN5folly17exception_wrapper8extract_EONSt15__exception_ptr13exception_ptrE: %agg.result"}
!88 = distinct !{!88, !"_ZN5folly17exception_wrapper8extract_EONSt15__exception_ptr13exception_ptrE"}
!89 = distinct !{!89, !5}
!90 = distinct !{!90, !5}
!91 = !{!92}
!92 = distinct !{!92, !93, !"_ZN5folly17exception_wrapper8extract_EONSt15__exception_ptr13exception_ptrE: %agg.result"}
!93 = distinct !{!93, !"_ZN5folly17exception_wrapper8extract_EONSt15__exception_ptr13exception_ptrE"}
!94 = distinct !{!94, !5}
!95 = !{!96}
!96 = distinct !{!96, !97, !"_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE5beginEv: %agg.result"}
!97 = distinct !{!97, !"_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE5beginEv"}
!98 = !{!99}
!99 = distinct !{!99, !100, !"_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE3endEv: %agg.result"}
!100 = distinct !{!100, !"_ZNSt5dequeIN4fizz8AppWriteESaIS1_EE3endEv"}
!101 = distinct !{!101, !5}
!102 = distinct !{!102, !5}
!103 = distinct !{!103, !5}
!104 = distinct !{!104, !5}
!105 = !{!106}
!106 = distinct !{!106, !107, !"_ZN5follyplIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEEENS_14basic_fbstringIT_T0_T1_T2_EEOSB_PKS7_: %agg.result"}
!107 = distinct !{!107, !"_ZN5follyplIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEEENS_14basic_fbstringIT_T0_T1_T2_EEOSB_PKS7_"}
!108 = !{!109}
!109 = distinct !{!109, !110, !"_ZN5follyplIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEEENS_14basic_fbstringIT_T0_T1_T2_EEOSB_PKS7_: %agg.result"}
!110 = distinct !{!110, !"_ZN5follyplIcSt11char_traitsIcESaIcENS_13fbstring_coreIcEEEENS_14basic_fbstringIT_T0_T1_T2_EEOSB_PKS7_"}
!111 = !{!112}
!112 = distinct !{!112, !113, !"_ZN5folly8demangleERKSt9type_info: %agg.result"}
!113 = distinct !{!113, !"_ZN5folly8demangleERKSt9type_info"}
!114 = distinct !{!114, !5}
!115 = distinct !{!115, !5}
!116 = distinct !{!116, !5}
!117 = distinct !{!117, !5}
!118 = !{!119}
!119 = distinct !{!119, !120, !"_ZNK4fizz6client5State6cipherEv: %agg.result"}
!120 = distinct !{!120, !"_ZNK4fizz6client5State6cipherEv"}
!121 = distinct !{!121, !5}
